!function(e){"use strict";var t,i,n;t=[function(e,t,i){i(1),i(83),i(99),i(100),i(102),i(104),i(105),i(109),i(111),i(114),i(115),i(117),i(121),i(130),i(131),i(135),i(142),i(143),i(145),i(146),i(148),i(149),i(150),i(152),i(153),i(154),i(155),i(156),i(158),i(159),i(160),i(167),i(169),i(170),i(172),i(174),i(184),i(186),i(188),i(190),i(192),i(194),i(196),i(197),i(198),i(202),i(203),i(206),i(207),i(208),i(210),i(211),i(212),i(215),i(217),i(224),i(225),i(227),i(229),i(230),i(231),e.exports=i(232)},function(e,t,i){var n=i(2),s=i(3),r=i(67),o=i(68),a="WebAssembly",l=s[a],d=7!==new Error("e",{cause:7}).cause,u=function(e,t){var i={};i[e]=o(e,t,d),n({global:!0,constructor:!0,arity:1,forced:d},i)},c=function(e,t){if(l&&l[e]){var i={};i[e]=o(a+"."+e,t,d),n({target:a,stat:!0,constructor:!0,arity:1,forced:d},i)}};u("Error",(function(e){return function(t){return r(e,this,arguments)}})),u("EvalError",(function(e){return function(t){return r(e,this,arguments)}})),u("RangeError",(function(e){return function(t){return r(e,this,arguments)}})),u("ReferenceError",(function(e){return function(t){return r(e,this,arguments)}})),u("SyntaxError",(function(e){return function(t){return r(e,this,arguments)}})),u("TypeError",(function(e){return function(t){return r(e,this,arguments)}})),u("URIError",(function(e){return function(t){return r(e,this,arguments)}})),c("CompileError",(function(e){return function(t){return r(e,this,arguments)}})),c("LinkError",(function(e){return function(t){return r(e,this,arguments)}})),c("RuntimeError",(function(e){return function(t){return r(e,this,arguments)}}))},function(t,i,n){var s=n(3),r=n(4).f,o=n(42),a=n(46),l=n(36),d=n(54),u=n(66);t.exports=function(t,i){var n,c,h,p,_,g=t.target,f=t.global,m=t.stat;if(n=f?s:m?s[g]||l(g,{}):s[g]&&s[g].prototype)for(c in i){if(p=i[c],h=t.dontCallGetSet?(_=r(n,c))&&_.value:n[c],!u(f?c:g+(m?".":"#")+c,t.forced)&&h!==e){if(typeof p==typeof h)continue;d(p,h)}(t.sham||h&&h.sham)&&o(p,"sham",!0),a(n,c,p,t)}}},function(e,t,i){var n=function(e){return e&&e.Math===Math&&e};e.exports=n("object"==typeof globalThis&&globalThis)||n("object"==typeof window&&window)||n("object"==typeof self&&self)||n("object"==typeof global&&global)||n("object"==typeof this&&this)||function(){return this}()||Function("return this")()},function(e,t,i){var n=i(5),s=i(7),r=i(9),o=i(10),a=i(11),l=i(17),d=i(37),u=i(40),c=Object.getOwnPropertyDescriptor;t.f=n?c:function(e,t){if(e=a(e),t=l(t),u)try{return c(e,t)}catch(i){}if(d(e,t))return o(!s(r.f,e,t),e[t])}},function(e,t,i){var n=i(6);e.exports=!n((function(){return 7!==Object.defineProperty({},1,{get:function(){return 7}})[1]}))},function(e,t,i){e.exports=function(e){try{return!!e()}catch(t){return!0}}},function(e,t,i){var n=i(8),s=Function.prototype.call;e.exports=n?s.bind(s):function(){return s.apply(s,arguments)}},function(e,t,i){var n=i(6);e.exports=!n((function(){var e=function(){}.bind();return"function"!=typeof e||e.hasOwnProperty("prototype")}))},function(e,t,i){var n={}.propertyIsEnumerable,s=Object.getOwnPropertyDescriptor,r=s&&!n.call({1:2},1);t.f=r?function(e){var t=s(this,e);return!!t&&t.enumerable}:n},function(e,t,i){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t,i){var n=i(12),s=i(15);e.exports=function(e){return n(s(e))}},function(e,t,i){var n=i(13),s=i(6),r=i(14),o=Object,a=n("".split);e.exports=s((function(){return!o("z").propertyIsEnumerable(0)}))?function(e){return"String"===r(e)?a(e,""):o(e)}:o},function(e,t,i){var n=i(8),s=Function.prototype,r=s.call,o=n&&s.bind.bind(r,r);e.exports=n?o:function(e){return function(){return r.apply(e,arguments)}}},function(e,t,i){var n=i(13),s=n({}.toString),r=n("".slice);e.exports=function(e){return r(s(e),8,-1)}},function(e,t,i){var n=i(16),s=TypeError;e.exports=function(e){if(n(e))throw new s("Can't call method on "+e);return e}},function(t,i,n){t.exports=function(t){return null===t||t===e}},function(e,t,i){var n=i(18),s=i(21);e.exports=function(e){var t=n(e,"string");return s(t)?t:t+""}},function(t,i,n){var s=n(7),r=n(19),o=n(21),a=n(28),l=n(31),d=n(32),u=TypeError,c=d("toPrimitive");t.exports=function(t,i){if(!r(t)||o(t))return t;var n,d=a(t,c);if(d){if(i===e&&(i="default"),n=s(d,t,i),!r(n)||o(n))return n;throw new u("Can't convert object to primitive value")}return i===e&&(i="number"),l(t,i)}},function(e,t,i){var n=i(20);e.exports=function(e){return"object"==typeof e?null!==e:n(e)}},function(t,i,n){var s="object"==typeof document&&document.all;t.exports=void 0===s&&s!==e?function(e){return"function"==typeof e||e===s}:function(e){return"function"==typeof e}},function(e,t,i){var n=i(22),s=i(20),r=i(23),o=i(24),a=Object;e.exports=o?function(e){return"symbol"==typeof e}:function(e){var t=n("Symbol");return s(t)&&r(t.prototype,a(e))}},function(t,i,n){var s=n(3),r=n(20);t.exports=function(t,i){return arguments.length<2?(n=s[t],r(n)?n:e):s[t]&&s[t][i];var n}},function(e,t,i){var n=i(13);e.exports=n({}.isPrototypeOf)},function(e,t,i){var n=i(25);e.exports=n&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},function(e,t,i){var n=i(26),s=i(6),r=i(3).String;e.exports=!!Object.getOwnPropertySymbols&&!s((function(){var e=Symbol("symbol detection");return!r(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&n&&n<41}))},function(e,t,i){var n,s,r=i(3),o=i(27),a=r.process,l=r.Deno,d=a&&a.versions||l&&l.version,u=d&&d.v8;u&&(s=(n=u.split("."))[0]>0&&n[0]<4?1:+(n[0]+n[1])),!s&&o&&(!(n=o.match(/Edge\/(\d+)/))||n[1]>=74)&&(n=o.match(/Chrome\/(\d+)/))&&(s=+n[1]),e.exports=s},function(e,t,i){var n=i(3).navigator,s=n&&n.userAgent;e.exports=s?String(s):""},function(t,i,n){var s=n(29),r=n(16);t.exports=function(t,i){var n=t[i];return r(n)?e:s(n)}},function(e,t,i){var n=i(20),s=i(30),r=TypeError;e.exports=function(e){if(n(e))return e;throw new r(s(e)+" is not a function")}},function(e,t,i){var n=String;e.exports=function(e){try{return n(e)}catch(t){return"Object"}}},function(e,t,i){var n=i(7),s=i(20),r=i(19),o=TypeError;e.exports=function(e,t){var i,a;if("string"===t&&s(i=e.toString)&&!r(a=n(i,e)))return a;if(s(i=e.valueOf)&&!r(a=n(i,e)))return a;if("string"!==t&&s(i=e.toString)&&!r(a=n(i,e)))return a;throw new o("Can't convert object to primitive value")}},function(e,t,i){var n=i(3),s=i(33),r=i(37),o=i(39),a=i(25),l=i(24),d=n.Symbol,u=s("wks"),c=l?d.for||d:d&&d.withoutSetter||o;e.exports=function(e){return r(u,e)||(u[e]=a&&r(d,e)?d[e]:c("Symbol."+e)),u[e]}},function(e,t,i){var n=i(34);e.exports=function(e,t){return n[e]||(n[e]=t||{})}},function(e,t,i){var n=i(35),s=i(3),r=i(36),o="__core-js_shared__",a=e.exports=s[o]||r(o,{});(a.versions||(a.versions=[])).push({version:"3.39.0",mode:n?"pure":"global",copyright:"© 2014-2024 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.39.0/LICENSE",source:"https://github.com/zloirock/core-js"})},function(e,t,i){e.exports=!1},function(e,t,i){var n=i(3),s=Object.defineProperty;e.exports=function(e,t){try{s(n,e,{value:t,configurable:!0,writable:!0})}catch(i){n[e]=t}return t}},function(e,t,i){var n=i(13),s=i(38),r=n({}.hasOwnProperty);e.exports=Object.hasOwn||function(e,t){return r(s(e),t)}},function(e,t,i){var n=i(15),s=Object;e.exports=function(e){return s(n(e))}},function(t,i,n){var s=n(13),r=0,o=Math.random(),a=s(1..toString);t.exports=function(t){return"Symbol("+(t===e?"":t)+")_"+a(++r+o,36)}},function(e,t,i){var n=i(5),s=i(6),r=i(41);e.exports=!n&&!s((function(){return 7!==Object.defineProperty(r("div"),"a",{get:function(){return 7}}).a}))},function(e,t,i){var n=i(3),s=i(19),r=n.document,o=s(r)&&s(r.createElement);e.exports=function(e){return o?r.createElement(e):{}}},function(e,t,i){var n=i(5),s=i(43),r=i(10);e.exports=n?function(e,t,i){return s.f(e,t,r(1,i))}:function(e,t,i){return e[t]=i,e}},function(e,t,i){var n=i(5),s=i(40),r=i(44),o=i(45),a=i(17),l=TypeError,d=Object.defineProperty,u=Object.getOwnPropertyDescriptor,c="enumerable",h="configurable",p="writable";t.f=n?r?function(e,t,i){if(o(e),t=a(t),o(i),"function"==typeof e&&"prototype"===t&&"value"in i&&p in i&&!i[p]){var n=u(e,t);n&&n[p]&&(e[t]=i.value,i={configurable:h in i?i[h]:n[h],enumerable:c in i?i[c]:n[c],writable:!1})}return d(e,t,i)}:d:function(e,t,i){if(o(e),t=a(t),o(i),s)try{return d(e,t,i)}catch(n){}if("get"in i||"set"in i)throw new l("Accessors not supported");return"value"in i&&(e[t]=i.value),e}},function(e,t,i){var n=i(5),s=i(6);e.exports=n&&s((function(){return 42!==Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype}))},function(e,t,i){var n=i(19),s=String,r=TypeError;e.exports=function(e){if(n(e))return e;throw new r(s(e)+" is not an object")}},function(t,i,n){var s=n(20),r=n(43),o=n(47),a=n(36);t.exports=function(t,i,n,l){l||(l={});var d=l.enumerable,u=l.name!==e?l.name:i;if(s(n)&&o(n,u,l),l.global)d?t[i]=n:a(i,n);else{try{l.unsafe?t[i]&&(d=!0):delete t[i]}catch(c){}d?t[i]=n:r.f(t,i,{value:n,enumerable:!1,configurable:!l.nonConfigurable,writable:!l.nonWritable})}return t}},function(t,i,n){var s=n(13),r=n(6),o=n(20),a=n(37),l=n(5),d=n(48).CONFIGURABLE,u=n(49),c=n(50),h=c.enforce,p=c.get,_=String,g=Object.defineProperty,f=s("".slice),m=s("".replace),v=s([].join),A=l&&!r((function(){return 8!==g((function(){}),"length",{value:8}).length})),E=String(String).split("String"),T=t.exports=function(t,i,n){"Symbol("===f(_(i),0,7)&&(i="["+m(_(i),/^Symbol\(([^)]*)\).*$/,"$1")+"]"),n&&n.getter&&(i="get "+i),n&&n.setter&&(i="set "+i),(!a(t,"name")||d&&t.name!==i)&&(l?g(t,"name",{value:i,configurable:!0}):t.name=i),A&&n&&a(n,"arity")&&t.length!==n.arity&&g(t,"length",{value:n.arity});try{n&&a(n,"constructor")&&n.constructor?l&&g(t,"prototype",{writable:!1}):t.prototype&&(t.prototype=e)}catch(r){}var s=h(t);return a(s,"source")||(s.source=v(E,"string"==typeof i?i:"")),t};Function.prototype.toString=T((function(){return o(this)&&p(this).source||u(this)}),"toString")},function(e,t,i){var n=i(5),s=i(37),r=Function.prototype,o=n&&Object.getOwnPropertyDescriptor,a=s(r,"name"),l=a&&"something"===function(){}.name,d=a&&(!n||n&&o(r,"name").configurable);e.exports={EXISTS:a,PROPER:l,CONFIGURABLE:d}},function(e,t,i){var n=i(13),s=i(20),r=i(34),o=n(Function.toString);s(r.inspectSource)||(r.inspectSource=function(e){return o(e)}),e.exports=r.inspectSource},function(e,t,i){var n,s,r,o=i(51),a=i(3),l=i(19),d=i(42),u=i(37),c=i(34),h=i(52),p=i(53),_="Object already initialized",g=a.TypeError,f=a.WeakMap;if(o||c.state){var m=c.state||(c.state=new f);m.get=m.get,m.has=m.has,m.set=m.set,n=function(e,t){if(m.has(e))throw new g(_);return t.facade=e,m.set(e,t),t},s=function(e){return m.get(e)||{}},r=function(e){return m.has(e)}}else{var v=h("state");p[v]=!0,n=function(e,t){if(u(e,v))throw new g(_);return t.facade=e,d(e,v,t),t},s=function(e){return u(e,v)?e[v]:{}},r=function(e){return u(e,v)}}e.exports={set:n,get:s,has:r,enforce:function(e){return r(e)?s(e):n(e,{})},getterFor:function(e){return function(t){var i;if(!l(t)||(i=s(t)).type!==e)throw new g("Incompatible receiver, "+e+" required");return i}}}},function(e,t,i){var n=i(3),s=i(20),r=n.WeakMap;e.exports=s(r)&&/native code/.test(String(r))},function(e,t,i){var n=i(33),s=i(39),r=n("keys");e.exports=function(e){return r[e]||(r[e]=s(e))}},function(e,t,i){e.exports={}},function(e,t,i){var n=i(37),s=i(55),r=i(4),o=i(43);e.exports=function(e,t,i){for(var a=s(t),l=o.f,d=r.f,u=0;u<a.length;u++){var c=a[u];n(e,c)||i&&n(i,c)||l(e,c,d(t,c))}}},function(e,t,i){var n=i(22),s=i(13),r=i(56),o=i(65),a=i(45),l=s([].concat);e.exports=n("Reflect","ownKeys")||function(e){var t=r.f(a(e)),i=o.f;return i?l(t,i(e)):t}},function(e,t,i){var n=i(57),s=i(64).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return n(e,s)}},function(e,t,i){var n=i(13),s=i(37),r=i(11),o=i(58).indexOf,a=i(53),l=n([].push);e.exports=function(e,t){var i,n=r(e),d=0,u=[];for(i in n)!s(a,i)&&s(n,i)&&l(u,i);for(;t.length>d;)s(n,i=t[d++])&&(~o(u,i)||l(u,i));return u}},function(e,t,i){var n=i(11),s=i(59),r=i(62),o=function(e){return function(t,i,o){var a=n(t),l=r(a);if(0===l)return!e&&-1;var d,u=s(o,l);if(e&&i!=i){for(;l>u;)if((d=a[u++])!=d)return!0}else for(;l>u;u++)if((e||u in a)&&a[u]===i)return e||u||0;return!e&&-1}};e.exports={includes:o(!0),indexOf:o(!1)}},function(e,t,i){var n=i(60),s=Math.max,r=Math.min;e.exports=function(e,t){var i=n(e);return i<0?s(i+t,0):r(i,t)}},function(e,t,i){var n=i(61);e.exports=function(e){var t=+e;return t!=t||0===t?0:n(t)}},function(e,t,i){var n=Math.ceil,s=Math.floor;e.exports=Math.trunc||function(e){var t=+e;return(t>0?s:n)(t)}},function(e,t,i){var n=i(63);e.exports=function(e){return n(e.length)}},function(e,t,i){var n=i(60),s=Math.min;e.exports=function(e){var t=n(e);return t>0?s(t,9007199254740991):0}},function(e,t,i){e.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},function(e,t,i){t.f=Object.getOwnPropertySymbols},function(e,t,i){var n=i(6),s=i(20),r=/#|\.prototype\./,o=function(e,t){var i=l[a(e)];return i===u||i!==d&&(s(t)?n(t):!!t)},a=o.normalize=function(e){return String(e).replace(r,".").toLowerCase()},l=o.data={},d=o.NATIVE="N",u=o.POLYFILL="P";e.exports=o},function(e,t,i){var n=i(8),s=Function.prototype,r=s.apply,o=s.call;e.exports="object"==typeof Reflect&&Reflect.apply||(n?o.bind(r):function(){return o.apply(r,arguments)})},function(t,i,n){var s=n(22),r=n(37),o=n(42),a=n(23),l=n(69),d=n(54),u=n(73),c=n(74),h=n(75),p=n(79),_=n(80),g=n(5),f=n(35);t.exports=function(t,i,n,m){var v="stackTraceLimit",A=m?2:1,E=t.split("."),T=E[E.length-1],I=s.apply(null,E);if(I){var C=I.prototype;if(!f&&r(C,"cause")&&delete C.cause,!n)return I;var O=s("Error"),M=i((function(t,i){var n=h(m?i:t,e),s=m?new I(t):new I;return n!==e&&o(s,"message",n),_(s,M,s.stack,2),this&&a(C,this)&&c(s,this,M),arguments.length>A&&p(s,arguments[A]),s}));if(M.prototype=C,"Error"!==T?l?l(M,O):d(M,O,{name:!0}):g&&v in I&&(u(M,I,v),u(M,I,"prepareStackTrace")),d(M,I),!f)try{C.name!==T&&o(C,"name",T),C.constructor=M}catch(y){}return M}}},function(t,i,n){var s=n(70),r=n(19),o=n(15),a=n(71);t.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,i={};try{(e=s(Object.prototype,"__proto__","set"))(i,[]),t=i instanceof Array}catch(n){}return function(i,n){return o(i),a(n),r(i)?(t?e(i,n):i.__proto__=n,i):i}}():e)},function(e,t,i){var n=i(13),s=i(29);e.exports=function(e,t,i){try{return n(s(Object.getOwnPropertyDescriptor(e,t)[i]))}catch(r){}}},function(e,t,i){var n=i(72),s=String,r=TypeError;e.exports=function(e){if(n(e))return e;throw new r("Can't set "+s(e)+" as a prototype")}},function(e,t,i){var n=i(19);e.exports=function(e){return n(e)||null===e}},function(e,t,i){var n=i(43).f;e.exports=function(e,t,i){i in e||n(e,i,{configurable:!0,get:function(){return t[i]},set:function(e){t[i]=e}})}},function(e,t,i){var n=i(20),s=i(19),r=i(69);e.exports=function(e,t,i){var o,a;return r&&n(o=t.constructor)&&o!==i&&s(a=o.prototype)&&a!==i.prototype&&r(e,a),e}},function(t,i,n){var s=n(76);t.exports=function(t,i){return t===e?arguments.length<2?"":i:s(t)}},function(e,t,i){var n=i(77),s=String;e.exports=function(e){if("Symbol"===n(e))throw new TypeError("Cannot convert a Symbol value to a string");return s(e)}},function(t,i,n){var s=n(78),r=n(20),o=n(14),a=n(32)("toStringTag"),l=Object,d="Arguments"===o(function(){return arguments}());t.exports=s?o:function(t){var i,n,s;return t===e?"Undefined":null===t?"Null":"string"==typeof(n=function(e,t){try{return e[t]}catch(i){}}(i=l(t),a))?n:d?o(i):"Object"===(s=o(i))&&r(i.callee)?"Arguments":s}},function(e,t,i){var n={};n[i(32)("toStringTag")]="z",e.exports="[object z]"===String(n)},function(e,t,i){var n=i(19),s=i(42);e.exports=function(e,t){n(t)&&"cause"in t&&s(e,"cause",t.cause)}},function(e,t,i){var n=i(42),s=i(81),r=i(82),o=Error.captureStackTrace;e.exports=function(e,t,i,a){r&&(o?o(e,t):n(e,"stack",s(i,a)))}},function(e,t,i){var n=i(13),s=Error,r=n("".replace),o=String(new s("zxcasd").stack),a=/\n\s*at [^:]*:[^\n]*/,l=a.test(o);e.exports=function(e,t){if(l&&"string"==typeof e&&!s.prepareStackTrace)for(;t--;)e=r(e,a,"");return e}},function(e,t,i){var n=i(6),s=i(10);e.exports=!n((function(){var e=new Error("a");return!("stack"in e)||(Object.defineProperty(e,"stack",s(1,7)),7!==e.stack)}))},function(e,t,i){i(84)},function(t,i,n){var s=n(2),r=n(23),o=n(85),a=n(69),l=n(54),d=n(87),u=n(42),c=n(10),h=n(79),p=n(80),_=n(91),g=n(75),f=n(32)("toStringTag"),m=Error,v=[].push,A=function(t,i){var n,s=r(E,this);a?n=a(new m,s?o(this):E):(n=s?this:d(E),u(n,f,"Error")),i!==e&&u(n,"message",g(i)),p(n,A,n.stack,1),arguments.length>2&&h(n,arguments[2]);var l=[];return _(t,v,{that:l}),u(n,"errors",l),n};a?a(A,m):l(A,m,{name:!0});var E=A.prototype=d(m.prototype,{constructor:c(1,A),message:c(1,""),name:c(1,"AggregateError")});s({global:!0,constructor:!0,arity:2},{AggregateError:A})},function(e,t,i){var n=i(37),s=i(20),r=i(38),o=i(52),a=i(86),l=o("IE_PROTO"),d=Object,u=d.prototype;e.exports=a?d.getPrototypeOf:function(e){var t=r(e);if(n(t,l))return t[l];var i=t.constructor;return s(i)&&t instanceof i?i.prototype:t instanceof d?u:null}},function(e,t,i){var n=i(6);e.exports=!n((function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}))},function(t,i,n){var s,r=n(45),o=n(88),a=n(64),l=n(53),d=n(90),u=n(41),c=n(52),h="prototype",p="script",_=c("IE_PROTO"),g=function(){},f=function(e){return"<"+p+">"+e+"</"+p+">"},m=function(e){e.write(f("")),e.close();var t=e.parentWindow.Object;return e=null,t},v=function(){try{s=new ActiveXObject("htmlfile")}catch(r){}var e,t,i;v="undefined"!=typeof document?document.domain&&s?m(s):(t=u("iframe"),i="java"+p+":",t.style.display="none",d.appendChild(t),t.src=String(i),(e=t.contentWindow.document).open(),e.write(f("document.F=Object")),e.close(),e.F):m(s);for(var n=a.length;n--;)delete v[h][a[n]];return v()};l[_]=!0,t.exports=Object.create||function(t,i){var n;return null!==t?(g[h]=r(t),n=new g,g[h]=null,n[_]=t):n=v(),i===e?n:o.f(n,i)}},function(e,t,i){var n=i(5),s=i(44),r=i(43),o=i(45),a=i(11),l=i(89);t.f=n&&!s?Object.defineProperties:function(e,t){o(e);for(var i,n=a(t),s=l(t),d=s.length,u=0;d>u;)r.f(e,i=s[u++],n[i]);return e}},function(e,t,i){var n=i(57),s=i(64);e.exports=Object.keys||function(e){return n(e,s)}},function(e,t,i){var n=i(22);e.exports=n("document","documentElement")},function(e,t,i){var n=i(92),s=i(7),r=i(45),o=i(30),a=i(94),l=i(62),d=i(23),u=i(96),c=i(97),h=i(98),p=TypeError,_=function(e,t){this.stopped=e,this.result=t},g=_.prototype;e.exports=function(e,t,i){var f,m,v,A,E,T,I,C=i&&i.that,O=!(!i||!i.AS_ENTRIES),M=!(!i||!i.IS_RECORD),y=!(!i||!i.IS_ITERATOR),b=!(!i||!i.INTERRUPTED),S=n(t,C),D=function(e){return f&&h(f,"normal",e),new _(!0,e)},w=function(e){return O?(r(e),b?S(e[0],e[1],D):S(e[0],e[1])):b?S(e,D):S(e)};if(M)f=e.iterator;else if(y)f=e;else{if(!(m=c(e)))throw new p(o(e)+" is not iterable");if(a(m)){for(v=0,A=l(e);A>v;v++)if((E=w(e[v]))&&d(g,E))return E;return new _(!1)}f=u(e,m)}for(T=M?e.next:f.next;!(I=s(T,f)).done;){try{E=w(I.value)}catch(L){h(f,"throw",L)}if("object"==typeof E&&E&&d(g,E))return E}return new _(!1)}},function(t,i,n){var s=n(93),r=n(29),o=n(8),a=s(s.bind);t.exports=function(t,i){return r(t),i===e?t:o?a(t,i):function(){return t.apply(i,arguments)}}},function(e,t,i){var n=i(14),s=i(13);e.exports=function(e){if("Function"===n(e))return s(e)}},function(t,i,n){var s=n(32),r=n(95),o=s("iterator"),a=Array.prototype;t.exports=function(t){return t!==e&&(r.Array===t||a[o]===t)}},function(e,t,i){e.exports={}},function(e,t,i){var n=i(7),s=i(29),r=i(45),o=i(30),a=i(97),l=TypeError;e.exports=function(e,t){var i=arguments.length<2?a(e):t;if(s(i))return r(n(i,e));throw new l(o(e)+" is not iterable")}},function(e,t,i){var n=i(77),s=i(28),r=i(16),o=i(95),a=i(32)("iterator");e.exports=function(e){if(!r(e))return s(e,a)||s(e,"@@iterator")||o[n(e)]}},function(e,t,i){var n=i(7),s=i(45),r=i(28);e.exports=function(e,t,i){var o,a;s(e);try{if(!(o=r(e,"return"))){if("throw"===t)throw i;return i}o=n(o,e)}catch(l){a=!0,o=l}if("throw"===t)throw i;if(a)throw o;return s(o),i}},function(e,t,i){var n=i(2),s=i(22),r=i(67),o=i(6),a=i(68),l="AggregateError",d=s(l),u=!o((function(){return 1!==d([1]).errors[0]}))&&o((function(){return 7!==d([1],l,{cause:7}).cause}));n({global:!0,constructor:!0,arity:2,forced:u},{AggregateError:a(l,(function(e){return function(t,i){return r(e,this,arguments)}}),u,!0)})},function(t,i,n){var s=n(2),r=n(38),o=n(62),a=n(60),l=n(101);s({target:"Array",proto:!0},{at:function(t){var i=r(this),n=o(i),s=a(t),l=s>=0?s:n+s;return l<0||l>=n?e:i[l]}}),l("at")},function(t,i,n){var s=n(32),r=n(87),o=n(43).f,a=s("unscopables"),l=Array.prototype;l[a]===e&&o(l,a,{configurable:!0,value:r(null)}),t.exports=function(e){l[a][e]=!0}},function(t,i,n){var s=n(2),r=n(103).findLast,o=n(101);s({target:"Array",proto:!0},{findLast:function(t){return r(this,t,arguments.length>1?arguments[1]:e)}}),o("findLast")},function(t,i,n){var s=n(92),r=n(12),o=n(38),a=n(62),l=function(t){var i=1===t;return function(n,l,d){for(var u,c=o(n),h=r(c),p=a(h),_=s(l,d);p-- >0;)if(_(u=h[p],p,c))switch(t){case 0:return u;case 1:return p}return i?-1:e}};t.exports={findLast:l(0),findLastIndex:l(1)}},function(t,i,n){var s=n(2),r=n(103).findLastIndex,o=n(101);s({target:"Array",proto:!0},{findLastIndex:function(t){return r(this,t,arguments.length>1?arguments[1]:e)}}),o("findLastIndex")},function(e,t,i){var n=i(2),s=i(38),r=i(62),o=i(106),a=i(108);n({target:"Array",proto:!0,arity:1,forced:i(6)((function(){return 4294967297!==[].push.call({length:4294967296},1)}))||!function(){try{Object.defineProperty([],"length",{writable:!1}).push()}catch(e){return e instanceof TypeError}}()},{push:function(e){var t=s(this),i=r(t),n=arguments.length;a(i+n);for(var l=0;l<n;l++)t[i]=arguments[l],i++;return o(t,i),i}})},function(t,i,n){var s=n(5),r=n(107),o=TypeError,a=Object.getOwnPropertyDescriptor,l=s&&!function(){if(this!==e)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(t){return t instanceof TypeError}}();t.exports=l?function(e,t){if(r(e)&&!a(e,"length").writable)throw new o("Cannot set read only .length");return e.length=t}:function(e,t){return e.length=t}},function(e,t,i){var n=i(14);e.exports=Array.isArray||function(e){return"Array"===n(e)}},function(e,t,i){var n=TypeError;e.exports=function(e){if(e>9007199254740991)throw n("Maximum allowed index exceeded");return e}},function(e,t,i){var n=i(2),s=i(110),r=i(11),o=i(101),a=Array;n({target:"Array",proto:!0},{toReversed:function(){return s(r(this),a)}}),o("toReversed")},function(e,t,i){var n=i(62);e.exports=function(e,t){for(var i=n(e),s=new t(i),r=0;r<i;r++)s[r]=e[i-r-1];return s}},function(t,i,n){var s=n(2),r=n(13),o=n(29),a=n(11),l=n(112),d=n(113),u=n(101),c=Array,h=r(d("Array","sort"));s({target:"Array",proto:!0},{toSorted:function(t){t!==e&&o(t);var i=a(this),n=l(c,i);return h(n,t)}}),u("toSorted")},function(e,t,i){var n=i(62);e.exports=function(e,t,i){for(var s=0,r=arguments.length>2?i:n(t),o=new e(r);r>s;)o[s]=t[s++];return o}},function(e,t,i){var n=i(3);e.exports=function(e,t){var i=n[e],s=i&&i.prototype;return s&&s[t]}},function(e,t,i){var n=i(2),s=i(101),r=i(108),o=i(62),a=i(59),l=i(11),d=i(60),u=Array,c=Math.max,h=Math.min;n({target:"Array",proto:!0},{toSpliced:function(e,t){var i,n,s,p,_=l(this),g=o(_),f=a(e,g),m=arguments.length,v=0;for(0===m?i=n=0:1===m?(i=0,n=g-f):(i=m-2,n=h(c(d(t),0),g-f)),s=r(g+i-n),p=u(s);v<f;v++)p[v]=_[v];for(;v<f+i;v++)p[v]=arguments[v-f+2];for(;v<s;v++)p[v]=_[v+n-i];return p}}),s("toSpliced")},function(e,t,i){var n=i(2),s=i(116),r=i(11),o=Array;n({target:"Array",proto:!0},{with:function(e,t){return s(r(this),o,e,t)}})},function(e,t,i){var n=i(62),s=i(60),r=RangeError;e.exports=function(e,t,i,o){var a=n(e),l=s(i),d=l<0?a+l:l;if(d>=a||d<0)throw new r("Incorrect index");for(var u=new t(a),c=0;c<a;c++)u[c]=c===d?o:e[c];return u}},function(e,t,i){var n=i(5),s=i(118),r=i(119),o=ArrayBuffer.prototype;n&&!("detached"in o)&&s(o,"detached",{configurable:!0,get:function(){return r(this)}})},function(e,t,i){var n=i(47),s=i(43);e.exports=function(e,t,i){return i.get&&n(i.get,t,{getter:!0}),i.set&&n(i.set,t,{setter:!0}),s.f(e,t,i)}},function(e,t,i){var n=i(3),s=i(93),r=i(120),o=n.ArrayBuffer,a=o&&o.prototype,l=a&&s(a.slice);e.exports=function(e){if(0!==r(e))return!1;if(!l)return!1;try{return l(e,0,0),!1}catch(t){return!0}}},function(e,t,i){var n=i(3),s=i(70),r=i(14),o=n.ArrayBuffer,a=n.TypeError;e.exports=o&&s(o.prototype,"byteLength","get")||function(e){if("ArrayBuffer"!==r(e))throw new a("ArrayBuffer expected");return e.byteLength}},function(t,i,n){var s=n(2),r=n(122);r&&s({target:"ArrayBuffer",proto:!0},{transfer:function(){return r(this,arguments.length?arguments[0]:e,!0)}})},function(t,i,n){var s=n(3),r=n(13),o=n(70),a=n(123),l=n(124),d=n(120),u=n(125),c=n(129),h=s.structuredClone,p=s.ArrayBuffer,_=s.DataView,g=Math.min,f=p.prototype,m=_.prototype,v=r(f.slice),A=o(f,"resizable","get"),E=o(f,"maxByteLength","get"),T=r(m.getInt8),I=r(m.setInt8);t.exports=(c||u)&&function(t,i,n){var s,r=d(t),o=i===e?r:a(i),f=!A||!A(t);if(l(t),c&&(t=h(t,{transfer:[t]}),r===o&&(n||f)))return t;if(r>=o&&(!n||f))s=v(t,0,o);else{var m=n&&!f&&E?{maxByteLength:E(t)}:e;s=new p(o,m);for(var C=new _(t),O=new _(s),M=g(o,r),y=0;y<M;y++)I(O,y,T(C,y))}return c||u(t),s}},function(t,i,n){var s=n(60),r=n(63),o=RangeError;t.exports=function(t){if(t===e)return 0;var i=s(t),n=r(i);if(i!==n)throw new o("Wrong length or index");return n}},function(e,t,i){var n=i(119),s=TypeError;e.exports=function(e){if(n(e))throw new s("ArrayBuffer is detached");return e}},function(e,t,i){var n,s,r,o,a=i(3),l=i(126),d=i(129),u=a.structuredClone,c=a.ArrayBuffer,h=a.MessageChannel,p=!1;if(d)p=function(e){u(e,{transfer:[e]})};else if(c)try{h||(n=l("worker_threads"))&&(h=n.MessageChannel),h&&(s=new h,r=new c(2),o=function(e){s.port1.postMessage(null,[e])},2===r.byteLength&&(o(r),0===r.byteLength&&(p=o)))}catch(_){}e.exports=p},function(e,t,i){var n=i(3),s=i(127);e.exports=function(e){if(s){try{return n.process.getBuiltinModule(e)}catch(t){}try{return Function('return require("'+e+'")')()}catch(t){}}}},function(e,t,i){var n=i(128);e.exports="NODE"===n},function(e,t,i){var n=i(3),s=i(27),r=i(14),o=function(e){return s.slice(0,e.length)===e};e.exports=o("Bun/")?"BUN":o("Cloudflare-Workers")?"CLOUDFLARE":o("Deno/")?"DENO":o("Node.js/")?"NODE":n.Bun&&"string"==typeof Bun.version?"BUN":n.Deno&&"object"==typeof Deno.version?"DENO":"process"===r(n.process)?"NODE":n.window&&n.document?"BROWSER":"REST"},function(e,t,i){var n=i(3),s=i(6),r=i(26),o=i(128),a=n.structuredClone;e.exports=!!a&&!s((function(){if("DENO"===o&&r>92||"NODE"===o&&r>94||"BROWSER"===o&&r>97)return!1;var e=new ArrayBuffer(8),t=a(e,{transfer:[e]});return 0!==e.byteLength||8!==t.byteLength}))},function(t,i,n){var s=n(2),r=n(122);r&&s({target:"ArrayBuffer",proto:!0},{transferToFixedLength:function(){return r(this,arguments.length?arguments[0]:e,!1)}})},function(e,t,i){var n=i(2),s=i(3),r=i(132),o=i(45),a=i(20),l=i(85),d=i(118),u=i(133),c=i(6),h=i(37),p=i(32),_=i(134).IteratorPrototype,g=i(5),f=i(35),m="constructor",v="Iterator",A=p("toStringTag"),E=TypeError,T=s[v],I=f||!a(T)||T.prototype!==_||!c((function(){T({})})),C=function(){if(r(this,_),l(this)===_)throw new E("Abstract class Iterator not directly constructable")},O=function(e,t){g?d(_,e,{configurable:!0,get:function(){return t},set:function(t){if(o(this),this===_)throw new E("You can't redefine this property");h(this,e)?this[e]=t:u(this,e,t)}}):_[e]=t};h(_,A)||O(A,v),!I&&h(_,m)&&_[m]!==Object||O(m,C),C.prototype=_,n({global:!0,constructor:!0,forced:I},{Iterator:C})},function(e,t,i){var n=i(23),s=TypeError;e.exports=function(e,t){if(n(t,e))return e;throw new s("Incorrect invocation")}},function(e,t,i){var n=i(5),s=i(43),r=i(10);e.exports=function(e,t,i){n?s.f(e,t,r(0,i)):e[t]=i}},function(e,t,i){var n,s,r,o=i(6),a=i(20),l=i(19),d=i(87),u=i(85),c=i(46),h=i(32),p=i(35),_=h("iterator"),g=!1;[].keys&&("next"in(r=[].keys())?(s=u(u(r)))!==Object.prototype&&(n=s):g=!0),!l(n)||o((function(){var e={};return n[_].call(e)!==e}))?n={}:p&&(n=d(n)),a(n[_])||c(n,_,(function(){return this})),e.exports={IteratorPrototype:n,BUGGY_SAFARI_ITERATORS:g}},function(e,t,i){var n=i(2),s=i(7),r=i(45),o=i(136),a=i(137),l=i(138),d=i(139),u=i(35),c=d((function(){for(var e,t=this.iterator,i=this.next;this.remaining;)if(this.remaining--,e=r(s(i,t)),this.done=!!e.done)return;if(e=r(s(i,t)),!(this.done=!!e.done))return e.value}));n({target:"Iterator",proto:!0,real:!0,forced:u},{drop:function(e){r(this);var t=l(a(+e));return new c(o(this),{remaining:t})}})},function(e,t,i){e.exports=function(e){return{iterator:e,next:e.next,done:!1}}},function(e,t,i){var n=RangeError;e.exports=function(e){if(e==e)return e;throw new n("NaN is not allowed")}},function(e,t,i){var n=i(60),s=RangeError;e.exports=function(e){var t=n(e);if(t<0)throw new s("The argument can't be less than 0");return t}},function(t,i,n){var s=n(7),r=n(87),o=n(42),a=n(140),l=n(32),d=n(50),u=n(28),c=n(134).IteratorPrototype,h=n(141),p=n(98),_=l("toStringTag"),g="IteratorHelper",f="WrapForValidIterator",m=d.set,v=function(t){var i=d.getterFor(t?f:g);return a(r(c),{next:function(){var n=i(this);if(t)return n.nextHandler();try{var s=n.done?e:n.nextHandler();return h(s,n.done)}catch(r){throw n.done=!0,r}},return:function(){var n=i(this),r=n.iterator;if(n.done=!0,t){var o=u(r,"return");return o?s(o,r):h(e,!0)}if(n.inner)try{p(n.inner.iterator,"normal")}catch(a){return p(r,"throw",a)}return r&&p(r,"normal"),h(e,!0)}})},A=v(!0),E=v(!1);o(E,_,"Iterator Helper"),t.exports=function(e,t){var i=function(i,n){n?(n.iterator=i.iterator,n.next=i.next):n=i,n.type=t?f:g,n.nextHandler=e,n.counter=0,n.done=!1,m(this,n)};return i.prototype=t?A:E,i}},function(e,t,i){var n=i(46);e.exports=function(e,t,i){for(var s in t)n(e,s,t[s],i);return e}},function(e,t,i){e.exports=function(e,t){return{value:e,done:t}}},function(e,t,i){var n=i(2),s=i(91),r=i(29),o=i(45),a=i(136);n({target:"Iterator",proto:!0,real:!0},{every:function(e){o(this),r(e);var t=a(this),i=0;return!s(t,(function(t,n){if(!e(t,i++))return n()}),{IS_RECORD:!0,INTERRUPTED:!0}).stopped}})},function(e,t,i){var n=i(2),s=i(7),r=i(29),o=i(45),a=i(136),l=i(139),d=i(144),u=i(35),c=l((function(){for(var e,t,i=this.iterator,n=this.predicate,r=this.next;;){if(e=o(s(r,i)),this.done=!!e.done)return;if(t=e.value,d(i,n,[t,this.counter++],!0))return t}}));n({target:"Iterator",proto:!0,real:!0,forced:u},{filter:function(e){return o(this),r(e),new c(a(this),{predicate:e})}})},function(e,t,i){var n=i(45),s=i(98);e.exports=function(e,t,i,r){try{return r?t(n(i)[0],i[1]):t(i)}catch(o){s(e,"throw",o)}}},function(e,t,i){var n=i(2),s=i(91),r=i(29),o=i(45),a=i(136);n({target:"Iterator",proto:!0,real:!0},{find:function(e){o(this),r(e);var t=a(this),i=0;return s(t,(function(t,n){if(e(t,i++))return n(t)}),{IS_RECORD:!0,INTERRUPTED:!0}).result}})},function(e,t,i){var n=i(2),s=i(7),r=i(29),o=i(45),a=i(136),l=i(147),d=i(139),u=i(98),c=i(35),h=d((function(){for(var e,t,i=this.iterator,n=this.mapper;;){if(t=this.inner)try{if(!(e=o(s(t.next,t.iterator))).done)return e.value;this.inner=null}catch(r){u(i,"throw",r)}if(e=o(s(this.next,i)),this.done=!!e.done)return;try{this.inner=l(n(e.value,this.counter++),!1)}catch(r){u(i,"throw",r)}}}));n({target:"Iterator",proto:!0,real:!0,forced:c},{flatMap:function(e){return o(this),r(e),new h(a(this),{mapper:e,inner:null})}})},function(t,i,n){var s=n(7),r=n(45),o=n(136),a=n(97);t.exports=function(t,i){i&&"string"==typeof t||r(t);var n=a(t);return o(r(n!==e?s(n,t):t))}},function(e,t,i){var n=i(2),s=i(91),r=i(29),o=i(45),a=i(136);n({target:"Iterator",proto:!0,real:!0},{forEach:function(e){o(this),r(e);var t=a(this),i=0;s(t,(function(t){e(t,i++)}),{IS_RECORD:!0})}})},function(e,t,i){var n=i(2),s=i(7),r=i(38),o=i(23),a=i(134).IteratorPrototype,l=i(139),d=i(147),u=i(35),c=l((function(){return s(this.next,this.iterator)}),!0);n({target:"Iterator",stat:!0,forced:u},{from:function(e){var t=d("string"==typeof e?r(e):e,!0);return o(a,t.iterator)?t.iterator:new c(t)}})},function(e,t,i){var n=i(2),s=i(151);n({target:"Iterator",proto:!0,real:!0,forced:i(35)},{map:s})},function(e,t,i){var n=i(7),s=i(29),r=i(45),o=i(136),a=i(139),l=i(144),d=a((function(){var e=this.iterator,t=r(n(this.next,e));if(!(this.done=!!t.done))return l(e,this.mapper,[t.value,this.counter++],!0)}));e.exports=function(e){return r(this),s(e),new d(o(this),{mapper:e})}},function(t,i,n){var s=n(2),r=n(91),o=n(29),a=n(45),l=n(136),d=TypeError;s({target:"Iterator",proto:!0,real:!0},{reduce:function(t){a(this),o(t);var i=l(this),n=arguments.length<2,s=n?e:arguments[1],u=0;if(r(i,(function(e){n?(n=!1,s=e):s=t(s,e,u),u++}),{IS_RECORD:!0}),n)throw new d("Reduce of empty iterator with no initial value");return s}})},function(e,t,i){var n=i(2),s=i(91),r=i(29),o=i(45),a=i(136);n({target:"Iterator",proto:!0,real:!0},{some:function(e){o(this),r(e);var t=a(this),i=0;return s(t,(function(t,n){if(e(t,i++))return n()}),{IS_RECORD:!0,INTERRUPTED:!0}).stopped}})},function(t,i,n){var s=n(2),r=n(7),o=n(45),a=n(136),l=n(137),d=n(138),u=n(139),c=n(98),h=n(35),p=u((function(){var t=this.iterator;if(!this.remaining--)return this.done=!0,c(t,"normal",e);var i=o(r(this.next,t));return(this.done=!!i.done)?void 0:i.value}));s({target:"Iterator",proto:!0,real:!0,forced:h},{take:function(e){o(this);var t=d(l(+e));return new p(a(this),{remaining:t})}})},function(e,t,i){var n=i(2),s=i(45),r=i(91),o=i(136),a=[].push;n({target:"Iterator",proto:!0,real:!0},{toArray:function(){var e=[];return r(o(s(this)),a,{that:e,IS_RECORD:!0}),e}})},function(e,t,i){var n=i(2),s=i(13),r=i(29),o=i(15),a=i(91),l=i(157),d=i(35),u=i(6),c=l.Map,h=l.has,p=l.get,_=l.set,g=s([].push),f=d||u((function(){return 1!==c.groupBy("ab",(function(e){return e})).get("a").length}));n({target:"Map",stat:!0,forced:d||f},{groupBy:function(e,t){o(e),r(t);var i=new c,n=0;return a(e,(function(e){var s=t(e,n++);h(i,s)?g(p(i,s),e):_(i,s,[e])})),i}})},function(e,t,i){var n=i(13),s=Map.prototype;e.exports={Map:Map,set:n(s.set),get:n(s.get),has:n(s.has),remove:n(s.delete),proto:s}},function(e,t,i){var n=i(2),s=i(22),r=i(13),o=i(29),a=i(15),l=i(17),d=i(91),u=i(6),c=Object.groupBy,h=s("Object","create"),p=r([].push);n({target:"Object",stat:!0,forced:!c||u((function(){return 1!==c("ab",(function(e){return e})).a.length}))},{groupBy:function(e,t){a(e),o(t);var i=h(null),n=0;return d(e,(function(e){var s=l(t(e,n++));s in i?p(i[s],e):i[s]=[e]})),i}})},function(e,t,i){i(2)({target:"Object",stat:!0},{hasOwn:i(37)})},function(e,t,i){var n=i(2),s=i(7),r=i(29),o=i(22),a=i(161),l=i(162),d=i(91),u=i(163),c="No one promise resolved";n({target:"Promise",stat:!0,forced:u},{any:function(e){var t=this,i=o("AggregateError"),n=a.f(t),u=n.resolve,h=n.reject,p=l((function(){var n=r(t.resolve),o=[],a=0,l=1,p=!1;d(e,(function(e){var r=a++,d=!1;l++,s(n,t,e).then((function(e){d||p||(p=!0,u(e))}),(function(e){d||p||(d=!0,o[r]=e,--l||h(new i(o,c)))}))})),--l||h(new i(o,c))}));return p.error&&h(p.value),n.promise}})},function(t,i,n){var s=n(29),r=TypeError,o=function(t){var i,n;this.promise=new t((function(t,s){if(i!==e||n!==e)throw new r("Bad Promise constructor");i=t,n=s})),this.resolve=s(i),this.reject=s(n)};t.exports.f=function(e){return new o(e)}},function(e,t,i){e.exports=function(e){try{return{error:!1,value:e()}}catch(t){return{error:!0,value:t}}}},function(t,i,n){var s=n(164),r=n(165),o=n(166).CONSTRUCTOR;t.exports=o||!r((function(t){s.all(t).then(e,(function(){}))}))},function(e,t,i){var n=i(3);e.exports=n.Promise},function(e,t,i){var n=i(32)("iterator"),s=!1;try{var r=0,o={next:function(){return{done:!!r++}},return:function(){s=!0}};o[n]=function(){return this},Array.from(o,(function(){throw 2}))}catch(a){}e.exports=function(e,t){try{if(!t&&!s)return!1}catch(a){return!1}var i=!1;try{var r={};r[n]=function(){return{next:function(){return{done:i=!0}}}},e(r)}catch(a){}return i}},function(e,t,i){var n=i(3),s=i(164),r=i(20),o=i(66),a=i(49),l=i(32),d=i(128),u=i(35),c=i(26),h=s&&s.prototype,p=l("species"),_=!1,g=r(n.PromiseRejectionEvent),f=o("Promise",(function(){var e=a(s),t=e!==String(s);if(!t&&66===c)return!0;if(u&&(!h.catch||!h.finally))return!0;if(!c||c<51||!/native code/.test(e)){var i=new s((function(e){e(1)})),n=function(e){e((function(){}),(function(){}))};if((i.constructor={})[p]=n,!(_=i.then((function(){}))instanceof n))return!0}return!(t||"BROWSER"!==d&&"DENO"!==d||g)}));e.exports={CONSTRUCTOR:f,REJECTION_EVENT:g,SUBCLASSING:_}},function(t,i,n){var s=n(2),r=n(3),o=n(67),a=n(168),l=n(161),d=n(29),u=n(162),c=r.Promise,h=!1;s({target:"Promise",stat:!0,forced:!c||!c.try||u((function(){c.try((function(e){h=8===e}),8)})).error||!h},{try:function(t){var i=arguments.length>1?a(arguments,1):[],n=l.f(this),s=u((function(){return o(d(t),e,i)}));return(s.error?n.reject:n.resolve)(s.value),n.promise}})},function(e,t,i){var n=i(13);e.exports=n([].slice)},function(e,t,i){var n=i(2),s=i(161);n({target:"Promise",stat:!0},{withResolvers:function(){var e=s.f(this);return{promise:e.promise,resolve:e.resolve,reject:e.reject}}})},function(e,t,i){var n=i(2),s=i(3),r=i(171);n({global:!0},{Reflect:{}}),r(s.Reflect,"Reflect",!0)},function(e,t,i){var n=i(43).f,s=i(37),r=i(32)("toStringTag");e.exports=function(e,t,i){e&&!i&&(e=e.prototype),e&&!s(e,r)&&n(e,r,{configurable:!0,value:t})}},function(e,t,i){var n=i(3),s=i(5),r=i(118),o=i(173),a=i(6),l=n.RegExp,d=l.prototype;s&&a((function(){var e=!0;try{l(".","d")}catch(a){e=!1}var t={},i="",n=e?"dgimsy":"gimsy",s=function(e,n){Object.defineProperty(t,e,{get:function(){return i+=n,!0}})},r={dotAll:"s",global:"g",ignoreCase:"i",multiline:"m",sticky:"y"};for(var o in e&&(r.hasIndices="d"),r)s(o,r[o]);return Object.getOwnPropertyDescriptor(d,"flags").get.call(t)!==n||i!==n}))&&r(d,"flags",{configurable:!0,get:o})},function(e,t,i){var n=i(45);e.exports=function(){var e=n(this),t="";return e.hasIndices&&(t+="d"),e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.unicodeSets&&(t+="v"),e.sticky&&(t+="y"),t}},function(e,t,i){var n=i(2),s=i(175);n({target:"Set",proto:!0,real:!0,forced:!i(183)("difference")},{difference:s})},function(e,t,i){var n=i(176),s=i(177),r=i(178),o=i(181),a=i(182),l=i(179),d=i(180),u=s.has,c=s.remove;e.exports=function(e){var t=n(this),i=a(e),s=r(t);return o(t)<=i.size?l(t,(function(e){i.includes(e)&&c(s,e)})):d(i.getIterator(),(function(e){u(t,e)&&c(s,e)})),s}},function(e,t,i){var n=i(177).has;e.exports=function(e){return n(e),e}},function(e,t,i){var n=i(13),s=Set.prototype;e.exports={Set:Set,add:n(s.add),has:n(s.has),remove:n(s.delete),proto:s}},function(e,t,i){var n=i(177),s=i(179),r=n.Set,o=n.add;e.exports=function(e){var t=new r;return s(e,(function(e){o(t,e)})),t}},function(e,t,i){var n=i(13),s=i(180),r=i(177),o=r.Set,a=r.proto,l=n(a.forEach),d=n(a.keys),u=d(new o).next;e.exports=function(e,t,i){return i?s({iterator:d(e),next:u},t):l(e,t)}},function(t,i,n){var s=n(7);t.exports=function(t,i,n){for(var r,o,a=n?t:t.iterator,l=t.next;!(r=s(l,a)).done;)if((o=i(r.value))!==e)return o}},function(e,t,i){var n=i(70),s=i(177);e.exports=n(s.proto,"size","get")||function(e){return e.size}},function(e,t,i){var n=i(29),s=i(45),r=i(7),o=i(60),a=i(136),l="Invalid size",d=RangeError,u=TypeError,c=Math.max,h=function(e,t){this.set=e,this.size=c(t,0),this.has=n(e.has),this.keys=n(e.keys)};h.prototype={getIterator:function(){return a(s(r(this.keys,this.set)))},includes:function(e){return r(this.has,this.set,e)}},e.exports=function(e){s(e);var t=+e.size;if(t!=t)throw new u(l);var i=o(t);if(i<0)throw new d(l);return new h(e,i)}},function(e,t,i){var n=i(22),s=function(e){return{size:e,has:function(){return!1},keys:function(){return{next:function(){return{done:!0}}}}}};e.exports=function(e){var t=n("Set");try{(new t)[e](s(0));try{return(new t)[e](s(-1)),!1}catch(i){return!0}}catch(r){return!1}}},function(e,t,i){var n=i(2),s=i(6),r=i(185);n({target:"Set",proto:!0,real:!0,forced:!i(183)("intersection")||s((function(){return"3,2"!==String(Array.from(new Set([1,2,3]).intersection(new Set([3,2]))))}))},{intersection:r})},function(e,t,i){var n=i(176),s=i(177),r=i(181),o=i(182),a=i(179),l=i(180),d=s.Set,u=s.add,c=s.has;e.exports=function(e){var t=n(this),i=o(e),s=new d;return r(t)>i.size?l(i.getIterator(),(function(e){c(t,e)&&u(s,e)})):a(t,(function(e){i.includes(e)&&u(s,e)})),s}},function(e,t,i){var n=i(2),s=i(187);n({target:"Set",proto:!0,real:!0,forced:!i(183)("isDisjointFrom")},{isDisjointFrom:s})},function(e,t,i){var n=i(176),s=i(177).has,r=i(181),o=i(182),a=i(179),l=i(180),d=i(98);e.exports=function(e){var t=n(this),i=o(e);if(r(t)<=i.size)return!1!==a(t,(function(e){if(i.includes(e))return!1}),!0);var u=i.getIterator();return!1!==l(u,(function(e){if(s(t,e))return d(u,"normal",!1)}))}},function(e,t,i){var n=i(2),s=i(189);n({target:"Set",proto:!0,real:!0,forced:!i(183)("isSubsetOf")},{isSubsetOf:s})},function(e,t,i){var n=i(176),s=i(181),r=i(179),o=i(182);e.exports=function(e){var t=n(this),i=o(e);return!(s(t)>i.size)&&!1!==r(t,(function(e){if(!i.includes(e))return!1}),!0)}},function(e,t,i){var n=i(2),s=i(191);n({target:"Set",proto:!0,real:!0,forced:!i(183)("isSupersetOf")},{isSupersetOf:s})},function(e,t,i){var n=i(176),s=i(177).has,r=i(181),o=i(182),a=i(180),l=i(98);e.exports=function(e){var t=n(this),i=o(e);if(r(t)<i.size)return!1;var d=i.getIterator();return!1!==a(d,(function(e){if(!s(t,e))return l(d,"normal",!1)}))}},function(e,t,i){var n=i(2),s=i(193);n({target:"Set",proto:!0,real:!0,forced:!i(183)("symmetricDifference")},{symmetricDifference:s})},function(e,t,i){var n=i(176),s=i(177),r=i(178),o=i(182),a=i(180),l=s.add,d=s.has,u=s.remove;e.exports=function(e){var t=n(this),i=o(e).getIterator(),s=r(t);return a(i,(function(e){d(t,e)?u(s,e):l(s,e)})),s}},function(e,t,i){var n=i(2),s=i(195);n({target:"Set",proto:!0,real:!0,forced:!i(183)("union")},{union:s})},function(e,t,i){var n=i(176),s=i(177).add,r=i(178),o=i(182),a=i(180);e.exports=function(e){var t=n(this),i=o(e).getIterator(),l=r(t);return a(i,(function(e){s(l,e)})),l}},function(t,i,n){var s=n(2),r=n(13),o=n(15),a=n(60),l=n(76),d=n(6),u=r("".charAt);s({target:"String",proto:!0,forced:d((function(){return"\ud842"!=="𠮷".at(-2)}))},{at:function(t){var i=l(o(this)),n=i.length,s=a(t),r=s>=0?s:n+s;return r<0||r>=n?e:u(i,r)}})},function(e,t,i){var n=i(2),s=i(13),r=i(15),o=i(76),a=s("".charCodeAt);n({target:"String",proto:!0},{isWellFormed:function(){for(var e=o(r(this)),t=e.length,i=0;i<t;i++){var n=a(e,i);if(55296==(63488&n)&&(n>=56320||++i>=t||56320!=(64512&a(e,i))))return!1}return!0}})},function(t,i,n){var s=n(2),r=n(7),o=n(13),a=n(15),l=n(20),d=n(16),u=n(199),c=n(76),h=n(28),p=n(200),_=n(201),g=n(32),f=n(35),m=g("replace"),v=TypeError,A=o("".indexOf),E=o("".replace),T=o("".slice),I=Math.max;s({target:"String",proto:!0},{replaceAll:function(t,i){var n,s,o,g,C,O,M,y,b,S,D=a(this),w=0,L="";if(!d(t)){if((n=u(t))&&(s=c(a(p(t))),!~A(s,"g")))throw new v("`.replaceAll` does not allow non-global regexes");if(o=h(t,m))return r(o,t,D,i);if(f&&n)return E(c(D),t,i)}for(g=c(D),C=c(t),(O=l(i))||(i=c(i)),M=C.length,y=I(1,M),b=A(g,C);-1!==b;)S=O?c(i(C,b,g)):_(C,g,b,[],e,i),L+=T(g,w,b)+S,w=b+M,b=b+y>g.length?-1:A(g,C,b+y);return w<g.length&&(L+=T(g,w)),L}})},function(t,i,n){var s=n(19),r=n(14),o=n(32)("match");t.exports=function(t){var i;return s(t)&&((i=t[o])!==e?!!i:"RegExp"===r(t))}},function(t,i,n){var s=n(7),r=n(37),o=n(23),a=n(173),l=RegExp.prototype;t.exports=function(t){var i=t.flags;return i!==e||"flags"in l||r(t,"flags")||!o(l,t)?i:s(a,t)}},function(t,i,n){var s=n(13),r=n(38),o=Math.floor,a=s("".charAt),l=s("".replace),d=s("".slice),u=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,c=/\$([$&'`]|\d{1,2})/g;t.exports=function(t,i,n,s,h,p){var _=n+t.length,g=s.length,f=c;return h!==e&&(h=r(h),f=u),l(p,f,(function(r,l){var u;switch(a(l,0)){case"$":return"$";case"&":return t;case"`":return d(i,0,n);case"'":return d(i,_);case"<":u=h[d(l,1,-1)];break;default:var c=+l;if(0===c)return r;if(c>g){var p=o(c/10);return 0===p?r:p<=g?s[p-1]===e?a(l,1):s[p-1]+a(l,1):r}u=s[c-1]}return u===e?"":u}))}},function(e,t,i){var n=i(2),s=i(7),r=i(13),o=i(15),a=i(76),l=i(6),d=Array,u=r("".charAt),c=r("".charCodeAt),h=r([].join),p="".toWellFormed,_=p&&l((function(){return"1"!==s(p,1)}));n({target:"String",proto:!0,forced:_},{toWellFormed:function(){var e=a(o(this));if(_)return s(p,e);for(var t=e.length,i=d(t),n=0;n<t;n++){var r=c(e,n);55296!=(63488&r)?i[n]=u(e,n):r>=56320||n+1>=t||56320!=(64512&c(e,n+1))?i[n]="�":(i[n]=u(e,n),i[++n]=u(e,n))}return h(i,"")}})},function(t,i,n){var s=n(204),r=n(62),o=n(60),a=s.aTypedArray;(0,s.exportTypedArrayMethod)("at",(function(t){var i=a(this),n=r(i),s=o(t),l=s>=0?s:n+s;return l<0||l>=n?e:i[l]}))},function(t,i,n){var s,r,o,a=n(205),l=n(5),d=n(3),u=n(20),c=n(19),h=n(37),p=n(77),_=n(30),g=n(42),f=n(46),m=n(118),v=n(23),A=n(85),E=n(69),T=n(32),I=n(39),C=n(50),O=C.enforce,M=C.get,y=d.Int8Array,b=y&&y.prototype,S=d.Uint8ClampedArray,D=S&&S.prototype,w=y&&A(y),L=b&&A(b),R=Object.prototype,P=d.TypeError,N=T("toStringTag"),k=I("TYPED_ARRAY_TAG"),x="TypedArrayConstructor",V=a&&!!E&&"Opera"!==p(d.opera),B=!1,H={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8},W={BigInt64Array:8,BigUint64Array:8},F=function(e){var t=A(e);if(c(t)){var i=M(t);return i&&h(i,x)?i[x]:F(t)}},U=function(e){if(!c(e))return!1;var t=p(e);return h(H,t)||h(W,t)};for(s in H)(o=(r=d[s])&&r.prototype)?O(o)[x]=r:V=!1;for(s in W)(o=(r=d[s])&&r.prototype)&&(O(o)[x]=r);if((!V||!u(w)||w===Function.prototype)&&(w=function(){throw new P("Incorrect invocation")},V))for(s in H)d[s]&&E(d[s],w);if((!V||!L||L===R)&&(L=w.prototype,V))for(s in H)d[s]&&E(d[s].prototype,L);if(V&&A(D)!==L&&E(D,L),l&&!h(L,N))for(s in B=!0,m(L,N,{configurable:!0,get:function(){return c(this)?this[k]:e}}),H)d[s]&&g(d[s],k,s);t.exports={NATIVE_ARRAY_BUFFER_VIEWS:V,TYPED_ARRAY_TAG:B&&k,aTypedArray:function(e){if(U(e))return e;throw new P("Target is not a typed array")},aTypedArrayConstructor:function(e){if(u(e)&&(!E||v(w,e)))return e;throw new P(_(e)+" is not a typed array constructor")},exportTypedArrayMethod:function(e,t,i,n){if(l){if(i)for(var s in H){var r=d[s];if(r&&h(r.prototype,e))try{delete r.prototype[e]}catch(o){try{r.prototype[e]=t}catch(a){}}}L[e]&&!i||f(L,e,i?t:V&&b[e]||t,n)}},exportTypedArrayStaticMethod:function(e,t,i){var n,s;if(l){if(E){if(i)for(n in H)if((s=d[n])&&h(s,e))try{delete s[e]}catch(r){}if(w[e]&&!i)return;try{return f(w,e,i?t:V&&w[e]||t)}catch(r){}}for(n in H)!(s=d[n])||s[e]&&!i||f(s,e,t)}},getTypedArrayConstructor:F,isView:function(e){if(!c(e))return!1;var t=p(e);return"DataView"===t||h(H,t)||h(W,t)},isTypedArray:U,TypedArray:w,TypedArrayPrototype:L}},function(e,t,i){e.exports="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof DataView},function(t,i,n){var s=n(204),r=n(103).findLast,o=s.aTypedArray;(0,s.exportTypedArrayMethod)("findLast",(function(t){return r(o(this),t,arguments.length>1?arguments[1]:e)}))},function(t,i,n){var s=n(204),r=n(103).findLastIndex,o=s.aTypedArray;(0,s.exportTypedArrayMethod)("findLastIndex",(function(t){return r(o(this),t,arguments.length>1?arguments[1]:e)}))},function(t,i,n){var s=n(3),r=n(7),o=n(204),a=n(62),l=n(209),d=n(38),u=n(6),c=s.RangeError,h=s.Int8Array,p=h&&h.prototype,_=p&&p.set,g=o.aTypedArray,f=o.exportTypedArrayMethod,m=!u((function(){var e=new Uint8ClampedArray(2);return r(_,e,{length:1,0:3},1),3!==e[1]})),v=m&&o.NATIVE_ARRAY_BUFFER_VIEWS&&u((function(){var e=new h(2);return e.set(1),e.set("2",1),0!==e[0]||2!==e[1]}));f("set",(function(t){g(this);var i=l(arguments.length>1?arguments[1]:e,1),n=d(t);if(m)return r(_,this,n,i);var s=this.length,o=a(n),u=0;if(o+i>s)throw new c("Wrong length");for(;u<o;)this[i+u]=n[u++]}),!m||v)},function(e,t,i){var n=i(138),s=RangeError;e.exports=function(e,t){var i=n(e);if(i%t)throw new s("Wrong offset");return i}},function(e,t,i){var n=i(110),s=i(204),r=s.aTypedArray,o=s.exportTypedArrayMethod,a=s.getTypedArrayConstructor;o("toReversed",(function(){return n(r(this),a(this))}))},function(t,i,n){var s=n(204),r=n(13),o=n(29),a=n(112),l=s.aTypedArray,d=s.getTypedArrayConstructor,u=s.exportTypedArrayMethod,c=r(s.TypedArrayPrototype.sort);u("toSorted",(function(t){t!==e&&o(t);var i=l(this),n=a(d(i),i);return c(n,t)}))},function(e,t,i){var n=i(116),s=i(204),r=i(213),o=i(60),a=i(214),l=s.aTypedArray,d=s.getTypedArrayConstructor,u=s.exportTypedArrayMethod,c=!!function(){try{new Int8Array(1).with(2,{valueOf:function(){throw 8}})}catch(e){return 8===e}}();u("with",{with:function(e,t){var i=l(this),s=o(e),u=r(i)?a(t):+t;return n(i,d(i),s,u)}}.with,!c)},function(e,t,i){var n=i(77);e.exports=function(e){var t=n(e);return"BigInt64Array"===t||"BigUint64Array"===t}},function(e,t,i){var n=i(18),s=TypeError;e.exports=function(e){var t=n(e,"number");if("number"==typeof t)throw new s("Can't convert number to bigint");return BigInt(t)}},function(t,i,n){var s=n(2),r=n(3),o=n(22),a=n(10),l=n(43).f,d=n(37),u=n(132),c=n(74),h=n(75),p=n(216),_=n(81),g=n(5),f=n(35),m="DOMException",v=o("Error"),A=o(m),E=function(){u(this,T);var t=arguments.length,i=h(t<1?e:arguments[0]),n=h(t<2?e:arguments[1],"Error"),s=new A(i,n),r=new v(i);return r.name=m,l(s,"stack",a(1,_(r.stack,1))),c(s,this,E),s},T=E.prototype=A.prototype,I="stack"in new v(m),C="stack"in new A(1,2),O=A&&g&&Object.getOwnPropertyDescriptor(r,m),M=!(!O||O.writable&&O.configurable),y=I&&!M&&!C;s({global:!0,constructor:!0,forced:f||y},{DOMException:y?E:A});var b=o(m),S=b.prototype;if(S.constructor!==b)for(var D in f||l(S,"constructor",a(1,b)),p)if(d(p,D)){var w=p[D],L=w.s;d(b,L)||l(b,L,a(6,w.c))}},function(e,t,i){e.exports={IndexSizeError:{s:"INDEX_SIZE_ERR",c:1,m:1},DOMStringSizeError:{s:"DOMSTRING_SIZE_ERR",c:2,m:0},HierarchyRequestError:{s:"HIERARCHY_REQUEST_ERR",c:3,m:1},WrongDocumentError:{s:"WRONG_DOCUMENT_ERR",c:4,m:1},InvalidCharacterError:{s:"INVALID_CHARACTER_ERR",c:5,m:1},NoDataAllowedError:{s:"NO_DATA_ALLOWED_ERR",c:6,m:0},NoModificationAllowedError:{s:"NO_MODIFICATION_ALLOWED_ERR",c:7,m:1},NotFoundError:{s:"NOT_FOUND_ERR",c:8,m:1},NotSupportedError:{s:"NOT_SUPPORTED_ERR",c:9,m:1},InUseAttributeError:{s:"INUSE_ATTRIBUTE_ERR",c:10,m:1},InvalidStateError:{s:"INVALID_STATE_ERR",c:11,m:1},SyntaxError:{s:"SYNTAX_ERR",c:12,m:1},InvalidModificationError:{s:"INVALID_MODIFICATION_ERR",c:13,m:1},NamespaceError:{s:"NAMESPACE_ERR",c:14,m:1},InvalidAccessError:{s:"INVALID_ACCESS_ERR",c:15,m:1},ValidationError:{s:"VALIDATION_ERR",c:16,m:0},TypeMismatchError:{s:"TYPE_MISMATCH_ERR",c:17,m:1},SecurityError:{s:"SECURITY_ERR",c:18,m:1},NetworkError:{s:"NETWORK_ERR",c:19,m:1},AbortError:{s:"ABORT_ERR",c:20,m:1},URLMismatchError:{s:"URL_MISMATCH_ERR",c:21,m:1},QuotaExceededError:{s:"QUOTA_EXCEEDED_ERR",c:22,m:1},TimeoutError:{s:"TIMEOUT_ERR",c:23,m:1},InvalidNodeTypeError:{s:"INVALID_NODE_TYPE_ERR",c:24,m:1},DataCloneError:{s:"DATA_CLONE_ERR",c:25,m:1}}},function(e,t,i){i(218),i(222)},function(e,t,i){var n=i(2),s=i(3),r=i(219).clear;n({global:!0,bind:!0,enumerable:!0,forced:s.clearImmediate!==r},{clearImmediate:r})},function(t,i,n){var s,r,o,a,l=n(3),d=n(67),u=n(92),c=n(20),h=n(37),p=n(6),_=n(90),g=n(168),f=n(41),m=n(220),v=n(221),A=n(127),E=l.setImmediate,T=l.clearImmediate,I=l.process,C=l.Dispatch,O=l.Function,M=l.MessageChannel,y=l.String,b=0,S={},D="onreadystatechange";p((function(){s=l.location}));var w=function(e){if(h(S,e)){var t=S[e];delete S[e],t()}},L=function(e){return function(){w(e)}},R=function(e){w(e.data)},P=function(e){l.postMessage(y(e),s.protocol+"//"+s.host)};E&&T||(E=function(t){m(arguments.length,1);var i=c(t)?t:O(t),n=g(arguments,1);return S[++b]=function(){d(i,e,n)},r(b),b},T=function(e){delete S[e]},A?r=function(e){I.nextTick(L(e))}:C&&C.now?r=function(e){C.now(L(e))}:M&&!v?(a=(o=new M).port2,o.port1.onmessage=R,r=u(a.postMessage,a)):l.addEventListener&&c(l.postMessage)&&!l.importScripts&&s&&"file:"!==s.protocol&&!p(P)?(r=P,l.addEventListener("message",R,!1)):r=D in f("script")?function(e){_.appendChild(f("script"))[D]=function(){_.removeChild(this),w(e)}}:function(e){setTimeout(L(e),0)}),t.exports={set:E,clear:T}},function(e,t,i){var n=TypeError;e.exports=function(e,t){if(e<t)throw new n("Not enough arguments");return e}},function(e,t,i){var n=i(27);e.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(n)},function(e,t,i){var n=i(2),s=i(3),r=i(219).set,o=i(223),a=s.setImmediate?o(r,!1):r;n({global:!0,bind:!0,enumerable:!0,forced:s.setImmediate!==a},{setImmediate:a})},function(e,t,i){var n,s=i(3),r=i(67),o=i(20),a=i(128),l=i(27),d=i(168),u=i(220),c=s.Function,h=/MSIE .\./.test(l)||"BUN"===a&&((n=s.Bun.version.split(".")).length<3||"0"===n[0]&&(n[1]<3||"3"===n[1]&&"0"===n[2]));e.exports=function(e,t){var i=t?2:1;return h?function(n,s){var a=u(arguments.length,1)>i,l=o(n)?n:c(n),h=a?d(arguments,i):[],p=a?function(){r(l,this,h)}:l;return t?e(p,s):e(p)}:e}},function(e,t,i){var n=i(2),s=i(3),r=i(118),o=i(5),a=TypeError,l=Object.defineProperty,d=s.self!==s;try{if(o){var u=Object.getOwnPropertyDescriptor(s,"self");!d&&u&&u.get&&u.enumerable||r(s,"self",{get:function(){return s},set:function(e){if(this!==s)throw new a("Illegal invocation");l(s,"self",{value:e,writable:!0,configurable:!0,enumerable:!0})},configurable:!0,enumerable:!0})}else n({global:!0,simple:!0,forced:d},{self:s})}catch(c){}},function(t,i,n){var s,r=n(35),o=n(2),a=n(3),l=n(22),d=n(13),u=n(6),c=n(39),h=n(20),p=n(226),_=n(16),g=n(19),f=n(21),m=n(91),v=n(45),A=n(77),E=n(37),T=n(133),I=n(42),C=n(62),O=n(220),M=n(200),y=n(157),b=n(177),S=n(179),D=n(125),w=n(82),L=n(129),R=a.Object,P=a.Array,N=a.Date,k=a.Error,x=a.TypeError,V=a.PerformanceMark,B=l("DOMException"),H=y.Map,W=y.has,F=y.get,U=y.set,G=b.Set,j=b.add,K=b.has,z=l("Object","keys"),Z=d([].push),Y=d((!0).valueOf),$=d(1..valueOf),q=d("".valueOf),X=d(N.prototype.getTime),J=c("structuredClone"),Q="DataCloneError",ee="Transferring",te=function(e){return!u((function(){var t=new a.Set([7]),i=e(t),n=e(R(7));return i===t||!i.has(7)||!g(n)||7!=+n}))&&e},ie=function(e,t){return!u((function(){var i=new t,n=e({a:i,b:i});return!(n&&n.a===n.b&&n.a instanceof t&&n.a.stack===i.stack)}))},ne=a.structuredClone,se=r||!ie(ne,k)||!ie(ne,B)||(s=ne,!!u((function(){var e=s(new a.AggregateError([1],J,{cause:3}));return"AggregateError"!==e.name||1!==e.errors[0]||e.message!==J||3!==e.cause}))),re=!ne&&te((function(e){return new V(J,{detail:e}).detail})),oe=te(ne)||re,ae=function(e){throw new B("Uncloneable type: "+e,Q)},le=function(e,t){throw new B((t||"Cloning")+" of "+e+" cannot be properly polyfilled in this engine",Q)},de=function(e,t){return oe||le(t),oe(e)},ue=function(t,i,n){if(W(i,t))return F(i,t);var s,r,o,l,d,u;if("SharedArrayBuffer"===(n||A(t)))s=oe?oe(t):t;else{var c=a.DataView;c||h(t.slice)||le("ArrayBuffer");try{if(h(t.slice)&&!t.resizable)s=t.slice(0);else{r=t.byteLength,o="maxByteLength"in t?{maxByteLength:t.maxByteLength}:e,s=new ArrayBuffer(r,o),l=new c(t),d=new c(s);for(u=0;u<r;u++)d.setUint8(u,l.getUint8(u))}}catch(p){throw new B("ArrayBuffer is detached",Q)}}return U(i,t,s),s},ce=function(t,i){if(f(t)&&ae("Symbol"),!g(t))return t;if(i){if(W(i,t))return F(i,t)}else i=new H;var n,s,r,o,d,u,c,p,_=A(t);switch(_){case"Array":r=P(C(t));break;case"Object":r={};break;case"Map":r=new H;break;case"Set":r=new G;break;case"RegExp":r=new RegExp(t.source,M(t));break;case"Error":switch(s=t.name){case"AggregateError":r=new(l(s))([]);break;case"EvalError":case"RangeError":case"ReferenceError":case"SuppressedError":case"SyntaxError":case"TypeError":case"URIError":r=new(l(s));break;case"CompileError":case"LinkError":case"RuntimeError":r=new(l("WebAssembly",s));break;default:r=new k}break;case"DOMException":r=new B(t.message,t.name);break;case"ArrayBuffer":case"SharedArrayBuffer":r=ue(t,i,_);break;case"DataView":case"Int8Array":case"Uint8Array":case"Uint8ClampedArray":case"Int16Array":case"Uint16Array":case"Int32Array":case"Uint32Array":case"Float16Array":case"Float32Array":case"Float64Array":case"BigInt64Array":case"BigUint64Array":u="DataView"===_?t.byteLength:t.length,r=function(e,t,i,n,s){var r=a[t];return g(r)||le(t),new r(ue(e.buffer,s),i,n)}(t,_,t.byteOffset,u,i);break;case"DOMQuad":try{r=new DOMQuad(ce(t.p1,i),ce(t.p2,i),ce(t.p3,i),ce(t.p4,i))}catch(m){r=de(t,_)}break;case"File":if(oe)try{r=oe(t),A(r)!==_&&(r=e)}catch(m){}if(!r)try{r=new File([t],t.name,t)}catch(m){}r||le(_);break;case"FileList":if(o=function(){var e;try{e=new a.DataTransfer}catch(m){try{e=new a.ClipboardEvent("").clipboardData}catch(t){}}return e&&e.items&&e.files?e:null}()){for(d=0,u=C(t);d<u;d++)o.items.add(ce(t[d],i));r=o.files}else r=de(t,_);break;case"ImageData":try{r=new ImageData(ce(t.data,i),t.width,t.height,{colorSpace:t.colorSpace})}catch(m){r=de(t,_)}break;default:if(oe)r=oe(t);else switch(_){case"BigInt":r=R(t.valueOf());break;case"Boolean":r=R(Y(t));break;case"Number":r=R($(t));break;case"String":r=R(q(t));break;case"Date":r=new N(X(t));break;case"Blob":try{r=t.slice(0,t.size,t.type)}catch(m){le(_)}break;case"DOMPoint":case"DOMPointReadOnly":n=a[_];try{r=n.fromPoint?n.fromPoint(t):new n(t.x,t.y,t.z,t.w)}catch(m){le(_)}break;case"DOMRect":case"DOMRectReadOnly":n=a[_];try{r=n.fromRect?n.fromRect(t):new n(t.x,t.y,t.width,t.height)}catch(m){le(_)}break;case"DOMMatrix":case"DOMMatrixReadOnly":n=a[_];try{r=n.fromMatrix?n.fromMatrix(t):new n(t)}catch(m){le(_)}break;case"AudioData":case"VideoFrame":h(t.clone)||le(_);try{r=t.clone()}catch(m){ae(_)}break;case"CropTarget":case"CryptoKey":case"FileSystemDirectoryHandle":case"FileSystemFileHandle":case"FileSystemHandle":case"GPUCompilationInfo":case"GPUCompilationMessage":case"ImageBitmap":case"RTCCertificate":case"WebAssembly.Module":le(_);default:ae(_)}}switch(U(i,t,r),_){case"Array":case"Object":for(c=z(t),d=0,u=C(c);d<u;d++)p=c[d],T(r,p,ce(t[p],i));break;case"Map":t.forEach((function(e,t){U(r,ce(t,i),ce(e,i))}));break;case"Set":t.forEach((function(e){j(r,ce(e,i))}));break;case"Error":I(r,"message",ce(t.message,i)),E(t,"cause")&&I(r,"cause",ce(t.cause,i)),"AggregateError"===s?r.errors=ce(t.errors,i):"SuppressedError"===s&&(r.error=ce(t.error,i),r.suppressed=ce(t.suppressed,i));case"DOMException":w&&I(r,"stack",ce(t.stack,i))}return r};o({global:!0,enumerable:!0,sham:!L,forced:se},{structuredClone:function(t){var i,n,s=O(arguments.length,1)>1&&!_(arguments[1])?v(arguments[1]):e,r=s?s.transfer:e;r!==e&&(n=function(t,i){if(!g(t))throw new x("Transfer option cannot be converted to a sequence");var n=[];m(t,(function(e){Z(n,v(e))}));for(var s,r,o,l,d,u=0,c=C(n),_=new G;u<c;){if(s=n[u++],"ArrayBuffer"===(r=A(s))?K(_,s):W(i,s))throw new B("Duplicate transferable",Q);if("ArrayBuffer"!==r){if(L)l=ne(s,{transfer:[s]});else switch(r){case"ImageBitmap":o=a.OffscreenCanvas,p(o)||le(r,ee);try{(d=new o(s.width,s.height)).getContext("bitmaprenderer").transferFromImageBitmap(s),l=d.transferToImageBitmap()}catch(f){}break;case"AudioData":case"VideoFrame":h(s.clone)&&h(s.close)||le(r,ee);try{l=s.clone(),s.close()}catch(f){}break;case"MediaSourceHandle":case"MessagePort":case"MIDIAccess":case"OffscreenCanvas":case"ReadableStream":case"RTCDataChannel":case"TransformStream":case"WebTransportReceiveStream":case"WebTransportSendStream":case"WritableStream":le(r,ee)}if(l===e)throw new B("This object cannot be transferred: "+r,Q);U(i,s,l)}else j(_,s)}return _}(r,i=new H));var o=ce(t,i);return n&&function(e){S(e,(function(e){L?oe(e,{transfer:[e]}):h(e.transfer)?e.transfer():D?D(e):le("ArrayBuffer",ee)}))}(n),o}})},function(e,t,i){var n=i(13),s=i(6),r=i(20),o=i(77),a=i(22),l=i(49),d=function(){},u=a("Reflect","construct"),c=/^\s*(?:class|function)\b/,h=n(c.exec),p=!c.test(d),_=function(e){if(!r(e))return!1;try{return u(d,[],e),!0}catch(t){return!1}},g=function(e){if(!r(e))return!1;switch(o(e)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return p||!!h(c,l(e))}catch(t){return!0}};g.sham=!0,e.exports=!u||s((function(){var e;return _(_.call)||!_(Object)||!_((function(){e=!0}))||e}))?g:_},function(t,i,n){var s=n(2),r=n(22),o=n(6),a=n(220),l=n(76),d=n(228),u=r("URL"),c=d&&o((function(){u.canParse()})),h=o((function(){return 1!==u.canParse.length}));s({target:"URL",stat:!0,forced:!c||h},{canParse:function(t){var i=a(arguments.length,1),n=l(t),s=i<2||arguments[1]===e?e:l(arguments[1]);try{return!!new u(n,s)}catch(r){return!1}}})},function(t,i,n){var s=n(6),r=n(32),o=n(5),a=n(35),l=r("iterator");t.exports=!s((function(){var t=new URL("b?a=1&b=2&c=3","https://a"),i=t.searchParams,n=new URLSearchParams("a=1&a=2&b=3"),s="";return t.pathname="c%20d",i.forEach((function(e,t){i.delete("b"),s+=t+e})),n.delete("a",2),n.delete("b",e),a&&(!t.toJSON||!n.has("a",1)||n.has("a",2)||!n.has("a",e)||n.has("b"))||!i.size&&(a||!o)||!i.sort||"https://a/c%20d?a=1&c=3"!==t.href||"3"!==i.get("c")||"a=1"!==String(new URLSearchParams("?a=1"))||!i[l]||"a"!==new URL("https://a@b").username||"b"!==new URLSearchParams(new URLSearchParams("a=b")).get("a")||"xn--e1aybc"!==new URL("https://тест").host||"#%D0%B1"!==new URL("https://a#б").hash||"a1c3"!==s||"x"!==new URL("https://x",e).host}))},function(t,i,n){var s=n(2),r=n(22),o=n(220),a=n(76),l=n(228),d=r("URL");s({target:"URL",stat:!0,forced:!l},{parse:function(t){var i=o(arguments.length,1),n=a(t),s=i<2||arguments[1]===e?e:a(arguments[1]);try{return new d(n,s)}catch(r){return null}}})},function(t,i,n){var s=n(46),r=n(13),o=n(76),a=n(220),l=URLSearchParams,d=l.prototype,u=r(d.append),c=r(d.delete),h=r(d.forEach),p=r([].push),_=new l("a=1&a=2&b=3");_.delete("a",1),_.delete("b",e),_+""!="a=2"&&s(d,"delete",(function(t){var i=arguments.length,n=i<2?e:arguments[1];if(i&&n===e)return c(this,t);var s=[];h(this,(function(e,t){p(s,{key:t,value:e})})),a(i,1);for(var r,l=o(t),d=o(n),_=0,g=0,f=!1,m=s.length;_<m;)r=s[_++],f||r.key===l?(f=!0,c(this,r.key)):g++;for(;g<m;)(r=s[g++]).key===l&&r.value===d||u(this,r.key,r.value)}),{enumerable:!0,unsafe:!0})},function(t,i,n){var s=n(46),r=n(13),o=n(76),a=n(220),l=URLSearchParams,d=l.prototype,u=r(d.getAll),c=r(d.has),h=new l("a=1");!h.has("a",2)&&h.has("a",e)||s(d,"has",(function(t){var i=arguments.length,n=i<2?e:arguments[1];if(i&&n===e)return c(this,t);var s=u(this,t);a(i,1);for(var r=o(n),l=0;l<s.length;)if(s[l++]===r)return!0;return!1}),{enumerable:!0,unsafe:!0})},function(e,t,i){var n=i(5),s=i(13),r=i(118),o=URLSearchParams.prototype,a=s(o.forEach);n&&!("size"in o)&&r(o,"size",{get:function(){var e=0;return a(this,(function(){e++})),e},configurable:!0,enumerable:!0})}],i={},(n=function(e){if(i[e])return i[e].exports;var s=i[e]={i:e,l:!1,exports:{}};return t[e].call(s.exports,s,s.exports,n),s.l=!0,s.exports}).m=t,n.c=i,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)n.d(i,s,function(t){return e[t]}.bind(null,s));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}(),System.register("ig-charts",["@ig-caa/ig-trading-charts","lodash"],(function(__WEBPACK_DYNAMIC_EXPORT__,__system_context__){var __WEBPACK_EXTERNAL_MODULE__61346__={},__WEBPACK_EXTERNAL_MODULE__43130__={};return Object.defineProperty(__WEBPACK_EXTERNAL_MODULE__61346__,"__esModule",{value:!0}),Object.defineProperty(__WEBPACK_EXTERNAL_MODULE__43130__,"__esModule",{value:!0}),{setters:[function(e){Object.keys(e).forEach((function(t){__WEBPACK_EXTERNAL_MODULE__61346__[t]=e[t]}))},function(e){Object.keys(e).forEach((function(t){__WEBPACK_EXTERNAL_MODULE__43130__[t]=e[t]}))}],execute:function(){__WEBPACK_DYNAMIC_EXPORT__((()=>{var __webpack_modules__={96474:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>Ih});var n=i(43130),s=i(12990),r=i(96505),o=i(289),a=s.A.extend((function(){}),o.default);a.create=function(){return new a};var l=a.prototype;l.initDom=n.noop,l.withMenuItems=n.noop,l.isVisible=(0,n.constant)(!1),l.show=n.noop,l.hide=n.noop,l.classed=n.noop,l.selectItem=n.noop,l.deselectItem=n.noop,l.updateCaptureZoneSize=n.noop,l.onDimensionsChanged=n.noop,l.updateViewItemLabel=n.noop,l.destroy=n.noop,Object.seal(l);const d=Object.seal(a);var u=s.A.extend((function(){}),r.A);u.create=function(e,t,i,n,s,r,o,a){return new u(e,t,i,n,s,r,o,a)};var c=u.prototype;c._createMenuView=function(e,t){return d.create()},c._onMenuSelection=function(e,t,i,n){var s=this._submenus[e.id];t?s.show(n):s.hide(n)},Object.seal(c);const h=Object.seal(u);var p=i(10695),_=i(51058),g={upgrade:function(e){return(e=(0,n.cloneDeep)(e)).default||(e={default:e,dark:{}}),g._traverseTrees(e)},_upgrade:function(e){for(var t in e)g._isUpgradedAlready(e[t])||("string"==typeof e[t]?e[t]={colour:e[t],isVisible:!0}:g._isStrokeObject(e[t])?e[t].isVisible=!0:(0,n.isObject)(e[t])&&g._upgrade(e[t]))},_traverseTrees:function(e){var t,i;for(t in e)if(g._upgrade(e[t].candlestick),g._upgrade(e[t].hloc),g._upgrade(e[t].line),g._upgrade(e[t].mountain),e[t].indicators)for(i in e[t].indicators)g._upgrade(e[t].indicators[i]);return e},_isUpgradedAlready:function(e){return(0,n.isObject)(e)&&e.hasOwnProperty("isVisible")},_isStrokeObject:function(e){return(0,n.isObject)(e)&&e.hasOwnProperty("width")&&e.hasOwnProperty("style")}};const f=Object.seal(g);var m={sanitise:function(e,t){return t=(0,n.cloneDeep)(t),m._deleteExtraProperties(e,t),t},_deleteExtraProperties:function(e,t){(0,n.forOwn)(t,(function(i,s){(0,n.hasIn)(e,s)?(0,n.isPlainObject)(i)&&m._deleteExtraProperties(e[s],i):delete t[s]}))}};const v=Object.seal(m);var A=i(54859);function E(e){var t;for(t in e)if("boolean"==typeof e[t].modified){if(e[t].modified)return!0}else if((0,A.isLiteral)(e[t])&&E(e[t]))return!0;return!1}var T=s.A.extend((function(e,t,i){e||this.fromJSON({})}),p.default),I=T.prototype;I.styles=null,I.fromJSON=function(e){try{e=f.upgrade(e)}catch(nu){console.error(`Failed to migrate JSON. Reason: ${nu.message}. JSON ${JSON.stringify(e).substring(0,1e3)}`),e={}}var t=_.A.generateDefaults();e=v.sanitise(t,e),this.styles=(0,A.merge)(t,e,!0)},I.isModified=function(){return E(this.styles)},I.toJSON=function(){return JSON.parse(JSON.stringify(this.styles))},Object.seal(I);const C=Object.seal(T);var O=i(95613),M=i(54842),y=i(9525),b=i(10644),S=(0,n.flatten)((0,n.map)(M.A,n.values));function D(e){return(0,n.isArray)(e)&&e.length>0}var w=s.A.extend(Object.assign((function(){}),{__constructorTransform:function(e){return[e||{}]}}),p.default);w.RECENT_COLOURS_COUNT=Object.keys(M.A).length;var L=w.prototype;L._recentColours=null,L._gridSettings=null,L.fromJSON=function(e){this._recentColours=e.recentColours?(0,n.mapValues)(e.recentColours,(0,y.invoker)("slice")):{},e.gridSettings&&(this._gridSettings=e.gridSettings)},L.toJSON=function(){var e={},t=(0,n.pickBy)(this._recentColours,D);return(0,n.size)(t)&&(e.recentColours=t),(0,n.isEmpty)(this._gridSettings)||(e.gridSettings=this._gridSettings),e},L.isModified=function(){return!(0,n.isEmpty)(this.toJSON())},L.getRecentColours=function(e){var t=this._recentColours[e];return t?t.slice():[]},L.addRecentColour=function(e,t){if(!(S.indexOf(e)>-1)){var i,n=this._recentColours[t];n?((i=n.indexOf(e))>-1?n.splice(i,1):n.length>=w.RECENT_COLOURS_COUNT&&n.pop(),n.unshift(e)):this._recentColours[t]=[e]}},L.getGridSettings=function(e,t){var i={isVisible:!0,colour:"#D8D8DC"};return t===b.default.IG_DARK?i.colour="#262629":t===b.default.NWTP_NAVY||t===b.default.IG_NAVY?i.colour="#70799E":e===b.THEME_SETTINGS_MODE.dark&&(i.colour="#46474F"),(0,n.get)(this,["_gridSettings",e],i)},L.putGridSettings=function(e,t){e?(0,n.set)(this,["_gridSettings",t],e):this._gridSettings&&delete this._gridSettings[t]},Object.seal(L);const R=Object.seal(w);var P=i(14243);function N(e,t,i,n,s,r){this._eventBus=e,this._options=t,this._containerProvider=r,this._settingsManager=s}N.settingsParsers=Object.freeze({template:{moduleName:P.default.COLOUR_CUSTOMISATION,parserClass:C},global:{moduleName:P.default.COLOUR_CUSTOMISATION,parserClass:R}});var k=N.prototype;k._containerProvider=null,k._eventBus=null,k._options=null,k._settingsManager=null,k._customisationStyler=null,k.init=function(){this._customisationStyler=new O.default(this._settingsManager,this._containerProvider)},k.destroy=function(){this._customisationStyler&&(this._customisationStyler.destroy(),this._customisationStyler=null)},Object.seal(k);const x=Object.seal(N);var V=i(9836),B=i(16282),H=s.A.extend((function(e,t,i,n,s,r,o,a){this._eventBus.subscribe("chart/view/ready",this._handleChartViewReady,this),this._eventBus.subscribe("chart/view/dimensions/changed",this._handleDimensionsChanged,this)}),B.default);H.create=function(e,t,i,n,s,r,o,a){return new H(e,t,i,n,s,r,o,a)},H.WIDTH=82,H.MARGIN=20;var W=H.prototype;W.id="collapsibleTopMenu",W._isVisible=!1,W._chartWidth=null,W._handleChartViewReady=function(e){this._chartWidth=e.chartWidth(),this._view&&this._updateVisibility()},W._handleDimensionsChanged=function(e){this._view&&this._chartWidth!==e&&(this._chartWidth=e,this._updateVisibility())},W._whenViewIsReady=function(){this._view&&"number"==typeof this._chartWidth&&this._updateVisibility()},W._updateVisibility=function(){var e=this._view.getMenuWidth();this._isVisible?this._chartWidth<e+H.MARGIN&&(this._isVisible=!1,Object.keys(this._submenus).forEach((function(e){this._submenus[e].hide()}),this),this._eventBus.publish("contextmenu/collapsed",[!0],{retrospective:!0})):this._chartWidth>e+H.MARGIN+H.WIDTH&&(this._isVisible=!0,Object.keys(this._submenus).forEach((function(e){this._submenus[e].show()}),this),this._eventBus.publish("contextmenu/collapsed",[!1],{retrospective:!0}))},Object.seal(W);const F=Object.seal(H);var U=i(2297),G=i(78868),j=i(31347),K=i(99842),z=i(17490),Z=i(50870),Y=i(86616),$=i(32235),q=i(86288);function X(e){this._settingsManager=e,this._companyEventsComparator=q.A.createComparator()}X.create=function(e){return new X(e)};var J=X.prototype;J._settingsManager=null,J.getCapabilities=function(){return Y.default},J.getSettings=function(){return this._settingsManager.getGlobalSettings(P.default.CALENDAR).getCompanyEventTypes()},J.saveSettings=function(e){return this._settingsManager.changeAccountSettings(P.default.CALENDAR,(function(t){return t.withCompanyEventTypes(e),!0}),!0),this},J.getModels=function(e,t){var i=new Z.default(this._handleSelectEvent.bind(this,t)),n=Object.keys(Y.default).map((function(t){return{actionListener:i,data:{id:t},label:$.A.get(t),isSelected:e.indexOf(t)>-1}}),this);return this._companyEventsComparator&&n.sort(this._companyEventsComparator),n},J.hasSubMenu=(0,n.constant)(!1),J._handleSelectEvent=function(e,t,i,n,s){e.handleAction([t],i,n,s)},Object.seal(J);const Q=Object.seal(X);var ee,te=i(41943),ie=i(7144),ne=i(17660),se=["GB","US"];ee={createIndexLabelComparator:function(){return function(e,t){var i=se.indexOf(t.id)-se.indexOf(e.id);return i||(i=e.indexLabel.localeCompare(t.indexLabel)),i}},createLabelComparator:function(){return ne.default.getInstance().isLatinLang()?function(e,t){var i=se.indexOf(t.id)-se.indexOf(e.id);return i||(i=e.label.localeCompare(t.label)),i}:null}},Object.seal(ee);const re=ee;var oe=i(15759),ae=i(1530),le=i(61897),de=s.A.extend((function(){}),le.default);de.create=function(e,t){return new de(e,t)};var ue=de.prototype;ue._createButtonBar=function(e,t){return new oe.A(e,t)},ue._createMenuViewItem=function(e){return ae.A.create(this._captureZoneManager,e)},ue.getActiveButtonBarItems=function(){return{countries:this._buttonBar.getSelectedStickyItems().map((function(e){return e.label})),events:this._buttonBar.getSelectedNonStickyItems().map((function(e){return{name:e.label,eventId:e.getData().id,country:e.getData().country}}))}},ue._createButtonBarStyles=(0,n.constant)("hidden container economicEventsMenu"),Object.seal(ue);const ce=Object.seal(de);var he=i(66250),pe=s.A.extend((function(e,t,i,n){this._menuItemsComparator=re.createIndexLabelComparator(),this._optionsComparator=q.A.createComparator()}),he.default);pe.create=function(e,t,i,n){return new pe(e,t,i,n)},pe.wrapAsMenuOption=function(e){return{id:e}},pe.TOGGLE_ECONOMICS_EVENTS="TOGGLE_ECONOMICS_EVENTS";var _e=pe.prototype;_e._eventsSettings=null,_e._optionsComparator=null,_e.setEventsSettings=function(e){this._eventsSettings=e,this._updateModel()},_e.initDom=function(e,t,i,n){return this.setEventsSettings(n),pe.superclass.initDom.call(this,e,t,i)},_e._createMenuView=function(e,t){return ce.create(e,t)},_e._generateModel=function(){var e,t=this._eventsSettings,i=[],n=new Z.default(this._selectAllEventsFromCountry.bind(this));for(e in ie.ECONOMIC_EVENTS)i.push({id:e,data:{id:e},indexLabel:$.A.get(e+"_Index"),label:$.A.get(e),options:this._getOptionsModels(e,t),actionListener:n});return i},_e._getOptionsModels=function(e,t){var i,n=[],s=ie.ECONOMIC_EVENTS[e],r=new Z.default(this._toggleEconomicEvent.bind(this));for(i in s)n.push({countryIndex:e,data:{id:s[i],country:e},label:$.A.get(i),isSelected:(0,te.contains)(t,s[i]),actionListener:r});return this._optionsComparator&&n.sort(this._optionsComparator),n},_e._selectAllEventsFromCountry=function(e){var t=(0,ie.getEconomicEventsByCountryId)(e.id),i=!(0,te.containsAll)(t,this._eventsSettings),n=(0,ie.getEconomicEventsByCountryId)(e.id).map(pe.wrapAsMenuOption);this.fire(pe.TOGGLE_ECONOMICS_EVENTS,n,i)},_e._toggleEconomicEvent=function(e,t,i,n){this.fire(pe.TOGGLE_ECONOMICS_EVENTS,[e],t,i,n)},_e.updateSelectedItems=function(e){var t=Object.keys(ie.ECONOMIC_EVENTS),i=this._getAllEconomicEvents(),n=(0,te.subtraction)(i,e);e.forEach(this._selectUnselectItem.bind(this,!0)),n.forEach(this._selectUnselectItem.bind(this,!1)),t.forEach((function(t){var i=(0,te.containsAll)((0,ie.getEconomicEventsByCountryId)(t),e);this._selectUnselectItem(i,t)}),this)},_e._selectUnselectItem=function(e,t){e?this._view.selectItem(t):this._view.deselectItem(t)},_e._getAllEconomicEvents=function(){return(0,n.values)(ie.ECONOMIC_EVENTS).reduce((function(e,t){return e.concat((0,n.values)(t))}),[])},Object.seal(_e);const ge=Object.seal(pe);var fe=Object.freeze({SELECT_ALL:"SELECT_ALL",DESELECT_ALL:"DESELECT_ALL"});function me(e){this._settingsManager=e}me.create=function(e){return new me(e)};var ve=me.prototype;ve._settingsManager=null,ve.getCapabilities=function(){return fe},ve.getSettings=function(){return this._settingsManager.getGlobalSettings(P.default.CALENDAR).getEconomicEventTypes()},ve.saveSettings=function(e){return this._settingsManager.changeAccountSettings(P.default.CALENDAR,(function(t){return t.withEconomicEventTypes(e),!0}),!0),this},ve.getModels=function(e,t){var i=new Z.default(this._handleSelectAll.bind(this,t));return Object.keys(fe).map((function(e){return{actionListener:i,data:{id:e},label:$.A.get(e),isSelected:!1}}),this)},ve.hasSubMenu=(0,n.constant)(!0),ve._handleSelectAll=function(e,t){var i=this._extractAllEconomicEventsAsMenuOptions(),n=t.id===fe.SELECT_ALL;e.handleAction(i,n)},ve._extractAllEconomicEventsAsMenuOptions=function(){return(0,n.values)(ie.ECONOMIC_EVENTS).reduce((function(e,t){return e.concat((0,n.values)(t).map((function(e){return{id:e}})))}),[])},Object.seal(ve);const Ae=Object.seal(me);var Ee=i(58703),Te=i(80478),Ie=i(73731),Ce=s.A.extend(Object.assign((function(e,t,i,n,s,r,o,a){e.subscribe("chart/instrument/info",this._handleInstrumentInfo,this),this._menuContainerId=a}),{__constructorTransform:function(e,t,i,n,s,r,o,a){return[e,t,i,n,o]}}),he.default);Ce.create=function(e,t,i,n,s,r,o,a){return new Ce(e,t,i,n,s,r,o,a)};var Oe=Ce.prototype;Oe.id="calendarevents",Oe._animationPoller=null,Oe._containerView=null,Oe._helper=null,Oe._eventSettings=null,Oe._instrumentType=null,Oe._isVisible=!1,Oe._menuContainerId=null,Oe._subMenuController=null,Oe._subMenuControllerClass=ge,Oe.initDom=function(e,t,i){return this._captureZoneManager=t,this._animationPoller=i,this._containerView=e,this._subMenuController&&this._eventSettings&&(this._subMenuController.initDom(e,t,i,this._eventSettings),this._visible&&this._subMenuController.show()),Ce.superclass.initDom.call(this,e,t,i)},Oe.show=function(){return this._isVisible=!0,this._subMenuController&&this._subMenuController.show(),Ce.superclass.show.apply(this,arguments)},Oe.hide=function(){return this._isVisible=!1,this._subMenuController&&this._subMenuController.hide(),Ce.superclass.hide.apply(this,arguments)},Oe.updateCaptureZoneSize=function(){return this._subMenuController&&this._subMenuController.updateCaptureZoneSize(),Ce.superclass.updateCaptureZoneSize.call(this)},Oe.destroy=function(){Ce.superclass.destroy.apply(this,arguments),this._cleanUpSubMenu()},Oe._whenViewIsReady=function(){this._settingsManager.on((0,Ie.getGlobalSettingsEvent)(P.default.CALENDAR),this._handleGlobalSettingsChanged,this),this._view.classed("economic",this._helper&&this._helper.hasSubMenu())},Oe._handleInstrumentInfo=function(e){var t=Te.default.valueOf(e.instrumentType)===Te.default.values.SHARES?Q:Ae;this._cleanUpSubMenu(),this._helper=t.create(this._settingsManager),this._updateModel(),this._view&&this._view.classed("economic",this._helper&&this._helper.hasSubMenu()),this._setUpSubMenu()},Oe._updateModel=function(){this._eventSettings=this._helper.getSettings(),this._subMenuController&&this._subMenuController.setEventsSettings(this._eventSettings),Ce.superclass._updateModel.call(this)},Oe._handleEventsChanged=function(e,t,i,n){this._manageSettings(e,t,n),this._save(),this._updateModel(),this._helper.hasSubMenu()&&this._subMenuController.updateSelectedItems(this._eventSettings)},Oe._save=function(){this._helper.saveSettings(this._eventSettings)},Oe._manageSettings=function(e,t,i){var s=i||this._menuContainerId,r=e.map((function(e){return e.id})).filter((function(e){var i=(0,n.includes)(this._eventSettings,e);return t?!i:i}),this);t?this._eventSettings.push.apply(this._eventSettings,r):(0,n.pullAll)(this._eventSettings,r),s&&r.length&&this._eventBus.publish("tracker/ga",[{interaction_type:Ee.GA_ACTION.EVENTS+" - "+(t?"show":"hide"),interaction_value:(0,Ee.fromMenuSource)(s),chart_events:r.join(",").toLowerCase()}])},Oe._handleGlobalSettingsChanged=function(){this._model&&(this._updateModel(),this._model.map((0,y.plucker)("data.id")).forEach((function(e){this._handleButtons(e,(0,n.includes)(this._eventSettings,e))}),this))},Oe._handleButtons=function(e,t){t?this._view.selectItem(e):this._view.deselectItem(e)},Oe._generateModel=function(){return this._helper.getModels(this._eventSettings,new Z.default(this._handleEventsChanged.bind(this)))},Oe._setUpSubMenu=function(){this._helper.hasSubMenu()&&(this._subMenuController=this._subMenuControllerClass.create(this._eventBus,this._settingsManager,this._containerProvider),this._subMenuController.on(ge.TOGGLE_ECONOMICS_EVENTS,this._handleEventsChanged,this),this._subMenuController.setEventsSettings(this._eventSettings),this._containerView&&(this._subMenuController.initDom(this._containerView,this._captureZoneManager,this._animationPoller,this._eventSettings),this._isVisible&&this._subMenuController.show()))},Oe.getActiveSubItems=(0,y.delegate)("_subMenuController","getActiveSubItems"),Oe._cleanUpSubMenu=function(){this._subMenuController&&(this._subMenuController.un(null,this),this._subMenuController.destroy(),this._subMenuController=null)},Object.seal(Oe);const Me=Object.seal(Ce);var ye=s.A.extend((function(e,t,i,n){this._menuItemsComparator=re.createLabelComparator()}),ge);ye.create=function(e,t,i,n){return new ye(e,t,i,n)};var be=ye.prototype;be._createMenuView=function(e,t){return d.create()},Object.seal(be);const Se=Object.seal(ye);var De=s.A.extend((function(e,t,i,n,s,r,o,a){this._subMenuControllerClass=Se}),Me);De.create=function(e,t,i,n,s,r,o,a){return new De(e,t,i,n,s,r,o,a)},De.SELECT_ALL="SELECT_ALL",De.SELECT_ALL_ID=0,De.DESELECT_ALL="DESELECT_ALL",De.DESELECT_ALL_ID=1;var we=De.prototype;we.getMenuOptions=function(){return this._helper&&this._helper.hasSubMenu()?this._adaptEconomicEventsMenuOptions():this._adaptCompanyEventsMenuOptions()},we._adaptCompanyEventsMenuOptions=function(){return De.superclass.getMenuOptions.call(this).map((function(e){return(0,A.applyTo)({isPersistent:!0},e)}))},we._adaptEconomicEventsMenuOptions=function(){return this._subMenuController.getModel().map((function(e){return(0,A.applyTo)({items:this._adaptEconomicEventsMenuOptionsForCountry(e),isPersistent:!0},e)}),this)},we._adaptEconomicEventsMenuOptionsForCountry=function(e){var t=[],i=new Z.default(this._toggleAllCountryEvents.bind(this,!0)),n=new Z.default(this._toggleAllCountryEvents.bind(this,!1));return t.push({group:1,actionListener:i,data:{id:De.SELECT_ALL_ID,countryId:e.data.id},label:$.A.get(De.SELECT_ALL),isPersistent:!0}),t.push({group:1,actionListener:n,data:{id:De.DESELECT_ALL_ID,countryId:e.data.id},label:$.A.get(De.DESELECT_ALL),isPersistent:!0}),t.concat(e.options.map((function(e){return(0,A.applyTo)({group:2,isPersistent:!0},e)}),this))},we._toggleAllCountryEvents=function(e,t,i,n,s){var r=(0,ie.getEconomicEventsByCountryId)(t.countryId).map((function(e){return{id:e}}));this._handleEventsChanged(r,e,n,s)},Object.seal(we);const Le=Object.seal(De);var Re=i(48202),Pe=i(47292),Ne=i(70187),ke=i(27610),xe=i(56463),Ve=i(19862),Be=s.A.extend((function(e,t,i,s,r,o){this._initialStyles=(0,n.cloneDeep)(this._getStyles()),this._trackingOrigin=o}),Ve.A);Be.create=function(e,t,i,n,s,r){return new Be(e,t,i,n,s,r)};var He=Be.prototype;He._initialStyles=null,He._trackingOrigin="",He.resetToDefaults=function(){this._settingsManager.putColourCustomisationSettings(this._styles,!0),this.destroy(),this.initDom(this.dContainer),this.updateCaptureZones()},He.revertChanges=function(){this._settingsManager.putColourCustomisationSettings(this._initialStyles,!0)},He.save=function(){this._eventBus.publish("tracker/ga",[{interaction_type:Ee.GA_ACTION.PRICE_STYLE+" - modify",interaction_value:this._trackingOrigin,chart_style:this._settingsManager.getStyleSettings().toLowerCase()}])},Object.seal(He);const We=Object.seal(Be);var Fe=i(17099),Ue=s.A.extend(Object.assign((function(e,t,i,n,s,r,o){this._rootProperty=r}),{__constructorTransform:function(e,t,i,n,s,r,o){return[e,t,i,n,s,o]}}),We);Ue.create=function(e,t,i,n,s,r,o){return new Ue(e,t,i,n,s,r,o)};var Ge=Ue.prototype;Ge._rootProperty=null,Ge._createStylingWidgets=function(e){return[Fe.default.create(this._styles[this._rootProperty].noMovement.stroke,this._handleNewStroke.bind(this,"noMovement"),this._taskManager,this._settingsManager).initDom(e,this._eventBus,this._captureZoneManager,this._dialog,ke.default.get("candlestickStrokeNoMovement")),Fe.default.create(this._styles[this._rootProperty].up.fill,this._handleNewBody.bind(this,"up"),this._taskManager,this._settingsManager).initDom(e,this._eventBus,this._captureZoneManager,this._dialog,ke.default.get("candlestickBodyUp")),Fe.default.create(this._styles[this._rootProperty].up.stroke,this._handleNewStroke.bind(this,"up"),this._taskManager,this._settingsManager).initDom(e,this._eventBus,this._captureZoneManager,this._dialog,ke.default.get("candlestickStrokeUp"),["rising"]),Fe.default.create(this._styles[this._rootProperty].down.fill,this._handleNewBody.bind(this,"down"),this._taskManager,this._settingsManager).initDom(e,this._eventBus,this._captureZoneManager,this._dialog,ke.default.get("candlestickBodyDown")),Fe.default.create(this._styles[this._rootProperty].down.stroke,this._handleNewStroke.bind(this,"down"),this._taskManager,this._settingsManager).initDom(e,this._eventBus,this._captureZoneManager,this._dialog,ke.default.get("candlestickStrokeDown"),["falling"])]},Ge.resetToDefaults=function(){_.A.resetToDefaults(this._styles[this._rootProperty],["candlestick"],this._styles.themeSettingsMode),Ue.superclass.resetToDefaults.call(this)},Ge._handleNewBody=function(e,t,i){this._styles[this._rootProperty][e].fill[t]=i,this._settingsManager.putColourCustomisationSettings(this._styles,!0)},Ge._handleNewStroke=function(e,t,i){this._styles[this._rootProperty][e].stroke[t]=i,this._settingsManager.putColourCustomisationSettings(this._styles,!0)},Object.seal(Ge);const je=Object.seal(Ue);var Ke=i(71399),ze=s.A.extend((function(){}),We);ze.create=function(e,t,i,n,s,r){return new ze(e,t,i,n,s,r)};var Ze=ze.prototype;Ze._createStylingWidgets=function(e){return[Fe.default.create(this._styles.hloc.noMovement,this._handleNewStyle.bind(this,"noMovement"),this._taskManager,this._settingsManager).initDom(e,this._eventBus,this._captureZoneManager,this._dialog,ke.default.get("hlocNoMovement")),Fe.default.create(this._styles.hloc.up,this._handleNewStyle.bind(this,"up"),this._taskManager,this._settingsManager).initDom(e,this._eventBus,this._captureZoneManager,this._dialog,ke.default.get("hlocUp")),Fe.default.create(this._styles.hloc.down,this._handleNewStyle.bind(this,"down"),this._taskManager,this._settingsManager).initDom(e,this._eventBus,this._captureZoneManager,this._dialog,ke.default.get("hlocDown"))]},Ze.resetToDefaults=function(){_.A.resetToDefaults(this._styles.hloc,["hloc"],this._styles.themeSettingsMode),ze.superclass.resetToDefaults.call(this)},Ze._handleNewStyle=function(e,t,i){this._styles.hloc[e][t]=i,this._settingsManager.putColourCustomisationSettings(this._styles,!0)},Object.seal(Ze);const Ye=Object.seal(ze);var $e=i(38328),qe=s.A.extend((function(){}),We);qe.create=function(e,t,i,n,s,r){return new qe(e,t,i,n,s,r)};var Xe=qe.prototype;Xe._createStylingWidgets=function(e){return[Fe.default.create(this._styles.line.noMovement,this._handleNewStyle.bind(this,"noMovement"),this._taskManager,this._settingsManager).initDom(e,this._eventBus,this._captureZoneManager,this._dialog,ke.default.get("lineNoMovement")),Fe.default.create(this._styles.line.up,this._handleNewStyle.bind(this,"up"),this._taskManager,this._settingsManager).initDom(e,this._eventBus,this._captureZoneManager,this._dialog,ke.default.get("lineUp")),Fe.default.create(this._styles.line.down,this._handleNewStyle.bind(this,"down"),this._taskManager,this._settingsManager).initDom(e,this._eventBus,this._captureZoneManager,this._dialog,ke.default.get("lineDown"))]},Xe.resetToDefaults=function(){_.A.resetToDefaults(this._styles.line,["line"],this._styles.themeSettingsMode),qe.superclass.resetToDefaults.call(this)},Xe._handleNewStyle=function(e,t,i){this._styles.line[e][t]=i,this._settingsManager.putColourCustomisationSettings(this._styles,!0)},Object.seal(Xe);const Je=Object.seal(qe);var Qe=s.A.extend((function(){}),We);Qe.create=function(e,t,i,n,s,r){return new Qe(e,t,i,n,s,r)};var et=Qe.prototype;et._createStylingWidgets=function(e){return[Fe.default.create(this._styles.mountain.fill,this._handleNewBody.bind(this),this._taskManager,this._settingsManager).initDom(e,this._eventBus,this._captureZoneManager,this._dialog,ke.default.get("mountainBody")),Fe.default.create(this._styles.mountain.line,this._handleNewStroke.bind(this),this._taskManager,this._settingsManager).initDom(e,this._eventBus,this._captureZoneManager,this._dialog,ke.default.get("mountainStroke"))]},et.resetToDefaults=function(){_.A.resetToDefaults(this._styles.mountain,["mountain"],this._styles.themeSettingsMode),Qe.superclass.resetToDefaults.call(this)},et._handleNewStroke=function(e,t){this._styles.mountain.line[e]=t,this._settingsManager.putColourCustomisationSettings(this._styles,!0)},et._handleNewBody=function(e,t){this._styles.mountain.fill[e]=t,this._settingsManager.putColourCustomisationSettings(this._styles,!0)},Object.seal(et);const tt=Object.seal(Qe);var it=i(16687),nt=i(92896),st=i(5949),rt=i(54107),ot=i(81141),at=i(55466),lt=s.A.extend((function(e,t,i,n){this._tabs=Object.create(null),this._offsets={}}),Ne.default),dt=lt.prototype;dt._currentTab=null,dt._dTabContainer=null,dt._offsets=null,dt._tabs=null,dt._tabSelector=null,dt._getI18n=ot.A.abstractMethod,dt.initDom=function(e){var t=lt.superclass.initDom.call(this,e);return e.classed("tabbed",!0),this._tabSelector=this._createTabSelector(),this._tabSelector.withCaptureZoneManager(this._captureZoneManager),this._tabSelector.on(rt.default.VALUE_CHANGED,this._handleTabSelection,this),this._tabSelector.initDom(e,"tabSelector"),this._dTabContainer=e.append("div").classed("tabContainer",!0).style("visibility","hidden"),this._tabs=this._createTabs(this._dTabContainer),this._offsets=this._createOffsetMap(),this.selectTab(this._tabSelector.getCurrentValue()),this._dTabContainer.style("visibility","visible"),t},dt._createOffsetMap=function(){var e=(0,n.max)((0,n.values)(this._tabs).map((function(e){return e.dContainer.height()}))),t={};for(var i in this._tabs)t[i]=e-this._tabs[i].dContainer.height();return t},dt._createTabSelector=function(e,t,i){return at.A.create(this._getI18n(),e,e,{defaultValue:i,options:t.map((function(e){return{localisationKey:e,value:e}}))},i)},dt._createTabs=ot.A.abstractMethod,dt._createTab=function(e,t,i){var n=Array.from(arguments).slice(3);return i.create.apply(i,[this._dialog,this._eventBus,this._captureZoneManager,this._taskManager].concat(n)).initDom(t.append("div").classed(e,!0).classed("tab",!0))},dt.selectTab=function(e){var t;for(t in this._tabs)this._tabs[t].dContainer.classed("selected",t===e),this._tabs[t].dContainer.classed("hidden",t!==e),t===e?(this._tabs[t].enable(),this._currentTab=this._tabs[t]):this._tabs[t].disable();return this.fire(Ne.default.SIZE_CHANGED,this._offsets[e]),this.updateCaptureZones(),this},dt.enable=function(){return this._currentTab.enable(),this._tabSelector.enable(),lt.superclass.enable.call(this)},dt.disable=function(){return this._currentTab.disable(),this._tabSelector.disable(),lt.superclass.disable.call(this)},dt.updateCaptureZones=function(){var e;for(e in this._tabs)this._tabs[e].updateCaptureZones();return this._tabSelector&&this._tabSelector.updateCaptureZones(),lt.superclass.updateCaptureZones.call(this)},dt.destroy=function(){var e;for(e in this._tabs)this._tabs[e].destroy();this._tabs=Object.create(null),this._tabSelector&&(this._tabSelector.destroy(),this._tabSelector=null),this._dTabContainer&&(this._dTabContainer.remove(),this._dTabContainer=null),this.dContainer&&this.dContainer.classed("tabbed",!1),this._offsets=null,lt.superclass.destroy.call(this)},dt._handleTabSelection=function(e,t){this.selectTab(t)},dt.revertChanges=n.noop,dt.save=n.noop,dt.resetToDefaults=function(){this._currentTab&&this._currentTab.resetToDefaults()},Object.seal(dt);const ut=Object.seal(lt);var ct=s.A.extend((function(e,t,i,n,s,r){this._settingsManager=s,this._trackingOrigin=r}),ut);ct.create=function(e,t,i,n,s,r){return new ct(e,t,i,n,s,r)};var ht=ct.prototype;ht._getI18n=(0,n.constant)(st.default),ht._initialStyle=null,ht._trackingOrigin="",ht.initDom=function(e){return ct.superclass.initDom.call(this,e),this._initialStyle=this._settingsManager.getStyleSettings(),this},ht._createTabSelector=function(){return ct.superclass._createTabSelector.call(this,"StylePicker",[nt.default.CANDLE,nt.default.HEIKINASHI,nt.default.LINE,nt.default.HLOC,nt.default.MOUNTAIN],this._settingsManager.getStyleSettings())},ht._createTabs=function(e){var t={};return t[nt.default.CANDLE]=this._createTab(nt.default.CANDLE,e,je,this._settingsManager,"candlestick"),t[nt.default.HEIKINASHI]=this._createTab(nt.default.HEIKINASHI,e,je,this._settingsManager,"heikinashi"),t[nt.default.LINE]=this._createTab(nt.default.LINE,e,Je,this._settingsManager),t[nt.default.HLOC]=this._createTab(nt.default.HLOC,e,Ye,this._settingsManager),t[nt.default.MOUNTAIN]=this._createTab(nt.default.MOUNTAIN,e,tt,this._settingsManager),t},ht.selectTab=function(e){return ct.superclass.selectTab.call(this,e),this._settingsManager.putStyleSettings(e,!0),this},ht.revertChanges=function(){(0,n.invokeMap)(this._tabs,"revertChanges"),this._settingsManager.putStyleSettings(this._initialStyle,!0),ct.superclass.revertChanges.call(this)},ht.save=function(){var e=this._settingsManager.getStyleSettings().toLowerCase();this._initialStyle.toLowerCase()!==e&&this._eventBus.publish("tracker/ga",[{interaction_type:Ee.GA_ACTION.PRICE_STYLE+" - switch",interaction_value:Ee.EventOrigin.DIALOG,chart_style:e}]),this._eventBus.publish("tracker/ga",[{interaction_type:Ee.GA_ACTION.PRICE_STYLE+" - modify",interaction_value:this._trackingOrigin,chart_style:e}]),ct.superclass.save.call(this)},Object.seal(ht);const pt=Object.seal(ct);var _t=i(38473),gt=i(10520),ft=s.A.extend(Object.assign((function(e,t,i,n,s,r,o){this._settingsManager=n,this._customisationSettingsContents=[],this._showStyleTabs=r,this._trackingOrigin=o}),{__constructorTransform:function(e,t,i,n,s,r,o){return[e,t,i,s,r]}}),it.default);ft.create=function(e,t,i,n,s,r,o){return new ft(e,t,i,n,s,r,o)};var mt=ft.prototype;mt._customisationSettingsContents=null,mt._showStyleTabs=null,mt._dStackContainer=null,mt._trackingOrigin="",mt._settingsSaved=!1,mt.initDom=function(e){this._dStackContainer=e;var t=e.append("div").classed("content selected",!0);return ft.superclass.initDom.call(this,t),this},mt._createContent=function(){var e=this._dStackContainer;this._customisationSettingsContents.push(this._showStyleTabs?this._initContentItem(this.dContainer,pt):this._initStyleContentItem(this.dContainer),this._initContentItem(e,Ke.A),this._initContentItem(e,_t.A)),this._addResetToDefaultButton(e),this._initialiseActionButtons(e)},mt._onDoneButtonPressed=function(){(0,y.invokeCall)(this._customisationSettingsContents,"save"),this._settingsSaved=!0},mt._onResetButtonPressed=function(){(0,y.invokeCall)(this._customisationSettingsContents,"resetToDefaults")},mt._addResetToDefaultButton=function(e){this._resetToDefaultsButton=xe.default.create().initDom(e,"resetToDefault linkButton").setText($e.default.get("BUTTON_RESET_TO_DEFAULTS")).startListening(this._captureZoneManager,this._onResetButtonPressed.bind(this),gt.default.DIALOG_CONTROLS)},mt._initialiseActionButtons=function(e){this._dButtonContainer=e.append("div").classed("actions",!0).append("div").classed("actionButtons",!0),this._createDoneButton(this._onDoneButtonPressed,$e.default.get("BUTTON_APPLY")),this._createCancelButton()},mt._initContentItem=function(e,t){var i=t.create.call(t,this._dialog,this._eventBus,this._captureZoneManager,this._taskManager,this._settingsManager,this._trackingOrigin);return i.on(Ne.default.SIZE_CHANGED,(0,y.bubbler)(Ne.default.SIZE_CHANGED),this),i.initDom(e),i},mt._initStyleContentItem=function(e){var t;switch(this._settingsManager.getStyleSettings()){case nt.default.CANDLE:t=je.create(this._dialog,this._eventBus,this._captureZoneManager,this._taskManager,this._settingsManager,"candlestick",this._trackingOrigin);break;case nt.default.HEIKINASHI:t=je.create(this._dialog,this._eventBus,this._captureZoneManager,this._taskManager,this._settingsManager,"heikinashi",this._trackingOrigin);break;case nt.default.HLOC:t=Ye.create(this._dialog,this._eventBus,this._captureZoneManager,this._taskManager,this._settingsManager,this._trackingOrigin);break;case nt.default.LINE:t=Je.create(this._dialog,this._eventBus,this._captureZoneManager,this._taskManager,this._settingsManager,this._trackingOrigin);break;case nt.default.MOUNTAIN:t=tt.create(this._dialog,this._eventBus,this._captureZoneManager,this._taskManager,this._settingsManager,this._trackingOrigin);break;default:t=pt.create(this._dialog,this._eventBus,this._captureZoneManager,this._taskManager,this._settingsManager,this._trackingOrigin)}return t.on(Ne.default.SIZE_CHANGED,(0,y.bubbler)(Ne.default.SIZE_CHANGED),this),t.initDom(e),t},mt.updateCaptureZones=function(){return this._resetToDefaultsButton.updateCaptureZone(),(0,y.invokeCall)(this._customisationSettingsContents,"updateCaptureZones"),ft.superclass.updateCaptureZones.call(this)},mt.destroy=function(){this._settingsSaved||(0,y.invokeCall)(this._customisationSettingsContents,"revertChanges"),(0,y.invokeCall)(this._customisationSettingsContents,"un",null,this),(0,y.invokeCall)(this._customisationSettingsContents,"destroy"),this._resetToDefaultsButton&&(this._resetToDefaultsButton.destroy(),delete this._resetToDefaultsButton),ft.superclass.destroy.call(this)},Object.seal(mt);const vt=Object.seal(ft);var At=s.A.extend(Object.assign((function(e,t,i,n,s,r){this._settingsManager=i,this._showStyleTabs=s,this._trackingOrigin=r}),{__constructorTransform:function(e,t,i,n,s,r){return[e,t,n]}}),Pe.default);At.create=function(e,t,i,n,s,r){return new At(e,t,i,n,s,r)};var Et=At.prototype;Et._settingsManager=null,Et._showStyleTabs=null,Et._trackingOrigin="",Et._getDialogTitle=function(){return ke.default.get("dialogTitle")},Et._getDialogClasses=(0,n.constant)("styles"),Et._createContent=function(e){var t=vt.create(this,this._eventBus,this._captureZoneManager,this._settingsManager,this._taskManager,this._showStyleTabs,this._trackingOrigin);return t.on(Ne.default.SIZE_CHANGED,this._setOffset,this),t.initDom(e),t},Object.seal(Et);const Tt=Object.seal(At);var It=s.A.extend(Object.assign((function(e,t,i,n,s,r,o,a){this._menuContainerId=a,this._eventBus.subscribe("capabilities/styles",this.handleStylesCapabilities,this)}),{__constructorTransform:function(e,t,i,n,s,r,o,a){return[e,t,i,n,o]}}),he.default);It.create=function(e,t,i,n,s,r,o,a){return new It(e,t,i,n,s,r,o,a)};var Ct=It.prototype;Ct.id="styles",Ct._menuContainerId="",Ct._whenViewIsReady=function(){this._updateStyleSettings(),this._settingsManager.on((0,Ie.getLayoutSettingsEvent)(P.default.CORE),this._updateStyleSettings,this)},Ct._setStyle=function(e,t,i,n){this._eventBus.publish("tracker/ga",[{interaction_type:Ee.GA_ACTION.PRICE_STYLE+" - switch",interaction_value:(0,Ee.fromMenuSource)(n||this._menuContainerId),chart_style:e.id.toLowerCase()}]),this._settingsManager.putStyleSettings(e.id,!0)},Ct._updateStyleSettings=function(){this._view&&this._view.selectItem(this._settingsManager.getStyleSettings()),this._model&&this._model.forEach((function(e){e.isSelected=e.data.id===this._settingsManager.getStyleSettings()}),this)},Ct.handleStylesCapabilities=function(e,t){var i=this.createCapabilitiesStyleModels(e,t,1);this.withModel(i)},Ct.createCapabilitiesStyleModels=function(e,t,i){var n=new Z.default(this._setStyle.bind(this));return t.map((function(e){return{group:i,label:e.label,actionListener:n,data:{id:e.json.value}}}))},Object.seal(Ct);const Ot=Object.seal(It);var Mt=s.A.extend((function(){}),Ot),yt=Mt.prototype;Mt.create=function(e,t,i,n,s,r,o,a){return new Mt(e,t,i,n,s,r,o,a)},Mt.showCustomisationDialog=function(e,t){this._dialogBox=new Tt(this._eventBus,this._captureZoneManager,this._settingsManager,this._taskManager,e,t).initDom(this._containerProvider.getContainer("top-html")).makeScrollable()},yt.handleStylesCapabilities=function(e,t){var i=this.createCapabilitiesStyleModels(e,t,2),n=(0,Ee.fromMenuSource)(this._menuContainerId);i.unshift({group:1,label:Re.default.get("styles_customise"),actionListener:new Z.default(Mt.showCustomisationDialog.bind(this,!1,n)),data:{id:"customiseStyles"}}),this.withModel(i)},Object.seal(yt);const bt=Object.seal(Mt);var St=s.A.extend(Object.assign((function(e,t,i,n,s,r,o,a){this._menuContainerId=a}),{__constructorTransform:function(e,t,i,n,s,r,o,a){return[e,t,i,n,o]}}),he.default);St.create=function(e,t,i,n,s,r,o,a){return new St(e,t,i,n,s,r,o,a)};var Dt=St.prototype;Dt.id="customise_appearance",Dt._menuContainerId="",Dt.getMenuTitle=function(){return Re.default.get("customise_appearance")},Dt.show=function(e){var t=(0,Ee.fromMenuSource)(e||this._menuContainerId);bt.showCustomisationDialog.call(this,!0,t)},Dt.hide=n.noop,Object.seal(Dt);const wt=Object.seal(St);var Lt=i(82634),Rt=i(55847),Pt=i(59136),Nt=i(60102),kt=i(90577),xt=i(4848),Vt=i(53621),Bt=i(99428),Ht=i(49625),Wt=i(50951),Ft=s.A.extend((function(e,t,i,n){this._updateCaptureZone=y.schedule.throttledDeferred(this._updateCaptureZone),this._zIndex=gt.default.DEAL_CONFIRMATION_BOX}),Ht.default),Ut=Ft.prototype;Ut._ignoreDealResult=!1,Ut._ignoreValidation=!1,Ut._buttonCaptureZone=null,Ut.startRedrawingBasedOnChangesInVisibleWindow=function(){this._presentationController.startListening(this._visibleWindow,this._instrumentModel),this._presentationModel.on(Bt.A.CONFIRMATION,this._handleConfirmation,this),this._presentationModel.on(Bt.A.REJECTION,this._handleRejection,this),this._presentationModel.on(Bt.A.INVALID,this._handleInvalid,this),this._presentationModel.on(Bt.A.IGNORE_VALIDATION,this._handleIgnoreValidation,this),Ft.superclass.startRedrawingBasedOnChangesInVisibleWindow.call(this)},Ut._createCaptureZone=function(){Ft.superclass._createCaptureZone.call(this),this._buttonCaptureZone=this._captureZoneManager.create(Wt.default.PROPAGATE_ALL,this._zIndex),this._buttonCaptureZone.setHoverHandler({in:this._setCloseButtonHover.bind(this,!0),out:this._setCloseButtonHover.bind(this,!1)})},Ut._updateCaptureZone=function(){Ft.superclass._updateCaptureZone.call(this),this._buttonCaptureZone&&this._buttonCaptureZone.setDimensionsBasedOnElement(this._dCloseButton)},Ut._hide=function(){this._updateCaptureZone.cancel(),Ft.superclass._hide.apply(this,arguments),this._buttonCaptureZone&&(this._buttonCaptureZone.destroy(),this._buttonCaptureZone=null)},Ut._setCloseButtonHover=function(e){this._dCloseButton.classed("hover",e)},Ut._handleConfirmation=function(e){this._ignoreDealResult||(this._setIcon(!1),this._setDealConfirmation(e),this.showConfirmation())},Ut._handleRejection=function(e){this._ignoreDealResult||(this._setIcon(!0),this._setDealConfirmation(e),this.showConfirmation())},Ut._handleInvalid=function(e){this._ignoreValidation||(this._setIcon(!0),this._setDealConfirmation(e),this.showConfirmation())},Ut.withIgnoreDealResult=(0,y.setter)("_ignoreDealResult"),Ut._handleIgnoreValidation=(0,y.setter)("_ignoreValidation"),Ut.showConfirmation=function(){this._presentationController.publishValidation(),this._show(!0)},Ut.destroy=function(){this._updateCaptureZone.cancel(),Ft.superclass.destroy.call(this)},Ut._setDealConfirmation=function(e){this._dTextContainer.classed("dealInfo",!0),this._dTextContainer.selectAll("*").remove(),e.data.forEach((function(t){this._addDealInfoElementForField(t,e.showLabel)}),this)},Ut._addDealInfoElementForField=function(e,t){t=!1!==t;var i=e.key,n=e.value,s=this._dTextContainer.append("span").classed("dealInfoItem",!0);i&&t&&s.append("span").classed("dealInfoLabel",!0).text(i),s.append("span").classed("dealInfoLabelValue",!0).text(n)},Ut._setIcon=function(e){var t=this.dContainer.select(".icon");this.dContainer.classed("error",e),this.dContainer.classed("ok",!e),t.classed("iconError",e),t.classed("iconOK",!e)},Object.seal(Ut);const Gt=Object.seal(Ft);var jt=i(2174),Kt=i(52835),zt=i(69981),Zt=i(85690),Yt=i(86605),$t=i(30992),qt=i(73453),Xt=s.A.extend((function(){}),Zt.default),Jt=Xt.prototype;Jt._leftSpace=null,Jt._rightSpace=null,Jt.startRedrawingBasedOnChangesInVisibleWindow=function(){this._visibleWindow.on(qt.default.MOVED,this._handleVisibleWindowMoved,this),this._instrumentModel.on($t.default.END_DATE_CHANGED,this.renderOnFrameEnd,this)},Jt.stopRedrawingBasedOnChangesInVisibleWindow=function(){this._visibleWindow.un(null,this),this._instrumentModel.un(null,this)},Jt._handleVisibleWindowMoved=function(e,t){t&Yt.default.RESIZED&&this._updateHeight(),e&Yt.default.MOVED&&this.renderOnFrameEnd()},Jt.initDom=function(){return this._leftSpace=this.dContainer.append("svg:rect").attr("x",0).attr("y",0).attr("class","left space"),this._rightSpace=this.dContainer.append("svg:rect").attr("y",0).attr("class","right space"),this},Jt.render=function(){this._drawRightSpaceRect(),this._drawLeftSpaceRect()},Jt._drawRightSpaceRect=function(){var e=this._instrumentModel.activeInstrumentResolution.getTimeline().accEnd(),t=this._visibleWindow.visibleDateRange.accTimeToPixel(e),i=this._visibleWindow.visibleDateRange.distanceOverRightBound();this._rightSpace.attr("x",t).attr("width",Math.max(i,0))},Jt._drawLeftSpaceRect=function(){var e=this._visibleWindow.visibleDateRange.distanceOverLeftBound();this._leftSpace.attr("width",Math.max(e,0))},Jt._updateHeight=function(){var e=this._visibleWindow.height();this._leftSpace.attr("height",e),this._rightSpace.attr("height",e)},Object.seal(Jt);const Qt=Xt;var ei=i(70029),ti=i(42326),ii=i(30070),ni=i(45402),si=i(61163),ri=i(59070),oi=i(938),ai=i(38153),li=i(74893),di=i(72873),ui=i(76040),ci=i(48969),hi=i(83266),pi=i(58634),_i=i(25259),gi=i(96285),fi=i(97204),mi="sticky tick hidden";function vi(e,t,i){this._dContainer=t.append("svg:g").classed(mi,!0),this._dText=this._dContainer.append("svg:text"),this._userTimeZone=e,this._tickType=i}var Ai=vi.prototype;Ai._background=!1,Ai.withBackground=(0,y.setter)("_background"),Ai._tickType=null,Ai._dContainer=null,Ai._dText=null,Ai._lastAccTime=null,Ai._backgroundHeight=0,Ai._subViewDimensions=null,Ai.withBackgroundHeight=(0,y.setter)("_backgroundHeight"),Ai.withSubViewDimensions=(0,y.setter)("_subViewDimensions"),Ai.withTextAttributes=function(e){var t=(0,A.merge)({},e,{x:6});return this._dText.attrs(t),this},Ai._transformFunction=(0,n.constant)(di.default.svgTranslateAttrX(0)),Ai.withTransformFunction=function(e,t){return this._transformFunction=function(){var i=this._subViewDimensions&&this._subViewDimensions.x||0;return di.default.svgTranslateAttrX(t(-e(0))-1+i)}.bind(this),this},Ai.renderTicks=function(e){var t=this._selectTickToSticky(e);t&&t.accTime!==this._lastAccTime?(this._lastAccTime=t.accTime,this._renderLabel(t),this._background&&this._renderBackground(),this.replotHorizontally()):t||null===this._lastAccTime||(this._lastAccTime=null,this._hideLabel())},Ai._selectTickToSticky=function(e){for(var t=null,i=0;e[i]&&1===e[i].isEdge;)t=e[i],i++;return t},Ai._renderLabel=function(e){var t=$e.default.get(this._tickType+"-tick-date-format-"+e.unit),i=gi.DateTime.fromJSDate(e.date,{zone:this._userTimeZone}).toFormat(t);this._dText.text(i),this._dContainer.attr("class","sticky tick")},Ai._renderBackground=function(){var e=this._dText.node(),t=this._getLabelWidth(),i=(0,fi.A)(document.createElementNS("http://www.w3.org/2000/svg","rect")).classed("background",!0).attr("x",0).attr("y",1).attr("width",t).attr("height",this._backgroundHeight).node();this._dContainer.select("rect").remove(),e.parentNode.insertBefore(i,e)},Ai._hideLabel=function(){this._dContainer.attr("class",mi)},Ai._getLabelWidth=function(){return di.default.getBBox(this._dText.node()).width+12},Ai.replotHorizontally=function(){this._dContainer.attr("transform",this._transformFunction)},Object.seal(Ai);const Ei=Object.seal(vi);var Ti=Object.freeze({class:"label",dy:"1.18em",y:0}),Ii=s.A.extend((function(){}),ri.A);Ii.MIN_TICK_WIDTH=80,Ii.isTickVisible=function(e){return!(e.isColliding||this.isEdge)};var Ci=Ii.prototype;Ci._userTimeZone=null,Ci._stickyRenderer=null,Ci._majorTicksRenderer=null,Ci._minorTicksRenderer=null,Ci._minorTickIter=null,Ci._majorTickIter=null,Ci._majorTicks=null,Ci._minorTicks=null,Ci._requiredHeight=18,Ci.withRequiredHeight=(0,y.setter)("_requiredHeight"),Ci._textAttributes=Ti,Ci.withTextAttributes=function(e){return this._textAttributes=(0,A.merge)(Ti,e),this},Ci._axisHeight=18,Ci.withAxisHeight=(0,y.setter)("_axisHeight"),Ci._axisVerticalPadding=1,Ci.withAxisVerticalPadding=(0,y.setter)("_axisVerticalPadding"),Ci._showLabels=!0,Ci.withShowLabels=(0,y.setter)("_showLabels"),Ci._showTicks=!0,Ci.withShowTicks=(0,y.setter)("_showTicks"),Ci._stickyLabels=!1,Ci.withStickyLabels=(0,y.setter)("_stickyLabels"),Ci._labelBackgrounds=!1,Ci.withLabelBackgrounds=(0,y.setter)("_labelBackgrounds"),Ci._marginRight=0,Ci.withMarginRight=(0,y.setter)("_marginRight"),Ci._backgroundStrokeWidth=null,Ci._createProjection=function(){return new pi.A(new ci.default)},Ci.heightRequired=(0,y.getter)("_requiredHeight"),Ci.startRedrawingBasedOnChangesInVisibleWindow=function(){Ii.superclass.startRedrawingBasedOnChangesInVisibleWindow.call(this),this._instrumentResolution=this._instrumentModel.activeInstrumentResolution,this._instrumentResolution.info?this._handleInstrumentResolutionInfoLoaded(this._instrumentResolution.info):this._instrumentResolution.on(ai.default.INFO_LOADED,this._handleInstrumentResolutionInfoLoaded,this,{once:!0}),this._visibleWindow.on(qt.default.MOVED,this._handleVisibleWindowMoved,this)},Ci.stopRedrawingBasedOnChangesInVisibleWindow=function(){this._instrumentResolution.un(null,this),this._subView.getChartView().un(null,this),this._visibleWindow.un(null,this),Ii.superclass.stopRedrawingBasedOnChangesInVisibleWindow.call(this)},Ci._handleInstrumentResolutionInfoLoaded=function(e){this._userTimeZone=e.getUserTimeZone(),this._createTickRenderers(),this._instrumentModel.timeline.hasIntervals()&&(this._setIterators(),this.renderOnFrameEnd())},Ci._createTickRenderers=function(){var e,t=this._getForwardsProjectionInX();this._labelBackgrounds&&(this._background=this.dContainer.append("rect").classed("xAxisBackground",!0),e=parseFloat(window.getComputedStyle(this._background.node()).strokeWidth),this._backgroundStrokeWidth=isNaN(e)?0:e),this._minorTicksRenderer=_i.A.create(this._userTimeZone,this.dContainer,"minor").withTransformFunction(this._projection.inX.roundValue,t).withTextAttributes(this._textAttributes).withShowLabels(this._showLabels).withShowTicks(this._showTicks),this._stickyLabels&&(this._stickyRenderer=new Ei(this._userTimeZone,this.dContainer,"major").withTransformFunction(this._visibleWindow.getXScale(),this._projection.inX.roundValue).withBackground(this._labelBackgrounds).withBackgroundHeight(this._axisHeight-2*this._axisVerticalPadding).withTextAttributes(this._textAttributes)),this._majorTicksRenderer=new _i.A.create(this._userTimeZone,this.dContainer,"major").withTransformFunction(this._projection.inX.roundValue,t).withBackgrounds(this._labelBackgrounds).withBackgroundHeight(this._axisHeight-2*this._axisVerticalPadding).withTextAttributes(this._textAttributes).withShowLabels(this._showLabels).withShowTicks(this._showTicks)},Ci._handleVisibleWindowMoved=function(e,t){if(this._majorTicksRenderer&&this._minorTicksRenderer){if(this._background){var i={height:this._subView.dimensions.height};e&(Yt.default.INITIALISED|Yt.default.RESIZED)&&(i.width=this._subView.dimensions.width+this._backgroundStrokeWidth+"px"),e&&(i.transform=di.default.svgTranslateAttrX(this._projection.inX.roundValue(-this._visibleWindow.getXScale()(0))-this._axisVerticalPadding+this._subView.dimensions.x)),this._background.attrs(i)}(e|t)&(Yt.default.INITIALISED|Yt.default.RESIZED)&&(this._minorTicksRenderer.withSubViewDimensions(this._subView.dimensions),this._majorTicksRenderer.withSubViewDimensions(this._subView.dimensions),this._stickyLabels&&this._stickyRenderer.withSubViewDimensions(this._subView.dimensions)),this._stickyLabels&&e&&this._stickyRenderer.replotHorizontally(),e&(Yt.default.RESIZED|Yt.default.ZOOMED)&&(this._setIterators(),this._minorTicksRenderer.replotHorizontally(),this._majorTicksRenderer.replotHorizontally()),e&&this._instrumentModel.timeline.hasIntervals()&&this.renderOnFrameEnd(),t&Yt.default.RESIZED&&(this._minorTicksRenderer.replotVertically(),this._majorTicksRenderer.replotVertically())}},Ci._setIterators=function(){var e=this._visibleWindow.visibleDateRange.approxTimeDensity(),t=Ii.MIN_TICK_WIDTH,i=this._instrumentModel.activeResolution.period,n=hi.default.getTickIterator(hi.default.RANGE_TICK_TYPE,e,t,i,this._userTimeZone),s=hi.default.getTickIterator(hi.default.INDIVIDUAL_TICK_TYPE,e,t,i,this._userTimeZone);s!==this._minorTickIter&&(this._minorTickIter=s),n!==this._majorTickIter&&(this._majorTickIter=n)},Ci._getDateRange=function(){return[oi.default.laterOf(this._visibleWindow.visibleDateRange.startDate(),this._instrumentModel.timeline.startDate()),oi.default.earlierOf(this._visibleWindow.visibleDateRange.endDate(),this._instrumentModel.timeline.endDate())]},Ci._initTicksForDateRange=function(e){var t=this._majorTickIter.period<=ui.default.Periods.DAY&&this._instrumentResolution.resolution!==li.default.values.TICK,i=hi.default.extendDateRangeForOffscreenTicks(e,this._majorTickIter),n=hi.default.getInstanceTicks(e,this._minorTickIter,this._instrumentModel.timeline,!1,.2*this._minorTickIter.period,"minor"),s=hi.default.getInstanceTicks(i,this._majorTickIter,this._instrumentModel.timeline,t,0*this._majorTickIter.period,"major");this._majorTicks=s,this._minorTicks=this._filterClashingTicks(s,n)},Ci._filterClashingTicks=function(e,t){var i,n=e.map((0,y.plucker)("accTime")),s=[];for(i=0;i<t.length;i++)(0,te.contains)(n,t[i].accTime)||s.push(t[i]);return s},Ci._markEdgeTicks=function(e,t){var i,n=this._visibleWindow.visibleDateRange,s=Math.min(n.accEnd(),this._instrumentModel.timeline.accEnd()),r=n.pixelsToAccDuration(t/2);for(this._marginRight&&(s-=n.pixelsToAccDuration(this._marginRight)),i=0;i<e.length;i++)e[i].accTime-r<=n.accStart()?e[i].isEdge=1:e[i].accTime+r>=s&&(e[i].isEdge=2)},Ci._markCollidingOpenTicks=function(e,t){var i,n=this._visibleWindow.visibleDateRange.pixelsToAccDuration(t),s=(0,te.firstOf)(e),r=(0,te.lastOf)(e);for(i=0;i<e.length;i++)e[i].type===hi.default.OPEN_TICK_TYPE&&(e[i]!==s&&Ii.isTickVisible(e[i-1])&&e[i].accTime-e[i-1].accTime<n&&(e[i].isColliding=!0),e[i]!==r&&Ii.isTickVisible(e[i+1])&&e[i+1].accTime-e[i].accTime<n&&(e[i].isColliding=!0))},Ci._markHiddenTicks=function(e,t,i){var n,s,r,o,a,l=this._visibleWindow.visibleDateRange,d=l.accStart(),u=l.pixelsToAccTime(i)-d;for(s=0;s<e.length;s++){for(o=e[s],n=0;n<t.length;n++)if(Ii.isTickVisible(t[n])&&!o.isColliding&&(r=Math.abs(t[n].accTime-o.accTime))<u){o.isColliding=!0;break}s<e.length-1&&!o.isColliding&&(a=e[s+1],r=Math.abs(a.accTime-o.accTime),a.isColliding=r<u)}},Ci._hideCollidingMinorTicks=function(){this._markHiddenTicks(this._minorTicks,this._majorTicks,80)},Ci.render=function(){this._initTicksForDateRange(this._getDateRange()),this._renderMinorTicks(),this._renderMajorTicks(),this._hideCollidingMinorTicks(),this._stickyLabels&&this._stickyRenderer.renderTicks(this._majorTicks),this._minorTicksRenderer.hideMarkedTicks(),this._majorTicksRenderer.hideMarkedTicks()},Ci._renderMinorTicks=function(){this._minorTicksRenderer.renderTicks(this._minorTicks,this._visibleWindow.height()),this._minorTicks.length&&this._markEdgeTicks(this._minorTicks,60)},Ci._renderMajorTicks=function(){this._majorTicksRenderer.renderTicks(this._majorTicks,this._visibleWindow.height()),this._majorTicks.length&&(this._markEdgeTicks(this._majorTicks,100),this._markCollidingOpenTicks(this._majorTicks,100))},Ci._replot=n.noop,Object.seal(Ci);const Oi=Object.seal(Ii);var Mi=i(57754),yi=i(55159),bi=i(35950),Si=i(14898),Di={type:Nt.default,presentationModel:{type:kt.default,properties:xt.default}};const wi={absoluteoverlay:{type:zt.A,properties:{fullSpan:!0},relativeWeighting:-900,isPersistent:!0,presentationControllers:{commonUi:Di}},htmloverlay:{type:zt.A,relativeWeighting:-1e3,isPersistent:!0,presentationControllers:{commonUi:Di,messageBoxPresentationController:{type:Vt.A,presentationModel:{type:Bt.A}}},renderers:{confirmationBox:{type:Gt,group:"body",presentationController:"messageBoxPresentationController",properties:{relativeWeighting:1}},indicativeLabel:{type:ei.A,group:"body",position:"xAxis",properties:{i18n:$e.default,textKey:"dataIsIndicative-label"}}}},frame:{type:Kt.A,relativeWeighting:999,isPersistent:!0,properties:{spanFullChart:!0},renderers:{}},underlay:{type:ni.A,relativeWeighting:-999,isPersistent:!0,renderers:{offChart:{type:Qt,group:"body"},xTicks:{type:Oi,group:"xAxis",position:"xAxis",properties:{marginRight:-80,stickyLabels:!1,labelBackgrounds:!1,showLabels:!1,showTicks:!0}}}},xaxis:{type:si.default,relativeWeighting:300,isPersistent:!0,renderers:{xTicks:{type:Oi,group:"xAxis",position:"xAxis",properties:{marginRight:-80,stickyLabels:!0,labelBackgrounds:!0,showLabels:!0,showTicks:!1}}}},prices:{type:ti.A,relativeSize:1,relativeWeighting:0,minHeight:ii.default.DEFAULT_PRICES_MIN_HEIGHT,instrumentScaling:!0,isPersistent:!0,yFitter:{type:jt.A},zoom:!0,presentationControllers:{commonUi:Di,yAxisPresentationController:{type:yi.A,presentationModel:{type:bi.default}}},renderers:{yTicks:{type:Si.default,group:"yTicks",position:"yTicks",presentationController:"yAxisPresentationController"},yAxis:{type:Mi.default,group:"yAxis",position:"yAxis",presentationController:"yAxisPresentationController",properties:{draggingEnabled:!0}}}}};const Li=(0,A.merge)(wi,{prices:{yFitter:{properties:{verticalPadding:120}}}});var Ri=864e5;var Pi=s.A.extend((function(){}),p.default),Ni=Pi.prototype;Ni.userAnnotations=Object.freeze([]),Ni.isReachable=function(e){if(!e)return!0;for(var t=e&&e.resolution,i=t&&t.scale,n=t&&t.multiplier,s=Date.now(),r=function(e,t){switch(e){case"TICK":case"SECOND":return 2*Ri;case"MINUTE":return t<5?42*Ri:365*Ri;case"HOUR":return 365*Ri;default:return Number.MAX_SAFE_INTEGER}}(i,n),o=0,a=1;e["point"+a];)o=Math.max(o,e["point"+a].x),a+=1;return o>=s-r-Ri},Ni.fromJSON=function(e){this.userAnnotations=e.userAnnotations||[],this.userAnnotations=this.userAnnotations.filter(this.isReachable)},Ni.toJSON=function(){return{userAnnotations:this.userAnnotations.filter(this.isReachable)}},Ni.isModified=function(){return!!this.userAnnotations.length},Object.seal(Ni);const ki=Object.seal(Pi);var xi=s.A.extend((function(){}),p.default),Vi=xi.prototype;Vi.isVisible=!0,Vi.isToolboxVisible=!1,Vi.getToolboxVisibility=function(){return this.isVisible&&this.isToolboxVisible},Vi.isModified=function(){return this.hasOwnProperty("isVisible")||this.hasOwnProperty("isToolboxVisible")},Vi.fromJSON=function(e){void 0!==e.isVisible&&(this.isVisible=!!e.isVisible),void 0!==e.isToolboxVisible&&(this.isToolboxVisible=!!e.isToolboxVisible)},Vi.toJSON=function(){var e={};return this.hasOwnProperty("isVisible")&&(e.isVisible=this.isVisible),this.hasOwnProperty("isToolboxVisible")&&(e.isToolboxVisible=this.isToolboxVisible),e},Object.seal(Vi);const Bi=Object.seal(xi);var Hi=s.A.extend((function(e,t,i){this.annotationsSettings||(this.annotationsSettings=Object.create(null))}),p.default),Wi=Hi.prototype;Wi.annotationsSettings=null,Wi.snapToPrices=!0,Wi.fromJSON=function(e){(0,n.isEmpty)(e.annotationsSettings)||(this.annotationsSettings=e.annotationsSettings),(0,n.has)(e,"snapToPrices")&&(this.snapToPrices=e.snapToPrices)},Wi.toJSON=function(){var e={};return(0,n.isEmpty)(this.annotationsSettings)||(e.annotationsSettings=this.annotationsSettings),(0,n.has)(this,"snapToPrices")&&(e.snapToPrices=this.snapToPrices),e},Wi.isModified=function(){return!(0,n.isEmpty)(this.toJSON())},Object.seal(Wi);const Fi=Object.seal(Hi);var Ui=i(32713),Gi=i(6182),ji=i(60644),Ki=i(35529),zi=s.A.extend((function(e,t,i,n,s,r,o){this._settingsManager=s,this._drawingPresentationModel=r,this._reactUI=o}),it.default);zi.create=function(e,t,i,n,s,r,o){return new zi(e,t,i,n,s,r,o)};var Zi=zi.prototype;Zi._drawingPresentationModel=null,Zi._settingsManager=null,Zi._resetToDefaultsButton=null,Zi._drawingSettingsContents=null,Zi._dFullButtonContainer=null,Zi._dStackContainer=null,Zi._settingsSaved=!1,Zi._reactUI=null,Zi.initDom=function(e){this._dStackContainer=e;var t=e.append("div").classed("content selected",!0);return zi.superclass.initDom.call(this,t),this},Zi._createContent=function(){this._drawingSettingsContents=this._drawingPresentationModel.getSettingsDialogContent().map(this._initContentItem.bind(this,this.dContainer)),this._addResetToDefaultButton(this._dStackContainer),this._addSaveCheckbox(this._dStackContainer),this._initialiseActionButtons(this._dStackContainer)},Zi._initContentItem=function(e,t){return t.create(this._dialog,this._eventBus,this._captureZoneManager,this._taskManager,this._settingsManager,this._drawingPresentationModel,this._reactUI).initDom(e)},Zi._addResetToDefaultButton=function(e){this._resetToDefaultsButton=xe.default.create().initDom(e,"resetToDefault linkButton").setText($e.default.get("BUTTON_RESET_TO_DEFAULTS")).startListening(this._captureZoneManager,this._onResetButtonPressed.bind(this),gt.default.DIALOG_CONTROLS)},Zi._addSaveCheckbox=function(e){this._drawingSettingsContents.push(this._initContentItem(e,Ki.A))},Zi._initialiseActionButtons=function(e){this._dButtonContainer=e.append("div").classed("actions",!0).append("div").classed("actionButtons",!0),this._createDoneButton(this._onDoneButtonPressed,$e.default.get("BUTTON_APPLY")),this._createCancelButton()},Zi._onDoneButtonPressed=function(){(0,y.invokeCall)(this._drawingSettingsContents,"save"),this._settingsSaved=!0},Zi._onResetButtonPressed=function(){(0,y.invokeCall)(this._drawingSettingsContents,"resetToDefaults")},Zi.updateCaptureZones=function(){return this._resetToDefaultsButton.updateCaptureZone(),(0,y.invokeCall)(this._drawingSettingsContents,"updateCaptureZones"),zi.superclass.updateCaptureZones.call(this)},Zi.destroy=function(){this._settingsSaved||(0,y.invokeCall)(this._drawingSettingsContents,"revertChanges"),(0,y.invokeCall)(this._drawingSettingsContents,"destroy"),this._resetToDefaultsButton&&(this._resetToDefaultsButton.destroy(),delete this._resetToDefaultsButton),this._dFullButtonContainer&&(this._dFullButtonContainer.remove(),delete this._dFullButtonContainer),zi.superclass.destroy.call(this)},Object.seal(Zi);const Yi=Object.seal(zi);var $i=s.A.extend((function(e,t,i,n,s,r,o){this._settingsManager=n,this._drawing=s,this._reactUI=r,o&&(this._actionOrigin=o)}),Pe.default);$i.create=function(e,t,i,n,s,r,o){return new $i(e,t,i,n,s,r,o)};var qi=$i.prototype;qi._actionOrigin=null,qi._drawing=null,qi._settingsManager=null,qi._reactUI=null,qi.done=function(){this._actionOrigin&&this._eventBus.publish("tracker/ga",[{interaction_type:Ee.GA_ACTION.DRAWINGS+" - modify",interaction_value:this._actionOrigin,chart_drawing:this._drawing.getType().toLowerCase()}]),$i.superclass.done.call(this)},qi._getDialogTitle=function(){return ji.default.get(this._drawing.getType())},qi._getDialogClasses=function(){return"drawingSettings "+this._drawing.getType()+" stackContent"},qi._createContent=function(e){return this.content=Yi.create(this,this._eventBus,this._captureZoneManager,this._taskManager,this._settingsManager,this._drawing,this._reactUI),this.content.initDom(e),this.content},Object.seal(qi);const Xi=Object.seal($i);var Ji=i(64614),Qi=i(10094),en=s.A.extend((function(){}),Ji.A),tn=en.prototype;tn._angle=null,tn.getAngle=(0,y.getter)("_angle"),tn.setAngle=function(e){null!==e&&(e=(0,Qi.normaliseAngle)(e)),e!==this._angle&&(this._angle=e)},tn.marshal=function(){var e=en.superclass.marshal.call(this);return this._marshalAngle(e),(0,A.applyTo)(e,{point2:{x:0,y:0}}),e},tn.unmarshal=function(e){en.superclass.unmarshal.call(this,e),this._unmarshalAngle(e)},tn._marshalAngle=function(e){(0,A.applyTo)(e,{angleDegrees:this.getAngle()})},tn._unmarshalAngle=function(e){this.setAngle(e.angleDegrees)},Object.seal(tn);const nn=Object.seal(en);var sn=s.A.extend((function(){}),nn),rn=sn.prototype;rn.getDefaultStyle=function(){return{default:{colour:Ji.A.DEFAULT_STYLE.colour,width:Ji.A.DEFAULT_STYLE.width},dark:{colour:Ji.A.DARK_DEFAULT_STYLE.colour,width:Ji.A.DARK_DEFAULT_STYLE.width}}},rn._marshalAngle=function(e){(0,A.applyTo)(e,{arrowAngle:this.getAngle()})},rn._unmarshalAngle=function(e){this.setAngle(e.arrowAngle)},Object.seal(rn);const on=Object.seal(sn);var an=i(14205),ln=i(23584),dn=i(28194),un=s.A.extend((function(){}),an.A),cn=un.prototype;cn._editAngleAnchorDistance=null,cn.getAngle=(0,y.delegate)("_drawing","getAngle"),cn.getMaxAnchors=(0,n.constant)(2),cn._getDefaultEditAngleAnchorDistance=ot.A.abstractMethod,cn.resetEditAngleAnchorDistance=function(){this._editAngleAnchorDistance=this._getDefaultEditAngleAnchorDistance()},cn.getEditAngleAnchorCoords=function(){var e=this.getAdjustedAnchorCoordinates();return this._getEditAngleAnchorCoordsForDistance(e[0],this._editAngleAnchorDistance,this.getAngle())},cn._getEditAngleAnchorCoordsForDistance=function(e,t,i){var n=(0,Qi.degreesToRadians)(i);return{x:(t||this._getDefaultEditAngleAnchorDistance())*Math.cos(n)+e.x,y:(t||this._getDefaultEditAngleAnchorDistance())*Math.sin(-n)+e.y}},cn.dragAnchor=function(e,t){var i,n=this.getAdjustedAnchorCoordinates();0===t?(un.superclass.dragAnchor.call(this,e,t),this.isPending()||(i=this.getAdjustedAnchorCoordinates(),this.moveAnchor({moveX:i[0].x-n[0].x,moveY:i[0].y-n[0].y},1))):1===t&&(un.superclass.setAnchorCoordinates.call(this,this.subView.getRelativeCursorPoint(e),t),i=this.getAdjustedAnchorCoordinates(),this._setDrawingAngle(i),this._editAngleAnchorDistance=ln.default.distancePointToPoint(i[0].x,i[0].y,i[1].x,i[1].y))},cn._setDrawingAngle=function(e){var t=Math.atan2(e[1].y-e[0].y,e[1].x-e[0].x);this.setAngle((0,Qi.radiansToDegrees)(-t))},cn.setAngle=function(e){e!==this.getAngle()&&(this._drawing.setAngle(e),this.fire(dn.A.DRAGGED))},Object.seal(cn);const hn=Object.seal(un);var pn=i(94643),_n=s.A.extend((function(){}),hn),gn=_n.prototype;gn.getAddingCursor=(0,n.constant)(Gi.default.ARROW_CROSSHAIR),gn._getDefaultEditAngleAnchorDistance=function(){return this.isPending()?0:97.5},gn.getScale=function(){return O.default.CSS_WIDTH[this.getStyle().width]},gn._isInVisibleWindow=function(){var e,t,i,n=this.getAdjustedAnchorCoordinates(),s=pn.JF*this.getScale();return!!n.length&&(t={x1:(e={x:n[0].x-s,y:n[0].y-s}).x,y1:e.y,x2:e.x+2*s,y2:e.y+2*s},i={x1:this._x.range()[0],y1:this._y.range()[0],x2:this._x.range()[1],y2:this._y.range()[1]},ln.default.rectanglesIntersect(t,i))},gn._getEditAngleAnchorCoordsForDistance=function(e,t,i){var n=(0,Qi.degreesToRadians)(i);return{x:(t||this._getDefaultEditAngleAnchorDistance())*Math.cos(n)+e.x,y:(t||this._getDefaultEditAngleAnchorDistance())*Math.sin(n)+e.y}},gn._setDrawingAngle=function(e){var t=Math.atan2(e[1].y-e[0].y,e[1].x-e[0].x);this.setAngle((0,Qi.radiansToDegrees)(t))},Object.seal(gn);const fn=Object.seal(_n);var mn=i(18728),vn=i(98760),An=s.A.extend(Object.assign((function(e){e&&e.initialPoint&&(this._startProcessing(e.initialPoint),this._countLeft=1,this._timeout())}),{__constructorTransform:function(e){if(void 0!==(e=e||{}).count)throw new Error("Number of taps is hardcoded for this recogniser, cannot override");if(void 0!==e.fastTap)throw new Error("Fast tapping is hardcoded for this recogniser, cannot override");return e.count=2,e.fastTap=!0,[e]}}),vn.default);An.create=function(e){return new An(e)},Object.seal(An.prototype);const En=Object.seal(An);var Tn=i(64437),In=i(25322);function Cn(e,t,i,n){this._subView=i,this._captureZoneManager=n,this._presentationController=e,this._presentationModel=t,this._presentationModel.on(an.A.THEME_CHANGE,this._updateStyleAndAttributes,this),this._presentationModel.on(dn.A.SELECTED,this._select,this),this._presentationModel.on(dn.A.DESELECTED,this._deselect,this),this._presentationModel.on(dn.A.DRAGGED,this.updatePosition,this),this._presentationModel.on(dn.A.STYLE_OR_ATTRIBUTE_CHANGED,this._updateStyleAndAttributes,this)}var On=Cn.prototype;On._captureZoneManager=null,On._addingZone=null,On._dDrawing=null,On._doubleTapPointer=null,On._editAnchors=null,On._presentationController=null,On._presentationModel=null,On._subView=null,On.initialise=function(e){var t=Gi.default.POINTER;this._dDrawing=e.append("g").classed(this._presentationModel.getType(),!0),this._createDom(this._dDrawing),this._presentationModel.isSelected&&(this._select(),t=this._presentationModel.getSelectedHoveringCursor()),this._presentationModel.isPending()&&this._preparePendingDrawing(),this._updateStyleAndAttributes(),this.updatePosition(),this._getInteractiveElements().forEach((function(e){e.setCaptureZonePropagation(Wt.default.PROPAGATE_UNHANDLED).onHover(this._hoverInHandler,this._hoverOutHandler,this).withCursorOnHover(t).on("tap",{fastTap:!0,onGesture:this._handleSelection,context:this}),this._presentationModel.requiresContextMenu&&e.on("contextMenu",{onGesture:this._presentationController.showEditMenuOnContextMenu,context:this._presentationController})}),this)},On._movePendingAnchor=(0,y.delegate)("_presentationController","setPendingAnchorCoordinates"),On._confirmPendingAnchor=function(e){this._movePendingAnchor(e),this._presentationController.confirmPendingAnchor()},On._cancelAddingDrawing=(0,y.delegate)("_presentationController","cancelAddingDrawing"),On._createDom=ot.A.abstractMethod,On._getInteractiveElements=ot.A.abstractMethod,On._updateStyleAndAttributes=n.noop,On.updatePosition=function(){this._presentationModel.isVisible()?((0,n.invokeMap)(this._getInteractiveElements(),"showCaptureZone"),this._dDrawing.classed("hidden",!1),this._positionDrawing(),this._editAnchors&&this._positionSelection(),this._updateCaptureZones()):(this._dDrawing.classed("hidden",!0),(0,n.invokeMap)(this._getInteractiveElements(),"hideCaptureZone"))},On._positionDrawing=n.noop,On._positionSelection=function(){this._presentationModel.getAdjustedAnchorCoordinates().forEach((function(e,t){this._setAnchorPosition(t,e.x,e.y)}),this)},On._updateCaptureZones=function(){this._addingZone&&this._addingZone.setDimensions(this._subView.dimensions),(0,n.invokeMap)(this._editAnchors,"setCaptureZoneConstraints",this._subView.dimensions)},On._handleSelection=function(e){this._doubleTapPointer={x:e.x,y:e.y},this._presentationController.selectDrawing()},On._select=function(){var e=this._dDrawing.node();e.parentNode.appendChild(e),this._dDrawing.classed("selected",!0),this._createEditAnchors(),this._hoverOut(),this._positionSelection(),this._updateCaptureZones(),this._getInteractiveElements().forEach((function(e){e.moveZoneToTop(),e.setCaptureZonePropagation(Wt.default.BLOCK_ALL).withCursorOnHover(this._presentationModel.getSelectedHoveringCursor()).off("tap").on(En,{initialPoint:this._doubleTapPointer,onGesture:(0,n.partial)(this._presentationController.openSettingsDialog,Ee.EventOrigin.SUBJECT),context:this._presentationController}).on("pan",{handleHold:!(this._presentationModel.requiresContextMenu&&mn.default.isHold()),onStart:this._startDragHandler,startContext:this,onEnd:this._endDragHandler,endContext:this,onGesture:this._presentationController.dragDrawing,context:this._presentationController})}),this),delete this._doubleTapPointer},On._startDragHandler=function(){(0,Ui.setChartCursor)(this._dDrawing,Gi.default.GRABBING)},On._endDragHandler=n.noop,On._preparePendingDrawing=function(){this._createEditAnchors(),this._positionSelection(),this._createAddingZone()},On._createAddingZone=function(){this._addingZone=this._captureZoneManager.createZone(In.default,Wt.default.PROPAGATE_ALL,gt.default.INTERACTIVE_DRAWING),this._addingZone.setHoverHandler({move:this._movePendingAnchor,moveContext:this}),this._addingZone.withCursorOnHover(this._presentationModel.getAddingCursor()),this._addingZone.addGesture(vn.default,{onGesture:this._confirmPendingAnchor,context:this,fastTap:!0}),this._addingZone.addGesture(mn.default,{onGesture:this._cancelAddingDrawing,context:this}),this._presentationController.attachAddingHelper({zone:this._addingZone}),this._addingZone.setDimensions(this._subView.dimensions)},On._createEditAnchors=function(){var e,t=this._presentationModel.getAnchors().length;for(this._editAnchors=[],e=0;e<t;e++)this._editAnchors.push(this._createEditAnchor(e))},On._createEditAnchor=function(e){var t=Tn.A.create(this._dDrawing,this._captureZoneManager).setCaptureZonePropagation(Wt.default.BLOCK_ALL).withCursorOnHover(Gi.default.CROSSHAIR).on("pan",{handleHold:!(this._presentationModel.requiresContextMenu&&mn.default.isHold()),onGesture:(0,n.partial)(this._presentationController.dragAnchor,n.partial.placeholder,e),context:this._presentationController}).on(En,{initialPoint:this._doubleTapPointer,onGesture:(0,n.partial)(this._presentationController.openSettingsDialog,Ee.EventOrigin.SUBJECT),context:this._presentationController});return this._presentationModel.requiresContextMenu&&t.on("contextMenu",{onGesture:this._presentationController.showEditMenuOnContextMenu,context:this._presentationController}),t},On._setAnchorPosition=function(e,t,i){this._editAnchors[e]||(this._editAnchors[e]=this._createEditAnchor(e)),this._editAnchors[e].setPosition(t,i)},On._deselect=function(){this._dDrawing.classed("selected",!1),(0,n.invokeMap)(this._editAnchors,"destroy"),delete this._editAnchors,(0,n.compact)(this._getInteractiveElements()).forEach((function(e){e.setCaptureZonePropagation(Wt.default.PROPAGATE_UNHANDLED).withCursorOnHover(Gi.default.POINTER).off(En).on("tap",{fastTap:!0,onGesture:this._handleSelection,context:this}).off("pan",{handleHold:!(this._presentationModel.requiresContextMenu&&mn.default.isHold())})}),this)},On._hoverInHandler=function(){this._dDrawing.classed("selected")||this._hoverIn()},On._hoverOutHandler=function(){this._dDrawing.classed("selected")||this._hoverOut()},On._hoverIn=function(){this._dDrawing.classed("hover",!0)},On._hoverOut=function(){this._dDrawing.classed("hover",!1)},On.destroy=function(){this._addingZone&&(this._addingZone.destroy(),delete this._addingZone),this._dDrawing&&(this._deselect(),this._hoverOut(),this._dDrawing.remove(),delete this._dDrawing),this._presentationModel&&(this._presentationModel.un(null,this),delete this._presentationModel),delete this._captureZoneManager,delete this._presentationController},Object.seal(On);const Mn=Object.seal(Cn);var yn=s.A.extend((function(){}),Mn),bn=yn.prototype;bn._arrow=null,bn._createDom=function(e){this._arrow=pn.Ay.create(e,this._captureZoneManager).withDefaultPadding()},bn._getInteractiveElements=function(){return[this._arrow]},bn._select=function(){yn.superclass._select.call(this);var e=this._presentationModel.getAdjustedAnchorCoordinates(),t=this._presentationModel.getEditAngleAnchorCoords();this._getAngleAnchorLine().attr("x1",e[0].x).attr("y1",e[0].y).attr("x2",t.x).attr("y2",t.y)},bn._createEditAnchors=function(){yn.superclass._createEditAnchors.call(this),this._presentationModel.isPending()||this._presentationModel.setAnchorCoordinates(this._presentationModel.getEditAngleAnchorCoords(),1)},bn._deselect=function(){this._removeAngleAnchorLine(),this._presentationModel.resetEditAngleAnchorDistance(),yn.superclass._deselect.call(this)},bn._positionDrawing=function(){var e,t=this._presentationModel.getAdjustedAnchorCoordinates(),i=this._presentationModel.getAngle(),n=!(!t[0]||!(0,Qi.isNumber)(i));n&&(this._arrow.setCoordinateAndRotation(t[0].x,t[0].y,i).setCaptureZoneConstraints(this._subView.dimensions),(this._presentationModel.isSelected||this._presentationModel.isPending())&&t[1]&&(e=this._presentationModel.getEditAngleAnchorCoords(),this._getAngleAnchorLine().attr("x1",t[0].x).attr("y1",t[0].y).attr("x2",e.x).attr("y2",e.y))),this._arrow.setVisible(n)},bn._setAnchorPosition=function(e,t,i){if(yn.superclass._setAnchorPosition.call(this,e,t,i),1===e){var n=this._presentationModel.getEditAngleAnchorCoords();this._editAnchors[e].setPosition(n.x,n.y)}},bn._updateStyleAndAttributes=function(){var e=this._presentationModel.getStyle();this._dDrawing.attr("fill",e.colour).attr("stroke",e.colour),this._arrow.setScale(this._presentationModel.getScale()),this._arrow.updateCaptureZone()},bn._getAngleAnchorLine=function(){return this._angleAnchorLine||(this._angleAnchorLine=this._dDrawing.insert("line",":first-child")),this._angleAnchorLine},bn._removeAngleAnchorLine=function(){this._angleAnchorLine&&(this._angleAnchorLine.remove(),this._angleAnchorLine=null)},bn.destroy=function(){this._removeAngleAnchorLine(),this._arrow.destroy(),delete this._arrow,yn.superclass.destroy.call(this)},Object.seal(bn);const Sn=Object.seal(yn);var Dn=i(44258),wn=i(36787),Ln=s.A.extend((function(){}),Mn),Rn=Ln.prototype;Rn._quadrilateral=null,Rn._lines=null,Rn._createDom=function(e){this._lines=[Dn.default.create(e,this._captureZoneManager).withDefaultPadding(),Dn.default.create(e,this._captureZoneManager).withDefaultPadding()],this._quadrilateral=wn.A.create(e,this._captureZoneManager)},Rn._getInteractiveElements=(0,y.getter)("_lines"),Rn._positionDrawing=function(){var e,t,i,n=this._presentationModel.getAdjustedAnchorCoordinates(),s=0,r=n[0],o=n[1],a=n[2];this._subView.dimensions&&(e={x:0,y:0,width:this._subView.dimensions.width,height:this._subView.dimensions.height}),r&&o&&(this._lines[0].setLineCoordinates({x1:r.x,y1:r.y,x2:o.x,y2:o.y},e),this._lines[0].setCaptureZoneConstraints(this._subView.dimensions)),a&&(s=a.y-(r.y+o.y)/2,t={x:r.x,y:r.y+s},i={x:o.x,y:o.y+s},this._lines[1].setLineCoordinates({x1:t.x,y1:t.y,x2:i.x,y2:i.y},e),this._lines[1].setCaptureZoneConstraints(this._subView.dimensions),this._quadrilateral.setCoordinates([n[0],n[1],i,t]),this._quadrilateral.setCaptureZoneConstraints(this._subView.dimensions))},Rn._updateStyleAndAttributes=function(){var e=this._presentationModel.getStyle();this._dDrawing.attrs({fill:e.colour,stroke:e.colour}),this._lines.forEach((function(t){t.attr({"stroke-width":O.default.CSS_WIDTH[e.width],"stroke-dasharray":O.default.CSS_STYLE[e.style]})}))},Rn.destroy=function(){this._quadrilateral.destroy(),delete this._quadrilateral,(0,y.invokeCall)(this._lines,"destroy"),delete this._lines,Ln.superclass.destroy.call(this)},Object.seal(Rn);const Pn=Object.seal(Ln);function Nn(){}Nn.create=function(){return new Nn};var kn=Nn.prototype;kn.slope=null,kn.yIntercept=null,kn.xInVerticalLine=null,kn.fromPoints=function(e,t,i,n){var s=i-e,r=n-t;this.xInVerticalLine=0===s?e:NaN,this.slope=r/s,this.yIntercept=t-this.slope*e},kn.calculateYFromX=function(e){return this.slope===Math.abs(1/0)?NaN:this.slope*e+this.yIntercept},kn.calculateXFromY=function(e){return 0===this.slope?NaN:Math.abs(this.slope)===1/0?this.xInVerticalLine:(e-this.yIntercept)/this.slope},Object.seal(kn);const xn=Object.seal(Nn);var Vn=i(40708),Bn=s.A.extend((function(){}),an.A),Hn=Bn.prototype;Hn.getAddingCursor=(0,n.constant)(Gi.default.CHANNEL_CROSSHAIR),Hn.getMaxAnchors=(0,n.constant)(3),Hn._isInVisibleWindow=function(){var e=this.getAdjustedAnchorCoordinates(),t=e[0].x,i=e[0].y,n=e[1].x,s=e[1].y,r=(s+i)/2,o=n,a=s+e[2].y-r,l=t,d=i+e[2].y-r,u=(0,Vn.rangeExtent)(this._x.range()),c=(0,Vn.rangeExtent)(this._y.range());return ln.default.segmentIntersectsRectangle(t,i,n,s,0,0,u,c)||ln.default.segmentIntersectsRectangle(o,a,l,d,0,0,u,c)},Hn.setAnchorCoordinates=function(e,t){var i=this._getAnchorCoordinates();if(2===t)if(Math.abs(i[1].x-i[0].x)<.025)e.x=i[1].x;else{var n,s=xn.create();s.fromPoints(i[0].x,i[0].y,i[1].x,i[1].y),n=s.calculateYFromX(e.x),e=this._translateYFromMiddlePoint(i,e.y-n)}else if(3===i.length){i[t]=e;var r=this._translateYFromMiddlePoint(i,i[2].y-(i[0].y+i[1].y)/2);Bn.superclass.setAnchorCoordinates.call(this,r,2)}Bn.superclass.setAnchorCoordinates.call(this,e,t)},Hn._translateYFromMiddlePoint=function(e,t){return{x:(e[0].x+e[1].x)/2,y:(e[0].y+e[1].y)/2+t}},Object.seal(Hn);const Wn=Object.seal(Bn);var Fn=i(17425),Un=i(73142);function Gn(e){this._drawingPresentationController=e}Gn.create=function(e){return new Gn(e)};var jn=Gn.prototype;jn.attach=function(e){e.zone.addGesture(Un.default).withStartHandler(this._dragToCreateStart.bind(this,e?e.onStart:null,e.zone),this).withHandler(this._dragToCreateDrag,this).withEndHandler(this._dragToCreateEnd,this)},jn._dragToCreateStart=function(e,t,i){if(this._drawingPresentationController.getPresentationModel().hasAnyAnchorConfirmed())return i.clearHandlers(),void t.removeGesture(i);var n={x:i.startX,y:i.startY};e&&e(n),this._drawingPresentationController.setPendingAnchorCoordinates(n),this._drawingPresentationController.confirmPendingAnchor()},jn._dragToCreateDrag=function(e){this._drawingPresentationController.setPendingAnchorCoordinates(e)},jn._dragToCreateEnd=function(e){this._drawingPresentationController.setPendingAnchorCoordinates(e),this._drawingPresentationController.confirmPendingAnchor()},Object.seal(jn);const Kn=Object.seal(Gn);function zn(e){this._presentationModel=e,2===this._presentationModel.getMaxAnchors()&&(this._addingHelper=Kn.create(this))}var Zn=zn.prototype;Zn._presentationModel=null,Zn._subViewPresentationController=null,Zn._addingHelper=null,Zn.selectDrawing=function(){this._subViewPresentationController.selectDrawing(this)},Zn.getPresentationModel=(0,y.getter)("_presentationModel"),Zn.getSubViewPresentationController=(0,y.getter)("_subViewPresentationController"),Zn.setSubViewPresentationController=(0,y.setter)("_subViewPresentationController"),Zn.getVisibleWindow=(0,y.getter)("_visibleWindow"),Zn.attachAddingHelper=(0,y.delegate)("_addingHelper","attach"),Zn.setVisibleWindow=function(e){this._visibleWindow&&this._visibleWindow.un(null,this),this._visibleWindow=e,this._visibleWindow.on(qt.default.MOVED,this._presentationModel.updateForceSolid.bind(this._presentationModel),this),this._presentationModel.updateForceSolid()},Zn.openSettingsDialog=function(e){return this._presentationModel.isSelected||this.selectDrawing(),this._subViewPresentationController.openSettingsDialog(this,e)},Zn.showEditMenuOnContextMenu=function(e){this._subViewPresentationController.showEditMenuOnContextMenu(e,this)},Zn.dragAnchor=function(e,t){this._presentationModel.dragAnchor(e,t),this._presentationModel.updateForceSolid()},Zn.setPendingAnchorCoordinates=function(e){this._presentationModel.setPendingAnchorCoordinates(e),this._presentationModel.updateForceSolid()},Zn.confirmPendingAnchor=function(){this._presentationModel.confirmPendingAnchor(),this._presentationModel.getAnchors().length===this._presentationModel.getMaxAnchors()?this._allAnchorsConfirmed():this._presentationModel.createNewPendingAnchor()},Zn._allAnchorsConfirmed=function(){this._subViewPresentationController.finishAddingDrawing()},Zn.cancelAddingDrawing=function(){this._subViewPresentationController.cancelAddingDrawing()},Zn.dragDrawing=(0,y.delegate)("_presentationModel","dragAnchors"),Zn.destroy=function(){this._presentationModel.destroy(),this._presentationModel.un(null,this),this._visibleWindow&&this._visibleWindow.un(null,this),delete this._presentationModel,delete this._subViewPresentationController},Object.seal(Zn);const Yn=Object.seal(zn);function $n(){}$n.create=function(){return new $n};var qn=$n.prototype;qn.hasValidPayload=function(e){for(var t=1;e.hasOwnProperty("point"+t);){if(e["point"+t].x)return!0;t++}return!1},Object.seal(qn);const Xn=Object.seal($n);var Jn=s.A.extend((function(){}),Mn),Qn=Jn.prototype;Qn._lines=null,Qn._labels=null,Qn._createDom=function(e){var t,i=this._presentationModel.getLabels();for(this._lines=[],this._labels=[],t=0;t<i.length;t++)this._lines.push(Dn.default.create(e,this._captureZoneManager).withDefaultPadding()),this._labels.push(e.append("svg:text").classed("text",!0).text(i[t]))},Qn._getInteractiveElements=(0,y.getter)("_lines"),Qn._positionDrawing=function(){var e,t,i=this._presentationModel.getAdjustedAnchorCoordinates();for(this._subView.dimensions&&(t={x:0,y:0,width:this._subView.dimensions.width,height:this._subView.dimensions.height}),e=1;e<i.length;e++)this._lines[e-1].setLineCoordinates({x1:i[e-1].x,y1:i[e-1].y,x2:i[e].x,y2:i[e].y},t),this._lines[e-1].setCaptureZoneConstraints(this._subView.dimensions),this._labels[e-1].attr("x",i[e].x).attr("y",i[e].y-10).attr("text-anchor","middle")},Qn._updateStyleAndAttributes=function(){var e,t=this._presentationModel.getStyle(),i={fill:t.colour,stroke:t.colour,"stroke-width":O.default.CSS_WIDTH[t.width],"stroke-dasharray":O.default.CSS_STYLE[t.style]};for(e=0;e<this._lines.length;e++)this._lines[e].attr(i),this._labels[e].attrs({fill:i.fill})},Qn.destroy=function(){(0,y.invokeApply)(this._lines,"destroy"),(0,y.invokeApply)(this._labels,"remove"),delete this._lines,delete this._labels,Jn.superclass.destroy.call(this)},Object.seal(Qn);const es=Object.seal(Jn);var ts=s.A.extend((function(){}),an.A),is=ts.prototype;is.getLabels=ot.A.abstractMethod,is._isInVisibleWindow=function(){return ln.default.rectanglesIntersect(this._getBoundingDimension(),{x1:0,y1:0,x2:(0,Vn.rangeExtent)(this._x.range()),y2:(0,Vn.rangeExtent)(this._y.range())})},is._getBoundingDimension=function(){var e=this.getAdjustedAnchorCoordinates(),t=(0,n.sortBy)(e,"x"),i=(0,n.sortBy)(e,"y");return{x1:(0,n.first)(t).x,y1:(0,n.first)(i).y,x2:(0,n.last)(t).x,y2:(0,n.last)(i).y}},Object.seal(is);const ns=Object.seal(ts);var ss=s.A.extend((function(){}),ns),rs=ss.prototype;rs.getAddingCursor=(0,n.constant)(Gi.default.ELLIOTT_WAVE_ABC_CROSSHAIR),rs.getLabels=(0,n.constant)(["A","B","C"]),rs.getMaxAnchors=(0,n.constant)(4),Object.seal(rs);const os=Object.seal(ss);var as=s.A.extend((function(){}),ns),ls=as.prototype;ls.getAddingCursor=(0,n.constant)(Gi.default.ELLIOTT_WAVE_CROSSHAIR),ls.getLabels=(0,n.constant)(["1","2","3","4","5"]),ls.getMaxAnchors=(0,n.constant)(6),Object.seal(ls);const ds=Object.seal(as);var us=s.A.extend((function(){}),Mn),cs=us.prototype;cs._lines=null,cs._createDom=function(e){this._lines=(0,n.times)(this._presentationModel.getGannAngles().length,function(){return Dn.default.create(e,this._captureZoneManager).withDefaultPadding()}.bind(this))},cs._getInteractiveElements=(0,y.getter)("_lines"),cs._setAnchorPosition=function(e,t,i){if(us.superclass._setAnchorPosition.call(this,e,t,i),1===e){var n=this._presentationModel.getEditAngleAnchorCoords();this._editAnchors[e].setPosition(n.x,n.y)}},cs._updateStyleAndAttributes=function(){var e=this._presentationModel.getStyle();this._dDrawing.attr("fill",e.colour).attr("stroke",e.colour),this._lines.forEach((function(t){t.attr({"stroke-width":O.default.CSS_WIDTH[e.width],"stroke-dasharray":O.default.CSS_STYLE[e.style]}),t.updateCaptureZone()}))},cs._positionDrawing=function(){var e,t,i,s=this._presentationModel.getAngle(),r=this._presentationModel.getAdjustedAnchorCoordinates(),o=!(0,n.isNil)(r[0]&&s),a=this._presentationModel.getGannAngles();o&&(this._subView.dimensions&&(i={x:0,y:0,width:this._subView.dimensions.width,height:this._subView.dimensions.height}),this._lines.forEach((function(n,s){t=(0,Qi.radiansToDegrees)(a[s]),e=this._presentationModel.getLineEndingCoordinates(t),n.setLineCoordinates({x1:r[0].x,y1:r[0].y,x2:e.x,y2:e.y},i),n.setCaptureZoneConstraints(this._subView.dimensions),n.setVisible(o)}),this))},cs._createEditAnchors=function(){us.superclass._createEditAnchors.call(this),this._presentationModel.isPending()||this._presentationModel.setAnchorCoordinates(this._presentationModel.getEditAngleAnchorCoords(),1)},cs._deselect=function(){this._presentationModel.resetEditAngleAnchorDistance(),us.superclass._deselect.call(this)},cs.destroy=function(){(0,y.invokeApply)(this._lines,"destroy"),delete this._lines,us.superclass.destroy.call(this)},Object.seal(cs);const hs=Object.seal(us);var ps=i(53300),_s=i(17668),gs=i(80535),fs=s.A.extend((function(e,t,i,n,s,r){this._presentationModel=r,this._resetValue=Math.round(this._presentationModel.getAngle())}),Ne.default);fs.create=function(e,t,i,n,s,r){return new fs(e,t,i,n,s,r)};var ms=fs.prototype;ms._angleControl=null,ms._presentationModel=null,ms._resetValue=null,ms.initDom=function(e){fs.superclass.initDom.call(this,e);var t=e.append("div").attr("class","setting-row"),i=_s.default.create().withMin(-180).withMax(180).withStep(1).withPeriod(!0).withDefaultValue(45);return this._angleControl=gs.default.create(ji.default,"GANN","angle",i,this._resetValue).withCaptureZoneManager(this._captureZoneManager).initDom(t),this._angleControl.on(rt.default.VALUE_CHANGED,this._handleSettingUpdated,this),this},ms.revertChanges=function(){this._angleControl.updateInputField(this._resetValue),this._presentationModel.setAngle(this._resetValue)},ms.resetToDefaults=(0,y.delegate)("_angleControl","reset"),ms.save=(0,y.delegate)("_angleControl","commitSetting"),ms.updateCaptureZones=(0,y.delegate)("_angleControl","updateCaptureZones"),ms._handleSettingUpdated=function(){this._presentationModel.setAngle(parseFloat(this._angleControl.lastValidValue))},ms.destroy=function(){this._angleControl&&(this._angleControl.destroy(),delete this._angleControl),fs.superclass.destroy.call(this)},Object.seal(ms);const vs=Object.seal(fs);var As=5e3,Es=s.A.extend((function(e){this._createGannAngles((0,Qi.degreesToRadians)(e.getAngle()))}),hn),Ts=Es.prototype;Ts.getAddingCursor=function(){return Gi.default[this._drawing.getType().toUpperCase()+"_CROSSHAIR"]},Ts._getGradients=function(){return this._drawing.getType()===Fn.A.GANN_LINE?[1]:[1/8,1/4,1/3,.5,1,2,3,4,8]},Ts.getSettingsDialogContent=(0,n.constant)([vs,ps.A]),Ts._gannAngles=null,Ts.getGannAngles=(0,y.getter)("_gannAngles"),Ts.getMaxAnchors=(0,n.constant)(2),Ts._getDefaultEditAngleAnchorDistance=function(){return this.isPending()?0:150},Ts.setAngle=function(e){e!==this.getAngle()&&(this._createGannAngles((0,Qi.degreesToRadians)(e)),Es.superclass.setAngle.call(this,e))},Ts.getLineEndingCoordinates=function(e){var t=this.getAdjustedAnchorCoordinates();return this._getEditAngleAnchorCoordsForDistance(t[0],As,e)},Ts._isInVisibleWindow=function(){var e,t,i,n=this._getAnchorCoordinates(),s=n[0].x,r=n[0].y,o=(0,Vn.rangeExtent)(this._x.range()),a=(0,Vn.rangeExtent)(this._x.range());if(-s>As||s-o>As)return!1;if(s-o>0&&Math.abs((0,Qi.degreesToRadians)(this.getAngle()))<Math.PI/2)return!1;for(e=0;e<this._gannAngles.length;e++)if(t=s+Math.cos(this._gannAngles[e])*As,i=r+Math.sin(-this._gannAngles[e])*As,ln.default.segmentIntersectsRectangle(s,r,t,i,0,0,o,a))return!0;return!1},Ts._createGannAngles=function(e){var t,i=Math.tan(e);this._gannAngles=this._getGradients().map((function(n){return t=Math.atan(n*i),Math.abs(e)>Math.PI/2?t+=Math.PI:t}))},Object.seal(Ts);const Is=Object.seal(Es);var Cs=i(59856),Os=s.A.extend((function(){}),Mn),Ms=Os.prototype;Ms._lines=null,Ms._headFill=null,Ms._leftShoulderFill=null,Ms._rightShoulderFill=null,Ms._neckLine=null,Ms._getInteractiveElements=function(){return(0,n.concat)(this._lines,[this._neckLine])},Ms._createDom=function(e){var t,i=this._presentationModel.getMaxAnchors()-1;for(this._lines=[],t=0;t<i;t++)this._lines.push(Dn.default.create(e,this._captureZoneManager).withDefaultPadding());this._neckLine=Dn.default.create(e,this._captureZoneManager).withDefaultPadding(),this._headFill=Cs.A.create(e,this._captureZoneManager),this._leftShoulderFill=Cs.A.create(e,this._captureZoneManager),this._rightShoulderFill=Cs.A.create(e,this._captureZoneManager)},Ms._positionDrawing=function(){var e=this._presentationModel.getAdjustedAnchorCoordinates(),t=this._presentationModel.getIntersections(this._subView.dimensions);this._drawLineBetweenAnchors(e),e[2]&&e[4]&&(this._drawNeckLine(t.start,t.end,t.neckLine,e),this._drawTriangleFills(t.start,t.end,e))},Ms._drawLineBetweenAnchors=function(e){var t;this._subView.dimensions&&(t={x:0,y:0,width:this._subView.dimensions.width,height:this._subView.dimensions.height});for(var i=1;i<e.length;i++)this._lines[i-1].setLineCoordinates({x1:e[i-1].x,y1:e[i-1].y,x2:e[i].x,y2:e[i].y},t),this._lines[i-1].setCaptureZoneConstraints(this._subView.dimensions)},Ms._drawNeckLine=function(e,t,i,s){var r,o,a,l=[s[2].x],d=[s[2].y];r={x:s[2].x<s[4].x?Math.min(i[0].x,i[1].x):Math.max(i[0].x,i[1].x),y:s[2].y<s[4].y?Math.min(i[0].y,i[1].y):Math.max(i[0].y,i[1].y)},o={x:s[4].x<s[2].x?Math.min(i[0].x,i[1].x):Math.max(i[0].x,i[1].x),y:s[4].y<s[2].y?Math.min(i[0].y,i[1].y):Math.max(i[0].y,i[1].y)},a=r,e&&(l.push(e.x),d.push(e.y),t&&(l.push(t.x),d.push(t.y)),a={x:s[2].x<s[4].x?(0,n.min)(l):(0,n.max)(l),y:s[2].y<s[4].y?(0,n.min)(d):(0,n.max)(d)}),this._neckLine.setLineCoordinates({x1:a.x,y1:a.y,x2:o.x,y2:o.y},this._subView.dimensions?{x:0,y:0,width:this._subView.dimensions.width,height:this._subView.dimensions.height}:void 0),this._neckLine.setCaptureZoneConstraints(this._subView.dimensions)},Ms._drawTriangleFills=function(e,t,i){this._headFill.setCoordinates([i[2],i[3],i[4]]),this._leftShoulderFill.setVisible(!!e),this._rightShoulderFill.setVisible(!!t),e&&this._leftShoulderFill.setCoordinates([e,i[1],i[2]]),t&&this._rightShoulderFill.setCoordinates([i[4],i[5],t])},Ms._updateStyleAndAttributes=function(){var e=this._presentationModel.getStyle(),t={stroke:e.colour,"stroke-width":O.default.CSS_WIDTH[e.width],"stroke-dasharray":O.default.CSS_STYLE[e.style]};this._dDrawing.attrs({fill:e.colour}),this._getInteractiveElements().forEach((function(e){e.attr(t)}))},Ms.destroy=function(){(0,y.invokeApply)(this._lines,"destroy"),this._headFill.destroy(),this._leftShoulderFill.destroy(),this._rightShoulderFill.destroy(),this._neckLine.destroy(),delete this._lines,delete this._headFill,delete this._leftShoulderFill,delete this._rightShoulderFill,delete this._neckLine,Os.superclass.destroy.call(this)},Object.seal(Ms);const ys=Object.seal(Os);var bs=s.A.extend((function(){}),an.A),Ss=bs.prototype;Ss.getAddingCursor=(0,n.constant)(Gi.default.HEAD_AND_SHOULDERS_CROSSHAIR),Ss.getMaxAnchors=(0,n.constant)(7),Ss.getIntersections=function(e){var t,i,n,s=this.getAdjustedAnchorCoordinates();return s[2]&&s[4]&&(i=ln.default.pointToPointLineRectangleIntersection(s[2].x,s[2].y,s[4].x,s[4].y,0,0,e.width,e.height),n=ln.default.lineSegmentAndLineIntersection(s[0].x,s[0].y,s[1].x,s[1].y,s[2].x,s[2].y,s[4].x,s[4].y),s[5]&&s[6]&&(t=ln.default.lineSegmentAndLineIntersection(s[5].x,s[5].y,s[6].x,s[6].y,s[2].x,s[2].y,s[4].x,s[4].y)),i=i.length<2?[s[2],s[4]]:i),Object.freeze({start:n,end:t,neckLine:i})},Ss._isInVisibleWindow=function(){return ln.default.rectanglesIntersect(this._getBoundingDimension(),{x1:0,y1:0,x2:(0,Vn.rangeExtent)(this._x.range()),y2:(0,Vn.rangeExtent)(this._y.range())})},Ss._getBoundingDimension=function(){var e=this.getAdjustedAnchorCoordinates(),t=(0,n.sortBy)(e,"x"),i=(0,n.sortBy)(e,"y");return{x1:(0,n.first)(t).x,y1:(0,n.first)(i).y,x2:(0,n.last)(t).x,y2:(0,n.last)(i).y}},Object.seal(Ss);const Ds=Object.seal(bs);var ws=s.A.extend((function(){delete this._resolution}),Ji.A),Ls=ws.prototype;Ls.marshal=function(){var e=ws.superclass.marshal.call(this);return e.point2={x:e.point1.x+1,y:e.point1.y},e},Ls.unmarshal=function(e){ws.superclass.unmarshal.call(this,e),delete this._resolution,this._anchors=(0,n.take)(this._anchors,1)},Object.seal(Ls);const Rs=Object.seal(ws);var Ps=s.A.extend((function(){}),Mn),Ns=Ps.prototype;Ns._line=null,Ns._createDom=function(e){this._line=Dn.default.create(e,this._captureZoneManager).withDefaultPadding()},Ns._getInteractiveElements=function(){return[this._line]},Ns._updateStyleAndAttributes=function(){var e=this._presentationModel.getStyle();this._line.attr({fill:e.colour,stroke:e.colour,"stroke-width":O.default.CSS_WIDTH[e.width],"stroke-dasharray":O.default.CSS_STYLE[e.style]})},Ns._positionDrawing=function(){var e=this._presentationModel.getLineCoordinates();e.length&&(this._line.setLineCoordinates({x1:e[0].x,y1:e[0].y,x2:e[1].x,y2:e[1].y},this._subView.dimensions?{x:0,y:0,width:this._subView.dimensions.width,height:this._subView.dimensions.height}:void 0),this._line.setCaptureZoneConstraints(this._subView.dimensions))},Ns.destroy=function(){this._line.destroy(),delete this._line,Ps.superclass.destroy.call(this)},Object.seal(Ns);const ks=Object.seal(Ps);var xs=i(13227),Vs=s.A.extend((function(){}),ks);Vs.LABEL_OFFSETS=Object.freeze({dx:"0.2em",dy:"1.2em"});var Bs=Vs.prototype;Bs._label=null,Bs._getInteractiveElements=function(){return[this._line,this._label]},Bs._createDom=function(e){Vs.superclass._createDom.call(this,e),this._label=xs.A.create(e,this._captureZoneManager)},Bs._positionDrawing=function(){Vs.superclass._positionDrawing.call(this),this._label.setText(["  "+this._presentationModel.getLineLevel()+"  "]);var e=this._presentationModel.getLineCoordinates()[0];e.y-=this._label.getDimensions().height/2,this._label.setOffset(e).getElement().selectAll("tspan").attrs(Vs.LABEL_OFFSETS),this._label.updateCaptureZone()},Bs._updateStyleAndAttributes=function(){Vs.superclass._updateStyleAndAttributes.call(this),this._label.updateTextColour(this._presentationModel.getStyle())},Bs.destroy=function(){this._label&&(this._label.destroy(),delete this._label),Vs.superclass.destroy.call(this)},Object.seal(Bs);const Hs=Object.seal(Vs);var Ws=s.A.extend((function(e,t,i,n,s,r){this._presentationModel=r,this._resetValue=parseFloat(this._presentationModel.getLineLevel())}),Ne.default);Ws.create=function(e,t,i,n,s,r){return new Ws(e,t,i,n,s,r)};var Fs=Ws.prototype;Fs._dSettingRow=null,Fs._levelControl=null,Fs._presentationModel=null,Fs._resetValue=null,Fs.initDom=function(e){Ws.superclass.initDom.call(this,e);var t=e.append("div").attr("class","setting-row"),i=(new _s.default).withStep(this._presentationModel.valueFormatter.getStep()).withDefaultValue(this._resetValue);return this._dSettingRow=t,this._levelControl=gs.default.create(ji.default,"HORIZONTAL_LINE","LEVEL",i,this._resetValue).withCaptureZoneManager(this._captureZoneManager).initDom(t),this._levelControl.on(rt.default.VALUE_CHANGED,this._handleSettingUpdated,this),this},Fs.revertChanges=(0,y.delegate)("_levelControl","reset"),Fs.resetToDefaults=n.noop,Fs.save=(0,y.delegate)("_levelControl","commitSetting"),Fs.updateCaptureZones=(0,y.delegate)("_levelControl","updateCaptureZones"),Fs._handleSettingUpdated=function(){this._presentationModel.setLineLevel(parseFloat(this._levelControl.lastValidValue))},Fs.destroy=function(){this._levelControl&&(this._levelControl.destroy(),delete this._levelControl),this._dSettingRow.remove(),this._dSettingRow=null,Ws.superclass.destroy.call(this)},Object.seal(Fs);const Us=Object.seal(Ws);var Gs=i(16377),js=s.A.extend((function(){}),an.A);js.LEFT_OFFSET=100;var Ks=js.prototype;Ks.valueFormatter=null,Ks.getMaxAnchors=(0,n.constant)(1),Ks.getAddingCursor=(0,n.constant)(Gi.default.HORIZONTAL_LINE_CROSSHAIR),Ks.getSelectedHoveringCursor=(0,n.constant)(Gi.default.CROSSHAIR),Ks.getSettingsDialogContent=(0,n.constant)([Us,ps.A]),Ks.setInstrumentProperties=function(e){js.superclass.setInstrumentProperties.call(this,e),this.valueFormatter=(new Gs.default).withScalingFactor(e.scalingFactor).withDecimalPlaces(e.decimalPlaces)},Ks.getLineLevel=function(){return this.valueFormatter.scaleAndRoundPrice(this.getAnchors()[0].level*this._scalingFactor)},Ks.setLineLevel=function(e){this._drawing.setAnchorValues({timestamp:this.getAnchors()[0].timestamp,level:e},0),this.fire(dn.A.DRAGGED)},Ks._isInVisibleWindow=function(){var e,t=this.getAdjustedAnchorCoordinates();return!!t.length&&(e=this._y.range(),(0,n.inRange)(t[0].y,e[0],e[1]))},Ks.getLineCoordinates=function(){var e=this.getAdjustedAnchorCoordinates();return e.length?[{x:0,y:e[0].y},{x:(0,Vn.rangeExtent)(this._x.range()),y:e[0].y}]:e},Ks._getAnchorCoordinates=function(){var e,t=js.superclass._getAnchorCoordinates.call(this);return t.length&&!this.isPending()&&(e=this._x.range(),t[0].x=Math.min((0,n.mean)(e),e[0]+js.LEFT_OFFSET)),t},Object.seal(Ks);const zs=Object.seal(js);var Zs=s.A.extend((function(){}),Xn);Zs.create=function(){return new Zs};var Ys=Zs.prototype;Ys.hasValidPayload=(0,n.constant)(!0),Object.seal(Ys);const $s=Object.seal(Zs);var qs=s.A.extend((function(){}),Ji.A),Xs=qs.prototype;Xs._ratioSettings=null,Xs.marshal=function(){var e=qs.superclass.marshal.call(this);return this._ratioSettings&&(0,A.applyTo)(e,this.getAttributes(),!1),e},Xs.unmarshal=function(e){var t=[];qs.superclass.unmarshal.call(this,e),e.hasOwnProperty("ratios")&&(t=e.ratios),this._ratioSettings=t.length>0?t:null,this._anchors.length===this._getNumberOfExpectedAnchors()-1&&this._anchors.push(this._anchors[this._anchors.length-1].copy())},Xs.getAttributes=function(){return{ratios:this._ratioSettings}},Xs.setAttributes=function(e){this._ratioSettings=e.ratios,this._modified=!0},Xs.getGlobalDrawingSettings=function(){var e=qs.superclass.getGlobalDrawingSettings.call(this);return e.attributes=this.getAttributes(),e},Xs.getDefaultStyle=function(){return{default:{colour:Ji.A.DEFAULT_STYLE.colour,width:Ji.A.DEFAULT_STYLE.width},dark:{colour:Ji.A.DARK_DEFAULT_STYLE.colour,width:Ji.A.DARK_DEFAULT_STYLE.width}}},Xs._getNumberOfExpectedAnchors=ot.A.abstractMethod,Xs._initialiseGlobalDrawingSettings=function(e){qs.superclass._initialiseGlobalDrawingSettings.call(this,e),e&&e.attributes&&(this._ratioSettings=e.attributes.ratios)},Object.seal(Xs);const Js=Object.seal(qs);var Qs=s.A.extend((function(){}),Js),er=Qs.prototype;er._getNumberOfExpectedAnchors=(0,n.constant)(3),Object.seal(er);const tr=Object.seal(Qs);var ir=s.A.extend((function(e,t,i,n){t.on(dn.A.STYLE_OR_ATTRIBUTE_CHANGED,this._positionDrawing,this)}),Mn);ir.LEFT_MARGIN=5,ir.BOTTOM_MARGIN="-0.3em";var nr=ir.prototype;nr._levelLines=null,nr._auxiliaryLines=null,nr._getInteractiveElements=function(){return(0,n.concat)(this._levelLines,this._auxiliaryLines)},nr._createDom=function(e){var t,i=this._presentationModel.getNumberOfLevelLines(),n=this._presentationModel.getNumberOfAuxiliaryLines();for(this._levelLines=[],this._auxiliaryLines=[],this._dLabels=[],t=0;t<i;t++)this._levelLines.push(Dn.default.create(e,this._captureZoneManager).withDefaultPadding()),this._dLabels.push(e.append("text").classed("label",!0).classed("hidden",!0));for(t=0;t<n;t++)this._auxiliaryLines.push(Dn.default.create(e,this._captureZoneManager).withDefaultPadding().setVisible(!1).classed("auxiliaryLine",!0))},nr._positionDrawing=function(){var e,t=this._presentationModel.getLevelLinesInfo(),i=this._presentationModel.getAuxiliaryLinesInfo();this._subView.dimensions&&(e={x:0,y:0,width:this._subView.dimensions.width,height:this._subView.dimensions.height}),t.forEach((function(t,i){this._levelLines[i].setLineCoordinates(t,e).setVisible(t.visible).setCaptureZoneConstraints(this._subView.dimensions).classed("innerLine",!t.isSupportLine),this._dLabels[i].classed("hidden",!t.visible),t.visible&&this._dLabels[i].attrs({x:t.x1+ir.LEFT_MARGIN,y:t.y1,dy:ir.BOTTOM_MARGIN}).classed("hidden",!t.visible).text(t.levelText)}),this),i.forEach((function(t,i){this._auxiliaryLines[i].setLineCoordinates(t,e).setCaptureZoneConstraints(this._subView.dimensions)}),this)},nr._positionSelection=function(){ir.superclass._positionSelection.call(this),(0,n.invokeMap)(this._auxiliaryLines,"setVisible",!0)},nr._deselect=function(){ir.superclass._deselect.call(this),(0,n.invokeMap)(this._auxiliaryLines,"setVisible",!1)},nr._updateStyleAndAttributes=function(){var e=this._presentationModel.getStyle();this._dDrawing.attrs({stroke:e.colour,fill:e.colour}),this._levelLines.forEach((function(t){t.attr({"stroke-width":O.default.CSS_WIDTH[e.width],"stroke-dasharray":O.default.CSS_STYLE[e.style]})}))},nr.destroy=function(){this._levelLines&&((0,n.invokeMap)(this._levelLines,"destroy"),delete this._levelLines),this._auxiliaryLines&&((0,n.invokeMap)(this._auxiliaryLines,"destroy"),delete this._auxiliaryLines),this._dLabels&&((0,n.invokeMap)(this._dLabels,"remove"),delete this._dLabels),ir.superclass.destroy.call(this)},Object.seal(nr);const sr=Object.seal(ir);var rr=i(17125),or=s.A.extend((function(){}),rr.default),ar=or.prototype;ar.getMaxAnchors=(0,n.constant)(3),ar.getAddingCursor=(0,n.constant)(Gi.default.FIBONACCI_CROSSHAIR),ar.getDefaultRatioValues=(0,n.constant)([0,23.6,38.2,50,61.8,76.4,100,127.2,161.8,261.8,423.6]),ar.getNumberOfAuxiliaryLines=(0,n.constant)(1),ar.getAuxiliaryLinesInfo=function(){var e=this._getAnchorsDetails();return e.start&&e.end?[{x1:e.start.x,y1:e.start.y,x2:e.end.x,y2:e.end.y}]:[]},ar._getAnchorsDetails=function(){var e=this._getAnchorCoordinates(),t=this.getAnchors(),i={length:e.length,start:this._getAnchorInfo(0,t,e),end:this._getAnchorInfo(1,t,e),extension:this._getAnchorInfo(2,t,e)};return i.length>=2&&(i.showLevelLines=!0,i.leftToRight=i.start.timestamp<i.end.timestamp,i.zeroPercentLevel=(i.leftToRight?i.end.level:i.start.level)*this._scalingFactor,i.hundredPercentLevel=(i.leftToRight?i.start.level:i.end.level)*this._scalingFactor),i},Object.seal(ar);const lr=Object.seal(or);var dr=s.A.extend((function(){}),Js),ur=dr.prototype;ur._getNumberOfExpectedAnchors=(0,n.constant)(4),Object.seal(ur);const cr=Object.seal(dr);var hr=s.A.extend((function(){}),rr.default),pr=hr.prototype;pr.getMaxAnchors=(0,n.constant)(4),pr.getAddingCursor=(0,n.constant)(Gi.default.FIBONACCI_EXTENSION_CROSSHAIR),pr.getDefaultRatioValues=(0,n.constant)([0,23.6,38.2,50,61.8,76.4,100,161.8,261.8,423.6]),pr.getNumberOfAuxiliaryLines=(0,n.constant)(2),pr.getAuxiliaryLinesInfo=function(){var e=this._getAnchorsDetails(),t=[];return e.control&&e.start&&t.push({x1:e.control.x,y1:e.control.y,x2:e.start.x,y2:e.start.y}),e.start&&e.end&&t.push({x1:e.start.x,y1:e.start.y,x2:e.end.x,y2:e.end.y}),t},pr._getAnchorsDetails=function(){var e=this._getAnchorCoordinates(),t=this.getAnchors(),i={length:e.length,control:this._getAnchorInfo(0,t,e),start:this._getAnchorInfo(1,t,e),end:this._getAnchorInfo(2,t,e),extension:this._getAnchorInfo(3,t,e)};return i.length>=3&&(i.showLevelLines=!0,i.leftToRight=i.start.timestamp<i.end.timestamp,i.zeroPercentLevel=i.end.level*this._scalingFactor,i.hundredPercentLevel=(i.end.level+(i.start.level-i.control.level))*this._scalingFactor),i},Object.seal(pr);const _r=Object.seal(hr);var gr=Object.freeze({colour:"#3987CC",style:"solid",width:"narrow"}),fr=s.A.extend((function(){}),Ji.A),mr=fr.prototype;mr.getDefaultStyle=function(){return{default:(0,n.clone)(gr),dark:(0,n.clone)(gr)}},Object.seal(mr);const vr=Object.seal(fr);var Ar=i(95151);const Er=new Ar.default({de:{days:"{0} Tagen",hours:"{0} Stunden",minutes:"{0} Minuten",seconds:"{0} Sekunden",bars:"balken",high:"H",low:"T"},en:{days:"{0} days",hours:"{0} hours",minutes:"{0} minutes",seconds:"{0} seconds",bars:"bars",high:"H",low:"L"},es:{days:"{0} días",hours:"{0} horas",minutes:"{0} minutos",seconds:"{0} segundos",bars:"barras",high:"Máx",low:"Mín"},fr:{days:"{0} jours",hours:"{0} heures",minutes:"{0} minutes",seconds:"{0} secondes",bars:"barres",high:"H",low:"B"},it:{days:"{0} giorni",hours:"{0} ore",minutes:"{0} minuti",seconds:"{0} secondi",bars:"barre",high:"H",low:"T"},ja:{days:"{0} 日",hours:"{0} 時間",minutes:"{0} 分",seconds:"{0} 数秒",bars:"バー",high:"高値",low:"安値"},nl:{days:"{0} dagen",hours:"{0} uur",minutes:"{0} minuten",seconds:"{0} seconden",bars:"staven",high:"H",low:"T"},nb:{days:"{0} dager",hours:"{0} timer",minutes:"{0} minutter",seconds:"{0} sekunder",bars:"staver",high:"H",low:"T "},pt:{days:"{0} dias",hours:"{0} horas",minutes:"{0} minutos",seconds:"{0} segundos",bars:"barras",high:"A",low:"B"},sv:{days:"{0} dagar",hours:"{0} timmar",minutes:"{0} minuter",seconds:"{0} sekunder",bars:"staplar",high:"H",low:"T"},zh:{days:"{0} 天",hours:"{0} 小时",minutes:"{0} 分钟",seconds:"{0} 秒",bars:"柱体",high:"高",low:"低"},zh_TW:{days:"{0} 天",hours:"{0} 小時",minutes:"{0} 分鐘",seconds:"{0} 秒",bars:"柱體",high:"最高價",low:"最低價"}});var Tr=i(96001);function Ir(e,t){return e[t]?(0,Tr.merge)(Er.get(t),e[t]):null}function Cr(e,t,i){this._visibleWindow=i,this._presentationModel=t,this._dContainer=e.append("g").classed("measureInfo",!0)}Cr.create=function(e,t,i){return new Cr(e,t,i)},Cr.TEXT_POSITION_Y_FIX=12,Cr.BACKGROUND_HEIGHT_FIX=-7,Cr.BACKGROUND_MARGIN=8,Cr.BACKGROUND_PADDING=4;var Or=Cr.prototype;Or._dContainer=null,Or._dText=null,Or._presentationModel=null,Or._dBackground=null,Or._dHighLowText=null,Or._dTimeChangeText=null,Or._dValueChangeText=null,Or._visibleWindow=null,Or.initDom=function(){return this._dBackground=this._dContainer.append("svg:rect").classed("background",!0).attrs({rx:2,ry:2}),this._dText=this._dContainer.append("svg:text").classed("label",!0).attr("y",Cr.TEXT_POSITION_Y_FIX),this._dTimeChangeText=this._dText.append("svg:tspan").classed("timeChange",!0).attr("x",Cr.BACKGROUND_PADDING),this._dValueChangeText=this._dText.append("svg:tspan").classed("valueChange",!0).attrs({x:Cr.BACKGROUND_PADDING,dy:"1.2em"}),this._dHighLowText=this._dText.append("svg:tspan").classed("high",!0).attrs({dx:".5em"}),this},Or.render=function(){this._updateInfoText(),this._renderInfo()},Or._updateInfoText=function(){var e=this._presentationModel.getLevelChange(),t=this._presentationModel.getPercentageLevelChange(),i=this._presentationModel.getLevelChange()>0,n=this._presentationModel.getHighLevel(),s=this._presentationModel.getLowLevel(),r=isNaN(e)?"":e.toFixed(1),o=isNaN(t)?"":t.toFixed(2);this._dValueChangeText.classed("positive",i).classed("negative",!i).text(r+" ("+o+"%)"),this._dTimeChangeText.text(this._presentationModel.getNumberOfBars()+" "+Er.get("bars")+", "+this._getTimeRangeText()),this._dHighLowText.text(Er.get("high")+": "+n+" "+Er.get("low")+" : "+s)},Or._getTimeRangeText=function(){var e=this._presentationModel.getAnchors(),t=e[0],i=e[1],s=t.timestamp<=i.timestamp?"":"-",r=this._presentationModel.getTimeRange();return s+["days","hours","minutes","seconds"].map(Ir.bind(null,r)).filter(n.identity).join(", ")},Or._renderInfo=function(){var e=this._dText.node().getBoundingClientRect(),t=Math.floor(e.height),i=Math.floor(e.width),n=t+2*Cr.BACKGROUND_PADDING+Cr.BACKGROUND_HEIGHT_FIX,s=this._presentationModel.getAdjustedAnchorCoordinates(),r=s[0],o=s[1],a=this._getPointZero(r,o,i,n);this._dContainer.attr("transform",di.default.svgTranslateAttrXY(a.x,a.y)),this._dBackground.attrs({width:i+2*Cr.BACKGROUND_PADDING,height:n})},Or._getPointZero=function(e,t,i,n){var s={x:Math.max(e.x,t.x)-Cr.BACKGROUND_MARGIN-i-2*Cr.BACKGROUND_PADDING,y:this._presentationModel.getLevelChange()<=0?t.y+Cr.BACKGROUND_MARGIN:t.y-n-Cr.BACKGROUND_MARGIN};return t.x+Cr.BACKGROUND_MARGIN<s.x&&(s.x=t.x+Cr.BACKGROUND_MARGIN),s},Or.destroy=function(){this._dContainer.remove(),this._dContainer=null,this._dValueChangeText=null,this._dTimeChangeText=null,this._dText=null,this._dBackground=null},Object.seal(Cr.prototype);const Mr=Object.seal(Cr);var yr=i(77786),br=s.A.extend((function(){}),Mn),Sr=br.prototype;Sr._rect=null,Sr._getInteractiveElements=function(){return[this._rect]},Sr._updateStyleAndAttributes=function(){var e=this._presentationModel.getStyle();this._dDrawing.attrs({fill:e.colour,stroke:e.colour}),this._rect.attr({"stroke-width":O.default.CSS_WIDTH[e.width],"stroke-dasharray":O.default.CSS_STYLE[e.style]})},Sr._positionDrawing=function(){var e,t=this._presentationModel.getAdjustedAnchorCoordinates(),i=t[0],n=t[1];i&&n&&(e={x:Math.min(i.x,n.x),y:Math.min(i.y,n.y),width:Math.max(Math.abs(i.x-n.x),1),height:Math.max(Math.abs(i.y-n.y),1)},this._rect.setRectCoordinates(e),this._rect.setCaptureZoneConstraints(this._subView.dimensions))},Sr._createDom=function(e){this._rect=yr.default.create(e,this._captureZoneManager).withDefaultPadding()},Sr.destroy=function(){this._rect.destroy(),delete this._rect,br.superclass.destroy.call(this)},Object.seal(Sr);const Dr=Object.seal(br);var wr=i(97292);function Lr(e){var t="arrowMarker"+(0,wr.getGuid)();this._dArrow=e.append("line").classed("simpleArrow",!0).attr("marker-end","url(#"+t+")"),this._dArrowDefs=e.append("defs"),this._dArrowDefs.append("marker").classed("arrowMarker",!0).attrs({id:t,markerWidth:20,markerHeight:20,refY:4,refX:8,orient:"auto",viewBox:"0 0 20 20"}).append("path").attr("d","M0,0 L7,4 0,8").classed("arrowEnd",!0)}Lr.create=function(e){return new Lr(e)};var Rr=Lr.prototype;Rr._dArrow=null,Rr._dArrowDefs=null,Rr.hide=(0,y.delegate)("_dArrow","attr","visibility","hidden"),Rr.show=(0,y.delegate)("_dArrow","attr","visibility","visible"),Rr.render=function(e,t){this._dArrow.attrs({x1:e.x,y1:e.y,x2:t.x,y2:t.y})},Rr.destroy=function(){this._dArrow.remove(),this._dArrowDefs.remove()},Object.seal(Rr);const Pr=Object.seal(Lr);var Nr=s.A.extend((function(){}),Dr),kr=Nr.prototype;kr._measureInfoHelper=null,kr._positionDrawing=function(){var e,t,i,n=this._presentationModel.getAdjustedAnchorCoordinates(),s=n[0],r=n[1];s&&r&&(e={x:Math.min(s.x,r.x),y:Math.min(s.y,r.y),width:Math.max(Math.abs(s.x-r.x),1),height:Math.max(Math.abs(s.y-r.y),1)},this._rect.setRectCoordinates(e),this._rect.setCaptureZoneConstraints(this._subView.dimensions),Math.abs(s.x-r.x)<8||Math.abs(s.y-r.y)<8?(this._verticalArrow.hide(),this._horizontalArrow.hide()):(t=Math.floor((s.x+r.x)/2),i=Math.floor((s.y+r.y)/2),this._verticalArrow.show().render({x:t,y:s.y},{x:t,y:r.y}),this._horizontalArrow.show().render({x:s.x,y:i},{x:r.x,y:i})),this._measureInfoHelper.render())},kr._createDom=function(e){Nr.superclass._createDom.call(this,e),this._horizontalArrow=Pr.create(e),this._verticalArrow=Pr.create(e),this._measureInfoHelper=Mr.create(e,this._presentationModel,this._subView.visibleWindow).initDom()},kr._startDragHandler=function(){Nr.superclass._startDragHandler.call(this),this._presentationController.startDragDrawing()},kr._endDragHandler=function(){Nr.superclass._startDragHandler.call(this),this._presentationController.endDragDrawing()},kr.destroy=function(){this._horizontalArrow.destroy(),this._verticalArrow.destroy(),this._measureInfoHelper.destroy(),delete this._horizontalArrow,delete this._verticalArrow,delete this._measureInfoHelper,Nr.superclass.destroy.call(this)},Object.seal(kr);const xr=Object.seal(Nr);function Vr(e){this._visibleWindow=e}Vr.create=function(e){return new Vr(e)};var Br=Vr.prototype;Br._visibleWindow=null,Br.snap=function(e,t){var i=this._visibleWindow.visibleDateRange.getTimeline(),n=this._visibleWindow.getXScale().range()[0],s=i.asDate(this._visibleWindow.snapCoordinateToClosestPointWithFallback(e+n));return{x:this._visibleWindow.timestampToXCoordinate(s)-n,y:t}},Object.seal(Br);const Hr=Object.seal(Vr);var Wr=s.A.extend((function(){}),an.A),Fr=Wr.prototype;Fr.getAddingCursor=(0,n.constant)(Gi.default.RECTANGLE_CROSSHAIR),Fr.getMaxAnchors=(0,n.constant)(2),Fr.getShadowAnchors=function(){return this.getAnchors()},Fr._isInVisibleWindow=function(){var e=this.getAdjustedAnchorCoordinates(),t={x1:Math.min(e[0].x,e[1].x),y1:Math.min(e[0].y,e[1].y),x2:Math.max(e[0].x,e[1].x),y2:Math.max(e[0].y,e[1].y)},i={x1:0,y1:0,x2:(0,Vn.rangeExtent)(this._x.range()),y2:(0,Vn.rangeExtent)(this._y.range())};return!this._isCoveringViewport(t,i)&&ln.default.rectanglesIntersect(t,i)},Fr._isCoveringViewport=function(e,t){var i=ln.default.getIntersectRectangle(e,t);return i.x1<=t.x1&&i.x2>=t.x2&&i.y1<=t.y1&&i.y2>=t.y2},Object.seal(Fr);const Ur=Object.seal(Wr);var Gr=s.A.extend((function(){}),Ur),jr=Gr.prototype;jr._timestampSnappingUtil=null,jr._decimalPlaces=null,jr._scalingFactor=null,jr._dragStartAnchors=null,jr.getAddingCursor=(0,n.constant)(Gi.default.MEASURE_TOOL_CROSSHAIR),jr.setInstrumentProperties=function(e){Gr.superclass.setInstrumentProperties.call(this,e),this._decimalPlaces=(0,n.isFinite)(e.decimalPlaces)?e.decimalPlaces:2,this._scalingFactor=(0,n.isFinite)(e.scalingFactor)?e.scalingFactor:1},jr.setSubView=function(e){Gr.superclass.setSubView.call(this,e),this._timestampSnappingUtil=Hr.create(e.visibleWindow)},jr.dragAnchor=function(e,t){var i=this.subView.getRelativeCursorPoint(e),n=this._timestampSnappingUtil.snap(i.x,i.y);this._snappingUtil&&(n=this._snappingUtil.snap(n.x,n.y)),this.setAnchorCoordinates(n,t)},jr.dragAnchors=function(e){this._moveMeasureTool(e),this.fire(dn.A.DRAGGED)},jr.startDragDrawing=function(){this._dragStartAnchors=(0,n.cloneDeep)(this._drawing.getAnchors())},jr.endDragDrawing=function(){this._dragStartAnchors=null},jr.getHighLevel=function(){return this._getExtremeLevel(Math.max)},jr.getLowLevel=function(){return this._getExtremeLevel(Math.min)},jr._getExtremeLevel=function(e){var t=this.getAnchors();return(0,n.size)(t)<2?null:e(t[1].level,t[0].level).toFixed(this._decimalPlaces)},jr.getLevelChange=function(){var e=this.getAnchors();return(0,n.size)(e)<2?null:(e[1].level-e[0].level)*this._scalingFactor},jr.getPercentageLevelChange=function(){var e,t,i,s=this.getAnchors();return(0,n.size)(s)<2?null:(e=s[0],i=(t=s[1]).level>=e.level?1:-1,Math.abs(100*t.level/e.level-100)*i)},jr.getNumberOfBars=function(){var e,t,i=this.getAnchors();return(0,n.size)(i)<2||!this._chartResolution.period?null:(e=this._timeline.asAccTime(i[0].timestamp,!0),t=this._timeline.asAccTime(i[1].timestamp,!0),Math.round(Math.abs(t-e)/this._chartResolution.period))},jr.getTimeRange=function(){var e,t,i,s,r=this.getAnchors(),o={},a=6e4,l=36e5,d=24*l;return(0,n.size)(r)<2?null:(s=(i=(t=(e=Math.abs(r[1].timestamp-r[0].timestamp))%d)%l)%a,o.days=Math.floor(e/d),o.hours=Math.floor(t/l),o.minutes=Math.floor(i/a),o.seconds=Math.floor(s/1e3),o)},jr._moveMeasureTool=function(e){this._drawing.getAnchors().forEach((function(t,i){var n,s=this._convertAnchorToCoordinate(this._dragStartAnchors[i]);s.x+=e.deltaX,s.y+=e.deltaY,n=this._timestampSnappingUtil.snap(s.x,s.y),this._drawing.setAnchorValues(this._convertCoordinateToAnchorValues(n),i)}),this)},Object.seal(jr);const Kr=Object.seal(Gr);var zr=s.A.extend((function(){}),Yn),Zr=zr.prototype;Zr.startDragDrawing=(0,y.delegate)("_presentationModel","startDragDrawing"),Zr.endDragDrawing=(0,y.delegate)("_presentationModel","endDragDrawing"),Object.seal(Zr);const Yr=Object.seal(zr);var $r=i(35904),qr=s.A.extend((function(){}),Mn),Xr=qr.prototype;Xr._oval=null,Xr._anchorConnectors=null,Xr._createDom=function(e){this._anchorConnectors=[Dn.default.create(e,this._captureZoneManager).setVisible(this._presentationModel.isPending()),Dn.default.create(e,this._captureZoneManager).setVisible(this._presentationModel.isPending())],this._oval=$r.A.create(e,this._captureZoneManager).withDefaultPadding()},Xr._getInteractiveElements=function(){return[this._oval]},Xr._positionDrawing=function(){var e,t,i=this._presentationModel.getAdjustedAnchorCoordinates(),n=i[0],s=i[1];n&&s&&(e=Math.abs(s.x-n.x),t=Math.abs(s.y-n.y),this._oval.setCentre(n),this._oval.setRadius(e,t),this._oval.setCaptureZoneConstraints(this._subView.dimensions),this._anchorConnectors[0].setLineCoordinates({x1:s.x,y1:s.y,x2:n.x,y2:s.y}),this._anchorConnectors[1].setLineCoordinates({x1:s.x,y1:s.y,x2:s.x,y2:n.y}))},Xr._updateStyleAndAttributes=function(){var e=this._presentationModel.getStyle();this._dDrawing.attrs({fill:e.colour,stroke:e.colour}),this._oval.attr({"stroke-width":O.default.CSS_WIDTH[e.width],"stroke-dasharray":O.default.CSS_STYLE[e.style]})},Xr._select=function(){qr.superclass._select.call(this),(0,y.invokeCall)(this._anchorConnectors,"setVisible",!0)},Xr._deselect=function(){qr.superclass._deselect.call(this),(0,y.invokeCall)(this._anchorConnectors,"setVisible",!1)},Xr.destroy=function(){this._oval.destroy(),delete this._oval,this._anchorConnectors&&((0,y.invokeCall)(this._anchorConnectors,"destroy"),this._anchorConnectors=[]),qr.superclass.destroy.call(this)},Object.seal(Xr);const Jr=Object.seal(qr);function Qr(){}Qr.create=function(){return new Qr},Qr.SNAPPING_THRESHOLD=5;var eo=Qr.prototype;eo.snap=function(e,t,i,n){var s,r,o;return o=((s=Math.abs(i-e))+(r=Math.abs(n-t)))/2,Math.abs(s-r)<Qr.SNAPPING_THRESHOLD?{x:e+(i<e?-o:o),y:t+(n<t?-o:o)}:{x:i,y:n}},Object.seal(eo);const to=Object.seal(Qr);var io=s.A.extend((function(e){this._vectorSnappingUtil=to.create()}),an.A),no=io.prototype;no._vectorSnappingUtil=null,no._forceSolidLine=!1,no.getMaxAnchors=(0,n.constant)(2),no.getAddingCursor=(0,n.constant)(Gi.default.OVAL_CROSSHAIR),no.dragAnchor=function(e,t){var i=this.subView.getRelativeCursorPoint(e);0===t?this._dragCentreTo(i):1===t&&this._dragCornerTo(i)},no._isInVisibleWindow=function(){var e=this._getBoundingRect();return ln.default.rectanglesIntersect({x1:e.x,y1:e.y,x2:e.x+e.width,y2:e.y+e.height},{x1:0,y1:0,x2:(0,Vn.rangeExtent)(this._x.range()),y2:(0,Vn.rangeExtent)(this._y.range())})},no._shouldForceSolid=function(){var e=this._getBoundingRect(),t=this._getVisibleWindowDimensions();return!!e&&(e.width>2*t.width||e.height>2*t.height)},no._getBoundingRect=function(){var e,t,i=this._getAnchorCoordinates(),n=i[0],s=i[1];return s&&n?(e=Math.abs(s.x-n.x),t=Math.abs(s.y-n.y),{x:n.x-e,y:n.y-t,width:2*e,height:2*t}):null},no._dragCentreTo=function(e){var t,i=this._getAnchorCoordinates();this._snappingUtil&&(e=this._snappingUtil.snap(e.x,e.y)),this.setAnchorCoordinates(e,0),i[1]&&(t={x:i[1].x+e.x-i[0].x,y:i[1].y+e.y-i[0].y},this.setAnchorCoordinates(t,1))},no._dragCornerTo=function(e){var t=this._getAnchorCoordinates();e=this._vectorSnappingUtil.snap(t[0].x,t[0].y,e.x,e.y),this.setAnchorCoordinates(e,1)},Object.seal(no);const so=Object.seal(io);var ro=s.A.extend((function(){}),an.A),oo=ro.prototype;oo.getMaxAnchors=(0,n.constant)(2),oo.getAddingCursor=(0,n.constant)(Gi.default.POINT_TO_POINT_CROSSHAIR),oo.getLineCoordinates=function(){var e=this._getAnchorCoordinates();return 2!==e.length?[]:e},oo._isInVisibleWindow=function(){return 2===this.getLineCoordinates().length},Object.seal(oo);const ao=Object.seal(ro);var lo=i(74725),uo=s.A.extend((function(){}),Mn),co=uo.prototype;co._lines=null,co._fill=null,co._getInteractiveElements=(0,y.getter)("_lines"),co._createDom=function(e){var t=this._captureZoneManager;this._fill=wn.A.create(e,t).setVisible(!1),this._lines=(0,n.times)(7,(function(){return Dn.default.create(e,t).withDefaultPadding().setVisible(!1)})),this._lines[lo.A.TINE_NEAR_2ND_ANCHOR].classed("intermediate",!0),this._lines[lo.A.TINE_NEAR_3RD_ANCHOR].classed("intermediate",!0)},co._createEditAnchor=function(e){var t=uo.superclass._createEditAnchor.call(this,e);return 3===e&&(this._editAnchors[1].moveZoneToTop(),this._editAnchors[2].moveZoneToTop(),this._editAnchors[0].moveZoneToTop()),t},co._positionDrawing=function(){var e,t=this._presentationModel.getLineCoordinates();this._subView.dimensions&&(e={x:0,y:0,width:this._subView.dimensions.width,height:this._subView.dimensions.height}),t.forEach((function(t,i){this._lines[i].setVisible(!!t),t&&(this._lines[i].setLineCoordinates(t,e),this._lines[i].setCaptureZoneConstraints(this._subView.dimensions))}),this),t[lo.A.TINE_2ND_ANCHOR]&&t[lo.A.TINE_3RD_ANCHOR]?this._fill.setVisible(!0).setCoordinates([{x:t[lo.A.TINE_2ND_ANCHOR].x1,y:t[lo.A.TINE_2ND_ANCHOR].y1},{x:t[lo.A.TINE_2ND_ANCHOR].x2,y:t[lo.A.TINE_2ND_ANCHOR].y2},{x:t[lo.A.TINE_3RD_ANCHOR].x2,y:t[lo.A.TINE_3RD_ANCHOR].y2},{x:t[lo.A.TINE_3RD_ANCHOR].x1,y:t[lo.A.TINE_3RD_ANCHOR].y1}]):this._fill.setVisible(!1)},co._updateStyleAndAttributes=function(){var e=this._presentationModel.getStyle();this._dDrawing.attrs({fill:e.colour,stroke:e.colour}),(0,n.invokeMap)(this._lines.slice(lo.A.HANDLE,lo.A.TINE_3RD_ANCHOR+1),"attr",{"stroke-width":O.default.CSS_WIDTH[e.width],"stroke-dasharray":O.default.CSS_STYLE[e.style]})},co.destroy=function(){(0,n.invokeMap)(this._lines,"destroy"),delete this._lines,this._fill.destroy(),delete this._fill,uo.superclass.destroy.call(this)},Object.seal(co);const ho=Object.seal(uo);var po=i(67827),_o=s.A.extend((function(){}),an.A),go=_o.prototype;function fo(e,t,i){return{x:e.x*i+t.x*(1-i),y:e.y*i+t.y*(1-i)}}function mo(e,t){var i=function(e){var t=null;return e.length>=3&&((t=ln.default.getVector(e[1],e[2])).x||t.y||(t=null)),!t&&e.length>=2&&(t={x:-(t=ln.default.getVector(e[0],e[1])).y,y:t.x}),t&&(t.x||t.y)?t:null}(t),n=fo(t[1],t[2],.5);return i?(e=ln.default.lineIntersection(t[0].x,t[0].y,n.x,n.y,e.x,e.y,e.x+i.x,e.y+i.y),(t[0].x<n.x&&e.x<n.x||t[0].x>n.x&&e.x>n.x||t[0].y<n.y&&e.y<n.y||t[0].y>n.y&&e.y>n.y)&&(e=n),e):n}function vo(e,t){return{x1:e.x,y1:e.y,x2:t.x,y2:t.y}}go.getAddingCursor=(0,n.constant)(Gi.default.PITCHFORK_CROSSHAIR),go.getMaxAnchors=(0,n.constant)(4),go._isInVisibleWindow=function(){var e=this.getLineCoordinates(),t={x:0,y:0},i={x:(0,Vn.rangeExtent)(this._x.range()),y:(0,Vn.rangeExtent)(this._y.range())};return e.some((function(e){return!!po.default.clipLineToRectangle({x:e.x1,y:e.y1},{x:e.x2,y:e.y2},t,i).length}))},go.setAnchorCoordinates=function(e,t){var i,s,r=(0,n.compact)(this._getAnchorCoordinates());3===t?e=mo(e,r):4===r.length&&(i=fo(r[1],r[2],.5),s=ln.default.distancePointToPoint(i.x,i.y,r[3].x,r[3].y)),_o.superclass.setAnchorCoordinates.call(this,e,t),(0,n.isFinite)(s)&&(1!==t&&2!==t||(i=fo((r=(0,n.compact)(this._getAnchorCoordinates()))[1],r[2],.5)),_o.superclass.setAnchorCoordinates.call(this,ln.default.movePointBy(i,function(e,t){var i=fo(e[1],e[2],.5),n=ln.default.getVector(i,e[0]),s=ln.default.distancePointToPoint(0,0,n.x,n.y);return s?(n.x*=-t/s,n.y*=-t/s):n.x=n.y=0,n}(r,s)),3))},go.getLineCoordinates=function(){var e,t,i=this.getAdjustedAnchorCoordinates(),n=[];return 2===i.length?n[lo.A.HANDLE]=vo(i[0],i[1]):i.length>2&&(e=fo(i[1],i[2],.5),n[lo.A.HANDLE]=vo(i[0],e),n[lo.A.BAR]=vo(i[1],i[2])),4===i.length&&(t=ln.default.getVector(e,i[3]),[[lo.A.TINE_CENTER,e],[lo.A.TINE_2ND_ANCHOR,i[1]],[lo.A.TINE_3RD_ANCHOR,i[2]],[lo.A.TINE_NEAR_2ND_ANCHOR,fo(i[1],i[2],.25)],[lo.A.TINE_NEAR_3RD_ANCHOR,fo(i[1],i[2],.75)]].forEach((function(e){n[e[0]]=vo(e[1],ln.default.movePointBy(e[1],t))}))),n},Object.seal(go);const Ao=Object.seal(_o);var Eo=i(32477),To=i(71211),Io=i(74606),Co=s.A.extend((function(e,t,i,n,s,r){this._drawingPresentationModel=r}),Ne.default);Co.create=function(e,t,i,n,s,r){return new Co(e,t,i,n,s,r)},Co.DIMENSIONS=Object.freeze({cols:30,rows:5}),Co.MAX_CHARS=250;var Oo=Co.prototype;Oo._drawingPresentationModel=null,Oo._textArea=null,Oo.initDom=function(e){return Co.superclass.initDom.call(this,e),this._textArea=Io.A.create(Co.DIMENSIONS.rows,Co.DIMENSIONS.cols,Co.MAX_CHARS,this._drawingPresentationModel.getUserText()).initDom(e),this},Oo.save=function(){this._drawingPresentationModel.setUserText(this._textArea.value)},Oo.resetToDefaults=n.noop,Oo.revertChanges=n.noop,Oo.updateCaptureZones=n.noop,Oo.destroy=function(){this._textArea&&(this._textArea.destroy(),delete this._textArea),Co.superclass.destroy.call(this)},Object.seal(Oo);const Mo=Object.seal(Co);var yo=i(47203),bo=i(51211),So=s.A.extend((function(e){this._updateDimensions()}),an.A),Do=So.prototype;So.TEXT_CHANGE="TEXT_CHANGE",Do.getAddingCursor=(0,n.constant)(Gi.default.TEXT),So.NEW_LINE="\n",Do.getMaxAnchors=(0,n.constant)(1),Do.getUserText=(0,y.delegate)("_drawing","getUserText"),Do._textDimensions=null,Do.setUserText=function(e){e!==this._drawing.getUserText()&&(this._drawing.setUserText(e),this.fire(So.TEXT_CHANGE),this._updateDimensions())},Do.setBold=function(e){var t=this._drawing.getAttributes();t.bold=e,this.setAttributes(t)},Do.setItalic=function(e){var t=this._drawing.getAttributes();t.italic=e,this.setAttributes(t)},Do.setFontSize=function(e){var t=this._drawing.getAttributes();t.fontSize=e,this.setAttributes(t),this._updateDimensions()},Do._isInVisibleWindow=function(){var e,t,i,n,s,r,o=this._getAnchorCoordinates();return 0!==o.length&&(e=o[0].y,t=o[0].x,i=e+this._textDimensions.height,n=t+this._textDimensions.width,s=(0,Vn.rangeExtent)(this._x.range()),r=(0,Vn.rangeExtent)(this._y.range()),i>0&&e<r&&n>0&&t<s)},Do.getSettingsDialogContent=(0,n.constant)([yo.A,Mo,bo.A]),Do._updateDimensions=function(){this._textDimensions=(0,To.getTextDimensions)(this.getUserText(),this._drawing.getAttributes().fontSize,this._drawing.getAttributes().bold)},Object.seal(Do);const wo=Object.seal(So);var Lo=s.A.extend((function(e,t,i,n){t.on(wo.TEXT_CHANGE,this._updateText,this)}),Mn),Ro=Lo.prototype;Ro._text=null,Ro._updateStyleAndAttributes=function(){var e=this._presentationModel.getStyle(),t=this._presentationModel.getAttributes();this._text.updateBackgroundStyles(e.background),this._text.updateBorderStyles(e.border),this._text.updateTextColour(e.font),this._text.updateFontSize(t.fontSize),this._text.updateBold(t.bold),this._text.updateItalic(t.italic)},Ro._updateText=function(){var e=this._presentationModel.getUserText().split(wo.NEW_LINE);e.length&&this._text.setText(e,this._subView.dimensions)},Ro._createDom=function(e){this._text=xs.A.create(e,this._captureZoneManager).withDefaultPadding(),this._updateText()},Ro._positionDrawing=function(){var e=this._presentationModel.getAdjustedAnchorCoordinates()[0];this._text.attr("transform",di.default.svgTranslateAttrXY(e.x,e.y)),this._text.setCaptureZoneConstraints(this._subView.dimensions)},Ro._getInteractiveElements=function(){return[this._text]},Ro.destroy=function(){this._text.destroy(),delete this._text,Lo.superclass.destroy.call(this)},Object.seal(Ro);const Po=Object.seal(Lo);var No=s.A.extend((function(){}),Yn),ko=No.prototype;ko._allAnchorsConfirmed=function(){var e=this._subViewPresentationController.openSettingsDialog(this);e.on(Pe.default.CLOSE,this._onPendingDialogClose,this),e.on(Pe.default.DONE,this._onPendingDialogDone,this)},ko._onPendingDialogClose=(0,y.delegate)("_subViewPresentationController","cancelAddingDrawing"),ko._onPendingDialogDone=function(){(0,n.isEmpty)(this._presentationModel.getUserText())?this._subViewPresentationController.cancelAddingDrawing():this._subViewPresentationController.finishAddingDrawing()},ko.openSettingsDialog=function(e){No.superclass.openSettingsDialog.call(this,e).on(Pe.default.DONE,this._onDialogDone,this)},ko._onDialogDone=function(){(0,n.isEmpty)(this._presentationModel.getUserText())&&this._subViewPresentationController.deleteDrawing(this)},Object.seal(ko);const xo=Object.seal(No);var Vo=s.A.extend((function(){}),Xn);Vo.create=function(){return new Vo};var Bo=Vo.prototype;Bo.hasValidPayload=function(e){return Vo.superclass.hasValidPayload(e)&&!(0,n.isEmpty)(e.userText)},Object.seal(Bo);const Ho=Object.seal(Vo);var Wo=s.A.extend((function(){}),Yn),Fo=Wo.prototype;Fo.clampAnchor=function(e){this._presentationModel.setAnchorCoordinates(this._presentationModel.getAdjustedAnchorCoordinates()[e],e)},Object.seal(Fo);const Uo=Object.seal(Wo);var Go=s.A.extend((function(){}),ks),jo=Go.prototype;jo._createEditAnchors=function(){Go.superclass._createEditAnchors.call(this),this._editAnchors.forEach((function(e,t){e.on("pan",{onStart:this._presentationController.clampAnchor.bind(this._presentationController,t),startContext:this._presentationController})}),this)},Object.seal(jo);const Ko=Object.seal(Go);function zo(e,t){return e.x!==t.x?e.x-t.x:e.y-t.y}var Zo=s.A.extend((function(){}),an.A),Yo=Zo.prototype;Yo.getMaxAnchors=(0,n.constant)(2),Yo.getAddingCursor=(0,n.constant)(Gi.default.TREND_CROSSHAIR),Yo.getLineCoordinates=function(){var e=this._getAnchorCoordinates();return e.length<2?[]:ln.default.pointToPointLineRectangleIntersection(e[0].x,e[0].y,e[1].x,e[1].y,0,this._y.range()[0],(0,Vn.rangeExtent)(this._x.range()),this._y.range()[1]).sort(zo)},Yo.getAdjustedAnchorCoordinates=function(){if(this.getAnchors().length<2)return this._getAnchorCoordinates();var e,t=this.getLineCoordinates();return t.length?(zo((e=this._getAnchorCoordinates())[0],e[1])>0&&t.reverse(),e.map((function(e,i){return this._isAnchorInVisibleWindow(e)?e:t[i]}),this)):t},Yo._isInVisibleWindow=function(){return 2===this.getLineCoordinates().length},Yo._isAnchorInVisibleWindow=function(e){var t=this._x.range(),i=this._y.range();return ln.default.isPointInRectangle(e.x,e.y,0,i[0],(0,Vn.rangeExtent)(t),i[1])},Object.seal(Yo);const $o=Object.seal(Zo);var qo=s.A.extend((function(){}),Mn),Xo=qo.prototype;Xo._triangle=null,Xo._createDom=function(e){this._triangle=Cs.A.create(e,this._captureZoneManager).withDefaultPadding()},Xo._getInteractiveElements=function(){return[this._triangle]},Xo._positionDrawing=function(){var e=this._presentationModel.getAdjustedAnchorCoordinates();this._triangle.setCoordinates(e,this._subView.dimensions)},Xo._updateStyleAndAttributes=function(){var e=this._presentationModel.getStyle();this._dDrawing.attrs({fill:e.colour,stroke:e.colour}),this._triangle.attr({"stroke-width":O.default.CSS_WIDTH[e.width],"stroke-dasharray":O.default.CSS_STYLE[e.style]})},Xo.destroy=function(){this._triangle&&(this._triangle.destroy(),this._triangle=null),qo.superclass.destroy.call(this)},Object.seal(Xo);const Jo=Object.seal(qo);var Qo=s.A.extend((function(){}),an.A),ea=Qo.prototype;ea.getMaxAnchors=(0,n.constant)(3),ea.getAddingCursor=(0,n.constant)(Gi.default.TRIANGLE_CROSSHAIR),ea._isInVisibleWindow=function(){var e=this._getAnchorCoordinates(),t=e[0],i=e[1],n=e[2],s=(0,Vn.rangeExtent)(this._x.range()),r=(0,Vn.rangeExtent)(this._x.range());return ln.default.segmentIntersectsRectangle(t.x,t.y,i.x,i.y,0,0,s,r)||ln.default.segmentIntersectsRectangle(i.x,i.y,n.x,n.y,0,0,s,r)||ln.default.segmentIntersectsRectangle(n.x,n.y,t.x,t.y,0,0,s,r)},ea._shouldForceSolid=function(){var e=this._getBoundingRect(),t=this._getVisibleWindowDimensions();return!!e&&(e.width>2*t.width||e.height>2*t.height)},ea._getBoundingRect=function(){var e,t,i=this._getAnchorCoordinates(),s=(0,n.map)((0,n.sortBy)(i,"x"),"x"),r=(0,n.map)((0,n.sortBy)(i,"y"),"y");return 3===i.length?{x:e=s[0],y:t=r[0],width:s[2]-e,height:r[2]-t}:null},Object.seal(ea);const ta=Object.seal(Qo);var ia=s.A.extend((function(){}),Ji.A),na=ia.prototype;na.marshal=function(){var e=ia.superclass.marshal.call(this);return e.point1.y=0,e.point2={x:e.point1.x,y:1},e},na.unmarshal=function(e){ia.superclass.unmarshal.call(this,e),this._anchors=(0,n.take)(this._anchors,1)},Object.seal(na);const sa=Object.seal(ia);var ra=s.A.extend((function(){}),an.A);ra.TOP_OFFSET=100;var oa=ra.prototype;oa.getMaxAnchors=(0,n.constant)(1),oa.getAddingCursor=(0,n.constant)(Gi.default.VERTICAL_LINE_CROSSHAIR),oa.getSelectedHoveringCursor=(0,n.constant)(Gi.default.CROSSHAIR),oa._isInVisibleWindow=function(){var e,t=this.getAdjustedAnchorCoordinates();return!!t.length&&(e=this._x.range(),(0,n.isFinite)(t[0].x)&&(0,n.inRange)(t[0].x,e[0],e[1]))},oa.getLineCoordinates=function(){var e,t=this.getAdjustedAnchorCoordinates();return t.length?(e=this._y.range(),[{x:t[0].x,y:e[0]},{x:t[0].x,y:e[1]}]):t},oa._getAnchorCoordinates=function(){var e,t=ra.superclass._getAnchorCoordinates.call(this);return t.length&&!this.isPending()&&(e=this._y.range(),t[0].y=Math.min((0,n.mean)(e),e[0]+ra.TOP_OFFSET)),t},Object.seal(oa);const aa=Object.seal(ra);function la(){}la._classConstructors={},la._classConstructors[Fn.A.ARROW]={model:on,presentationController:Yn,presentationModel:fn,renderer:Sn,validator:Xn},la._classConstructors[Fn.A.CHANNEL]={model:Ji.A,presentationController:Yn,presentationModel:Wn,renderer:Pn,validator:Xn},la._classConstructors[Fn.A.ELLIOTT_WAVE]={model:Ji.A,presentationController:Yn,presentationModel:ds,renderer:es,validator:Xn},la._classConstructors[Fn.A.ELLIOTT_WAVE_ABC]={model:Ji.A,presentationController:Yn,presentationModel:os,renderer:es,validator:Xn},la._classConstructors[Fn.A.FIBONACCI]={model:tr,presentationController:Yn,presentationModel:lr,renderer:sr,validator:Xn},la._classConstructors[Fn.A.FIBONACCI_EXTENSION]={model:cr,presentationController:Yn,presentationModel:_r,renderer:sr,validator:Xn},la._classConstructors[Fn.A.GANN_FAN]=la._classConstructors[Fn.A.GANN_LINE]={model:nn,presentationController:Yn,presentationModel:Is,renderer:hs,validator:Xn},la._classConstructors[Fn.A.HEAD_AND_SHOULDERS]={model:Ji.A,presentationController:Yn,presentationModel:Ds,renderer:ys,validator:Xn},la._classConstructors[Fn.A.HORIZONTAL_LINE]={model:Rs,presentationController:Yn,presentationModel:zs,renderer:Hs,validator:$s},la._classConstructors[Fn.A.MEASURE_TOOL]={model:vr,presentationController:Yr,presentationModel:Kr,renderer:xr,validator:Xn},la._classConstructors[Fn.A.OVAL]={model:Ji.A,presentationController:Yn,presentationModel:so,renderer:Jr,validator:Xn},la._classConstructors[Fn.A.POINT_TO_POINT]={model:Ji.A,presentationController:Yn,presentationModel:ao,renderer:ks,validator:Xn},la._classConstructors[Fn.A.PITCHFORK]={model:Ji.A,presentationController:Yn,presentationModel:Ao,renderer:ho,validator:Xn},la._classConstructors[Fn.A.RECTANGLE]={model:Ji.A,presentationController:Yn,presentationModel:Ur,renderer:Dr,validator:Xn},la._classConstructors[Fn.A.TEXT]={model:Eo.default,presentationController:xo,presentationModel:wo,renderer:Po,validator:Ho},la._classConstructors[Fn.A.TREND_LINE]={model:Ji.A,presentationController:Uo,presentationModel:$o,renderer:Ko,validator:Xn},la._classConstructors[Fn.A.TRIANGLE]={model:Ji.A,presentationController:Yn,presentationModel:ta,renderer:Jo,validator:Xn},la._classConstructors[Fn.A.VERTICAL_LINE]={model:sa,presentationController:Yn,presentationModel:aa,renderer:ks,validator:Xn},Object.seal(la._classConstructors),la.createModel=function(e){var t,i=la._classConstructors[e.type];return i&&i.validator.create().hasValidPayload(e)?((t=new i.model).unmarshal(e),t):null},la.createDefaultModel=function(e,t,i){return new la._classConstructors[e].model(null,e,[],t,i)},la.createPresentationController=function(e){return new(0,la._classConstructors[e.getType()].presentationController)(e)},la.createPresentationModel=function(e){return new(0,la._classConstructors[e.getType()].presentationModel)(e)},la.createRenderer=function(e,t,i,n){return new(0,la._classConstructors[t.getType()].renderer)(e,t,i,n)};const da=Object.seal(la);var ua=i(61568),ca=i(13365),ha=i(47392);function pa(e,t,i,n,s,r,o){this._eventBus=e,this._model=t,this._editMenu=i,this._settingsManager=n,this._taskManager=s,this._containerProvider=r,this._hotkeyMap=this._getHotkeyMap(),this._moduleLoader=o,this._eventBus.subscribe("chart/resolution/changed",this._handleResolutionChanged,this),this._eventBus.subscribe("chart/instrument/info/intervals",this._handleIntervalsLoaded,this),this._eventBus.subscribe("chart/view/ready",this._handleChartViewReady,this),this._eventBus.subscribe("chart/view/destroyed",this._handleChartViewDestroyed,this),this._eventBus.subscribe("drawings/delete/all",this._deleteAllDrawings,this),this._eventBus.subscribe("drawings/create",this._startAddingDrawing,this),this._eventBus.subscribe("drawings/snap/toggle",this._toggleDrawingsSnapping,this),this._settingsManager.on(Ie.default.EPIC_SETTINGS_LOADED,this._loadDrawings,this),this._settingsManager.on(Ie.default.EPIC_SETTINGS_CHANGED,this._loadDrawings,this),this._settingsManager.on(Ie.default.THEME_CHANGED,this._handleThemeChanged,this),this._settingsManager.hasEpicSettings()&&this._loadDrawings()}pa.create=function(e,t,i,n,s,r,o){return new pa(e,t,i,n,s,r,o)},pa.UNDO_DELETE_ALL_DRAWINGS_TIMEOUT=1e4;var _a=pa.prototype;_a._captureZoneManager=null,_a._containerProvider=null,_a._dismissalZone=null,_a._eventBus=null,_a._instrumentResolution=null,_a._model=null,_a._settingsManager=null,_a._taskManager=null,_a._drawingsCopy=null,_a._hotkeyMap=null,_a._moduleLoader=null,_a._shadowedDrawing=null,_a.showEditMenuOnContextMenu=function(e,t){this._editMenu.requiresContextMenu&&(this._editMenu.showEditMenu({customise:this.openSettingsDialog.bind(this,t,Ee.EventOrigin.SUBJECT),copy:this._duplicateDrawing.bind(this,t,Ee.EventOrigin.SUBJECT),delete:this.deleteDrawing.bind(this,t,Ee.EventOrigin.SUBJECT)},e),this.selectDrawing(t))},_a.selectDrawing=function(e){var t=this._taskManager.taskExists(ha.default.DRAWINGS_EDIT.ID);e&&!t?this._taskManager.startTask(ha.default.DRAWINGS_EDIT,{onActivated:this._handleSelection.bind(this,e),onDeactivated:this._handleDeselection.bind(this),hotkeyMap:this._hotkeyMap}):e&&t?(this._handleDeselection(),this._handleSelection(e)):!e&&t&&this._taskManager.finishTask(ha.default.DRAWINGS_EDIT.ID)},_a.openSettingsDialog=function(e,t){return this._dialog=Xi.create(this._eventBus,this._captureZoneManager,this._taskManager,this._settingsManager,e.getPresentationModel(),this._moduleLoader.getModule("reactUI"),t),this._dialog.initDom(this._containerProvider.getContainer("top-html"),!0).makeScrollable(),this._dialog},_a._handleSelection=function(e){this._model.setSelectedDrawing(e),this._startShadowing(e.getPresentationModel()),this._dismissalZone=this._captureZoneManager.createZone(ca.default,Wt.default.PROPAGATE_UNHANDLED,gt.default.SHARED_DISMISSAL_CAPTURE_ZONE),this._dismissalZone.addGesture(vn.default,{count:1,fastTap:!0,onGesture:this._deselectDrawing,context:this}),this._editMenu.requiresContextMenu||this._editMenu.showEditMenu({customise:this.openSettingsDialog.bind(this,e,Ee.EventOrigin.SUBJECT),copy:this._duplicateDrawing.bind(this,e,Ee.EventOrigin.SUBJECT),delete:this.deleteDrawing.bind(this,e,Ee.EventOrigin.SUBJECT)})},_a._handleDeselection=function(){var e=this._model.isSelectedDrawingModified();this._editMenu.hideEditMenu(),this._stopShadowing(),this._model.setSelectedDrawing(null),this._dismissalZone&&(this._dismissalZone.destroy(),delete this._dismissalZone),e&&this._saveDrawings(this._model.getMarshalledDrawings())},_a._startShadowing=function(e){e&&(this._shadowedDrawing=e,this._updateShadow(),e.on(dn.A.DRAGGED,this._updateShadow,this))},_a._stopShadowing=function(){this._shadowedDrawing&&(this._shadowedDrawing.un(dn.A.DRAGGED,this),this._moduleLoader.getModule("axisShadow").setPosition(null,null,null,null,this._shadowedDrawing.getSubViewName()),delete this._shadowedDrawing)},_a._updateShadow=function(){var e=this._shadowedDrawing,t=e.getShadowAnchors();2===t.length&&this._moduleLoader.getModule("axisShadow").setPosition(t[0].timestamp,t[1].timestamp,t[0].level,t[1].level,e.getSubViewName())},_a._deselectDrawing=function(){this.selectDrawing(null)},_a.deleteDrawing=function(e,t){var i=e.getPresentationModel();this._model.actionOrigin=t||null,t&&this._trackInteractionGA(Ee.GA_ACTION.DRAWINGS+" - remove",i.getType().toLowerCase()),this._deselectDrawing(),this._deleteDrawing(e),i.destroy(),e.destroy(),this._saveDrawings(this._model.getMarshalledDrawings())},_a._addDrawing=function(e){this._model.addDrawing(e)},_a._deleteDrawing=function(e){this._model.deleteDrawing(e)},_a._deleteAllDrawings=function(e){var t=!(!this._model.allDrawings||!this._model.allDrawings.length);this._allowUndo(),this._model.deleteAllDrawings(),this._saveDrawings([]),t&&(this._model.actionOrigin=e,this._trackInteractionGA(Ee.GA_ACTION.DRAWINGS+" - remove","all"))},_a._undo=function(){this._model.setDrawings(this._drawingsCopy),this._disallowUndo(),this._saveDrawings(this._model.getMarshalledDrawings())},_a._allowUndo=function(){this._undoDeleteAllTimer=setTimeout(this._disallowUndo.bind(this),pa.UNDO_DELETE_ALL_DRAWINGS_TIMEOUT),this._drawingsCopy=this._model.allDrawings,this._eventBus.subscribe("drawings/undo/deleteAll",this._undo,this),this._model.on(dn.A.DRAWINGS_SET,this._disallowUndo,this),this._model.on(dn.A.PENDING_ADDED,this._disallowUndo,this),this._eventBus.publish("drawings/undo/deleteAll/available",[!0])},_a._disallowUndo=function(){this._undoDeleteAllTimer&&(clearTimeout(this._undoDeleteAllTimer),delete this._undoDeleteAllTimer),this._model&&(this._model.un(dn.A.DRAWINGS_SET,this),this._model.un(dn.A.PENDING_ADDED,this)),this._eventBus&&(this._eventBus.unsubscribe("drawings/undo/deleteAll",this._undo,this),this._eventBus.publish("drawings/undo/deleteAll/available",[!1])),delete this._drawingsCopy},_a._duplicateDrawing=function(e,t){var i=e.getPresentationModel().clone(),n=da.createPresentationController(i);n.setVisibleWindow(e.getVisibleWindow()),n.setSubViewPresentationController(e.getSubViewPresentationController()),i.moveAnchors({moveX:40,moveY:40}),this._model.actionOrigin=t,this._trackInteractionGA(Ee.GA_ACTION.DRAWINGS+" - add",i.getType().toLowerCase()),this._addDrawing(n),this.selectDrawing(n)},_a.toggleLockedDrawingType=function(e){var t=this._model.getLockedDrawingType();this._model.pendingDrawing&&this.cancelAddingDrawing(),e&&t!==e&&this._startAddingDrawingFromToolbox(e)},_a._toggleDrawingsSnapping=function(e){this._settingsManager.changeAccountSettings(P.default.DRAWINGS_GLOBAL,(function(t){return t.snapToPrices=e,!0}),!0)},_a._startAddingDrawing=function(e,t){this._model.actionOrigin=t,this._taskManager.startTask(ha.default.DRAWINGS_ADDING,{onActivated:this._activateAddingDrawingTask.bind(this,e),onDeactivated:this._deactivateAddingDrawingTask.bind(this),hotkeyMap:this._getHotkeyMapForAddingDrawings()})},_a._startAddingDrawingFromToolbox=function(e){this._model.actionOrigin=Ee.EventOrigin.DIALOG,this._taskManager.startTask(ha.default.DRAWINGS_ADDING_TOOLBOX,{onActivated:this._activateAddingDrawingToolboxTask.bind(this,e),onDeactivated:this._deactivateAddingDrawingToolboxTask.bind(this),hotkeyMap:this._getHotkeyMapForAddingDrawings()})},_a._activateAddingDrawingTask=function(e){var t=(0,n.cloneDeep)(this._settingsManager.getGlobalSettings(P.default.DRAWINGS_GLOBAL).annotationsSettings[e]),i=this._instrumentResolution.resolution,s=da.createDefaultModel(e,t,i),r=this._createDrawingPresentationModelAndController(s);(0,Ui.setChartCursor)(this._containerProvider.getRootContainer(),r.getPresentationModel().getAddingCursor()),this._model.setPendingDrawing(r),this._startShadowing(r.getPresentationModel())},_a._deactivateAddingDrawingTask=function(){(0,Ui.setChartCursor)(this._containerProvider.getRootContainer(),Gi.default.DEFAULT),this._stopShadowing(),this._model.setPendingDrawing(null)},_a._activateAddingDrawingToolboxTask=function(e){this._model.setLockedDrawingType(e),this._activateAddingDrawingTask(e)},_a._deactivateAddingDrawingToolboxTask=function(){this._deactivateAddingDrawingTask(),this._model.setLockedDrawingType(null)},_a.finishAddingDrawing=function(){var e=this._model.pendingDrawing,t=this._model.getLockedDrawingType();this._trackInteractionGA(Ee.GA_ACTION.DRAWINGS+" - add",e.getPresentationModel().getType().toLowerCase()),this.cancelAddingDrawing(),this._addDrawing(e),this.selectDrawing(e),t&&this._startAddingDrawingFromToolbox(t)},_a.cancelAddingDrawing=function(){this._model.actionOrigin=null,this._taskManager.finishTask(ha.default.DRAWINGS_ADDING.ID),this._taskManager.finishTask(ha.default.DRAWINGS_ADDING_TOOLBOX.ID)},_a._getHotkeyMapForAddingDrawings=function(){var e={};return e[ua.default.ESCAPE]=e[ua.default.DELETE]=e[ua.default.BACKSPACE]=this.cancelAddingDrawing.bind(this),e},_a._getHotkeyMap=function(){var e={};return e[ua.default.ESCAPE]=this._handleHotkey.bind(this,this.selectDrawing.bind(this,null)),e[ua.default.DELETE]=e[ua.default.BACKSPACE]=this._handleHotkey.bind(this,(0,n.bind)(this.deleteDrawing,this,n.bind.placeholder,Ee.EventOrigin.KEYBOARD)),e[ua.default.D]=this._handleHotkey.bind(this,(0,n.bind)(this._duplicateDrawing,this,n.bind.placeholder,Ee.EventOrigin.KEYBOARD)),e[ua.default.E]=this._handleHotkey.bind(this,(0,n.bind)(this.openSettingsDialog,this,n.bind.placeholder,Ee.EventOrigin.KEYBOARD)),e[ua.default.UP]=this._handleHotkey.bind(this,this._handleKeyMovement.bind(this,{moveY:-1,moveX:0})),e[ua.default.DOWN]=this._handleHotkey.bind(this,this._handleKeyMovement.bind(this,{moveY:1,moveX:0})),e[ua.default.LEFT]=this._handleHotkey.bind(this,this._handleKeyMovement.bind(this,{moveX:-1,moveY:0})),e[ua.default.RIGHT]=this._handleHotkey.bind(this,this._handleKeyMovement.bind(this,{moveX:1,moveY:0})),e},_a._handleHotkey=function(e){this._model.selectedDrawing&&(e(this._model.selectedDrawing),this._editMenu.handleAfterHotkeyUp())},_a._handleKeyMovement=function(e,t){t.dragDrawing(e)},_a._handleResolutionChanged=function(e){this._stopShadowing(),this._model.setSelectedDrawing(null),this.cancelAddingDrawing(),this._taskManager.finishTask(ha.default.DRAWINGS_ADDING.ID),this._taskManager.finishTask(ha.default.DRAWINGS_EDIT.ID),this._instrumentResolution=e,this._model.setTimeline(null),this._model.setResolution(e.resolution)},_a._handleIntervalsLoaded=function(){this._model.setTimeline(this._instrumentResolution.instrumentModel.timeline)},_a._handleChartViewReady=function(e,t){this._captureZoneManager=t},_a._handleChartViewDestroyed=function(){this._dialog&&(this._dialog.destroy(),delete this._dialog)},_a._loadDrawings=function(){if(ne.default.getInstance().isAnonymous())this._model.setDrawings([]);else{var e=this._settingsManager.getEpicSpecificSettings(P.default.DRAWINGS);e&&this._model.setDrawings((0,n.compact)(e.userAnnotations.map((function(e){var t=da.createModel(e);return t?this._createDrawingPresentationModelAndController(t):null}),this)))}},_a._createDrawingPresentationModelAndController=function(e){var t=this._settingsManager.getThemeSettingsMode(),i=da.createPresentationModel(e).setTheme(t),n=da.createPresentationController(i);return this._instrumentResolution&&i.setChartResolution(this._instrumentResolution.resolution),i.requiresContextMenu=this._editMenu.requiresContextMenu,n},_a._handleThemeChanged=function(){this._model.setSelectedDrawing(null),this._model.setTheme(this._settingsManager.getThemeSettingsMode())},_a._saveDrawings=function(e){ne.default.getInstance().isAnonymous()||this._settingsManager.changeEpicSpecificSettings("userAnnotationModule",(function(t){return t.userAnnotations=e,!0}),!0)},_a._trackInteractionGA=function(e,t){this._model&&this._model.actionOrigin&&(this._eventBus.publish("tracker/ga",[{interaction_type:e,interaction_value:this._model.actionOrigin,chart_drawing:t}]),this._model.actionOrigin=null)},_a.destroy=function(){this._dialog&&(this._dialog.destroy(),delete this._dialog),this._disallowUndo(),this._stopShadowing(),this._dismissalZone&&(this._dismissalZone.destroy(),delete this._dismissalZone),this._eventBus&&(this._eventBus.unsubscribeAll(this),delete this._eventBus),this._settingsManager&&(this._settingsManager.un(null,this),delete this._settingsManager),delete this._instrumentResolution,delete this._model,delete this._drawingsCopy},Object.seal(_a);const ga=Object.seal(pa);var fa=i(48990);function ma(e,t,i){return(0,n.invokeMap)((e||[]).map((function(e){return e.getPresentationModel()})),t,i)}var va=s.A.extend((function(){}),fa.default);va.create=function(){return new va};var Aa=va.prototype;Aa.availableDrawings=null,Aa.selectedDrawing=null,Aa.pendingDrawing=null,Aa.allDrawings=null,Aa.actionOrigin=null,Aa._chartResolution=null,Aa._lockedDrawingType=null,Aa._timeline=null,Aa.setDrawings=function(e){this.allDrawings=e,this._timeline&&ma(e,"setTimeline",this._timeline),this._setAvailableDrawings()},Aa.setPendingDrawing=function(e){var t=this.pendingDrawing;this.pendingDrawing=e,this.pendingDrawing?(this.pendingDrawing.getPresentationModel().setTimeline(this._timeline),this.fire(dn.A.PENDING_ADDED,e)):this.fire(dn.A.PENDING_DELETED,t)},Aa.setLockedDrawingType=function(e){this._lockedDrawingType!==e&&(this._lockedDrawingType=e,this.fire(dn.A.LOCKED_DRAWING_TYPE_CHANGED,e))},Aa.getLockedDrawingType=function(){return this._lockedDrawingType},Aa.addDrawing=function(e){this.allDrawings.push(e),e.getPresentationModel().setTimeline(this._timeline),(!e.getPresentationModel().getResolution()||e.getPresentationModel().getResolution().period>=this._chartResolution.period)&&(this.availableDrawings.push(e),this.fire(dn.A.ADDED,e))},Aa.deleteDrawing=function(e){(0,n.pull)(this.allDrawings,e),(0,n.pull)(this.availableDrawings,e),this.fire(dn.A.DELETED,e)},Aa.deleteAllDrawings=function(){this.allDrawings=[],this.availableDrawings=[],this.fire(dn.A.DRAWINGS_DELETED)},Aa.setResolution=function(e){this._chartResolution=e,ma(this.allDrawings,"setChartResolution",e),this._setAvailableDrawings()},Aa.setTimeline=function(e){this._timeline=e,ma(this.allDrawings,"setTimeline",e),this._setAvailableDrawings()},Aa.setTheme=function(e){this.allDrawings&&ma(this.allDrawings,"setTheme",e)},Aa._setAvailableDrawings=function(){this.allDrawings&&this._chartResolution&&this._timeline&&this._timeline.hasIntervals()?(this.availableDrawings=this.allDrawings.filter((function(e){return!e.getPresentationModel().getResolution()||e.getPresentationModel().getResolution().period>=this._chartResolution.period}),this),this.fire(dn.A.DRAWINGS_SET,this.availableDrawings)):delete this.availableDrawings},Aa.setSelectedDrawing=function(e){var t=this.selectedDrawing;t!==e&&(this.selectedDrawing=e,t&&t.getPresentationModel().deselect(),e&&e.getPresentationModel().select())},Aa.isSelectedDrawingModified=function(){return!!this.selectedDrawing&&this.selectedDrawing.getPresentationModel().isModified()},Aa.getMarshalledDrawings=function(){return ma(this.allDrawings,"marshal")},Aa.destroy=function(){this.allDrawings&&((0,n.invokeMap)(this.allDrawings,"destroy"),delete this.allDrawings),delete this.availableDrawings,delete this.actionOrigin,delete this._chartResolution,delete this._timeline,va.superclass.destroy.call(this)},Object.seal(Aa);const Ea=Object.seal(va);var Ta=i(3565),Ia=s.A.extend((function(){}),Ta.default),Ca=Ia.prototype;Ca._sharedPresentationModel=null,Ca.withModuleLoader=function(e){return this._sharedPresentationModel=e.getModule("drawings").sharedPresentationModel,this._sharedPresentationModel.on(dn.A.PENDING_ADDED,(0,y.delegate)("_presentationModel","setPendingDrawing"),this),this._sharedPresentationModel.on(dn.A.PENDING_DELETED,(0,y.delegate)("_presentationModel","removePendingDrawing"),this),Ia.superclass.withModuleLoader.call(this,e)},Ca.destroy=function(){this._sharedPresentationModel&&(this._sharedPresentationModel.un(null,this),delete this._sharedPresentationModel),Ia.superclass.destroy.call(this)},Object.seal(Ca);const Oa=Object.seal(Ia),Ma=new Ar.default({de:{ARROW_0:"Chart antippen, um Pfeilspitze anzusetzen",ARROW_1:"Antippen, um Richtung festzulegen",CHANNEL_0:"Chart antippen, um Kanal einzuleiten",CHANNEL_1:"Am Kanalende antippen",CHANNEL_2:"Antippen, um Kanalhöhe festzulegen",ELLIOTT_WAVE_0:"Chart antippen und Ausgangspunkt festlegen",ELLIOTT_WAVE_1:"Antippen, um Punkt 1 festzulegen",ELLIOTT_WAVE_2:"Antippen, um Punkt 2 festzulegen",ELLIOTT_WAVE_3:"Antippen, um Punkt 3 festzulegen",ELLIOTT_WAVE_4:"Antippen, um Punkt 4 festzulegen",ELLIOTT_WAVE_5:"Antippen, um Punkt 5 festzulegen",ELLIOTT_WAVE_ABC_0:"Chart antippen und Ausgangspunkt festlegen",ELLIOTT_WAVE_ABC_1:"Antippen, um Punkt 'a' festzulegen",ELLIOTT_WAVE_ABC_2:"Antippen, um Punkt 'b' festzulegen",ELLIOTT_WAVE_ABC_3:"Antippen, um Punkt 'c' festzulegen",FIBONACCI_0:"Chart antippen und Ausgangsdrehpunkt festlegen (100%)",FIBONACCI_1:"Antippen, um nächsten Drehpunkt festzulegen (0%)",FIBONACCI_2:"Antippen, um die Länge der Einzeichnung festzulegen",FIBONACCI_EXTENSION_0:"Chart antippen und Ausgangsdrehpunkt festlegen",FIBONACCI_EXTENSION_1:"Antippen, um nächsten Drehpunkt festzulegen",FIBONACCI_EXTENSION_2:"Antippen, um Retracement festzulegen",FIBONACCI_EXTENSION_3:"Antippen, um die Länge der Einzeichnung festzulegen",GANN_FAN_0:"Chart antippen und Fächer-Ausgangspunkt festlegen",GANN_FAN_1:"Antippen, um Winkel festzulegen",GANN_LINE_0:"Chart antippen und Linien-Ausgangspunkt festlegen",GANN_LINE_1:"Antippen, um Winkel festzulegen",HEAD_AND_SHOULDERS_0:"Chart antippen, um die linke Schulter einzuleiten",HEAD_AND_SHOULDERS_1:"An der linken Schulterspitze antippen",HEAD_AND_SHOULDERS_2:"An der linken Nackenlinie antippen",HEAD_AND_SHOULDERS_3:"An der Kopfspitze antippen",HEAD_AND_SHOULDERS_4:"An der rechten Nackenlinie antippen",HEAD_AND_SHOULDERS_5:"An der rechten Schulterspitze antippen",HEAD_AND_SHOULDERS_6:"Antippen, um Kopf-Schulter-Formation abzuschließen",HORIZONTAL_LINE_0:"Chart antippen, um horizontale Linie einzuzeichnen",MEASURE_TOOL_0:"Chart antippen, um die erste Ecke festzulegen",MEASURE_TOOL_1:"Antippen, um die gegenüber liegende Ecke festzulegen",OVAL_0:"Chart antippen, um die Mitte des Ovals festzulegen",OVAL_1:"Antippen, um Eckpunkt festzulegen",PITCHFORK_0:"Chart antippen, um den ersten Punkt zu setzen",PITCHFORK_1:"Antippen, um den zweiten Punkt zu setzen",PITCHFORK_2:"Antippen, um den dritten Punkt zu setzen",PITCHFORK_3:"Antippen, um die Pitchfork-Länge festzulegen",POINT_TO_POINT_0:"Chart antippen, um den ersten Punkt zu setzen",POINT_TO_POINT_1:"Antippen, um den zweiten Punkt zu setzen",RECTANGLE_0:"Chart antippen, um die erste Ecke festzulegen",RECTANGLE_1:"Antippen, um die gegenüber liegende Ecke festzulegen",TEXT_0:"Chart antippen, um die Platzierung Ihres Textfeldes zu markieren",TREND_LINE_0:"Chart antippen, um den ersten Punkt zu setzen",TREND_LINE_1:"Antippen, um den zweiten Punkt zu setzen",TRIANGLE_0:"Chart antippen, um die erste Ecke festzulegen",TRIANGLE_1:"Chart antippen, um die zweite Ecke festzulegen",TRIANGLE_2:"Chart antippen, um die dritte Ecke festzulegen",VERTICAL_LINE_0:"Chart antippen, um eine vertikale Linie einzuzeichnen"},en:{ARROW_0:"Tap the chart to set the tip of the arrow",ARROW_1:"Tap to set the direction",CHANNEL_0:"Tap the chart to start the channel",CHANNEL_1:"Tap at the end of the channel",CHANNEL_2:"Tap to set the channel height",ELLIOTT_WAVE_0:"Tap the chart to set the base point",ELLIOTT_WAVE_1:"Tap to set point 1",ELLIOTT_WAVE_2:"Tap to set point 2",ELLIOTT_WAVE_3:"Tap to set point 3",ELLIOTT_WAVE_4:"Tap to set point 4",ELLIOTT_WAVE_5:"Tap to set point 5",ELLIOTT_WAVE_ABC_0:"Tap the chart to set the base point",ELLIOTT_WAVE_ABC_1:"Tap to set point 'a'",ELLIOTT_WAVE_ABC_2:"Tap to set point 'b'",ELLIOTT_WAVE_ABC_3:"Tap to set point 'c'",FIBONACCI_0:"Tap the chart to set the initial swing point (100%)",FIBONACCI_1:"Tap to set the next swing point (0%)",FIBONACCI_2:"Tap to set the length of the drawing",FIBONACCI_EXTENSION_0:"Tap the chart to set the initial swing point",FIBONACCI_EXTENSION_1:"Tap to set the next swing point",FIBONACCI_EXTENSION_2:"Tap to set the retracement",FIBONACCI_EXTENSION_3:"Tap to set the length of the drawing",GANN_FAN_0:"Tap the chart to set the origin of the fan",GANN_FAN_1:"Tap to set the angle",GANN_LINE_0:"Tap the chart to set the origin of the line",GANN_LINE_1:"Tap to set the angle",HEAD_AND_SHOULDERS_0:"Tap the chart to start the left shoulder",HEAD_AND_SHOULDERS_1:"Tap at the peak of the left shoulder",HEAD_AND_SHOULDERS_2:"Tap at the left neckline",HEAD_AND_SHOULDERS_3:"Tap at the peak of the head",HEAD_AND_SHOULDERS_4:"Tap at the right neckline",HEAD_AND_SHOULDERS_5:"Tap at the peak of the right shoulder",HEAD_AND_SHOULDERS_6:"Tap to finish the head and shoulders",HORIZONTAL_LINE_0:"Tap the chart to set a horizontal line",MEASURE_TOOL_0:"Tap the chart to set the first corner",MEASURE_TOOL_1:"Tap to set the opposite corner",OVAL_0:"Tap the chart to set the centre of the oval",OVAL_1:"Tap to set the corner",PITCHFORK_0:"Tap the chart to set the first point",PITCHFORK_1:"Tap to set the second point",PITCHFORK_2:"Tap to set the third point",PITCHFORK_3:"Tap to set the length of the pitchfork",POINT_TO_POINT_0:"Tap the chart to set the first point",POINT_TO_POINT_1:"Tap to set the second point",RECTANGLE_0:"Tap the chart to set the first corner",RECTANGLE_1:"Tap to set the opposite corner",TEXT_0:"Tap the chart to set the location of your text annotation",TREND_LINE_0:"Tap the chart to set the first point",TREND_LINE_1:"Tap to set the second point",TRIANGLE_0:"Tap the chart to set the first corner",TRIANGLE_1:"Tap to set the second corner",TRIANGLE_2:"Tap to set the third corner",VERTICAL_LINE_0:"Tap the chart to set a vertical line"},en_US:{OVAL_0:"Tap the chart to set the center of the oval"},es:{ARROW_0:"Pulse en el gráfico para establecer la punta de la flecha",ARROW_1:"Pulse para establecer la dirección",CHANNEL_0:"Pulse en el gráfico para empezar el canal",CHANNEL_1:"Pulse al final del canal",CHANNEL_2:"Pulse para establecer la altura del canal",ELLIOTT_WAVE_0:"Pulse en el gráfico para establecer el punto base",ELLIOTT_WAVE_1:"Pulse para establecer el punto 1",ELLIOTT_WAVE_2:"Pulse para establecer el punto 2",ELLIOTT_WAVE_3:"Pulse para establecer el punto 3",ELLIOTT_WAVE_4:"Pulse para establecer el punto 4",ELLIOTT_WAVE_5:"Pulse para establecer el punto 5",ELLIOTT_WAVE_ABC_0:"Pulse en el gráfico para establecer el punto base",ELLIOTT_WAVE_ABC_1:"Pulse para establecer el punto 'a'",ELLIOTT_WAVE_ABC_2:"Pulse para establecer el punto 'b'",ELLIOTT_WAVE_ABC_3:"Pulse para establecer el punto 'c'",FIBONACCI_0:"Pulse en el gráfico para establecer el punto de giro inicial (100%)",FIBONACCI_1:"Pulse para establecer el siguiente punto de giro (0%)",FIBONACCI_2:"Pulse para establecer la longitud de la línea",FIBONACCI_EXTENSION_0:"Pulse en el gráfico para establecer el punto de giro inicial",FIBONACCI_EXTENSION_1:"Pulse para establecer el siguiente punto de giro",FIBONACCI_EXTENSION_2:"Pulse para establecer el retroceso",FIBONACCI_EXTENSION_3:"Pulse para establecer la longitud de la línea",GANN_FAN_0:"Pulse en el gráfico para establecer el origen del abanico",GANN_FAN_1:"Pulse para establecer el ángulo",GANN_LINE_0:"Pulse en el gráfico para establecer el origen de la línea",GANN_LINE_1:"Pulse para establecer el ángulo",HEAD_AND_SHOULDERS_0:"Pulse en el gráfico para empezar el 'hombro izquierdo'",HEAD_AND_SHOULDERS_1:"Pulse en el máximo del 'hombro izquierdo'",HEAD_AND_SHOULDERS_2:"Pulse a la izquierda del 'cuello'",HEAD_AND_SHOULDERS_3:"Pulse en el máximo de la 'cabeza'",HEAD_AND_SHOULDERS_4:"Pulse a la derecha del 'cuello'",HEAD_AND_SHOULDERS_5:"Pulse en el máximo del 'hombro derecho'",HEAD_AND_SHOULDERS_6:"Pulse para terminar la 'cabeza' y los 'hombros'",HORIZONTAL_LINE_0:"Pulse en el gráfico para establecer la línea horizontal",MEASURE_TOOL_0:"Pulse en el gráfico para establecer el primer ángulo",MEASURE_TOOL_1:"Pulse para establecer el ángulo opuesto",OVAL_0:"Pulse en el gráfico para establecer el centro del óvalo",OVAL_1:"Pulse para establecer el ángulo",PITCHFORK_0:"Pulse en el gráfico para establecer el primer punto",PITCHFORK_1:"Pulse para establecer el segundo punto",PITCHFORK_2:"Pulse para establecer el tercer punto",PITCHFORK_3:"Pulse para establecer la longitud del tridente",POINT_TO_POINT_0:"Pulse en el gráfico para establecer el primer punto",POINT_TO_POINT_1:"Pulse para establecer el segundo punto",RECTANGLE_0:"Pulse en el gráfico para establecer el primer ángulo",RECTANGLE_1:"Pulse para establecer el ángulo opuesto",TEXT_0:"Pulse en el gráfico para establecer el lugar de su próxima anotación",TREND_LINE_0:"Pulse en el gráfico para establecer el primer punto",TREND_LINE_1:"Pulse para establecer el segundo punto",TRIANGLE_0:"Pulse en el gráfico para establecer el primer ángulo",TRIANGLE_1:"Pulse para establecer en segundo ángulo",TRIANGLE_2:"Pulse para establecer el tercer ángulo",VERTICAL_LINE_0:"Pulse en el gráfico para establecer una línea vertical"},fr:{ARROW_0:"Touchez pour définir la pointe de la flèche",ARROW_1:"Touchez pour définir la direction",CHANNEL_0:"Touchez pour définir le début du canal",CHANNEL_1:"Touchez pour définir la fin du canal",CHANNEL_2:"Touchez pour déterminer la hauteur du canal",ELLIOTT_WAVE_0:"Touchez le graphique pour définir le point de base",ELLIOTT_WAVE_1:"Touchez pour définir le point 1",ELLIOTT_WAVE_2:"Touchez pour définir le point 2",ELLIOTT_WAVE_3:"Touchez pour définir le point 3",ELLIOTT_WAVE_4:"Touchez pour définir le point 4",ELLIOTT_WAVE_5:"Touchez pour définir le point 5",ELLIOTT_WAVE_ABC_0:"Touchez le graphique pour définir le point de base",ELLIOTT_WAVE_ABC_1:"Touchez pour définir le point 'a'",ELLIOTT_WAVE_ABC_2:"Touchez pour définir le point 'b'",ELLIOTT_WAVE_ABC_3:"Touchez pour définir le point 'c'",FIBONACCI_0:"Touchez le graphique pour définir le point de référence initial (100%)",FIBONACCI_1:"Touchez pour définir le point de référence suivant (0%)",FIBONACCI_2:"Touchez pour définir la longueur du tracé",FIBONACCI_EXTENSION_0:"Touchez le graphique pour définir le point de référence initial",FIBONACCI_EXTENSION_1:"Touchez pour définir le point de référence suivant",FIBONACCI_EXTENSION_2:"Touchez pour définir le retracement",FIBONACCI_EXTENSION_3:"Touchez pour définir la longueur du tracé",GANN_FAN_0:"Touchez pour définir l'origine de l'éventail",GANN_FAN_1:"Touchez pour définir l'angle",GANN_LINE_0:"Touchez pour définir l'origine de la ligne",GANN_LINE_1:"Touchez pour définir l'angle",HEAD_AND_SHOULDERS_0:"Touchez le graphique pour commencer à tracer l'épaule gauche",HEAD_AND_SHOULDERS_1:"Touchez pour définir le sommet de l'épaule gauche",HEAD_AND_SHOULDERS_2:"Touchez pour définir la ligne de cou gauche",HEAD_AND_SHOULDERS_3:"Touchez pour définir le sommet de la tête",HEAD_AND_SHOULDERS_4:"Touchez pour définir la ligne de cou droite",HEAD_AND_SHOULDERS_5:"Touchez pour définir le sommet de l'épaule droite",HEAD_AND_SHOULDERS_6:"Touchez une nouvelle fois pour compléter la figure tête-épaules",HORIZONTAL_LINE_0:"Touchez pour insérer une ligne horizontale",MEASURE_TOOL_0:"Touchez le graphique pour définir le premier angle",MEASURE_TOOL_1:"Touchez le graphique pour définir l’angle opposé",OVAL_0:"Touchez pour définir le centre de l'ovale",OVAL_1:"Touchez pour définir l'angle",PITCHFORK_0:"Touchez pour définir le premier point",PITCHFORK_1:"Touchez pour définir le deuxième point",PITCHFORK_2:"Touchez pour définir le troisième point",PITCHFORK_3:"Touchez le graphique pour définir la longueur de la fourche",POINT_TO_POINT_0:"Touchez pour définir le premier point",POINT_TO_POINT_1:"Touchez pour définir le deuxième point",RECTANGLE_0:"Touchez le graphique pour définir le premier angle",RECTANGLE_1:"Touchez le graphique pour définir l’angle opposé",TEXT_0:"Touchez le graphique pour définir la position de votre commentaire",TREND_LINE_0:"Touchez pour définir le premier point",TREND_LINE_1:"Touchez pour définir le deuxième point",TRIANGLE_0:"Touchez le graphique pour définir le premier angle",TRIANGLE_1:"Touchez le graphique pour définir le deuxième angle",TRIANGLE_2:"Touchez le graphique pour définir le troisième angle",VERTICAL_LINE_0:"Touchez le graphique pour insérer une ligne verticale"},it:{ARROW_0:"Tocca il grafico per orientare la punta della freccia",ARROW_1:"Tocca per impostare la direzione",CHANNEL_0:"Tocca il grafico per impostare l'inizio del canale",CHANNEL_1:"Tocca in corrispondenza della fine del canale",CHANNEL_2:"Tocca per impostare l'altezza del canale",ELLIOTT_WAVE_0:"Tocca il grafico per impostare il punto base",ELLIOTT_WAVE_1:"Tocca per impostare il punto 1",ELLIOTT_WAVE_2:"Tocca per impostare il punto 2",ELLIOTT_WAVE_3:"Tocca per impostare il punto 3",ELLIOTT_WAVE_4:"Tocca per impostare il punto 4",ELLIOTT_WAVE_5:"Tocca per impostare il punto 5",ELLIOTT_WAVE_ABC_0:"Tocca il grafico per impostare il punto base",ELLIOTT_WAVE_ABC_1:"Tocca per impostare un punto 'a'",ELLIOTT_WAVE_ABC_2:"Tocca per impostare un punto 'b'",ELLIOTT_WAVE_ABC_3:"Tocca per impostare un punto 'c'",FIBONACCI_0:"Tocca il grafico per impostare il punto swing iniziale (100%)",FIBONACCI_1:"Tocca per impostare il punto swing seguente (0%)",FIBONACCI_2:"Tocca per impostare la lunghezza della linea",FIBONACCI_EXTENSION_0:"Tocca il grafico per impostare il punto swing iniziale",FIBONACCI_EXTENSION_1:"Tocca per impostare il punto swing seguente",FIBONACCI_EXTENSION_2:"Tocca per impostare il ritracciamento",FIBONACCI_EXTENSION_3:"Tocca per impostare la lunghezza della linea",GANN_FAN_0:"Tocca il grafico per impostare il punto iniziale del ventaglio",GANN_FAN_1:"Tocca per impostare l'angolo",GANN_LINE_0:"Tocca il grafico per impostare l'origine della linea",GANN_LINE_1:"Tocca per impostare l'angolo",HEAD_AND_SHOULDERS_0:"Tocca il grafico per impostare l'inizio della spalla sinistra",HEAD_AND_SHOULDERS_1:"Tocca in corrispondenza del picco della spalla sinistra",HEAD_AND_SHOULDERS_2:"Tocca in corrispondenza del collo di sinistra",HEAD_AND_SHOULDERS_3:"Tocca in corrispondenza del picco della testa",HEAD_AND_SHOULDERS_4:"Tocca in corrispondenza del collo di destra",HEAD_AND_SHOULDERS_5:"Tocca in corrispondenza del picco della spalla destra",HEAD_AND_SHOULDERS_6:"Tocca per terminare la testa e le spalle",HORIZONTAL_LINE_0:"Tocca il grafico per tracciare una linea orizzontale",MEASURE_TOOL_0:"Tocca il grafico per impostare il primo angolo",MEASURE_TOOL_1:"Tocca per impostare l'angolo opposto",OVAL_0:"Tocca il grafico per impostare il centro dell'ovale",OVAL_1:"Tocca per impostare l'angolo",PITCHFORK_0:"Tocca il grafico per impostare il primo punto",PITCHFORK_1:"Tocca per impostare il secondo punto",PITCHFORK_2:"Tocca per impostare il terzo punto",PITCHFORK_3:"Tocca per impostare la lunghezza del forchetta",POINT_TO_POINT_0:"Tocca il grafico per impostare il primo punto",POINT_TO_POINT_1:"Tocca per impostare il secondo punto",RECTANGLE_0:"Tocca il grafico per impostare il primo angolo",RECTANGLE_1:"Tocca per impostare l'angolo opposto",TEXT_0:"Tocca il grafico per stabilire la posizione della nota",TREND_LINE_0:"Tocca il grafico per impostare il primo punto",TREND_LINE_1:"Tocca per impostare il secondo punto",TRIANGLE_0:"Tocca il grafico per impostare il primo angolo",TRIANGLE_1:"Tocca il grafico per impostare il secondo angolo",TRIANGLE_2:"Tocca il grafico per impostare il terzo angolo",VERTICAL_LINE_0:"Tocca il grafico per tracciare una linea verticale"},ja:{ARROW_0:"チャートをタップして矢印の先端を設定",ARROW_1:"タップして矢印の方向を設定",CHANNEL_0:"チャートをタップしてチャネルラインの起点を設定",CHANNEL_1:"タップしてチャネルラインの終点を設定",CHANNEL_2:"タップしてチャネルラインの幅を設定",ELLIOTT_WAVE_0:"チャートをタップして基準点を設定",ELLIOTT_WAVE_1:"タップして1を設定",ELLIOTT_WAVE_2:"タップして2を設定",ELLIOTT_WAVE_3:"タップして3を設定",ELLIOTT_WAVE_4:"タップして4を設定",ELLIOTT_WAVE_5:"タップして5を設定",ELLIOTT_WAVE_ABC_0:"チャートをタップして基準点を設定",ELLIOTT_WAVE_ABC_1:"タップしてaを設定",ELLIOTT_WAVE_ABC_2:"タップしてbを設定",ELLIOTT_WAVE_ABC_3:"タップしてcを設定",FIBONACCI_0:"チャートをタップして最初のスイングポイントを設定 (100%)",FIBONACCI_1:"タップして次のスイングポイントを設定 (0%)",FIBONACCI_2:"タップして長さを設定",FIBONACCI_EXTENSION_0:"チャートをタップして最初のスイングポイントを設定",FIBONACCI_EXTENSION_1:"タップして次のスイングポイントを設定",FIBONACCI_EXTENSION_2:"タップしてリトレースメントを設定",FIBONACCI_EXTENSION_3:"タップして長さを設定",GANN_FAN_0:"チャートをタップしてギャンファンの起点を設定",GANN_FAN_1:"タップして角度を設定",GANN_LINE_0:"チャートをタップしてギャンラインの起点を設定",GANN_LINE_1:"タップして角度を設定",HEAD_AND_SHOULDERS_0:"チャートをタップしてレフトショルダーをスタート",HEAD_AND_SHOULDERS_1:"レフトショルダーのトップをタップ",HEAD_AND_SHOULDERS_2:"レフトネックラインをタップ",HEAD_AND_SHOULDERS_3:"ヘッドのトップをタップ",HEAD_AND_SHOULDERS_4:"ライトネックラインをタップ",HEAD_AND_SHOULDERS_5:"ライトショルダーのトップをタップ",HEAD_AND_SHOULDERS_6:"タップしてヘッドアンドショルダーの設定を終了",HORIZONTAL_LINE_0:"チャートをタップして水平線を引く",MEASURE_TOOL_0:"チャートをタップして最初の角を設定",MEASURE_TOOL_1:"タップして対角線上の角を設定",OVAL_0:"チャートをタップして楕円の中心を設定",OVAL_1:"タップして角を設定",PITCHFORK_0:"チャートをタップして最初のポイントを設定",PITCHFORK_1:"タップして2番目のポイントを設定",PITCHFORK_2:"タップして3番目のポイントを設定",PITCHFORK_3:"タップしてピッチフォークの長さを設定",POINT_TO_POINT_0:"チャートをタップして最初のポイントを設定",POINT_TO_POINT_1:"タップして2番目のポイントを設定",RECTANGLE_0:"チャートをタップして最初の角を設定",RECTANGLE_1:"タップして対角線上の角を設定",TEXT_0:"チャートをタップして注釈をつける場所を設定",TREND_LINE_0:"チャートをタップして最初のポイントを設定",TREND_LINE_1:"タップして2番目のポイントを設定",TRIANGLE_0:"チャートをタップして最初の角を設定",TRIANGLE_1:"タップして2番目の角を設定",TRIANGLE_2:"タップして3番目の角を設定",VERTICAL_LINE_0:"チャートをタップして縦線を設定"},nl:{ARROW_0:"Tik op de grafiek om de punt van het pijltje in te stellen",ARROW_1:"Tik om de richting in te stellen",CHANNEL_0:"Tik op de grafiek om het kanaal te starten",CHANNEL_1:"Tik op het einde van het kanaal",CHANNEL_2:"Tik op het einde van de kanaalhoogte",ELLIOTT_WAVE_0:"Tik op de grafiek om het basispunt in te stellen",ELLIOTT_WAVE_1:"Tik om punt 1 in te stellen",ELLIOTT_WAVE_2:"Tik om punt 2 in te stellen",ELLIOTT_WAVE_3:"Tik om punt 3 in te stellen",ELLIOTT_WAVE_4:"Tik om punt 4 in te stellen",ELLIOTT_WAVE_5:"Tik om punt 5 in te stellen",ELLIOTT_WAVE_ABC_0:"Tik op de grafiek om het basispunt in te stellen",ELLIOTT_WAVE_ABC_1:"Tik om punt 'a' in te stellen",ELLIOTT_WAVE_ABC_2:"Tik om punt 'b' in te stellen",ELLIOTT_WAVE_ABC_3:"Tik om punt 'c' in te stellen",FIBONACCI_0:"Tik op de grafiek om het beginpunt van de swing in te stellen (100%)",FIBONACCI_1:"Tik om het volgende swing punt in te stellen (0%)",FIBONACCI_2:"Tik om de lengte van de tekening in te stellen",FIBONACCI_EXTENSION_0:"Tik op de grafiek om het beginpunt van de swing in te stellen",FIBONACCI_EXTENSION_1:"Tik om het volgende swing punt in te stellen",FIBONACCI_EXTENSION_2:"Tik om de retracement in te stellen",FIBONACCI_EXTENSION_3:"Tik om de lengte van de tekening in te stellen",GANN_FAN_0:"Tik op de grafiek om het begin van de waaier in te stellen",GANN_FAN_1:"Tik om de hoek in te stellen",GANN_LINE_0:"Tik op de grafiek om het begin van de lijn in te stellen",GANN_LINE_1:"Tik om de hoek in te stellen",HEAD_AND_SHOULDERS_0:"Tik op de grafiek om met de linkerschouder te beginnen",HEAD_AND_SHOULDERS_1:"Tik op de bovenkant van de linkerschouder",HEAD_AND_SHOULDERS_2:"Tik op de linker neklijn",HEAD_AND_SHOULDERS_3:"Tik op de bovenkant van het hoofd",HEAD_AND_SHOULDERS_4:"Tik op de rechter neklijn",HEAD_AND_SHOULDERS_5:"Tik op de bovenkant van de rechterschouder",HEAD_AND_SHOULDERS_6:"Tik om het hoofd en de schouders te voltooien",HORIZONTAL_LINE_0:"Tik op de grafiek om de horizontale lijn in te stellen",MEASURE_TOOL_0:"Tik op de grafiek om de eerste hoek in te stellen",MEASURE_TOOL_1:"Tik om de tegengestelde hoek in te stellen",OVAL_0:"Tik op de grafiek om het centrum van het ovaal in te stellen",OVAL_1:"Tik om de hoek in te stellen",PITCHFORK_0:"Tik om de grafiek om het eerste punt in te stellen",PITCHFORK_1:"Tik om het tweede punt in te stellen",PITCHFORK_2:"Tik om het derde punt in te stellen",PITCHFORK_3:"Tik om de vorklengte in te stellen",POINT_TO_POINT_0:"Tik om de grafiek om het eerste punt in te stellen",POINT_TO_POINT_1:"Tik om het tweede punt in te stellen",RECTANGLE_0:"Tik op de grafiek om de eerste hoek in te stellen",RECTANGLE_1:"Tik om de tegengestelde hoek in te stellen",TEXT_0:"Tik op de plek in de grafiek waar u uw aantekening wilt plaatsen",TREND_LINE_0:"Tik om de grafiek om het eerste punt in te stellen",TREND_LINE_1:"Tik om het tweede punt in te stellen",TRIANGLE_0:"Tik op de grafiek om de eerste hoek in te stellen",TRIANGLE_1:"Tik om de tweede hoek in te stellen",TRIANGLE_2:"Tik om de derde hoek in te stellen",VERTICAL_LINE_0:"Tik op de grafiek om een verticale lijn in te stellen"},nb:{ARROW_0:"Trykk i diagrammet for å markere pilens spiss",ARROW_1:"Trykk for å angi retning",CHANNEL_0:"Trykk i diagrammet for å starte kanalen",CHANNEL_1:"Trykk på kanalens sluttpunkt",CHANNEL_2:"Trykk for å markere kanalens høyde",ELLIOTT_WAVE_0:"Trykk i diagrammet for å sette basepunkt",ELLIOTT_WAVE_1:"Trykk for å markere punkt 1",ELLIOTT_WAVE_2:"Trykk for å markere punkt 2",ELLIOTT_WAVE_3:"Trykk for å markere punkt 3",ELLIOTT_WAVE_4:"Trykk for å markere punkt 4",ELLIOTT_WAVE_5:"Trykk for å markere punkt 5",ELLIOTT_WAVE_ABC_0:"Trykk i diagrammet for å sette basepunkt",ELLIOTT_WAVE_ABC_1:"Trykk for å markere punkt 'a'",ELLIOTT_WAVE_ABC_2:"Trykk for å markere punkt 'b'",ELLIOTT_WAVE_ABC_3:"Trykk for å markere punkt 'c'",FIBONACCI_0:"Trykk i diagrammet for å markere opprinnelig svingpunkt (100%)",FIBONACCI_1:"Trykk for å markere neste svingpunkt (0%)",FIBONACCI_2:"Trykk for å bestemme merknadens lengde",FIBONACCI_EXTENSION_0:"Trykk i diagrammet for å markere opprinnelig svingpunkt",FIBONACCI_EXTENSION_1:"Trykk for å markere neste svingpunkt",FIBONACCI_EXTENSION_2:"Trykk for å markere justering",FIBONACCI_EXTENSION_3:"Trykk for å bestemme merknadens lengde",GANN_FAN_0:"Trykk i diagrammet for å markere utgangspunktet for viften",GANN_FAN_1:"Trykk for å markere vinkel",GANN_LINE_0:"Trykk i diagrammet for å markere linjens utgangspunkt",GANN_LINE_1:"Trykk for å markere vinkel",HEAD_AND_SHOULDERS_0:"Trykk i diagrammet for å starte venstre skulder",HEAD_AND_SHOULDERS_1:"Trykk på toppen av venstre skulder",HEAD_AND_SHOULDERS_2:"Trykk på venstre neckline",HEAD_AND_SHOULDERS_3:"Trykk på toppen av hodet",HEAD_AND_SHOULDERS_4:"Trykk på høyre neckline",HEAD_AND_SHOULDERS_5:"Trykk på toppen av høyre skulder",HEAD_AND_SHOULDERS_6:"Trykk for å ferdigstille hode og skuldre",HORIZONTAL_LINE_0:"Trykk i diagrammet for å markere en horisontal linje",MEASURE_TOOL_0:"Trykk i diagrammet for å markere det første hjørnet",MEASURE_TOOL_1:"Trykk for å markere det motsatte hjørnet",OVAL_0:"Trykk i diagrammet for å markere ovalens midtpunkt",OVAL_1:"Trykk for å markere hjørnet",PITCHFORK_0:"Trykk i diagrammet for å markere første punkt",PITCHFORK_1:"Trykk for å markere andre punkt",PITCHFORK_2:"Trykk for å markere tredje punkt",PITCHFORK_3:"Trykk for å bestemme lenge på Pitchfork",POINT_TO_POINT_0:"Trykk i diagrammet for å markere første punkt",POINT_TO_POINT_1:"Trykk for å markere andre punkt",RECTANGLE_0:"Trykk i diagrammet for å markere det første hjørnet",RECTANGLE_1:"Trykk for å markere det motsatte hjørnet",TEXT_0:"Trykk i diagrammet for å angi plass for tekst",TREND_LINE_0:"Trykk i diagrammet for å markere første punkt",TREND_LINE_1:"Trykk for å markere andre punkt",TRIANGLE_0:"Trykk i diagrammet for å markere det første hjørnet",TRIANGLE_1:"Trykk for å markere andre hjørne",TRIANGLE_2:"Trykk for å markere tredje hjørne",VERTICAL_LINE_0:"Trykk i diagrammet for å markere en vertikal linje"},pt:{ARROW_0:"Clique no gráfico para definir o topo da flecha",ARROW_1:"Clique para definir a direção",CHANNEL_0:"Clique no gráfico para definir o início do canal",CHANNEL_1:"Clique para definir o fim do canal",CHANNEL_2:"Clique para definir a altura do canal",ELLIOTT_WAVE_0:"Clique no gráfico para definir o base point",ELLIOTT_WAVE_1:"Clique para definir ponto 1",ELLIOTT_WAVE_2:"Clique para definir ponto 2",ELLIOTT_WAVE_3:"Clique para definir ponto 3",ELLIOTT_WAVE_4:"Clique para definir ponto 4",ELLIOTT_WAVE_5:"Clique para definir ponto 5",ELLIOTT_WAVE_ABC_0:"Clique no gráfico para definir o base point",ELLIOTT_WAVE_ABC_1:"Clique para  definir ponto 'a'",ELLIOTT_WAVE_ABC_2:"Clique para  definir ponto 'b'",ELLIOTT_WAVE_ABC_3:"Clique para  definir ponto 'c'",FIBONACCI_0:"Clique no gráfico para definir o swing point (100%)",FIBONACCI_1:"Clique para definir o próximo swing point (0%)",FIBONACCI_2:"Clique para definir o tamanho do desenho",FIBONACCI_EXTENSION_0:"Clique no gráfico para definir o swing point",FIBONACCI_EXTENSION_1:"Clique para definir o próximo swing point",FIBONACCI_EXTENSION_2:"Clique para definir a retração",FIBONACCI_EXTENSION_3:"Clique para definir o tamanho do desenho",GANN_FAN_0:"Clique no gráfico para definir a origem do fan",GANN_FAN_1:"Clique para definir o ângulo",GANN_LINE_0:"Clique no gráfico para definir a origem da linha",GANN_LINE_1:"Clique para definir o ângulo",HEAD_AND_SHOULDERS_0:"Clique no gráfico para marcar o ombro esquerdo",HEAD_AND_SHOULDERS_1:"Clique no topo do ombro esquerdo",HEAD_AND_SHOULDERS_2:"Clique no neckline esquerdo",HEAD_AND_SHOULDERS_3:"Clique no topo da cabeça (head)",HEAD_AND_SHOULDERS_4:"Clique no neckline direito",HEAD_AND_SHOULDERS_5:"Clique no topo do ombro direito",HEAD_AND_SHOULDERS_6:"Clique para encerrar ombro-cabeça-ombro",HORIZONTAL_LINE_0:"Clique no gráfico para definir uma linha horizontal",MEASURE_TOOL_0:"Clique no gráfico para definir o primeiro ângulo",MEASURE_TOOL_1:"Clique para definir o ângulo oposto",OVAL_0:"Clique no gráfico para definir o centro do círculo",OVAL_1:"Clique para definir o canto",PITCHFORK_0:"Clique no gráfico para definir o primeiro ponto",PITCHFORK_1:"Clique para definir o segundo ponto",PITCHFORK_2:"Clique para definir o terceiro ponto",PITCHFORK_3:"Clique para definir o tamanho do pitchfork",POINT_TO_POINT_0:"Clique no gráfico para definir o primeiro ponto",POINT_TO_POINT_1:"Clique para definir o segundo ponto",RECTANGLE_0:"Clique no gráfico para definir o primeiro ângulo",RECTANGLE_1:"Clique para definir o ângulo oposto",TEXT_0:"Clique no gráfico para definir o local da sua anotação",TREND_LINE_0:"Clique no gráfico para definir o primeiro ponto",TREND_LINE_1:"Clique para definir o segundo ponto",TRIANGLE_0:"Clique no gráfico para definir o primeiro ângulo",TRIANGLE_1:"Clique para definir o segundo ângulo",TRIANGLE_2:"Clique para definir o terceiro ângulo",VERTICAL_LINE_0:"Clique no gráfico para definir uma linha vertical"},sv:{ARROW_0:"Tryck på diagrammet för att markera pilens spets",ARROW_1:"Tryck för att ange riktning",CHANNEL_0:"Tryck på diagrammet för att starta kanalen",CHANNEL_1:"Tryck på kanalens slutpunkt",CHANNEL_2:"Tryck för att ange kanalens höjd",ELLIOTT_WAVE_0:"Tryck på diagrammet för att markera baspunkten",ELLIOTT_WAVE_1:"Tryck för att markera punkt 1",ELLIOTT_WAVE_2:"Tryck för att markera punkt 2",ELLIOTT_WAVE_3:"Tryck för att markera punkt 3",ELLIOTT_WAVE_4:"Tryck för att markera punkt 4",ELLIOTT_WAVE_5:"Tryck för att markera punkt 5",ELLIOTT_WAVE_ABC_0:"Tryck på diagrammet för att markera baspunkten",ELLIOTT_WAVE_ABC_1:"Tryck för att markera punkt 'a'",ELLIOTT_WAVE_ABC_2:"Tryck för att markera punkt 'b'",ELLIOTT_WAVE_ABC_3:"Tryck för att markera punkt 'c'",FIBONACCI_0:"Tryck i diagrammet för att markera första swing point (100%)",FIBONACCI_1:"Tryck för att markera nästa swing point (0%)",FIBONACCI_2:"Tryck på diagrammet för att ange markeringens längd",FIBONACCI_EXTENSION_0:"Tryck i diagrammet för att markera första swing point",FIBONACCI_EXTENSION_1:"Tryck för att markera nästa swing point",FIBONACCI_EXTENSION_2:"Tryck för att markera retracement",FIBONACCI_EXTENSION_3:"Tryck på diagrammet för att ange markeringens längd",GANN_FAN_0:"Tryck för att markera utgångspunkt för Fan",GANN_FAN_1:"Tryck för att ange vinkel",GANN_LINE_0:"Tryck på diagrammet för att markera linjens utgångspunkt",GANN_LINE_1:"Tryck för att ange vinkel",HEAD_AND_SHOULDERS_0:"Tryck på diagrammet för att påbörja vänster skuldra",HEAD_AND_SHOULDERS_1:"Tryck på vänster skuldras topp",HEAD_AND_SHOULDERS_2:"Tryck på vänster nacklinje",HEAD_AND_SHOULDERS_3:"Tryck på huvudets topp",HEAD_AND_SHOULDERS_4:"Tryck på höger nacklinje",HEAD_AND_SHOULDERS_5:"Tryck på höger skuldras topp",HEAD_AND_SHOULDERS_6:"Tryck för att avsluta huvud och skuldror",HORIZONTAL_LINE_0:"Tryck för att rita en horisontell linje",MEASURE_TOOL_0:"Tryck på diagrammet för att markera det första hörnet",MEASURE_TOOL_1:"Tryck för att markera motsatt hörn",OVAL_0:"Tryck på diagrammet för att markera ovalens mittpunkt",OVAL_1:"Tryck för att ange hörn",PITCHFORK_0:"Tryck på diagrammet för att markera den första punkten",PITCHFORK_1:"Tryck för att markera den andra punkten",PITCHFORK_2:"Tryck för att markera den tredje punkten",PITCHFORK_3:"Tryck på diagrammet för att ange längd på Pitchfork",POINT_TO_POINT_0:"Tryck på diagrammet för att markera den första punkten",POINT_TO_POINT_1:"Tryck för att markera den andra punkten",RECTANGLE_0:"Tryck på diagrammet för att markera det första hörnet",RECTANGLE_1:"Tryck för att markera motsatt hörn",TEXT_0:"Tryck på diagrammet för att ange plats för text",TREND_LINE_0:"Tryck på diagrammet för att markera den första punkten",TREND_LINE_1:"Tryck för att markera den andra punkten",TRIANGLE_0:"Tryck på diagrammet för att markera det första hörnet",TRIANGLE_1:"Tryck för att markera det andra hörnet",TRIANGLE_2:"Tryck för att markera det tredje hörnet",VERTICAL_LINE_0:"Tryck på diagrammet för att rita en vertikal linje"},zh:{ARROW_0:"轻触图表，设置箭头起点",ARROW_1:"轻触设置方向",CHANNEL_0:"轻触图表，设置通道起点",CHANNEL_1:"轻触设置通道终点",CHANNEL_2:"轻触设置通道高度",ELLIOTT_WAVE_0:"轻触图表，设置起点",ELLIOTT_WAVE_1:"轻触设置点1",ELLIOTT_WAVE_2:"轻触设置点2",ELLIOTT_WAVE_3:"轻触设置点3",ELLIOTT_WAVE_4:"轻触设置点4",ELLIOTT_WAVE_5:"轻触设置点5",ELLIOTT_WAVE_ABC_0:"轻触图表，设置起点",ELLIOTT_WAVE_ABC_1:"轻触设置点a",ELLIOTT_WAVE_ABC_2:"轻触设置点b",ELLIOTT_WAVE_ABC_3:"轻触设置点c",FIBONACCI_0:"轻触图表，设置出发点 (100%)",FIBONACCI_1:"轻触设置下一个点 (0%)",FIBONACCI_2:"轻触设置绘图长度",FIBONACCI_EXTENSION_0:"轻触图表，设置出发点",FIBONACCI_EXTENSION_1:"轻触设置下一个点",FIBONACCI_EXTENSION_2:"轻触设置回调线",FIBONACCI_EXTENSION_3:"轻触设置绘图长度",GANN_FAN_0:"轻触图表，设置江恩扇形线起点",GANN_FAN_1:"轻触设置角度",GANN_LINE_0:"轻触图表，设置起点",GANN_LINE_1:"轻触设置角度",HEAD_AND_SHOULDERS_0:"轻触图表，设置左肩",HEAD_AND_SHOULDERS_1:"轻触左肩顶",HEAD_AND_SHOULDERS_2:"轻触左颈",HEAD_AND_SHOULDERS_3:"轻触头部",HEAD_AND_SHOULDERS_4:"轻触右颈",HEAD_AND_SHOULDERS_5:"轻触右肩顶",HEAD_AND_SHOULDERS_6:"轻触完成头肩形态",HORIZONTAL_LINE_0:"轻触图表，设置一条水平线",MEASURE_TOOL_0:"轻触图表选取初始位置",MEASURE_TOOL_1:"轻触确认另一端位置",OVAL_0:"轻触图表，设置椭圆形的中心",OVAL_1:"轻触设置边角",PITCHFORK_0:"轻触图表，设置起始点",PITCHFORK_1:"轻触设置第二个点",PITCHFORK_2:"轻触设置第三个点",PITCHFORK_3:"轻触设置叉子的长度",POINT_TO_POINT_0:"轻触图表，设置起始点",POINT_TO_POINT_1:"轻触设置第二个点",RECTANGLE_0:"轻触图表选取初始位置",RECTANGLE_1:"轻触确认另一端位置",TEXT_0:"轻触图表设置文字注释的位置",TREND_LINE_0:"轻触图表，设置起始点",TREND_LINE_1:"轻触设置第二个点",TRIANGLE_0:"轻触图表选取初始位置",TRIANGLE_1:"轻触确认第二个位置",TRIANGLE_2:"轻触确认第三个位置",VERTICAL_LINE_0:"轻触图表设置垂直线"},zh_TW:{ARROW_0:"輕觸圖表，設置箭頭起點",ARROW_1:"輕觸設置方向",CHANNEL_0:"輕觸圖表，設置通道起點",CHANNEL_1:"輕觸設置通道終點",CHANNEL_2:"輕觸設置通道高度",ELLIOTT_WAVE_0:"輕觸圖表，設置起點",ELLIOTT_WAVE_1:"輕觸設置點1",ELLIOTT_WAVE_2:"輕觸設置點2",ELLIOTT_WAVE_3:"輕觸設置點3",ELLIOTT_WAVE_4:"輕觸設置點4",ELLIOTT_WAVE_5:"輕觸設置點5",ELLIOTT_WAVE_ABC_0:"輕觸圖表，設置起點",ELLIOTT_WAVE_ABC_1:"輕觸設置點a",ELLIOTT_WAVE_ABC_2:"輕觸設置點b",ELLIOTT_WAVE_ABC_3:"輕觸設置點c",FIBONACCI_0:"輕觸圖表，設置出發點 (100%)",FIBONACCI_1:"輕觸設置下一個點 (0%)",FIBONACCI_2:"輕觸設置繪圖長度",FIBONACCI_EXTENSION_0:"輕觸圖表，設置出發點",FIBONACCI_EXTENSION_1:"輕觸設置下一個點",FIBONACCI_EXTENSION_2:"輕觸設置回調線",FIBONACCI_EXTENSION_3:"輕觸設置繪圖長度",GANN_FAN_0:"輕觸圖表，設置江恩扇形線起點",GANN_FAN_1:"輕觸設置角度",GANN_LINE_0:"輕觸圖表，設置起點",GANN_LINE_1:"輕觸設置角度",HEAD_AND_SHOULDERS_0:"輕觸圖表，設置左肩",HEAD_AND_SHOULDERS_1:"輕觸左肩頂",HEAD_AND_SHOULDERS_2:"輕觸左頸",HEAD_AND_SHOULDERS_3:"輕觸頭部",HEAD_AND_SHOULDERS_4:"輕觸右頸",HEAD_AND_SHOULDERS_5:"輕觸右肩頂",HEAD_AND_SHOULDERS_6:"輕觸完成頭肩形態",HORIZONTAL_LINE_0:"輕觸圖表，設置一條水平線",MEASURE_TOOL_0:"輕觸圖表選取初始位置",MEASURE_TOOL_1:"輕觸確認另一端位置",OVAL_0:"輕觸圖表，設置橢圓形的中心",OVAL_1:"輕觸設置邊角",PITCHFORK_0:"輕觸圖表，設置起始點",PITCHFORK_1:"輕觸設置第二個點",PITCHFORK_2:"輕觸設置第三個點",PITCHFORK_3:"輕觸設置叉子的長度",POINT_TO_POINT_0:"輕觸圖表，設置起始點",POINT_TO_POINT_1:"輕觸設置第二個點",RECTANGLE_0:"輕觸圖表選取初始位置",RECTANGLE_1:"輕觸確認另一端位置",TEXT_0:"輕觸圖表設置文字注釋的位置",TREND_LINE_0:"輕觸圖表，設置起始點",TREND_LINE_1:"輕觸設置第二個點",TRIANGLE_0:"輕觸圖表選取初始位置",TRIANGLE_1:"輕觸確認第二個位置",TRIANGLE_2:"輕觸確認第三個位置",VERTICAL_LINE_0:"點擊圖表設置垂直線"}});var ya=s.A.extend((function(){}),fa.default);ya.DRAWING_HINT_CHANGE="DRAWING_HINT_CHANGE";var ba=ya.prototype;ba.visible=!1,ba.text=null,ba.setPendingDrawing=function(e){this.visible=!0,this._pendingDrawingPresentationModel=e.getPresentationModel(),this._pendingDrawingPresentationModel.on(an.A.ANCHOR_CONFIRMED,this._handleEditHintsUpdated,this),this._handleEditHintsUpdated()},ba.removePendingDrawing=function(){this._pendingDrawingPresentationModel.un(null,this),this._pendingDrawingPresentationModel=null,this.visible=!1,this.text=null,this.fire(ya.DRAWING_HINT_CHANGE)},ba._handleEditHintsUpdated=function(){var e=this._pendingDrawingPresentationModel.getConfirmedAnchorIndex()+1;e>=this._pendingDrawingPresentationModel.getMaxAnchors()||(this.hidden=!this._pendingDrawingPresentationModel,this.text=Ma.get(this._pendingDrawingPresentationModel.getType()+"_"+e),this.fire(ya.DRAWING_HINT_CHANGE))},ba.destroy=function(){delete this.text,delete this.hidden,this._pendingDrawingPresentationModel&&(this._pendingDrawingPresentationModel.un(null,this),this._pendingDrawingPresentationModel=null),ya.superclass.destroy.call(this)},Object.seal(ba);const Sa=Object.seal(ya);var Da=s.A.extend((function(){}),Zt.default),wa=Da.prototype;wa.initDom=function(){return this.render(),this},wa.startRedrawingBasedOnChangesInVisibleWindow=function(){Da.superclass.startRedrawingBasedOnChangesInVisibleWindow.call(this),this._presentationModel.on(Sa.DRAWING_HINT_CHANGE,this.renderOnFrameEnd,this)},wa.stopRedrawingBasedOnChangesInVisibleWindow=function(){Da.superclass.stopRedrawingBasedOnChangesInVisibleWindow.call(this),this._presentationModel.un(null,this)},wa.render=function(){this.dContainer.classed("hidden",!this._presentationModel.visible).text(this._presentationModel.text)},Object.seal(wa);const La=Object.seal(Da),Ra=Object.freeze({ARROW:'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16">\n    <path d="M2 2l13 13M4 15h11M15 4v11" class="iconStroke"/>\n</svg>',CHANNEL:'<svg width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg">\n    <g stroke="#9696A3" fill="none" fill-rule="evenodd">\n        <path d="M2.5 10.5l8-8M5.5 13.5l8-8" class="iconStroke"/>\n    </g>\n</svg>',ELLIOTT_WAVE:'<svg width="16" height="10" viewBox="0 0 16 10" xmlns="http://www.w3.org/2000/svg">\n    <g fill="none" fill-rule="evenodd">\n        <path d="M0-3h16v16H0z"/>\n        <path class="iconStroke" stroke="#6C6C7A" d="M1.4 6.5l1.6 3 4.5-8 3.5 6L14.6 0"/>\n    </g>\n</svg>\n',ELLIOTT_WAVE_ABC:'<svg width="16" height="10" viewBox="0 0 16 10" xmlns="http://www.w3.org/2000/svg">\n    <g fill="none" fill-rule="evenodd">\n        <path d="M0-3h16v16H0z"/>\n        <path class="iconStroke" stroke="#6C6C7A" d="M1.4 1.5L6 9.25l5.5-8.5 3.1 5"/>\n    </g>\n</svg>\n',FIBONACCI:'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16">\n    <g class="iconStroke">\n        <path d="M1 1h14M1 15h14"/>\n        <path d="M1 4h14M1 8h14M1 12h14" stroke-dasharray="2, 2"/>\n    </g>\n</svg>',FIBONACCI_EXTENSION:'<svg width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg">\n    <g class="iconStroke" fill="none" fill-rule="evenodd">\n        <path d="M1 14.9L3 10l2.4 3.2M5 1h10M5 4h2M13 4h2M5 7h2M13 7h2M5 10h2M9 4h2M9 7h2M9 10h2M13 10h2M5 13h10"/>\n    </g>\n</svg>',GANN_FAN:'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16">\n    <path d="M2 1v14M2 15h13M2 15l12.124-7M2 15L9 2.876" class="iconStroke"/>\n</svg>',GANN_LINE:'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16">\n    <g class="iconStroke">\n        <path d="M2,14 L12,1.5"/>\n        <path d="M2,14 L15,14" stroke-dasharray="1, 2"/>\n    </g>\n</svg>',HEAD_AND_SHOULDERS:'<svg width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg">\n    <g fill="none" fill-rule="evenodd">\n        <path d="M0 0h16v16H0z"/>\n        <path class="iconStroke" stroke="#6C6C7A" d="M1.5 13.102l1.699-5.909 2.216 3.693L8 3.5l2.585 7.386 2.216-3.693 1.699 5.91"/>\n    </g>\n</svg>\n',HORIZONTAL_LINE:'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16">\n    <path d="M1.5 8h13" class="iconStroke"/>\n</svg>',MEASURE_TOOL:'<svg width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg">\n    <g fill-rule="evenodd" class="iconFill">\n        <path d="M4.536 13.02l8.485-8.484-2.122-2.122L2.414 10.9l2.122 2.122zM1 10.9L10.9 1l3.535 3.536-9.9 9.899L1 10.899z"\n              fill-rule="nonzero"/>\n        <path d="M2.945 8.955l.707-.707 2.121 2.121-.707.707-2.121-2.121zm1.767-1.768l.707-.707 2.122 2.121-.707.708-2.122-2.122zM6.48 5.42l.707-.707L9.31 6.834 8.6 7.54l-2.12-2.122zm1.768-1.767l.707-.707 2.121 2.12-.707.708-2.121-2.121z"/>\n    </g>\n</svg>',OVAL:'<?xml version="1.0" encoding="UTF-8"?>\n<svg width="16px" height="16px" viewBox="0 0 16 16" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n    <g id="Icons" fill="none" class="iconStroke">\n        <circle cx="8" cy="8" r="7"></circle>\n    </g>\n</svg>',PITCHFORK:'<svg width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg">\n    <g class="iconStroke" fill-rule="evenodd">\n        <path d="M4.3 6.3l5.2 5.2M2 14L12.3 3.7M4.4 7L10 1.4M9.3 12L15 6.4"/>\n    </g>\n</svg>',POINT_TO_POINT:'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16">\n    <g class="iconStroke">\n        <circle cx="3" cy="5" r="1.5" fill="none"/>\n        <circle cx="13" cy="10" r="1.5" fill="none"/>\n        <path d="M3.67 5.34l8.66 4.32"/>\n    </g>\n</svg>',RECTANGLE:'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16">\n    <path fill="none" d="M2 2h12v12H2z" class="iconStroke"/>\n</svg>',TEXT:'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16">\n    <path d="M0 13h16" class="iconStroke"/>\n    <path d="M3.464 3.334h.872l2.44 5.664H5.624l-.528-1.296H2.64l-.512 1.296H1l2.464-5.664zm1.28 3.504l-.872-2.304-.888 2.304h1.76zM7.96 2.95v2.696h.024a1.41 1.41 0 0 1 .452-.392 1.698 1.698 0 0 1 .836-.208 1.8 1.8 0 0 1 1.344.584c.165.181.293.395.384.64.09.245.136.51.136.792 0 .283-.044.548-.132.796a1.952 1.952 0 0 1-.376.648 1.81 1.81 0 0 1-.592.44c-.232.11-.495.164-.788.164a1.7 1.7 0 0 1-.764-.176 1.307 1.307 0 0 1-.556-.512h-.016v.576H7V2.95h.96zm2.504 4.112c0-.15-.023-.297-.068-.444a1.24 1.24 0 0 0-.204-.396 1.024 1.024 0 0 0-.344-.284 1.045 1.045 0 0 0-.488-.108.98.98 0 0 0-.472.112 1.21 1.21 0 0 0-.58.688 1.352 1.352 0 0 0 0 .892c.05.147.125.279.224.396.099.117.217.212.356.284.139.072.296.108.472.108a1.014 1.014 0 0 0 .832-.4c.09-.117.159-.25.204-.4.045-.15.068-.299.068-.448zm3.884-.836a.846.846 0 0 0-.336-.268 1.04 1.04 0 0 0-.92 0 1.007 1.007 0 0 0-.332.284c-.088.117-.153.25-.196.396a1.582 1.582 0 0 0-.064.444c0 .15.023.297.068.444.045.147.113.279.204.396a1.003 1.003 0 0 0 .816.392c.15 0 .299-.03.448-.088a.854.854 0 0 0 .36-.256l.6.608a1.59 1.59 0 0 1-.612.396c-.248.093-.516.14-.804.14-.283 0-.55-.045-.804-.136a1.907 1.907 0 0 1-.664-.4 1.897 1.897 0 0 1-.448-.64 2.122 2.122 0 0 1-.164-.856c0-.31.055-.59.164-.84a1.926 1.926 0 0 1 1.096-1.048c.248-.096.513-.144.796-.144.283 0 .556.053.82.16.264.107.473.253.628.44l-.656.576z" class="iconFill"/>\n</svg>',TREND_LINE:'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16">\n    <path d="M1.5 14.5l13-13" class="iconStroke"/>\n</svg>',TRIANGLE:'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16">\n    <path fill="none" d="M8 2l7 13H1z" class="iconStroke"/>\n</svg>',VERTICAL_LINE:'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16">\n    <path d="M8 1.5v13" class="iconStroke"/>\n</svg>',CLOSE_BUTTON:'<svg id="Layer_1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 10 10"><path class="iconFill" fill-rule="evenodd" clip-rule="evenodd" fill="#6C6C79" d="M6.7 5L10 1.7 8.3 0 5 3.3 1.7 0 0 1.7 3.3 5 0 8.3 1.7 10 5 6.7 8.3 10 10 8.3z"/></svg>'});var Pa=i(87654),Na=s.A.extend((function(){}),kt.default);Na.SHOW_TOOLBOX="SHOW_TOOLBOX",Na.HIDE_TOOLBOX="HIDE_TOOLBOX",Na.POSITION_CHANGED="POSITION_CHANGED",Na.HOVER_STATE_CHANGED="HOVER_STATE_CHANGED",Na.LOCKED_DRAWING_TYPE_CHANGED="LOCKED_DRAWING_TYPE_CHANGED";var ka=Na.prototype;ka._isHovered=null,ka.isHovered=(0,y.getter)("_isHovered"),ka.setHoveredState=(0,y.observableSetter)("_isHovered",Na.HOVER_STATE_CHANGED),ka.getDrawings=(0,n.constant)(Pa.A.DRAWING_TYPES),ka._visible=!1,ka._lockedDrawingType=null,ka.isToolboxVisible=function(){return!!this._visible},ka.setLockedDrawingType=function(e){this._lockedDrawingType=e,this.fire(Na.LOCKED_DRAWING_TYPE_CHANGED,e)},ka.getLockedDrawingType=function(){return this._lockedDrawingType},ka.showToolbox=function(){this._visible||(this._visible=!0,this.fire(Na.SHOW_TOOLBOX))},ka.hideToolbox=function(){this._visible&&(this._visible=!1,this.fire(Na.HIDE_TOOLBOX))},ka._fireLayoutEvent=function(){Na.superclass._fireLayoutEvent.call(this),this.fire(Na.POSITION_CHANGED)},ka.updatePosition=(0,y.bubbler)(Na.POSITION_CHANGED),Object.seal(ka);const xa=Object.seal(Na);var Va=i(67881),Ba=s.A.extend(Object.assign((function(e,t,i,n,s,r,o){this._hoverDisabled=s,this._dimensions=r||{height:16,width:16,x:Ba.ICON_OFFSET,y:Ba.ICON_OFFSET},this.setDimensions(this._dimensions),this._dComponent.attr("data-menu-item-id",n)}),{__constructorTransform:function(e,t,i,n,s,r,o){return[e,t,o,i]}}),Va.A),Ha=Ba.prototype;Ha._hoverDisabled=null,Ha._background=null,Ha._dimensions=null,Ba.ICON_OFFSET=4,Ba.BACKGROUND_RECT_DIMENSION=16+2*Ba.ICON_OFFSET,Ba.create=function(e,t,i,n,s,r,o){return new Ba(e,t,i,n,s,r,o)},Ha.addBackground=function(){this._background=this._dComponent.append("rect").classed("background",!0).attr("height",Ba.BACKGROUND_RECT_DIMENSION).attr("width",Ba.BACKGROUND_RECT_DIMENSION).attr("rx",2).attr("ry",2),this._hoverDisabled&&this._background.classed("hoverDisabled",!0)},Ha.getId=function(){return this._dComponent.attr("data-menu-item-id")},Ha.destroy=function(){this._background&&(this._background.remove(),this._background=null),Ba.superclass.destroy.apply(this,arguments)},Object.seal(Ha);const Wa=Object.seal(Ba);var Fa=i(73848),Ua=i(93691),Ga=s.A.extend((function(e,t,i,n,s,r){this._containerClass=i,this._separatorClass=n,this._options=Object.assign({leftPadding:0,rightPadding:0,topPadding:0,bottomPadding:0,containerRadius:0,buttonMargin:0,buttonSeparatorMargin:0,separatorPadding:0},r),this._buttons=[],this._separators=[],this._configGroups=s,this._initDom()}),Ua.default);Ga.create=function(e,t,i,n,s,r){return new Ga(e,t,i,n,s,r)};var ja=Ga.prototype;ja._buttons=null,ja._separators=null,ja._separatorClass=null,ja._containerClass=null,ja._options=null,ja._initDom=function(){if(this._configGroups){var e,t,i,s,r=0;return this._dComponent=this._dContainer.append("rect").classed(this._containerClass,!0),this._configGroups.forEach((function(t,i){e=this._createButtonGroup(this._dContainer,t,r),r=e.offset,this._buttons=this._buttons.concat(e.buttons),i!==this._configGroups.length-1&&(r+=this._options.buttonSeparatorMargin,s=this._createSeparator(this._dContainer,r),r+=this._options.buttonSeparatorMargin,this._separators.push(s))}),this),t=Math.max.apply(null,(0,n.map)(this._buttons,(function(e){return e.getDimensions().height}))),this._height=this._options.topPadding+t+this._options.bottomPadding,i=this._options.leftPadding+r+this._options.rightPadding,this._updateSeparatorsYPosition(this._height),this._dComponent.attr("height",this._height).attr("width",i).attr("rx",this._options.containerRadius).attr("ry",this._options.containerRadius),this}},ja._createSeparator=function(e,t){return e.append("line").classed(this._separatorClass,!0).attr("x1",this._options.leftPadding+t).attr("x2",this._options.leftPadding+t)},ja._updateSeparatorsYPosition=function(e){this._separators.forEach((function(t){t.attr("y1",this._options.separatorPadding).attr("y2",e-this._options.separatorPadding)}),this)},ja._createButtonGroup=function(e,t,i){var n,s=[];return t.forEach((function(r,o){(n=r.init.call(this,e)).setOffset({x:this._options.leftPadding+i,y:this._options.topPadding}),s.push(n),i+=n.getDimensions().width,o!==t.length-1&&(i+=this._options.buttonMargin)}),this),{buttons:s,offset:i}},ja.getHeight=function(){return this._height?this._height:0},ja.render=function(e){this._dContainer.attr("transform",di.default.svgTranslateAttrXY(e.xOffset,e.yOffset)),(0,y.invokeCall)(this._buttons,"render")},ja.exitSelectedState=function(){(0,y.invokeCall)(this._buttons,"exitSelectedState")},ja.enterSelectedState=function(e){this._buttons.forEach((function(t){t.getId()===e&&t.enterSelectedState()}))},ja.destroy=function(){(0,y.invokeCall)(this._buttons,"destroy"),(0,y.invokeCall)(this._separators,"remove"),delete this._buttons,delete this._separators,Ga.superclass.destroy.call(this)},Object.seal(ja);const Ka=Object.seal(Ga);var za=s.A.extend((function(){}),Zt.default);za.create=function(e,t,i,n){return new za(e,t,i,n)};var Za=za.prototype;Za.withMarginBottom=(0,y.setter)("_marginBottom"),Za.withMarginLeft=(0,y.setter)("_marginLeft"),Za._marginBottom=null,Za._marginLeft=null,Za.startRedrawingBasedOnChangesInVisibleWindow=function(){return this._presentationModel.on(xa.SHOW_TOOLBOX,this._showToolbox,this),this._presentationModel.on(xa.HIDE_TOOLBOX,this._hideToolbox,this),this._presentationModel.on(xa.POSITION_CHANGED,this.renderOnFrameEnd,this),this._presentationModel.on(xa.LOCKED_DRAWING_TYPE_CHANGED,this._handleLockedDrawingTypeChanged,this),this},Za._handleLockedDrawingTypeChanged=function(e){e?this._toolbar.enterSelectedState(e):this._toolbar.exitSelectedState()},Za.stopRedrawingBasedOnChangesInVisibleWindow=function(){this._presentationModel.un(null,this)},Za.initDom=function(){return this._presentationModel.isToolboxVisible()&&this._showToolbox(),this},Za._showToolbox=function(){var e={leftPadding:4,rightPadding:4,topPadding:4,bottomPadding:4,containerRadius:2,buttonMargin:1,buttonSeparatorMargin:6,separatorPadding:2};this._toolbar=Ka.create(this.dContainer,this._captureZoneManager,"drawingToolboxContainer","drawingToolboxSeparator",this._createGroupedButtonFactories(),e).onHover(this._handleHoverIn,this._handleHoverOut,this).withDefaultPadding(),this.render()},Za.destroy=function(){this._hideToolbox(),za.superclass.destroy.call(this)},Za._handleHoverIn=(0,y.delegate)("_presentationModel","setHoveredState",!0),Za._handleHoverOut=(0,y.delegate)("_presentationModel","setHoveredState",!1),Za._createGroupedButtonFactories=function(){var e;return e=this._presentationModel.getDrawings().map(function(e){return this._getDrawingButtonFactory(e)}.bind(this)).concat(this._getCloseButtonFactory()),[e]},Za.render=function(){if(this._toolbar){var e=this._presentationModel.getOffsetsForComponent("drawingstoolbox");e.xOffset+=this._marginLeft,e.yOffset-=this._marginBottom+this._toolbar.getHeight(),this._toolbar.render(e),this._toolbar.updateCaptureZone()}},Za._hideToolbox=function(){this._toolbar&&(this._toolbar.destroy(),this._toolbar=null)},Za._createIconButton=function(e,t,i,n){var s=Wa.create(n,this._captureZoneManager,Ra[e],e,t,i,"drawingButton");return s.setCaptureZonePropagation(Wt.default.PROPAGATE_ALL),s.updateCaptureZoneIndex(gt.default.DRAWING_TOOLBOX_BUTTON),s},Za._getCloseButtonFactory=function(){return this._getButtonFactoryFromConfig({id:"CLOSE_BUTTON",dimensions:{height:8,width:8,x:8,y:8},handler:this._presentationController.closeDrawingsToolbox.bind(this._presentationController)})},Za._getDrawingButtonFactory=function(e){return this._getButtonFactoryFromConfig({id:e,tooltip:ji.default.get(e),dimensions:void 0,handler:this._presentationController.toggleLockedDrawingType.bind(this._presentationController,e)})},Za._getButtonFactoryFromConfig=function(e){return{init:function(t){var i=this._createIconButton(e.id,!e.tooltip,e.dimensions,t).withCursorOnHover(Gi.default.POINTER).onTap(e.handler,this);return e.tooltip&&i.setAdditionalHoverHandlers({onHoverEnter:this._onHoverEnter.bind(this,e,i),onHoverExit:this._onHoverExit.bind(this,e)}),i}.bind(this)}},Za._onHoverEnter=function(e,t){this._eventBus.publish("hint-tooltip/hover/enter",[{itemId:e.id,groupId:"DRAWING_TOOLBOX",message:e.tooltip,rect:t.getRect(),direction:Fa.TOOLTIP_APPEARANCE.ABOVE}])},Za._onHoverExit=function(e){this._eventBus.publish("hint-tooltip/hover/exit",[e.id])},Object.seal(Za);const Ya=Object.seal(za);var $a=s.A.extend((function(){}),Nt.default);$a.create=function(e){return new $a(e)};var qa=$a.prototype;qa._sharedPresentationController=null,qa._sharedPresentationModel=null,qa.withModuleLoader=function(e){return this._sharedPresentationController=e.getModule("drawings").sharedPresentationController,this._sharedPresentationModel=e.getModule("drawings").sharedPresentationModel,this._sharedPresentationModel.on(dn.A.LOCKED_DRAWING_TYPE_CHANGED,this._handleLockedDrawingTypeChanged,this),$a.superclass.withModuleLoader.call(this,e)},qa.destroy=function(){this._sharedPresentationModel&&(this._sharedPresentationModel.un(null,this),delete this._sharedPresentationModel,delete this._sharedPresentationController),$a.superclass.destroy.call(this)},qa._handleLockedDrawingTypeChanged=function(e){this._presentationModel.setLockedDrawingType(e)},qa.startListening=function(e){$a.superclass.startListening.call(this,e),this._settingsManager.on((0,Ie.getLayoutSettingsEvent)(P.default.DRAWINGS_VISIBILITY),this._handleDrawingsVisibilityChanged,this),this._eventBus.subscribe("drawings/toolbox/toggle",this._toggleDrawingsToolbox,this),this._presentationModel.on(xa.HOVER_STATE_CHANGED,this._handleHoverStateChanged,this),this._handleDrawingsVisibilityChanged()},qa.stopListening=function(){this._presentationModel.hideToolbox(),this._presentationModel.un(null,this),$a.superclass.stopListening.call(this)},qa.toggleLockedDrawingType=function(e){this._sharedPresentationController.toggleLockedDrawingType(e)},qa.closeDrawingsToolbox=function(){this._setDrawingsToolboxVisibility(!1)},qa._toggleDrawingsToolbox=function(){this._setDrawingsToolboxVisibility(!this._settingsManager.getDrawingsToolboxVisibility())},qa._setDrawingsToolboxVisibility=function(e){e||this._sharedPresentationController.cancelAddingDrawing(),this._settingsManager.putDrawingsToolboxVisibility(e)},qa._handleDrawingsVisibilityChanged=function(){this._settingsManager.getDrawingsToolboxVisibility()?this._presentationModel.showToolbox():this._presentationModel.hideToolbox()},qa._handleVisibleWindowMoved=function(e,t){$a.superclass._handleVisibleWindowMoved.call(this,e,t),(e|t)&(Yt.default.RESIZED|Yt.default.INITIALISED)&&this._presentationModel.updatePosition()},qa._handleHoverStateChanged=function(){this._presentationModel.isHovered()?this.getTaskManager().startTask(ha.default.DRAWINGS_TOOLBOX):this.getTaskManager().finishTask(ha.default.DRAWINGS_TOOLBOX.ID)},Object.seal(qa);const Xa=Object.seal($a);var Ja=i(73223),Qa=i(26349),el=i(21325),tl=i(7633);function il(){}var nl={derivative:{type:tl.default,relativeSize:ii.default.DEFAULT_RELATIVE_HEIGHT,relativeWeighting:99,minHeight:ii.default.MIN_RESIZABLE_RELATIVE_HEIGHT,instrumentScaling:!0,yFitter:{type:jt.A},presentationControllers:{yAxisPresentationController:{type:yi.A,presentationModel:{type:bi.default}}},renderers:{yTicks:{type:Si.default,group:"yTicks",position:"yTicks"},yAxis:{type:Mi.default,group:"yAxis",position:"yAxis",presentationController:"yAxisPresentationController"}}},aroon:{type:tl.default,relativeSize:ii.default.DEFAULT_RELATIVE_HEIGHT,relativeWeighting:1,minHeight:ii.default.MIN_RESIZABLE_RELATIVE_HEIGHT,isPersistent:!1,instrumentScaling:!1,yFitter:{type:el.A,properties:{min:-5,max:105}},presentationControllers:{yAxisPresentationController:{type:yi.A,presentationModel:{type:bi.default}}},renderers:{yTicks:{type:Si.default,group:"yTicks",position:"yTicks",properties:{fixedTicks:[0,30,70,100]}},yAxis:{type:Mi.default,group:"yAxis",position:"yAxis",presentationController:"yAxisPresentationController",properties:{fixedTicks:[0,30,70,100]}}}},atr:{type:tl.default,relativeSize:ii.default.DEFAULT_RELATIVE_HEIGHT,relativeWeighting:2,minHeight:ii.default.MIN_RESIZABLE_RELATIVE_HEIGHT,isPersistent:!1,instrumentScaling:!0,yFitter:{type:Qa.A,properties:{extendBottom:!1,extendTop:!0}},presentationControllers:{yAxisPresentationController:{type:yi.A,presentationModel:{type:bi.default}}},renderers:{yTicks:{type:Si.default,group:"yTicks",position:"yTicks"},yAxis:{type:Mi.default,group:"yAxis",position:"yAxis",presentationController:"yAxisPresentationController"}}},awesome:{type:tl.default,relativeSize:ii.default.DEFAULT_RELATIVE_HEIGHT,relativeWeighting:3,minHeight:ii.default.MIN_RESIZABLE_RELATIVE_HEIGHT,instrumentScaling:!0,yFitter:{type:Ja.A},presentationControllers:{yAxisPresentationController:{type:yi.A,presentationModel:{type:bi.default}}},renderers:{yTicks:{type:Si.default,group:"yTicks",position:"yTicks"},yAxis:{type:Mi.default,group:"yAxis",position:"yAxis",presentationController:"yAxisPresentationController"}}},bbw:{type:tl.default,relativeSize:ii.default.DEFAULT_RELATIVE_HEIGHT,relativeWeighting:4,minHeight:ii.default.MIN_RESIZABLE_RELATIVE_HEIGHT,isPersistent:!1,instrumentScaling:!1,decimalPlaces:2,yFitter:{type:jt.A},presentationControllers:{yAxisPresentationController:{type:yi.A,presentationModel:{type:bi.default}}},renderers:{yTicks:{type:Si.default,group:"yTicks",position:"yTicks"},yAxis:{type:Mi.default,group:"yAxis",position:"yAxis",presentationController:"yAxisPresentationController"}}},bolpctb:{type:tl.default,relativeSize:ii.default.DEFAULT_RELATIVE_HEIGHT,relativeWeighting:5,minHeight:ii.default.MIN_RESIZABLE_RELATIVE_HEIGHT,isPersistent:!1,decimalPlaces:2,yFitter:{type:Ja.A,properties:{max:1,min:0}},presentationControllers:{yAxisPresentationController:{type:yi.A,presentationModel:{type:bi.default}}},renderers:{yTicks:{type:Si.default,group:"yTicks",position:"yTicks"},yAxis:{type:Mi.default,group:"yAxis",position:"yAxis",presentationController:"yAxisPresentationController"}}},chaikin:{type:tl.default,relativeSize:ii.default.DEFAULT_RELATIVE_HEIGHT,relativeWeighting:6,minHeight:ii.default.MIN_RESIZABLE_RELATIVE_HEIGHT,instrumentScaling:!1,isPersistent:!1,domainNicing:!1,yFitter:{type:Qa.A,properties:{extendBottom:!1,extendTop:!0}},presentationControllers:{yAxisPresentationController:{type:yi.A,presentationModel:{type:bi.default}}},renderers:{yTicks:{type:Si.default,group:"yTicks",position:"yTicks"},yAxis:{type:Mi.default,group:"yAxis",position:"yAxis",presentationController:"yAxisPresentationController"}}},cci:{type:tl.default,relativeSize:ii.default.DEFAULT_RELATIVE_HEIGHT,relativeWeighting:7,minHeight:ii.default.MIN_RESIZABLE_RELATIVE_HEIGHT,isPersistent:!1,instrumentScaling:!1,yFitter:{type:Ja.A,properties:{max:100,min:-100}},presentationControllers:{yAxisPresentationController:{type:yi.A,presentationModel:{type:bi.default}}},renderers:{yTicks:{type:Si.default,group:"yTicks",position:"yTicks",properties:{fixedTicks:[-100,0,100]}},yAxis:{type:Mi.default,group:"yAxis",position:"yAxis",presentationController:"yAxisPresentationController",properties:{fixedTicks:[-100,0,100]}}}},dpo:{type:tl.default,relativeSize:ii.default.DEFAULT_RELATIVE_HEIGHT,relativeWeighting:8,minHeight:ii.default.MIN_RESIZABLE_RELATIVE_HEIGHT,isPersistent:!1,instrumentScaling:!0,yFitter:{type:Ja.A},presentationControllers:{yAxisPresentationController:{type:yi.A,presentationModel:{type:bi.default}}},renderers:{yTicks:{type:Si.default,group:"yTicks",position:"yTicks"},yAxis:{type:Mi.default,group:"yAxis",position:"yAxis",presentationController:"yAxisPresentationController"}}},dmi:{type:tl.default,relativeSize:ii.default.DEFAULT_RELATIVE_HEIGHT,relativeWeighting:9,minHeight:ii.default.MIN_RESIZABLE_RELATIVE_HEIGHT,isPersistent:!1,instrumentScaling:!1,yFitter:{type:jt.A},presentationControllers:{yAxisPresentationController:{type:yi.A,presentationModel:{type:bi.default}}},renderers:{yTicks:{type:Si.default,group:"yTicks",position:"yTicks"},yAxis:{type:Mi.default,group:"yAxis",position:"yAxis",presentationController:"yAxisPresentationController"}}},eom:{type:tl.default,relativeSize:ii.default.DEFAULT_RELATIVE_HEIGHT,relativeWeighting:10,minHeight:ii.default.MIN_RESIZABLE_RELATIVE_HEIGHT,isPersistent:!1,instrumentScaling:!1,yFitter:{type:jt.A},presentationControllers:{yAxisPresentationController:{type:yi.A,presentationModel:{type:bi.default}}},renderers:{yTicks:{type:Si.default,group:"yTicks",position:"yTicks"},yAxis:{type:Mi.default,group:"yAxis",position:"yAxis",presentationController:"yAxisPresentationController"}}},kdj:{type:tl.default,relativeSize:ii.default.DEFAULT_RELATIVE_HEIGHT,relativeWeighting:11,minHeight:ii.default.MIN_RESIZABLE_RELATIVE_HEIGHT,isPersistent:!1,instrumentScaling:!1,yFitter:{type:Ja.A,properties:{max:100,min:0}},presentationControllers:{yAxisPresentationController:{type:yi.A,presentationModel:{type:bi.default}}}},macd:{type:tl.default,relativeSize:ii.default.DEFAULT_RELATIVE_HEIGHT,relativeWeighting:12,minHeight:ii.default.MIN_RESIZABLE_RELATIVE_HEIGHT,isPersistent:!1,instrumentScaling:!0,yFitter:{type:Ja.A},presentationControllers:{yAxisPresentationController:{type:yi.A,presentationModel:{type:bi.default}}},renderers:{yTicks:{type:Si.default,group:"yTicks",position:"yTicks"},yAxis:{type:Mi.default,group:"yAxis",position:"yAxis",presentationController:"yAxisPresentationController"}}},momentum:{type:tl.default,relativeSize:ii.default.DEFAULT_RELATIVE_HEIGHT,relativeWeighting:13,minHeight:ii.default.MIN_RESIZABLE_RELATIVE_HEIGHT,isPersistent:!1,instrumentScaling:!0,yFitter:{type:jt.A},presentationControllers:{yAxisPresentationController:{type:yi.A,presentationModel:{type:bi.default}}},renderers:{yTicks:{type:Si.default,group:"yTicks",position:"yTicks"},yAxis:{type:Mi.default,group:"yAxis",position:"yAxis",presentationController:"yAxisPresentationController"}}},mfi:{type:tl.default,relativeSize:ii.default.DEFAULT_RELATIVE_HEIGHT,relativeWeighting:14,minHeight:ii.default.MIN_RESIZABLE_RELATIVE_HEIGHT,isPersistent:!1,instrumentScaling:!1,yFitter:{type:el.A,properties:{min:-5,max:105}},presentationControllers:{yAxisPresentationController:{type:yi.A,presentationModel:{type:bi.default}}},renderers:{yTicks:{type:Si.default,group:"yTicks",position:"yTicks",properties:{fixedTicks:[0,20,50,80,100]}},yAxis:{type:Mi.default,group:"yAxis",position:"yAxis",presentationController:"yAxisPresentationController",properties:{fixedTicks:[0,20,50,80,100]}}}},rci:{type:tl.default,relativeSize:ii.default.DEFAULT_RELATIVE_HEIGHT,relativeWeighting:17,minHeight:ii.default.MIN_RESIZABLE_RELATIVE_HEIGHT,isPersistent:!1,instrumentScaling:!1,yFitter:{type:el.A,properties:{min:-105,max:105}},presentationControllers:{yAxisPresentationController:{type:yi.A,presentationModel:{type:bi.default}}},renderers:{yAxis:{type:Mi.default,group:"yAxis",position:"yAxis",presentationController:"yAxisPresentationController",properties:{fixedTicks:[-100,0,100]}},yTicks:{type:Si.default,group:"yTicks",position:"yTicks",properties:{fixedTicks:[-100,0,100]}}}},roc:{type:tl.default,relativeSize:ii.default.DEFAULT_RELATIVE_HEIGHT,relativeWeighting:15,minHeight:ii.default.MIN_RESIZABLE_RELATIVE_HEIGHT,isPersistent:!1,instrumentScaling:!0,yFitter:{type:jt.A},presentationControllers:{yAxisPresentationController:{type:yi.A,presentationModel:{type:bi.default}}},renderers:{yTicks:{type:Si.default,group:"yTicks",position:"yTicks"},yAxis:{type:Mi.default,group:"yAxis",position:"yAxis",presentationController:"yAxisPresentationController"}}},rsi:{type:tl.default,relativeSize:ii.default.DEFAULT_RELATIVE_HEIGHT,relativeWeighting:16,minHeight:ii.default.MIN_RESIZABLE_RELATIVE_HEIGHT,isPersistent:!1,instrumentScaling:!1,yFitter:{type:el.A,properties:{min:-5,max:105}},presentationControllers:{yAxisPresentationController:{type:yi.A,presentationModel:{type:bi.default}}}},stdev:{type:tl.default,relativeSize:ii.default.DEFAULT_RELATIVE_HEIGHT,relativeWeighting:17,minHeight:ii.default.MIN_RESIZABLE_RELATIVE_HEIGHT,instrumentScaling:!0,isPersistent:!1,yFitter:{type:Qa.A,properties:{extendBottom:!1,extendTop:!0}},presentationControllers:{yAxisPresentationController:{type:yi.A,presentationModel:{type:bi.default}}},renderers:{yTicks:{type:Si.default,group:"yTicks",position:"yTicks"},yAxis:{type:Mi.default,group:"yAxis",position:"yAxis",presentationController:"yAxisPresentationController"}}},stochastic:{type:tl.default,relativeSize:ii.default.DEFAULT_RELATIVE_HEIGHT,relativeWeighting:18,minHeight:ii.default.MIN_RESIZABLE_RELATIVE_HEIGHT,isPersistent:!1,instrumentScaling:!1,yFitter:{type:el.A,properties:{min:-5,max:105}},presentationControllers:{yAxisPresentationController:{type:yi.A,presentationModel:{type:bi.default}}}},volume:{type:tl.default,relativeSize:ii.default.DEFAULT_RELATIVE_HEIGHT,relativeWeighting:19,minHeight:ii.default.MIN_RESIZABLE_RELATIVE_HEIGHT,isPersistent:!1,instrumentScaling:!1,yFitter:{type:Qa.A,properties:{min:0,extendTop:!0}},presentationControllers:{yAxisPresentationController:{type:yi.A,presentationModel:{type:bi.default}}},renderers:{yTicks:{type:Si.default,group:"yTicks",position:"yTicks"},yAxis:{type:Mi.default,group:"yAxis",position:"yAxis",presentationController:"yAxisPresentationController"}}},willr:{type:tl.default,relativeSize:ii.default.DEFAULT_RELATIVE_HEIGHT,relativeWeighting:20,minHeight:ii.default.MIN_RESIZABLE_RELATIVE_HEIGHT,isPersistent:!1,instrumentScaling:!1,yFitter:{type:el.A,properties:{min:-105,max:5}},presentationControllers:{yAxisPresentationController:{type:yi.A,presentationModel:{type:bi.default}}},renderers:{yTicks:{type:Si.default,group:"yTicks",position:"yTicks",properties:{fixedTicks:[-100,-80,-50,-20,0]}},yAxis:{type:Mi.default,group:"yAxis",position:"yAxis",presentationController:"yAxisPresentationController",properties:{fixedTicks:[-100,-80,-50,-20,0]}}}}};il.get=(0,n.constant)(nl),(0,A.recursiveFreeze)(nl);const sl=Object.seal(il);function rl(e,t){this._visibleWindow=e,this._settingsManager=t}rl.create=function(e,t){return new rl(e,t)};var ol=rl.prototype;ol._visibleWindow=null,ol._settingsManager=null,rl.DISTANCE_TO_SNAP=10,ol.snap=function(e,t){var i,n,s=this._visibleWindow.visibleDateRange.pixelsToAccTime(e+this._visibleWindow.visibleDateRange.startPixels()),r=this._visibleWindow.visibleDateRange.instrumentModelCollection.getDataPointsAtAccTime(s);return r&&r.prices?(i=this._getListOfPointsForDataPoint(r.prices),(n=ln.default.findNearestPoint(e,t,i)).distance<=rl.DISTANCE_TO_SNAP?n.point:{x:e,y:t}):{x:e,y:t}},ol._getListOfPointsForDataPoint=function(e){var t,i=this._getLevelsForCurrentLineStyle(e);return t=this._visibleWindow.visibleDateRange.accTimeToPixel(e.accTime)-this._visibleWindow.visibleDateRange.startPixels(),i.map(function(e){return{x:t,y:this._visibleWindow.y(e)}}.bind(this))},ol._getLevelsForCurrentLineStyle=function(e){return"MOUNTAIN"===this._settingsManager.getStyleSettings()||"LINE"===this._settingsManager.getStyleSettings()?[e.value]:[e.openPrice,e.closePrice,e.lowPrice,e.highPrice]},Object.seal(ol);const al=Object.seal(rl);var ll=s.A.extend((function(){}),Ta.default),dl=ll.prototype;dl._sharedPresentationController=null,dl._sharedPresentationModel=null,dl.withModuleLoader=function(e){return this._sharedPresentationController=e.getModule("drawings").sharedPresentationController,this._sharedPresentationModel=e.getModule("drawings").sharedPresentationModel,this._sharedPresentationModel.on(dn.A.DRAWINGS_SET,(0,y.delegate)("_presentationModel","setDrawings"),this),this._sharedPresentationModel.on(dn.A.DELETED,(0,y.delegate)("_presentationModel","deleteDrawing"),this),this._sharedPresentationModel.on(dn.A.DRAWINGS_DELETED,(0,y.delegate)("_presentationModel","deleteAllDrawings"),this),this._sharedPresentationModel.on(dn.A.ADDED,(0,y.delegate)("_presentationModel","addDrawing"),this),this._sharedPresentationModel.on(dn.A.PENDING_ADDED,(0,y.delegate)("_presentationModel","fire").bind(this,dn.A.PENDING_ADDED),this),this._sharedPresentationModel.on(dn.A.PENDING_DELETED,(0,y.delegate)("_presentationModel","fire").bind(this,dn.A.PENDING_DELETED),this),this._sharedPresentationModel.availableDrawings&&this._presentationModel.setDrawings(this._sharedPresentationModel.availableDrawings),ll.superclass.withModuleLoader.call(this,e)},dl.withSubView=function(e){return this._presentationModel.setSubView(e),ll.superclass.withSubView.call(this,e)},dl.startListening=function(e,t){ll.superclass.startListening.apply(this,arguments),this._presentationModel.setSubView(this._subView),"prices"===this._subView.name&&(this._settingsManager.on((0,Ie.getGlobalSettingsEvent)(P.default.DRAWINGS_GLOBAL),this._handleGlobalDrawingSettings,this),this._handleGlobalDrawingSettings());var i=t.getInstrumentModelForEpic(this._visibleWindow.epic);this._subView.instrumentScaling&&i?i.info?this._presentationModel.setInstrumentProperties(i.info):i.on($t.default.INFO_LOADED,this._presentationModel.setInstrumentProperties,this._presentationModel,{once:!0}):this._presentationModel.setInstrumentProperties({scalingFactor:1,decimalPlaces:0}),this._visibleWindow.isReadyForRender()?this._handleReadyForRender():this._visibleWindow.on(qt.default.READY_FOR_RENDER,this._handleReadyForRender,this,{once:!0})},dl.stopListening=function(){if("prices"===this._subView.name&&this._settingsManager.un((0,Ie.getGlobalSettingsEvent)(P.default.DRAWINGS_GLOBAL),this),this._presentationModel.setInstrumentProperties(null),this._presentationModel.setScales(null),this._presentationModel.setSnappingUtil(null),this._presentationModel.setSubView(null),this._instrumentModelCollection){var e=this._instrumentModelCollection.getInstrumentModelForEpic(this._visibleWindow.epic);e&&e.un(null,this)}ll.superclass.stopListening.call(this)},dl._handleReadyForRender=function(){this._presentationModel.setScales(this._visibleWindow.getXScale(),this._visibleWindow.y)},dl.selectDrawing=(0,y.delegate)("_sharedPresentationController","selectDrawing"),dl.openSettingsDialog=(0,y.delegate)("_sharedPresentationController","openSettingsDialog"),dl.showEditMenuOnContextMenu=(0,y.delegate)("_sharedPresentationController","showEditMenuOnContextMenu"),dl.movePendingDrawingToCurrentSubview=function(e,t){var i=this._sharedPresentationModel.pendingDrawing,n=i.getPresentationModel().hasAnyAnchorConfirmed(),s=this._presentationModel.subView===i.getPresentationModel().subView;n||s||(this._presentationModel.setupDrawingPresentationModel(i),i.getPresentationModel().setPendingAnchorCoordinates(e),t&&i.confirmPendingAnchor())},dl.finishAddingDrawing=(0,y.delegate)("_sharedPresentationController","finishAddingDrawing"),dl.cancelAddingDrawing=(0,y.delegate)("_sharedPresentationController","cancelAddingDrawing"),dl.deleteDrawing=(0,y.delegate)("_sharedPresentationController","deleteDrawing"),dl._handleGlobalDrawingSettings=function(){var e=this._settingsManager.getGlobalSettings(P.default.DRAWINGS_GLOBAL).snapToPrices;e&&!this._presentationModel.snappingUtil?this._presentationModel.setSnappingUtil(al.create(this._visibleWindow,this._settingsManager)):!e&&this._presentationModel.snappingUtil&&this._presentationModel.setSnappingUtil(null)},dl._hasSelectedDrawing=function(){return this._sharedPresentationModel.selectedDrawing&&this._sharedPresentationModel.selectedDrawing.getSubViewPresentationController()===this},dl.destroy=function(){this._sharedPresentationModel&&(this._hasSelectedDrawing()&&this.selectDrawing(null),this._sharedPresentationModel.un(null,this),delete this._sharedPresentationModel,delete this._sharedPresentationController),ll.superclass.destroy.call(this)},Object.seal(dl);const ul=Object.seal(ll);var cl=s.A.extend((function(){}),fa.default),hl=cl.prototype;hl.availableDrawings=null,hl.snappingUtil=null,hl.subView=null,hl._allDrawings=null,hl._instrumentProperties=null,hl._scaleX=null,hl._scaleY=null,hl.setDrawings=function(e){this._allDrawings=e,this._setAvailableDrawings()},hl.addDrawing=function(e){this._checkAvailabilityAndSetScaling(e)&&(this.availableDrawings.push(e),this.fire(dn.A.ADDED,e))},hl.deleteDrawing=function(e){e.getPresentationModel().subView===this.subView&&((0,n.pull)(this.availableDrawings,e),this.fire(dn.A.DELETED,e))},hl.deleteAllDrawings=function(){this._allDrawings=[],this.availableDrawings=[],this.fire(dn.A.DRAWINGS_DELETED)},hl.setInstrumentProperties=function(e){this._instrumentProperties=e,this._setAvailableDrawings()},hl.setScales=function(e,t){e&&t?(this._scaleX=e,this._scaleY=t):(delete this._scaleX,delete this._scaleY),this._setAvailableDrawings()},hl.setSnappingUtil=function(e){this.snappingUtil=e,this.availableDrawings&&this.availableDrawings.forEach((function(t){t.getPresentationModel().setSnappingUtil(e)}))},hl.setSubView=function(e){this.subView=e,this._setAvailableDrawings()},hl.setupDrawingPresentationModel=function(e){e.getPresentationModel().setInstrumentProperties(this._instrumentProperties),e.getPresentationModel().setScales(this._scaleX,this._scaleY),e.getPresentationModel().setSnappingUtil(this.snappingUtil),e.getPresentationModel().setSubView(this.subView),e.setVisibleWindow(this.subView.visibleWindow)},hl._setAvailableDrawings=function(){this._allDrawings&&this.subView&&this._scaleX&&this._scaleY&&this._instrumentProperties?(this.availableDrawings=this._allDrawings.filter(this._checkAvailabilityAndSetScaling,this),this.fire(dn.A.DRAWINGS_SET,this.availableDrawings)):delete this.availableDrawings},hl._checkAvailabilityAndSetScaling=function(e){return!(e.getPresentationModel().getSubViewName()!==this.subView.name||e.getPresentationModel().getSubViewEpic()&&e.getPresentationModel().getSubViewEpic()!==this.subView.visibleWindow.epic)&&(this.setupDrawingPresentationModel(e),!0)},Object.seal(hl);const pl=Object.seal(cl);var _l=s.A.extend((function(e,t,i,n){this._rendererGroups=[]}),Zt.default),gl=_l.prototype;gl._rendererGroups=null,gl._pendingDrawingRenderGroup=null,gl.startRedrawingBasedOnChangesInVisibleWindow=function(){_l.superclass.startRedrawingBasedOnChangesInVisibleWindow.call(this),this._visibleWindow.isReadyForRender()?this._handleReadyForRender():this._visibleWindow.on(qt.default.READY_FOR_RENDER,this._handleReadyForRender,this,{once:!0})},gl.stopRedrawingBasedOnChangesInVisibleWindow=function(){this._presentationModel.un(null,this),this._visibleWindow.un(null,this),this._destroyAllRendererGroups(),_l.superclass.stopRedrawingBasedOnChangesInVisibleWindow.call(this)},gl._handleReadyForRender=function(){this._visibleWindow.on(qt.default.MOVED,this._handleVisibleWindowMoved,this),this._presentationModel.on(dn.A.DRAWINGS_SET,this._handleDrawingsSet,this),this._presentationModel.on(dn.A.DELETED,this._findAndDestroyRendererGroup,this),this._presentationModel.on(dn.A.DRAWINGS_DELETED,this._destroyAllRendererGroups,this),this._presentationModel.on(dn.A.ADDED,this._handleDrawingAdded,this),this._presentationModel.on(dn.A.PENDING_ADDED,this._createPendingDrawing,this),this._presentationModel.on(dn.A.PENDING_DELETED,this._removePendingDrawing,this),this._presentationModel.availableDrawings&&this._handleDrawingsSet(this._presentationModel.availableDrawings)},gl._createPendingDrawing=function(e){e.getPresentationModel().on(an.A.SUBVIEW_CHANGE,this._subViewChanged.bind(this,e),this),this._hoverZone=this._captureZoneManager.createZone(In.default,Wt.default.BLOCK_ALL,gt.default.ACTIVE_SUBVIEW),this._hoverZone.setHoverHandler({move:this._switchSubView,moveContext:this}),this._hoverZone.addGesture(vn.default,{onGesture:this._switchSubViewAndConfirm.bind(this),context:this,fastTap:!0}),e.attachAddingHelper({zone:this._hoverZone,onStart:this._switchSubView.bind(this)}),this._hoverZone.setDimensions(this._subView.dimensions)},gl._removePendingDrawing=function(e){e.getPresentationModel().un(null,this),this._hoverZone.destroy(),this._pendingDrawingRenderGroup&&(this._destroyRendererForGroup(this._pendingDrawingRenderGroup),this._pendingDrawingRenderGroup=null)},gl._switchSubView=function(e){this._presentationController.movePendingDrawingToCurrentSubview(e,!1)},gl._switchSubViewAndConfirm=function(e){this._presentationController.movePendingDrawingToCurrentSubview(e,!0)},gl._subViewChanged=function(e){e.getPresentationModel().subView===this._subView?this._pendingDrawingRenderGroup=this._createRendererForGroup(e):this._pendingDrawingRenderGroup&&(this._destroyRendererForGroup(this._pendingDrawingRenderGroup),this._pendingDrawingRenderGroup=null)},gl._handleDrawingsSet=function(e){this._rendererGroups.forEach(this._destroyRendererForGroup,this),this._rendererGroups=e.map(this._createRendererForGroup,this)},gl._handleDrawingAdded=function(e){this._rendererGroups.push(this._createRendererForGroup(e))},gl._createRendererForGroup=function(e){var t=da.createRenderer(e,e.getPresentationModel(),this._subView,this._captureZoneManager);return e.setSubViewPresentationController(this._presentationController),t.initialise(this.dContainer),{controller:e,renderer:t}},gl._findAndDestroyRendererGroup=function(e){var t=(0,n.find)(this._rendererGroups,(function(t){return t.controller===e}));(0,n.pull)(this._rendererGroups,t),this._destroyRendererForGroup(t)},gl._destroyAllRendererGroups=function(){this._rendererGroups.forEach(this._destroyRendererForGroup),this._rendererGroups=[]},gl._destroyRendererForGroup=function(e){e.renderer.destroy()},gl._handleVisibleWindowMoved=function(){(0,n.invokeMap)(this._rendererGroups,"renderer.updatePosition")},Object.seal(gl);const fl=Object.seal(_l);var ml=s.A.extend((function(e,t,i,n){this._zIndex=gt.default.UNDO_DELETE_ALL_ACTION}),Ht.default),vl=ml.prototype;vl._dUndoLink=null,vl._undoCaptureZone=null,vl.startRedrawingBasedOnChangesInVisibleWindow=function(){ml.superclass.startRedrawingBasedOnChangesInVisibleWindow.call(this),this._eventBus.subscribe("drawings/undo/deleteAll/available",this._updateVisibility,this)},vl.initDom=function(){return ml.superclass.initDom.call(this),this.dContainer.classed("ok",!0),this._dTextContainer.append("span").text(ji.default.get("UNDO_DELETE_ALL_INFO")),this._dUndoLink=this._dTextContainer.append("span").classed("link",!0).text(ji.default.get("UNDO_DELETE_ALL_ACTION")),this},vl.stopRedrawingBasedOnChangesInVisibleWindow=function(){this._eventBus.unsubscribe("drawings/undo/deleteAll/available",this._updateVisibility,this)},vl._updateVisibility=function(e){e?this._show():this._hide()},vl._createCaptureZone=function(){ml.superclass._createCaptureZone.call(this),this._captureZone.withDefaultPadding(),this._undoCaptureZone=this._captureZoneManager.create(this._eventPropagation,this._zIndex).withCursorOnHover(Gi.default.POINTER),this._undoCaptureZone.addGesture(vn.default,{fastTap:!0}).withHandler(this._undo,this)},vl._updateCaptureZone=function(){this._captureZone&&this._captureZone.setDimensionsBasedOnElement(this._dCloseButton),this._undoCaptureZone&&this._undoCaptureZone.setDimensionsBasedOnElement(this._dUndoLink)},vl._hide=function(){ml.superclass._hide.call(this),this._undoCaptureZone&&(this._undoCaptureZone.destroy(),this._undoCaptureZone=null)},vl._undo=(0,y.delegate)("_eventBus","publish","drawings/undo/deleteAll"),vl.destroy=function(){this._undoCaptureZone&&(this._undoCaptureZone.destroy(),this._undoCaptureZone=null,this._dUndoLink=null),ml.superclass.destroy.call(this)},Object.seal(vl);const Al=Object.seal(ml);var El=s.A.extend((function(e,t,i,n,s,r,o,a){this._eventBus=e,this._moduleLoader=i,this._settingsManager=s,this._taskManager=a,this._containerProvider=r,this._editMenuClass=t.editMenu,this._drawingHints=!!t.drawingHints,this._toolbox=!!t.toolbox}),o.default);El.settingsParsers=Object.freeze({global:{moduleName:P.default.DRAWINGS_GLOBAL,parserClass:Fi},epic:{moduleName:P.default.DRAWINGS,parserClass:ki},template:{moduleName:P.default.DRAWINGS_VISIBILITY,parserClass:Bi}});var Tl=El.prototype;Tl._chartView=null,Tl._eventBus=null,Tl._moduleLoader=null,Tl._settingsManager=null,Tl._taskManager=null,Tl._editMenuClass=null,Tl._drawingVisibility=!1,Tl._toolbox=!1,Tl.sharedPresentationController=null,Tl.sharedPresentationModel=null,Tl.init=function(){this._editMenu=new this._editMenuClass(this._eventBus,this._moduleLoader.getModule("menuApi")),this.sharedPresentationModel=Ea.create(),this.sharedPresentationController=ga.create(this._eventBus,this.sharedPresentationModel,this._editMenu,this._settingsManager,this._taskManager,this._containerProvider,this._moduleLoader),this._eventBus.subscribe("chart/view/ready",this._handleChartViewReady,this),this._settingsManager.on((0,Ie.getLayoutSettingsEvent)(P.default.DRAWINGS_VISIBILITY),this._toggleVisibility,this),this._toggleVisibility()},Tl._toggleVisibility=function(e){var t="boolean"==typeof e?e:this._settingsManager.getDrawingsVisibilitySettings();t!==this._drawingVisibility&&(this._drawingVisibility=t,t?(this._eventBus.publish("subViews/config",["drawings",this._getConfig()]),this._chartView&&this._chartView.addRenderersBySubviewConfig(this._getConfig())):(this._eventBus.publish("subViews/removeConfig",["drawings"]),this._chartView&&this._chartView.removeRenderersBySubviewConfig(this._getConfig())))},Tl._getConfig=function(){return function(e,t){var i={},s=Object.keys(sl.get());return["prices"].concat(s).forEach((function(e){i[e]={presentationControllers:{drawing:{type:ul,presentationModel:{type:pl}}},renderers:{drawings:{type:fl,group:"studyOverlay",position:"studyOverlay",presentationController:"drawing",properties:{relativeWeighting:1}}}}})),i.htmloverlay={renderers:{undoDeleteAllDrawings:{type:Al,group:"xAxis",position:"xAxis",presentationController:"commonUi",properties:{relativeWeighting:1}}}},e&&(i.absoluteoverlay={presentationControllers:{drawingHint:{type:Oa,presentationModel:{type:Sa}}},renderers:{drawingHintRenderer:{type:La,group:"body",presentationController:"drawingHint",properties:{relativeWeighting:1}}}}),t&&(0,n.merge)(i.prices,{presentationControllers:{drawingsToolbox:{type:Xa,presentationModel:{type:xa,properties:xt.default}}},renderers:{drawingsToolboxRenderer:{type:Ya,group:"studyOverlay",position:"southWest",presentationController:"drawingsToolbox",properties:{marginBottom:4,marginLeft:5}}}}),(0,A.recursiveFreeze)(i)}(this._drawingHints,this._toolbox)},Tl._handleChartViewReady=function(e){this._chartView=e,this._editMenu.setChartView(e)},Tl.destroy=function(){this._settingsManager.un(null,this),this._eventBus.unsubscribeAll(this),this._toggleVisibility(!1),this.sharedPresentationModel&&(this.sharedPresentationController.destroy(),this.sharedPresentationModel.destroy(),delete this.sharedPresentationController,delete this.sharedPresentationModel),delete this._chartView,delete this._drawingVisibility},Object.seal(Tl);const Il=Object.seal(El);var Cl=i(52627),Ol=i(39038),Ml=(0,y.plucker)("type"),yl=function(e){return parseInt(e.code,10)},bl=s.A.extend((function(e,t,i){this.companyEvents||(this.companyEvents=[]),this.economicEvents||(this.economicEvents=[])}),p.default);bl.isValidCompanyEventType=function(e){return Y.default.hasOwnProperty(e)},bl.isValidEconomicEventType=function(e){var t;for(t in ie.ECONOMIC_EVENTS)if((0,n.values)(ie.ECONOMIC_EVENTS[t]).indexOf(e)>-1)return!0;return!1};var Sl=bl.prototype;Sl.companyEvents=null,Sl.economicEvents=null,Sl.selectedCountry="US",Sl.fromJSON=function(e){e.companyEvents&&this.withCompanyEventTypes(e.companyEvents.map(Ml)),e.economicEvents&&this.withEconomicEventTypes(e.economicEvents.map(yl)),e.selectedCountry&&e.selectedCountry!==Sl.selectedCountry&&(this.selectedCountry=e.selectedCountry)},Sl.toJSON=function(){var e={};return this.isModified()&&(e.companyEvents=this.companyEvents.map((function(e){return{type:e}}),this),e.economicEvents=this.economicEvents.map((function(e){return{code:e.toString()}}),this),e.selectedCountry=this.selectedCountry),e},Sl.isModified=function(){return!!(this.companyEvents.length||this.economicEvents.length||this.hasOwnProperty("selectedCountry"))},Sl.getCompanyEventTypes=function(){return this.companyEvents.slice()},Sl.getEconomicEventTypes=function(){return this.economicEvents.slice()},Sl.withCompanyEventTypes=function(e){return this.companyEvents=e.map((function(e){return bl.isValidCompanyEventType(e)?e:null})).filter(n.identity).sort(),this},Sl.withEconomicEventTypes=function(e){return this.economicEvents=e.map((function(e){return bl.isValidEconomicEventType(e)?e:null})).filter(n.identity).sort(),this},Object.seal(Sl);const Dl=Object.seal(bl);var wl=i(96624);function Ll(e,t,i,n,s,r){if(!t.subViews)throw new Error("Need to provide subview configuration for economic events model");this._eventBus=e,this._settingsManager=s,this._subViews=t.subViews}Ll.settingsParsers=Object.freeze({global:{moduleName:P.default.CALENDAR,parserClass:Dl}});var Rl=Ll.prototype;Rl._chartView=null,Rl._eventBus=null,Rl._model=null,Rl._settingsManager=null,Rl._subViews=null,Rl.init=function(){this._eventBus.subscribe("chart/view/ready",(0,y.setter)("_chartView"),this),this._eventBus.publish("subViews/config",["economic-calendar",this._subViews]),this._chartView&&this._chartView.addRenderersBySubviewConfig(this._subViews),this._eventBus.subscribe("chart/resolution/changed",this._handleResolutionChanged,this),this._settingsManager.on((0,Ie.getGlobalSettingsEvent)(P.default.CALENDAR),this._handleGlobalSettingsChanged,this)},Rl.destroy=function(){this._chartView&&this._chartView.removeRenderersBySubviewConfig(this._subViews),this._eventBus.publish("subViews/removeConfig",["economic-calendar"]),this._eventBus.unsubscribeAll(this),this._settingsManager.un(null,this),this._model&&(this._model.destroy(),this._model=null)},Rl._handleResolutionChanged=function(e){this._model&&this._model.destroy(),this._model=wl.Ay.create(e.instrumentModel.epic,this._eventBus,e.instrumentModel.chartModel.visibleDateRange,e.resolution),this._eventBus.subscribe("chart/instrument/info",this._handleInstrumentInfo,this,{once:!0}),this._handleGlobalSettingsChanged()},Rl._handleInstrumentInfo=function(e){this._model.withCalendarType(Te.default.valueOf(e.instrumentType)===Te.default.values.SHARES?Ol.default.COMPANY_CALENDAR:Ol.default.ECONOMIC_CALENDAR)},Rl._handleGlobalSettingsChanged=function(){var e=this._settingsManager.getGlobalSettings(P.default.CALENDAR),t=this._settingsManager.getEconomicEventsVisibilitySettings(),i=e&&t,n=i?e.getCompanyEventTypes():[],s=i?e.getEconomicEventTypes():[];this._model&&this._model.withCompanyEventSettings(n).withEconomicEventSettings(s)},Object.seal(Rl);const Pl=Object.seal(Ll);var Nl=i(45231),kl=i(20640),xl=i(52905),Vl=i(21699);function Bl(e,t){this._eventBus=e,this._menuApi=t}var Hl=Bl.prototype;Hl.requiresContextMenu=!1,Hl._eventBus=null,Hl._menuApi=null,Hl._chartView=null,Hl.setChartView=(0,y.setter)("_chartView"),Hl.showEditMenu=ot.A.abstractMethod,Hl.hideEditMenu=ot.A.abstractMethod,Hl.handleAfterHotkeyUp=ot.A.abstractMethod,Hl._getEditOptions=function(e){return[this._getEditOption("customise",e.customise,ji.default.get("DRAWING_CUSTOMISE")),this._getEditOption("copy",e.copy,ji.default.get("COPY_DRAWING")),this._getEditOption("delete",e.delete,ji.default.get("DELETE_DRAWING"))]},Hl._getEditOption=function(e,t,i){var n=this._getCallback(e,t);return{data:{id:e},actionListener:Z.default.create(n),label:i}},Hl._getActionOrigin=n.noop,Hl._getCallback=function(e,t){return function(){t.apply(null,arguments)}},Object.seal(Hl);const Wl=Object.seal(Bl);var Fl={customise:(0,ua.keyName)(ua.default.E),copy:(0,ua.keyName)(ua.default.D),delete:(0,ua.keyName)(ua.default.DELETE)},Ul=s.A.extend((function(){}),Wl);Ul.create=function(e,t){return new Ul(e,t)};var Gl=Ul.prototype;Gl.requiresContextMenu=!0,Gl.showEditMenu=function(e,t){var i;this._chartView&&(i=this._chartView.chartRect(),t.x+=i.left,t.y+=i.top,this._menuApi.showMenuItems(this._getEditOptions(e),t))},Gl.hideEditMenu=n.noop,Gl.handleAfterHotkeyUp=(0,y.delegate)("_menuApi","forceHideMenu"),Gl._getEditOption=function(e,t,i){return{id:e,callback:this._getCallback(e,t),content:i,shortcut:Fl[e]}},Object.seal(Gl);const jl=Object.seal(Ul);var Kl=i(43602),zl=i(42626),Zl=i(66601),Yl=i(40975),$l=i(50547),ql=i(62466),Xl=i(38108),Jl=s.A.extend((function(){}),Zt.default),Ql=Jl.prototype;Ql._indicatorId=null,Ql._indicatorLabel=null,Ql._requestedResizing=!1,Ql._requestedZoneUpdate=!1,Ql.withIndicatorId=function(e){return this._indicatorId=e,this},Ql.destroy=function(){this._indicatorLabel&&(this._indicatorLabel.destroy(),this._indicatorLabel=null),Jl.superclass.destroy.call(this)},Ql.startRedrawingBasedOnChangesInVisibleWindow=function(){var e=this._instrumentModel.chartModel.getIndicatorWithName(this._indicatorId);e&&this._handleIndicatorAdded(e),this._instrumentModel.chartModel.on(Yl.default.INDICATOR_ADDED,this._handleIndicatorAdded,this),this._instrumentModel.chartModel.on(Yl.default.INDICATOR_REMOVED,this._handleIndicatorRemoved,this),this._instrumentModel.chartModel.on(Yl.default.INDICATOR_UPDATED,this._handleIndicatorUpdated,this),this._subView.on(Xl.default.DIMENSIONS_CHANGED,this._handleSubViewDimensionsChanged,this),this._visibleWindow.on(qt.default.MOVED,this._handleVisibleWindowMoved,this)},Ql.stopRedrawingBasedOnChangesInVisibleWindow=function(){this._instrumentModel.chartModel.un(null,this),this._subView.un(null,this),this._subView.getChartView().un(null,this),this._visibleWindow.un(null,this)},Ql.updateCaptureZone=function(){this._requestedZoneUpdate||(this._requestedZoneUpdate=!0,$l.default.defer(this._updateLabelZone,this))},Ql.updateDimensions=function(){this._requestedResizing||(this._requestedResizing=!0,$l.default.defer(this._updateLabelSize,this))},Ql._handleSubViewDimensionsChanged=function(e){var t,i=ii.default.MIN_LABEL_HEIGHT;this._indicatorLabel&&((t=i<e.height)&&!this._indicatorLabel.isVisible()?this._indicatorLabel.show():!t&&this._indicatorLabel.isVisible()&&this._indicatorLabel.hide(),this.updateCaptureZone())},Ql._updateLabelSize=function(){this._indicatorLabel&&(this._indicatorLabel.resizeLabel(),this._requestedResizing=!1,this.updateCaptureZone())},Ql._updateLabelZone=function(){this._indicatorLabel&&(this._indicatorLabel.updateCaptureZone(),this._requestedZoneUpdate=!1)},Ql._handleIndicatorAdded=function(e){e.name===this._indicatorId&&(this._indicatorLabel=ql.default.create(e,this._eventBus,this._captureZoneManager).withContainer(this.dContainer).initDom(),this.updateDimensions()),this.updateCaptureZone()},Ql._handleIndicatorRemoved=function(e){this._indicatorLabel&&e.name===this._indicatorId&&(this._indicatorLabel.destroy(),this._indicatorLabel=null),this.updateCaptureZone()},Ql._handleIndicatorUpdated=function(e){this._indicatorLabel&&e.name===this._indicatorId&&(this._indicatorLabel.withIndicator(e).updateSettings(),this.updateDimensions())},Ql._handleVisibleWindowMoved=function(e,t){t&(Yt.default.INITIALISED|Yt.default.RESIZED)&&this.updateCaptureZone()},Object.seal(Ql);const ed=Object.seal(Jl);var td={prices:{renderers:{indicatorLabel:{type:i(68843).A,group:"body",position:"southWest",presentationController:"commonUi",properties:{marginBottom:10,indicatorIds:["BOL","DONCHIAN","EMA","ICHIMOKU","KELTNER","MVAVG","SAR","PIVOT","SUPERTREND","WMA","VWAP","VWMA"]}}}},derivative:{renderers:{indicatorLabel:{type:ed,group:"body",position:"northWest",properties:{indicatorId:"DERIVATIVE"}}}},aroon:{renderers:{indicatorLabel:{type:ed,group:"body",position:"northWest",properties:{indicatorId:"AROON"}}}},atr:{renderers:{indicatorLabel:{type:ed,group:"body",position:"northWest",properties:{indicatorId:"ATR"}}}},awesome:{renderers:{indicatorLabel:{type:ed,group:"body",position:"northWest",properties:{indicatorId:"AWESOME"}}}},bbw:{renderers:{indicatorLabel:{type:ed,group:"body",position:"northWest",properties:{indicatorId:"BBW"}}}},bolpctb:{renderers:{indicatorLabel:{type:ed,group:"body",position:"northWest",properties:{indicatorId:"BOLPCTB"}}}},chaikin:{renderers:{indicatorLabel:{type:ed,group:"body",position:"northWest",properties:{indicatorId:"CHAIKIN"}}}},cci:{renderers:{indicatorLabel:{type:ed,group:"body",position:"northWest",properties:{indicatorId:"CCI"}}}},dpo:{renderers:{indicatorLabel:{type:ed,group:"body",position:"northWest",properties:{indicatorId:"DPO"}}}},dmi:{renderers:{indicatorLabel:{type:ed,group:"body",position:"northWest",properties:{indicatorId:"DMI"}}}},eom:{renderers:{indicatorLabel:{type:ed,group:"body",position:"northWest",properties:{indicatorId:"EOM"}}}},kdj:{renderers:{indicatorLabel:{type:ed,group:"body",position:"northWest",properties:{indicatorId:"KDJ"}}}},macd:{renderers:{indicatorLabel:{type:ed,group:"body",position:"northWest",properties:{indicatorId:"MACD"}}}},momentum:{renderers:{indicatorLabel:{type:ed,group:"body",position:"northWest",properties:{indicatorId:"MOMENTUM"}}}},mfi:{renderers:{indicatorLabel:{type:ed,group:"body",position:"northWest",properties:{indicatorId:"MFI"}}}},rci:{renderers:{indicatorLabel:{type:ed,group:"body",position:"northWest",properties:{indicatorId:"RCI"}}}},roc:{renderers:{indicatorLabel:{type:ed,group:"body",position:"northWest",properties:{indicatorId:"ROC"}}}},rsi:{renderers:{indicatorLabel:{type:ed,group:"body",position:"northWest",properties:{indicatorId:"RSI"}}}},stdev:{renderers:{indicatorLabel:{type:ed,group:"body",position:"northWest",properties:{indicatorId:"STDEV"}}}},stochastic:{renderers:{indicatorLabel:{type:ed,group:"body",position:"northWest",properties:{indicatorId:"STOCH"}}}},volume:{renderers:{indicatorLabel:{type:ed,group:"body",position:"northWest",properties:{indicatorId:"VOLUME"}}}},willr:{renderers:{indicatorLabel:{type:ed,group:"body",position:"northWest",properties:{indicatorId:"WILLR"}}}}};const id=(0,A.recursiveFreeze)(td);var nd=i(77008),sd=i(59465),rd=i(31388),od=s.A.extend(Object.assign((function(e,t,i,n,s){this._settingsManager=i,this._indicator=s}),{__constructorTransform:function(e,t,i,n,s){return[e,t,n]}}),Pe.default);od.create=function(e,t,i,n,s){return new od(e,t,i,n,s)};var ad=od.prototype;ad._indicator=null,ad._settingsManager=null,ad._getDialogTitle=function(){return sd.default.get(this._indicator.name)},ad._getDialogClasses=function(){return"indicatorSettings "+this._indicator.name},ad._createContent=function(e){return(this._indicator.getSettingsContentClass()||nd.A).create(this,this._eventBus,this._captureZoneManager,this._settingsManager,this._taskManager,this._indicator).initDom(e)},ad.done=function(e){this._eventBus.publish("tracker/ga",[{interaction_type:Ee.GA_ACTION.INDICATORS+" - modify",interaction_value:Ee.EventOrigin.SUBJECT,chart_indicator:(0,rd.u8)(this._indicator.name).toLowerCase()}]),od.superclass.done.call(this,e)},ad._getTaskConfig=function(){return ha.default.NON_CONCURRENT_DIALOG},Object.seal(ad);const ld=Object.seal(od);function dd(e,t,i,n,s,r,o,a){this._eventBus=e,this._moduleLoader=i,this._settingsManager=s,this._containerProvider=r,this._taskManager=a}var ud=dd.prototype;ud._moduleLoader=null,ud._chartView=null,ud._dialog=null,ud._eventBus=null,ud._captureZoneManager=null,ud._settingsManager=null,ud._containerProvider=null,ud._taskManager=null,ud._showIndicatorSettings=function(e){this._dialog=ld.create(this._eventBus,this._captureZoneManager,this._settingsManager,this._taskManager,e),this._dialog.initDom(this._containerProvider.getContainer("top-html")).makeScrollable(),this._dialog.on(Pe.default.CLOSE,this._onDialogClose,this)},ud._handleChartViewReady=function(e,t,i){this._captureZoneManager=t,this._chartView=e},ud._handleChartViewDestroyed=function(){delete this._chartView,delete this._captureZoneManager,this._dialog&&(this._dialog.destroy(),delete this._dialog)},ud.init=function(){this._eventBus.subscribe("chart/view/ready",this._handleChartViewReady,this),this._eventBus.subscribe("chart/view/destroyed",this._handleChartViewDestroyed,this),this._eventBus.subscribe("chart/indicator/show-settings",this._showIndicatorSettings,this),this._eventBus.publish("subViews/config",["indicatorLabels",id]),this._chartView&&this._chartView.addRenderersBySubviewConfig(id),this._moduleLoader.getModule("indicators").setTitlesVisibility(!1)},ud.destroy=function(){this._eventBus.unsubscribeAll(this),this._eventBus.publish("subViews/removeConfig",["indicatorLabels"]),this._chartView&&this._chartView.removeRenderersBySubviewConfig(id),this._dialog&&(this._dialog.destroy(),delete this._dialog),this._moduleLoader.getModule("indicators").setTitlesVisibility(!0)},ud._onDialogClose=function(){this._dialog.un(null,this)},Object.seal(dd.prototype);const cd=Object.seal(dd);var hd=i(52893),pd=i(11173),_d=i(15095),gd=i(26242),fd=i(20669),md=s.A.extend((function(){}),fd.default),vd=md.prototype;vd._i18n=null,vd._textKey=null,vd.withI18n=(0,y.setter)("_i18n"),vd.withTextKey=(0,y.setter)("_textKey"),vd._text=function(){return this._i18n?this._i18n.get(this._textKey):$e.default.get(this._textKey)},Object.seal(vd);const Ad=Object.seal(md);var Ed=s.A.extend((function(){}),Ad),Td=Ed.prototype;Td.startRedrawingBasedOnChangesInVisibleWindow=function(){Ed.superclass.startRedrawingBasedOnChangesInVisibleWindow.apply(this,arguments),this._subView.on(Xl.default.DIMENSIONS_CHANGED,this._handleSubViewDimensionsChanged,this),this._subView.on(ti.A.INDICATOR_ADDED,this._onIndicatorAdded,this),this._subView.on(ti.A.INDICATOR_REMOVED,this._onIndicatorRemoved,this)},Td.stopRedrawingBasedOnChangesInVisibleWindow=function(){Ed.superclass.stopRedrawingBasedOnChangesInVisibleWindow.apply(this,arguments),this._subView.un(null,this)},Td.destroy=function(){var e=this._subView.getMainIndicator();e&&e.un(null,this),Ed.superclass.destroy.call(this)},Td._onIndicatorAdded=function(){var e=this._subView.getMainIndicator();e.on(gd.default.LABEL_CHANGED,this._showText,this),e.on(gd.default.AVAILABILITY_CHANGED,this._showText,this),this._showText()},Td._onIndicatorRemoved=function(){this._subView.getMainIndicator().un(null,this),this._showText()},Td._showText=function(){this._buildIndicatorTitle(),this._showBackground&&this._updateBackgroundRectSize()},Td._buildIndicatorTitle=function(){var e=this._subView.getMainIndicator();this._dText.selectAll(".setting").remove(),e&&(this._dText.append("svg:tspan").classed("setting",!0).text(sd.default.get(e.name+"-"+e.shortLabelType)),!1===e.isAvailable()&&this._dText.append("svg:tspan").classed("setting",!0).classed("unavailable",!0).attr("dx",10).text(e.getUnavailabilityReason()))},Td._handleSubViewDimensionsChanged=function(e){var t=ii.default.MIN_LABEL_HEIGHT<e.height;t&&!this._visible?this.show():!t&&this._visible&&this.hide()},Object.seal(Td);const Id=Object.seal(Ed);function Cd(){}var Od={};["aroon","atr","awesome","chaikin","cci","dpo","dmi","kdj","macd","momentum","mfi","roc","rsi","stdev","stochastic","volume","willr"].forEach((function(e){Od[e]={renderers:{studyTitle:{type:Id,group:"body",position:"northWest",properties:{marginTop:3,marginLeft:5}}}}})),Cd.get=(0,n.constant)(Od),(0,A.recursiveFreeze)(Od);const Md=Object.seal(Cd);var yd=i(93792);function bd(e,t,i,s,r,o){this._eventBus=e,this._exclude=(0,n.get)(t,"exclude",[]),this._indicatorsConfig=(0,n.get)(t,"indicators",pd.default),this._subViewsConfig=(0,n.get)(t,"subViews",sl.get()),this._settingsManager=r,this._eventBus.subscribe("chart/view/ready",this._handleChartViewReady,this),this._settingsManager.on((0,Ie.getLayoutSettingsEvent)(P.default.INDICATORS_VISIBILITY),this._handleIndicatorsVisibilityChanged,this)}bd.settingsParsers=Object.freeze({template:{moduleName:P.default.INDICATORS_VISIBILITY,parserClass:hd.default},global:{moduleName:P.default.INDICATORS_GLOBAL,parserClass:yd.A}});var Sd=bd.prototype;Sd._eventBus=null,Sd._chartView=null,Sd._exclude=null,Sd._indicatorsConfig=null,Sd._indicatorsVisible=!0,Sd._titlesVisibility=!0,Sd._settingsManager=null,Sd._subViewsConfig=null,Sd._initialised=!1,Sd.init=function(){var e=(0,A.recursiveFreeze)(this._generateCapabilities(this._indicatorsConfig));this._eventBus.publish("capabilities/indicators",["indicators",e],{retrospective:!0}),this._eventBus.publish("indicators/config",[this._indicatorsConfig],{retrospective:!0}),this._eventBus.publish("subViews/config",["indicators",this._subViewsConfig]),this._titlesVisibility&&this._enableTitles(),this._initialised=!0},Sd.destroy=function(){this._eventBus.publish("subViews/removeConfig",["indicators"]),this._titlesVisibility&&this._disableTitles(),this._chartView&&(this._chartView=null),this._eventBus=null,this._initialised=!1},Sd.setTitlesVisibility=function(e){this._titlesVisibility!==e&&(this._titlesVisibility=e,this._initialised&&(this._titlesVisibility?this._enableTitles():this._disableTitles()))},Sd._handleIndicatorsVisibilityChanged=function(){var e=this._settingsManager.getIndicatorsVisibilitySettings(),t=this._indicatorsVisible;this._indicatorsVisible=e,e&&!t?this._handleIndicatorsShown():!e&&t&&this._handleIndicatorsHidden()},Sd._handleIndicatorsShown=function(){this._settingsManager.resetTemplateSettings("indicatorModule")},Sd._handleIndicatorsHidden=function(){this._settingsManager.changeTemplateSettings("indicatorModule",(function(e){return e.indicators=[],!0}),!1)},Sd._enableTitles=function(){this._eventBus.publish("subViews/config",["indicatorsTitles",Md.get()]),this._chartView&&this._chartView.addRenderersBySubviewConfig(Md.get())},Sd._disableTitles=function(){this._eventBus.publish("subViews/removeConfig",["indicatorsTitles"]),this._chartView&&this._chartView.removeRenderersBySubviewConfig(Md.get())},Sd._generateCapabilities=function(e){var t,i=[];for(t in e){var n=e[t];n.onByDefault||n.excludeFromIndicatorsMenu||(0,te.contains)(this._exclude,t)||i.push(this._capabilitiesForIndicator(t,e[t]))}return i},Sd._capabilitiesForIndicator=function(e,t){return{id:e,arguments:this._capabilitiesForIndicatorArguments(e,t),label:sd.default.get(e),json:{type:"indicator",value:{id:e,settings:this._capabilitiesForIndicatorSettingsPlaceHolder(e,t.settings)}}}},Sd._capabilitiesForIndicatorArguments=function(e,t){var i,n,s,r=t.settings,o=[];for(i in r){if(n=r[i],"preferredHeight"===i)s={id:this._settingId("preferredHeight"),defaultValue:n.defaultValue};else if(n.type===_d.default.NUMBER)s=this._numericArgumentSettingConfig(e,n,i);else if(n.type===_d.default.BOOL)s=this._booleanArgumentSettingConfig(e,n,i);else{if(n.type!==_d.default.ENUM&&n.type!==_d.default.RADIO)throw new Error("setting "+i+" has an unsupported type: "+n.type);s=this._enumArgumentSettingConfig(e,n,i)}n.color&&(s.color=n.color),o.push(s)}return o},Sd._numericArgumentSettingConfig=function(e,t,i){return{id:this._settingId(i),label:sd.default.get(e+"-"+i),defaultValue:t.defaultValue.toFixed(t.decimalPoints),range:t.range}},Sd._booleanArgumentSettingConfig=function(e,t,i){return{id:this._settingId(i),label:sd.default.get(e+"-"+i),defaultValue:t.defaultValue}},Sd._enumArgumentSettingConfig=function(e,t,i){return{id:this._settingId(i),label:sd.default.get(e+"-"+i),defaultValue:String(t.defaultValue),range:{min:0,max:t.options.length-1,step:1}}},Sd._capabilitiesForIndicatorSettingsPlaceHolder=function(e,t){var i,n={};for(i in t)n[i]=this._settingId(i);return n},Sd._settingId=function(e){return"$"+e},Sd._handleChartViewReady=(0,y.setter)("_chartView"),Object.seal(bd.prototype);const Dd=Object.seal(bd);var wd=i(90171);function Ld(e,t,i,n,s,r,o,a){this._eventBus=e}var Rd=Ld.prototype;Rd._eventBus=null,Rd.init=function(){this._eventBus.publish("menu/item/switch",["latestCandle",!0])},Rd.destroy=function(){this._eventBus.publish("menu/item/switch",["latestCandle",!1])},Object.seal(Rd);const Pd=Object.seal(Ld);var Nd=i(53256),kd=i(99061),xd=i(54326),Vd=i(3178),Bd=i(73658),Hd=i(95775),Wd=i(88051),Fd=i(62282),Ud=i(44553),Gd=i(49865),jd=i(79198),Kd=i(98648);function zd(e,t,i,n,s,r,o,a){if(this._eventBus=e,this._options=t||{},this._containerProvider=r,this._taskManager=a,this._settingsManager=s,this._moduleLoader=i,this._options.keyboard)for(var l in this._taskManager.registerGlobalHotKey(ua.default.I,this._handleIntervalDialog.bind(this)),ua.ResolutionShortcutKeys)this._taskManager.registerGlobalHotKey(ua.ResolutionShortcutKeys[l],this._handleIntervalDialog.bind(this,ua.ResolutionShortcutKeys[l]))}zd.orderByPeriodDescending=function(e,t){var i=li.default.values[e.json.value.enumName],n=li.default.values[t.json.value.enumName],s=i===li.default.values.TICK?-1:i.period;return(n===li.default.values.TICK?-1:n.period)-s},zd.getAvailableResolutions=function(e,t){var i,n={},s=li.default.values.TICK.period,r=li.default.getSupportedResolutions();for(var o in t=t||[],e.delay&&(s=li.default.values.FIVE_MINUTES.period),r)(i=r[o]).period>=s&&!(0,te.contains)(t,i)&&(n[o]=i);return n};var Zd=zd.prototype;Zd._eventBus=null,Zd._options=null,Zd._lastResolutionsJson=null,Zd._lastResolution=null,Zd._availableResolutions=null,Zd._lastNonDelayedResolution=null,Zd._nextResolutionChangeByModule=!1,Zd._intervalDialog=null,Zd.getExcludedResolutions=function(){return this._options.excluded||[]},Zd.init=function(){var e=(0,A.recursiveFreeze)(this._generateCapabilities(li.default.getSupportedResolutions()));this._lastResolutionsJson=JSON.stringify(e),this._eventBus.publish("capabilities/resolutions",["resolutions",e],{retrospective:!0}),this._eventBus.subscribe("chart/view/ready",this._handleChartViewReady,this,{once:!0}),this._eventBus.subscribe("chart/resolution/changed",this._handleResolutionChanged,this),this._eventBus.subscribe("chart/instrument/info",this._handleInstrumentChanged,this)},Zd.destroy=function(){this._eventBus.unsubscribeAll(this),this._eventBus=null,this._intervalDialog&&this._intervalDialog.destroy()},Zd._generateCapabilities=function(e){var t,i,n=[];for(t in e)i=li.default.values[t].id,n.push({id:i,label:jd.default.get(i),json:{type:"resolution",value:{enumName:t}}});return n.sort(zd.orderByPeriodDescending)},Zd._handleResolutionChanged=function(e){e.resolution!==this._lastResolution&&(this._lastResolution=e.resolution,this._nextResolutionChangeByModule?this._nextResolutionChangeByModule=!1:this._lastNonDelayedResolution=null)},Zd._handleInstrumentChanged=function(e){var t,i,n=zd.getAvailableResolutions(e,this.getExcludedResolutions());this._availableResolutions=n,i=(0,A.recursiveFreeze)(this._generateCapabilities(n)),(t=JSON.stringify(i))!==this._lastResolutionsJson&&(this._lastResolutionsJson=t,this._eventBus.publish("capabilities/resolutions",["resolutions",i],{retrospective:!0}),this._adjustResolutionForMarketDelay(e))},Zd._adjustResolutionForMarketDelay=function(e){var t;e.delay?this._lastResolution.period<li.default.values.FIVE_MINUTES.period&&(this._lastNonDelayedResolution=this._lastResolution,this._nextResolutionChangeByModule=!0,this._eventBus.publish("chart/resolution/change",["FIVE_MINUTES"])):this._lastNonDelayedResolution&&(t=this._lastNonDelayedResolution,this._lastNonDelayedResolution=null,this._eventBus.publish("chart/resolution/change",[li.default.keyFor(t)]))},Zd._handleIntervalDialog=function(e){if(!this._intervalDialog){this._intervalDialog=Kd.A.create(this._eventBus,this._captureZoneManager,this._taskManager,this._settingsManager,this._availableResolutions);var t=this._moduleLoader.getModule("menuApi");"function"==typeof t.forceHideMenu&&t.forceHideMenu()}this._intervalDialog.initDom(this._containerProvider.getContainer("top-html")).makeScrollable().withSetValue(e||null).withDismissOnBackground(),this._intervalDialog.on(Pe.default.DONE,this._setResolutionFromDialog,this),this._intervalDialog.on(Pe.default.CLOSE,this._unsetResolutionDialog,this)},Zd._unsetResolutionDialog=function(){this._destroyDialog(),this._containerProvider.getRootContainer().node().focus()},Zd._destroyDialog=function(){this._intervalDialog&&(this._intervalDialog.destroy(),delete this._intervalDialog)},Zd._setResolutionFromDialog=function(e){e&&(this._eventBus.publish("tracker/ga",[{interaction_type:Ee.GA_ACTION.RESOLUTION,interaction_value:Ee.EventOrigin.KEYBOARD,chart_interval:li.default.statisticsKeyFor(li.default.valueOf(e)).toLowerCase()}]),this._eventBus.publish("chart/resolution/change",[e])),this._destroyDialog(),this._containerProvider.getRootContainer().node().focus()},Zd._handleChartViewReady=function(e,t){this._captureZoneManager=t},Object.seal(zd.prototype);const Yd=Object.seal(zd);function $d(e){this._eventBus=e}var qd=$d.prototype;qd._eventBus=null,qd.init=function(){this._eventBus.publish("resizableStudyViews/enabled",[!0])},qd.destroy=function(){this._eventBus.publish("resizableStudyViews/enabled",[!1])},Object.seal(qd);const Xd=Object.seal($d);var Jd=i(1074),Qd=i(49483),eu={getChartCopy:function(e){var t=eu.getChartSVGElement(e),i=eu.getAllCSSElement();return t.insertBefore(i,t.childNodes[0]),t},getChartSVGElement:function(e){var t=Qd.default.getRootContainer(e).node(),i=Qd.default.selectWithinChart('svg[data-container="svg-root"]',e).node(),n=eu.cleanNode(i.cloneNode(!0));return n.setAttribute("class",t.getAttribute("class")),n.setAttribute("id",t.getAttribute("id")),n},getAllCSSElement:function(){var e,t,i,n=document.createElement("style"),s="";for(n.setAttribute("type","text/css"),n.setAttribute("media","all"),t=0;t<document.styleSheets.length;t++){try{e=document.styleSheets[t].rules||document.styleSheets[t].cssRules}catch(r){e=null}if(e&&"number"==typeof e.length)for(i=0;i<e.length;i++)s+=e[i].cssText}return n.textContent="\n/* <![CDATA[ */\n"+s+"\n/* ]]> */\n",n},cleanNode:function(e){var t,i;for(i=0;i<e.childNodes.length;i++)8===(t=e.childNodes[i]).nodeType||3===t.nodeType&&!/\S/.test(t.nodeValue)?(e.removeChild(t),i--):1===t.nodeType&&eu.cleanNode(t);return e}};const tu=Object.seal(eu);var iu=i(35457),nu=i(23585),su="image/png",ru=8,ou=8,au=32,lu=32,du={x:ru+au+8,y:22},uu=du.x,cu=8+lu+-3;function hu(e){return-1!==["ig","igDark","nwtpLight","nwtpDark","nwtpNavy"].indexOf(e)}function pu(e){Jd.default.blobconstructor&&e.data instanceof Blob&&"function"==typeof e.data.close&&e.data.close(),Jd.default.bloburls&&e.url&&e.url.indexOf("blob:")&&URL.revokeObjectURL(e.url)}function _u(e,t,i,n,s,r){this._containerProvider=r,this._eventBus=e,this._options=t,this._settingsManager=s}_u.IMAGE_EXTENSION=su.slice(su.indexOf("/")+1),_u.canTakeScreenshots=function(e){var t="todataurl"+_u.IMAGE_EXTENSION;Jd.default.onAll(["adownload","svgasimg","blobconstructor","bloburls","svgtocanvasnocors","toblob",t],(function(){e(!!(Jd.default.adownload&&Jd.default.svgasimg&&Jd.default.blobconstructor&&Jd.default.bloburls&&Jd.default.svgtocanvasnocors&&(Jd.default.toblob||Jd.default[t])))}))};var gu=_u.prototype;gu._containerProvider=null,gu._canvas=null,gu._eventBus=null,gu._imageRaster=null,gu._marketName=null,gu._imageSVG=null,gu._resolutionLabel=null,gu._serialiser=null,gu._options=null,gu._settingsManager=null,gu.init=function(){_u.canTakeScreenshots(this._switchScreenshotMenuOption.bind(this)),this._eventBus.subscribe("chart/view/ready",this._handleChartViewReady,this),this._eventBus.subscribe("chart/view/destroyed",this._handleChartViewDestroyed,this),this._eventBus.subscribe("chart/instrument/info",this._handleInstrumentInfo,this),this._eventBus.subscribe("chart/resolution/changed",this._handleResolutionChanged,this),this._eventBus.subscribe("screenshots/take",this._takeScreenshot,this),this._canvas=document.createElement("canvas"),this._serialiser=new XMLSerializer},gu.destroy=function(){this._clearImages(),this._eventBus.publish("menu/item/switch",["screenshots",!1]),this._eventBus.unsubscribeAll(this),this._serialiser=null,this._canvas=null,this._chartView=null},gu._handleChartViewReady=function(e){this._chartView=e},gu._handleChartViewDestroyed=function(){this._chartView=null},gu._handleInstrumentInfo=function(e){e&&(this._marketName=e.name)},gu._handleResolutionChanged=function(e){this._resolutionLabel=iu.default.get((0,li.keyFor)(e.resolution))},gu._switchScreenshotMenuOption=function(e){this._eventBus&&this._eventBus.publish("menu/item/switch",["screenshots",e])},gu._takeScreenshot=function(){this._clearImages(),this._chartView&&this._serialiseChart()},gu._serialiseChart=function(){var e,t=this._copyChartForScreenshot(),i='<?xml version="1.0" encoding="utf-8"?>'+this._serialiser.serializeToString(t);e=new Blob([i],{type:"image/svg+xml"}),this._imageSVG={data:e,url:URL.createObjectURL(e)},this._rasteriseChart(this._reportSerialisationProblems.bind(this,i))},gu._reportSerialisationProblems=function(e){var t,i,n=new DOMParser;nu.default.captureError((function(){if(t=n.parseFromString(e,"image/svg+xml"),i=t.querySelector("parsererror"))throw new Error(i.textContent)}),(function(e){console.error(`Error encountered while serialising the SVG chart: ${e}`)}))},gu._copyChartForScreenshot=function(){var e=(0,fi.A)(tu.getChartCopy(this._containerProvider.getContainer("svg-root")));return e.classed("screenshot",!0),this._addLogo(e),this._addMarketName(e),this._addResolutionInfo(e),e.node()},gu._addLogo=function(e){var t=this._chartView.dimensionOffsets;hu(this._settingsManager.getTheme())&&e.svgFromString(this._options.logo).attrs({x:ru+t.left,y:ou+t.top,width:au,height:lu})},gu._addMarketName=function(e){var t=this._chartView.dimensionOffsets,i={x:du.x+t.left,y:du.y+t.top};hu(this._settingsManager.getTheme())||(i.x-=au),this._marketName&&e.select('[data-container="top-svg"]').append("text").classed("marketName",!0).text(this._marketName).attrs(i)},gu._addResolutionInfo=function(e){var t=this._chartView.dimensionOffsets,i={x:uu+t.left,y:cu+t.top};hu(this._settingsManager.getTheme())||(i.x-=au),e.select('[data-container="top-svg"]').append("text").classed("resolutionInfo",!0).text(this._resolutionLabel).attrs(i)},gu._rasteriseChart=function(e){var t,i,n=new Image;n.addEventListener("load",t=function(){n.removeEventListener("load",t,!1),n.removeEventListener("error",i,!1);var e=this._chartView.dimensionOffsets,s=n.width-e.left-e.right,r=n.height-e.top-e.bottom;this._canvas.width=s,this._canvas.height=r,window.setTimeout(function(){this._canvas.getContext("2d").drawImage(n,e.left,e.top,s,r,0,0,s,r),pu(this._imageSVG),this._imageSVG=null,this._extractChartRaster()}.bind(this),0)}.bind(this),!1),n.addEventListener("error",i=function(){n.removeEventListener("load",t,!1),n.removeEventListener("error",i,!1),e()},!1),n.src=this._imageSVG.url},gu._extractChartRaster=function(){var e,t;Jd.default.toblob?(t=function(e){this._imageRaster={data:e,url:URL.createObjectURL(e)},this._downloadScreenshot()}.bind(this),this._canvas.toBlob?this._canvas.toBlob(t,su):this._canvas.msToBlob&&t(this._canvas.msToBlob())):(e=this._canvas.toDataURL(su),Jd.default.adownload||(e=e.replace("data:"+su,"data:image/octet-stream")),this._imageRaster={data:null,url:e},this._downloadScreenshot())},gu._downloadScreenshot=function(){var e,t=document.createElement("a");t.style.opacity="0",document.body.appendChild(t),Jd.default.adownload&&(e=(this._marketName||"screenshot")+"_"+gi.DateTime.now().toFormat("yyyyMMdd_HH.mm"),t.download=e+"."+_u.IMAGE_EXTENSION),t.href=this._imageRaster.url,t.click(),t.parentNode.removeChild(t)},gu._clearImages=function(){this._imageSVG&&(pu(this._imageSVG),this._imageSVG=null),this._imageRaster&&(pu(this._imageRaster),this._imageRaster=null)},Object.seal(gu);const fu=Object.seal(_u),mu=new Ar.default({de:{menuItem:"Chart exportieren"},en:{menuItem:"Export chart"},es:{menuItem:"Exportar gráfico"},fr:{menuItem:"Exporter le graphique"},it:{menuItem:"Esporta grafico"},ja:{menuItem:"チャートを画像で保存"},nl:{menuItem:"Grafiek exporteren"},nb:{menuItem:"Eksporter diagram"},pt:{menuItem:"Exportar gráfico"},sv:{menuItem:"Exportera diagram"},zh:{menuItem:"导出图表"},zh_TW:{menuItem:"導出圖表"}});var vu=s.A.extend((function(e,t,i,n,s,r,o,a){this._menuContainerId=a}),he.default);vu.create=function(e,t,i,n,s,r,o,a){return new vu(e,t,i,n,s,r,o,a)};var Au=vu.prototype;Au.id="screenshots",Au._menuContainerId="",Au.getMenuTitle=function(){return mu.get("menuItem")},Au.initDom=n.noop,Au.show=function(e){this._eventBus.publish("screenshots/take"),this._eventBus.publish("tracker/ga",[{interaction_type:Ee.GA_ACTION.SCREENSHOT,interaction_value:(0,Ee.fromMenuSource)(e||this._menuContainerId)}])},Au.hide=n.noop,Object.seal(Au);const Eu=Object.seal(vu);var Tu=i(48137);function Iu(e,t,i,n,s,r){this._eventBus=e,this._settingsManager=s}var Cu=Iu.prototype;Cu._eventBus=null,Cu._settingsManager=null,Cu.init=function(){var e=Tu.default.get(),t=(0,A.recursiveFreeze)(this._generateConfig(e));this._updateStylesCapabilities(),this._eventBus.publish("styles/config",[t],{retrospective:!0}),this._settingsManager.on((0,Ie.getLayoutSettingsEvent)(P.default.CORE),this._updateStylesCapabilities,this)},Cu.destroy=function(){this._settingsManager.un(null,this),this._settingsManager=null,this._eventBus=null},Cu._generateCapabilities=function(e){return(0,n.intersection)(e.capabilities,(0,nt.getSupportedStylesForResolution)(this._settingsManager.getResolutionSettings())).map((function(e){return{id:e,json:{type:"style",value:e},label:st.default.get(e)}}))},Cu._generateConfig=function(e){return{resolutionChooser:e.resolutionChooser,rendererChooser:e.rendererChooser,renderers:e.renderers}},Cu._updateStylesCapabilities=function(){var e=Tu.default.get(),t=(0,A.recursiveFreeze)(this._generateCapabilities(e));this._eventBus.publish("capabilities/styles",["styles",t],{retrospective:!0})},Object.seal(Iu.prototype);const Ou=Object.seal(Iu);function Mu(e,t){this._eventBus=e,this._options=t||{}}var yu=Mu.prototype;yu._eventBus=null,yu._options=null,yu.init=function(){this._eventBus.publish("subViews/config",["subViews",this._options.config||wi])},yu.destroy=function(){this._eventBus=null},Object.seal(yu);const bu=Object.seal(Mu);var Su=i(29846),Du=i(73036),wu=i(6141),Lu=s.A.extend((function(){}),Zt.default),Ru=Lu.prototype;Ru._horizontalMarker=null,Ru._yPosition=null,Ru.startRedrawingBasedOnChangesInVisibleWindow=function(){this._presentationModel.on(wu.default.MOVED,this.renderOnFrameEnd,this),this._presentationModel.on(wu.default.VISIBILITY_CHANGED,this._updateVisibility,this),this._visibleWindow.on(qt.default.MOVED,this._handleVisibleWindowMoved,this)},Ru.stopRedrawingBasedOnChangesInVisibleWindow=function(){this._horizontalMarker&&(this._horizontalMarker.destroy(),this._horizontalMarker=null),this._presentationModel.un(null,this),this._visibleWindow.un(null,this)},Ru.initDom=function(){return this.dContainer.classed("crosshair",!0),this},Ru.render=function(){var e,t,i=this._presentationModel.getYLevelInStudyView(this._subView.dimensions);i!==this._yPosition&&(e=this._getDataForPosition(i),t=this.dContainer.selectAll("g.horizontalMarkerContainer").data(e),this._createHorizontalMarker(t.enter()),this._removeHorizontalMarker(t.exit()),t.call(this._updateHorizontalMarker.bind(this)),this._yPosition=i)},Ru._createHorizontalMarker=function(e){e.empty()||(this._horizontalMarker=Dn.default.create(e.append("g").classed("horizontalMarkerContainer",!0),this._captureZoneManager),this._horizontalMarker.classed("horizontalMarker",!0))},Ru._updateHorizontalMarker=function(){var e=this._presentationModel.getYLevelInStudyView(this._subView.dimensions);this._horizontalMarker&&this._horizontalMarker.setLineCoordinates({x1:0,y1:e,x2:this._subView.dimensions.width,y2:e})},Ru._removeHorizontalMarker=function(e){e.empty()||(this._horizontalMarker.destroy(),this._horizontalMarker=null,e.remove())},Ru._handleVisibleWindowMoved=function(e,t){t&&this.renderOnFrameEnd()},Ru._getDataForPosition=function(e){return e?[e]:[]},Ru._updateVisibility=function(e){this.dContainer.classed("hidden",!e)},Object.seal(Ru);const Pu=Object.seal(Lu);var Nu=s.A.extend((function(){}),Zt.default),ku=Nu.prototype;ku._badgeAccTime=null,ku._dCurrentDateBadge=null,ku._dCurrentDateText=null,ku.startRedrawingBasedOnChangesInVisibleWindow=function(){this._presentationModel.on(wu.default.MOVED,this.renderOnFrameEnd,this),this._presentationModel.on(wu.default.VISIBILITY_CHANGED,this._updateVisibility,this)},ku.stopRedrawingBasedOnChangesInVisibleWindow=function(){this._presentationModel.un(null,this)},ku.initDom=function(){return this.dContainer.classed("crosshair",!0),this},ku.render=function(){var e=this._presentationModel.getAccTime(),t=!!e;!this._dBadge&&t?(this._dBadge=this._createDateBadge(),this._updateDateBadgePosition(this._dBadge)):this._dBadge&&t&&this._updateDateBadgePosition(this._dBadge),this._badgeAccTime=e},ku._createDateBadge=function(){var e=this.dContainer.append("g").classed("currentCrosshairDateContainer",!0);return this._dCurrentDateBadge=e.append("rect").classed("currentCrosshairDateBadge",!0),this._dCurrentDateText=e.append("text").classed("currentCrosshairDateText",!0).attrs(this._presentationModel.getDateTextPosition()),e},ku._updateDateBadgePosition=function(e){var t,i=this._presentationModel.getAccTime(),n=this._visibleWindow.getXScale()(i)-this._subView.dimensions.x;this._badgeAccTime===i?t=this._badgeDimensions:(t=this._presentationModel.getDateBadgeDimensions(),this._badgeDimensions=t),n=Math.max(n,t.width/2),n=Math.min(n,this._subView.dimensions.width-t.width/2),e.attr("transform",di.default.svgTranslateAttrX(n)),this._dCurrentDateBadge.attrs(t),this._dCurrentDateText.text(this._presentationModel.getTooltipDate())},ku._updateVisibility=function(e){this.dContainer.classed("hidden",!e)},Object.seal(ku);const xu=Object.seal(Nu);var Vu=i(69057),Bu=s.A.extend((function(e,t,i,n){this._priceRendererHelper=Vu.default.create()}),Zt.default);Bu.DECIMAL_PLACES=2;var Hu=Bu.prototype;Hu._priceRendererHelper=null,Hu._tooltipLevelTextLength=0,Hu.startRedrawingBasedOnChangesInVisibleWindow=function(){if(this._presentationModel.on(wu.default.MOVED,this.renderOnFrameEnd,this),this._presentationModel.on(wu.default.VISIBILITY_CHANGED,this._updateVisibility,this),this._subView.instrumentScaling&&this._visibleWindow.epic){var e=this._instrumentModel.getInstrumentModelForEpic(this._visibleWindow.epic);e&&(e.info?this._handleInstrumentInfoLoaded(e.info):e.on($t.default.INFO_LOADED,this._handleInstrumentInfoLoaded,this,{once:!0}))}else this._subView.decimalPlaces&&(this._priceRendererHelper.decimalPlaces=this._subView.decimalPlaces)},Hu.stopRedrawingBasedOnChangesInVisibleWindow=function(){if(this._presentationModel.un(null,this),this._visibleWindow.epic){var e=this._instrumentModel.getInstrumentModelForEpic(this._visibleWindow.epic);e&&e.un(null,this)}},Hu.initDom=function(){return this.dContainer.classed("crosshair",!0),this},Hu.render=function(){var e,t=this._presentationModel.getYLevelInStudyView(this._subView.dimensions);t!==this._yPosition&&(e=this._getDataForPosition(t),this.dContainer.selectAll("g.currentCrosshairLevelContainer").data(e).join(function(e){return this._createLevelBadge(e)}.bind(this),(function(e){return e}),(function(e){return e.remove()})).call(this._updateLevelBadgePosition.bind(this)),this._yPosition=t)},Hu._createLevelBadge=function(e){var t=e.append("g").classed("currentCrosshairLevelContainer",!0),i=this._presentationModel.levelBadgeDimensions;return t.append("rect").classed("currentCrosshairLevelBadge",!0).attrs(i),t.append("g").classed("currentTooltipLevelText",!0),t},Hu._updateLevelBadgePosition=function(e){var t=this._presentationModel.getYLevelInStudyView(this._subView.dimensions),i=this._presentationModel.getBadgePositionInStudyView(this._subView.dimensions),n=this._visibleWindow.y.invert(t);e.attr("transform",di.default.svgTranslateAttrY(i));var s=e.select("g.currentTooltipLevelText").node();if(this._priceRendererHelper.render(s,n),s){var r=this._priceRendererHelper.format(n).length;if(this._tooltipLevelTextLength!==r){var o=di.default.getBBox(s).width+Vu.default.RIGHT_PADDING;e.select("rect.currentCrosshairLevelBadge").attrs({width:o,x:-o-Vu.default.RIGHT_PADDING/2}),this._tooltipLevelTextLength=r}}else this._tooltipLevelTextLength=0},Hu._handleInstrumentInfoLoaded=function(e){this._priceRendererHelper.decimalPlaces=e.decimalPlaces,this._priceRendererHelper.scalingFactor=e.scalingFactor},Hu._updateVisibility=function(e){this.dContainer.classed("hidden",!e)},Hu._getDataForPosition=function(e){return this._visibleWindow.isReadyForRender()&&e?[e]:[]},Object.seal(Hu);const Wu=Object.seal(Bu);var Fu=i(85673),Uu=i(36757),Gu=s.A.extend((function(){}),Zt.default),ju=Gu.prototype;ju._captureZone=null,ju._recogniserForShown=null,ju._verticalMarker=null,ju._lastHoveredCoordinates=null,ju._accTime=null,ju.startRedrawingBasedOnChangesInVisibleWindow=function(){Gu.superclass.startRedrawingBasedOnChangesInVisibleWindow.call(this),this._presentationModel.on(wu.default.MOVED,this.render,this),this._presentationModel.on(wu.default.VISIBILITY_CHANGED,this._updateVisibility,this),this._presentationModel.on(Uu.default.MOVED,this._moveToLastHoveredCoordinates,this),this._visibleWindow.on(qt.default.MOVED,this._handleVisibleWindowMoved,this),this._captureZone=this._captureZoneManager.createZone(In.default,Wt.default.PROPAGATE_ALL,Fu.default.isMobile()?gt.default.BASE:gt.default.MAX),Fu.default.isMobile()?this._captureZone.addGesture(vn.default,{onGesture:this._onTap,context:this}):(this._captureZone.propagateHover(),this._captureZone.setMouseMoveHandler({in:this._presentationController.onHoverIn,inContext:this._presentationController,move:this._onPointerMove,moveContext:this,out:this._presentationController.onHoverOut,outContext:this._presentationController}))},ju.stopRedrawingBasedOnChangesInVisibleWindow=function(){Gu.superclass.stopRedrawingBasedOnChangesInVisibleWindow.call(this),this._eventBus.unsubscribeAll(this),this._verticalMarker&&(this._verticalMarker.destroy(),this._verticalMarker=null),this._captureZone&&(this._captureZone.destroy(),this._captureZone=null),this._presentationModel&&this._presentationModel.un(null,this),this._visibleWindow&&this._visibleWindow.un(null,this),this._subView&&this._subView.un(null,this)},ju.initDom=function(){return this.dContainer.classed("crosshair",!0),this},ju.render=function(){var e=this._presentationModel.getAccTime(),t=!!e&&e!==this._accTime;!this._verticalMarker&&t?(this._verticalMarker=this._createVerticalMarker(),this._updateVerticalMarker()):this._verticalMarker&&t&&this._updateVerticalMarker(),this._accTime=e},ju._createVerticalMarker=function(){var e=this.dContainer.append("g").classed("verticalMarkerContainer",!0);return Dn.default.create(e,this._captureZoneManager).classed("verticalMarker",!0)},ju._handleVisibleWindowMoved=function(e,t){this._verticalMarker&&this._updateVerticalMarker(),(e|t)&(Yt.default.ZOOMED|Yt.default.RESIZED)&&this._updateCaptureZone()},ju._updateVerticalMarker=function(){var e=this._visibleWindow.getXScale()(this._presentationModel.getAccTime())-this._subView.dimensions.x;this._verticalMarker.setLineCoordinates({x1:e,y1:0,x2:e,y2:-this._subView.dimensions.height})},ju._updateCaptureZone=function(){this._captureZone.setDimensions(this._subView.dimensions)},ju._onPointerMove=function(e){this._lastHoveredCoordinates=e,this._presentationController.moveTo(e)},ju._onTap=function(e){this._presentationController.moveTo({x:e.x,y:e.y})},ju._moveToLastHoveredCoordinates=function(){this._lastHoveredCoordinates&&this._presentationController.moveTo(this._lastHoveredCoordinates)},ju._updateVisibility=function(e){this.dContainer.classed("hidden",!e)},Object.seal(ju);const Ku=Object.seal(Gu);var zu=i(46087),Zu=i(85223);function Yu(e,t,i,n,s){this._dContainer=e,this._tooltipViewModel=t,this._studyViewsScalingFactors=s,this._viewTooltip=i,this._viewStudy=n,this._initDom()}Yu.create=function(e,t,i,n,s){return new Yu(e,t,i,n,s)};var $u=Yu.prototype;$u._studyView=null,$u._tooltipViewModel=null,$u._studyViewsScalingFactors=null,$u._dContainer=null,$u._dTableWrap=null,$u._dTooltipBody=null,$u._viewStudy=null,$u._viewTooltip=null,$u.updatePosition=function(){this._isStudyViewTallEnough()&&this._dTooltipBody.styles(this._tooltipViewModel.getTooltipPosition(this._dTooltipBody.node().getBoundingClientRect(),this._viewTooltip.dimensions,this._viewStudy.dimensions))},$u.render=function(e){if(void 0===this._tooltipViewModel.getAccTime())return this;if(this._isStudyViewTallEnough()){this._show();var t=this._dTable.selectAll("tbody").data(e,(function(e){return e.name}));this._renderSection(t).selectAll(".tooltipRow").data((function(e){return e.rowCollection}),(function(e){return e.label})).call(Zu.A.renderRow),this.updatePosition(),this._isTooltipEmpty(e)&&this._hide()}else this._dTooltipBody&&this._hide();return this},$u._isTooltipEmpty=function(e){return this._dTooltipBody.selectAll(`.tooltipRow.${e[0]._name}`).nodes().some((e=>Array.from(e.children).some((e=>"none"===window.getComputedStyle(e).display))))},$u.destroy=function(){this._dTooltipBody&&(this._dTooltipBody.remove(),this._dToolTipBody=null)},$u._show=function(){this._dTooltipBody.classed("invisible",!1)},$u._hide=function(){this._dTooltipBody.classed("invisible",!0)},$u._isStudyViewTallEnough=function(){return!!this._dTableWrap&&("prices"===this._viewStudy.name||this._dTableWrap.node().getBoundingClientRect().height+16<this._viewStudy.dimensions.height)},$u._initDom=function(){return this._dTooltipBody=this._dContainer.append("div").attr("class","tooltipBody"),this._dTableWrap=this._dTooltipBody.append("div").attr("class","tooltipTableWrap"),this._dTable=this._dTableWrap.append("table").attr("class","tooltipTable"),this},$u._renderSection=function(e){var t=e.enter().append("tbody");return t.append("tr").classed("gap",!0),e.exit().remove(),e.order(),t.merge(e)},Object.seal($u);const qu=Object.seal(Yu);var Xu=s.A.extend((function(){}),Zt.default),Ju=Xu.prototype;Ju._tooltipTextHelper=null,Ju._studyViewName=null,Ju.withStudyView=(0,y.setter)("_studyViewName"),Ju.startRedrawingBasedOnChangesInVisibleWindow=function(){this._eventBus.subscribe("chart/view/visibleWindow/moved/*",this._handleVisibleWindowMoved,this),this._presentationModel.on(wu.default.ENABLED,this._onTooltipEnabled,this),this._presentationModel.on(wu.default.MOVED,this.renderOnFrameEnd,this),this._presentationModel.on(wu.default.DISABLED,this.renderOnFrameEnd,this),this._presentationModel.on(wu.default.READY_TO_RENDER,this.renderOnFrameEnd,this),this._presentationModel.on(wu.default.VISIBILITY_CHANGED,this._updateVisibility,this)},Ju.stopRedrawingBasedOnChangesInVisibleWindow=function(){this._eventBus.unsubscribeAll(this),this._instrumentModel.un(null,this),this._presentationModel.un(null,this)},Ju.render=function(){if(this._getStudyView()&&this._presentationModel.isVisible()){var e=this._getData();e.length>0?(this._tooltipTextHelper||this._createTooltip(),this._tooltipTextHelper.render(e)):this._tooltipTextHelper&&this._removeTooltip()}else this._tooltipTextHelper&&this._removeTooltip()},Ju.destroy=function(){this._tooltipTextHelper&&(this._tooltipTextHelper.destroy(),this._tooltipTextHelper=null),Xu.superclass.destroy.call(this)},Ju._onTooltipEnabled=function(){this._presentationController.showTooltip(),this.renderOnFrameEnd()},Ju._getData=function(){return this._presentationModel.formatData(this._getStudyViewsScalingFactors()).filter((function(e){return this._studyViewName===e.studyViewName}),this)},Ju._handleVisibleWindowMoved=function(e,t){this._presentationModel.isEnabled()&&this._tooltipTextHelper&&e&&this._tooltipTextHelper.updatePosition()},Ju._createTooltip=function(){this._tooltipTextHelper=qu.create(this.dContainer,this._presentationModel,this._subView,this._getStudyView(),this._getStudyViewsScalingFactors()),this._instrumentModel.on($t.default.BLOCKS_POINTS_ADDED,this.renderOnFrameEnd,this),this._getStudyView().on(ti.A.INDICATOR_REMOVED,this.renderOnFrameEnd,this)},Ju._removeTooltip=function(){this._getStudyView()&&this._getStudyView().un(null,this),this._instrumentModel.un(null,this),this._tooltipTextHelper&&(this._tooltipTextHelper.destroy(),this._tooltipTextHelper=null)},Ju._getStudyView=function(){return this._subView.getChartView().subViewManager.getSubView(this._studyViewName)},Ju._studyWithNameHasScaling=function(e){var t=this._subView.getChartView().subViewManager.getSubView(e);return t?!!t.instrumentScaling:null},Ju._getStudyViewsScalingFactors=function(){return this._presentationModel.indicators.reduce(function(e,t){var i=this._studyWithNameHasScaling(t.studyName);return"boolean"==typeof i&&(e[t.studyName]=i),e}.bind(this),{})},Ju._updateVisibility=function(e){this.dContainer.classed("hidden",!e)},Object.seal(Ju);const Qu=Object.seal(Xu);var ec=i(8590),tc={getHeader:function(e,t){return"PRICES"===e.name?[{type:ec.default.LABEL_VALUE_PAIR,name:"prices",indicator:e,value:t}]:[]}};const ic=Object.seal(tc);var nc=i(93666),sc=i(4656);function rc(e,t,i,n){var s=i.x-t.x,r=e-i.x;return s+r+(r<n+8?8:-(n+8))}function oc(e,t,i,n){var s=i.y-t.y,r=e-i.y,o=i.height,a=n+16;return s+(r<0||r>=o?n>i.height?8:(0+o)/2-n/2:o-r>=a?r+8:r-0>=a?r-n-8:8)}var ac=s.A.extend((function(){}),sc.A),lc=ac.prototype;lc._textMeasurer=null,lc._indicatorHeaderStrategy=ic,lc.getTooltipDate=function(){return this._tooltipTextFormatter.formatAccTime(this.getAccTime())},lc.getTooltipPosition=function(e,t,i){var n=this._visibleDateRange.accTimeToPixel(this.getAccTime()),s=this._tooltipModel.level;return{left:rc(n,t,i,e.width)+"px",top:oc(s,t,i,e.height)+"px"}},lc.startListening=function(e,t,i,n){ac.superclass.startListening.apply(this,arguments),this._textMeasurer=nc.default.create(n),this._visibleDateRange.on(Uu.default.MOVED,(0,y.bubbler)(Uu.default.MOVED),this),this._tooltipModel.on(wu.default.VISIBILITY_CHANGED,(0,y.bubbler)(wu.default.VISIBILITY_CHANGED),this)},lc.stopListening=function(){this._visibleDateRange&&this._visibleDateRange.un(null,this),this._textMeasurer&&(this._textMeasurer.destroy(),delete this._textMeasurer),ac.superclass.stopListening.call(this)},lc.getDateBadgeDimensions=function(){var e=this._textMeasurer.getBBoxForText(this.getTooltipDate()).width+8;return{x:-e/2,width:e,height:18}},lc.getDateTextPosition=function(){return{x:0,dy:"1.2em",y:0}},Object.seal(lc);const dc=Object.seal(ac);function uc(e){return{type:Qu,group:"tooltip",presentationController:"tooltipPresenter",properties:{relativeWeighting:0,studyView:e}}}var cc={tooltipPresenter:{type:zu.A,presentationModel:{type:dc}}},hc={crosshairPresenter:{type:zu.A,presentationModel:{type:dc}}},pc={presentationControllers:hc,renderers:{crosshairHorizontalMarker:{type:Pu,group:"studyOverlay",position:"studyOverlay",presentationController:"crosshairPresenter"},crosshairYAxisBadgeRenderer:{type:Wu,group:"yAxis",position:"yAxis",presentationController:"crosshairPresenter",properties:{relativeWeighting:1/0}}}},_c={htmloverlay:{presentationControllers:cc,renderers:{pricesDesktopTooltip:uc("prices"),derivativeDesktopTooltip:uc("derivative"),aroonDesktopTooltip:uc("aroon"),atrDesktopTooltip:uc("atr"),awesomeDesktopTooltip:uc("awesome"),bbwDesktopTooltip:uc("bbw"),bolpctbDesktopTooltip:uc("bolpctb"),chaikinDesktopTooltip:uc("chaikin"),cciDesktopTooltip:uc("cci"),dpoDesktopTooltip:uc("dpo"),dmiDesktopTooltip:uc("dmi"),eomDesktopTooltip:uc("eom"),kdjDesktopTooltip:uc("kdj"),macdDesktopTooltip:uc("macd"),momentumDesktopTooltip:uc("momentum"),mfiDesktopTooltip:uc("mfi"),rocDesktopTooltip:uc("roc"),rciDesktopTooltip:uc("rci"),rsiDesktopTooltip:uc("rsi"),stdevDesktopTooltip:uc("stdev"),stochasticDesktopTooltip:uc("stochastic"),volumeDesktopTooltip:uc("volume"),willrDesktopTooltip:uc("willr")}},underlay:{presentationControllers:hc,renderers:{crosshairVerticalMarker:{type:Ku,group:"xAxis",position:"xAxis",presentationController:"crosshairPresenter"}}},xaxis:{presentationControllers:hc,renderers:{crosshairYAxisBadgeRenderer:{type:xu,group:"xAxis",position:"xAxis",presentationController:"crosshairPresenter",properties:{relativeWeighting:2}}}},prices:pc,derivative:pc,aroon:pc,atr:pc,awesome:pc,bbw:pc,bolpctb:pc,chaikin:pc,cci:pc,dpo:pc,dmi:pc,eom:pc,kdj:pc,macd:pc,momentum:pc,mfi:pc,roc:pc,rci:pc,rsi:pc,stdev:pc,stochastic:pc,volume:pc,willr:pc};const gc=(0,A.recursiveFreeze)(_c);var fc=i(63154),mc=s.A.extend((function(e,t,i,n,s,r,o,a){this._settingsManager=s,this._settingsManager.on((0,Ie.getLayoutSettingsEvent)(P.default.CORE),this._handleSettingsChanged,this)}),fc.A),vc=mc.prototype;vc._subViewsConfig=gc,vc._settingsManager=null,vc._startListening=function(){this._eventBus.subscribe("tooltip/enable",this._enableTooltip,this),this._eventBus.subscribe("tooltip/disable",this._disableTooltip,this)},vc._enableTooltip=function(e){this._taskManager.taskExists(ha.default.TOOLTIP_DESKTOP.ID)||(this._startTooltipTask(e),this._settingsManager.putTooltipSettings(!0))},vc._disableTooltip=function(){this._tooltipModel.isEnabled()&&(this._taskManager.finishTask(ha.default.TOOLTIP_DESKTOP.ID),this._settingsManager.putTooltipSettings(!1))},vc._getTaskConfig=(0,n.constant)(ha.default.TOOLTIP_DESKTOP),vc._handleSettingsChanged=function(){this._settingsManager.getTooltipSettings()?this._enableTooltip():this._disableTooltip()},vc.destroy=function(){this._settingsManager.un(null,this),mc.superclass.destroy.call(this)},Object.seal(vc);const Ac=Object.seal(mc);var Ec=s.A.extend((function(){}),Ta.default),Tc=Ec.prototype;Tc._timeoutId=null,Tc.startListening=function(e,t){Ec.superclass.startListening.call(this,e,t),this._eventBus.subscribe("toast/show",this._updateMessage,this)},Tc.destroy=function(){window.clearTimeout(this._timeoutId),this._timeoutId=null,Ec.superclass.destroy.call(this)},Tc._updateMessage=function(e,t){this._presentationModel.updateMessage(e),this._presentationModel.setVisible(!0),this._timeoutId&&window.clearTimeout(this._timeoutId),this._timeoutId=setTimeout(function(){this._presentationModel.setVisible(!1)}.bind(this),t)},Object.seal(Tc);const Ic=Object.seal(Ec);var Cc=s.A.extend((function(){}),fa.default);Cc.CHANGED="TOAST_CHANGED";var Oc=Cc.prototype;Oc._isVisible=!1,Oc._message=null,Oc.setVisible=function(e){this._isVisible=e,this.fire(Cc.CHANGED)},Oc.updateMessage=function(e){this._message=e,this.fire(Cc.CHANGED)},Oc.isVisible=(0,y.getter)("_isVisible"),Oc.getMessage=(0,y.getter)("_message"),Object.seal(Oc);const Mc=Object.seal(Cc);var yc=s.A.extend((function(){}),Zt.default),bc=yc.prototype;bc.render=function(){this.dContainer.classed("transparent",!this._presentationModel.isVisible()),this.dContainer.html(this._presentationModel.getMessage())},bc.initDom=function(){return yc.superclass.initDom.call(this),this.render(),this},bc.startRedrawingBasedOnChangesInVisibleWindow=function(){this._presentationModel.on(Mc.CHANGED,this.render,this)},bc.stopRedrawingBasedOnChangesInVisibleWindow=function(){this._presentationModel.un(null,this)},Object.seal(yc.prototype);const Sc=Object.seal(yc),Dc={htmloverlay:{presentationControllers:{toast:{type:Ic,presentationModel:{type:Mc}}},renderers:{toast:{type:Sc,group:"body",position:"body",presentationController:"toast",properties:{relativeWeighting:1}}}}};function wc(e,t,i,n,s,r,o){this._eventBus=e}var Lc=wc.prototype;Lc._chartView=null,Lc._eventBus=null,Lc.init=function(){this._eventBus.subscribe("chart/view/ready",this._handleChartViewReady,this),this._eventBus.publish("subViews/config",["toast",Dc]),this._chartView&&this._chartView.addRenderersBySubviewConfig(Dc)},Lc.destroy=function(){this._eventBus.unsubscribeAll(this),this._eventBus.publish("subViews/removeConfig",["toast"]),this._chartView&&(this._chartView.removeRenderersBySubviewConfig(Dc),this._chartView=null)},Lc._handleChartViewReady=(0,y.setter)("_chartView"),Object.seal(Lc);const Rc=Object.seal(wc);var Pc=i(99770),Nc=i(96054),kc=i(50282),xc=i(39407),Vc=i(46982),Bc=i(52578),Hc=i(11797),Wc=i(71504),Fc=s.A.extend((function(){}),o.default);Fc.create=function(){return new Fc},Fc.CHANGED="CHANGED";var Uc=Fc.prototype;Uc._subViewName=null,Uc._timestamp1=null,Uc._timestamp2=null,Uc._level1=null,Uc._level2=null,Uc.getTimestamp1=(0,y.getter)("_timestamp1"),Uc.getTimestamp2=(0,y.getter)("_timestamp2"),Uc.getLevel1=(0,y.getter)("_level1"),Uc.getLevel2=(0,y.getter)("_level2"),Uc.getSubViewName=(0,y.getter)("_subViewName"),Uc.isSet=function(){return!!(this._timestamp1&&this._timestamp2&&(0,Qi.isNumber)(this._level1)&&(0,Qi.isNumber)(this._level2)&&this._subViewName)},Uc.setPosition=function(e,t,i,n,s){this._subViewName=s,this._timestamp1=e,this._timestamp2=t,this._level1=i,this._level2=n,this.fire(Fc.CHANGED)},Object.seal(Uc);const Gc=Object.seal(Fc);var jc=s.A.extend((function(){}),Ta.default),Kc=jc.prototype;Kc.startListening=function(e,t){jc.superclass.startListening.apply(this,arguments),e.isReadyForRender()?this._handleReadyForRender():e.on(qt.default.READY_FOR_RENDER,this._handleReadyForRender,this),this._getDomainModel().on(Gc.CHANGED,this._recalculate,this)},Kc.stopListening=function(e){this._getDomainModel().un(null,this),jc.superclass.stopListening.apply(this,arguments)},Kc._getDomainModel=function(){return this._moduleLoader.getModule("axisShadow").getModel()},Kc._handleReadyForRender=function(){this._visibleWindow.on(qt.default.MOVED,this._recalculate,this)},Kc._recalculate=ot.A.abstractMethod,Object.seal(Kc);const zc=Object.seal(jc);var Zc=s.A.extend((function(){}),zc),Yc=Zc.prototype;Yc._timeline=null,Yc.startListening=function(e,t){Zc.superclass.startListening.apply(this,arguments),this._timeline=t.timeline,this._recalculate()},Yc.stopListening=function(e){this._timeline=null,Zc.superclass.stopListening.apply(this,arguments)},Yc._recalculate=function(){var e,t,i=this._subView.visibleWindow.getXScale(),n=i.range(),s=this._getDomainModel().getTimestamp1(),r=this._getDomainModel().getTimestamp2(),o=null,a=null;s&&r&&(e=i(this._timeline.asAccTime(s)),t=i(this._timeline.asAccTime(r)),o=Math.max(Math.min(e,t),n[0]),a=Math.min(Math.max(e,t),n[1])),this._presentationModel.setPosition(o,a)},Object.seal(Yc);const $c=Object.seal(Zc);var qc=s.A.extend((function(){}),zc),Xc=qc.prototype;Xc._scalingFactor=1,Xc._setScalingFactor=function(e){this._scalingFactor=e.scalingFactor},Xc.startListening=function(e,t){qc.superclass.startListening.apply(this,arguments);var i=t.getInstrumentModelForEpic(this._visibleWindow.epic);i&&(i.info?this._setScalingFactor(i.info):i.on($t.default.INFO_LOADED,this._setScalingFactor,this)),this._presentationModel.setYAxisWidth(this._moduleLoader.getModule("axisShadow").getYAxisWidth()),this._recalculate()},Xc.stopListening=function(){var e=this._instrumentModelCollection.getInstrumentModelForEpic(this._visibleWindow.epic);e&&e.un(null,this),qc.superclass.stopListening.apply(this,arguments)},Xc._recalculate=function(){if(this._getDomainModel().getSubViewName()===this._subView.name){var e,t,i=this._subView.visibleWindow.y.range(),n=this._getDomainModel().getLevel1(),s=this._getDomainModel().getLevel2(),r=null,o=null;(0,Qi.isNumber)(n)&&(0,Qi.isNumber)(s)&&(e=this._subView.visibleWindow.y(n*this._scalingFactor),t=this._subView.visibleWindow.y(s*this._scalingFactor),((0,Qi.between)(e,i[0],i[1])||(0,Qi.between)(t,i[0],i[1]))&&(r=Math.max(Math.min(e,t),i[0]),o=Math.min(Math.max(e,t),i[1]))),this._presentationModel.setPosition(r,o)}},Object.seal(Xc);const Jc=Object.seal(qc);var Qc=s.A.extend((function(){}),fa.default);Qc.CHANGED="CHANGED";var eh=Qc.prototype;eh._x1=null,eh._x2=null,eh.getX1=(0,y.getter)("_x1"),eh.getX2=(0,y.getter)("_x2"),eh.setPosition=function(e,t){this._x1=e,this._x2=t,this.fire(Qc.CHANGED)},Object.seal(eh);const th=Object.seal(Qc);var ih=s.A.extend((function(){}),fa.default);ih.CHANGED="CHANGED";var nh=ih.prototype;nh._yAxisWidth=null,nh._y1=null,nh._y2=null,nh.getYAxisWidth=(0,y.getter)("_yAxisWidth"),nh.setYAxisWidth=(0,y.setter)("_yAxisWidth"),nh.getY1=(0,y.getter)("_y1"),nh.getY2=(0,y.getter)("_y2"),nh.setPosition=function(e,t){this._y1=e,this._y2=t,this.fire(ih.CHANGED)},Object.seal(nh);const sh=Object.seal(ih);var rh=s.A.extend((function(){}),Zt.default),oh=rh.prototype;oh._dRect=null,oh.render=function(){var e=this._presentationModel.getX1(),t=this._presentationModel.getX2();(0,Qi.isNumber)(e)&&(0,Qi.isNumber)(t)?this._dRect.attrs({x:e,width:Math.max(t-e,1)}):this._dRect.attrs({x:0,width:0})},oh.startRedrawingBasedOnChangesInVisibleWindow=function(){this._dRect=this.dContainer.append("rect").attrs({x:0,y:0,width:0,height:18}).classed("xAxisShadow",!0),this._presentationModel.on(sh.CHANGED,this.renderOnFrameEnd,this),this.render()},oh.stopRedrawingBasedOnChangesInVisibleWindow=function(){this._dRect.remove(),this._dRect=null,this._presentationModel.un(null,this)},Object.seal(oh);const ah=Object.seal(rh);var lh=s.A.extend((function(){}),Zt.default),dh=lh.prototype;dh._dRect=null,dh.render=function(){var e=this._presentationModel.getY1(),t=this._presentationModel.getY2();(0,Qi.isNumber)(e)&&(0,Qi.isNumber)(t)?this._dRect.attrs({y:e,height:Math.max(t-e,1)}):this._dRect.attrs({y:0,height:0})},dh.startRedrawingBasedOnChangesInVisibleWindow=function(){this._dRect=this.dContainer.append("rect").attrs({x:-this._presentationModel.getYAxisWidth(),y:0,width:this._presentationModel.getYAxisWidth(),height:0}).classed("yAxisShadow",!0),this._presentationModel.on(sh.CHANGED,this.renderOnFrameEnd,this),this.render()},dh.stopRedrawingBasedOnChangesInVisibleWindow=function(){this._dRect.remove(),this._dRect=null,this._presentationModel.un(null,this)},Object.seal(dh);const uh=Object.seal(lh);var ch={};["prices","derivative","aroon","atr","awesome","bbw","bolpctb","chaikin","cci","dpo","dmi","kdj","macd","momentum","mfi","rci","roc","rsi","stdev","stochastic","volume","willr"].forEach((function(e){ch[e]={presentationControllers:{axisShadow:{type:Jc,presentationModel:{type:sh}}},renderers:{yAxisShadow:{type:uh,group:"yAxis",position:"yAxis",presentationController:"axisShadow",properties:{relativeWeighting:1}}}}})),ch.xaxis={presentationControllers:{axisShadow:{type:$c,presentationModel:{type:th}}},renderers:{xAxisShadow:{type:ah,group:"xAxis",position:"xAxis",presentationController:"axisShadow",properties:{relativeWeighting:1}}}};const hh=(0,A.recursiveFreeze)(ch);function ph(e,t,i,n,s,r,o){this._eventBus=e,this._model=Gc.create(),this._options=t}var _h=ph.prototype;_h._chartView=null,_h._eventBus=null,_h._model=null,_h._options=null,_h.getModel=(0,y.getter)("_model"),_h.getYAxisWidth=(0,y.getter)("_options","yAxisWidth"),_h.setPosition=function(e,t,i,n,s){var r,o=this._model.isSet();this._model.setPosition(e,t,i,n,s),r=this._model.isSet(),!o&&r?this._addRenderers():o&&!r&&this._removeRenderers()},_h.init=function(){this._eventBus.subscribe("chart/view/ready",this._handleChartViewReady,this)},_h.destroy=function(){this._eventBus.unsubscribeAll(this),this._removeRenderers(),this._chartView=null},_h._addRenderers=(0,y.delegate)("_chartView","addRenderersBySubviewConfig",hh),_h._removeRenderers=(0,y.delegate)("_chartView","removeRenderersBySubviewConfig",hh),_h._handleChartViewReady=(0,y.setter)("_chartView"),Object.seal(_h);const gh=Object.seal(ph);var fh=i(63472),mh=i(70522),vh=i(22177),Ah=i(9960),Eh=i(58522),Th="IG_DESKTOP_ANALYSIS";const Ih={flavour:Th,model:{restrictDuration:Du.RESTRICT_DURATION.SCREEN},view:{kinetic:!1,rightMargin:60,lastCandleToYAxisGap:32},modules:{troubleshooter:{type:mh.A,onByDefault:!0,options:{flavour:Th}},tracking:{type:Pc.Ay,onByDefault:!0,options:{standalone:!1}},reactUI:{type:vh.A,onByDefault:!0,options:{preferMobileFriendlyComponents:!1}},subViews:{type:bu,onByDefault:!0,options:{config:Li}},currentPoint:{type:V.A,onByDefault:!0,options:{pointerWidth:60,trailingLine:!0}},styles:{type:Ou,onByDefault:!0},resolutions:{type:Yd,onByDefault:!0,options:{keyboard:!0}},indicators:{type:Dd,onByDefault:!0,options:{indicators:pd.default,subViews:sl.get()}},drawings:{type:Il,onByDefault:!0,options:{editMenu:jl,toolbox:!0}},highLowStats:{type:zl.A,onByDefault:!0,options:{dailyStats:!1,visibleStats:!0}},tooltip:{type:Ac,onByDefault:!0,options:{yAxisWidth:60}},heikinAshiLabel:{type:Kl.A,onByDefault:!0,options:{marginLeft:23,marginTop:35}},indicatorLabels:{type:cd,onByDefault:!0},colourCustomisation:{type:x,onByDefault:!0},overview:{type:Bd.A,onByDefault:!0,options:{height:32,hoverMode:!0,marginLeft:16,marginRight:48,showCloseIcon:!0},settingsOptions:{template:{isVisibleByDefault:!0}}},dealingCommon:{type:G.default,onByDefault:!0,options:{isSDKOwned:!1},settingsOptions:{global:{isDealingActivatedByDefault:!0,isTradeConfirmsOnByDefault:!1}}},dealingPositionsAndOrders:{type:K.A,onByDefault:!0,options:{subViews:Pt.DesktopSubViewsConfig,priceWidth:60,enhancedDragging:!1}},dealingPreview:{type:z.A,onByDefault:!0,options:{editable:!0}},dealingEditButtons:{type:j.default,onByDefault:!0},dealingDialogs:{type:Ah.A,onByDefault:!0},dealingMenu:{type:Lt.A,onByDefault:!1},instrumentSwitcher:{type:wd.default,onByDefault:!0},turbos:{type:Nc.A,onByDefault:!0},warrants:{type:kc.default,onByDefault:!0},economicCalendar:{type:Pl,onByDefault:!0,options:{subViews:(0,n.merge)({},Nl.Ay,Nl.Ug)}},resizableStudyView:{type:Xd,onByDefault:!0},templatesDialogs:{type:Eh.A,onByDefault:!0},menuApi:{type:xd.default,onByDefault:!0,options:{excludeFromTopMenu:["desktopDealing"],menu:{type:h,properties:{xAxisHeight:30},subMenus:[{type:Rt.A,view:d,visibleByDefault:!1,group:1},{type:xl.A,view:d,group:1},{type:Cl.A,view:d,group:1},{type:Le,view:d,group:1},{type:Ot,view:d,group:2},{type:Gd.default,view:d,group:2},{type:Wd.A,view:d,group:2},{type:Su.default,view:d,group:3},{type:kd.A,view:d,group:4},{type:wt,view:d,group:5},{type:Eu,view:d,visibleByDefault:!1,group:6}]},topMenu:{type:B.default,subMenus:[{type:Hd.default},{type:fh.default},{type:Vl.default},{type:Ud.default,visibleByDefault:!1},{type:F,subMenus:[{type:xc.default,visibleByDefault:!1},{type:kl.default,visibleByDefault:!1},{type:Vc.default,visibleByDefault:!1}]},{type:Vd.default},{type:Hc.default,visibleByDefault:!1},{type:Nd.default}]}}},splitCharts:{type:Fd.A,onByDefault:!1},screenshots:{type:fu,onByDefault:!0,options:{logo:'<svg width="32" height="32" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg"><rect width="32" height="32" fill="#E01B1C"/><path fill-rule="evenodd" clip-rule="evenodd" d="M19.4449 7.32196C19.4168 7.32196 19.3893 7.32196 19.3612 7.32231C17.141 7.34195 15.0284 8.21201 13.4126 9.7722C11.7965 11.3325 10.855 13.4116 10.7617 15.6267C10.661 18.0132 11.5172 20.2772 13.1727 22.0015C14.8297 23.7275 17.0568 24.6779 19.4436 24.6779C21.8928 24.6779 24.414 23.6843 26.0341 22.0828V14.7373H19.1328V17.7973H22.9283V20.4896L22.8871 20.5165C21.9319 21.1454 20.6872 21.5519 19.4436 21.5519C17.9056 21.5519 16.4736 20.9363 15.4116 19.8188C14.3508 18.7025 13.8111 17.2407 13.892 15.7028C14.038 12.9179 16.3398 10.6133 19.1321 10.4563C20.6843 10.3669 22.1639 11.0024 23.3434 12.1321C23.3852 12.1722 23.4326 12.2224 23.4872 12.2844L25.7002 10.0742C25.6509 10.0209 25.6026 9.9695 25.5567 9.92167C23.9825 8.28178 21.8338 7.32196 19.4449 7.32196ZM5.96631 24.2672H9.15791V7.73267H5.96631V24.2672Z" fill="white"/></svg>'}},zoomButtons:{type:Bc.A,onByDefault:!0},latestCandleButton:{type:Pd,onByDefault:!0},toast:{type:Rc,onByDefault:!0},dateCue:{type:U.A,onByDefault:!0},hintTooltip:{type:Zl.A,onByDefault:!0},axisShadow:{type:gh,onByDefault:!0,options:{yAxisWidth:60}},watermark:{type:Wc.A,onByDefault:!0,settingsOptions:{global:{isVisibleByDefault:!1}}}}}},8653:(e,t,i)=>{"use strict";i.d(t,{A:()=>n});const n=(0,i(54859).recursiveFreeze)({STYLE:{SOLID:"solid",DASHED:"dashed",DOTTED:"dotted"},WIDTH:{NARROW:"narrow",MEDIUM:"medium",THICK:"thick"},REGEXP_COLOUR:/^#(?:([0-9a-f])\1\1|[0-9a-f]{6})$/i})},20199:(e,t,i)=>{"use strict";i.d(t,{A:()=>n});const n=(0,i(54859).recursiveFreeze)({GREY:{50:"#F5F6F7",100:"#EBEBED",200:"#D8D8DC",300:"#B0B0B8",400:"#9696A3",500:"#6C6C7A",600:"#46474F",700:"#37373F",800:"#262629",900:"#1A1A1E"},RED:{50:"#FBE1E1",100:"#F6B8B8",200:"#F08D8E",300:"#E95E5F",400:"#E43C3D",500:"#E01B1C",600:"#CB181A",700:"#B61516",800:"#9F1414",900:"#750E0E"},ORANGE:{50:"#FCE1D6",100:"#F9BBA3",200:"#F79772",300:"#F57544",400:"#F45D24",500:"#F34706",600:"#DD3A00",700:"#C93400",800:"#B22E00",900:"#832200"},YELLOW:{50:"#FEF4E1",100:"#FCE6B8",200:"#FAD68E",300:"#F8C55F",400:"#F6B93D",500:"#F5AD1C",600:"#DE9D25",700:"#C78C20",800:"#AE7A1A",900:"#805A11"},GREEN:{50:"#E5F3E5",100:"#C2E3C2",200:"#9CD29D",300:"#75BF75",400:"#57B159",500:"#3BA43B",600:"#349535",700:"#2E852F",800:"#267429",900:"#1D551E"},TEAL:{50:"#E4F2F3",100:"#BDE0E2",200:"#95CDD2",300:"#69B8BF",400:"#48A9B1",500:"#2E9BA3",600:"#228D95",700:"#1F7D85",800:"#1A6E74",900:"#145156"},BLUE:{50:"#E5EFF8",100:"#C1DAEF",200:"#9CC2E6",300:"#74AADB",400:"#5698D3",500:"#3987CC",600:"#337AB9",700:"#2E6DA5",800:"#285F91",900:"#1D466A"},PURPLE:{50:"#ECE9F0",100:"#D2CADC",200:"#B6AAC7",300:"#9887AF",400:"#826E9E",500:"#6D558E",600:"#634D81",700:"#584573",800:"#4D3C64",900:"#392C4A"}})},54842:(e,t,i)=>{"use strict";i.d(t,{A:()=>r});var n=i(43130),s=i(20199);const r=(0,i(54859).recursiveFreeze)((0,n.mapValues)(s.A,(function(e,t){return(0,n.pick)(e,[50,200,400,500,600,700,"GREY"===t||"ORANGE"===t?800:900])})))},27610:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>n});const n=new(i(95151).default)({de:{dialogTitle:"Stil",moreColours:"Weitere Farben",candlestickBodyUp:"Steigende Kerze",candlestickBodyDown:"Fallende Kerze",candlestickStrokeUp:"Umrandung",candlestickStrokeNoMovement:"Unverändert",candlestickStrokeDown:"Umrandung",hlocUp:"Steigend",hlocNoMovement:"Unverändert",hlocDown:"Fallend",line:"Linie",lineUp:"Steigend",lineNoMovement:"Unverändert",lineDown:"Fallend",mountainBody:"Füllfarbe",mountainStroke:"Linie",colour:"Farbauswahl",showGrid:"Raster anzeigen"},en:{dialogTitle:"Style",moreColours:"More colours",candlestickBodyUp:"Rising body",candlestickBodyDown:"Falling body",candlestickStrokeUp:"Line",candlestickStrokeNoMovement:"Unchanged",candlestickStrokeDown:"Line",hlocUp:"Rising",hlocNoMovement:"Unchanged",hlocDown:"Falling",line:"Line",lineUp:"Rising",lineNoMovement:"Unchanged",lineDown:"Falling",mountainBody:"Fill",mountainStroke:"Line",colour:"Colour",showGrid:"Show grid"},en_US:{moreColours:"More colors",colour:"Color"},es:{dialogTitle:"Estilo",moreColours:"Más colores",candlestickBodyUp:"Cuerpo ascendente",candlestickBodyDown:"Cuerpo descendente",candlestickStrokeUp:"Línea",candlestickStrokeNoMovement:"Sin variación",candlestickStrokeDown:"Línea",hlocUp:"Ascendente",hlocNoMovement:"Sin variación",hlocDown:"Descendente",line:"Línea",lineUp:"Ascendente",lineNoMovement:"Sin variación",lineDown:"Descendente",mountainBody:"Fondo",mountainStroke:"Línea",colour:"Color",showGrid:"Mostrar cuadrícula"},fr:{dialogTitle:"Style",moreColours:"Autres couleurs",candlestickBodyUp:"Corps haussier",candlestickBodyDown:"Corps baissier",candlestickStrokeUp:"Contour",candlestickStrokeNoMovement:"Inchangé",candlestickStrokeDown:"Contour",hlocUp:"Haussier",hlocNoMovement:"Inchangé",hlocDown:"Baissier",line:"Contour",lineUp:"Haussier",lineNoMovement:"Inchangé",lineDown:"Baissier",mountainBody:"Remplissage",mountainStroke:"Contour",colour:"Couleur",showGrid:"Afficher la grille"},it:{dialogTitle:"Stile",moreColours:"Altri colori",candlestickBodyUp:"Corpo rialzista",candlestickBodyDown:"Corpo ribassista",candlestickStrokeUp:"Linea",candlestickStrokeNoMovement:"Invariato",candlestickStrokeDown:"Linea",hlocUp:"Rialzista",hlocNoMovement:"Invariato",hlocDown:"Ribassista",line:"Linea",lineUp:"Rialzista",lineNoMovement:"Invariato",lineDown:"Ribassista",mountainBody:"Riempimento",mountainStroke:"Linea",colour:"Colore",showGrid:"Mostra griglia"},ja:{dialogTitle:"チャート種類",moreColours:"その他の色",candlestickBodyUp:"上昇（実体）",candlestickBodyDown:"下落（実体）",candlestickStrokeUp:"ライン",candlestickStrokeNoMovement:"変更なし",candlestickStrokeDown:"ライン",hlocUp:"上昇",hlocNoMovement:"変更なし",hlocDown:"下落",line:"ライン",lineUp:"上昇",lineNoMovement:"変更なし",lineDown:"下落",mountainBody:"塗りつぶし",mountainStroke:"ライン",colour:"色彩",showGrid:"グリッド表示"},nl:{dialogTitle:"Stijl",moreColours:"Meer kleuren",candlestickBodyUp:"Stijgend Kaars",candlestickBodyDown:"Dalend Kaars",candlestickStrokeUp:"Omlijning",candlestickStrokeNoMovement:"Niet veranderd",candlestickStrokeDown:"Omlijning",hlocUp:"Stijgend",hlocNoMovement:"Niet veranderd",hlocDown:"Dalend",line:"Omlijning",lineUp:"Stijgend",lineNoMovement:"Niet veranderd",lineDown:"Dalend",mountainBody:"Vullen",mountainStroke:"Linie",colour:"Kleur",showGrid:"Raster tonen"},nb:{dialogTitle:"Stil",moreColours:"Flere farger",candlestickBodyUp:"Stigende kropp",candlestickBodyDown:"Fallende kropp",candlestickStrokeUp:"Linje",candlestickStrokeNoMovement:"Uforandret",candlestickStrokeDown:"Linje",hlocUp:"Stigende",hlocNoMovement:"Uforandret",hlocDown:"Fallende",line:"Linje",lineUp:"Stigende",lineNoMovement:"Uforandret",lineDown:"Fallende",mountainBody:"Fyll",mountainStroke:"Linje",colour:"Farge",showGrid:"Vis rutenett"},pt:{dialogTitle:"Estilo",moreColours:"Outras cores",candlestickBodyUp:"Corpo ascendente",candlestickBodyDown:"Corpo descendente",candlestickStrokeUp:"Linha",candlestickStrokeNoMovement:"Sem alterações",candlestickStrokeDown:"Linha",hlocUp:"Ascendente",hlocNoMovement:"Sem alterações",hlocDown:"Descendente",line:"Linha",lineUp:"Ascendente",lineNoMovement:"Sem alterações",lineDown:"Descendente",mountainBody:"Preenchimento ",mountainStroke:"Linha",colour:"Cor",showGrid:"Mostrar grelha"},sv:{dialogTitle:"Stil",moreColours:"Fler färger",candlestickBodyUp:"Stigande candle",candlestickBodyDown:"Fallande candle",candlestickStrokeUp:"Linje",candlestickStrokeNoMovement:"Oförändrad",candlestickStrokeDown:"Linje",hlocUp:"Stigande",hlocNoMovement:"Oförändrad",hlocDown:"Fallande",line:"Linje",lineUp:"Stigande",lineNoMovement:"Oförändrad",lineDown:"Fallande",mountainBody:"Ifyllnad",mountainStroke:"Linje",colour:"Färg",showGrid:"Visa rutnät"},zh:{dialogTitle:"风格",moreColours:"更多颜色",candlestickBodyUp:"上升烛体",candlestickBodyDown:"下降烛体",candlestickStrokeUp:"填充",candlestickStrokeNoMovement:"未变更",candlestickStrokeDown:"填充",hlocUp:"上升",hlocNoMovement:"未变更",hlocDown:"下降",line:"填充",lineUp:"上升",lineNoMovement:"未变更",lineDown:"下降",mountainBody:"填充",mountainStroke:"填充",colour:"颜色",showGrid:"显示网格"},zh_TW:{dialogTitle:"風格",moreColours:"更多顏色",candlestickBodyUp:"上升燭體",candlestickBodyDown:"下降燭體",candlestickStrokeUp:"填充",candlestickStrokeNoMovement:"未變更",candlestickStrokeDown:"填充",hlocUp:"上升",hlocNoMovement:"未變更",hlocDown:"下降",line:"填充",lineUp:"上升",lineNoMovement:"未變更",lineDown:"下降",mountainBody:"填充",mountainStroke:"填充",colour:"顏色",showGrid:"顯示網格"}})},51058:(e,t,i)=>{"use strict";i.d(t,{A:()=>_});var n=i(43130),s=i(20199),r=i(8653),o=i(88045),a=i(10644),l=i(54859),d=i(17660);function u(e){return this[e]}function c(e,t,i){t(i)?(this[e]=i,this.modified=!0):o.default.warn("Invalid value provided for colour customisation setting")}function h(){return this.modified?this:void 0}var p={generateDefaults:function(){var e={default:p._generateLightDefaults(),dark:p._generateDarkDefaults()};return"ja_JP"===d.default.getInstance().getLocale()?(["default","dark"].forEach((function(t){e[t]=(0,n.assign)({},e[t]),e[t].candlestick=p._generateJapaneseCandlestickDefault(t),e[t].heikinashi=p._generateJapaneseCandlestickDefault(t),e[t].hloc=p._generateJapaneseHlocDefault(t)})),e.dark.indicators.RCI=p._generateJapaneseRCINavyDefault(),e.default=Object.freeze(e.default),e.dark=Object.freeze(e.dark)):"zh_CN"===d.default.getInstance().getLocale()&&["default","dark"].forEach((function(t){e[t]=(0,n.assign)({},e[t]),e[t].candlestick=p._generateChineseCandlestickDefault(t),e[t].heikinashi=p._generateChineseCandlestickDefault(t),e[t].hloc=p._generateChineseHlocDefault(t),e[t]=Object.freeze(e[t])})),e},_generateJapaneseRCINavyDefault:function(){return p.style({rankCorrelationIndex1:p.colouredStroke("#FF746F",r.A.STYLE.SOLID,r.A.WIDTH.NARROW),rankCorrelationIndex2:p.colouredStroke(s.A.YELLOW[500],r.A.STYLE.SOLID,r.A.WIDTH.NARROW),rankCorrelationIndex3:p.colouredStroke("#238AE5",r.A.STYLE.SOLID,r.A.WIDTH.NARROW),rankCorrelationIndex4:p.colouredStroke("#9CD29D",r.A.STYLE.SOLID,r.A.WIDTH.NARROW,!1),rankCorrelationIndex5:p.colouredStroke("#EFF0F2",r.A.STYLE.SOLID,r.A.WIDTH.NARROW,!1),rankCorrelationIndex6:p.colouredStroke("#70799E",r.A.STYLE.SOLID,r.A.WIDTH.NARROW,!1),rankCorrelationIndex7:p.colouredStroke("#FF4E53",r.A.STYLE.SOLID,r.A.WIDTH.NARROW,!1),rankCorrelationIndex8:p.colouredStroke("#7F6A9C",r.A.STYLE.SOLID,r.A.WIDTH.NARROW,!1)})},_generateJapaneseCandlestickDefault:function(e){var t="default"===e?s.A.GREY[800]:s.A.GREY[200];return p.style({up:{fill:p.colour(s.A.RED[500]),stroke:p.unstyledStroke(s.A.RED[500],r.A.WIDTH.NARROW)},noMovement:{stroke:p.unstyledStroke(t,r.A.WIDTH.NARROW)},down:{fill:p.colour(s.A.BLUE[500]),stroke:p.unstyledStroke(s.A.BLUE[500],r.A.WIDTH.NARROW)}})},_generateChineseCandlestickDefault:function(e){var t="default"===e?s.A.GREY[800]:s.A.GREY[200];return p.style({up:{fill:p.colour(s.A.RED[500]),stroke:p.unstyledStroke(s.A.RED[500],r.A.WIDTH.NARROW)},noMovement:{stroke:p.unstyledStroke(t,r.A.WIDTH.NARROW)},down:{fill:p.colour(s.A.GREEN[500]),stroke:p.unstyledStroke(s.A.GREEN[500],r.A.WIDTH.NARROW)}})},_generateJapaneseHlocDefault:function(e){var t="default"===e?s.A.GREY[800]:s.A.GREY[200];return p.style({up:p.unstyledStroke(s.A.RED[500],r.A.WIDTH.NARROW),noMovement:p.unstyledStroke(t,r.A.WIDTH.NARROW),down:p.unstyledStroke(s.A.BLUE[500],r.A.WIDTH.NARROW)})},_generateChineseHlocDefault:function(e){var t="default"===e?s.A.GREY[800]:s.A.GREY[200];return p.style({up:p.unstyledStroke(s.A.RED[500],r.A.WIDTH.NARROW),noMovement:p.unstyledStroke(t,r.A.WIDTH.NARROW),down:p.unstyledStroke(s.A.GREEN[500],r.A.WIDTH.NARROW)})},_generateLightDefaults:function(){var e={};return e.themeSettingsMode=a.THEME_SETTINGS_MODE.default,["candlestick","heikinashi"].forEach((function(t){e[t]=e.heikinashi=p.style({up:{fill:p.colour(s.A.GREEN[500]),stroke:p.unstyledStroke(s.A.GREEN[500],r.A.WIDTH.NARROW)},noMovement:{stroke:p.unstyledStroke(s.A.GREY[800],r.A.WIDTH.NARROW)},down:{fill:p.colour(s.A.RED[500]),stroke:p.unstyledStroke(s.A.RED[500],r.A.WIDTH.NARROW)}})})),e.hloc=p.style({up:p.unstyledStroke(s.A.GREEN[500],r.A.WIDTH.NARROW),noMovement:p.unstyledStroke(s.A.GREY[800],r.A.WIDTH.NARROW),down:p.unstyledStroke(s.A.RED[500],r.A.WIDTH.NARROW)}),e.line=p.style({up:p.colouredStroke(s.A.BLUE[400],r.A.STYLE.SOLID,r.A.WIDTH.NARROW),noMovement:p.colouredStroke(s.A.BLUE[400],r.A.STYLE.SOLID,r.A.WIDTH.NARROW),down:p.colouredStroke(s.A.BLUE[400],r.A.STYLE.SOLID,r.A.WIDTH.NARROW)}),e.mountain=p.style({fill:p.colour(s.A.BLUE[50]),line:p.colouredStroke(s.A.BLUE[400],r.A.STYLE.SOLID,r.A.WIDTH.NARROW)}),e.indicators={},e.indicators.DERIVATIVE=p.style({line:p.colouredStroke(s.A.BLUE[400],r.A.STYLE.SOLID,r.A.WIDTH.NARROW),fill:p.colour(s.A.BLUE[50])}),e.indicators.AROON=p.style({up:{line:p.colouredStroke(s.A.GREEN[500],r.A.STYLE.SOLID,r.A.WIDTH.NARROW),cloud:p.colour(s.A.GREEN[50])},down:{line:p.colouredStroke(s.A.RED[500],r.A.STYLE.SOLID,r.A.WIDTH.NARROW),cloud:p.colour(s.A.RED[50])}}),e.indicators.ATR=p.style({line:p.colouredStroke(s.A.BLUE[400],r.A.STYLE.SOLID,r.A.WIDTH.NARROW),fill:p.colour(s.A.BLUE[50])}),e.indicators.AWESOME=p.style({up:p.colour(s.A.GREEN[500]),down:p.colour(s.A.RED[500])}),e.indicators.BOL=p.style({positiveBand:p.colouredStroke(s.A.YELLOW[500],r.A.STYLE.SOLID,r.A.WIDTH.NARROW),movingAverageBand:p.colouredStroke(s.A.GREY[700],r.A.STYLE.SOLID,r.A.WIDTH.NARROW),negativeBand:p.colouredStroke(s.A.YELLOW[500],r.A.STYLE.SOLID,r.A.WIDTH.NARROW),fill:p.colour(s.A.YELLOW[50])}),e.indicators.BBW=p.style({line:p.colouredStroke(s.A.BLUE[400],r.A.STYLE.SOLID,r.A.WIDTH.NARROW),fill:p.colour(s.A.BLUE[50])}),e.indicators.BOLPCTB=p.style({line:p.stroke(r.A.STYLE.SOLID,r.A.WIDTH.NARROW),up:{lineColour:p.colour(s.A.RED[500]),fill:p.colour(s.A.RED[50])},down:{lineColour:p.colour(s.A.GREEN[500]),fill:p.colour(s.A.GREEN[50])}}),e.indicators.CHAIKIN=p.style({line:p.colouredStroke(s.A.BLUE[400],r.A.STYLE.SOLID,r.A.WIDTH.NARROW),fill:p.colour(s.A.BLUE[50])}),e.indicators.CCI=p.style({line:p.stroke(r.A.STYLE.SOLID,r.A.WIDTH.NARROW),up:{lineColour:p.colour(s.A.GREEN[500]),fill:p.colour(s.A.GREEN[50])},down:{lineColour:p.colour(s.A.RED[500]),fill:p.colour(s.A.RED[50])}}),e.indicators.DONCHIAN=p.style({up:p.colouredStroke(s.A.BLUE[500],r.A.STYLE.SOLID,r.A.WIDTH.NARROW),middle:p.colouredStroke(s.A.BLUE[800],r.A.STYLE.SOLID,r.A.WIDTH.NARROW),down:p.colouredStroke(s.A.BLUE[500],r.A.STYLE.SOLID,r.A.WIDTH.NARROW),fill:p.colour(s.A.BLUE[50])}),e.indicators.DPO=p.style({line:p.stroke(r.A.STYLE.SOLID,r.A.WIDTH.NARROW),up:{lineColour:p.colour(s.A.GREEN[500]),fill:p.colour(s.A.GREEN[50])},down:{lineColour:p.colour(s.A.RED[500]),fill:p.colour(s.A.RED[50])}}),e.indicators.DMI=p.style({diPlus:p.colouredStroke(s.A.GREEN[500],r.A.STYLE.SOLID,r.A.WIDTH.NARROW),adx:p.colouredStroke(s.A.GREY[800],r.A.STYLE.SOLID,r.A.WIDTH.NARROW),diMinus:p.colouredStroke(s.A.RED[500],r.A.STYLE.SOLID,r.A.WIDTH.NARROW),histogram:{up:p.colour(s.A.GREEN[500]),down:p.colour(s.A.RED[500])}}),e.indicators.EMA=p.style({ema1:p.colouredStroke(s.A.PURPLE[600],r.A.STYLE.SOLID,r.A.WIDTH.NARROW),ema2:p.colouredStroke(s.A.TEAL[500],r.A.STYLE.SOLID,r.A.WIDTH.NARROW),ema3:p.colouredStroke(s.A.YELLOW[700],r.A.STYLE.SOLID,r.A.WIDTH.NARROW),ema4:p.colouredStroke(s.A.GREY[400],r.A.STYLE.SOLID,r.A.WIDTH.NARROW,!1),ema5:p.colouredStroke(s.A.ORANGE[400],r.A.STYLE.SOLID,r.A.WIDTH.NARROW,!1),ema6:p.colouredStroke(s.A.GREEN[400],r.A.STYLE.SOLID,r.A.WIDTH.NARROW,!1),ema7:p.colouredStroke(s.A.BLUE[500],r.A.STYLE.SOLID,r.A.WIDTH.NARROW,!1),ema8:p.colouredStroke(s.A.PURPLE[400],r.A.STYLE.SOLID,r.A.WIDTH.NARROW,!1)}),e.indicators.EOM=p.style({line:p.colouredStroke(s.A.BLUE[400],r.A.STYLE.SOLID,r.A.WIDTH.NARROW),fill:p.colour(s.A.BLUE[50])}),e.indicators.ICHIMOKU=p.style({chikou:p.colouredStroke(s.A.PURPLE[600],r.A.STYLE.SOLID,r.A.WIDTH.NARROW),kijun:p.colouredStroke(s.A.BLUE[500],r.A.STYLE.SOLID,r.A.WIDTH.NARROW),tenkan:p.colouredStroke(s.A.BLUE[400],r.A.STYLE.SOLID,r.A.WIDTH.NARROW),spanA:p.colouredStroke(s.A.GREY[700],r.A.STYLE.SOLID,r.A.WIDTH.NARROW),cloudUp:p.colour(s.A.GREEN[50]),spanB:p.colouredStroke(s.A.GREY[600],r.A.STYLE.SOLID,r.A.WIDTH.NARROW),cloudDown:p.colour(s.A.RED[50])}),e.indicators.KDJ=p.style({stochasticK:p.colouredStroke(s.A.GREY[800],r.A.STYLE.SOLID,r.A.WIDTH.NARROW),stochasticD:p.colouredStroke(s.A.RED[500],r.A.STYLE.DASHED,r.A.WIDTH.NARROW),stochasticJ:p.colouredStroke(s.A.GREEN[500],r.A.STYLE.SOLID,r.A.WIDTH.NARROW)}),e.indicators.KELTNER=p.style({up:p.colouredStroke(s.A.PURPLE[600],r.A.STYLE.SOLID,r.A.WIDTH.NARROW),middle:p.colouredStroke(s.A.PURPLE[800],r.A.STYLE.SOLID,r.A.WIDTH.NARROW),down:p.colouredStroke(s.A.PURPLE[600],r.A.STYLE.SOLID,r.A.WIDTH.NARROW),fill:p.colour(s.A.PURPLE[50])}),e.indicators.MACD=p.style({macd:p.colouredStroke(s.A.BLUE[400],r.A.STYLE.SOLID,r.A.WIDTH.NARROW),signal:p.colouredStroke(s.A.RED[400],r.A.STYLE.SOLID,r.A.WIDTH.NARROW),histogram:{up:p.colour(s.A.GREEN[500]),down:p.colour(s.A.RED[500])}}),e.indicators.MOMENTUM=p.style({line:p.stroke(r.A.STYLE.SOLID,r.A.WIDTH.NARROW),up:{lineColour:p.colour(s.A.GREEN[500]),fill:p.colour(s.A.GREEN[50])},down:{lineColour:p.colour(s.A.RED[500]),fill:p.colour(s.A.RED[50])}}),e.indicators.MFI=p.style({line:p.stroke(r.A.STYLE.SOLID,r.A.WIDTH.NARROW),up:{lineColour:p.colour(s.A.RED[500]),fill:p.colour(s.A.RED[50])},down:{lineColour:p.colour(s.A.GREEN[500]),fill:p.colour(s.A.GREEN[50])}}),e.indicators.MVAVG=p.style({movingAverage1:p.colouredStroke(s.A.GREEN[400],r.A.STYLE.SOLID,r.A.WIDTH.NARROW),movingAverage2:p.colouredStroke(s.A.GREY[800],r.A.STYLE.SOLID,r.A.WIDTH.NARROW),movingAverage3:p.colouredStroke(s.A.RED[400],r.A.STYLE.SOLID,r.A.WIDTH.NARROW),movingAverage4:p.colouredStroke(s.A.YELLOW[500],r.A.STYLE.SOLID,r.A.WIDTH.NARROW,!1),movingAverage5:p.colouredStroke(s.A.BLUE[500],r.A.STYLE.SOLID,r.A.WIDTH.NARROW,!1),movingAverage6:p.colouredStroke(s.A.GREY[500],r.A.STYLE.SOLID,r.A.WIDTH.NARROW,!1),movingAverage7:p.colouredStroke(s.A.ORANGE[500],r.A.STYLE.SOLID,r.A.WIDTH.NARROW,!1),movingAverage8:p.colouredStroke(s.A.PURPLE[400],r.A.STYLE.SOLID,r.A.WIDTH.NARROW,!1)}),e.indicators.SAR=p.style({up:p.colour(s.A.GREEN[400]),down:p.colour(s.A.RED[400])}),e.indicators.PIVOT=p.style({r3:p.colouredStroke(s.A.RED[400],r.A.STYLE.SOLID,r.A.WIDTH.MEDIUM),r2:p.colouredStroke(s.A.RED[400],r.A.STYLE.DASHED,r.A.WIDTH.MEDIUM),r1:p.colouredStroke(s.A.RED[400],r.A.STYLE.DASHED,r.A.WIDTH.NARROW),pivot:p.colouredStroke(s.A.GREY[700],r.A.STYLE.DASHED,r.A.WIDTH.NARROW),s1:p.colouredStroke(s.A.GREEN[400],r.A.STYLE.DASHED,r.A.WIDTH.NARROW),s2:p.colouredStroke(s.A.GREEN[400],r.A.STYLE.DASHED,r.A.WIDTH.MEDIUM),s3:p.colouredStroke(s.A.GREEN[400],r.A.STYLE.SOLID,r.A.WIDTH.MEDIUM)}),e.indicators.RCI=p.style({rankCorrelationIndex1:p.colouredStroke(s.A.RED[500],r.A.STYLE.SOLID,r.A.WIDTH.NARROW),rankCorrelationIndex2:p.colouredStroke(s.A.YELLOW[500],r.A.STYLE.SOLID,r.A.WIDTH.NARROW),rankCorrelationIndex3:p.colouredStroke(s.A.BLUE[500],r.A.STYLE.SOLID,r.A.WIDTH.NARROW),rankCorrelationIndex4:p.colouredStroke(s.A.GREEN[500],r.A.STYLE.SOLID,r.A.WIDTH.NARROW,!1),rankCorrelationIndex5:p.colouredStroke("#11203E",r.A.STYLE.SOLID,r.A.WIDTH.NARROW,!1),rankCorrelationIndex6:p.colouredStroke(s.A.GREY[400],r.A.STYLE.SOLID,r.A.WIDTH.NARROW,!1),rankCorrelationIndex7:p.colouredStroke("#FF514B",r.A.STYLE.SOLID,r.A.WIDTH.NARROW,!1),rankCorrelationIndex8:p.colouredStroke("#7F6A9C",r.A.STYLE.SOLID,r.A.WIDTH.NARROW,!1)}),e.indicators.ROC=p.style({line:p.stroke(r.A.STYLE.SOLID,r.A.WIDTH.NARROW),up:{lineColour:p.colour(s.A.GREEN[500]),fill:p.colour(s.A.GREEN[50])},down:{lineColour:p.colour(s.A.RED[500]),fill:p.colour(s.A.RED[50])}}),e.indicators.RSI=p.style({line:p.stroke(r.A.STYLE.SOLID,r.A.WIDTH.NARROW),up:{lineColour:p.colour(s.A.RED[500]),fill:p.colour(s.A.RED[50])},down:{lineColour:p.colour(s.A.GREEN[500]),fill:p.colour(s.A.GREEN[50])}}),e.indicators.STDEV=p.style({line:p.colouredStroke(s.A.BLUE[400],r.A.STYLE.SOLID,r.A.WIDTH.NARROW),fill:p.colour(s.A.BLUE[50])}),e.indicators.STOCH=p.style({stochasticK:p.colouredStroke(s.A.GREY[800],r.A.STYLE.SOLID,r.A.WIDTH.NARROW),stochasticD:p.colouredStroke(s.A.RED[500],r.A.STYLE.DASHED,r.A.WIDTH.NARROW)}),e.indicators.SUPERTREND=p.style({up:p.colouredStroke(s.A.GREEN[500],r.A.STYLE.SOLID,r.A.WIDTH.NARROW),down:p.colouredStroke(s.A.RED[500],r.A.STYLE.SOLID,r.A.WIDTH.NARROW)}),e.indicators.VOLUME=p.style({up:p.colour(s.A.GREEN[500]),fill:p.colour(s.A.GREY[800]),down:p.colour(s.A.RED[500])}),e.indicators.WMA=p.style({wma1:p.colouredStroke(s.A.BLUE[200],r.A.STYLE.SOLID,r.A.WIDTH.NARROW),wma2:p.colouredStroke(s.A.BLUE[500],r.A.STYLE.SOLID,r.A.WIDTH.NARROW),wma3:p.colouredStroke(s.A.BLUE[800],r.A.STYLE.SOLID,r.A.WIDTH.NARROW),wma4:p.colouredStroke(s.A.YELLOW[600],r.A.STYLE.SOLID,r.A.WIDTH.NARROW,!1),wma5:p.colouredStroke(s.A.GREY[600],r.A.STYLE.SOLID,r.A.WIDTH.NARROW,!1),wma6:p.colouredStroke(s.A.GREEN[600],r.A.STYLE.SOLID,r.A.WIDTH.NARROW,!1),wma7:p.colouredStroke(s.A.TEAL[400],r.A.STYLE.SOLID,r.A.WIDTH.NARROW,!1),wma8:p.colouredStroke(s.A.RED[600],r.A.STYLE.SOLID,r.A.WIDTH.NARROW,!1)}),e.indicators.VWAP=p.style({line:p.colouredStroke("#A1CBD1",r.A.STYLE.SOLID,r.A.WIDTH.NARROW)}),e.indicators.VWMA=p.style({vwma1:p.colouredStroke(s.A.TEAL[200],r.A.STYLE.SOLID,r.A.WIDTH.NARROW),vwma2:p.colouredStroke(s.A.BLUE[500],r.A.STYLE.SOLID,r.A.WIDTH.NARROW),vwma3:p.colouredStroke(s.A.TEAL[800],r.A.STYLE.SOLID,r.A.WIDTH.NARROW),vwma4:p.colouredStroke(s.A.RED[700],r.A.STYLE.SOLID,r.A.WIDTH.NARROW,!1),vwma5:p.colouredStroke(s.A.BLUE[700],r.A.STYLE.SOLID,r.A.WIDTH.NARROW,!1),vwma6:p.colouredStroke(s.A.YELLOW[700],r.A.STYLE.SOLID,r.A.WIDTH.NARROW,!1),vwma7:p.colouredStroke(s.A.GREY[400],r.A.STYLE.SOLID,r.A.WIDTH.NARROW,!1),vwma8:p.colouredStroke(s.A.PURPLE[600],r.A.STYLE.SOLID,r.A.WIDTH.NARROW,!1)}),e.indicators.WILLR=p.style({line:p.stroke(r.A.STYLE.SOLID,r.A.WIDTH.NARROW),up:{lineColour:p.colour(s.A.RED[500]),fill:p.colour(s.A.RED[50])},down:{lineColour:p.colour(s.A.GREEN[500]),fill:p.colour(s.A.GREEN[50])}}),Object.seal(e.indicators),Object.freeze(e)},_generateDarkDefaults:function(){var e=(0,n.assign)({},p._generateLightDefaults());return e.themeSettingsMode=a.THEME_SETTINGS_MODE.dark,["candlestick","heikinashi"].forEach((function(t){e[t]=p.style({up:{fill:p.colour(s.A.GREEN[500]),stroke:p.unstyledStroke(s.A.GREEN[500],r.A.WIDTH.NARROW)},noMovement:{stroke:p.unstyledStroke(s.A.GREY[200],r.A.WIDTH.NARROW)},down:{fill:p.colour(s.A.RED[500]),stroke:p.unstyledStroke(s.A.RED[500],r.A.WIDTH.NARROW)}})})),e.hloc=p.style({up:p.unstyledStroke(s.A.GREEN[500],r.A.WIDTH.NARROW),noMovement:p.unstyledStroke(s.A.GREY[200],r.A.WIDTH.NARROW),down:p.unstyledStroke(s.A.RED[500],r.A.WIDTH.NARROW)}),e.line=p.style({up:p.colouredStroke(s.A.BLUE[400],r.A.STYLE.SOLID,r.A.WIDTH.NARROW),noMovement:p.colouredStroke(s.A.BLUE[400],r.A.STYLE.SOLID,r.A.WIDTH.NARROW),down:p.colouredStroke(s.A.BLUE[400],r.A.STYLE.SOLID,r.A.WIDTH.NARROW)}),e.mountain=p.style({fill:p.colour(s.A.BLUE[500]),line:p.colouredStroke(s.A.BLUE[400],r.A.STYLE.SOLID,r.A.WIDTH.NARROW)}),e.indicators.DERIVATIVE=p.style({line:p.colouredStroke(s.A.BLUE[400],r.A.STYLE.SOLID,r.A.WIDTH.NARROW),fill:p.colour(s.A.BLUE[500])}),e.indicators.AROON=p.style({up:{line:p.colouredStroke(s.A.GREEN[500],r.A.STYLE.SOLID,r.A.WIDTH.NARROW),cloud:p.colour(s.A.GREEN[400])},down:{line:p.colouredStroke(s.A.RED[500],r.A.STYLE.SOLID,r.A.WIDTH.NARROW),cloud:p.colour(s.A.RED[400])}}),e.indicators.ATR=p.style({line:p.colouredStroke(s.A.BLUE[400],r.A.STYLE.SOLID,r.A.WIDTH.NARROW),fill:p.colour(s.A.BLUE[500])}),e.indicators.AWESOME=p.style({up:p.colour(s.A.GREEN[500]),down:p.colour(s.A.RED[500])}),e.indicators.BOL=p.style({positiveBand:p.colouredStroke(s.A.YELLOW[500],r.A.STYLE.SOLID,r.A.WIDTH.NARROW),movingAverageBand:p.colouredStroke(s.A.GREY[200],r.A.STYLE.SOLID,r.A.WIDTH.NARROW),negativeBand:p.colouredStroke(s.A.YELLOW[500],r.A.STYLE.SOLID,r.A.WIDTH.NARROW),fill:p.colour(s.A.YELLOW[500])}),e.indicators.BBW=p.style({line:p.colouredStroke(s.A.BLUE[400],r.A.STYLE.SOLID,r.A.WIDTH.NARROW),fill:p.colour(s.A.BLUE[500])}),e.indicators.BOLPCTB=p.style({line:p.stroke(r.A.STYLE.SOLID,r.A.WIDTH.NARROW),up:{lineColour:p.colour(s.A.RED[500]),fill:p.colour(s.A.RED[400])},down:{lineColour:p.colour(s.A.GREEN[500]),fill:p.colour(s.A.GREEN[400])}}),e.indicators.CHAIKIN=p.style({line:p.colouredStroke(s.A.BLUE[400],r.A.STYLE.SOLID,r.A.WIDTH.NARROW),fill:p.colour(s.A.BLUE[500])}),e.indicators.CCI=p.style({line:p.stroke(r.A.STYLE.SOLID,r.A.WIDTH.NARROW),up:{lineColour:p.colour(s.A.GREEN[500]),fill:p.colour(s.A.GREEN[400])},down:{lineColour:p.colour(s.A.RED[500]),fill:p.colour(s.A.RED[400])}}),e.indicators.DONCHIAN=p.style({up:p.colouredStroke(s.A.BLUE[500],r.A.STYLE.SOLID,r.A.WIDTH.NARROW),middle:p.colouredStroke(s.A.BLUE[800],r.A.STYLE.SOLID,r.A.WIDTH.NARROW),down:p.colouredStroke(s.A.BLUE[500],r.A.STYLE.SOLID,r.A.WIDTH.NARROW),fill:p.colour(s.A.BLUE[500])}),e.indicators.DPO=p.style({line:p.stroke(r.A.STYLE.SOLID,r.A.WIDTH.NARROW),up:{lineColour:p.colour(s.A.GREEN[500]),fill:p.colour(s.A.GREEN[400])},down:{lineColour:p.colour(s.A.RED[500]),fill:p.colour(s.A.RED[400])}}),e.indicators.DMI=p.style({diPlus:p.colouredStroke(s.A.GREEN[500],r.A.STYLE.SOLID,r.A.WIDTH.NARROW),adx:p.colouredStroke(s.A.GREY[200],r.A.STYLE.SOLID,r.A.WIDTH.NARROW),diMinus:p.colouredStroke(s.A.RED[500],r.A.STYLE.SOLID,r.A.WIDTH.NARROW),histogram:{up:p.colour(s.A.GREEN[500]),down:p.colour(s.A.RED[500])}}),e.indicators.EMA=p.style({ema1:p.colouredStroke(s.A.PURPLE[400],r.A.STYLE.SOLID,r.A.WIDTH.NARROW),ema2:p.colouredStroke(s.A.TEAL[400],r.A.STYLE.SOLID,r.A.WIDTH.NARROW),ema3:p.colouredStroke(s.A.YELLOW[700],r.A.STYLE.SOLID,r.A.WIDTH.NARROW),ema4:p.colouredStroke(s.A.GREY[400],r.A.STYLE.SOLID,r.A.WIDTH.NARROW,!1),ema5:p.colouredStroke(s.A.ORANGE[400],r.A.STYLE.SOLID,r.A.WIDTH.NARROW,!1),ema6:p.colouredStroke(s.A.GREEN[400],r.A.STYLE.SOLID,r.A.WIDTH.NARROW,!1),ema7:p.colouredStroke(s.A.BLUE[500],r.A.STYLE.SOLID,r.A.WIDTH.NARROW,!1),ema8:p.colouredStroke(s.A.PURPLE[200],r.A.STYLE.SOLID,r.A.WIDTH.NARROW,!1)}),e.indicators.EOM=p.style({line:p.colouredStroke(s.A.BLUE[400],r.A.STYLE.SOLID,r.A.WIDTH.NARROW),fill:p.colour(s.A.BLUE[500])}),e.indicators.ICHIMOKU=p.style({chikou:p.colouredStroke(s.A.PURPLE[400],r.A.STYLE.SOLID,r.A.WIDTH.NARROW),kijun:p.colouredStroke(s.A.BLUE[500],r.A.STYLE.SOLID,r.A.WIDTH.NARROW),tenkan:p.colouredStroke(s.A.BLUE[400],r.A.STYLE.SOLID,r.A.WIDTH.NARROW),spanA:p.colouredStroke(s.A.GREY[200],r.A.STYLE.SOLID,r.A.WIDTH.NARROW),cloudUp:p.colour(s.A.GREEN[400]),spanB:p.colouredStroke(s.A.GREY[400],r.A.STYLE.SOLID,r.A.WIDTH.NARROW),cloudDown:p.colour(s.A.RED[400])}),e.indicators.KDJ=p.style({stochasticK:p.colouredStroke(s.A.GREY[200],r.A.STYLE.SOLID,r.A.WIDTH.NARROW),stochasticD:p.colouredStroke(s.A.RED[500],r.A.STYLE.DASHED,r.A.WIDTH.NARROW),stochasticJ:p.colouredStroke(s.A.GREEN[500],r.A.STYLE.SOLID,r.A.WIDTH.NARROW)}),e.indicators.KELTNER=p.style({up:p.colouredStroke(s.A.PURPLE[400],r.A.STYLE.SOLID,r.A.WIDTH.NARROW),middle:p.colouredStroke(s.A.PURPLE[500],r.A.STYLE.SOLID,r.A.WIDTH.NARROW),down:p.colouredStroke(s.A.PURPLE[400],r.A.STYLE.SOLID,r.A.WIDTH.NARROW),fill:p.colour(s.A.PURPLE[500])}),e.indicators.MACD=p.style({macd:p.colouredStroke(s.A.BLUE[400],r.A.STYLE.SOLID,r.A.WIDTH.NARROW),signal:p.colouredStroke(s.A.RED[400],r.A.STYLE.SOLID,r.A.WIDTH.NARROW),histogram:{up:p.colour(s.A.GREEN[500]),down:p.colour(s.A.RED[500])}}),e.indicators.MOMENTUM=p.style({line:p.stroke(r.A.STYLE.SOLID,r.A.WIDTH.NARROW),up:{lineColour:p.colour(s.A.GREEN[500]),fill:p.colour(s.A.GREEN[400])},down:{lineColour:p.colour(s.A.RED[500]),fill:p.colour(s.A.RED[400])}}),e.indicators.MFI=p.style({line:p.stroke(r.A.STYLE.SOLID,r.A.WIDTH.NARROW),up:{lineColour:p.colour(s.A.RED[500]),fill:p.colour(s.A.RED[400])},down:{lineColour:p.colour(s.A.GREEN[500]),fill:p.colour(s.A.GREEN[400])}}),e.indicators.MVAVG=p.style({movingAverage1:p.colouredStroke(s.A.GREEN[200],r.A.STYLE.SOLID,r.A.WIDTH.NARROW),movingAverage2:p.colouredStroke(s.A.GREY[200],r.A.STYLE.SOLID,r.A.WIDTH.NARROW),movingAverage3:p.colouredStroke(s.A.RED[200],r.A.STYLE.SOLID,r.A.WIDTH.NARROW),movingAverage4:p.colouredStroke(s.A.YELLOW[500],r.A.STYLE.SOLID,r.A.WIDTH.NARROW,!1),movingAverage5:p.colouredStroke(s.A.BLUE[500],r.A.STYLE.SOLID,r.A.WIDTH.NARROW,!1),movingAverage6:p.colouredStroke(s.A.GREY[500],r.A.STYLE.SOLID,r.A.WIDTH.NARROW,!1),movingAverage7:p.colouredStroke(s.A.ORANGE[500],r.A.STYLE.SOLID,r.A.WIDTH.NARROW,!1),movingAverage8:p.colouredStroke(s.A.PURPLE[500],r.A.STYLE.SOLID,r.A.WIDTH.NARROW,!1)}),e.indicators.SAR=p.style({up:p.colour(s.A.GREEN[400]),down:p.colour(s.A.RED[400])}),e.indicators.PIVOT=p.style({r3:p.colouredStroke(s.A.RED[400],r.A.STYLE.SOLID,r.A.WIDTH.MEDIUM),r2:p.colouredStroke(s.A.RED[400],r.A.STYLE.DASHED,r.A.WIDTH.MEDIUM),r1:p.colouredStroke(s.A.RED[400],r.A.STYLE.DASHED,r.A.WIDTH.NARROW),pivot:p.colouredStroke(s.A.GREY[200],r.A.STYLE.DASHED,r.A.WIDTH.NARROW),s1:p.colouredStroke(s.A.GREEN[400],r.A.STYLE.DASHED,r.A.WIDTH.NARROW),s2:p.colouredStroke(s.A.GREEN[400],r.A.STYLE.DASHED,r.A.WIDTH.MEDIUM),s3:p.colouredStroke(s.A.GREEN[400],r.A.STYLE.SOLID,r.A.WIDTH.MEDIUM)}),e.indicators.RCI=p.style({rankCorrelationIndex1:p.colouredStroke("#FF4E53",r.A.STYLE.SOLID,r.A.WIDTH.NARROW),rankCorrelationIndex2:p.colouredStroke(s.A.YELLOW[500],r.A.STYLE.SOLID,r.A.WIDTH.NARROW),rankCorrelationIndex3:p.colouredStroke("#0689FE",r.A.STYLE.SOLID,r.A.WIDTH.NARROW),rankCorrelationIndex4:p.colouredStroke("#54AC55",r.A.STYLE.SOLID,r.A.WIDTH.NARROW,!1),rankCorrelationIndex5:p.colouredStroke("#F0F5F6",r.A.STYLE.SOLID,r.A.WIDTH.NARROW,!1),rankCorrelationIndex6:p.colouredStroke("#6A7787",r.A.STYLE.SOLID,r.A.WIDTH.NARROW,!1),rankCorrelationIndex7:p.colouredStroke("#FF4E53",r.A.STYLE.SOLID,r.A.WIDTH.NARROW,!1),rankCorrelationIndex8:p.colouredStroke("#7F6A9C",r.A.STYLE.SOLID,r.A.WIDTH.NARROW,!1)}),e.indicators.ROC=p.style({line:p.stroke(r.A.STYLE.SOLID,r.A.WIDTH.NARROW),up:{lineColour:p.colour(s.A.GREEN[500]),fill:p.colour(s.A.GREEN[400])},down:{lineColour:p.colour(s.A.RED[500]),fill:p.colour(s.A.RED[400])}}),e.indicators.RSI=p.style({line:p.stroke(r.A.STYLE.SOLID,r.A.WIDTH.NARROW),up:{lineColour:p.colour(s.A.RED[500]),fill:p.colour(s.A.RED[400])},down:{lineColour:p.colour(s.A.GREEN[500]),fill:p.colour(s.A.GREEN[400])}}),e.indicators.STDEV=p.style({line:p.colouredStroke(s.A.BLUE[400],r.A.STYLE.SOLID,r.A.WIDTH.NARROW),fill:p.colour(s.A.BLUE[500])}),e.indicators.STOCH=p.style({stochasticK:p.colouredStroke(s.A.GREY[200],r.A.STYLE.SOLID,r.A.WIDTH.NARROW),stochasticD:p.colouredStroke(s.A.RED[500],r.A.STYLE.DASHED,r.A.WIDTH.NARROW)}),e.indicators.SUPERTREND=p.style({up:p.colouredStroke(s.A.GREEN[500],r.A.STYLE.SOLID,r.A.WIDTH.NARROW),down:p.colouredStroke(s.A.RED[500],r.A.STYLE.SOLID,r.A.WIDTH.NARROW)}),e.indicators.VOLUME=p.style({up:p.colour(s.A.GREEN[500]),fill:p.colour(s.A.GREY[200]),down:p.colour(s.A.RED[500])}),e.indicators.WMA=p.style({wma1:p.colouredStroke(s.A.BLUE[200],r.A.STYLE.SOLID,r.A.WIDTH.NARROW),wma2:p.colouredStroke(s.A.BLUE[500],r.A.STYLE.SOLID,r.A.WIDTH.NARROW),wma3:p.colouredStroke(s.A.BLUE[800],r.A.STYLE.SOLID,r.A.WIDTH.NARROW),wma4:p.colouredStroke(s.A.YELLOW[600],r.A.STYLE.SOLID,r.A.WIDTH.NARROW,!1),wma5:p.colouredStroke(s.A.GREY[600],r.A.STYLE.SOLID,r.A.WIDTH.NARROW,!1),wma6:p.colouredStroke(s.A.GREEN[600],r.A.STYLE.SOLID,r.A.WIDTH.NARROW,!1),wma7:p.colouredStroke(s.A.TEAL[400],r.A.STYLE.SOLID,r.A.WIDTH.NARROW,!1),wma8:p.colouredStroke(s.A.ORANGE[600],r.A.STYLE.SOLID,r.A.WIDTH.NARROW,!1)}),e.indicators.VWAP=p.style({line:p.colouredStroke("#A1CBD1",r.A.STYLE.SOLID,r.A.WIDTH.NARROW)}),e.indicators.VWMA=p.style({vwma1:p.colouredStroke(s.A.TEAL[200],r.A.STYLE.SOLID,r.A.WIDTH.NARROW),vwma2:p.colouredStroke(s.A.BLUE[500],r.A.STYLE.SOLID,r.A.WIDTH.NARROW),vwma3:p.colouredStroke(s.A.TEAL[800],r.A.STYLE.SOLID,r.A.WIDTH.NARROW),vwma4:p.colouredStroke(s.A.RED[700],r.A.STYLE.SOLID,r.A.WIDTH.NARROW,!1),vwma5:p.colouredStroke(s.A.BLUE[700],r.A.STYLE.SOLID,r.A.WIDTH.NARROW,!1),vwma6:p.colouredStroke(s.A.YELLOW[700],r.A.STYLE.SOLID,r.A.WIDTH.NARROW,!1),vwma7:p.colouredStroke(s.A.GREY[400],r.A.STYLE.SOLID,r.A.WIDTH.NARROW,!1),vwma8:p.colouredStroke(s.A.PURPLE[600],r.A.STYLE.SOLID,r.A.WIDTH.NARROW,!1)}),e.indicators.WILLR=p.style({line:p.stroke(r.A.STYLE.SOLID,r.A.WIDTH.NARROW),up:{lineColour:p.colour(s.A.RED[500]),fill:p.colour(s.A.RED[400])},down:{lineColour:p.colour(s.A.GREEN[500]),fill:p.colour(s.A.GREEN[400])}}),Object.freeze(e)},resetToDefaults:function(e,t,i){var n=p.generateDefaults()[i];t.forEach((function(e){n=n[e]})),(0,l.merge)(e,n,!0),e.modified=!1},colour:function(e){return{colour:e,isVisible:!0}},stroke:function(e,t){return{style:e,width:t,isVisible:!0}},unstyledStroke:function(e,t){return{colour:e,width:t,isVisible:!0}},colouredStroke:function(e,t,i,n){return{colour:e,style:t,width:i,isVisible:n=void 0===n||n}},style:function(e){var t,i={},n={},s=[];for(t in s.counter=0,s.modified=!1,e)n[t]=p._createPropDescriptor(e[t],s);return n.modified={configurable:!1,enumerable:!1,get:u.bind(s,"modified"),set:function(e){s.modified=!!e}},n.toJSON={configurable:!1,enumerable:!1,writable:!1,value:h},Object.defineProperties(i,n),Object.seal(i)},_createPropDescriptor:function(e,t){var i,s,r;if((0,l.isLiteral)(e)){for(r in e)Object.defineProperty(e,r,p._createPropDescriptor(e[r],t));return{configurable:!1,enumerable:!0,writable:!1,value:e}}return i=p._filterColour(e)?p._filterColour:p._filterStyle(e)?p._filterStyle:p._filterWidth(e)?p._filterWidth:p._filterVisibility(e)?p._filterVisibility:(0,n.constant)(!1),t[t.counter]=e,s={configurable:!1,enumerable:!0,get:u.bind(t,t.counter),set:c.bind(t,t.counter,i)},t.counter+=1,s},_filterColour:function(e){return!(null!==e&&!r.A.REGEXP_COLOUR.test(e))},_filterStyle:function(e){return e===r.A.STYLE.SOLID||e===r.A.STYLE.DASHED||e===r.A.STYLE.DOTTED},_filterWidth:function(e){return e===r.A.WIDTH.NARROW||e===r.A.WIDTH.MEDIUM||e===r.A.WIDTH.THICK},_filterVisibility:function(e){return"boolean"==typeof e}};const _=Object.seal(p)},77143:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>G});var n=i(47292),s=i(43130),r=i(12990),o=i(8653);function a(e,t,i,n,s,r){this.r=e,this.g=t,this.b=i,this.h=n,this.s=s,this.v=r}a.createFromHSV=function(e,t,i){var n,s,r,o,l,d=e%360/60;return n=s=r=i-(l=i*t),n+=[l,o=l*(1-Math.abs(d%2-1)),0,0,o,l][d=~~d],s+=[o,l,l,o,0,0][d],r+=[0,0,o,l,l,o][d],new a(Math.round(255*n),Math.round(255*s),Math.round(255*r),e,t,i)},a.createFromRGB=function(e,t,i){var n,s,r=e,o=t,l=i;return(e>1||t>1||i>1)&&(r/=255,o/=255,l/=255),new a(e,t,i,(0===(s=(n=Math.max(r,o,l))-Math.min(r,o,l))?null:n===r?(o-l)/s+(o<l?6:0):n===o?(l-r)/s+2:(r-o)/s+4)%6*60,0===s?0:s/n,n)},a.createFromHex=function(e){if(!o.A.REGEXP_COLOUR.test(e))throw new Error(e+" is not a valid colour hex code.");return 3===(e=e.slice(1)).length&&(e+=e),a.createFromRGB(parseInt(e.slice(0,2),16),parseInt(e.slice(2,4),16),parseInt(e.slice(4,6),16))};var l=a.prototype;l.r=null,l.g=null,l.b=null,l.h=null,l.s=null,l.v=null,l.toHex=function(){return"#"+(16777216|this.b|this.g<<8|this.r<<16).toString(16).slice(1).toUpperCase()},l.toString=function(){return"rgb("+[this.r,this.g,this.b].join(", ")+")"},Object.seal(l);const d=Object.seal(a);var u=i(20481);var c=i(50547),h=i(14978),p=i(50951),_=i(9525),g=i(73142),f=i(98760),m=i(10520);function v(e,t){this._captureZoneManager=e,this._colourSelected=t||d.createFromHSV(0,1,1),this._scaleHue=(0,u.A)().clamp(!0),this._scaleSaturation=(0,u.A)().clamp(!0),this._scaleValue=(0,u.A)().clamp(!0),this.updateCaptureZones=_.schedule.throttledDeferred(this.updateCaptureZones)}v.create=function(e,t){return new v(e,t)};var A=v.prototype;A._captureZoneManager=null,A._colourSelected=null,A._dHueIndicator=null,A._dHueSelector=null,A._dPicker=null,A._dSaturationValueIndicator=null,A._dSaturationValueSelector=null,A._dSelectedColour=null,A._scaleHue=null,A._scaleSaturation=null,A._scaleValue=null,A._zoneHue=null,A._zoneSaturationValue=null,A.getColour=(0,_.getter)("_colourSelected"),A.initDom=function(e){var t=document.createElement("div");return t.innerHTML='<div class="colourPicker">\n\n    <div class="saturationValueSelector">\n        <svg xmlns="http://www.w3.org/2000/svg" version="1.1" width="100%" height="100%">\n            <defs>\n                <linearGradient id="gradient-black" x1="0%" y1="100%" x2="0%" y2="0%">\n                    <stop offset="0%" stop-color="#000000" stop-opacity="1"></stop>\n                    <stop offset="100%" stop-color="#CC9A81" stop-opacity="0"></stop>\n                </linearGradient>\n                <linearGradient id="gradient-white" x1="0%" y1="100%" x2="100%" y2="100%">\n                    <stop offset="0%" stop-color="#FFFFFF" stop-opacity="1"></stop>\n                    <stop offset="100%" stop-color="#CC9A81" stop-opacity="0"></stop>\n                </linearGradient>\n            </defs>\n            <rect x="0" y="0" width="100%" height="100%" fill="url(#gradient-white)"></rect>\n            <rect x="0" y="0" width="100%" height="100%" fill="url(#gradient-black)"></rect>\n        </svg>\n        <div class="indicator"></div>\n    </div>\n\n    <div class="hueSelector">\n        <svg xmlns="http://www.w3.org/2000/svg" version="1.1" width="100%" height="100%">\n            <defs>\n                <linearGradient id="gradient-hsv" x1="0%" y1="0%" x2="100%" y2="0%">\n                    <stop offset="0%" stop-color="#FF0000" stop-opacity="1"></stop>\n                    <stop offset="13%" stop-color="#FFFF00" stop-opacity="1"></stop>\n                    <stop offset="25%" stop-color="#0BED00" stop-opacity="1"></stop>\n                    <stop offset="38%" stop-color="#00FF40" stop-opacity="1"></stop>\n                    <stop offset="50%" stop-color="#00FFFF" stop-opacity="1"></stop>\n                    <stop offset="63%" stop-color="#0040FF" stop-opacity="1"></stop>\n                    <stop offset="75%" stop-color="#8000FF" stop-opacity="1"></stop>\n                    <stop offset="88%" stop-color="#FF00FF" stop-opacity="1"></stop>\n                    <stop offset="100%" stop-color="#FF0000" stop-opacity="1"></stop>\n                </linearGradient>\n            </defs>\n\n            <g fill="none">\n                <rect x="0" y="0" width="100%" height="100%" fill="url(#gradient-hsv)" rx="2"></rect>\n                <rect stroke-opacity="0.2" stroke="#262629" stroke-width="1" x="0.5%" y="6.5%" width="99%" height="87%" rx="2"></rect>\n            </g>\n        </svg>\n        <div class="indicator"></div>\n    </div>\n    <div class="selectedColourContainer">\n        <div class="selectedColour"></div>\n    </div>\n</div>',this._dPicker=e.appendElement(t.querySelector(".colourPicker")),this._initHueSelector(),this._initSaturationValueSelector(),this._dSelectedColour=this._dPicker.select(".selectedColour"),this.updateCaptureZones(),this},A._initHueSelector=function(){this._dHueSelector=this._dPicker.select(".hueSelector svg"),this._dHueIndicator=this._dPicker.select(".hueSelector .indicator"),this._zoneHue=this._captureZoneManager.create(p.default.BLOCK_ALL,m.default.COLOUR_PICKER_DIALOG_CONTROLS).withAssociatedElement(this._dHueSelector).withDefaultPadding(),this._zoneHue.addGesture(f.default,{fastTap:!0}).withHandler(this._handleHueSelection,this),this._zoneHue.addGesture(h.default,{handleHold:!0,plane:h.PLANES.HORIZONTAL,onGesture:this._handleHueSelection,context:this})},A._initSaturationValueSelector=function(){this._dSaturationValueSelector=this._dPicker.select(".saturationValueSelector svg"),this._dSaturationValueIndicator=this._dPicker.select(".saturationValueSelector .indicator"),this._zoneSaturationValue=this._captureZoneManager.create(p.default.BLOCK_ALL,m.default.COLOUR_PICKER_DIALOG_CONTROLS).withAssociatedElement(this._dSaturationValueSelector),this._zoneSaturationValue.addGesture(f.default,{fastTap:!0}).withHandler(this._handleSaturationValueSelection,this),this._zoneSaturationValue.addGesture(g.default,{handleHold:!0,onGesture:this._handleSaturationValueSelection,context:this})},A._setInitialIndicators=function(){var e=this._scaleHue(this._colourSelected.h)+this._zoneHue.x,t=this._scaleSaturation(this._colourSelected.s)+this._zoneSaturationValue.x,i=this._scaleValue(this._colourSelected.v)+this._zoneSaturationValue.y;this._handleHueSelection({x:e}),this._handleSaturationValueSelection({x:t,y:i})},A.show=function(){return this._dPicker.classed("hidden",!1),this._zoneHue.show(),this._zoneSaturationValue.show(),this},A.hide=function(){return this._dPicker.classed("hidden",!0),this._zoneHue.hide(),this._zoneSaturationValue.hide(),this},A.updateCaptureZones=function(){return this._zoneHue.setDimensionsBasedOnAssociatedElement(),this._zoneSaturationValue.setDimensionsBasedOnAssociatedElement(),c.default.defer(this._updateScales,this),this},A.destroy=function(){this._dPicker&&(this._dPicker.remove(),this._dPicker=null,this._zoneHue.destroy(),this._zoneHue=null,this._zoneSaturationValue.destroy(),this._zoneSaturationValue=null,this.updateCaptureZones.cancel(),c.default.cancel(this))},A._updateScales=function(){var e=this._dHueSelector.node().getBoundingClientRect().width,t=this._zoneSaturationValue.width,i=this._zoneSaturationValue.height;this._scaleHue.domain([0,0,360,360]).range([0,this._zoneHue.getPadding(),e,e+this._zoneHue.getPadding()]),this._scaleSaturation.domain([0,1]).range([0,t]),this._scaleValue.domain([1,0]).range([0,i]),this._setInitialIndicators()},A._handleHueSelection=function(e){var t=this._zoneHue.getLocalCoordinates(e),i=this._scaleHue.invert(t.x),n=i/360*100+"%";this._colourSelected=d.createFromHSV(i,this._colourSelected.s,this._colourSelected.v),this._dHueIndicator.style("left",n),this._dSaturationValueSelector.style("background-color",d.createFromHSV(this._colourSelected.h,1,1).toHex()),this._dSelectedColour.style("background-color",this._colourSelected.toHex()),this._dHueIndicator.style("background-color",d.createFromHSV(this._colourSelected.h+10,1,1).toHex())},A._handleSaturationValueSelection=function(e){var t=this._zoneSaturationValue.getLocalCoordinates(e),i=this._scaleSaturation.invert(t.x),n=this._scaleValue.invert(t.y);this._colourSelected=d.createFromHSV(this._colourSelected.h,i,n),this._dSaturationValueIndicator.styles({left:Math.round(t.x)+"px",top:Math.round(t.y)+"px"}),this._dSelectedColour.style("background-color",this._colourSelected.toHex())},Object.seal(A);const E=Object.seal(v);var T=i(48202),I=i(16687),C=r.A.extend((function(e,t,i,n,s){this._callback=s,this._colourPicker=E.create(i,n?d.createFromHex(n):null)}),I.default);C.create=function(e,t,i,n,s){return new C(e,t,i,n,s)};var O=C.prototype;O._callback=null,O._colourPicker=null,O._createContent=function(){return this._colourPicker.initDom(this.dContainer),this._createDoneButton(this._onDoneButtonPressed,T.default.get("save"),m.default.COLOUR_PICKER_DIALOG_CONTROLS),this},O.show=function(){return this._colourPicker.show(),C.superclass.show.call(this)},O.hide=function(){return this._colourPicker.hide(),C.superclass.hide.call(this)},O.updateCaptureZones=function(){return this._colourPicker.updateCaptureZones(),C.superclass.updateCaptureZones.call(this)},O.destroy=function(){this._colourPicker&&(this._colourPicker.destroy(),this._colourPicker=null),C.superclass.destroy.call(this)},O._onDoneButtonPressed=function(){this._callback(this._colourPicker.getColour().toHex())},Object.seal(O);const M=Object.seal(C);var y=i(70187),b=i(56463),S=i(54842),D=i(27610),w=i(25322),L=r.A.extend((function(e,t,i,n,s,r){this._recentColours=s,this._startingColour=n,this._callback=r}),y.default);L.create=function(e,t,i,n,s,r){return new L(e,t,i,n,s,r)};var R=L.prototype;function P(e,t){var i=this._captureZoneManager.createZone(w.default,p.default.PROPAGATE_UNHANDLED,m.default.COLOUR_PICKER_DIALOG_CONTROLS),n=e.append("div").classed("colourSelector",!0).classed("selected",this._startingColour===t).style("background-color",t);i.withAssociatedElement(n).addGesture(f.default,{fastTap:!0}).withHandler(this._handleColourSelection.bind(this,t),this),this._swatchCaptureZones.push(i)}R._colourPickerButton=null,R._dColourSwatch=null,R._dColoursRecent=null,R._recentColours=null,R._startingColour=null,R._swatchCaptureZones=null,R.initDom=function(e){return L.superclass.initDom.call(this,e),this._swatchCaptureZones=[],this._dColourSwatch=e.append("div").classed("colourSwatch",!0),(0,s.each)(S.A,function(e){var t=this._dColourSwatch.append("div");(0,s.each)(e,P.bind(this,t))}.bind(this)),this._colourPickerButton=b.default.create().initDom(this.dContainer.append("div").classed("actions",!0),"dialogButton cancelButton").setText(D.default.get("moreColours")).setId("more-colours").startListening(this._captureZoneManager,this._dialog.switchToPicker.bind(this._dialog),m.default.COLOUR_PICKER_DIALOG_CONTROLS),this._dColoursRecent=e.append("div").classed("colourSwatch",!0).classed("recent",!0),(0,s.each)(this._recentColours,function(e){var t=this._dColoursRecent.append("div");P.call(this,t,e)}.bind(this)),this},R.show=function(){return this._colourPickerButton.setHidden(!1),(0,s.invokeMap)(this._swatchCaptureZones,"show"),L.superclass.show.call(this)},R.hide=function(){return this._colourPickerButton.setHidden(!0),(0,s.invokeMap)(this._swatchCaptureZones,"hide"),L.superclass.hide.call(this)},R.updateCaptureZones=function(){return this._colourPickerButton.updateCaptureZone(),(0,s.invokeMap)(this._swatchCaptureZones,"setDimensionsBasedOnAssociatedElement"),L.superclass.updateCaptureZones.call(this)},R._handleColourSelection=function(e){this._callback(e),this._dialog.done()},R.destroy=function(){this._colourPickerButton&&(this._colourPickerButton.destroy(),delete this._colourPickerButton),this._swatchCaptureZones&&((0,s.invokeMap)(this._swatchCaptureZones,"destroy"),delete this._swatchCaptureZones),this._dColourSwatch&&(this._dColourSwatch.remove(),delete this._dColourSwatch),this._dColoursRecent&&(this._dColoursRecent.remove(),delete this._dColoursRecent),this.dContainer&&this.dContainer.select(".actions").remove(),L.superclass.destroy.call(this)},Object.seal(R);const N=Object.seal(L);var k=i(85673),x=i(23584),V=i(14243),B=r.A.extend(Object.assign((function(e,t,i,n,s,r){this._callback=i,this._colourWidget=s,this._settingsManager=r}),{__constructorTransform:function(e,t,i,n,s,r){return[e,t,n]}}),n.default);B.create=function(e,t,i,n,s,r){return new B(e,t,i,n,s,r)};var H=B.prototype;H._blockingZone=null,H._callback=null,H._dDialogBody=null,H._settingsManager=null,H.initDom=function(e){var t=B.superclass.initDom.call(this,e,null,m.default.COLOUR_PICKER_DIALOG_DISMISSAL_ZONE);return this._overlayCaptureZone.addGesture(f.default,{fastTap:!0}).withHandler(this.close,this),this._blockingZone=this._captureZoneManager.create(p.default.BLOCK_ALL,m.default.COLOUR_PICKER_DIALOG_BODY).withAssociatedElement(this._dDialog),t},H.show=function(){return this._blockingZone.show(),B.superclass.show.call(this)},H.hide=function(){return this._blockingZone.hide(),B.superclass.show.call(this)},H.updateCaptureZones=function(){return this._blockingZone.setDimensionsBasedOnAssociatedElement(),B.superclass.updateCaptureZones.call(this)},H.destroy=function(){this._blockingZone&&(this._blockingZone.destroy(),delete this._blockingZone),B.superclass.destroy.call(this)},H._getDialogTitle=(0,s.constant)(null),H._getDialogClasses=(0,s.constant)("colour"),H._allowFullscreen=(0,s.constant)(!1),H._handleVisibleWindowMoved=function(e,t){if(B.superclass._handleVisibleWindowMoved.call(this,e,t),!k.default.isMobile()){var i=w.default.normaliseDimensions(this._colourWidget.getColourContainer().node().getBoundingClientRect()),n=w.default.normaliseDimensions(this._dDialog.node().getBoundingClientRect()),s=w.default.normaliseDimensions(this._dDialogContainer.node().getBoundingClientRect()),r=x.default.calculateBottomLeftAnchoringPointWithBoundaryConstraints(i,n,s);this._dDialog.style("position","absolute"),this._dDialog.style("left",r.left+"px"),this._dDialog.style("top",r.top+4+"px")}},H._createContent=function(e){this._dDialogBody=e;var t=this._settingsManager.getGlobalSettings(V.default.COLOUR_CUSTOMISATION).getRecentColours(this._settingsManager.getThemeSettingsMode());return N.create(this,this._eventBus,this._captureZoneManager,this._colourWidget.getColour(),t,this._handleNewColour.bind(this)).initDom(e)},H.switchToPicker=function(){this.content.destroy(),this.content=M.create(this,this._eventBus,this._captureZoneManager,this._colourWidget.getColour(),this._handleNewColour.bind(this)).initDom(this._dDialogBody)},H._handleNewColour=function(e){this._settingsManager.changeAccountSettings(V.default.COLOUR_CUSTOMISATION,function(t){return t.addRecentColour(e,this._settingsManager.getThemeSettingsMode()),!0}.bind(this),!0),this._callback(e)},Object.seal(H);const W=Object.seal(B);function F(e,t,i,n,s,r,o,a){this._eventBus=e,this._captureZoneManager=t,this._taskManager=i,this._settingsManager=n,this._parentDialog=s,this._colour=r,this._widgetTitleAttr=o,this._onColourChangeCallback=a}F.create=function(e,t,i,n,s,r,o,a){return new F(e,t,i,n,s,r,o,a)};var U=F.prototype;U._eventBus=null,U._captureZoneManager=null,U._taskManager=null,U._parentDialog=null,U._colour=null,U._widgetTitleAttr=null,U._onColourChangeCallback=null,U._dColourContainer=null,U._dColour=null,U._tapZone=null,U._colourDialog=null,U._isParentDialogScrollable=null,U.initDom=function(e){return this._dColourContainer=e.append("div").classed("selector",!0).classed("colourContainer",!0),this._dColour=this._dColourContainer.append("div").classed("colour",!0).attr("data-widget-title",this._widgetTitleAttr).style("background-color",this._colour),this._tapZone=this._captureZoneManager.createTapZone(this._showColourPicker.bind(this),m.default.DIALOG_CONTROLS).withAssociatedElement(this._dColourContainer),this},U.enable=(0,_.delegate)("_tapZone","show"),U.disable=(0,_.delegate)("_tapZone","hide"),U.updateCaptureZone=(0,_.delegate)("_tapZone","setDimensionsBasedOnAssociatedElement"),U.getColourContainer=(0,_.getter)("_dColourContainer"),U.getColour=(0,_.getter)("_colour"),U.setColour=function(e){this._colour=e,this._dColour.style("background-color",e)},U._showColourPicker=function(){this._colourDialog=W.create(this._eventBus,this._captureZoneManager,this._onColourChange.bind(this),this._taskManager,this,this._settingsManager).initDom(this._parentDialog.getDialogContainer()),this._colourDialog.on(n.default.CLOSE,this._handleColourDialogClose,this),this._colourDialog.on(n.default.DONE,this._handleColourDialogClose,this),this._isParentDialogScrollable=this._parentDialog.isScrollable(),this._isParentDialogScrollable&&this._parentDialog.removeScrollingBehaviour()},U._onColourChange=function(e){this.setColour(e),this._onColourChangeCallback(e)},U._handleColourDialogClose=function(){this._isParentDialogScrollable&&this._parentDialog.makeScrollable(),this._colourDialog&&(this._colourDialog.un(null,this),this._colourDialog=null)},U.destroy=function(){this._colourDialog&&(this._colourDialog.un(null,this),this._colourDialog.destroy(),this._colourDialog=null),this._dColourContainer.remove(),this._dColour.remove(),this._tapZone.destroy()},Object.seal(U);const G=Object.seal(F)},19862:(e,t,i)=>{"use strict";i.d(t,{A:()=>u});var n=i(70187),s=i(12990),r=i(9525),o=i(81141),a=i(73731),l=s.A.extend((function(e,t,i,n,s){this._settingsManager=s}),n.default);l.create=function(e,t,i,n,s){return new l(e,t,i,n,s)};var d=l.prototype;d._settingsManager=null,d._styles=null,d._widgets=null,d.initDom=function(e){return l.superclass.initDom.call(this,e),this._styles=this._getStyles(),this._widgets=this._createStylingWidgets(e.append("div").classed("widgets",!0)),this._settingsManager.on(a.default.THEME_CHANGED,(0,r.delegate)("_dialog","close"),this),this},d._createStylingWidgets=o.A.abstractMethod,d.setStyle=function(e){this._settingsManager.putColourCustomisationSettings(e,!0),this.destroy(),this.initDom(this.dContainer)},d.resetToDefaults=function(){this._settingsManager.putColourCustomisationSettings(this._styles,!0),this.destroy(),this.initDom(this.dContainer)},d.enable=function(){return(0,r.invokeApply)(this._widgets,"enable"),this},d.disable=function(){return(0,r.invokeApply)(this._widgets,"disable"),this},d.updateCaptureZones=function(){return(0,r.invokeApply)(this._widgets,"updateCaptureZones"),l.superclass.updateCaptureZones.call(this)},d.destroy=function(){this._settingsManager.un(null,this),this._widgets&&((0,r.invokeApply)(this._widgets,"destroy"),this.dContainer.select(".widgets").remove(),this._widgets=null,this._styles=null),l.superclass.destroy.call(this)},d._getStyles=function(){return this._settingsManager.getColourCustomisationSettings()},Object.seal(d);const u=Object.seal(l)},55699:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>o});var n=i(10520);function s(e,t,i,n,s){this._captureZoneManager=e,this._isBold=t,this._isItalics=i,this._boldCallback=n,this._italicsCallback=s}s.create=function(e,t,i,n,r){return new s(e,t,i,n,r)};var r=s.prototype;r._captureZoneManager=null,r._isBold=null,r._isItalics=null,r._boldCallback=null,r._italicsCallback=null,r._dFontOptions=null,r._boldButton=null,r._italicButton=null,r.initDom=function(e){return this._dFontOptions=e.append("div").classed("font-options-container",!0),this._boldButton=this._dFontOptions.append("div").classed("btn-tab btn-bold",!0).classed("selected",this._isBold).text("B"),this._italicButton=this._dFontOptions.append("div").classed("btn-tab btn-italic",!0).classed("selected",this._isItalics).text("I"),this._boldTapZone=this._captureZoneManager.createTapZone(this._handleBoldToggle.bind(this),n.default.DIALOG_CONTROLS).withAssociatedElement(this._boldButton),this._italicTapZone=this._captureZoneManager.createTapZone(this._handleItalicsToggle.bind(this),n.default.DIALOG_CONTROLS).withAssociatedElement(this._italicButton),this},r.updateCaptureZone=function(){this._boldTapZone.setDimensionsBasedOnAssociatedElement(),this._italicTapZone.setDimensionsBasedOnAssociatedElement()},r.setBold=function(e){this._isBold=e,this._boldButton.classed("selected",this._isBold)},r.setItalic=function(e){this._isItalics=e,this._italicButton.classed("selected",this._isItalics)},r.destroy=function(){this._boldTapZone.destroy(),this._italicTapZone.destroy(),this._dFontOptions.remove()},r._handleBoldToggle=function(){var e=!this._isBold;this.setBold(e),this._boldCallback(e)},r._handleItalicsToggle=function(){var e=!this._isItalics;this.setItalic(e),this._italicsCallback(e)},Object.seal(r);const o=Object.seal(s)},17099:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>g});var n=i(43130),s=i(64586),r=i(77143),o=i(8653),a=i(9525),l=i(97204),d=i(10520);function u(e,t,i){this._title=e,this._callback=i,this._selectionOptions=t}u.create=function(e,t,i){return new u(e,t,i)};var c=u.prototype;c._title=null,c._callback=null,c._dButtons=null,c._selectionOptions=null,c._zones=null,c.initDom=function(e,t,i){return this._zones=[],this._selectionOptions.forEach((function(n){var s=e.append("div").attr("class",i).classed("selector",!0).classed(n,!0);s.append("hr"),s.attr("data-widget-title",this._title),this._zones.push(t.createTapZone(this._handleNewChoice.bind(this,n),d.default.DIALOG_CONTROLS).withAssociatedElement(s))}),this),this._dButtons=e.selectAll(".selector"),this},c.enable=function(){return(0,a.invokeApply)(this._zones,"show"),this},c.disable=function(){return(0,a.invokeApply)(this._zones,"hide"),this},c.show=function(){return this._dButtons.classed("hidden",!1),this.enable()},c.hide=function(){return this._dButtons.classed("hidden",!0),this.disable()},c.updateCaptureZones=function(){return(0,a.invokeApply)(this._zones,"setDimensionsBasedOnAssociatedElement"),this},c.destroy=function(){this._dButtons&&(this._dButtons.remove(),this._dButtons=null),this._zones&&((0,a.invokeApply)(this._zones,"destroy"),this._zones=null)},c.setSelected=function(e){return this._dButtons.classed("selected",(function(){return(0,l.A)(this).classed(e)})),this},c._handleNewChoice=function(e){this.setSelected(e),this._callback(e)},Object.seal(c);const h=Object.seal(u);function p(e,t,i,n){this._initialSettings=e,this._callback=t,this._taskManager=i,this._settingsManager=n,this._hasColour=e.hasOwnProperty("colour"),this._hasStyle=e.hasOwnProperty("style"),this._hasWidth=e.hasOwnProperty("width")}p.create=function(e,t,i,n){return new p(e,t,i,n)};var _=p.prototype;_._callback=null,_._captureZoneManager=null,_._eventBus=null,_._colourWidget=null,_._dWidget=null,_._initialSettings=null,_._hasColour=null,_._hasStyle=null,_._hasWidth=null,_._checkboxAvailable=!1,_._widgetStyle=null,_._widgetWidth=null,_._dSettingTitleContainer=null,_._settingsManager=null,_._inlineComponent=null,_.setInlineComponent=(0,a.setter)("_inlineComponent"),_.changeCheckboxStateAndVisibility=function(e){this._checkBox&&(this._callback("isVisible",e),this._checkBox.setSelected(e))},_.initDom=function(e,t,i,a,l,u,c,p){var _,g,f;return p=p||l,this._captureZoneManager=i,this._eventBus=t,this._dWidget=e.append("div").classed("stylesWidget",!0),u&&this._dWidget.attr("data-identifier",u.join(".")),_=this._dWidget.append("div").classed("leftColumn",!0),this._dSettingTitleContainer=_.append("div").classed("settingTitleContainer",!0),this._checkboxAvailable&&(this._checkBox=s.default.create(),this._checkBox.initDom(this._dSettingTitleContainer,"checkbox").setSelected(c),this._checkBox.startListening(this._captureZoneManager,this._handleVisibilityChange.bind(this),d.default.DIALOG_CONTROLS),this._dSettingTitleContainer.classed("hasCheckbox",!0)),l&&(_.classed("withSettingTitle",!0),this._dSettingTitleContainer.append("span").classed("settingTitle",!0).text(l)),g=this._dWidget.append("div").classed("rightColumn",!0),this._inlineComponent&&(f=(l?g:_).append("div").classed("setting-row",!0).classed("inline",!0),this._inlineComponent.initDom(f)),this._hasColour&&(this._colourWidget=r.default.create(this._eventBus,this._captureZoneManager,this._taskManager,this._settingsManager,a,this._initialSettings.colour,p,this._handleNewColour.bind(this)).initDom(g)),this._hasStyle&&(this._widgetStyle=h.create(p,(0,n.values)(o.A.STYLE),this._callback.bind(this,"style")).initDom(g.append("div").classed("selectorGroup",!0),i,"style").setSelected(this._initialSettings.style)),this._hasWidth&&(this._widgetWidth=h.create(p,(0,n.values)(o.A.WIDTH),this._callback.bind(this,"width")).initDom(g.append("div").classed("selectorGroup",!0),i,"width").setSelected(this._initialSettings.width)),this},_.setStyles=function(e){e.colour&&this._colourWidget.setColour(e.colour),e.style&&this._widgetStyle.setSelected(e.style),e.width&&this._widgetWidth.setSelected(e.width),e.hasOwnProperty("isVisible")&&this._checkBox.setSelected(e.isVisible)},_.enable=function(){return this._checkBox&&this._checkBox.enable(),this._colourWidget&&this._colourWidget.enable(),this._widgetStyle&&this._widgetStyle.enable(),this._widgetWidth&&this._widgetWidth.enable(),this._inlineComponent&&this._inlineComponent.enable(),this},_.disable=function(){return this._checkBox&&this._checkBox.disable(),this._colourWidget&&this._colourWidget.disable(),this._widgetStyle&&this._widgetStyle.disable(),this._widgetWidth&&this._widgetWidth.disable(),this._inlineComponent&&this._inlineComponent.disable(),this},_.show=function(){return this._dWidget.classed("hidden",!1),this.enable(),this},_.hide=function(){return this._dWidget.classed("hidden",!0),this.disable(),this},_.updateCaptureZones=function(){return this._checkBox&&this._checkBox.updateCaptureZone(this._dSettingTitleContainer),this._colourWidget&&this._colourWidget.updateCaptureZone(),this._widgetStyle&&this._widgetStyle.updateCaptureZones(),this._widgetWidth&&this._widgetWidth.updateCaptureZones(),this._inlineComponent&&this._inlineComponent.updateCaptureZones(),this},_.destroy=function(){this._checkBox&&(this._checkBox.destroy(),this._checkBox=null),this._colourWidget&&(this._colourWidget.destroy(),this._colourWidget=null),this._widgetStyle&&(this._widgetStyle.destroy(),this._widgetStyle=null),this._widgetWidth&&(this._widgetWidth.destroy(),this._widgetWidth=null),this._dWidget&&(this._dWidget.remove(),this._dWidget=null),this._inlineComponent&&(this._inlineComponent.un(null,this),this._inlineComponent.destroy(),this._inlineComponent=null)},_.setCheckboxAvailable=function(e){return this._checkboxAvailable=e,this},_._handleVisibilityChange=function(){this._callback("isVisible",!this._checkBox.isSelected()),this._inlineComponent&&!this._checkBox.isSelected()&&this._inlineComponent.requestFocus()},_._handleNewColour=function(e){this._callback("colour",e)},Object.seal(_);const g=Object.seal(p)},95613:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>u});var n=i(8653),s=i(10094),r=i(73731),o=i(14243),a=i(10644);function l(e,t){this._chartSelector='.htmlChart[id="'+t.getRootContainer().attr("id")+'"]',this._dStyleElement=t.getContainer("customisation-styles"),this._settingsManager=e,this._settingsManager.on((0,r.getLayoutSettingsEvent)(o.default.COLOUR_CUSTOMISATION),this.generateStyles,this),this._settingsManager.on((0,r.getGlobalSettingsEvent)(o.default.COLOUR_CUSTOMISATION),this.generateStyles,this)}l.create=function(e,t){new l(e,t)},l.CSS_WIDTH=Object.freeze({narrow:1,medium:2,thick:3}),l.CSS_STYLE=Object.freeze({solid:"none",dashed:"8,8",dotted:"1,5"}),l.strokeStyles=function(e,t){return e.isVisible?(t?"":"stroke: "+e.colour+"; ")+(e.style!==n.A.STYLE.SOLID?"stroke-dasharray: "+l.CSS_STYLE[e.style]+"; ":"")+(e.style===n.A.STYLE.DOTTED?"stroke-linecap: round; ":"")+"stroke-width: "+(0,s.roundFloatingPointError)(l.CSS_WIDTH[e.width])+"; ":"display: none; "};var d=l.prototype;d._chartSelector=".htmlChart",d.generateStyles=function(){var e=this._settingsManager.getColourCustomisationSettings(),t=this._settingsManager.getGlobalSettings(o.default.COLOUR_CUSTOMISATION).getGridSettings(this._settingsManager.getThemeSettingsMode(),this._settingsManager.getTheme());this._dStyleElement.text([this._generateCandlestickStyles(e.candlestick,"CANDLE"),this._generateCandlestickStyles(e.heikinashi,"HEIKINASHI"),this._generateLineStyles(e.line),this._generateHlocStyles(e.hloc),this._generateMountainStyles(e.mountain),this._generateIndicatorStyle([this._generateLineWithFillStyle(".group-DERIVATIVE",".derivative",e.indicators.DERIVATIVE),this._generateTooltipStyle(".DERIVATIVE","",e.indicators.DERIVATIVE.line.colour,e.indicators.DERIVATIVE.line.isVisible)]),this._generateIndicatorStyle([this._generateLineStyle(".group-AROON",".aroonUp",e.indicators.AROON.up.line,!1),this._generateLineStyle(".group-AROON",".aroonDown",e.indicators.AROON.down.line,!1),this._generateCloudStyle(".group-AROON",".aroonCloud",e.indicators.AROON.up.cloud.colour,e.indicators.AROON.down.cloud.colour,e.indicators.AROON.up.cloud.isVisible,e.indicators.AROON.down.cloud.isVisible),this._generateTooltipStyle(".AROON",".aroonUp",e.indicators.AROON.up.line.colour,e.indicators.AROON.up.line.isVisible),this._generateTooltipStyle(".AROON",".aroonDown",e.indicators.AROON.down.line.colour,e.indicators.AROON.down.line.isVisible)]),this._generateIndicatorStyle([this._generateLineWithFillStyle(".group-ATR",".averageTrueRange",e.indicators.ATR),this._generateTooltipStyle(".ATR","",e.indicators.ATR.line.colour,e.indicators.ATR.line.isVisible)]),this._generateIndicatorStyle([this._generateBarStyle(".group-AWESOME",e.indicators.AWESOME.up.colour,e.indicators.AWESOME.up.isVisible,e.indicators.AWESOME.down.colour,e.indicators.AWESOME.down.isVisible),this._generateTooltipStyle(".AWESOME",".awesome.up",e.indicators.AWESOME.up.colour,e.indicators.AWESOME.up.isVisible),this._generateTooltipStyle(".AWESOME",".awesome.down",e.indicators.AWESOME.down.colour,e.indicators.AWESOME.down.isVisible)]),this._generateIndicatorStyle([this._generateLineStyle(".group-BOL",".bollingerPositiveBand",e.indicators.BOL.positiveBand,!1),this._generateLineStyle(".group-BOL",".bollingerMovingAverageBand",e.indicators.BOL.movingAverageBand,!1),this._generateLineStyle(".group-BOL",".bollingerNegativeBand",e.indicators.BOL.negativeBand,!1),this._generateCloudStyle(".group-BOL",".bollingerChannel",e.indicators.BOL.fill.colour,e.indicators.BOL.fill.colour,e.indicators.BOL.fill.isVisible,e.indicators.BOL.fill.isVisible),this._generateDialogLabelStyle(".BOL",".period",e.indicators.BOL.movingAverageBand.colour),this._generateDialogLabelStyle(".BOL",".standardDeviation",e.indicators.BOL.movingAverageBand.colour),this._generateTooltipStyle(".BOL",".bollingerPositiveBand",e.indicators.BOL.positiveBand.colour,e.indicators.BOL.positiveBand.isVisible),this._generateTooltipStyle(".BOL",".bollingerMovingAverageBand",e.indicators.BOL.movingAverageBand.colour,e.indicators.BOL.movingAverageBand.isVisible),this._generateTooltipStyle(".BOL",".bollingerNegativeBand",e.indicators.BOL.negativeBand.colour,e.indicators.BOL.negativeBand.isVisible)]),this._generateIndicatorStyle([this._generateLineWithFillStyle(".group-BBW",".bolBandwidth",e.indicators.BBW),this._generateTooltipStyle(".BBW","",e.indicators.BBW.line.colour,e.indicators.BBW.line.isVisible)]),this._generateIndicatorStyle([this._generateGradientStyle(".group-BOLPCTB",e.indicators.BOLPCTB.up,e.indicators.BOLPCTB.down),this._generateLineStyle(".group-BOLPCTB",".bolPctB",e.indicators.BOLPCTB.line,!0),this._generateColourlessTooltipStyle(".BOLPCTB",".bolPctB",e.indicators.BOLPCTB.line.isVisible)]),this._generateIndicatorStyle([this._generateLineWithFillStyle(".group-CHAIKIN",".chaikinVolatility",e.indicators.CHAIKIN),this._generateTooltipStyle(".CHAIKIN","",e.indicators.CHAIKIN.line.colour,e.indicators.CHAIKIN.line.isVisible)]),this._generateIndicatorStyle([this._generateGradientStyle(".group-CCI",e.indicators.CCI.up,e.indicators.CCI.down),this._generateLineStyle(".group-CCI",".cci",e.indicators.CCI.line,!0),this._generateColourlessTooltipStyle(".CCI",".cci",e.indicators.CCI.line.isVisible)]),this._generateIndicatorStyle([this._generateLineStyle(".group-DONCHIAN",".donchianUp",e.indicators.DONCHIAN.up,!1),this._generateLineStyle(".group-DONCHIAN",".donchianMiddle",e.indicators.DONCHIAN.middle,!1),this._generateLineStyle(".group-DONCHIAN",".donchianDown",e.indicators.DONCHIAN.down,!1),this._generateCloudStyle(".group-DONCHIAN",".donchianChannel",e.indicators.DONCHIAN.fill.colour,e.indicators.DONCHIAN.fill.colour,e.indicators.DONCHIAN.fill.isVisible,e.indicators.DONCHIAN.fill.isVisible),this._generateDialogLabelStyle(".DONCHIAN",".period",e.indicators.DONCHIAN.middle.colour),this._generateTooltipStyle(".DONCHIAN",".donchianUp",e.indicators.DONCHIAN.up.colour,e.indicators.DONCHIAN.up.isVisible),this._generateTooltipStyle(".DONCHIAN",".donchianMiddle",e.indicators.DONCHIAN.middle.colour,e.indicators.DONCHIAN.middle.isVisible),this._generateTooltipStyle(".DONCHIAN",".donchianDown",e.indicators.DONCHIAN.down.colour,e.indicators.DONCHIAN.down.isVisible)]),this._generateIndicatorStyle([this._generateGradientStyle(".group-DPO",e.indicators.DPO.up,e.indicators.DPO.down),this._generateLineStyle(".group-DPO",".dpo",e.indicators.DPO.line,!0),this._generateTooltipStyle(".DPO",".dpo.up",e.indicators.DPO.up.lineColour.colour,e.indicators.DPO.up.lineColour.isVisible),this._generateTooltipStyle(".DPO",".dpo.down",e.indicators.DPO.down.lineColour.colour,e.indicators.DPO.down.lineColour.isVisible)]),this._generateIndicatorStyle([this._generateLineStyle(".group-DMI",".diPlus",e.indicators.DMI.diPlus,!1),this._generateLineStyle(".group-DMI",".diMinus",e.indicators.DMI.diMinus,!1),this._generateLineStyle(".group-DMI",".adx",e.indicators.DMI.adx,!1),this._generateBarStyle(".group-DMI",e.indicators.DMI.histogram.up.colour,e.indicators.DMI.histogram.up.isVisible,e.indicators.DMI.histogram.down.colour,e.indicators.DMI.histogram.down.isVisible),this._generateTooltipStyle(".DMI",".diPlus",e.indicators.DMI.diPlus.colour,e.indicators.DMI.diPlus.isVisible),this._generateTooltipStyle(".DMI",".diHistogram.up",e.indicators.DMI.histogram.up.colour,e.indicators.DMI.histogram.up.isVisible),this._generateTooltipStyle(".DMI",".diMinus",e.indicators.DMI.diMinus.colour,e.indicators.DMI.diMinus.isVisible),this._generateTooltipStyle(".DMI",".diHistogram.down",e.indicators.DMI.histogram.down.colour,e.indicators.DMI.histogram.down.isVisible),this._generateTooltipStyle(".DMI",".adx",e.indicators.DMI.adx.colour,e.indicators.DMI.adx.isVisible)]),this._generateIndicatorStyle([this._generateLineStyle(".group-EMA",".exponentialMovingAverage1",e.indicators.EMA.ema1,!1),this._generateLineStyle(".group-EMA",".exponentialMovingAverage2",e.indicators.EMA.ema2,!1),this._generateLineStyle(".group-EMA",".exponentialMovingAverage3",e.indicators.EMA.ema3,!1),this._generateLineStyle(".group-EMA",".exponentialMovingAverage4",e.indicators.EMA.ema4,!1),this._generateLineStyle(".group-EMA",".exponentialMovingAverage5",e.indicators.EMA.ema5,!1),this._generateLineStyle(".group-EMA",".exponentialMovingAverage6",e.indicators.EMA.ema6,!1),this._generateLineStyle(".group-EMA",".exponentialMovingAverage7",e.indicators.EMA.ema7,!1),this._generateLineStyle(".group-EMA",".exponentialMovingAverage8",e.indicators.EMA.ema8,!1),this._generateBijectiveDialogLabelStyle(".EMA",".period1",e.indicators.EMA.ema1.colour,e.indicators.EMA.ema1.isVisible),this._generateBijectiveDialogLabelStyle(".EMA",".period2",e.indicators.EMA.ema2.colour,e.indicators.EMA.ema2.isVisible),this._generateBijectiveDialogLabelStyle(".EMA",".period3",e.indicators.EMA.ema3.colour,e.indicators.EMA.ema3.isVisible),this._generateBijectiveDialogLabelStyle(".EMA",".period4",e.indicators.EMA.ema4.colour,e.indicators.EMA.ema4.isVisible),this._generateBijectiveDialogLabelStyle(".EMA",".period5",e.indicators.EMA.ema5.colour,e.indicators.EMA.ema5.isVisible),this._generateBijectiveDialogLabelStyle(".EMA",".period6",e.indicators.EMA.ema6.colour,e.indicators.EMA.ema6.isVisible),this._generateBijectiveDialogLabelStyle(".EMA",".period7",e.indicators.EMA.ema7.colour,e.indicators.EMA.ema7.isVisible),this._generateBijectiveDialogLabelStyle(".EMA",".period8",e.indicators.EMA.ema8.colour,e.indicators.EMA.ema8.isVisible),this._generateTooltipStyle(".EMA",".exponentialMovingAverage1",e.indicators.EMA.ema1.colour,e.indicators.EMA.ema1.isVisible),this._generateTooltipStyle(".EMA",".exponentialMovingAverage2",e.indicators.EMA.ema2.colour,e.indicators.EMA.ema2.isVisible),this._generateTooltipStyle(".EMA",".exponentialMovingAverage3",e.indicators.EMA.ema3.colour,e.indicators.EMA.ema3.isVisible),this._generateTooltipStyle(".EMA",".exponentialMovingAverage4",e.indicators.EMA.ema4.colour,e.indicators.EMA.ema4.isVisible),this._generateTooltipStyle(".EMA",".exponentialMovingAverage5",e.indicators.EMA.ema5.colour,e.indicators.EMA.ema5.isVisible),this._generateTooltipStyle(".EMA",".exponentialMovingAverage6",e.indicators.EMA.ema6.colour,e.indicators.EMA.ema6.isVisible),this._generateTooltipStyle(".EMA",".exponentialMovingAverage7",e.indicators.EMA.ema7.colour,e.indicators.EMA.ema7.isVisible),this._generateTooltipStyle(".EMA",".exponentialMovingAverage8",e.indicators.EMA.ema8.colour,e.indicators.EMA.ema8.isVisible)]),this._generateIndicatorStyle([this._generateLineWithFillStyle(".group-EOM",".easeOfMovement",e.indicators.EOM),this._generateTooltipStyle(".EOM","",e.indicators.EOM.line.colour,e.indicators.EOM.line.isVisible)]),this._generateIndicatorStyle([this._generateLineStyle(".group-ICHIMOKU",".chikou",e.indicators.ICHIMOKU.chikou,!1),this._generateLineStyle(".group-ICHIMOKU",".tenkan",e.indicators.ICHIMOKU.tenkan,!1),this._generateLineStyle(".group-ICHIMOKU",".kijun",e.indicators.ICHIMOKU.kijun,!1),this._generateLineStyle(".group-ICHIMOKU",".spana",e.indicators.ICHIMOKU.spanA,!1),this._generateLineStyle(".group-ICHIMOKU",".spanb",e.indicators.ICHIMOKU.spanB,!1),this._generateCloudStyle(".group-ICHIMOKU",".kumo",e.indicators.ICHIMOKU.cloudUp.colour,e.indicators.ICHIMOKU.cloudDown.colour,e.indicators.ICHIMOKU.cloudUp.isVisible,e.indicators.ICHIMOKU.cloudDown.isVisible),this._generateTooltipStyle(".ICHIMOKU",".chikou",e.indicators.ICHIMOKU.chikou.colour,e.indicators.ICHIMOKU.chikou.isVisible),this._generateTooltipStyle(".ICHIMOKU",".tenkan",e.indicators.ICHIMOKU.tenkan.colour,e.indicators.ICHIMOKU.tenkan.isVisible),this._generateTooltipStyle(".ICHIMOKU",".kijun",e.indicators.ICHIMOKU.kijun.colour,e.indicators.ICHIMOKU.kijun.isVisible),this._generateTooltipStyle(".ICHIMOKU",".spana",e.indicators.ICHIMOKU.spanA.colour,e.indicators.ICHIMOKU.spanA.isVisible),this._generateTooltipStyle(".ICHIMOKU",".spanb",e.indicators.ICHIMOKU.spanB.colour,e.indicators.ICHIMOKU.spanB.isVisible)]),this._generateIndicatorStyle([this._generateLineStyle(".group-KDJ",".stochasticK",e.indicators.KDJ.stochasticK,!1),this._generateLineStyle(".group-KDJ",".stochasticD",e.indicators.KDJ.stochasticD,!1),this._generateLineStyle(".group-KDJ",".stochasticJ",e.indicators.KDJ.stochasticJ,!1),this._generateTooltipStyle(".KDJ",".KDJStochasticK",e.indicators.KDJ.stochasticK.colour,e.indicators.KDJ.stochasticK.isVisible),this._generateTooltipStyle(".KDJ",".KDJStochasticD",e.indicators.KDJ.stochasticD.colour,e.indicators.KDJ.stochasticD.isVisible),this._generateTooltipStyle(".KDJ",".KDJStochasticJ",e.indicators.KDJ.stochasticJ.colour,e.indicators.KDJ.stochasticJ.isVisible)]),this._generateIndicatorStyle([this._generateLineStyle(".group-KELTNER",".keltnerUp",e.indicators.KELTNER.up,!1),this._generateLineStyle(".group-KELTNER",".keltnerMiddle",e.indicators.KELTNER.middle,!1),this._generateLineStyle(".group-KELTNER",".keltnerDown",e.indicators.KELTNER.down,!1),this._generateCloudStyle(".group-KELTNER",".keltnerChannel",e.indicators.KELTNER.fill.colour,e.indicators.KELTNER.fill.colour,e.indicators.KELTNER.fill.isVisible,e.indicators.KELTNER.fill.isVisible),this._generateDialogLabelStyle(".KELTNER",".period",e.indicators.KELTNER.middle.colour),this._generateTooltipStyle(".KELTNER",".keltnerUp",e.indicators.KELTNER.up.colour,e.indicators.KELTNER.up.isVisible),this._generateTooltipStyle(".KELTNER",".keltnerMiddle",e.indicators.KELTNER.middle.colour,e.indicators.KELTNER.middle.isVisible),this._generateTooltipStyle(".KELTNER",".keltnerDown",e.indicators.KELTNER.down.colour,e.indicators.KELTNER.down.isVisible)]),this._generateIndicatorStyle([this._generateBarStyle(".group-MACD",e.indicators.MACD.histogram.up.colour,e.indicators.MACD.histogram.up.isVisible,e.indicators.MACD.histogram.down.colour,e.indicators.MACD.histogram.down.isVisible),this._generateLineStyle(".group-MACD",".macdLine",e.indicators.MACD.macd,!1),this._generateLineStyle(".group-MACD",".macdSignal",e.indicators.MACD.signal,!1),this._generateTooltipStyle(".MACD",".macdHistogram.up",e.indicators.MACD.histogram.up.colour,e.indicators.MACD.histogram.up.isVisible),this._generateTooltipStyle(".MACD",".macdHistogram.down",e.indicators.MACD.histogram.down.colour,e.indicators.MACD.histogram.down.isVisible),this._generateTooltipStyle(".MACD",".macd",e.indicators.MACD.macd.colour,e.indicators.MACD.macd.isVisible),this._generateTooltipStyle(".MACD",".macdSignal",e.indicators.MACD.signal.colour,e.indicators.MACD.signal.isVisible)]),this._generateIndicatorStyle([this._generateGradientStyle(".group-MOMENTUM",e.indicators.MOMENTUM.up,e.indicators.MOMENTUM.down),this._generateLineStyle(".group-MOMENTUM",".momentum",e.indicators.MOMENTUM.line,!0),this._generateTooltipStyle(".MOMENTUM",".momentum.up",e.indicators.MOMENTUM.up.lineColour.colour,e.indicators.MOMENTUM.up.lineColour.isVisible),this._generateTooltipStyle(".MOMENTUM",".momentum.down",e.indicators.MOMENTUM.down.lineColour.colour,e.indicators.MOMENTUM.down.lineColour.isVisible)]),this._generateIndicatorStyle([this._generateGradientStyle(".group-MFI",e.indicators.MFI.up,e.indicators.MFI.down),this._generateLineStyle(".group-MFI",".moneyFlowIndex",e.indicators.MFI.line,!0),this._generateColourlessTooltipStyle(".MFI",".moneyFlowIndex",e.indicators.MFI.line.isVisible)]),this._generateIndicatorStyle([this._generateLineStyle(".group-MVAVG",".movingAverage1",e.indicators.MVAVG.movingAverage1,!1),this._generateLineStyle(".group-MVAVG",".movingAverage2",e.indicators.MVAVG.movingAverage2,!1),this._generateLineStyle(".group-MVAVG",".movingAverage3",e.indicators.MVAVG.movingAverage3,!1),this._generateLineStyle(".group-MVAVG",".movingAverage4",e.indicators.MVAVG.movingAverage4,!1),this._generateLineStyle(".group-MVAVG",".movingAverage5",e.indicators.MVAVG.movingAverage5,!1),this._generateLineStyle(".group-MVAVG",".movingAverage6",e.indicators.MVAVG.movingAverage6,!1),this._generateLineStyle(".group-MVAVG",".movingAverage7",e.indicators.MVAVG.movingAverage7,!1),this._generateLineStyle(".group-MVAVG",".movingAverage8",e.indicators.MVAVG.movingAverage8,!1),this._generateBijectiveDialogLabelStyle(".MVAVG",".period1",e.indicators.MVAVG.movingAverage1.colour,e.indicators.MVAVG.movingAverage1.isVisible),this._generateBijectiveDialogLabelStyle(".MVAVG",".period2",e.indicators.MVAVG.movingAverage2.colour,e.indicators.MVAVG.movingAverage2.isVisible),this._generateBijectiveDialogLabelStyle(".MVAVG",".period3",e.indicators.MVAVG.movingAverage3.colour,e.indicators.MVAVG.movingAverage3.isVisible),this._generateBijectiveDialogLabelStyle(".MVAVG",".period4",e.indicators.MVAVG.movingAverage4.colour,e.indicators.MVAVG.movingAverage4.isVisible),this._generateBijectiveDialogLabelStyle(".MVAVG",".period5",e.indicators.MVAVG.movingAverage5.colour,e.indicators.MVAVG.movingAverage5.isVisible),this._generateBijectiveDialogLabelStyle(".MVAVG",".period6",e.indicators.MVAVG.movingAverage6.colour,e.indicators.MVAVG.movingAverage6.isVisible),this._generateBijectiveDialogLabelStyle(".MVAVG",".period7",e.indicators.MVAVG.movingAverage7.colour,e.indicators.MVAVG.movingAverage7.isVisible),this._generateBijectiveDialogLabelStyle(".MVAVG",".period8",e.indicators.MVAVG.movingAverage8.colour,e.indicators.MVAVG.movingAverage8.isVisible),this._generateTooltipStyle(".MVAVG",".movingAverage1",e.indicators.MVAVG.movingAverage1.colour,e.indicators.MVAVG.movingAverage1.isVisible),this._generateTooltipStyle(".MVAVG",".movingAverage2",e.indicators.MVAVG.movingAverage2.colour,e.indicators.MVAVG.movingAverage2.isVisible),this._generateTooltipStyle(".MVAVG",".movingAverage3",e.indicators.MVAVG.movingAverage3.colour,e.indicators.MVAVG.movingAverage3.isVisible),this._generateTooltipStyle(".MVAVG",".movingAverage4",e.indicators.MVAVG.movingAverage4.colour,e.indicators.MVAVG.movingAverage4.isVisible),this._generateTooltipStyle(".MVAVG",".movingAverage5",e.indicators.MVAVG.movingAverage5.colour,e.indicators.MVAVG.movingAverage5.isVisible),this._generateTooltipStyle(".MVAVG",".movingAverage6",e.indicators.MVAVG.movingAverage6.colour,e.indicators.MVAVG.movingAverage6.isVisible),this._generateTooltipStyle(".MVAVG",".movingAverage7",e.indicators.MVAVG.movingAverage7.colour,e.indicators.MVAVG.movingAverage7.isVisible),this._generateTooltipStyle(".MVAVG",".movingAverage8",e.indicators.MVAVG.movingAverage8.colour,e.indicators.MVAVG.movingAverage8.isVisible)]),this._generateIndicatorStyle([this._generateDotStyle(".group-SAR",".parabolicSar",e.indicators.SAR.up.colour,e.indicators.SAR.up.isVisible,e.indicators.SAR.down.colour,e.indicators.SAR.down.isVisible),this._generateDialogLabelStyle(".SAR","",e.indicators.SAR.up.colour),this._generateTooltipStyle(".SAR",".up",e.indicators.SAR.up.colour,e.indicators.SAR.up.isVisible),this._generateTooltipStyle(".SAR",".down",e.indicators.SAR.down.colour,e.indicators.SAR.down.isVisible)]),this._generateIndicatorStyle([this._generatePathAndLabelStyle(".group-PIVOT",".pivot",".pivotLabel",e.indicators.PIVOT.pivot),this._generatePathAndLabelStyle(".group-PIVOT",".r1",".r1Label",e.indicators.PIVOT.r1),this._generatePathAndLabelStyle(".group-PIVOT",".r2",".r2Label",e.indicators.PIVOT.r2),this._generatePathAndLabelStyle(".group-PIVOT",".r3",".r3Label",e.indicators.PIVOT.r3),this._generatePathAndLabelStyle(".group-PIVOT",".s1",".s1Label",e.indicators.PIVOT.s1),this._generatePathAndLabelStyle(".group-PIVOT",".s2",".s2Label",e.indicators.PIVOT.s2),this._generatePathAndLabelStyle(".group-PIVOT",".s3",".s3Label",e.indicators.PIVOT.s3),this._generateTooltipStyle(".PIVOT",".pivot",e.indicators.PIVOT.pivot.colour,e.indicators.PIVOT.pivot.isVisible),this._generateTooltipStyle(".PIVOT",".r1",e.indicators.PIVOT.r1.colour,e.indicators.PIVOT.r1.isVisible),this._generateTooltipStyle(".PIVOT",".r2",e.indicators.PIVOT.r2.colour,e.indicators.PIVOT.r2.isVisible),this._generateTooltipStyle(".PIVOT",".r3",e.indicators.PIVOT.r3.colour,e.indicators.PIVOT.r3.isVisible),this._generateTooltipStyle(".PIVOT",".s1",e.indicators.PIVOT.s1.colour,e.indicators.PIVOT.s1.isVisible),this._generateTooltipStyle(".PIVOT",".s2",e.indicators.PIVOT.s2.colour,e.indicators.PIVOT.s2.isVisible),this._generateTooltipStyle(".PIVOT",".s3",e.indicators.PIVOT.s3.colour,e.indicators.PIVOT.s3.isVisible)]),this._generateIndicatorStyle([this._generateLineStyle(".group-RCI",".rankCorrelationIndex1",e.indicators.RCI.rankCorrelationIndex1,!1),this._generateLineStyle(".group-RCI",".rankCorrelationIndex2",e.indicators.RCI.rankCorrelationIndex2,!1),this._generateLineStyle(".group-RCI",".rankCorrelationIndex3",e.indicators.RCI.rankCorrelationIndex3,!1),this._generateLineStyle(".group-RCI",".rankCorrelationIndex4",e.indicators.RCI.rankCorrelationIndex4,!1),this._generateLineStyle(".group-RCI",".rankCorrelationIndex5",e.indicators.RCI.rankCorrelationIndex5,!1),this._generateLineStyle(".group-RCI",".rankCorrelationIndex6",e.indicators.RCI.rankCorrelationIndex6,!1),this._generateLineStyle(".group-RCI",".rankCorrelationIndex7",e.indicators.RCI.rankCorrelationIndex7,!1),this._generateLineStyle(".group-RCI",".rankCorrelationIndex8",e.indicators.RCI.rankCorrelationIndex8,!1),this._generateBijectiveDialogLabelStyle(".RCI",".period1",e.indicators.RCI.rankCorrelationIndex1.colour,e.indicators.RCI.rankCorrelationIndex1.isVisible),this._generateBijectiveDialogLabelStyle(".RCI",".period2",e.indicators.RCI.rankCorrelationIndex2.colour,e.indicators.RCI.rankCorrelationIndex2.isVisible),this._generateBijectiveDialogLabelStyle(".RCI",".period3",e.indicators.RCI.rankCorrelationIndex3.colour,e.indicators.RCI.rankCorrelationIndex3.isVisible),this._generateBijectiveDialogLabelStyle(".RCI",".period4",e.indicators.RCI.rankCorrelationIndex4.colour,e.indicators.RCI.rankCorrelationIndex4.isVisible),this._generateBijectiveDialogLabelStyle(".RCI",".period5",e.indicators.RCI.rankCorrelationIndex5.colour,e.indicators.RCI.rankCorrelationIndex5.isVisible),this._generateBijectiveDialogLabelStyle(".RCI",".period6",e.indicators.RCI.rankCorrelationIndex6.colour,e.indicators.RCI.rankCorrelationIndex6.isVisible),this._generateBijectiveDialogLabelStyle(".RCI",".period7",e.indicators.RCI.rankCorrelationIndex7.colour,e.indicators.RCI.rankCorrelationIndex7.isVisible),this._generateBijectiveDialogLabelStyle(".RCI",".period8",e.indicators.RCI.rankCorrelationIndex8.colour,e.indicators.RCI.rankCorrelationIndex8.isVisible),this._generateTooltipStyle(".RCI",".rankCorrelationIndex1",e.indicators.RCI.rankCorrelationIndex1.colour,e.indicators.RCI.rankCorrelationIndex1.isVisible),this._generateTooltipStyle(".RCI",".rankCorrelationIndex2",e.indicators.RCI.rankCorrelationIndex2.colour,e.indicators.RCI.rankCorrelationIndex2.isVisible),this._generateTooltipStyle(".RCI",".rankCorrelationIndex3",e.indicators.RCI.rankCorrelationIndex3.colour,e.indicators.RCI.rankCorrelationIndex3.isVisible),this._generateTooltipStyle(".RCI",".rankCorrelationIndex4",e.indicators.RCI.rankCorrelationIndex4.colour,e.indicators.RCI.rankCorrelationIndex4.isVisible),this._generateTooltipStyle(".RCI",".rankCorrelationIndex5",e.indicators.RCI.rankCorrelationIndex5.colour,e.indicators.RCI.rankCorrelationIndex5.isVisible),this._generateTooltipStyle(".RCI",".rankCorrelationIndex6",e.indicators.RCI.rankCorrelationIndex6.colour,e.indicators.RCI.rankCorrelationIndex6.isVisible),this._generateTooltipStyle(".RCI",".rankCorrelationIndex7",e.indicators.RCI.rankCorrelationIndex7.colour,e.indicators.RCI.rankCorrelationIndex7.isVisible),this._generateTooltipStyle(".RCI",".rankCorrelationIndex8",e.indicators.RCI.rankCorrelationIndex8.colour,e.indicators.RCI.rankCorrelationIndex8.isVisible)]),this._generateIndicatorStyle([this._generateGradientStyle(".group-ROC",e.indicators.ROC.up,e.indicators.ROC.down),this._generateLineStyle(".group-ROC",".roc",e.indicators.ROC.line,!0),this._generateTooltipStyle(".ROC",".roc.up",e.indicators.ROC.up.lineColour.colour,e.indicators.ROC.up.lineColour.isVisible),this._generateTooltipStyle(".ROC",".roc.down",e.indicators.ROC.down.lineColour.colour,e.indicators.ROC.down.lineColour.isVisible)]),this._generateIndicatorStyle([this._generateGradientStyle(".group-RSI",e.indicators.RSI.up,e.indicators.RSI.down),this._generateLineStyle(".group-RSI",".relativeStrengthIndex",e.indicators.RSI.line,!0),this._generateColourlessTooltipStyle(".RSI",".relativeStrengthIndex",e.indicators.RSI.line.isVisible)]),this._generateIndicatorStyle([this._generateLineWithFillStyle(".group-STDEV",".standardDeviation",e.indicators.STDEV),this._generateTooltipStyle(".STDEV","",e.indicators.STDEV.line.colour,e.indicators.STDEV.line.isVisible)]),this._generateIndicatorStyle([this._generateLineStyle(".group-STOCH",".stochasticK",e.indicators.STOCH.stochasticK,!1),this._generateLineStyle(".group-STOCH",".stochasticD",e.indicators.STOCH.stochasticD,!1),this._generateTooltipStyle(".STOCH",".stochasticD",e.indicators.STOCH.stochasticD.colour,e.indicators.STOCH.stochasticD.isVisible),this._generateTooltipStyle(".STOCH",".stochasticK",e.indicators.STOCH.stochasticK.colour,e.indicators.STOCH.stochasticK.isVisible)]),this._generateIndicatorStyle([this._generateSuperTrendStyles(e.indicators.SUPERTREND),this._generateTooltipStyle(".SUPERTREND",".up",e.indicators.SUPERTREND.up.colour,e.indicators.SUPERTREND.up.isVisible),this._generateTooltipStyle(".SUPERTREND",".down",e.indicators.SUPERTREND.down.colour,e.indicators.SUPERTREND.down.isVisible)]),this._generateIndicatorStyle([this._generateBarStyle(".group-VOLUME",e.indicators.VOLUME.up.colour,e.indicators.VOLUME.up.isVisible,e.indicators.VOLUME.down.colour,e.indicators.VOLUME.down.isVisible,e.indicators.VOLUME.fill.colour,e.indicators.VOLUME.fill.isVisible),this._generateTooltipStyle(".VOLUME",".volume",e.indicators.VOLUME.fill.colour,e.indicators.VOLUME.fill.isVisible),this._generateTooltipStyle(".VOLUME",".volume.up",e.indicators.VOLUME.up.colour,e.indicators.VOLUME.up.isVisible),this._generateTooltipStyle(".VOLUME",".volume.down",e.indicators.VOLUME.down.colour,e.indicators.VOLUME.down.isVisible)]),this._generateIndicatorStyle([this._generateLineStyle(".group-VWAP",".vwap",e.indicators.VWAP.line,!1),this._generateTooltipStyle(".VWAP","",e.indicators.VWAP.line.colour,e.indicators.VWAP.line.isVisible)]),this._generateIndicatorStyle([this._generateLineStyle(".group-WMA",".weightedMovingAverage1",e.indicators.WMA.wma1,!1),this._generateLineStyle(".group-WMA",".weightedMovingAverage2",e.indicators.WMA.wma2,!1),this._generateLineStyle(".group-WMA",".weightedMovingAverage3",e.indicators.WMA.wma3,!1),this._generateLineStyle(".group-WMA",".weightedMovingAverage4",e.indicators.WMA.wma4,!1),this._generateLineStyle(".group-WMA",".weightedMovingAverage5",e.indicators.WMA.wma5,!1),this._generateLineStyle(".group-WMA",".weightedMovingAverage6",e.indicators.WMA.wma6,!1),this._generateLineStyle(".group-WMA",".weightedMovingAverage7",e.indicators.WMA.wma7,!1),this._generateLineStyle(".group-WMA",".weightedMovingAverage8",e.indicators.WMA.wma8,!1),this._generateBijectiveDialogLabelStyle(".WMA",".period1",e.indicators.WMA.wma1.colour,e.indicators.WMA.wma1.isVisible),this._generateBijectiveDialogLabelStyle(".WMA",".period2",e.indicators.WMA.wma2.colour,e.indicators.WMA.wma2.isVisible),this._generateBijectiveDialogLabelStyle(".WMA",".period3",e.indicators.WMA.wma3.colour,e.indicators.WMA.wma3.isVisible),this._generateBijectiveDialogLabelStyle(".WMA",".period4",e.indicators.WMA.wma4.colour,e.indicators.WMA.wma4.isVisible),this._generateBijectiveDialogLabelStyle(".WMA",".period5",e.indicators.WMA.wma5.colour,e.indicators.WMA.wma5.isVisible),this._generateBijectiveDialogLabelStyle(".WMA",".period6",e.indicators.WMA.wma6.colour,e.indicators.WMA.wma6.isVisible),this._generateBijectiveDialogLabelStyle(".WMA",".period7",e.indicators.WMA.wma7.colour,e.indicators.WMA.wma7.isVisible),this._generateBijectiveDialogLabelStyle(".WMA",".period8",e.indicators.WMA.wma8.colour,e.indicators.WMA.wma8.isVisible),this._generateTooltipStyle(".WMA",".weightedMovingAverage1",e.indicators.WMA.wma1.colour,e.indicators.WMA.wma1.isVisible),this._generateTooltipStyle(".WMA",".weightedMovingAverage2",e.indicators.WMA.wma2.colour,e.indicators.WMA.wma2.isVisible),this._generateTooltipStyle(".WMA",".weightedMovingAverage3",e.indicators.WMA.wma3.colour,e.indicators.WMA.wma3.isVisible),this._generateTooltipStyle(".WMA",".weightedMovingAverage4",e.indicators.WMA.wma4.colour,e.indicators.WMA.wma4.isVisible),this._generateTooltipStyle(".WMA",".weightedMovingAverage5",e.indicators.WMA.wma5.colour,e.indicators.WMA.wma5.isVisible),this._generateTooltipStyle(".WMA",".weightedMovingAverage6",e.indicators.WMA.wma6.colour,e.indicators.WMA.wma6.isVisible),this._generateTooltipStyle(".WMA",".weightedMovingAverage7",e.indicators.WMA.wma7.colour,e.indicators.WMA.wma7.isVisible),this._generateTooltipStyle(".WMA",".weightedMovingAverage8",e.indicators.WMA.wma8.colour,e.indicators.WMA.wma8.isVisible)]),this._generateIndicatorStyle([this._generateLineStyle(".group-VWMA",".volumeWeightedMovingAverage1",e.indicators.VWMA.vwma1,!1),this._generateLineStyle(".group-VWMA",".volumeWeightedMovingAverage2",e.indicators.VWMA.vwma2,!1),this._generateLineStyle(".group-VWMA",".volumeWeightedMovingAverage3",e.indicators.VWMA.vwma3,!1),this._generateLineStyle(".group-VWMA",".volumeWeightedMovingAverage4",e.indicators.VWMA.vwma4,!1),this._generateLineStyle(".group-VWMA",".volumeWeightedMovingAverage5",e.indicators.VWMA.vwma5,!1),this._generateLineStyle(".group-VWMA",".volumeWeightedMovingAverage6",e.indicators.VWMA.vwma6,!1),this._generateLineStyle(".group-VWMA",".volumeWeightedMovingAverage7",e.indicators.VWMA.vwma7,!1),this._generateLineStyle(".group-VWMA",".volumeWeightedMovingAverage8",e.indicators.VWMA.vwma8,!1),this._generateBijectiveDialogLabelStyle(".VWMA",".period1",e.indicators.VWMA.vwma1.colour,e.indicators.VWMA.vwma1.isVisible),this._generateBijectiveDialogLabelStyle(".VWMA",".period2",e.indicators.VWMA.vwma2.colour,e.indicators.VWMA.vwma2.isVisible),this._generateBijectiveDialogLabelStyle(".VWMA",".period3",e.indicators.VWMA.vwma3.colour,e.indicators.VWMA.vwma3.isVisible),this._generateBijectiveDialogLabelStyle(".VWMA",".period4",e.indicators.VWMA.vwma4.colour,e.indicators.VWMA.vwma4.isVisible),this._generateBijectiveDialogLabelStyle(".VWMA",".period5",e.indicators.VWMA.vwma5.colour,e.indicators.VWMA.vwma5.isVisible),this._generateBijectiveDialogLabelStyle(".VWMA",".period6",e.indicators.VWMA.vwma6.colour,e.indicators.VWMA.vwma6.isVisible),this._generateBijectiveDialogLabelStyle(".VWMA",".period7",e.indicators.VWMA.vwma7.colour,e.indicators.VWMA.vwma7.isVisible),this._generateBijectiveDialogLabelStyle(".VWMA",".period8",e.indicators.VWMA.vwma8.colour,e.indicators.VWMA.vwma8.isVisible),this._generateTooltipStyle(".VWMA",".volumeWeightedMovingAverage1",e.indicators.VWMA.vwma1.colour,e.indicators.VWMA.vwma1.isVisible),this._generateTooltipStyle(".VWMA",".volumeWeightedMovingAverage2",e.indicators.VWMA.vwma2.colour,e.indicators.VWMA.vwma2.isVisible),this._generateTooltipStyle(".VWMA",".volumeWeightedMovingAverage3",e.indicators.VWMA.vwma3.colour,e.indicators.VWMA.vwma3.isVisible),this._generateTooltipStyle(".VWMA",".volumeWeightedMovingAverage4",e.indicators.VWMA.vwma4.colour,e.indicators.VWMA.vwma4.isVisible),this._generateTooltipStyle(".VWMA",".volumeWeightedMovingAverage5",e.indicators.VWMA.vwma5.colour,e.indicators.VWMA.vwma5.isVisible),this._generateTooltipStyle(".VWMA",".volumeWeightedMovingAverage6",e.indicators.VWMA.vwma6.colour,e.indicators.VWMA.vwma6.isVisible),this._generateTooltipStyle(".VWMA",".volumeWeightedMovingAverage7",e.indicators.VWMA.vwma7.colour,e.indicators.VWMA.vwma7.isVisible),this._generateTooltipStyle(".VWMA",".volumeWeightedMovingAverage8",e.indicators.VWMA.vwma8.colour,e.indicators.VWMA.vwma8.isVisible)]),this._generateIndicatorStyle([this._generateGradientStyle(".group-WILLR",e.indicators.WILLR.up,e.indicators.WILLR.down),this._generateLineStyle(".group-WILLR",".williamsPercentR",e.indicators.WILLR.line,!0),this._generateColourlessTooltipStyle(".WILLR",".williamsPercentR",e.indicators.WILLR.line.isVisible)]),this._generateAxisTickStyles(t)].join(" "))},d.destroy=function(){this._settingsManager.un(null,this),this._dStyleElement.text(""),this._dStyleElement=null},d._generateIndicatorStyle=function(e){return e.join("\n")},d._generateGradientStyle=function(e,t,i){function n(e){return e.isVisible?"stop-color:"+e.colour:"stop-opacity: 0"}return this._chartSelector+" "+e+" .gradientStroke .topArea {"+n(t.lineColour)+"}"+this._chartSelector+" "+e+" .gradientFill .topArea {"+n(t.fill)+"}"+this._chartSelector+" "+e+" .gradientStroke .bottomArea {"+n(i.lineColour)+"}"+this._chartSelector+" "+e+" .gradientFill .bottomArea {"+n(i.fill)+"}"},d._generateLineStyle=function(e,t,i,n){return this._chartSelector+" "+e+t+".renderer .line {"+l.strokeStyles(i,n)+"}"},d._generateLineWithFillStyle=function(e,t,i){return this._chartSelector+" .body "+e+t+" .line {"+l.strokeStyles(i.line)+"}"+this._chartSelector+" .body "+e+t+" .fill {"+(i.fill.isVisible?"fill: "+i.fill.colour+"; ":"display: none; ")+"}"},d._generateTrendingLineStyle=function(e,t,i,n,s){var r=this._chartSelector+" "+e+t+".renderer .line.up {"+l.strokeStyles(i,!1)+"}"+this._chartSelector+" "+e+t+".renderer .line.down {"+l.strokeStyles(n,!1)+"}";return s&&(r+=this._chartSelector+" "+e+t+".renderer .line.noMovement {"+l.strokeStyles(s,!1)+"}"),r},d._generateCloudStyle=function(e,t,i,n,s,r){return this._chartSelector+" "+e+t+".renderer .aIsOverB {"+(s?"fill:"+i+" !important;":"display: none; ")+"}"+this._chartSelector+" "+e+t+".renderer .bIsOverA {"+(r?"fill:"+n+" !important;":"display: none; ")+"}"},d._generatePathAndLabelStyle=function(e,t,i,n){return this._generatePathStyle(e,t,n)+"\n"+this._generateLabelStyle(e,i,n)},d._generatePathStyle=function(e,t,i){return this._chartSelector+" "+e+t+".renderer path {"+l.strokeStyles(i,!1)+"}"},d._generateLabelStyle=function(e,t,i){return this._chartSelector+" "+e+t+".renderer text {"+(i.isVisible?"fill:"+i.colour+" !important;":"display: none;")+"}"},d._generateDialogLabelStyle=function(e,t,i){return this._chartSelector+" .dialogContainer .setting"+e+t+" .settingName {color:"+i+" !important;}"+this._chartSelector+" .indicatorLabel"+e+" .setting"+t+" {fill:"+i+" !important;}"},d._generateBijectiveDialogLabelStyle=function(e,t,i,n){return this._chartSelector+" .dialogContainer .setting"+e+t+" .settingName {color:"+i+" !important;}"+this._chartSelector+" .indicatorLabel"+e+" .setting"+t+" {"+(n?"fill:"+i+" !important;":"display: none;")+"}"},d._generateTooltipStyle=function(e,t,i,n){return this._chartSelector+" .tooltipRow"+e+t+" td {"+(n?"color:"+i+" !important;":"display: none; ")+"}"},d._generateColourlessTooltipStyle=function(e,t,i){return i?"":this._chartSelector+" .tooltipRow"+e+t+" td {display: none; }"},d._generateDotStyle=function(e,t,i,n,s,r){return this._chartSelector+" "+e+t+".renderer .point.up {"+(n?"fill:"+i+" !important;":"display: none; ")+"}"+this._chartSelector+" "+e+t+".renderer .point.down {"+(r?"fill:"+s+" !important;":"display: none; ")+"}"},d._generateBarStyle=function(e,t,i,n,s,r,o){var a="";return r&&(a+=this._chartSelector+" "+e+".bars .bar:not(.up):not(.down) {"+(o?"fill: "+r+" !important;":"display: none; ")+"}"),a+=this._chartSelector+" "+e+".bars .bar.up {"+(i?"fill: "+t+" !important;":"display: none; ")+"}"+this._chartSelector+" "+e+".bars .bar.down {"+(s?"fill: "+n+" !important;":"display: none; ")+"}"},d._generateCandlestickStyles=function(e,t){return this._chartSelector+" .renderer."+t+" .candle.up .openClose { fill: "+e.up.fill.colour+"; "+l.strokeStyles(e.up.stroke)+"} "+this._chartSelector+" .renderer."+t+" .candle.noMovement .openClose { "+l.strokeStyles(e.noMovement.stroke)+"} "+this._chartSelector+" .renderer."+t+" .candle.up .highLow { "+l.strokeStyles(e.up.stroke)+"} "+this._chartSelector+" .renderer."+t+" .candle.noMovement .highLow { "+l.strokeStyles(e.noMovement.stroke)+"} "+this._chartSelector+" .renderer."+t+" .candle.down .openClose { fill: "+e.down.fill.colour+"; "+l.strokeStyles(e.down.stroke)+"} "+this._chartSelector+" .renderer."+t+" .candle.down .highLow { "+l.strokeStyles(e.down.stroke)+"}"},d._generateAxisTickStyles=function(e){var t=this._settingsManager.getTheme(),i=.4;return t===a.default.IG_DARK?i=1:t!==a.default.NWTP_NAVY&&t!==a.default.IG_NAVY||(i=.3),this._chartSelector+" .yTicks .line { "+(e.isVisible?"stroke: "+e.colour+"; stroke-opacity: "+i+"; } ":"display: none !important; }")+this._chartSelector+" .xAxis .minor .tick .line { "+(e.isVisible?"stroke: "+e.colour+"; stroke-opacity: "+i+"; } ":"display: none !important; }")+this._chartSelector+" .xAxis .major .tick .line { "+(e.isVisible?"stroke: "+e.colour+"; stroke-opacity: 1.0; } ":"display: none !important; }")},d._generateLineStyles=function(e){return this._chartSelector+" .body .group-PRICES.LINE .line.up {"+l.strokeStyles(e.up)+"}"+this._chartSelector+" .body .group-PRICES.LINE .line.noMovement {"+l.strokeStyles(e.noMovement)+"}"+this._chartSelector+" .body .group-PRICES.LINE .line.down {"+l.strokeStyles(e.down)+"}"},d._generateSuperTrendStyles=function(e){return this._chartSelector+" .group-SUPERTREND.superTrend .up {"+l.strokeStyles(e.up)+"}"+this._chartSelector+" .group-SUPERTREND.superTrend .down {"+l.strokeStyles(e.down)+"}"},d._generateHlocStyles=function(e){return this._chartSelector+" .body .group-PRICES.HLOC .hloc.up {"+l.strokeStyles(e.up)+"}"+this._chartSelector+" .body .group-PRICES.HLOC .hloc.up .highLow {"+l.strokeStyles(e.up)+"}"+this._chartSelector+" .body .group-PRICES.HLOC .hloc.noMovement {"+l.strokeStyles(e.noMovement)+"}"+this._chartSelector+" .body .group-PRICES.HLOC .hloc.noMovement .highLow {"+l.strokeStyles(e.noMovement)+"}"+this._chartSelector+" .body .group-PRICES.HLOC .hloc.down {"+l.strokeStyles(e.down)+"}"+this._chartSelector+" .body .group-PRICES.HLOC .hloc.down .highLow {"+l.strokeStyles(e.down)+"}"},d._generateMountainStyles=function(e){return this._generateLineWithFillStyle(".group-PRICES",".MOUNTAIN",e)},Object.seal(d);const u=Object.seal(l)},14089:(e,t,i)=>{"use strict";var n,s,r,o,a=i(32906),l=i(97204),d=i(9181),u=i(85566),c=180/Math.PI,h={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function p(e,t,i,n,s,r){var o,a,l;return(o=Math.sqrt(e*e+t*t))&&(e/=o,t/=o),(l=e*i+t*n)&&(i-=e*l,n-=t*l),(a=Math.sqrt(i*i+n*n))&&(i/=a,n/=a,l/=a),e*n<t*i&&(e=-e,t=-t,l=-l,o=-o),{translateX:s,translateY:r,rotate:Math.atan2(t,e)*c,skewX:Math.atan(l)*c,scaleX:o,scaleY:a}}function _(e,t,i,n){function s(e){return e.length?e.pop()+" ":""}return function(r,o){var a=[],l=[];return r=e(r),o=e(o),function(e,n,s,r,o,a){if(e!==s||n!==r){var l=o.push("translate(",null,t,null,i);a.push({i:l-4,x:(0,u.A)(e,s)},{i:l-2,x:(0,u.A)(n,r)})}else(s||r)&&o.push("translate("+s+t+r+i)}(r.translateX,r.translateY,o.translateX,o.translateY,a,l),function(e,t,i,r){e!==t?(e-t>180?t+=360:t-e>180&&(e+=360),r.push({i:i.push(s(i)+"rotate(",null,n)-2,x:(0,u.A)(e,t)})):t&&i.push(s(i)+"rotate("+t+n)}(r.rotate,o.rotate,a,l),function(e,t,i,r){e!==t?r.push({i:i.push(s(i)+"skewX(",null,n)-2,x:(0,u.A)(e,t)}):t&&i.push(s(i)+"skewX("+t+n)}(r.skewX,o.skewX,a,l),function(e,t,i,n,r,o){if(e!==i||t!==n){var a=r.push(s(r)+"scale(",null,",",null,")");o.push({i:a-4,x:(0,u.A)(e,i)},{i:a-2,x:(0,u.A)(t,n)})}else 1===i&&1===n||r.push(s(r)+"scale("+i+","+n+")")}(r.scaleX,r.scaleY,o.scaleX,o.scaleY,a,l),r=o=null,function(e){for(var t,i=-1,n=l.length;++i<n;)a[(t=l[i]).i]=t.x(e);return a.join("")}}}var g=_((function(e){return"none"===e?h:(n||(n=document.createElement("DIV"),s=document.documentElement,r=document.defaultView),n.style.transform=e,e=r.getComputedStyle(s.appendChild(n),null).getPropertyValue("transform"),s.removeChild(n),p(+(e=e.slice(7,-1).split(","))[0],+e[1],+e[2],+e[3],+e[4],+e[5]))}),"px, ","px)","deg)"),f=_((function(e){return null==e?h:(o||(o=document.createElementNS("http://www.w3.org/2000/svg","g")),o.setAttribute("transform",e),(e=o.transform.baseVal.consolidate())?p((e=e.matrix).a,e.b,e.c,e.d,e.e,e.f):h)}),", ",")",")"),m=i(76357),v={value:function(){}};function A(){for(var e,t=0,i=arguments.length,n={};t<i;++t){if(!(e=arguments[t]+"")||e in n||/[\s.]/.test(e))throw new Error("illegal type: "+e);n[e]=[]}return new E(n)}function E(e){this._=e}function T(e,t){for(var i,n=0,s=e.length;n<s;++n)if((i=e[n]).name===t)return i.value}function I(e,t,i){for(var n=0,s=e.length;n<s;++n)if(e[n].name===t){e[n]=v,e=e.slice(0,n).concat(e.slice(n+1));break}return null!=i&&e.push({name:t,value:i}),e}E.prototype=A.prototype={constructor:E,on:function(e,t){var i,n,s=this._,r=(n=s,(e+"").trim().split(/^|\s+/).map((function(e){var t="",i=e.indexOf(".");if(i>=0&&(t=e.slice(i+1),e=e.slice(0,i)),e&&!n.hasOwnProperty(e))throw new Error("unknown type: "+e);return{type:e,name:t}}))),o=-1,a=r.length;if(!(arguments.length<2)){if(null!=t&&"function"!=typeof t)throw new Error("invalid callback: "+t);for(;++o<a;)if(i=(e=r[o]).type)s[i]=I(s[i],e.name,t);else if(null==t)for(i in s)s[i]=I(s[i],e.name,null);return this}for(;++o<a;)if((i=(e=r[o]).type)&&(i=T(s[i],e.name)))return i},copy:function(){var e={},t=this._;for(var i in t)e[i]=t[i].slice();return new E(e)},call:function(e,t){if((i=arguments.length-2)>0)for(var i,n,s=new Array(i),r=0;r<i;++r)s[r]=arguments[r+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(r=0,i=(n=this._[e]).length;r<i;++r)n[r].value.apply(t,s)},apply:function(e,t,i){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var n=this._[e],s=0,r=n.length;s<r;++s)n[s].value.apply(t,i)}};const C=A;var O,M,y=0,b=0,S=0,D=0,w=0,L=0,R="object"==typeof performance&&performance.now?performance:Date,P="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function N(){return w||(P(k),w=R.now()+L)}function k(){w=0}function x(){this._call=this._time=this._next=null}function V(e,t,i){var n=new x;return n.restart(e,t,i),n}function B(){w=(D=R.now())+L,y=b=0;try{!function(){N(),++y;for(var e,t=O;t;)(e=w-t._time)>=0&&t._call.call(null,e),t=t._next;--y}()}finally{y=0,function(){var e,t,i=O,n=1/0;for(;i;)i._call?(n>i._time&&(n=i._time),e=i,i=i._next):(t=i._next,i._next=null,i=e?e._next=t:O=t);M=e,W(n)}(),w=0}}function H(){var e=R.now(),t=e-D;t>1e3&&(L-=t,D=e)}function W(e){y||(b&&(b=clearTimeout(b)),e-w>24?(e<1/0&&(b=setTimeout(B,e-R.now()-L)),S&&(S=clearInterval(S))):(S||(D=R.now(),S=setInterval(H,1e3)),y=1,P(B)))}function F(e,t,i){var n=new x;return t=null==t?0:+t,n.restart((function(i){n.stop(),e(i+t)}),t,i),n}x.prototype=V.prototype={constructor:x,restart:function(e,t,i){if("function"!=typeof e)throw new TypeError("callback is not a function");i=(null==i?N():+i)+(null==t?0:+t),this._next||M===this||(M?M._next=this:O=this,M=this),this._call=e,this._time=i,W()},stop:function(){this._call&&(this._call=null,this._time=1/0,W())}};var U=C("start","end","cancel","interrupt"),G=[];function j(e,t,i,n,s,r){var o=e.__transition;if(o){if(i in o)return}else e.__transition={};!function(e,t,i){var n,s=e.__transition;function r(e){i.state=1,i.timer.restart(o,i.delay,i.time),i.delay<=e&&o(e-i.delay)}function o(r){var d,u,c,h;if(1!==i.state)return l();for(d in s)if((h=s[d]).name===i.name){if(3===h.state)return F(o);4===h.state?(h.state=6,h.timer.stop(),h.on.call("interrupt",e,e.__data__,h.index,h.group),delete s[d]):+d<t&&(h.state=6,h.timer.stop(),h.on.call("cancel",e,e.__data__,h.index,h.group),delete s[d])}if(F((function(){3===i.state&&(i.state=4,i.timer.restart(a,i.delay,i.time),a(r))})),i.state=2,i.on.call("start",e,e.__data__,i.index,i.group),2===i.state){for(i.state=3,n=new Array(c=i.tween.length),d=0,u=-1;d<c;++d)(h=i.tween[d].value.call(e,e.__data__,i.index,i.group))&&(n[++u]=h);n.length=u+1}}function a(t){for(var s=t<i.duration?i.ease.call(null,t/i.duration):(i.timer.restart(l),i.state=5,1),r=-1,o=n.length;++r<o;)n[r].call(e,s);5===i.state&&(i.on.call("end",e,e.__data__,i.index,i.group),l())}function l(){for(var n in i.state=6,i.timer.stop(),delete s[t],s)return;delete e.__transition}s[t]=i,i.timer=V(r,0,i.time)}(e,i,{name:t,index:n,group:s,on:U,tween:G,time:r.time,delay:r.delay,duration:r.duration,ease:r.ease,timer:null,state:0})}function K(e,t){var i=Z(e,t);if(i.state>0)throw new Error("too late; already scheduled");return i}function z(e,t){var i=Z(e,t);if(i.state>3)throw new Error("too late; already running");return i}function Z(e,t){var i=e.__transition;if(!i||!(i=i[t]))throw new Error("transition not found");return i}function Y(e,t){var i,n;return function(){var s=z(this,e),r=s.tween;if(r!==i)for(var o=0,a=(n=i=r).length;o<a;++o)if(n[o].name===t){(n=n.slice()).splice(o,1);break}s.tween=n}}function $(e,t,i){var n,s;if("function"!=typeof i)throw new Error;return function(){var r=z(this,e),o=r.tween;if(o!==n){s=(n=o).slice();for(var a={name:t,value:i},l=0,d=s.length;l<d;++l)if(s[l].name===t){s[l]=a;break}l===d&&s.push(a)}r.tween=s}}function q(e,t,i){var n=e._id;return e.each((function(){var e=z(this,n);(e.value||(e.value={}))[t]=i.apply(this,arguments)})),function(e){return Z(e,n).value[t]}}var X=i(63597),J=i(85368),Q=i(23318);function ee(e,t){var i;return("number"==typeof t?u.A:t instanceof X.Ay?J.Ay:(i=(0,X.Ay)(t))?(t=i,J.Ay):Q.A)(e,t)}function te(e){return function(){this.removeAttribute(e)}}function ie(e){return function(){this.removeAttributeNS(e.space,e.local)}}function ne(e,t,i){var n,s,r=i+"";return function(){var o=this.getAttribute(e);return o===r?null:o===n?s:s=t(n=o,i)}}function se(e,t,i){var n,s,r=i+"";return function(){var o=this.getAttributeNS(e.space,e.local);return o===r?null:o===n?s:s=t(n=o,i)}}function re(e,t,i){var n,s,r;return function(){var o,a,l=i(this);if(null!=l)return(o=this.getAttribute(e))===(a=l+"")?null:o===n&&a===s?r:(s=a,r=t(n=o,l));this.removeAttribute(e)}}function oe(e,t,i){var n,s,r;return function(){var o,a,l=i(this);if(null!=l)return(o=this.getAttributeNS(e.space,e.local))===(a=l+"")?null:o===n&&a===s?r:(s=a,r=t(n=o,l));this.removeAttributeNS(e.space,e.local)}}function ae(e,t){var i,n;function s(){var s=t.apply(this,arguments);return s!==n&&(i=(n=s)&&function(e,t){return function(i){this.setAttributeNS(e.space,e.local,t(i))}}(e,s)),i}return s._value=t,s}function le(e,t){var i,n;function s(){var s=t.apply(this,arguments);return s!==n&&(i=(n=s)&&function(e,t){return function(i){this.setAttribute(e,t(i))}}(e,s)),i}return s._value=t,s}function de(e,t){return function(){K(this,e).delay=+t.apply(this,arguments)}}function ue(e,t){return t=+t,function(){K(this,e).delay=t}}function ce(e,t){return function(){z(this,e).duration=+t.apply(this,arguments)}}function he(e,t){return t=+t,function(){z(this,e).duration=t}}var pe=i(94692);var _e=i(9729);var ge=i(51118);var fe=a.Ay.prototype.constructor;var me=i(97626);function ve(e){return function(){this.style.removeProperty(e)}}var Ae=0;function Ee(e,t,i,n){this._groups=e,this._parents=t,this._name=i,this._id=n}function Te(e){return(0,a.Ay)().transition(e)}var Ie=a.Ay.prototype;function Ce(e,t){return e.each((function(){var e=t.apply(this,arguments),i=(0,l.A)(this);for(var n in e)i.attr(n,e[n])}))}function Oe(e,t){for(var i in t)e.attr(i,t[i]);return e}function Me(e,t,i){return e.each((function(){var e=t.apply(this,arguments),n=(0,l.A)(this);for(var s in e)n.style(s,e[s],i)}))}function ye(e,t,i){for(var n in t)e.style(n,t[n],i);return e}function be(e,t){return e.each((function(){var e=t.apply(this,arguments),i=(0,l.A)(this);for(var n in e)i.property(n,e[n])}))}function Se(e,t){for(var i in t)e.property(i,t[i]);return e}function De(e,t){return e.each((function(){var i=t.apply(this,arguments),n=(0,l.A)(this).transition(e);for(var s in i)n.attr(s,i[s])}))}function we(e,t){for(var i in t)e.attr(i,t[i]);return e}function Le(e,t,i){return e.each((function(){var n=t.apply(this,arguments),s=(0,l.A)(this).transition(e);for(var r in n)s.style(r,n[r],i)}))}function Re(e,t,i){for(var n in t)e.style(n,t[n],i);return e}Ee.prototype=Te.prototype={constructor:Ee,select:function(e){var t=this._name,i=this._id;"function"!=typeof e&&(e=(0,_e.A)(e));for(var n=this._groups,s=n.length,r=new Array(s),o=0;o<s;++o)for(var a,l,d=n[o],u=d.length,c=r[o]=new Array(u),h=0;h<u;++h)(a=d[h])&&(l=e.call(a,a.__data__,h,d))&&("__data__"in a&&(l.__data__=a.__data__),c[h]=l,j(c[h],t,i,h,c,Z(a,i)));return new Ee(r,this._parents,t,i)},selectAll:function(e){var t=this._name,i=this._id;"function"!=typeof e&&(e=(0,ge.A)(e));for(var n=this._groups,s=n.length,r=[],o=[],a=0;a<s;++a)for(var l,d=n[a],u=d.length,c=0;c<u;++c)if(l=d[c]){for(var h,p=e.call(l,l.__data__,c,d),_=Z(l,i),g=0,f=p.length;g<f;++g)(h=p[g])&&j(h,t,i,g,p,_);r.push(p),o.push(l)}return new Ee(r,o,t,i)},filter:function(e){"function"!=typeof e&&(e=(0,pe.A)(e));for(var t=this._groups,i=t.length,n=new Array(i),s=0;s<i;++s)for(var r,o=t[s],a=o.length,l=n[s]=[],d=0;d<a;++d)(r=o[d])&&e.call(r,r.__data__,d,o)&&l.push(r);return new Ee(n,this._parents,this._name,this._id)},merge:function(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,i=e._groups,n=t.length,s=i.length,r=Math.min(n,s),o=new Array(n),a=0;a<r;++a)for(var l,d=t[a],u=i[a],c=d.length,h=o[a]=new Array(c),p=0;p<c;++p)(l=d[p]||u[p])&&(h[p]=l);for(;a<n;++a)o[a]=t[a];return new Ee(o,this._parents,this._name,this._id)},selection:function(){return new fe(this._groups,this._parents)},transition:function(){for(var e=this._name,t=this._id,i=++Ae,n=this._groups,s=n.length,r=0;r<s;++r)for(var o,a=n[r],l=a.length,d=0;d<l;++d)if(o=a[d]){var u=Z(o,t);j(o,e,i,d,a,{time:u.time+u.delay+u.duration,delay:0,duration:u.duration,ease:u.ease})}return new Ee(n,this._parents,e,i)},call:Ie.call,nodes:Ie.nodes,node:Ie.node,size:Ie.size,empty:Ie.empty,each:Ie.each,on:function(e,t){var i=this._id;return arguments.length<2?Z(this.node(),i).on.on(e):this.each(function(e,t,i){var n,s,r=function(e){return(e+"").trim().split(/^|\s+/).every((function(e){var t=e.indexOf(".");return t>=0&&(e=e.slice(0,t)),!e||"start"===e}))}(t)?K:z;return function(){var o=r(this,e),a=o.on;a!==n&&(s=(n=a).copy()).on(t,i),o.on=s}}(i,e,t))},attr:function(e,t){var i=(0,m.A)(e),n="transform"===i?f:ee;return this.attrTween(e,"function"==typeof t?(i.local?oe:re)(i,n,q(this,"attr."+e,t)):null==t?(i.local?ie:te)(i):(i.local?se:ne)(i,n,t))},attrTween:function(e,t){var i="attr."+e;if(arguments.length<2)return(i=this.tween(i))&&i._value;if(null==t)return this.tween(i,null);if("function"!=typeof t)throw new Error;var n=(0,m.A)(e);return this.tween(i,(n.local?ae:le)(n,t))},style:function(e,t,i){var n="transform"==(e+="")?g:ee;return null==t?this.styleTween(e,function(e,t){var i,n,s;return function(){var r=(0,me.j)(this,e),o=(this.style.removeProperty(e),(0,me.j)(this,e));return r===o?null:r===i&&o===n?s:s=t(i=r,n=o)}}(e,n)).on("end.style."+e,ve(e)):"function"==typeof t?this.styleTween(e,function(e,t,i){var n,s,r;return function(){var o=(0,me.j)(this,e),a=i(this),l=a+"";return null==a&&(this.style.removeProperty(e),l=a=(0,me.j)(this,e)),o===l?null:o===n&&l===s?r:(s=l,r=t(n=o,a))}}(e,n,q(this,"style."+e,t))).each(function(e,t){var i,n,s,r,o="style."+t,a="end."+o;return function(){var l=z(this,e),d=l.on,u=null==l.value[o]?r||(r=ve(t)):void 0;d===i&&s===u||(n=(i=d).copy()).on(a,s=u),l.on=n}}(this._id,e)):this.styleTween(e,function(e,t,i){var n,s,r=i+"";return function(){var o=(0,me.j)(this,e);return o===r?null:o===n?s:s=t(n=o,i)}}(e,n,t),i).on("end.style."+e,null)},styleTween:function(e,t,i){var n="style."+(e+="");if(arguments.length<2)return(n=this.tween(n))&&n._value;if(null==t)return this.tween(n,null);if("function"!=typeof t)throw new Error;return this.tween(n,function(e,t,i){var n,s;function r(){var r=t.apply(this,arguments);return r!==s&&(n=(s=r)&&function(e,t,i){return function(n){this.style.setProperty(e,t(n),i)}}(e,r,i)),n}return r._value=t,r}(e,t,null==i?"":i))},text:function(e){return this.tween("text","function"==typeof e?function(e){return function(){var t=e(this);this.textContent=null==t?"":t}}(q(this,"text",e)):function(e){return function(){this.textContent=e}}(null==e?"":e+""))},remove:function(){return this.on("end.remove",function(e){return function(){var t=this.parentNode;for(var i in this.__transition)if(+i!==e)return;t&&t.removeChild(this)}}(this._id))},tween:function(e,t){var i=this._id;if(e+="",arguments.length<2){for(var n,s=Z(this.node(),i).tween,r=0,o=s.length;r<o;++r)if((n=s[r]).name===e)return n.value;return null}return this.each((null==t?Y:$)(i,e,t))},delay:function(e){var t=this._id;return arguments.length?this.each(("function"==typeof e?de:ue)(t,e)):Z(this.node(),t).delay},duration:function(e){var t=this._id;return arguments.length?this.each(("function"==typeof e?ce:he)(t,e)):Z(this.node(),t).duration},ease:function(e){var t=this._id;return arguments.length?this.each(function(e,t){if("function"!=typeof t)throw new Error;return function(){z(this,e).ease=t}}(t,e)):Z(this.node(),t).ease},end:function(){var e,t,i=this,n=i._id,s=i.size();return new Promise((function(r,o){var a={value:o},l={value:function(){0==--s&&r()}};i.each((function(){var i=z(this,n),s=i.on;s!==e&&((t=(e=s).copy())._.cancel.push(a),t._.interrupt.push(a),t._.end.push(l)),i.on=t}))}))}},a.Ay.prototype.attrs=function(e){return("function"==typeof e?Ce:Oe)(this,e)},a.Ay.prototype.styles=function(e,t){return("function"==typeof e?Me:ye)(this,e,null==t?"":t)},a.Ay.prototype.properties=function(e){return("function"==typeof e?be:Se)(this,e)},Te.prototype.attrs=function(e){return("function"==typeof e?De:we)(this,e)},Te.prototype.styles=function(e,t){return("function"==typeof e?Le:Re)(this,e,null==t?"":t)};var Pe=i(41943),Ne=i(9525);a.Ay.prototype.toArray=function(){var e=[];return this.each((function(){e.push((0,l.A)(this))})),e},a.Ay.prototype.top=function(e){return arguments.length>0?(this.style("top",e+"px"),this):parseInt(this.style("top").replace("px",""),10)},a.Ay.prototype.bottom=function(e){return arguments.length>0?(this.style("top",e+"px"),this):parseInt(this.style("bottom").replace("px",""),10)},a.Ay.prototype.left=function(e){return arguments.length>0?(this.style("left",e+"px"),this):parseInt(this.style("left").replace("px",""),10)},a.Ay.prototype.width=function(e){return arguments.length>0?(this.style("width",e+"px"),this):parseInt(this.style("width").replace("px",""),10)},a.Ay.prototype.height=function(e){return arguments.length>0?(this.style("height",e+"px"),this):parseInt(this.style("height").replace("px",""),10)},a.Ay.prototype.appendElement=function(e){return this.select((function(t,i){var n="function"==typeof e?e(t,i):e;return this.appendChild(n)}))},a.Ay.prototype.enter.prototype.appendElement=a.Ay.prototype.appendElement,a.Ay.prototype.eachElement=function(e){return this.each((function(){var t=Array.prototype.slice.call(arguments);return t.unshift(this),e.apply(this,t)}))},a.Ay.prototype.enter.prototype.eachElement=a.Ay.prototype.eachElement,a.Ay.prototype.mapElement=function(e){var t=[];return this.each((function(){var i=Array.prototype.slice.call(arguments);i.unshift(this),t.push(e.apply(this,i))})),t},a.Ay.prototype.enter.prototype.mapElement=a.Ay.prototype.mapElement,a.Ay.prototype.parent=function(){return(0,d.A)((0,Pe.unique)(this.mapElement((0,Ne.getter)("parentNode"))))},a.Ay.prototype.svgFromString=function(e){return this.select((function(){var t=(new DOMParser).parseFromString(e,"image/svg+xml");return this.appendChild(document.adoptNode(t.documentElement))}))},a.Ay.prototype.enter.prototype.parent=a.Ay.prototype.parent},1074:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>l});const n={};!function(e,t,i,n){var s=[],r={_version:"3.13.1",_config:{classPrefix:"",enableClasses:!1,enableJSClass:!1,usePrefixes:!0},_q:[],on:function(e,t){var i=this;setTimeout((function(){t(i[e])}),0)},addTest:function(e,t,i){s.push({name:e,fn:t,options:i})},addAsyncTest:function(e){s.push({name:null,fn:e})}},o=function(){};o.prototype=r,o=new o;var a,l,d=[];function u(e,t){return typeof e===t}a=u(l={}.hasOwnProperty,"undefined")||u(l.call,"undefined")?function(e,t){return t in e&&u(e.constructor.prototype[t],"undefined")}:function(e,t){return l.call(e,t)};var c=i.documentElement,h="svg"===c.nodeName.toLowerCase();function p(e,t){if("object"==typeof e)for(var i in e)a(e,i)&&p(i,e[i]);else{var n=(e=e.toLowerCase()).split("."),s=o[n[0]];if(2===n.length&&(s=s[n[1]]),void 0!==s)return o;t="function"==typeof t?t():t,1===n.length?o[n[0]]=t:(!o[n[0]]||o[n[0]]instanceof Boolean||(o[n[0]]=new Boolean(o[n[0]])),o[n[0]][n[1]]=t),function(e){var t=c.className,i=o._config.classPrefix||"";if(h&&(t=t.baseVal),o._config.enableJSClass){var n=new RegExp("(^|\\s)"+i+"no-js(\\s|$)");t=t.replace(n,"$1"+i+"js$2")}o._config.enableClasses&&(e.length>0&&(t+=" "+i+e.join(" "+i)),h?c.className.baseVal=t:c.className=t)}([(t&&!1!==t?"":"no-")+n.join("-")]),o._trigger(e,t)}return o}function _(){return"function"!=typeof i.createElement?i.createElement(arguments[0]):h?i.createElementNS.call(i,"http://www.w3.org/2000/svg",arguments[0]):i.createElement.apply(i,arguments)}r._l={},r.on=function(e,t){this._l[e]||(this._l[e]=[]),this._l[e].push(t),o.hasOwnProperty(e)&&setTimeout((function(){o._trigger(e,o[e])}),0)},r._trigger=function(e,t){if(this._l[e]){var i=this._l[e];setTimeout((function(){var e;for(e=0;e<i.length;e++)(0,i[e])(t)}),0),delete this._l[e]}},o._q.push((function(){r.addTest=p})),o.addTest("adownload",!t.externalHost&&"download"in _("a")),o.addTest("blobconstructor",(function(){try{return!!new Blob}catch(e){return!1}}),{aliases:["blob-constructor"]}),o.addTest("canvas",(function(){var e=_("canvas");return!(!e.getContext||!e.getContext("2d"))}));var g=_("canvas");o.addTest("todataurljpeg",(function(){var e=!1;try{e=!!o.canvas&&0===g.toDataURL("image/jpeg").indexOf("data:image/jpeg")}catch(t){}return e})),o.addTest("todataurlpng",(function(){var e=!1;try{e=!!o.canvas&&0===g.toDataURL("image/png").indexOf("data:image/png")}catch(t){}return e})),o.addTest("todataurlwebp",(function(){var e=!1;try{e=!!o.canvas&&0===g.toDataURL("image/webp").indexOf("data:image/webp")}catch(t){}return e}));var f="Moz O ms Webkit",m=r._config.usePrefixes?f.split(" "):[];r._cssomPrefixes=m;var v={elem:_("modernizr")};o._q.push((function(){delete v.elem}));var A={style:v.elem.style};function E(e,t,n,s){var r,o,a,l,d="modernizr",u=_("div"),p=function(){var e=i.body;return e||((e=_(h?"svg":"body")).fake=!0),e}();if(parseInt(n,10))for(;n--;)(a=_("div")).id=s?s[n]:d+(n+1),u.appendChild(a);return(r=_("style")).type="text/css",r.id="s"+d,(p.fake?p:u).appendChild(r),p.appendChild(u),r.styleSheet?r.styleSheet.cssText=e:r.appendChild(i.createTextNode(e)),u.id=d,p.fake&&(p.style.background="",p.style.overflow="hidden",l=c.style.overflow,c.style.overflow="hidden",c.appendChild(p)),o=t(u,e),p.fake&&p.parentNode?(p.parentNode.removeChild(p),c.style.overflow=l,c.offsetHeight):u.parentNode.removeChild(u),!!o}function T(e){return e.replace(/([A-Z])/g,(function(e,t){return"-"+t.toLowerCase()})).replace(/^ms-/,"-ms-")}function I(e,i){var s=e.length;if("CSS"in t&&"supports"in t.CSS){for(;s--;)if(t.CSS.supports(T(e[s]),i))return!0;return!1}if("CSSSupportsRule"in t){for(var r=[];s--;)r.push("("+T(e[s])+":"+i+")");return E("@supports ("+(r=r.join(" or "))+") { #modernizr { position: absolute; } }",(function(e){return"absolute"===function(e,i,n){var s;if("getComputedStyle"in t){s=getComputedStyle.call(t,e,i);var r=t.console;null!==s?n&&(s=s.getPropertyValue(n)):r&&r[r.error?"error":"log"].call(r,"getComputedStyle returning null, its possible modernizr test results are inaccurate")}else s=!i&&e.currentStyle&&e.currentStyle[n];return s}(e,null,"position")}))}return n}function C(e){return e.replace(/([a-z])-([a-z])/g,(function(e,t,i){return t+i.toUpperCase()})).replace(/^-/,"")}o._q.unshift((function(){delete A.style}));var O=r._config.usePrefixes?f.toLowerCase().split(" "):[];function M(e,t){return function(){return e.apply(t,arguments)}}function y(e,t,i,s,r){var o=e.charAt(0).toUpperCase()+e.slice(1),a=(e+" "+m.join(o+" ")+o).split(" ");return u(t,"string")||u(t,"undefined")?function(e,t,i,s){if(s=!u(s,"undefined")&&s,!u(i,"undefined")){var r=I(e,i);if(!u(r,"undefined"))return r}for(var o,a,l,d,c,h=["modernizr","tspan","samp"];!A.style&&h.length;)o=!0,A.modElem=_(h.shift()),A.style=A.modElem.style;function p(){o&&(delete A.style,delete A.modElem)}for(l=e.length,a=0;a<l;a++)if(d=e[a],c=A.style[d],~(""+d).indexOf("-")&&(d=C(d)),A.style[d]!==n){if(s||u(i,"undefined"))return p(),"pfx"!==t||d;try{A.style[d]=i}catch(g){}if(A.style[d]!==c)return p(),"pfx"!==t||d}return p(),!1}(a,t,s,r):function(e,t,i){var n;for(var s in e)if(e[s]in t)return!1===i?e[s]:u(n=t[e[s]],"function")?M(n,i||t):n;return!1}(a=(e+" "+O.join(o+" ")+o).split(" "),t,i)}function b(e,t,i){return y(e,n,n,t,i)}r._domPrefixes=O,r.testAllProps=y,r.testAllProps=b,o.addTest("cssanimations",b("animationName","a",!0)),o.addTest("passiveeventlisteners",(function(){var e=!1;try{var i=Object.defineProperty({},"passive",{get:function(){e=!0}}),n=function(){};t.addEventListener("testPassiveEventSupport",n,i),t.removeEventListener("testPassiveEventSupport",n,i)}catch(s){}return e})),o.addTest("svgasimg",i.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#Image","1.1"));var S=function(e){var i,s=prefixes.length,r=t.CSSRule;if(void 0===r)return n;if(!e)return!1;if((i=(e=e.replace(/^@/,"")).replace(/-/g,"_").toUpperCase()+"_RULE")in r)return"@"+e;for(var o=0;o<s;o++){var a=prefixes[o];if(a.toUpperCase()+"_"+i in r)return"@-"+a.toLowerCase()+"-"+e}return!1};r.atRule=S;var D=(r.prefixed=function(e,t,i){return 0===e.indexOf("@")?S(e):(-1!==e.indexOf("-")&&(e=C(e)),t?y(e,t,i):y(e,"pfx"))})("URL",t,!1);D=D&&t[D],o.addTest("bloburls",D&&"revokeObjectURL"in D&&"createObjectURL"in D),o.addAsyncTest((function(){-1!==navigator.userAgent.indexOf("MSIE 7.")&&setTimeout((function(){o.addTest("datauri",new Boolean(!1))}),10);var e=new Image;e.onerror=function(){o.addTest("datauri",new Boolean(!1))},e.onload=function(){1===e.width&&1===e.height?function(){var e=new Image;e.onerror=function(){o.addTest("datauri",new Boolean(!0)),o.addTest("datauri.over32kb",!1)},e.onload=function(){o.addTest("datauri",new Boolean(!0)),o.addTest("datauri.over32kb",1===e.width&&1===e.height)};var t="R0lGODlhAQABAIAAAAAAAP///ywAAAAAAQABAAACAUwAOw==";for(;t.length<33e3;)t="\r\n"+t;e.src="data:image/gif;base64,"+t}():o.addTest("datauri",new Boolean(!1))},e.src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///ywAAAAAAQABAAACAUwAOw=="})),function(){var e,t,i,n,r,a;for(var l in s)if(s.hasOwnProperty(l)){if(e=[],(t=s[l]).name&&(e.push(t.name.toLowerCase()),t.options&&t.options.aliases&&t.options.aliases.length))for(i=0;i<t.options.aliases.length;i++)e.push(t.options.aliases[i].toLowerCase());for(n=u(t.fn,"function")?t.fn():t.fn,r=0;r<e.length;r++)1===(a=e[r].split(".")).length?o[a[0]]=n:(o[a[0]]&&(!o[a[0]]||o[a[0]]instanceof Boolean)||(o[a[0]]=new Boolean(o[a[0]])),o[a[0]][a[1]]=n),d.push((n?"":"no-")+a.join("-"))}}(),delete r.addTest,delete r.addAsyncTest;for(var w=0;w<o._q.length;w++)o._q[w]();e.Modernizr=o}(n,window,document);const s=n.Modernizr;var r,o,a;s.addTest("toblob",(function(){var e=document.createElement("canvas");return["toBlob","msToBlob"].some((t=>"function"==typeof e[t]))})),s.onAll=function(e,t){var i=e.length,n=function(){--i||t()};e.forEach((function(e){s.on(e,n)}))},o=document.createElement("canvas"),a=document.createElement("img"),s.todataurlpng?(a.addEventListener("load",r=function(){a.removeEventListener("load",r,!1),o.width=1,o.height=1,setTimeout((function(){o.getContext("2d").drawImage(a,0,0);try{s.addTest("svgtocanvasnocors",!!o.toDataURL("image/png").length)}catch(e){if(!(e instanceof DOMException&&"SecurityError"===e.name))throw e;s.addTest("svgtocanvasnocors",!1)}}),0)},!1),a.src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPjwvc3ZnPg=="):s.addTest("svgtocanvasnocors",!1);const l=s},5738:()=>{!("onwheel"in document.createElement("div"))&&"EventTarget"in window&&"addEventListener"in window&&function(){var e,t,i,n="wheel",s="__pf_wheel_cb",r=void 0!==document.onmousewheel?"mousewheel":"DOMMouseScroll",o=0,a={type:{value:n,writable:!1},preventDefault:{value:function(){Object.getPrototypeOf(this).preventDefault()}}};function l(e,t){var i=function(e){return function(e,t){var i=Object.create(e,a);return i.deltaMode="MozMousePixelScroll"==e.type?0:1,i.deltaX=0,i.delatZ=0,"mousewheel"==r?(i.deltaY=-1/40*e.wheelDelta,e.wheelDeltaX&&(i.deltaX=-1/30*e.wheelDeltaX)):i.deltaY=e.detail,"function"==typeof t?t(i):t.handleEvent?t.handleEvent.call(t,i):void 0}(e,t)},n="cb"+ ++o;return(e[s]=e[s]||{})[n]=i,t[s]=n,i}e=EventTarget.prototype,t=e.addEventListener,i=e.removeEventListener,e.addEventListener=function(e,i,s){return e==n&&(e=r,i=l(this,i)),t.call(this,e,i,s)},e.removeEventListener=function(e,t,o){return e==n&&(e=r,t=function(e,t){var i=t[s],n=e[s][i];return n&&(delete e[s][i],t=n),t}(this,t)),i.call(this,e,t,o)}}()},38328:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>n});const n=new(i(95151).default)({de:{"major-tick-date-format-SECOND":"H:mm:ss","major-tick-date-format-MINUTE":"H:mm","major-tick-date-format-HOUR":"H:mm","major-tick-date-format-DAY":"EEE d MMM","major-tick-date-format-WEEK":"EEE d MMM","major-tick-date-format-MONTH":"MMM yyyy","major-tick-date-format-YEAR":"yyyy","major-tick-date-format-DECADE":"yyyy","major-tick-date-format-OPEN":"EEE d MMM H:mm","minor-tick-date-format-SECOND":"H:mm:ss","minor-tick-date-format-MINUTE":"H:mm","minor-tick-date-format-HOUR":"H:mm","minor-tick-date-format-DAY":"EEE d","minor-tick-date-format-WEEK":"EEE d","minor-tick-date-format-MONTH":"MMM","minor-tick-date-format-YEAR":"yyyy","minor-tick-date-format-DECADE":"yyyy","dataIsIndicative-label":"Daten sind indikativ",BUTTON_OK:"OK",BUTTON_CANCEL:"Abbrechen",BUTTON_APPLY:"Verwenden",BUTTON_RESET_TO_DEFAULTS:"Auf Grundeinstellungen zurücksetzen",SAVE_SETTINGS:"Einstellungen speichern",CHARS_REMAINING:"Überbleibende Zeichen:"},en:{"major-tick-date-format-SECOND":"H:mm:ss","major-tick-date-format-MINUTE":"H:mm","major-tick-date-format-HOUR":"H:mm","major-tick-date-format-DAY":"EEE d MMM","major-tick-date-format-WEEK":"EEE d MMM","major-tick-date-format-MONTH":"MMM yyyy","major-tick-date-format-YEAR":"yyyy","major-tick-date-format-DECADE":"yyyy","major-tick-date-format-OPEN":"EEE d MMM H:mm","minor-tick-date-format-SECOND":"H:mm:ss","minor-tick-date-format-MINUTE":"H:mm","minor-tick-date-format-HOUR":"H:mm","minor-tick-date-format-DAY":"EEE d","minor-tick-date-format-WEEK":"EEE d","minor-tick-date-format-MONTH":"MMM","minor-tick-date-format-YEAR":"yyyy","minor-tick-date-format-DECADE":"yyyy","dataIsIndicative-label":"Data is indicative",BUTTON_OK:"OK",BUTTON_CANCEL:"Cancel",BUTTON_APPLY:"Apply",BUTTON_RESET_TO_DEFAULTS:"Reset to defaults",SAVE_SETTINGS:"Save settings",CHARS_REMAINING:"Characters remaining:"},en_US:{"major-tick-date-format-DAY":"EEE MMM d","major-tick-date-format-WEEK":"EEE MMM d","major-tick-date-format-OPEN":"EEE MMM d H:mm"},es:{"major-tick-date-format-SECOND":"H:mm:ss","major-tick-date-format-MINUTE":"H:mm","major-tick-date-format-HOUR":"H:mm","major-tick-date-format-DAY":"EEE d MMM","major-tick-date-format-WEEK":"EEE d MMM","major-tick-date-format-MONTH":"MMM yyyy","major-tick-date-format-YEAR":"yyyy","major-tick-date-format-DECADE":"yyyy","major-tick-date-format-OPEN":"EEE d MMM H:mm","minor-tick-date-format-SECOND":"H:mm:ss","minor-tick-date-format-MINUTE":"H:mm","minor-tick-date-format-HOUR":"H:mm","minor-tick-date-format-DAY":"EEE d","minor-tick-date-format-WEEK":"EEE d","minor-tick-date-format-MONTH":"MMM","minor-tick-date-format-YEAR":"yyyy","minor-tick-date-format-DECADE":"yyyy","dataIsIndicative-label":"Datos indicativos",BUTTON_OK:"OK",BUTTON_CANCEL:"Cancelar",BUTTON_APPLY:"Aplicar",BUTTON_RESET_TO_DEFAULTS:"Volver a configuración por defecto",SAVE_SETTINGS:"Guardar preferencias",CHARS_REMAINING:"Caracteres disponibles:"},fr:{"major-tick-date-format-SECOND":"H:mm:ss","major-tick-date-format-MINUTE":"H:mm","major-tick-date-format-HOUR":"H:mm","major-tick-date-format-DAY":"EEE d MMM","major-tick-date-format-WEEK":"EEE d MMM","major-tick-date-format-MONTH":"MMM yyyy","major-tick-date-format-YEAR":"yyyy","major-tick-date-format-DECADE":"yyyy","major-tick-date-format-OPEN":"EEE d MMM H:mm","minor-tick-date-format-SECOND":"H:mm:ss","minor-tick-date-format-MINUTE":"H:mm","minor-tick-date-format-HOUR":"H:mm","minor-tick-date-format-DAY":"EEE d","minor-tick-date-format-WEEK":"EEE d","minor-tick-date-format-MONTH":"MMM","minor-tick-date-format-YEAR":"yyyy","minor-tick-date-format-DECADE":"yyyy","dataIsIndicative-label":"Valeur à titre indicatif",BUTTON_OK:"OK",BUTTON_CANCEL:"Annuler",BUTTON_APPLY:"Appliquer",BUTTON_RESET_TO_DEFAULTS:"Réinitialiser les valeurs par défaut",SAVE_SETTINGS:"Enregistrer les réglages",CHARS_REMAINING:"Caractères restants :"},it:{"major-tick-date-format-SECOND":"H:mm:ss","major-tick-date-format-MINUTE":"H:mm","major-tick-date-format-HOUR":"H:mm","major-tick-date-format-DAY":"EEE d MMM","major-tick-date-format-WEEK":"EEE d MMM","major-tick-date-format-MONTH":"MMM yyyy","major-tick-date-format-YEAR":"yyyy","major-tick-date-format-DECADE":"yyyy","major-tick-date-format-OPEN":"EEE d MMM H:mm","minor-tick-date-format-SECOND":"H:mm:ss","minor-tick-date-format-MINUTE":"H:mm","minor-tick-date-format-HOUR":"H:mm","minor-tick-date-format-DAY":"EEE d","minor-tick-date-format-WEEK":"EEE d","minor-tick-date-format-MONTH":"MMM","minor-tick-date-format-YEAR":"yyyy","minor-tick-date-format-DECADE":"yyyy","dataIsIndicative-label":"I dati sono indicativi",BUTTON_OK:"OK",BUTTON_CANCEL:"Annulla",BUTTON_APPLY:"Seleziona",BUTTON_RESET_TO_DEFAULTS:"Ripristinare le impostazioni predefinite",SAVE_SETTINGS:"Salva impostazioni",CHARS_REMAINING:"Caratteri rimanenti:"},ja:{"major-tick-date-format-SECOND":"H:mm:ss","major-tick-date-format-MINUTE":"H:mm","major-tick-date-format-HOUR":"H:mm","major-tick-date-format-DAY":"MMM 月 d 日 (EEE)","major-tick-date-format-WEEK":"MMM 月 d 日 (EEE)","major-tick-date-format-MONTH":"yyyy 年 MMM 月","major-tick-date-format-YEAR":"yyyy 年","major-tick-date-format-DECADE":"yyyy 年","major-tick-date-format-OPEN":"MMM 月 d 日 (EEE) H:mm","minor-tick-date-format-SECOND":"H:mm:ss","minor-tick-date-format-MINUTE":"H:mm","minor-tick-date-format-HOUR":"H:mm","minor-tick-date-format-DAY":"d 日 (EEE)","minor-tick-date-format-WEEK":"d 日 (EEE)","minor-tick-date-format-MONTH":"MMM 月","minor-tick-date-format-YEAR":"yyyy 年","minor-tick-date-format-DECADE":"yyyy 年","dataIsIndicative-label":"チャートデータは参考レートです",BUTTON_OK:"OK",BUTTON_CANCEL:"キャンセル",BUTTON_APPLY:"選択",BUTTON_RESET_TO_DEFAULTS:"デフォルト設定／リセット",SAVE_SETTINGS:"設定を保存",CHARS_REMAINING:"残りの文字:"},nl:{"major-tick-date-format-SECOND":"H:mm:ss","major-tick-date-format-MINUTE":"H:mm","major-tick-date-format-HOUR":"H:mm","major-tick-date-format-DAY":"EEE d MMM","major-tick-date-format-WEEK":"EEE d MMM","major-tick-date-format-MONTH":"MMM yyyy","major-tick-date-format-YEAR":"yyyy","major-tick-date-format-DECADE":"yyyy","major-tick-date-format-OPEN":"EEE d MMM H:mm","minor-tick-date-format-SECOND":"H:mm:ss","minor-tick-date-format-MINUTE":"H:mm","minor-tick-date-format-HOUR":"H:mm","minor-tick-date-format-DAY":"EEE d","minor-tick-date-format-WEEK":"EEE d","minor-tick-date-format-MONTH":"MMM","minor-tick-date-format-YEAR":"yyyy","minor-tick-date-format-DECADE":"yyyy","dataIsIndicative-label":"Data zijn indicatief",BUTTON_OK:"OK",BUTTON_CANCEL:"Annuleer",BUTTON_APPLY:"Toepassen",BUTTON_RESET_TO_DEFAULTS:"Herstellen naar standaardinstellingen",SAVE_SETTINGS:"Instellingen opslaan",CHARS_REMAINING:"Karakters die nog open zijn:"},nb:{"major-tick-date-format-SECOND":"H:mm:ss","major-tick-date-format-MINUTE":"H:mm","major-tick-date-format-HOUR":"H:mm","major-tick-date-format-DAY":"EEE d MMM","major-tick-date-format-WEEK":"EEE d MMM","major-tick-date-format-MONTH":"MMM yyyy","major-tick-date-format-YEAR":"yyyy","major-tick-date-format-DECADE":"yyyy","major-tick-date-format-OPEN":"EEE d MMM H:mm","minor-tick-date-format-SECOND":"H:mm:ss","minor-tick-date-format-MINUTE":"H:mm","minor-tick-date-format-HOUR":"H:mm","minor-tick-date-format-DAY":"EEE d","minor-tick-date-format-WEEK":"EEE d","minor-tick-date-format-MONTH":"MMM","minor-tick-date-format-YEAR":"yyyy","minor-tick-date-format-DECADE":"yyyy","dataIsIndicative-label":"Data er indikative",BUTTON_OK:"OK",BUTTON_CANCEL:"Kanseller",BUTTON_APPLY:"Bruk",BUTTON_RESET_TO_DEFAULTS:"Tilbakestill til standard",SAVE_SETTINGS:"Lagre innstillinger",CHARS_REMAINING:"Gjenstående tegn:"},pt:{"major-tick-date-format-SECOND":"H:mm:ss","major-tick-date-format-MINUTE":"H:mm","major-tick-date-format-HOUR":"H:mm","major-tick-date-format-DAY":"EEE d MMM","major-tick-date-format-WEEK":"EEE d MMM","major-tick-date-format-MONTH":"MMM yyyy","major-tick-date-format-YEAR":"yyyy","major-tick-date-format-DECADE":"yyyy","major-tick-date-format-OPEN":"EEE d MMM H:mm","minor-tick-date-format-SECOND":"H:mm:ss","minor-tick-date-format-MINUTE":"H:mm","minor-tick-date-format-HOUR":"H:mm","minor-tick-date-format-DAY":"EEE d","minor-tick-date-format-WEEK":"EEE d","minor-tick-date-format-MONTH":"MMM","minor-tick-date-format-YEAR":"yyyy","minor-tick-date-format-DECADE":"yyyy","dataIsIndicative-label":"Os dados são indicativos",BUTTON_OK:"OK",BUTTON_CANCEL:"Cancelar",BUTTON_APPLY:"Aplicar",BUTTON_RESET_TO_DEFAULTS:"Reset",SAVE_SETTINGS:"Salvar preferências",CHARS_REMAINING:"Caracteres Remanescentes:"},sv:{"major-tick-date-format-SECOND":"H:mm:ss","major-tick-date-format-MINUTE":"H:mm","major-tick-date-format-HOUR":"H:mm","major-tick-date-format-DAY":"EEE MMM d","major-tick-date-format-WEEK":"EEE MMM d","major-tick-date-format-MONTH":"yyyy MMM","major-tick-date-format-YEAR":"yyyy","major-tick-date-format-DECADE":"yyyy","major-tick-date-format-OPEN":"EEE MMM d H:mm","minor-tick-date-format-SECOND":"H:mm:ss","minor-tick-date-format-MINUTE":"H:mm","minor-tick-date-format-HOUR":"H:mm","minor-tick-date-format-DAY":"EEE d","minor-tick-date-format-WEEK":"EEE d","minor-tick-date-format-MONTH":"MMM","minor-tick-date-format-YEAR":"yyyy","minor-tick-date-format-DECADE":"yyyy","dataIsIndicative-label":"Data är indikativa",BUTTON_OK:"OK",BUTTON_CANCEL:"Avbryt",BUTTON_APPLY:"Använd",BUTTON_RESET_TO_DEFAULTS:"Återställ till standard",SAVE_SETTINGS:"Spara inställningar",CHARS_REMAINING:"Tecken som återstår:"},zh:{"major-tick-date-format-SECOND":"H:mm:ss","major-tick-date-format-MINUTE":"H:mm","major-tick-date-format-HOUR":"H:mm","major-tick-date-format-DAY":"EEE MMM d","major-tick-date-format-WEEK":"EEE MMM d","major-tick-date-format-MONTH":"yyyy MMM","major-tick-date-format-YEAR":"yyyy","major-tick-date-format-DECADE":"yyyy","major-tick-date-format-OPEN":"EEE MMM d H:mm","minor-tick-date-format-SECOND":"H:mm:ss","minor-tick-date-format-MINUTE":"H:mm","minor-tick-date-format-HOUR":"H:mm","minor-tick-date-format-DAY":"EEE d","minor-tick-date-format-WEEK":"EEE d","minor-tick-date-format-MONTH":"MMM","minor-tick-date-format-YEAR":"yyyy","minor-tick-date-format-DECADE":"yyyy","dataIsIndicative-label":"数据为指示性",BUTTON_OK:"OK",BUTTON_CANCEL:"取消",BUTTON_APPLY:"应用",BUTTON_RESET_TO_DEFAULTS:"还原为默认设置",SAVE_SETTINGS:"保存设置",CHARS_REMAINING:"余下字符:"},zh_TW:{"major-tick-date-format-SECOND":"H:mm:ss","major-tick-date-format-MINUTE":"H:mm","major-tick-date-format-HOUR":"H:mm","major-tick-date-format-DAY":"EEE d MMM","major-tick-date-format-WEEK":"EEE d MMM","major-tick-date-format-MONTH":"MMM yyyy","major-tick-date-format-YEAR":"yyyy","major-tick-date-format-DECADE":"yyyy","major-tick-date-format-OPEN":"EEE d MMM H:mm","minor-tick-date-format-SECOND":"H:mm:ss","minor-tick-date-format-MINUTE":"H:mm","minor-tick-date-format-HOUR":"H:mm","minor-tick-date-format-DAY":"EEE d","minor-tick-date-format-WEEK":"EEE d","minor-tick-date-format-MONTH":"MMM","minor-tick-date-format-YEAR":"yyyy","minor-tick-date-format-DECADE":"yyyy","dataIsIndicative-label":"指示性數據",BUTTON_OK:"OK",BUTTON_CANCEL:"取消",BUTTON_APPLY:"應用",BUTTON_RESET_TO_DEFAULTS:"還原為默認設置",SAVE_SETTINGS:"保存設置",CHARS_REMAINING:"余下字符:"}})},95151:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>o});var n=i(17660);function s(e){this._i18n=e}s.DEFAULT_LOCALE="en";var r=s.prototype;r._i18n=null,r.get=function(e){var t,i,r=n.default.getInstance(),o=r.getLocale()||s.DEFAULT_LOCALE,a=this._i18n[o+"|"+r.getWebSiteId()],l=this._i18n[o];if(a&&"string"==typeof a[e])return a[e];if(l&&"string"==typeof l[e])return l[e];if((t=this._i18n[o.split("_")[0]])&&"string"==typeof t[e])return t[e];if((i=this._i18n[s.DEFAULT_LOCALE])&&"string"==typeof i[e])return i[e];throw new Error("Unknown i18n property: "+e)},Object.seal(s);const o=Object.seal(s)},58644:(e,t,i)=>{"use strict";i.d(t,{A:()=>n});const n=i(3464).A.helper.calculator},59659:(e,t,i)=>{"use strict";i.d(t,{A:()=>n});const n=i(3464).A.model.calculator},3464:(e,t,i)=>{"use strict";i.d(t,{A:()=>h});var n,s,r=i(43130),o=i(12990),a=i(88045),l=i(84228),d=i(17070),u={getLogger:(0,r.constant)(a.default)},c={};c.indicator={},c.indicator.mvc={},c.indicator.mvc.model={},c.indicator.mvc.model.calculator={},c.indicator.mvc.model.calculator.point={},c.indicator.mvc.model.calculator.point.pricemovement={},c.indicator.mvc.model.calculator.series={},c.indicator.mvc.model.calculator.series.dmi={},c.indicator.mvc.helper={},c.indicator.mvc.helper.calculator={},c.core={},c.core.mvc={},c.core.mvc.model={},c.core.mvc.model.timeseries={},c.core.mvc.model.timeseries.calculation={},c.core.mvc.model.timeseries.point={},function(){function e(e){this._period=e}e.prototype._period=null,Object.defineProperty(e.prototype,"period",{enumerable:!0,get:function(){return this._period},set:function(e){this._period=e}}),c.indicator.mvc.model.calculator.series.PeriodCalculatorBase=e}(),n={createSimpleCalculatedPoint:function(e,t){return new l.default(t.timestamp,e,t.volume)},createCalculatedPoint:function(e,t){return new d.default(t.timestamp,e,t.volume,t.highPrice,t.lowPrice,t.openPrice,t.closePrice)}},c.core.mvc.model.timeseries.calculation.CalculatedTimeSeriesPointModelFactory=Object.freeze(n),s=o.A.extend((function(){}),Error),c.indicator.mvc.helper.calculator.CalculatorValidationError=s,function(){function e(e){this._calculatorValidator=e}e.prototype._calculatorValidator=null,e.prototype.calculatePoint=function(e,t){var i;return this._calculatorValidator.validatePointsAreTypedAndNotNull(t,e),this._calculatorValidator.validatePointTimestampsMatch(t,e),0==(i=t.value+e.value)?0:Math.abs(t.value-e.value)/i*100},c.indicator.mvc.model.calculator.point.DXCalculator=e}(),function(e){function t(e){this._calculatorValidator=e}t.prototype._calculatorValidator=null,t.prototype.calculatePoint=function(t,i){var n,s,r,o;return n=NaN,s=NaN,r=NaN,o=NaN,this._calculatorValidator.validatePointsAreTypedAndNotNull(t,i),this._calculatorValidator.validatePointsAreConsecutive(t,i),t instanceof e?(n=t.lowPrice,s=t.highPrice,r=i.lowPrice,o=i.highPrice):(n=t.value,s=t.value,r=i.value,o=i.value),s-o>r-n?Math.max(s-o,0):0},c.indicator.mvc.model.calculator.point.pricemovement.UpwardPriceMovementCalculator=t}(d.default),function(e){function t(e){this._calculatorValidator=e}t.prototype._calculatorValidator=null,t.prototype.calculatePoint=function(t,i){var n,s,r,o;return n=NaN,s=NaN,r=NaN,o=NaN,this._calculatorValidator.validatePointsAreTypedAndNotNull(t,i),this._calculatorValidator.validatePointsAreConsecutive(t,i),t instanceof e?(n=t.lowPrice,s=t.highPrice,r=i.lowPrice,o=i.highPrice):(n=t.value,s=t.value,r=i.value,o=i.value),r-n>s-o?Math.max(r-n,0):0},c.indicator.mvc.model.calculator.point.pricemovement.DownwardPriceMovementCalculator=t}(d.default),function(e){function t(e){this._calculatorValidator=e}t.prototype._calculatorValidator=null,t.prototype.calculatePoint=function(t,i){var n,s,r;return n=NaN,s=NaN,r=NaN,this._calculatorValidator.validatePointsAreTypedAndNotNull(t,i),this._calculatorValidator.validatePointsAreConsecutive(t,i),t instanceof e?(n=t.highPrice,s=t.lowPrice,r=i.closePrice):(n=t.value,s=t.value,r=i.value),Math.max(n,r)-Math.min(s,r)},c.indicator.mvc.model.calculator.point.pricemovement.TrueRangePriceMovementCalculator=t}(d.default),function(e,t){var i=o.A.extend((function(e,t,i){this._emaCalculator=t,this._dxCalculator=i}),t);i.prototype._emaCalculator=null,i.prototype._dxCalculator=null,Object.defineProperty(i.prototype,"totalPointsRequired",{enumerable:!0,get:function(){return Math.max(50,4*this.period)}}),i.prototype.calculatePoints=function(t,i,n){var s,r,o,a,l,d,u=[],c=0;if(!t.length||!i.length)return u;for(d=0;d<i.length;d++){for(r=(s=i[d]).timestamp,o=null;c<t.length&&((a=t[c].timestamp)===r&&(o=t[c]),!(a>=r));c++);l=this._dxCalculator.calculatePoint(o,s),u.push(e.createSimpleCalculatedPoint(l,s))}return this._emaCalculator.calculatePoints(u,{period:this.period,weighting:1/this.period},void 0,n)},c.indicator.mvc.model.calculator.series.dmi.AverageDirectionalMovementIndexCalculator=i}(c.core.mvc.model.timeseries.calculation.CalculatedTimeSeriesPointModelFactory,c.indicator.mvc.model.calculator.series.PeriodCalculatorBase),function(e,t){var i=o.A.extend((function(e,t,i,n){this._priceMovementMACalculator=t,this._trueRangeMACalculator=i,this._calculatorValidator=n,this.period=e}),t);i.prototype._priceMovementMACalculator=null,i.prototype._trueRangeMACalculator=null,i.prototype._calculatorValidator=null,Object.defineProperty(i.prototype,"totalPointsRequired",{enumerable:!0,get:function(){return this._priceMovementMACalculator.totalPointsRequired}}),Object.defineProperty(i.prototype,"period",{enumerable:!0,set:function(e){i.superclass.period=e,this._priceMovementMACalculator.period=e,this._trueRangeMACalculator.period=e}}),i.prototype.calculateDirectionalMovementRatio=function(e,t){return this._calculatorValidator.validatePointTimestampsMatch(e,t),0==e.value?0:0==t.value?100:100*e.value/t.value},i.prototype.calculatePoints=function(t,i){if(!t.length)return[];var n,s,r,o,a,l,d=this._priceMovementMACalculator.calculatePoints(t,i),u=this._trueRangeMACalculator.calculatePoints(t,i),c=[],h=0;for(l=0;l<d.length;l++){for(s=(n=d[l]).timestamp,r=null;h<u.length&&((o=u[h].timestamp)===s&&(r=u[h]),!(o>=s));h++);a=this.calculateDirectionalMovementRatio(n,r),c.push(e.createSimpleCalculatedPoint(a,n))}return c},c.indicator.mvc.model.calculator.series.dmi.DirectionalMovementIndexCalculator=i}(c.core.mvc.model.timeseries.calculation.CalculatedTimeSeriesPointModelFactory,c.indicator.mvc.model.calculator.series.PeriodCalculatorBase),function(e,t){var i=o.A.extend((function(e,t,i){this._movingAverageCalculator=t,this._priceMovementCalculator=i,this.period=e}),t);i.prototype._movingAverageCalculator=null,i.prototype._priceMovementCalculator=null,Object.defineProperty(i.prototype,"totalPointsRequired",{enumerable:!0,get:function(){return Math.max(50,4*this.period)+1}}),i.prototype.calculatePoints=function(t,i){var n,s,r=0;if(n=[],s=NaN,t.length<this.totalPointsRequired&&!i)return n;for(r=1;r<t.length;r++)s=NaN,s=this._priceMovementCalculator.calculatePoint(t[r],t[r-1]),n.push(e.createSimpleCalculatedPoint(s,t[r]));return this._movingAverageCalculator.calculatePoints(n,this.period,i)},c.indicator.mvc.model.calculator.series.dmi.DirectionalMovementIndexMovingAverageCalculator=i}(c.core.mvc.model.timeseries.calculation.CalculatedTimeSeriesPointModelFactory,c.indicator.mvc.model.calculator.series.PeriodCalculatorBase),function(e){function t(){this.MINIMUM_POINTS_REQUIRED=50}t.prototype.MINIMUM_POINTS_REQUIRED=null,t.prototype.calculateForPoint=function(t,i,n,s){var r,o,a=0;for(o=0,a=i;a<s+i;a++)o+=t[a].value;for(r=o;a<n;a++)r=r-r/s+(o=t[a].value);return e.createSimpleCalculatedPoint(r,t[n-1])},t.prototype.calculatePoints=function(e,t,i){var n,s,r,o=0,a=Math.max(this.MINIMUM_POINTS_REQUIRED,4*t);if(s=[],e.length<a&&!i)return s;if(i)for(n=t;n<a&&n<=e.length;)r=this.calculateForPoint(e,o,o+n,t),s.push(r),n++;for(n=a;o+n<=e.length;o++)r=this.calculateForPoint(e,o,o+n,t),s.push(r);return s},c.indicator.mvc.model.calculator.series.dmi.DirectionalMovementMovingAverageCalculator=t}(c.core.mvc.model.timeseries.calculation.CalculatedTimeSeriesPointModelFactory),function(e,t){function i(){}i.LOG=null,i.LOG=t.getLogger(i),i.prototype.validatePointsAreConsecutive=function(t,n){var s;if(t.timestamp<n.timestamp)throw s="The points do now follow each other. Given pointA = '"+t+"', pointB = '"+n+"'.",i.LOG.error(s),new e(s)},i.prototype.validatePointTimestampsMatch=function(t,n){var s;if(t.timestamp!=n.timestamp)throw s="The point timestamps do not match. Given pointA = '"+t+"', pointB = '"+n+"'.",i.LOG.error(s),new e(s)},i.prototype.validatePointsAreTypedAndNotNull=function(t){var n=0;for(n=0;n<t.length;n++){var s;if(!t[n])throw s="One of the points are null or not an instance of ITimeSeriesPointModel. Given points = '"+t,i.LOG.error(s),new e(s)}},c.indicator.mvc.helper.calculator.CalculatorValidationHelper=i}(c.indicator.mvc.helper.calculator.CalculatorValidationError,u),function(e){function t(){}t.prototype.calculatePoints=function(t,i){var n,s,r,o,a,l,d=[],u=0;for(l=0;l<t.length;l++){for(s=(n=t[l]).timestamp,r=null;u<i.length&&((o=i[u].timestamp)===s&&(r=i[u]),!(o>=s));u++);r&&(a=(n.value+r.value)/2,d.push(e.createCalculatedPoint(a,r)))}return d},c.indicator.mvc.model.calculator.series.SenkouSpanACalculator=t}(c.core.mvc.model.timeseries.calculation.CalculatedTimeSeriesPointModelFactory);const h=c.indicator.mvc},43451:(e,t,i)=>{"use strict";i.d(t,{A:()=>c});var n=i(43130),s=i(38712),r=i(9525),o=i(81141),a=(0,n.property)("points.prices.points"),l=(0,n.property)("date");function d(){}var u=d.prototype;u.isDisplaced=!0,u._consolidationTimezoneOffset=null,u._futureDisplaceFunc=n.identity,u.withConsolidationTimezoneOffset=(0,r.setter)("_consolidationTimezoneOffset"),u.withDisplacementIterator=function(e){return this._futureDisplaceFunc=(0,r.cache)(e.next.bind(e),(0,r.invoker)("getTime"),500),this},u.calculatePoints=function(e,t,i,s){var r=this._calculate(e,t,i,s).filter(n.identity);return r.length>0?this._displacePoints(r,t,i,s):r},u._displacePoints=function(e,t,i,n){var s=this._calculateDisplacement(e,t,i,n);return s>0?this._displacePointsIntoFuture(e,s,i):s<0?this._displacePointsIntoPast(e,-s,i):e},u._displacePointsIntoFuture=function(e,t,i){var s,r,o,a=this._getFutureTimestamps(e,t,i);for(r=0;r<e.length;r++){if((o=r+t)<a.length)e[r].date=a[o];else{if(!s)for(o-=a.length,s=(0,n.last)(a);o--;)s=this._futureDisplaceFunc(s,this._consolidationTimezoneOffset);e[r].date=this._futureDisplaceFunc(s,this._consolidationTimezoneOffset)}s=e[r].date}return e},u._getFutureTimestamps=function(e,t,i){var r,o=s.default.findContainingBlock((0,n.last)(e),i,!1),d=e.map(l);function u(e){return e.date.getTime()>(0,n.last)(d).getTime()}for(;t>0&&o;)(r=a(o))&&(t-=(r=r.filter(u).map(l)).length,d=d.concat(r)),o=s.default.getSucceedingBlockWithPoints(o,a);return d},u._displacePointsIntoPast=function(e,t,i){var n,s,r=this._getPastTimestamps(e,t,i),o=[];for(n=1;n<=e.length;n++)(s=n+t)<=r.length&&(e[e.length-n].date=r[r.length-s],o.unshift(e[e.length-n]));return o},u._getPastTimestamps=function(e,t,i){var r,o=s.default.findContainingBlock((0,n.first)(e),i,!1),d=e.map(l);function u(e){return e.date.getTime()<(0,n.first)(d).getTime()}for(;t>0&&o;)(r=a(o))&&(t-=(r=r.filter(u).map(l)).length,d=r.concat(d)),o=s.default.getPrecedingBlockWithPoints(o,a);return d},u._calculate=o.A.abstractMethod,u._calculateDisplacement=o.A.abstractMethod,Object.seal(u);const c=Object.seal(d)},63724:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>N});var n=i(43130),s=i(85385),r=i(81009),o=i(9525);function a(){}a.create=a.createFrom=function(e){return(new a).withDefaultValue(e.defaultValue)};var l=a.prototype;l.viewType="BOOLEAN",l.defaultValue=null,l.withDefaultValue=(0,o.setter)("defaultValue"),l.getTextForValue=(0,n.constant)(""),Object.seal(l);const d=Object.seal(a);var u=i(938);function c(e){this._delegate=e}c.filterCalculatorOutput=function(e,t){return t||e.isDisplaced?new c(e):e};var h=c.prototype;h._delegate=null,Object.defineProperty(h,"isDisplaced",{get:function(){return!!this._delegate.isDisplaced},set:(0,o.throwError)("attempt to modify immutable property")}),h.withDisplacementIterator=function(e){return this._delegate.withDisplacementIterator(e),this},h.withConsolidationTimezoneOffset=function(e){return this._delegate.withConsolidationTimezoneOffset(e),this},h.calculatePoints=function(e,t,i,n){return(this.isDisplaced?this._displacedPointsInBlocksRange.bind(this):this._pointsInBlocksRange.bind(this))(this._delegate.calculatePoints.call(this._delegate,e,t,i,n),i)},h._pointsInBlocksRange=function(e,t){if(!e||!e.length)return[];if(!t||!t.length)return e;var i=[(0,n.head)(t).start,(0,n.last)(t).end];return e.filter((function(e){return u.default.inRange(i,e.date)}))},h._displacedPointsInBlocksRange=function(e,t){return e&&e.length?(i=(0,n.last)(t).isLastOfInstrument()?[(0,n.head)(t),{end:new Date((0,n.last)(e).date.getTime()+1)}]:t,this._pointsInBlocksRange(e,i)):[];var i},Object.seal(h);const p=c;var _=i(37479),g=i(14358);function f(){}var m=f.prototype;m.calculatePoints=n.identity,Object.seal(m);const v=Object.seal(f);var A=i(26242),E=i(41943),T=i(58146);function I(e,t){this._delegate=e,this._rendererChooser=t}var C=I.prototype;C._delegate=null,C._rendererChooser=null,C._expansionFns=[],C._expand=function(e){var t=e?(0,E.shallowCopy)(e):[],i=this._delegate.getInputPointType();return this._expansionFns.forEach((function(n){(0,E.inPlaceConcat)(t,n(e,i))})),(0,n.uniq)(t).sort(T.default.naturalOrder)},C.startRequestingPointsVia=function(e){this._updateExpansionFns(),this._rendererChooser.on(s.default.CHOICE_CHANGED,this._updateExpansionFns,this),this._delegate.startRequestingPointsVia.apply(this._delegate,arguments)},C._updateExpansionFns=function(){this._expansionFns=this._rendererChooser.getCurrentExpansionFunctions()},C.stopRequestingPointsVia=function(e){this._rendererChooser.un(null,this),this._delegate.stopRequestingPointsVia.apply(this._delegate,arguments)},C.collatePointsForBlocks=function(e){this._delegate.collatePointsForBlocks(this._expand(e))},C.recalculateBlocksWithEnoughTrailingPoints=function(e){this._delegate.recalculateBlocksWithEnoughTrailingPoints(e)},C.on=(0,o.delegate)("_delegate","on"),C.un=(0,o.delegate)("_delegate","un"),Object.seal(C);const O=I;var M=i(17668),y=i(54859),b=i(44437),S=i(12990).A.extend((function(){}),s.default),D=S.prototype;D.startNotifyingRendererChanges=o.emptyChainable,D.stopNotifyingRendererChanges=o.emptyChainable,Object.seal(D);const w=S;var L=i(44513);function R(e,t){this._eventBus=e,this._indicatorsConfigAggregator=t}R.create=function(e,t){return new R(e,t)},R.CONSTRAINT_TYPES={bool:d,number:M.default,enum:g.A,radio:g.A};var P=R.prototype;P._eventBus=null,P._indicatorsConfigAggregator=null,P.getNames=function(){return this._indicatorsConfigAggregator.getNames()},P.createIndicator=function(e,t,i,n){var s=this._indicatorsConfigAggregator.getConfig(e);if(s&&(e.startsWith(L.PricesIndicatorName.PRICES)||!1!==s.useUnderlyingInstrument||n))return t=t||{},t=this._convertNumericStringInSettingsToNumber(t),s.subIndicators?this._createCompositeIndicator(e,s,t,i):this._createSingleIndicator(e,s,t,i)},P.updateIndicator=function(e,t,i){var n=this._indicatorsConfigAggregator.getConfig(e.name);if(n)return t=t||{},t=this._convertNumericStringInSettingsToNumber(t),n.subIndicators?(e.indicators=this._createComponentIndicators(n.subIndicators,t,i),e.withSettings(t),e.withVisibilitySettings(i)):this._configureSingleIndicator(e,n,t,i),e},P._convertNumericStringInSettingsToNumber=function(e){for(var t in e)(0,n.isFinite)(e[t])||(0,n.isBoolean)(e[t])||(e[t]=parseFloat(e[t]));return e},P._createCompositeIndicator=function(e,t,i,n){var s,o,a=this._createComponentIndicators(t.subIndicators,i,n),l=t.resolutionChooser||b.A,d=t.type||_.A;if(0!==a.length)return o=new d(e,t.study,void 0,a).setSettingsContentClass(t.settingsContent).withStylesMapping(t.stylesMapping).withResolutionChooser(l.create()).withSettings(i).withVisibilitySettings(n).withSettingsConstraints(this._createSettingsConstraints(t)),s=(t.availability||[r.default]).map((function(e){return new e(o,this._eventBus).initialise()}),this),o.withIndicatorAvailability(s),t.tooltipSettings&&o.withTooltipSettings(t.tooltipSettings),o},P._createComponentIndicators=function(e,t,i){var n,s,r,o=[];for(n in e)s=e[n],(r=this._createSingleIndicator(n,s,t,i))&&o.push(r);return o},P._createSingleIndicator=function(e,t,i,n){var s=t.type||A.default;return this._configureSingleIndicator(new s(e,t.study,t.useUnderlyingInstrument),t,i,n)},P._configureSingleIndicator=function(e,t,i,s){var o,a,l,d,u=t.calculator,c=u?u.properties:null,h=u?u.arguments:null,p=t.resolutionChooser;return c&&(c=this._createOrdinalFromExpressionsUsingSettings(c,i)),h&&(h=(0,n.isFunction)(h)?h:this._createOrdinalFromExpressionsUsingSettings(h,i)),a=this._numberOfTrailingPoints(t,i),d=this._createRendererChooser(t),l=this._createSettingsConstraints(t),e.setSettingsContentClass(t.settingsContent).withStylesMapping(t.stylesMapping).withResolutionChooser((p||b.A).create()).withSettings(i).withVisibilitySettings(s).withSettingsConstraints(l).withOutputPointType(t.outputPointType).withInput(this._createInput(t,t.outputPointType,a,d)).withCalculator(this._createCalculator(t,c,a)).withCalculatorArguments(h).withRendererChooser(d).withShownOnTooltip(void 0===t.showOnTooltip||!!t.showOnTooltip),o=(t.availability||[r.default]).map((function(t){return new t(e,this._eventBus).initialise()}),this),e.withIndicatorAvailability(o),t.tooltipSettings&&e.withTooltipSettings(t.tooltipSettings),t.labelTypes&&e.withLabelTypes(t.labelTypes),e},P._createSettingsConstraints=function(e){var t,i,n,s={};if(e.settings)for(t in A.default.getModifiableSettings(e.settings))i=e.settings[t],n=R.CONSTRAINT_TYPES[i.type],s[t]=n.createFrom(i);return s},P._numberOfTrailingPoints=function(e,t){var i=e.numberOfTrailingPoints;return i?Math.round(this._createOrdinalFromExpressionUsingSettings(i,t)):0},P._createRendererChooser=function(e){var t,i,n,r=Object.keys(e.renderers),o={},a={initial:r},l=e.rendererChooser,d=l?l.type:w;for(l&&l.choices&&(0,y.applyTo)(a,l.choices,!1),n=0;n<r.length;n++)i=r[n],(t=e.renderers[i].type).getBlocksNeededToRender&&(o[i]=t.getBlocksNeededToRender);return new d(o,this._eventBus).addChoices(a).setChoice(s.default.INITIAL_CHOICE)},P._createOrdinalFromExpressionsUsingSettings=function(e,t){var i=e instanceof Array?[]:{};return Object.keys(e).forEach((function(n){i[n]=this._createOrdinalFromExpressionUsingSettings(e[n],t)}),this),i},P._createOrdinalFromExpressionUsingSettings=function(e,t){return new Function("settings","return "+e+";")(t)},P._createInput=function(e,t,i,n){var s=new(0,e.input.type)(e.inputPointType||"prices",t,i);return n.couldProvideExpansionFns()?new O(s,n):s},P._createCalculator=function(e,t,i){var n,s=e.calculator,r=new(s?s.type:v);for(n in t)r[n]=t[n];return p.filterCalculatorOutput(r,i)},Object.seal(P);const N=Object.seal(R)},74269:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>u});var n=i(23806),s=i(12990),r=i(77209),o=i(54809),a=i(8611),l=s.A.extend((function(){}),o.default),d=l.prototype;d._hcdClient=null,d._keenLoadingPolicy=a.keenlyExpandBlocksList,d.startRequestingPointsVia=function(e){this._hcdClient=e.hcdClient,this._receivePointsFrom(e),this._receivePointsFrom(e.streamingClient)},d._receivePointsFrom=function(e){e.on(r.default.POINTS_LOADED,this._handlePointsLoaded,this)},d.stopRequestingPointsVia=function(e){e.hcdClient.un(null,this),e.streamingClient.un(null,this)},d.collatePointsForBlocks=function(e){var t=this._expandToLoadUnprocessedBlocks(this._keenLoadingPolicy(e));this._hcdClient.loadDataForBlocks(t)},d.recalculateBlocksWithEnoughTrailingPoints=function(e){},d._expandToLoadUnprocessedBlocks=function(e){var t,i;if(this._shouldExpand(e))for(i=e[0].previous,t=e.length;i&&t;)e.unshift(i),i.loading.started||t--,i=i.previous;return e},d._shouldExpand=function(e){var t;for(t=0;t<e.length;t++)if(e[t].loading===n.default.UNPROCESSED)return!0;return!1},d._handlePointsLoaded=function(e,t){this.fire(o.default.INDICATOR_INPUT,e,t)},Object.seal(d);const u=l},85385:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>d});var n=i(12990),s=i(54859),r=i(81141),o=i(289),a=n.A.extend((function(e,t){this._choices={},this._expansionFns=e,this._eventBus=t}),o.default),l=a.prototype;a.CHOICE_CHANGED="choiceChanged",a.INITIAL_CHOICE="initial",l._eventBus=null,l._expansionFns=null,l._choices=null,l._choice=null,l.addChoices=function(e){return(0,s.applyTo)(this._choices,e,!1),this},l.setChoice=function(e){return this._choice=e,this.fire(a.CHOICE_CHANGED),this},l.couldProvideExpansionFns=function(){return Object.keys(this._expansionFns).length>0},l.startNotifyingRendererChanges=r.A.abstractMethod,l.stopNotifyingRendererChanges=r.A.abstractMethod,l.getCurrentRendererNames=function(){return this._choice&&this._choice in this._choices?this._choices[this._choice]:[]},l.getCurrentExpansionFunctions=function(){var e,t,i,n=this.getCurrentRendererNames(),s=[];for(i=0;i<n.length;i++)e=n[i],(t=this._expansionFns[e])&&s.push(t);return s},Object.seal(l);const d=a},58827:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>d});var n=i(41943),s=i(23806),r=i(74893),o=i(45406);function a(){}a.create=function(){return new a};var l=a.prototype;l.formatToBlocks=function(e,t,i){var n;return i===r.default.values.TICK?this._formatTickBlocks(t,i.period):(n=this._splitIntervalsIntoBlocks(i,t),this._initialiseUsingTimeline(e,n))},l._formatTickBlocks=function(e,t){var i,n,s,r,a,l,d=[],u=0,c=0,h=0;for(s=0;s<e.length;s++)for(n=e[s],i=Math.ceil(n.numberOfPoints/o.A.TICKS_PER_BLOCK),r=0;r<i;r++)(a=o.A.create(n)).index=u,a.accStart=t*h,h+=c=(l=o.A.TICKS_PER_BLOCK*(r+1)-n.numberOfPoints)>0?o.A.TICKS_PER_BLOCK-l:o.A.TICKS_PER_BLOCK,a.withNumberOfPoints(c),d.push(a),u++;for(s=0;s<d.length;s++)d[s].initialiseUsingTimeline(d[s-1],d[s+1]);return d},l._splitIntervalsIntoBlocks=function(e,t){var i=e.intervalSplitter,s=i.split.bind(i);return(0,n.flatten)(t.map(s))},l._initialiseUsingTimeline=function(e,t){var i,n=this._fillGaps(t,e);for(i=0;i<n.length;i++)n[i].initialiseUsingTimeline(n[i-1],n[i+1],e);return n},l._fillGaps=function(e,t){var i,n,r,o,a,l,d,u=[];for(d=0;d<e.length;d++)i=e[d].start,n=e[d].end,o=t.asAccTime(i),a=t.asAccTime(n),l&&o!=l&&u.push(s.default.create(r,i)),u.push(e[d]),l=a,r=n;return u},Object.seal(l);const d=a},63993:(e,t,i)=>{"use strict";i.d(t,{A:()=>u});var n=i(43130),s=i(41943),r=i(23806),o=i(88045),a=i(9525);function l(e,t,i){this._priceAdapter=e,this._priceCalculator=t,this._blocksToProcess=i}l.create=function(e,t,i){return new l(e,t,i)},l.setTickDatesForAccTime=function(e,t,i){var n=0;i.iterateBackward((function(i){var s=e.length-i.numberOfPoints-n,r=s+i.numberOfPoints;s<0&&(o.default.error("Not enough points to fill the block. Duplicating",Math.abs(s),"point(s) at the end of the block to fill it."),r-=s,s=0);var a=e.slice(s,r);if(i.withTickDates(a),n+=a.length,t===i)return!1}))},l.preProcessBlocks=function(e,t,i){var n,s=[];for(n=t;n&&(n.loading.loaded||(n.rawPriceData=[],n.loading=r.default.UNPROCESSED,s.push(n)),n!==i);)n=n.next;s.length&&e.length&&l.attachRawDataToBlocks(e,s)},l.attachRawDataToBlocks=function(e,t){var i,n,s;for(n=e.shift(),s=0;s<t.length;s++)for(i=t[s];n;){if(n.timestamp>=i.start){if(n.timestamp>=i.end)break;i.rawPriceData.push(n)}n=e.shift()}};var d=l.prototype;d._priceAdapter=null,d._priceCalculator=null,d._blocksToProcess=null,d._processedBlocks=null,d._processedPoints=null,d._finaliseBlockLoading=!1,d.getProcessedBlocks=(0,a.getter)("_processedBlocks"),d.getProcessedPoints=(0,a.getter)("_processedPoints"),d.processBlocks=function(){var e,t,i=[],s=[];for(t=0;t<this._blocksToProcess.length;t++)0===(e=this._blocksToProcess[t]).index&&(this._priceCalculator.allowPartialDataPoints=!0,this._finaliseBlockLoading=!0),this._formatRawDataInBlock(e,i,s);this._processedBlocks=s,this._processedPoints=i.filter(n.identity)},d._formatRawDataInBlock=function(e,t,i){var n=this._priceAdapter.convertToDataPoints(e);(n.length===e.rawPriceData.length||this._finaliseBlockLoading)&&((0,s.inPlaceConcat)(t,n),i.push(e),e.loading=r.default.LOADED,e.rawPriceData=null)},Object.seal(d);const u=Object.seal(l)},38712:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>g});var n=i(43130),s=i(41943),r=i(8697),o=i(23806),a=i(9525),l=i(88045),d=i(10094),u=i(54859),c=i(58146),h=i(45406);function p(e,t){return 0===c.comparatorWithDateIncludingPregap.call(e,t.date)}var _={chunkContiguousBlocks:function(e){for(var t,i=[],n=-1/0,s=e.length,r=0;r<s;r++)(t=e[r]).index!==n+1&&i.push([]),i[i.length-1].push(t),n=t.index;return i},updateContiguousBlocksWithDataPoints:function(e,t,i){if(1===e.length)return e[0].setPoints(i,t)?e:[];if(t.length>0&&(0,n.head)(t).accTime<(0,n.head)(e).accStart)throw new Error("first point with date "+(0,n.head)(t).date+" before first block with start date "+(0,n.head)(e).start);var s,r=0,o={},a=[];return t.forEach((function(t){for(;r<e.length&&t.accTime>=e[r].accEnd;)r++;if(s=e[r])o[s.index]||(o[s.index]=[],a.push(s)),o[s.index].push(t);else{if(!(t.date.getTime()<(0,n.last)(e).end.getTime()))throw new Error("Attempt to add a point out the provided blocks");l.default.error("Point accTime exceeds block end accTime, but point date falls into the block. Point accTime =",t.accTime)}})),e.forEach((function(e){e.setPoints(i,o[e.index]||[])})),"prices-raw"===i||"prices"===i?e:a},_hasPointAtBlockStartTime:function(e,t){var i=(0,n.head)(t(e));return i&&i.accTime===e.accStart},_nextPointAfter:function(e,t){for(var i,r=e;r&&r.next;){if(!(r=r.next).loading.calculated)return null;if(i=t(r),(0,s.nonEmpty)(i))return(0,n.head)(i)}return null},_previousPointBefore:function(e,t){for(var i,r=e;r&&r.previous;){if(!(r=r.previous).loading.calculated)return null;if(i=t(r),(0,s.nonEmpty)(i))return(0,n.last)(i)}return null},getPrecedingBlockWithPoints:function(e,t){for(var i,n=e;n&&n.previous;){if(!(n=n.previous).loading.calculated)return n;if(i=t(n),(0,s.nonEmpty)(i))return n}return null},getSucceedingBlockWithPoints:function(e,t){for(var i,n=e;n&&n.next;){if(!(n=n.next).loading.calculated)return n;if(i=t(n),(0,s.nonEmpty)(i))return n}return null},findContainingBlock:function(e,t,i){var s,o=r.find(e.date,t,c.comparatorWithDateIncludingPregap);if("number"==typeof o)return t[o];if(i||o!==r.BEFORE_START){if(!i&&o===r.AFTER_END)for(s=(0,n.last)(t).next;s;){if(p(s,e))return s;s=s.next}}else for(s=(0,n.head)(t).previous;s;){if(p(s,e))return s;s=s.previous}return null},countPoints:function(e,t){return e?(0,d.sum)(e.map((0,n.property)(["points",t,"points","length"]))):0},getPointsForBlocks:function(e,t){return(0,s.flatten)(e.map((0,n.property)(["points",t,"points"])))},getTrailingPoints:function(e,t,i){if(0===i)return{points:[],outOfBlocks:!1};for(var n=e,s=[],r=0;n;){if(!(n=n.previous))return{points:_.getPointsForBlocks(s,t),outOfBlocks:!0};if(!n.hasPointType(t))return{points:_.getPointsForBlocks(s,t),outOfBlocks:!1};if(r+=_.countPoints([n],t),s.unshift(n),r>=i)return{points:_.getPointsForBlocks(s,t),outOfBlocks:!1}}}};_.getPointTypeAccessor=(0,a.cache)((function(e){return function(t){return _._getPointsWithPositiveAccTime(t,e)}}),n.identity),_._hasPositiveAccTime=function(e){return e.accTime>=0},_._getPointsWithPositiveAccTime=function(e,t){return e&&e.points&&e.points[t]&&e.points[t].points?e.accStart<0?e.points[t].points.filter(_._hasPositiveAccTime):e.points[t].points:[]},_.getPointsIncludingPrecedingAndSucceeding=function(e,t){var i=_.getPointTypeAccessor(t),r=(0,s.flatten)(e.map(i)),o=_._previousPointBefore((0,n.head)(e),i),a=_._nextPointAfter((0,n.last)(e),i);return o&&r.unshift(o),a&&r.push(a),r},_.appendNewBlockEndingAt=function(e,t,i){var s=(0,n.last)(e),r=o.default.create(s.end,new Date(t));return r.loading=o.default.STREAMING,e.push(r),s.next=r,r.initialiseUsingTimeline(s,null,i),r},_.expandToContainDate=function(e,t,i,s){var r=(0,n.last)(e),o=t.getTime(),a=Math.min((0,n.last)(e).start.getTime()+i,o);for(r.expandToEndAt(new Date(a));r.end<t;)a=Math.min(a+i,o),r=_.appendNewBlockEndingAt(e,a,s)},_.expandTickBlockToContainNumberOfPoints=function(e,t){var i,n,s=e,r=h.A.TICKS_PER_BLOCK-s.numberOfPoints,o=Math.min(t,r),a=[];for(s.withNumberOfPoints(s.numberOfPoints+o),t-=o;t>0;)i=h.A.create(s.interval),n=Math.min(t,h.A.TICKS_PER_BLOCK),i.accStart=s.accEnd,i.withNumberOfPoints(n),t-=n,s.next=i,i.initialiseUsingTimeline(s,null),i.index=s.index+1,s=i,a.push(i),i=null;return a},_.truncateEmptyBlocks=function(e,t,i,s){var r,o,a=0,l=e.length;for(t=t||0;l--;){if(e[l].next=null,e[l].containsPoints()||!(e[l].start>t)){for(r in e[l].points)e[l].points.hasOwnProperty(r)&&(o=e[l].points[r].points).length&&(a=Math.max(a,(0,n.last)(o).timestamp));return a=new Date(Math.max(a,t)),i&&(a=i.next(a,s)),e[l].contractToEndAt(a),a}e.pop()}},_.findBlockIndicesContainingAccRange=function(e,t){return[r.findClosestIndex(t[0],e,c.comparatorWithAccTime),r.findClosestIndex(t[1],e,c.comparatorWithAccTime)]},_.findBlockContainingAccTime=function(e,t){return e[r.findClosestIndex(t,e,c.comparatorWithAccTime)]},_.findLastPointsInAccRange=function(e,t){var i=_.findBlockIndicesContainingAccRange(e,t),n=e.slice(i[0],i[1]+1).map((function(e){return e.getLastPointsInRange(t)}));return u.merge.apply(null,n)},_.findLastPointFrom=function(e,t){for(var i,r,o;e;){if(o=t?(0,n.pickBy)(e.points,(function(e,i){return i===t})):e.points,Object.keys(o).length&&(r=(0,s.flatten)((0,n.values)(o).map((0,a.plucker)("points"))).sort((0,a.ascendingFieldComparator)("accTime")),i=(0,n.last)(r)))return i;e=e.previous}return null},_.findBlockContainingDate=function(e,t){return e[r.findClosestIndex(t,e,c.comparatorWithDateIncludingPregap)]};const g=Object.seal(_)},7631:(e,t,i)=>{"use strict";function n(e,t,i){this._instrumentModel=e,this._visibleDateRange=t,this._settingsManager=i}i.r(t),i.d(t,{default:()=>r}),n.create=function(e,t,i){return new n(e,t,i)};var s=n.prototype;s._instrumentModel=null,s._visibleDateRange=null,s._settingsManager=null,s.getDuration=function(){var e=this._settingsManager.getCandleWidth();return e?this._visibleDateRange.width()/e*this._instrumentModel.activeInstrumentResolution.resolution.period:null},Object.seal(s);const r=Object.seal(n)},55986:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>d});var n=i(41943),s=i(12990),r=i(9525),o=i(289),a=s.A.extend((function(e){this._items=e?(0,n.shallowCopy)(e):[]}),o.default);a.create=function(e){return new a(e)},a.ADD="ADD",a.REMOVE="REMOVE";var l=a.prototype;l._items=null,l.add=function(e,t){return t?this._items.splice(this.locationOf(e,t),0,e):this._items.push(e),this.fire(a.ADD,e),this},l.addAll=function(e,t){return e.forEach(function(e){this.add(e,t)}.bind(this)),this},l.remove=function(e){var t=(0,n.find)(this._items,e);t&&((0,n.remove)(this._items,t),this.fire(a.REMOVE,t))},l.get=function(e){return e>=this._items.length?null:this._items[e]},l.getAll=function(){return this._items.slice(0)},l.getBy=function(e,t){return(0,n.find)(this._items,(0,r.propertyComparator)(e,t))},l.clear=function(){for(var e;this._items.length;)e=this._items.shift(),this.fire(a.REMOVE,e);return this},l.shallowCopy=function(){return new a((0,n.shallowCopy)(this._items))},l.filter=(0,r.delegate)("_items","filter"),l.forEach=(0,r.delegate)("_items","forEach"),l.map=(0,r.delegate)("_items","map"),l.sort=function(e){return this._items.sort(e),this},l.find=function(e){return(0,n.find)(this._items,e)},l.invokeApply=function(e,t){(0,r.invokeApply)(this._items,e,t)},l.asArray=function(){return(0,n.shallowCopy)(this._items)},l.length=(0,r.getter)("_items","length"),l.locationOf=function(e,t){for(var i,n,s=0,r=this._items.length-1;s<=r;)if(i=(s+r)/2|0,(n=t(e,this._items[i]))>0)s=i+1;else{if(!(n<0))return i;r=i-1}return r<0?0:s},Object.seal(l);const d=Object.seal(a)},94352:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>o});var n=i(96285);function s(e,t,i){this._instrumentModelCollection=e,this._visibleDateRange=t,this._duration=i}s.create=function(e,t,i){return new s(e,t,i)};var r=s.prototype;r._instrumentModelCollection=null,r._visibleDateRange=null,r._duration=null,r.getDuration=function(e){var t=n.DateTime.fromJSDate(this._instrumentModelCollection.timeline.asDate(e)).minus(this._duration);return(e-this._instrumentModelCollection.timeline.asAccTime(t.toJSDate()))/(1-this._visibleDateRange.rightMargin/this._visibleDateRange.width())},Object.seal(r);const o=Object.seal(s)},35301:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>D});var n=i(43130),s=i(41943),r=i(23806),o=i(63993),a=i(38712),l=i(17757),d=i(12990),u=i(4215),c=i(84228),h=i(77209),p=i(9525),_=i(18822),g=i(38153),f=i(91882),m=i(38523),v=i(74893),A=i(83639),E=i(289),T=i(97292),I=i(17660),C=i(6927),O=i(15426),M=i(33236),y=(0,p.plucker)("rawPriceData"),b=d.A.extend((function(e,t,i){this.instrumentResolutionGuid=(0,T.getGuid)(),this.instrumentModel=e,this.resolution=t,this.period=t.period,this._currentDataPoint={},this._eventBus=i,this._priceAdapter=this._adapterForResolution(this),this.streamingClient=(0,A.x)(this),this._dataGapManager=this._gapManagerClass.create(this),this.hcdClient=b._createHcdClient(i,e,t,this.instrumentResolutionGuid),this.hcdClient.on(_.f6,this._handleHcdDataPointsLoaded,this)}),E.default);b._createHcdClient=function(e,t,i,n){var s=I.default.getInstance().getSsoToken();return _.Ay.create(s,t.epic,i,n,e).withCacheableRequestPolicy(l.alignToResolutionMultiple).withVersion(t.instrumentVersion)},b.create=function(e,t,i){return new b(e,t,i)},b.INITIAL_NUMBER_OF_POINTS_SHOWN=64;var S=b.prototype;S.instrumentModel=null,S.resolution=null,S._timeline=null,S.blocks=null,S.info=null,S.hcdClient=null,S.streamingClient=null,S.period=null,S._gapManagerClass=u.default,S._dataGapManager=null,S._priceAdapter=null,S._priceCalculator=null,S._currentDataPoint=null,S.instrumentResolutionGuid=null,S._eventBus=null,S.initialDuration=function(){return b.INITIAL_NUMBER_OF_POINTS_SHOWN*this.period},S.getCurrentDataPoint=function(e){return this._currentDataPoint[e]},S.getEpic=function(){return this.instrumentModel.epic},S.getIntervalStartContainingDate=function(e){return this._timeline.closestIntervalForDate(e).start},S.withPriceCalculator=function(e,t){this._priceCalculator=e,this._priceAdapter.usePriceCalculator(this._priceCalculator),this.streamingClient.usePriceCalculator(this._priceCalculator,t),this._handlePriceCalculatorChange()},S.withInstrumentVersion=function(e){return this.hcdClient.withVersion(e),this},S.destroy=function(){b.superclass.destroy.call(this),this.stopStreaming(),this._eventBus.unsubscribeAll(this),this.hcdClient&&(this.hcdClient.destroy(),this.hcdClient.un(null,this),this.hcdClient=null),this._dataGapManager&&(this._dataGapManager.destroy(),this._dataGapManager=null),this.streamingClient&&(this.streamingClient.destroy(),this.streamingClient=null),this._currentDataPoint=null,this.blocks=null},S.expandForwardToContainDate=function(e,t,i){return!!this._timeline&&(this.instrumentModel.activeInstrumentResolution!==this?(a.default.expandToContainDate(this.blocks,e,r.default.PERIODS_PER_BLOCK*this.period,this._timeline),!1):(i!==M.PointType.PRICES&&i!==M.PointType.PRICES_RAW||!(e.getTime()<=this._timeline.endDate().getTime()))&&(this._timeline.expandToEndAt(e),a.default.expandToContainDate(this.blocks,e,r.default.PERIODS_PER_BLOCK*this.period,this._timeline),!0))},S.expandForwardToContainDateAndNotify=function(e,t,i,n){var s=this._timeline.accEnd();return!!this.expandForwardToContainDate(e,t,n)&&(this.fire(g.default.END_DATE_CHANGED,s,this._timeline.accEnd(),i||!1),!0)},S.findBlockContainingDate=function(e){return a.default.findBlockContainingDate(this.blocks,e)},S._contractAfterRemovingIndicator=function(){var e=this._timeline.accEnd(),t=this.resolution.getPeriodIterator(),i=this.info.getConsolidationTimezoneOffset(),n=this.instrumentModel.chartModel.priceStreamClock.getCurrentTimestamp(),s=a.default.truncateEmptyBlocks(this.blocks,n,t,i);this._timeline.contractToEndAt(s),this.fire(g.default.END_DATE_CHANGED,e,this._timeline.accEnd(),!1)},S._insertPointsIntoUnknownBlocks=function(e,t){if(!this.blocks)return[];var i,n,o,a=[],l=e.length-1;if(e.sort(c.default.comparatorOnDateOldestToNewest),this.expandForwardToContainDateAndNotify(new Date((0,s.lastOf)(e).date.getTime()+this.period),e,!1,t),this._isBeforeMarketOpen(e))return[];for(e.forEach(this.addAccTime,this),o=this.blocks.length-1;o>=0;o--){for(i=this.blocks[o],n=[];l>=0&&i.containsDate(e[l].date);l--)n.unshift(e[l]);if(i.setPoints(t,n),a.unshift(i),!i.loading.streaming&&l<0)break;i.loading.streaming&&(i.loading=r.default.LOADED)}return a},S._insertDisplacedPointsIntoBlocks=function(e,t,i,n){return t.length?(i=this.expandForwardToContainDateAndNotify(new Date((0,s.lastOf)(t).date.getTime()+this.period),t,n,e)||(0,s.lastOf)(i).isLastOfInstrument()?this.blocks.slice((0,s.firstOf)(i).index,this.blocks.length):this.blocks.slice((0,s.firstOf)(i).index,(0,s.lastOf)(i).index+1),this._insertPointsIntoBlocks(i,t,e)):[]},S._isBeforeMarketOpen=function(e){return(0,s.firstOf)(e).date.getTime()<(0,s.firstOf)(this.blocks).start.getTime()},S.addIndicatorPoints=function(e,t,i,n,r){var o;this._timeline&&(o=i?n?this._insertDisplacedPointsIntoBlocks(e,t,i,r):this._insertPointsIntoBlocks(i,t,e):t.length?this._insertPointsIntoUnknownBlocks(t,e):[],(i||o.length>0)&&(this._firePointsChangedWithSuffix(o,e),this._fireCurrentPointChangedWithSuffix((0,s.lastOf)(t),e)))},S._insertPointsIntoBlocks=function(e,t,i){return t.forEach(this.addAccTime,this),a.default.updateContiguousBlocksWithDataPoints(e,t,i)},S._firePointsChangedWithSuffix=function(e,t){this.fire(g.default.BLOCKS_POINTS_ADDED,e,t,this.getEpic(),this.resolution),this.fire(g.default.BLOCKS_POINTS_ADDED+"-"+t,e,this.getEpic(),this.resolution)},S._fireCurrentPointChangedWithSuffix=function(e,t){e&&(!this._currentDataPoint[t]||e.accTime>=this._currentDataPoint[t].accTime)&&("prices"===t&&this._currentDataPoint.prices&&this._currentDataPoint.prices.accTime<e.accTime&&this.fire(g.default.NEW_CURRENT_DATA_POINT,e),this._currentDataPoint[t]=e,this.fire(g.default.CURRENT_DATA_POINT_CHANGED,e,t),this.fire(g.default.CURRENT_DATA_POINT_CHANGED+"-"+t,e))},S.hasBlocksLoaded=function(){return!!this.blocks},S.getTimeline=(0,p.getter)("_timeline"),S.setTimeline=function(e,t,i,n){this.info=n,this.blocks=i,this._timeline=e,this._eventBus.subscribe("chart/indicator/removed/*",this._contractAfterRemovingIndicator,this),this._fireDataInitialisationEvents(t)},S._fireDataInitialisationEvents=function(e){f.default.logStats(e,this.period,"Interval stats on this Instrument/Resolution"),this._eventBus.publish("chart/resolution/info",[this.info]),this.fire(g.default.INFO_LOADED,this.info)},S.handleInitialDataPointsLoaded=function(e){var t=this._trimPartialBlocks(e);t&&this._handleDataPointsLoaded(t.points,t.startBlock,t.endBlock)},S._trimPartialBlocks=function(e){var t,i,n=(0,m.flattenHcdJson)(e);return n.length?(t=a.default.findBlockContainingDate(this.blocks,new Date((0,s.firstOf)(n).timestamp)),i=a.default.findBlockContainingDate(this.blocks,new Date((0,s.lastOf)(n).timestamp)),t.index>0&&t.index<i.index&&(t=t.next),{startBlock:t,endBlock:i,points:n}):null},S._handlePriceCalculatorChange=function(){this.blocks&&a.default.chunkContiguousBlocks(this.blocks.filter((function(e){return null!=e.points.prices}))).forEach(this._recalculatePointsInBlocks,this)},S._recalculatePointsInBlocks=function(e){(0,p.invokeCall)(e,"reset");var t=(0,s.flatten)(e.map(this._recalculatePointsInBlock.bind(this)));this.fire(h.default.POINTS_LOADED,(0,n.compact)(t),e)},S._recalculatePointsInBlock=function(e){return e.points.prices.points.map(this._recalculatePoint.bind(this,e))},S._recalculatePoint=function(e,t){return this._priceCalculator.calculateDataPoint(t.lastRawPrice,e)},S._handleHcdDataPointsLoaded=function(e,t,i){this._handleDataPointsLoaded((0,m.flattenHcdJson)(e),t,i),this.fire(g.default.HCD_DATA_POINTS_LOADED)},S._handleDataPointsLoaded=function(e,t,i){o.A.preProcessBlocks(e,t,i),a.default.chunkContiguousBlocks(this.blocks.filter(y)).forEach(this._processAndFireBlocks,this),this.hcdClient.requestMissingTrailingBlocks()},S._processAndFireBlocks=function(e){var t=this._processBlocks(e);t&&this.fire(h.default.POINTS_LOADED,t.getProcessedPoints(),t.getProcessedBlocks())},S._processBlocks=function(e){if(e.length){var t=o.A.create(this._priceAdapter,this._priceCalculator,e);return t.processBlocks(),t}return null},S.removeIndicatorPoints=function(e){(0,p.invokeCall)(this.blocks,"removePoints",e.outputPointTypes)},S.startStreaming=function(e,t){this._dataGapManager.startListening(t),this.streamingClient.startListening(e)},S.stopStreaming=function(){this._dataGapManager.stopListening(),this.streamingClient.stopListening()},S.numberOfLoadedPrices=function(){return a.default.countPoints(this.blocks,"prices")},S.getLastPointsInAccRange=function(e){return this.period>=this.instrumentModel.activeResolution.period&&this.blocks?a.default.findLastPointsInAccRange(this.blocks,e):null},S.getLastPoint=function(e){return a.default.findLastPointFrom((0,s.lastOf)(this.blocks),e)},S.findLeftmostDataPoint=function(e){for(var t,i,r=a.default.findBlockContainingAccTime(this.blocks,e);r;){if((0,n.get)(r,"points.prices.points.length")){for(i=(0,s.flatten)(r.points.prices.points).sort((0,p.ascendingFieldComparator)("accTime")),t=0;t<i.length&&i[t].accTime<e;)t++;if(t!==i.length)return i[t]}r=r.next}return null},S.addAccTime=function(e){e.accTime=this._timeline.asAccTime(e.date,!0)},S._adapterForResolution=function(e){return(e.resolution.id===v.default.values.TICK.id?O.A:C.default).create()},Object.seal(S);const D=Object.seal(b)},80478:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>s});var n={values:{}};n.values.COMMODITIES="COMMODITIES",n.values.CURRENCIES="CURRENCIES",n.values.INDICES="INDICES",n.values.SHARES="SHARES",n.valueOf=function(e){var t=e.toUpperCase().trim();return n.values[t]||t},Object.freeze(n.values);const s=Object.seal(n)},91882:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>o});var n=i(88045),s=i(76040),r={logStats:function(e,t,i){var o=r.calculateOpenFraction(e),a=r.calculateMeanOpenIntervalDuration(e),l=r.calculateMeanClosedIntervalDuration(e);n.default.debug(i,"\tnumber of intervals",e.length,"\n","\topen proportion of time:",(100*o).toFixed(2)+"%\n","\tmean open interval duration (hours)",(a/s.default.Periods.HOUR).toFixed(2),"\n","\tmean closed interval duration (hours)",(l/s.default.Periods.HOUR).toFixed(2),"\n","\tmean number of periods per open interval:",(a/t).toFixed(2))},calculateOpenFraction:function(e){var t=e[e.length-1],i=e[0],n=t.end-i.start;return t.accEnd/n},calculateMeanOpenIntervalDuration:function(e){return e[e.length-1].accEnd/e.length},calculateMeanClosedIntervalDuration:function(e){var t=e[e.length-1],i=e[0];return(t.end-i.start-t.accEnd)/e.length}};const o=Object.seal(r)},70192:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>l});var n=i(23806),s=i(76040),r=i(35533);function o(e){var t=n.default.PERIODS_PER_BLOCK*e.period;this._iterator=r.default.getIterator(s.default.Enum.MILLISECOND,t)}o._getRangesBetween=function(e,t,i){var n,s=e[1],r=null,o=[],a=e[0];return i.iterateBetween(e,t,(function(e){r=[a,e],o.push(r),a=e})),r?(r[1]<s&&(n=[r[1],s],o.push(n)),o):[e]};var a=o.prototype;a._iterator=null,a.split=function(e){return o._getRangesBetween([e.start,e.end],0,this._iterator).map((function(e){return n.default.create(e[0],e[1])}))},Object.seal(a);const l=o},15579:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>a});var n=i(12990),s=i(58146),r=n.A.extend((function(e,t){this.midPoint=new Date((t.getTime()+e.getTime())/2)}),s.default),o=r.prototype;o.initialiseRelativeToNeighbours=function(e,t){var i=this.end.getTime()-this.start.getTime();this.previous=e||null,this.next=t||null,this.previous?(this.index=this.previous.index+1,this.preGap=this.start.getTime()-e.end.getTime(),this.accStart=e.accEnd):(this.index=0,this.preGap=0,this.accStart=0),this.duration=i,this.accEnd=this.accStart+i},o.midPoint=null,Object.seal(o);const a=Object.seal(r)},56398:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>l});var n=i(38459),s=i(74097),r=i(99210),o=i(60934),a=i(4395);const l={get:function(e){switch(e){case a.default.MID:return new o.default;case a.default.BID:return new s.A;case a.default.ASK:return new n.A;case a.default.LTP:return new r.A}}}},6195:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>c});var n=i(12990),s=i(77209),r=i(9525),o=i(10094),a=i(289),l=i(76040),d=n.A.extend((function(){}),a.default);d.create=function(){return new d};var u=d.prototype;d.TIME_TICKED="timeTicked",u._streamingPointClient=null,u._lastResetTimestamp=null,u._clientTimestampAtLastReset=null,u._timeLoopTimeout=null,u._timeLoopInterval=null,u._hasBeenSet=!1,u.withStreamingPointClient=(0,r.setter)("_streamingPointClient"),u.startTicking=function(){this._streamingPointClient&&this._streamingPointClient.on(s.default.POINTS_LOADED,this._handleIncomingPrice,this),this._isTicking()&&this._stopTickingLoop(),this._startTickingLoopDeadOnTheSecond()},u.stopTicking=function(){this._streamingPointClient&&this._streamingPointClient.un(s.default.POINTS_LOADED,this),this._isTicking()&&this._stopTickingLoop()},u._startTickingLoopDeadOnTheSecond=function(){var e=0;this._hasBeenSet&&(e=l.default.Periods.SECOND-this.getCurrentTimestamp()%l.default.Periods.SECOND),this._timeLoopTimeout=window.setTimeout(this._startTickingLoop.bind(this),e)},u._startTickingLoop=function(){this._timeLoopInterval=window.setInterval(this._tickCurrentTime.bind(this),l.default.Periods.SECOND)},u._tickCurrentTime=function(){this.fire(d.TIME_TICKED,this.getCurrentTimestamp())},u._stopTickingLoop=function(){window.clearTimeout(this._timeLoopTimeout),window.clearInterval(this._timeLoopInterval),this._timeLoopTimeout=null,this._timeLoopInterval=null},u._isTicking=function(){return!!this._timeLoopInterval||!!this._timeLoopTimeout},u._handleIncomingPrice=function(e){var t,i;(t=e.map((function(e){return e.date.getTime()}))).length>0&&(i=Math.max.apply(Math,t),(!this._hasBeenSet||i>this.getCurrentTimestamp())&&this.setClockTime(i))},u.setClockTime=function(e){return this._lastResetTimestamp=e,this._clientTimestampAtLastReset=Date.now(),this._hasBeenSet=!0,this._isTicking()&&(this._stopTickingLoop(),this._startTickingLoopDeadOnTheSecond()),this},u.getCurrentTimestamp=function(){if(!this._hasBeenSet)return null;var e=Date.now()-this._clientTimestampAtLastReset;return this._lastResetTimestamp+e},u.promptTimestamp=function(e,t){if(!this._hasBeenSet){var i=Date.now(),n=i-(0,o.floorToClosestMultiple)(i,t),s=(0,o.floorToClosestMultiple)(e,t);this.setClockTime(s+n)}},Object.seal(u);const c=d},45406:(e,t,i)=>{"use strict";i.d(t,{A:()=>d});var n=i(23806),s=i(12990),r=i(9525),o=i(98966),a=s.A.extend((function(e){if(e&&!(e instanceof o.default))throw new Error("Creating tick block from non-tick interval");this.interval=e}),n.default);a.TICKS_PER_BLOCK=60,a.create=function(e){return new a(e)};var l=a.prototype;l.interval=null,l.numberOfPoints=0,l._getBlockOffsetWithinInterval=function(){for(var e=0,t=this;(t=t.previous)&&t.interval===this.interval;)e+=t.numberOfPoints;return e},l.withNumberOfPoints=function(e){this.numberOfPoints=e,this.accEnd=this.accStart+this.numberOfPoints*o.default.ACCTIME_INCREMENT},l.withTickDates=function(e){return this.interval.withTickDates(e,this._getBlockOffsetWithinInterval(),this.numberOfPoints),this},Object.defineProperties(l,{start:{configurable:!0,enumerable:!0,get:function(){var e;if(this.isFirstInInterval())return this.interval.start;if(e=this.interval.tickDatesForAccTime[this._getBlockOffsetWithinInterval()])return e;throw new Error("Getting start date for tick block in unloaded region")},set:(0,r.throwError)("Tick start should not be set explicitly.")},end:{configurable:!0,enumerable:!0,get:function(){var e;if(this.isLastInInterval())return this.interval.end;if(e=this.interval.tickDatesForAccTime[this._getBlockOffsetWithinInterval()+this.numberOfPoints])return new Date(e.getTime());throw new Error("Getting end date for tick block in unloaded region")},set:(0,r.throwError)("Tick end should not be set explicitly.")},dateRange:{configurable:!0,enumerable:!0,get:function(){return[this.start,this.end]},set:(0,r.throwError)("Tick date range should not be set explicitly.")},preGap:{configurable:!0,enumerable:!0,get:function(){return this.isFirstInInterval()?this.interval.preGap:0},set:(0,r.throwError)("Tick pre gap should not be set explicitly.")},duration:{configurable:!0,enumerable:!0,get:function(){return this.end.getTime()-this.start.getTime()},set:(0,r.throwError)("Tick duration should not be set explicitly.")}}),l.isFirstInInterval=function(){return!this.previous||this.previous.interval!==this.interval},l.isLastInInterval=function(){return!this.next||this.next.interval!==this.interval},l.getHCDPreNeighbours=function(){for(var e=this,t=[];e.previous&&e.previous.interval===this.interval;)e=e.previous,t.push(e);return t.reverse()},l.getHCDPostNeighbours=function(){for(var e=this,t=[];e.next&&e.next.interval===this.interval;)e=e.next,t.push(e);return t},l.initialiseUsingTimeline=function(e,t){this.previous=e||null,this.next=t||null},Object.seal(l);const d=Object.seal(a)},30860:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>A});var n=i(43130),s=i(41943),r=i(23806),o=i(63993),a=i(38712),l=i(12990),d=i(77209),u=i(9525),c=i(35301),h=i(88045),p=i(74893),_=i(45406),g=i(98966),f=i(72542),m=l.A.extend((function(e,t,i){if(t!==p.default.values.TICK)throw new Error("Creating tick instrument resolution for non-tick resolution")}),c.default);m.create=function(e,t,i){return new m(e,t,i)};var v=m.prototype;v._gapManagerClass=f.A,v.expandForwardToContainDate=function(e,t){var i,n,o;return!!(this._timeline&&(i=this._timeline.endTickDate())&&(n=(t||[]).filter((function(e){return e.date>i}))).length)&&(this._timeline.expandToIncludePoints(e,n),(o=a.default.expandTickBlockToContainNumberOfPoints((0,s.lastOf)(this.blocks),n.length)).forEach((0,u.setAttr)("loading",r.default.STREAMING)),(0,s.inPlaceConcat)(this.blocks,o),!0)},v.findBlockContainingDate=function(e){var t=this._timeline.asAccTime(e);return a.default.findBlockContainingAccTime(this.blocks,t)},v._insertPointsIntoBlocks=function(e,t,i){return(0,s.nonEmpty)(t)&&(this._assignFirstAccTime((0,s.firstOf)(t),e),this._setAccTimeForPoints(t)),a.default.updateContiguousBlocksWithDataPoints(e,t,i)},v._assignFirstAccTime=function(e,t){var i=this._timeline.asAccTime(e.date,!0);i=Math.max(i,(0,s.firstOf)(t).accStart),e.accTime=i},v._setAccTimeForPoints=function(e){var t,i=e[0].accTime;for(t=1;t<e.length;t++)e[t].accTime=i+t*g.default.ACCTIME_INCREMENT},v._contractAfterRemovingIndicator=n.noop,v._trimPartialBlocks=function(e){var t,i=e.intervalsDataPoints,n=(0,s.lastOf)(this.blocks),r=(0,s.flatten)(i.map((0,u.plucker)("dataPoints"))),o=[];return n.iterateBackward((function(e){if(r.length<e.numberOfPoints)return!1;o=(0,s.lastNItems)(r,e.numberOfPoints).concat(o),r=(0,s.firstNItems)(r,r.length-e.numberOfPoints),t=e})),{startBlock:t,endBlock:n,points:o}},v._getCapacityBetweenBlocks=function(e,t){var i=0;return e.iterateForward((function(e){if(i+=e.numberOfPoints,e===t)return!1})),i},v._handleDataPointsLoaded=function(e,t,i){var n,r,a,l=e.length-this._getCapacityBetweenBlocks(t,i);l>0&&i.next&&h.default.error("endBlock should be the last block",i),l>0&&(r=(0,s.lastNItems)(e,l),e=e.slice(0,e.length-l)),o.A.setTickDatesForAccTime(e,t,i),this._getUnloadedChunks(e,t,i).forEach((function(e){m.superclass._handleDataPointsLoaded.call(this,e.points,e.startBlock,e.endBlock)}),this),r&&!i.next&&((a=new _.A).index=0,a.rawPriceData=r,(n=this._processBlocks([a]))&&this.fire(d.default.POINTS_LOADED,n.getProcessedPoints()))},v._getUnloadedChunks=function(e,t,i){var n=0,s=[],r=null;return t.iterateForward((function(t){if(t.loading.loaded?r=null:(r||(r={startBlock:t,endBlock:null,points:[]},s.push(r)),r.endBlock=t,r.points=r.points.concat(e.slice(n,n+t.numberOfPoints))),n+=t.numberOfPoints,t===i)return!1})),s},Object.seal(v);const A=Object.seal(m)},98966:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>p});var n=i(43130),s=i(41943),r=i(12990),o=i(9525),a=i(88045),l=i(10094),d=i(15579);function u(e){if(e.date)return e.date;if(e.timestamp)return new Date(e.timestamp);throw new Error("Trying to get the date out of non-point")}var c=r.A.extend((function(e,t,i){this.numberOfPoints=i,this.tickDatesForAccTime=new Array(i);for(var n=0;n<this.tickDatesForAccTime.length;n++)this.tickDatesForAccTime[n]=null}),d.default);c.ACCTIME_INCREMENT=1e3;var h=c.prototype;h.numberOfPoints=0,h.tickDatesForAccTime=null,h.isLoaded=function(){return this.tickDatesForAccTime.some(n.identity)},Object.defineProperty(h,"accEnd",{configurable:!0,enumerable:!0,get:function(){return(0,l.isNumber)(this.accStart)?this.accStart+this.numberOfPoints*c.ACCTIME_INCREMENT:null},set:n.noop}),h.firstTickDate=function(){return(0,s.firstOf)(this.tickDatesForAccTime)||null},h.lastTickDate=function(){return(0,s.lastOf)(this.tickDatesForAccTime)||null},h.lastTickAccTime=function(){return this.accStart+(this.tickDatesForAccTime.length-1)*c.ACCTIME_INCREMENT},h.withTickDates=function(e,t,i){var n,s,r,o;if((0,l.isNumber)(t)||(t=0),(0,l.isNumber)(i)||(i=this.numberOfPoints),(n=this.tickDatesForAccTime.slice(t,t+i)).length!==i)return a.default.error("Addition of new tick dates out of bounds (reaches past the end of the mapping)"),this;if(n.length!==e.length)return a.default.error("Mismatch between number of ticks and the size of slice within tick date mapping"),this;for(s=0;s<i;s++)r=s+t,o=u(e[s]),this.tickDatesForAccTime[r]&&this.tickDatesForAccTime[r].getTime()!==o.getTime()&&a.default.error("Entry within tick date mapping at index "+r+" is already set with value "+this.tickDatesForAccTime[r].getTime()+" ("+new Date(this.tickDatesForAccTime[r].getTime())+"). Attempted to set it with: "+o.getTime()+" ("+new Date(o.getTime())+")"),this.tickDatesForAccTime[r]=o;return this},h.expandToEndAt=(0,o.throwError)("Expanding tick interval by date not allowed"),h.expandToIncludePoints=function(e,t){if(!(0,s.lastOf)(this.tickDatesForAccTime))throw new Error("Expanding interval with no tick dates established yet");var i,n,r=this.lastTickDate(),o=e;for(n=0;n<t.length;n++)(i=u(t[n]))>r&&(this.numberOfPoints++,this.tickDatesForAccTime.push(i),o=Math.max(o,i));o>this.end&&this._setEndDate(new Date(o.valueOf()+1))},h.contractToEndAt=function(e){if(!this.lastTickDate())throw new Error("Contracting interval with no tick dates established yet");var t=this.tickDatesForAccTime.filter((function(t){return t<e}));this._setEndDate(e),this.numberOfPoints-=this.tickDatesForAccTime.length-t.length,this.tickDatesForAccTime=t},h._setEndDate=function(e){e instanceof Date||(e=new Date(e)),this.end=e,this.duration=this.end.getTime()-this.start.getTime(),this.dateRange[1]=this.end},Object.seal(h);const p=Object.seal(c)},54364:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>g});var n=i(96794),s=i.n(n),r=i(9525),o=i(88045),a=i(54859),l=i(97292),d=i(17660),u=i(39842),c="Connection timeout",h=0;function p(e){this._settings=e,this._endpoint=e.endpoint,this._successCallback=e.success,this._errorCallback=e.error,this._completeCallback=e.complete,this._method=e.method||"GET"}var _=p.prototype;p.RETRY_TIME_BASE=15e3,p.RETRY_TIME_MAX=6e4,p.REQUEST_TIMEOUT=p.RETRY_TIME_BASE,p.CONSECUTIVE_FAILED_REQUESTS=0,p.create=function(e){return new p(e)},p.getNextTryDelay=function(){return Math.min(p.RETRY_TIME_BASE*Math.pow(2,Math.min(p.CONSECUTIVE_FAILED_REQUESTS,8)),p.RETRY_TIME_MAX)},_._ajax=null,_._settings=null,_._retryTimeout=null,_._requestTimeout=null,_._requestTime=null,_._timeTaken=null,_._method=null,_.getTimeTaken=(0,r.getter)("_timeTaken"),_.getEndpoint=(0,r.getter)("_endpoint"),_.getMethod=(0,r.getter)("_method"),_.getStrippedEndpoint=function(){return e=this.getEndpoint(),(i=document.createElement("a")).href=e,i.search&&(t=(t=i.search.slice(1).split("&")).filter((function(e){return!(e.match(/^X_Security_Token=/)||e.match(/^ssoToken=/)||e.match(/^accountId=/))})),i.search=t.length?"?"+t.join("&"):""),i.href;var e,t,i},_.send=function(){this._ajax&&(o.default.warn("Called to send another AJAX request, without receiving results from previous one. Old request will be discarded."),this._ajax.abort(),delete this._ajax),this._ajax=s().send(this._generateRequestSettings()),this._requestTime=(new Date).getTime(),this._requestTimeout=window.setTimeout(this._timeoutHandler.bind(this),p.REQUEST_TIMEOUT),this._timeTaken=null},_.abort=function(){this._ajax&&(this._ajax.abort(),delete this._ajax),this._clearTimeouts()},_._generateRequestSettings=function(){var e,t={"X-Transaction-Id":"htmlcharts_"+(0,l.getGuid)()},i=d.default.getInstance().getCstToken(),n=d.default.getInstance().getSsoToken(),s=u.default.getInstance().getOrigin();if(n&&(t["X-SECURITY-TOKEN"]=n),i&&(t.CST=i),!this._endpoint)throw new Error("No endpoint provided");return e={type:this._method,url:s+this._endpoint,dataType:"json",headers:t,success:this._successHandler.bind(this),error:this._errorHandler.bind(this)},this._settings.data&&(e.data=this._settings.data),this._settings.contentType&&(e.contentType=this._settings.contentType),this._settings.headers&&(0,a.merge)(e.headers,this._settings.headers,!0),e},_._clearTimeouts=function(){window.clearTimeout(this._requestTimeout),window.clearTimeout(this._retryTimeout),delete this._ajax,delete this._requestTimeout,delete this._retryTimeout},_._successHandler=function(e,t,i){this._recordTimeTaken(),e.error?this._errorHandler(e.error||"error while loading data",t,i):(this._clearTimeouts(),p.CONSECUTIVE_FAILED_REQUESTS>0&&(p.CONSECUTIVE_FAILED_REQUESTS=0),this._successCallback&&this._successCallback(this,e,t),this._completeCallback&&this._completeCallback())},_._errorHandler=function(e,t,i){var n=!1;this._recordTimeTaken(),this._clearTimeouts(),p.CONSECUTIVE_FAILED_REQUESTS++,!1!==this._settings.retry&&(this._scheduleNextTry(),n=!0),this._errorCallback&&this._errorCallback(this,e,t,i),!1===n&&this._completeCallback&&this._completeCallback()},_._recordTimeTaken=function(){this._timeTaken=Date.now()-this._requestTime},_._timeoutHandler=function(){var e={responseURL:this._ajax.getUrl(),status:-1};this._ajax&&(this._ajax.abort(),delete this._ajax),this._errorHandler(c,h,e)},_._scheduleNextTry=function(){var e=(new Date).getTime()-this._requestTime,t=p.getNextTryDelay()-e;t<=0?this.send():this._retryTimeout=window.setTimeout(this.send.bind(this),t)},Object.seal(_);const g=Object.seal(p)},87385:(e,t,i)=>{"use strict";var n;function s(){this._testSvgElement=document.createElementNS?document.createElementNS("http://www.w3.org/2000/svg","g"):null}i.d(t,{A:()=>o});var r=s.prototype;r._testSvgElement=null,s.getInstance=function(){return n||(n=new s),n},r.supportsSvgNonScalingStroke=function(){var e=window.navigator.userAgent.toLowerCase();return this._testSvgElement&&void 0!==this._testSvgElement.style.vectorEffect&&-1===e.indexOf("chrome/67")},Object.seal(r);const o=Object.seal(s)},938:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>a});var n=i(96285),s=i(95151),r=i(76040),o={};o.DATE_FORMATS=new s.default({en:{full:"EEE d MMM yyyy H:mm:ss",tick:"d MMM H:mm:ss.u",second:"d MMM H:mm:ss",subDaily:"EEE d MMM H:mm",dailyAccurate:"EEE d MMM yyyy",dailyNonAccurate:"EEE d MMM yyyy H:mm",weekly:"EEE d MMM yyyy",monthly:"d MMM yyyy"},en_US:{full:"EEE MMM d yyyy H:mm:ss",tick:"MMM d H:mm:ss.u",second:"MMM d H:mm:ss",subDaily:"EEE MMM d H:mm",dailyAccurate:"EEE MMM d yyyy",dailyNonAccurate:"EEE MMM d yyyy H:mm",weekly:"EEE MMM d yyyy",monthly:"MMM d yyyy"},ja:{full:"yyyy 年 MMM 月 d 日 (EEE) H:mm:ss",tick:"MMM 月 d 日 H:mm:ss.u",second:"MMM 月 d 日 H:mm:ss",subDaily:"MMM 月 d 日 (EEE) H:mm",dailyAccurate:"yyyy 年 MMM 月 d 日 (EEE)",dailyNonAccurate:"yyyy 年 MMM 月 d 日 (EEE) H:mm",weekly:"yyyy 年 MMM 月 d 日 (EEE)",monthly:"yyyy 年 MMM 月 d 日"},sv:{full:"EEE yyyy MMM d H:mm:ss",tick:"MMM d H:mm:ss.u",second:"MMM d H:mm:ss",subDaily:"EEE MMM d H:mm",dailyAccurate:"EEE yyyy MMM d",dailyNonAccurate:"EEE yyyy MMM d H:mm",weekly:"EEE yyyy MMM d",monthly:"yyyy MMM d"},zh:{full:"EEE yyyy MMM d H:mm:ss",tick:"d MMM H:mm:ss.u",second:"d MMM H:mm:ss",subDaily:"EEE MMM d H:mm",dailyAccurate:"EEE yyyy MMM d",dailyNonAccurate:"EEE yyyy MMM d H:mm",weekly:"EEE yyyy MMM d",monthly:"yyyy MMM d"},zh_TW:{full:"EEE d MMM yyyy H:mm:ss",tick:"d MMM H:mm:ss.u",second:"d MMM H:mm:ss",subDaily:"EEE d MMM H:mm",dailyAccurate:"EEE d MMM yyyy",dailyNonAccurate:"EEE d MMM yyyy H:mm",weekly:"EEE d MMM yyyy",monthly:"d MMM yyyy"}}),o.laterOf=function(e,t){return e>t?e:t},o.earlierOf=function(e,t){return e<t?e:t},o.inRange=function(e,t){return t>=e[0]&&(t<e[1]||t<=e[0])},o.compareToRange=function(e,t){return t<e[0]?-1:t>=e[1]?t<=e[0]?0:1:0},o.toUrlString=function(e){return[e.getUTCFullYear(),e.getUTCMonth()+1,e.getUTCDate(),e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds(),e.getUTCMilliseconds()].join("/")},o.format=function(e,t,i){var s,a=o.DATE_FORMATS.get("full");if(!(s="number"==typeof e?n.DateTime.fromMillis(e,{zone:t}):"string"==typeof e?n.DateTime.fromJSDate(new Date(e),{zone:t}):n.DateTime.fromJSDate(e,{zone:t})).isValid)throw new Error(`"${e}" is not a valid date`);if(i)switch(i.periodUnit){case r.default.Enum.TICK:a=o.DATE_FORMATS.get("tick");break;case r.default.Enum.SECOND:a=o.DATE_FORMATS.get("second");break;case r.default.Enum.MINUTE:case r.default.Enum.HOUR:a=o.DATE_FORMATS.get("subDaily");break;case r.default.Enum.DAY:a=o.DATE_FORMATS.get("00:00:00"===s.toFormat("HH:mm:ss")?"dailyAccurate":"dailyNonAccurate");break;case r.default.Enum.WEEK:a=o.DATE_FORMATS.get("weekly");break;case r.default.Enum.MONTH:a=o.DATE_FORMATS.get("monthly")}return s.toFormat(a)};const a=Object.freeze(o)},50547:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>r});var n=i(4739),s={};Object.defineProperty(s,"_pendingQueue",{configurable:!1,enumerable:!1,writable:!0,value:[]}),Object.defineProperty(s,"_executionQueue",{configurable:!1,enumerable:!1,writable:!0,value:[]}),Object.defineProperty(s,"_stepId",{configurable:!1,enumerable:!1,writable:!0,value:null}),Object.defineProperty(s,"_executeNext",{configurable:!1,enumerable:!1,writable:!1,value:function(){for(s._executionQueue=s._pendingQueue,s._pendingQueue=[];s._executionQueue.length;)s._executionQueue.shift().fn();s._stepId=s._pendingQueue.length?s._scheduleNextStep(s._executeNext):null}}),Object.defineProperty(s,"_scheduleNextStep",{configurable:!1,enumerable:!1,writable:!0,value:function(e){return n.default.requestFrame(e)}}),Object.defineProperty(s,"_cancelNextStep",{configurable:!1,enumerable:!1,writable:!0,value:function(e){return n.default.cancelFrame(e)}}),s.defer=function(e,t,i){if("function"!=typeof e)throw new Error("First argument to defer must be a function");s._pendingQueue.push({scope:t,fn:function(){e.apply(t,i)}}),s._stepId||(s._stepId=s._scheduleNextStep(s._executeNext))},s.cancel=function(e){if("object"!=typeof e||null===e)throw new Error("Attempted to cancel deferred functions without a valid scope");s._cancelQueue(s._pendingQueue,e),s._cancelQueue(s._executionQueue,e),s._stepId&&!s._pendingQueue.length&&(s._cancelNextStep(s._stepId),s._stepId=null)},s._cancelQueue=function(e,t){for(var i=e.length;i--;)e[i].scope===t&&e.splice(i,1)};const r=Object.seal(s)},49483:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>s});var n={elementFromText:function(e,t){var i,n=document.createElement("div");return n.innerHTML=e,(i=t?n.querySelector(t):n.firstElementChild).parentNode.removeChild(i),i},getRootContainer:function(e){for(;"main-container"!==e.attr("data-container");){if(e.node()===document.body)throw new Error("Did not retrieve the main container");e=e.parent()}return e},updateCursorPosition:function(e,t,i){var s=n.getRootContainer(e).node().getBoundingClientRect(),r=t>=0&&t<=s.width&&i>=0&&i<=s.height,o=n.getRootContainer(e).select("div.customCursor");r?(o.style("visibility","visible"),o.style("left",t+"px").style("top",i+"px")):o.style("visibility","hidden")},selectWithinChart:function(e,t){return n.getRootContainer(t).select(e)}};const s=Object.seal(n)},23585:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>s});var n={captureError:function(e,t,i){if(n.isInDebug())return e.call(i);try{return e.call(i)}catch(s){return t.call(i,s)}},isInDebug:function(){return!("object"!=typeof window.IG||!window.IG._isDebugEnabled)}};const s=Object.seal(n)},49029:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>r});var n={},s=Date.now();n._start={},n._stop={},n.GLOBAL="__global__",n.STAGE={PAGE:"PAGE",API:"API",VIEW:"VIEW",INSTRUMENT:"INSTRUMENT"},n.getNavigationStart=function(){return window.performance&&window.performance.timing&&window.performance.timing.navigationStart?window.performance.timing.navigationStart:s},n.startMeasurement=function(e,t,i){n._start[e]||(n._start[e]={}),n._start[e][t]=i||Date.now()},n.stopMeasurement=function(e,t){n._stop[e]||(n._stop[e]={}),n._stop[e][t]=Date.now()},n.getMeasurement=function(e,t){var i=n._start[n.GLOBAL]&&n._start[n.GLOBAL][t]?n._start[n.GLOBAL][t]:null,s=(n._start[e]&&n._start[e][t]?n._start[e][t]:null)||i,r=n._stop[n.GLOBAL]&&n._stop[n.GLOBAL][t]?n._stop[n.GLOBAL][t]:null,o=(n._stop[e]&&n._stop[e][t]?n._stop[e][t]:null)||r;return s&&o?o-s:null},n.resetMeasurement=function(e,t){n._start[e]&&delete n._start[e][t],n._stop[e]&&delete n._stop[e][t]},n.deleteMeasurement=function(e){delete n._start[e],delete n._stop[e]};const r=Object.seal(n)},89900:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>r});var n=i(10094),s={processUpdate:function(e,t){return t.reduce((function(t,i){return t[i]=s._parseNumberFromLightstreamerValue(e,i),t}),{})},_parseNumberFromLightstreamerValue:function(e,t){var i=parseFloat(e.getValue(t));return(0,n.isNumber)(i)?i:null}};const r=Object.freeze(s)},41020:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>s});var n={pointerTrackingZoom:function(e,t,i,n,s){var r,o,a=e[1];return[1/(r=(i-s)/(t-n))*e[0]+-1/r*(o=i-r*t),1/r*a+-1/r*o]}};const s=Object.freeze(n)},67827:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>s});var n={POSITION:{INSIDE:0,LEFT:1,RIGHT:2,BOTTOM:4,TOP:8},_computeOutCode:function(e,t,i,s,r,o){var a=n.POSITION.INSIDE;return e<i?a|=n.POSITION.LEFT:e>s&&(a|=n.POSITION.RIGHT),t<r?a|=n.POSITION.BOTTOM:t>o&&(a|=n.POSITION.TOP),a},_clipLineToRectangle:function(e,t,i,s,r,o,a,l){for(var d,u,c,h=n._computeOutCode(e,t,r,o,a,l),p=n._computeOutCode(i,s,r,o,a,l),_=!1;;){if(!(h|p)){_=!0;break}if(h&p)break;(c=h||p)&n.POSITION.TOP?(d=e+(i-e)*(l-t)/(s-t),u=l):c&n.POSITION.BOTTOM?(d=e+(i-e)*(a-t)/(s-t),u=a):c&n.POSITION.RIGHT?(u=t+(s-t)*(o-e)/(i-e),d=o):c&n.POSITION.LEFT&&(u=t+(s-t)*(r-e)/(i-e),d=r),c==h?(e=d,t=u,h=n._computeOutCode(e,t,r,o,a,l)):(i=d,s=u,p=n._computeOutCode(i,s,r,o,a,l))}return _?[{x:e,y:t},{x:i,y:s}]:[]},clipLineToRectangle:function(e,t,i,s){return n._clipLineToRectangle(e.x,e.y,t.x,t.y,Math.min(i.x,s.x),Math.max(i.x,s.x),Math.min(i.y,s.y),Math.max(i.y,s.y))},clipPathToRectangle:function(e,t,i){var s,r,o,a=[];for(r=0;r<e.length-1;r++)2===(s=n.clipLineToRectangle(e[r],e[r+1],t,i)).length&&(a.push(s[0]),o=s[1]);return o&&a.push(o),a}};const s=Object.seal(n)},88045:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>d});var n=i(43130),s=i(23585),r=i(54859),o=["debug","log","info","warn","error"],a=function(e,t){return{configurable:!1,enumerable:!!t,writable:!1,value:e}},l={};l._logMessage=function(e){var t;window.console&&window.console[e]&&s.default.isInDebug()&&function(e){var t="object"==typeof window.IG&&window.IG._logLevel?window.IG._logLevel.toLowerCase().replace(/^\s+|\s+$/g,""):"notSpecified",i=o.indexOf(t);return o.indexOf(e)>=i}(e)&&(t=Array.prototype.slice.call(arguments,1),window.console[e].apply(window.console,t))},l._flattenArguments=function(e){var t,i,s=[];for(i=0;i<e.length;i++)if(t=e[i],(0,r.isLiteral)(t)||(0,n.isArray)(t))try{s.push(JSON.stringify(t))}catch(o){s.push(t)}else null===t?s.push("(null)"):void 0===t?s.push("(undefined)"):t&&t.toString?s.push(t.toString()):s.push(t);return s.join(" ")};const d=Object.freeze(Object.defineProperties(l,{_logMessage:a(l._logMessage,!1),_flattenArguments:a(l._flattenArguments,!1),debug:a(l._logMessage.bind(l,"debug"),!0),log:a(l._logMessage.bind(l,"log"),!0),info:a(l._logMessage.bind(l,"info"),!0),warn:a(l._logMessage.bind(l,"warn"),!0),error:a(l._logMessage.bind(l,"error"),!0),fatal:a(l._logMessage.bind(l,"error"),!0)}))},81141:(e,t,i)=>{"use strict";i.d(t,{A:()=>r});var n=i(9525),s={};s.abstractMethod=(0,n.throwError)("abstract method called"),s.abstractMethod.isAbstract=!0;const r=Object.freeze(s)},72873:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>A});var n=i(43130),s=i(41943),r=i(40708),o=Object.freeze([1,0,0,1,0,0]),a=(0,s.shallowCopy)(o),l=(0,s.shallowCopy)(o),d=(0,s.shallowCopy)(o),u={};function c(e){return"scale("+e+",1)"}function h(e){return"scale(1,"+e+")"}function p(e,t){return"scale("+e+","+t+")"}function _(e){return"translate("+e+")"}function g(e){return"translate(0,"+e+")"}function f(e,t){return"translate("+e+","+t+")"}function m(e,t,i){i=i||{},t||(t=n.identity);var s=e.range(),o=e.domain();return i.scale=(0,r.rangeExtent)(s)/t((0,r.rangeExtent)(o)),i.translate=t(-o[0]),i}function v(e,t,i,n){var s=m(e,n);return t(s.scale)+i(s.translate)}u.svgRotateAttr=function(e){return"rotate("+e+")"},u.svgScaleAttrX=c,u.svgScaleAttrY=h,u.svgScaleAttrXY=p,u.svgTranslateAttrX=_,u.svgTranslateAttrY=g,u.svgTranslateAttrXY=f,u.localUrlRef=function(e){return"url("+(document.querySelector("head base")?window.location.href:"")+"#"+e+")"},u.linearAxisToSvgScaleAndTranslate=m,u.linearXAxisToSvgTransform=function(e,t){return v(e,c,_,t)},u.linearYAxisToSvgTransform=function(e,t){return v(e,h,g,t)},u.linearAxisPairToSvgTransform=function(e,t,i,n,s,r){var o=m(e,i),a=m(t,n);return p(s(o.scale),r(a.scale))+f(s(o.translate),r(a.translate))},u.xyTransform=function(e,t,i,n,s,r){return d[0]=i(e),d[3]=r(n),d[4]=i(e*t),d[5]=r(n*s),"matrix("+d.join(",")+")"},u.xTransform=function(e,t,i){return a[0]=i(e),a[4]=i(e*t),"matrix("+a.join(",")+")"},u.yTransform=function(e,t,i){return l[3]=i(e),l[5]=i(e*t),"matrix("+l.join(",")+")"},u.getTranslateX=function(e){var t=/translate\(([\d.-]+)[,\s*\d+.-]*\)/.exec(e);return t?Number(t[1]):0},u.getTranslateY=function(e){var t=/translate\([\d.-]+,\s*([\d.-]+)\)/.exec(e);return t?Number(t[1]):0},u.getScaleX=function(e){var t=/scale\(([\d.-]+)[,\s*\d+.-]*\)/.exec(e);return t?Number(t[1]):1},u.getScaleY=function(e){var t=/scale\([\d.-]+,\s*([\d.-]+)\)/.exec(e);return t?Number(t[1]):1},u.getRotation=function(e){var t=/rotate\(([\d.-]+)\)/.exec(e);return t?Number(t[1]):0},u.createLinearGradient=function(e,t,i,n,s){var r=e.append("svg:linearGradient").attrs({id:t,class:i,x1:"0%",y1:"0%",x2:"0%",y2:"100%"});r.append("svg:stop").attrs({offset:"0%","stop-color":n}),r.append("svg:stop").attrs({offset:"100%","stop-color":s})},u.getBBox=function(e){var t;try{t=e.getBBox()}catch(i){t={x:0,y:0,width:0,height:0}}return t},u.getPolygonAttrString=function(e){var t,i,n="";for(t=0;t<e.length;t++)n+=(i=e[t]).x+","+i.y+" ";return n};const A=Object.seal(u)},48893:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>f});var n=i(43130),s=Object.freeze([]);function r(e,t){this.func=e,this._queue=t;var i=this._getWrappedFunction.apply(this,Array.prototype.slice.call(arguments,2));return Object.defineProperty(i,"cancel",{configurable:!0,enumerable:!1,writable:!1,value:this._abortExecution.bind(this)}),i}var o=r.prototype;o.func=null,o.args=null,o.context=null,o._queue=null,o._getWrappedFunction=function(){var e=this;return function(){e._saveParams(this,arguments),e.func.apply(e.context,e.args)}},o._saveParams=function(e,t){if(this.context=e,arguments.length>2)this.args=(0,n.slice)(arguments,1);else if(t){if(!(0,n.isArrayLikeObject)(t))throw new Error("Unknown type of provided arguments");this.args=(0,n.toArray)(t)}else this.args=s},o._abortExecution=function(){this._queue.removeDeferred(this)},Object.seal(o);const a=Object.seal(r);var l=i(12990),d=Object.freeze([]);function u(e){try{e&&e.func.apply(e.context,e.args)}catch(t){return t}}function c(){this._deferredFunctions=[],this._deferredTimestamps=[],this._executeStep=this._executeStep.bind(this)}c.schedule=(0,n.bindKey)(window,"setTimeout"),c.deschedule=(0,n.bindKey)(window,"clearTimeout"),c.COLLATION_PRECISION=25,c.roundTimestamp=function(e){var t=e%c.COLLATION_PRECISION;return e+(t?c.COLLATION_PRECISION-t:0)};var h=c.prototype;h._deferredFunctions=null,h._deferredTimestamps=null,h._executionTimeoutID=null,h._executionTimestamp=null,h._pendingDeferred=null,h.hasDeferred=function(e){return(0,n.includes)(this._deferredFunctions,e)||(0,n.includes)(this._pendingDeferred||d,e)},h.addDeferred=function(e,t){t=c.roundTimestamp(t);var i=(0,n.sortedLastIndex)(this._deferredTimestamps,t);this._deferredFunctions.splice(i,0,e),this._deferredTimestamps.splice(i,0,t),this._scheduleExecution()},h.removeDeferred=function(e){var t,i=[];(0,n.remove)(this._deferredFunctions,(function(t,n){if(t===e)return i.push(n),!0})),(0,n.pullAt)(this._deferredTimestamps,i),this._pendingDeferred&&(t=this._pendingDeferred.indexOf(e))>-1&&(this._pendingDeferred[t]=null)},h._executeStep=function(e){var t,i=[];if(delete this._executionTimeoutID,delete this._executionTimestamp,this._pendingDeferred=(0,n.takeWhile)(this._deferredFunctions,function(t,i){return this._deferredTimestamps[i]<=e}.bind(this)),this._pendingDeferred.length&&(this._deferredFunctions.splice(0,this._pendingDeferred.length),this._deferredTimestamps.splice(0,this._pendingDeferred.length),i=(0,n.compact)(this._pendingDeferred.map(u))),delete this._pendingDeferred,this._deferredFunctions.length&&this._scheduleExecution(),1===i.length)throw i[0];if(i.length>1)throw t=new Error("Following errors have occurred:\n"+(0,n.map)(i,"message").join("\n")),i.forEach((function(e,i){t[i]=e})),t.length=i.length,t},h._scheduleExecution=function(){var e=Date.now(),t=this._deferredTimestamps[0],i=Math.max(t-e,0);(!this._executionTimestamp||t<this._executionTimestamp)&&(this._executionTimeoutID&&c.deschedule(this._executionTimeoutID),this._executionTimestamp=t,this._executionTimeoutID=c.schedule(this._executeStep,i,t))},Object.seal(h);const p=Object.seal(c);var _={};Object.defineProperty(_,"getQueue",{configurable:!0,enumerable:!1,writable:!0,value:(0,n.once)((function(){return new p}))}),_.delay=function(e,t,i,n){_.getQueue().addDeferred({func:e,context:t,args:i},Date.now()+n)},_.defer=function(e,t,i){_.delay(e,t,i,0)},_.debounce=function(e,t){return new g(e,_.getQueue(),t)};var g=l.A.extend((function(){}),a);g.prototype._getWrappedFunction=function(e){var t=this;return function(){t._saveParams(this,arguments),t._queue.removeDeferred(t),t._queue.addDeferred(t,Date.now()+e)}};const f=Object.seal(_)},83266:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>h});var n=i(41943),s=i(9525),r=i(10094),o=i(76040),a=i(65235),l=o.default.Enum,d={DAY:{period:l.DAY,multiple:1},MONTH:{period:l.MONTH,multiple:1},YEAR:{period:l.YEAR,multiple:1},FIVE_YEARS:{period:l.YEAR,multiple:5}},u=[{range:d.DAY,individual:{period:l.SECOND,multiple:1}},{range:d.DAY,individual:{period:l.SECOND,multiple:2}},{range:d.DAY,individual:{period:l.SECOND,multiple:5}},{range:d.DAY,individual:{period:l.SECOND,multiple:10}},{range:d.DAY,individual:{period:l.SECOND,multiple:30}},{range:d.DAY,individual:{period:l.MINUTE,multiple:1}},{range:d.DAY,individual:{period:l.MINUTE,multiple:2}},{range:d.DAY,individual:{period:l.MINUTE,multiple:3}},{range:d.DAY,individual:{period:l.MINUTE,multiple:5}},{range:d.DAY,individual:{period:l.MINUTE,multiple:10}},{range:d.DAY,individual:{period:l.MINUTE,multiple:15}},{range:d.DAY,individual:{period:l.MINUTE,multiple:30}},{range:d.DAY,individual:{period:l.HOUR,multiple:1}},{range:d.DAY,individual:{period:l.HOUR,multiple:2}},{range:d.DAY,individual:{period:l.HOUR,multiple:3}},{range:d.DAY,individual:{period:l.HOUR,multiple:4}},{range:d.DAY,individual:{period:l.HOUR,multiple:6}},{range:d.MONTH,individual:d.DAY},{range:d.MONTH,individual:{period:l.WEEK,multiple:1}},{range:d.YEAR,individual:d.MONTH},{range:d.YEAR,individual:{period:l.MONTH,multiple:3}},{range:d.FIVE_YEARS,individual:d.YEAR},{range:d.FIVE_YEARS,individual:{period:l.YEAR,multiple:2}},{range:d.FIVE_YEARS,individual:d.FIVE_YEARS}],c={INDIVIDUAL_TICK_TYPE:"individual",RANGE_TICK_TYPE:"range",OPEN_TICK_TYPE:"open",_getTickIteratorIndex:function(e,t,i){var n,s;for(s=0;s<e.length;s++)if((n=o.default.Periods[e[s].individual.period]*e[s].individual.multiple)>=t&&(n%i==0||n>=o.default.Periods.DAY))return s;return e.length-1},getTickIterator:function(e,t,i,n,s){var r=Math.max(n,t*i),o=c._getTickIteratorIndex(u,r,n),l=u[o][e];return(0,a.getIterator)(l.period,l.multiple,s)},_addUniqueTick:function(e,t,i,s,o,a,l){var d=o.asAccTime(l),u=(0,n.lastOf)(e),h={date:l,type:i,accTime:d,unit:s},p=(0,r.isNumber)(h.accTime);if(u&&d===u.accTime)i===c.OPEN_TICK_TYPE&&(e[e.length-1]=h);else{if(u&&d-u.accTime<t)return;p&&e.push(h)}},extendDateRangeForOffscreenTicks:function(e,t){var i,n;return i=t.previous(e[0]),n=new Date(i.getTime()-1),i=t.next(e[1]),[n,new Date(i.getTime()+1)]},getInstanceTicks:function(e,t,i,n,r,o){var a=[],l=i.closestIntervalForDate(e[0]),d=c._addUniqueTick.bind(null,a,r,c.INDIVIDUAL_TICK_TYPE,t.unit,i),u=c._addUniqueTick.bind(null,a,r,c.OPEN_TICK_TYPE,t.unit,i);return t.iterateBetween(e,(function(e){for(;e>=l.end;){if(!(l=l.next))return!1;n&&u(l,l.start)}if(e<l.start)return(n||c._isNextIterationOutsideInterval(l,t)||c._isTickDistanceBigEnough(l,t))&&d(l,l.start),l.start;e<l.end&&d(l,e)})),a.map((0,s.setAttr)("tickType",o))},_isNextIterationOutsideInterval:function(e,t){return t.next(e.start)>e.end},_isTickDistanceBigEnough:function(e,t){return t.next(e.start)-e.start>=t.period}};const h=Object.seal(c)},35533:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>E});var n=i(12990),s=i(43130),r=i(10094),o=i(81141),a=i(76040);function l(e,t){this.unit=e,this.multiple=t||1,this.period=a.default.Periods[e]*t,this._transposedDate=new Date}l.prototype.unit=null,l.prototype.multiple=null,l.prototype.period=null,l.prototype.next=o.A.abstractMethod,l.prototype.previous=o.A.abstractMethod,l.prototype._isStop=o.A.abstractMethod,l.prototype.isStop=function(e,t){var i=new Date;return i.setTime(e.getTime()+t),this._isStop(i)},l.prototype._transposedDate=null,l.prototype.iterateBetween=function(e,t,i){var n,s=e[0],r=e[1];for(n=this.next(s,t);n<r;n=this.next(n,t)){var o=i(n);if(!1===o)return;n=o||n}},l.prototype.expandDateRangeToIteratorStops=function(e,t){return[this.previous(e[0],t),this.next(e[1],t)]},l.prototype.toString=function(){return"["+[this.constructor.name,":",this.multiple,"x",this.unit].join(" ")+"]"},l.prototype._nextTimeUnit=function(e,t){return(0,r.floorToClosestMultiple)(e+t,t)},l.prototype._isMidnight=function(e){return 0===e.getUTCHours()&&0===e.getUTCMinutes()&&0===e.getUTCSeconds()&&0===e.getUTCMilliseconds()},Object.seal(l),Object.seal(l.prototype);var d=n.A.extend(Object.assign((function(){}),{__constructorTransform:function(e){return[a.default.Enum.MILLISECOND,e]}}),l);d.prototype.next=function(e){return new Date(e.getTime()+this.period)},d.prototype.previous=function(e){return new Date(e.getTime()-this.period)},d.prototype._isStop=s.stubTrue,Object.seal(d),Object.seal(d.prototype);var u=n.A.extend(Object.assign((function(){}),{__constructorTransform:function(e){return[a.default.Enum.SECOND,e]}}),l);u.prototype.next=function(e,t){return this._transposedDate.setTime(e.getTime()+t),new Date(Date.UTC(this._transposedDate.getUTCFullYear(),this._transposedDate.getUTCMonth(),this._transposedDate.getUTCDate(),this._transposedDate.getUTCHours(),this._transposedDate.getUTCMinutes(),this._nextTimeUnit(this._transposedDate.getUTCSeconds(),this.multiple))-t)},u.prototype.previous=function(e,t){this._transposedDate.setTime(e.getTime()+t);var i=this._transposedDate.getUTCSeconds();return this._isStop(this._transposedDate)||(i+=1),new Date(Date.UTC(this._transposedDate.getUTCFullYear(),this._transposedDate.getUTCMonth(),this._transposedDate.getUTCDate(),this._transposedDate.getUTCHours(),this._transposedDate.getUTCMinutes(),this._nextTimeUnit(i,-this.multiple))-t)},u.prototype._isStop=function(e){return e.getUTCSeconds()%this.multiple==0&&0===e.getUTCMilliseconds()},Object.seal(u),Object.seal(u.prototype);var c=n.A.extend(Object.assign((function(){}),{__constructorTransform:function(e){return[a.default.Enum.MINUTE,e]}}),l);c.prototype.next=function(e,t){return this._transposedDate.setTime(e.getTime()+t),new Date(Date.UTC(this._transposedDate.getUTCFullYear(),this._transposedDate.getUTCMonth(),this._transposedDate.getUTCDate(),this._transposedDate.getUTCHours(),this._nextTimeUnit(this._transposedDate.getUTCMinutes(),this.multiple))-t)},c.prototype.previous=function(e,t){this._transposedDate.setTime(e.getTime()+t);var i=this._transposedDate.getUTCMinutes();return this._isStop(this._transposedDate)||(i+=1),new Date(Date.UTC(this._transposedDate.getUTCFullYear(),this._transposedDate.getUTCMonth(),this._transposedDate.getUTCDate(),this._transposedDate.getUTCHours(),this._nextTimeUnit(i,-this.multiple))-t)},c.prototype._isStop=function(e){return e.getUTCMinutes()%this.multiple==0&&0===e.getUTCMilliseconds()&&0===e.getUTCSeconds()},Object.seal(c),Object.seal(c.prototype);var h=n.A.extend(Object.assign((function(){}),{__constructorTransform:function(e){return[a.default.Enum.HOUR,e]}}),l);h.prototype.next=function(e,t){return this._transposedDate.setTime(e.getTime()+t),new Date(Date.UTC(this._transposedDate.getUTCFullYear(),this._transposedDate.getUTCMonth(),this._transposedDate.getUTCDate(),this._nextTimeUnit(this._transposedDate.getUTCHours(),this.multiple))-t)},h.prototype.previous=function(e,t){this._transposedDate.setTime(e.getTime()+t);var i=this._transposedDate.getUTCHours();return this._isStop(this._transposedDate)||(i+=1),new Date(Date.UTC(this._transposedDate.getUTCFullYear(),this._transposedDate.getUTCMonth(),this._transposedDate.getUTCDate(),this._nextTimeUnit(i,-this.multiple))-t)},h.prototype._isStop=function(e){return e.getUTCHours()%this.multiple==0&&0===e.getUTCMinutes()&&0===e.getUTCSeconds()&&0===e.getUTCMilliseconds()},Object.seal(h),Object.seal(h.prototype);var p=n.A.extend(Object.assign((function(e){if(1!==e)throw new Error("only multiple of 1 is supported but requested ",e)}),{__constructorTransform:function(e){return[a.default.Enum.DAY,e]}}),l);p.prototype.next=function(e,t){return this._transposedDate.setTime(e.getTime()+t),new Date(Date.UTC(this._transposedDate.getUTCFullYear(),this._transposedDate.getUTCMonth(),this._transposedDate.getUTCDate()+1)-t)},p.prototype.previous=function(e,t){this._transposedDate.setTime(e.getTime()+t);var i=this._transposedDate.getUTCDate();return this._isStop(this._transposedDate)&&(i-=1),new Date(Date.UTC(this._transposedDate.getUTCFullYear(),this._transposedDate.getUTCMonth(),i)-t)},p.prototype._isStop=l.prototype._isMidnight,Object.seal(p),Object.seal(p.prototype);var _=n.A.extend(Object.assign((function(e){if(1!==e)throw new Error("only multiple of 1 is supported")}),{__constructorTransform:function(e){return[a.default.Enum.WEEK,e]}}),l);_.prototype._alignDateToLastMonday=function(e){var t=e.getUTCDay();return 0===t?e.setUTCDate(e.getUTCDate()-6):e.setUTCDate(e.getUTCDate()+1-t),e},_.prototype.next=function(e,t){return this._transposedDate.setTime(e.getTime()+t),this._alignDateToLastMonday(this._transposedDate),new Date(Date.UTC(this._transposedDate.getUTCFullYear(),this._transposedDate.getUTCMonth(),this._transposedDate.getUTCDate()+7)-t)},_.prototype.previous=function(e,t){return this._transposedDate.setTime(e.getTime()+t),this._isStop(this._transposedDate)?new Date(Date.UTC(this._transposedDate.getUTCFullYear(),this._transposedDate.getUTCMonth(),this._transposedDate.getUTCDate()-7)-t):(this._alignDateToLastMonday(this._transposedDate),new Date(Date.UTC(this._transposedDate.getUTCFullYear(),this._transposedDate.getUTCMonth(),this._transposedDate.getUTCDate())-t))},_.prototype._isStop=function(e){return 1===e.getUTCDay()&&this._isMidnight(e)},Object.seal(_),Object.seal(_.prototype);var g=n.A.extend(Object.assign((function(){}),{__constructorTransform:function(e){return[a.default.Enum.MONTH,e]}}),l);g.prototype.next=function(e,t){return this._transposedDate.setTime(e.getTime()+t),new Date(Date.UTC(this._transposedDate.getUTCFullYear(),this._nextTimeUnit(this._transposedDate.getUTCMonth(),this.multiple),1)-t)},g.prototype.previous=function(e,t){this._transposedDate.setTime(e.getTime()+t);var i=this._transposedDate.getUTCMonth();return this._isStop(this._transposedDate)||(i+=1),new Date(Date.UTC(this._transposedDate.getUTCFullYear(),this._nextTimeUnit(i,-this.multiple),1)-t)},g.prototype._isStop=function(e){return e.getUTCMonth()%this.multiple==0&&1===e.getUTCDate()&&this._isMidnight(e)},Object.seal(g),Object.seal(g.prototype);var f=n.A.extend(Object.assign((function(){}),{__constructorTransform:function(e){return[a.default.Enum.YEAR,e]}}),l);function m(){this.multiple=0,this.unit=null}f.prototype.next=function(e,t){return this._transposedDate.setTime(e.getTime()+t),new Date(Date.UTC(this._nextTimeUnit(this._transposedDate.getUTCFullYear(),this.multiple),0,1)-t)},f.prototype.previous=function(e,t){this._transposedDate.setTime(e.getTime()+t);var i=this._transposedDate.getUTCFullYear();return this._isStop(this._transposedDate)||(i+=1),new Date(Date.UTC(this._nextTimeUnit(i,-this.multiple),0,1)-t)},f.prototype._isStop=function(e){return e.getUTCFullYear()%this.multiple==0&&0===e.getUTCMonth()&&1===e.getUTCDate()&&this._isMidnight(e)},Object.seal(f),Object.seal(f.prototype),m.prototype.expandDateRangeToIteratorStops=s.identity,m.prototype.iterateBetween=s.noop,m.prototype.next=s.identity,m.prototype.previous=s.identity,Object.seal(m),Object.seal(m.prototype);var v={},A={AbstractTimezoneOffsetIterator:l};v[a.default.Enum.MILLISECOND]=d,v[a.default.Enum.SECOND]=u,v[a.default.Enum.MINUTE]=c,v[a.default.Enum.HOUR]=h,v[a.default.Enum.DAY]=p,v[a.default.Enum.WEEK]=_,v[a.default.Enum.MONTH]=g,v[a.default.Enum.YEAR]=f,A.getIterator=function(e,t){return new(0,v[e])(t)},A.nullIterator=function(){return new m},Object.seal(A);const E=A},57308:(e,t,i)=>{"use strict";function n(){"ontouchstart"in document.documentElement?(this.touchEnabled=!0,this._boundHandlersByElementId={}):this._handleTouchDisabled()}i.r(t),i.d(t,{default:()=>r});var s=n.prototype;s.touchEnabled=!1,s._boundHandlersByElementId=null,s._handleTouchDisabled=function(){for(var e in s)s.hasOwnProperty(e)&&"_"!==e[0]&&"function"==typeof s[e]&&(this[e]=function(){})},s.disablePageScrolling=function(){function e(e){e.stopPropagation()}document.addEventListener("touchstart",(function(e){e.allowDefault||e.preventDefault()})),document.addEventListener("mousedown",e,!0),document.addEventListener("mouseup",e,!0),document.addEventListener("mousemove",e,!0)},s.enableScrolling=function(e){var t;e.id||(e.id=Date.now()),t={touchstart:function(t){t.allowDefault=!0,e.scrollTop<=0?e.scrollTop=1:e.scrollTop+e.offsetHeight>=e.scrollHeight&&(e.scrollTop-=1)},touchmove:function(t){0===e.scrollTop&&e.offsetHeight-1<=e.scrollHeight&&t.preventDefault()}},Object.keys(t).forEach((function(i){e.addEventListener(i,t[i],!1)})),this._boundHandlersByElementId[e.id]=t},s.enableDefault=function(e){var t;function i(e){e.allowDefault=!0}e.id||(e.id=Date.now()),t={touchstart:i,touchend:i},Object.keys(t).forEach((function(i){e.addEventListener(i,t[i],!1)})),this._boundHandlersByElementId[e.id]=t},s.cancelScrolling=function(e){var t=this._boundHandlersByElementId[e.id];t&&(Object.keys(t).forEach((function(i){e.removeEventListener(i,t[i],!1)})),delete this._boundHandlersByElementId[e.id])},Object.seal(s);const r=new n},3019:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>_});var n=i(20481),s=i(4739),r=i(86605),o=i(9525),a=i(21788),l=i(40708),d=i(54859),u=i(289),c={},h=0,p={CHANGED:"changed",wrap:function(e,t,i,n){var s=function(t){return e(t)};return(0,d.applyTo)(s,c),s._delegate=e,s.duration=t,s.ease=i,s._animationNamespace=n+"-"+h,u.default.prepareInstance(s),(0,d.applyTo)(s,e,!0),s.isAnimated=!0,h++,s}};c.nice=!1,c.domainSet=!1,c.timeLastExtentChange=-1/0,c.hasExtentChangedSince=function(e){return void 0===e||this.timeLastExtentChange>=e},c.range=function(e){var t=this._delegate.range();if(0===arguments.length)return t;if(isNaN(e[0]))throw new Error("nan range");return this._delegate.range(e),(0,l.rangeExtent)(t)!==(0,l.rangeExtent)(e)&&(this.timeLastExtentChange=s.default.timestamp(),this.fire(p.CHANGED,r.default.RESIZED)),this},c.withAnimationPoller=(0,o.setter)("_animationPoller"),c.withDomainNicing=(0,o.setter)("nice"),c.domain=function(e,t,i){if(0===arguments.length)return this._delegate.domain();if(isNaN(e[0]))throw new Error("nan domain");return i||(e=this.domainNice(e)),this.domainSet?(this._alreadyGoingTo(e)||(this.oldDomain=this._delegate.domain(),this.targetDomain=e,this.isPan=(0,l.rangeExtent)(this.oldDomain)===(0,l.rangeExtent)(this.targetDomain),this._animationPoller.killTasks(this._animationNamespace),t?this._step(1,0,s.default.timestamp()):this._animationPoller.newFixedTimeTask(this._animationNamespace,this._step.bind(this),this.duration)),this):(this._delegate.domain(e),this.domainSet=!0,this.timeLastExtentChange=s.default.timestamp(),this.fire(p.CHANGED,r.default.MOVED|r.default.ZOOMED|r.default.INITIALISED),this)},c.getTargetDomain=function(){return this._animationPoller.hasTasks(this._animationNamespace)?this.targetDomain:this._delegate.domain()},c._alreadyGoingTo=function(e){return(0,l.pairSame)(e,this.getTargetDomain())},c.domainNice=function(e){return this.nice?(0,n.A)().domain(e).nice().domain():e},c._step=function(e,t,i){var n=this.ease(e),s=[(0,a.linearInterpolation)(this.oldDomain[0],this.targetDomain[0],n),(0,a.linearInterpolation)(this.oldDomain[1],this.targetDomain[1],n)],o=r.default.MOVED;if(isNaN(s[0])||isNaN(s[1]))throw new Error("interpolation could not find a value");this._delegate.domain(s),this.isPan||(this.timeLastExtentChange=i,o|=r.default.ZOOMED),this.fire(p.CHANGED,o)},Object.freeze(c);const _=p},2928:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>n});const n={ANIM_DURATION:300,ANIM_EASE:function(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}}},56451:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>d});var n=i(12990),s=i(10094),r=i(92739),o=i(31362),a=n.A.extend((function(){}),o.default);a.create=function(e){return new a(e)};var l=a.prototype;l.sanitizeValue=function(e){return""===e&&this.isValid()?e:parseFloat(a.superclass.sanitizeValue.call(this,e))},l._stepMismatchStrategy=function(e){return(0,s.floorToClosestMultiple)(parseFloat(e),this._options.precision).toString()},l.initDom=function(e){a.superclass.initDom.call(this,e),this._dInput.property("type","number"),this._dInput.attrs({min:this._options.min,max:this._options.max,step:this._options.precision||this._options.step}),this._dInput.classed("numberInput",!0),this.addFilter(r.A.create(this._options.max)),this.setSanitizationStrategies("stepMismatch",this._stepMismatchStrategy)},Object.seal(l);const d=Object.seal(a)},37897:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>l});var n=i(16687),s=i(12990),r=i(9525),o=s.A.extend((function(){}),n.default);o.create=function(e,t,i){return new o(e,t,i)};var a=o.prototype;a._text=null,a._type=null,a._cancelButtonLabel=null,a._doneButtonLabel=null,a._cancelButtonHandler=null,a._doneButtonHandler=null,a._dMessage=null,a.setText=(0,r.setter)("_text"),a.setType=(0,r.setter)("_type"),a.withDoneButton=function(e,t){return this._doneButtonLabel=e,this._doneButtonHandler=t,this},a.withCancelButton=function(e,t){return this._cancelButtonLabel=e,this._cancelButtonHandler=t,this},a._createContent=function(){var e=this.dContainer;this._dMessage=e.append("div").classed("confirmationDialogContent",!0).html(this._text),this._type&&this._dMessage.classed(this._type,!0),this._dButtonContainer=e.append("div").classed("actions",!0),(this._cancelButtonHandler||this._cancelButtonLabel)&&this._createCancelButton(this._cancelButtonHandler,this._cancelButtonLabel),(this._doneButtonHandler||this._doneButtonLabel)&&this._createDoneButton(this._doneButtonHandler,this._doneButtonLabel)},a.show=function(){return this._dMessage.classed("hidden",!1),o.superclass.show.call(this)},a.hide=function(){return this._dMessage.classed("hidden",!0),o.superclass.hide.call(this)},a.destroy=function(){return this._dMessage&&(this._dMessage.remove(),delete this._dMessage),o.superclass.destroy.call(this)},Object.seal(a);const l=Object.seal(o)},17668:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>a});var n=i(9525),s=i(10094);function r(){}var o=r.prototype;o.viewType="NUMERIC",o.min=null,o.max=null,o.precision=null,o.step=null,o.increment=null,o.defaultValue=null,o.periodic=!1,o.withMin=(0,n.setter)("min"),o.withMax=(0,n.setter)("max"),o.withPrecision=(0,n.setter)("precision"),o.withStep=(0,n.setter)("step"),o.withIncrement=(0,n.setter)("increment"),o.withDefaultValue=(0,n.setter)("defaultValue"),o.withPeriod=(0,n.setter)("periodic"),r.createFrom=function(e){return(new r).withMin(e.range.min).withMax(e.range.max).withStep(e.range.step||1).withIncrement(e.range.increment).withPrecision(e.range.precision).withDefaultValue(e.defaultValue)},r.create=function(e){return new r(e)},r._valueWithinPeriod=function(e,t,i){var n=t-e;return e+(0,s.mod)(i-e,n)},o.constrain=function(e){var t,i,n=this.precision||this.step,o=(0,s.floorToClosestMultiple)(e,n);return t=(0,s.isNumber)(this.max)&&o>this.max,i=(0,s.isNumber)(this.min)&&o<this.min,(t||i)&&this.periodic?o=r._valueWithinPeriod(this.min,this.max,o):t?o=this.max:i&&(o=this.min),o},o.getTextForValue=function(e){return String(e)},Object.seal(o);const a=Object.seal(r)},80535:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>m});var n=i(12990),s=i(54107),r=i(50951),o=i(61568),a=i(9525),l=i(10094),d=i(289),u=i(57308),c=i(10520),h=/^[0-9.]$/,p=/-?[0-9]+/,_=/-?[0-9]+\.?[0-9]*/,g=n.A.extend((function(e,t,i,n,s,r){this._allowEmpty=r,this._i18n=e,this._constraints=n,this._settingCategory=t,this._setting=i,this._lastSavedValue=parseFloat(s),this.lastValidValue=isNaN(s)?this._constraints.defaultValue:s.toString(),this.deferredCommitSetting=a.schedule.debounce(this.commitSetting,3e3),this._handleNewInput=a.schedule.debounce(this._handleNewInput.bind(this),300),this.commitSetting=this.commitSetting.bind(this),this._handleKeyInput=this._handleKeyInput.bind(this)}),d.default);g.create=function(e,t,i,n,s,r){return new g(e,t,i,n,s,r)};var f=g.prototype;f.dInputField=null,f.deferredCommitSetting=null,f._i18n=null,f._suffix=null,f._allowEmpty=!1,f.lastValidValue=null,f._dContainer=null,f._dDecreaseButton=null,f._dIncreaseButton=null,f._captureZoneDecrease=null,f._captureZoneIncrease=null,f._captureZoneManager=null,f._constraints=null,f._settingCategory=null,f._lastSavedValue=null,f._setting=null,f.withCaptureZoneManager=(0,a.setter)("_captureZoneManager"),f._showPlusAndMinusButtons=!0,f.withPlusAndMinusButtons=(0,a.setter)("_showPlusAndMinusButtons"),f.setSuffix=(0,a.setter)("_suffix"),f.destroy=function(){this.deferredCommitSetting.cancel(),this._handleNewInput.cancel(),this._stopListening(),this._dContainer.remove(),g.superclass.destroy.call(this)},f.initDom=function(e){var t;return t=this._settingCategory&&this._setting?this._settingCategory+"-"+this._setting:this._setting?this._setting:this._settingCategory,this._dContainer=e.append("div").classed("setting",!0),this._settingCategory&&this._dContainer.classed(this._settingCategory,!0),this._setting&&this._dContainer.classed(this._setting,!0),this._i18n&&this._dContainer.append("span").text(this._i18n.get(t)).classed("settingName",!0),this._initInputField(),this._startListening(),this},f.enable=function(){return this.dInputField&&(this.dInputField.node().disabled=!1),this._captureZoneDecrease&&this._captureZoneDecrease.show(),this._captureZoneIncrease&&this._captureZoneIncrease.show(),this},f.disable=function(){return this.dInputField&&(this.dInputField.node().disabled=!0),this._captureZoneDecrease&&this._captureZoneDecrease.hide(),this._captureZoneIncrease&&this._captureZoneIncrease.hide(),this},f.show=function(){return this._dContainer.classed("hidden",!1),this.enable()},f.hide=function(){return this._dContainer.classed("hidden",!0),this.disable()},f.updateCaptureZones=function(){return this._captureZoneDecrease&&this._captureZoneDecrease.setDimensionsBasedOnElement(this._dDecreaseButton),this._captureZoneIncrease&&this._captureZoneIncrease.setDimensionsBasedOnElement(this._dIncreaseButton),this},f.validateSetting=function(e){var t,i=this._sanitizeValue(e);return""===e||!(!i||(t=parseFloat(i),(0,l.floorToClosestMultiple)(t,this._constraints.step)!==t))},f.commitSetting=function(){this.deferredCommitSetting.cancel(),this._handleNewInput.cancel();var e,t=parseFloat(this.lastValidValue);this.lastValidValue||this._allowEmpty?(e=this._constraints.constrain(t),this.updateInputField(e),e!==this._lastSavedValue&&(!isNaN(e)&&isNaN(this._lastSavedValue)&&this.fire(s.default.VALUE_ADDED),this._lastSavedValue=e,this.fire(s.default.VALUE_CHANGED,this._setting,e))):this.updateInputField(this._lastSavedValue)},f.updateInputField=function(e){e=this._sanitizeValue(e.toString()),this.lastValidValue=e,this.dInputField.node().value!=e&&(this.dInputField.node().value=e)},f.reset=function(){this.updateInputField(this._constraints.defaultValue),this.commitSetting()},f.requestFocus=function(){this.dInputField.node().focus()},f._createTapHandler=function(e,t){return this._captureZoneManager.createTapZone(e,c.default.DIALOG_CONTROLS,t,r.default.BLOCK_ALL)},f._startListening=function(){var e=this.dInputField.node();this._showPlusAndMinusButtons&&(this._captureZoneDecrease=this._createTapHandler(this._handleSettingDecreased.bind(this),10),this._captureZoneIncrease=this._createTapHandler(this._handleSettingIncreased.bind(this),10)),e.addEventListener("blur",this.commitSetting),e.addEventListener("keyup",this._handleKeyInput),e.addEventListener("input",this._handleNewInput),u.default.enableDefault(e),this.updateCaptureZones()},f._stopListening=function(){var e=this.dInputField.node();this._captureZoneDecrease&&(this._captureZoneDecrease.destroy(),this._captureZoneDecrease=null),this._captureZoneIncrease&&(this._captureZoneIncrease.destroy(),this._captureZoneIncrease=null),e.removeEventListener("blur",this.commitSetting),e.removeEventListener("keyup",this._handleKeyInput),e.removeEventListener("input",this._handleNewInput),u.default.cancelScrolling(e)},f._initInputField=function(){var e=this._dContainer.append("span").classed("numberFieldContainer",!0);this._showPlusAndMinusButtons&&(this._dDecreaseButton=e.append("span").classed("minusButton",!0).classed("decrease",!0)),this.dInputField=e.append("input").properties({type:"number",value:this.lastValidValue}).attrs({min:this._constraints.min,max:this._constraints.max,step:this._constraints.increment||this._constraints.precision||this._constraints.step}).classed("value",!0).classed("numberInput",!0),this._suffix&&e.append("span").classed("suffix",!0).text("%"),this._showPlusAndMinusButtons&&(this._dIncreaseButton=e.append("span").classed("plusButton",!0).classed("increase",!0))},f._sanitizeValue=function(e){var t=this._constraints.step%1==0?p:_,i=e.match(t);return i?i[0]:null},f._changeSettings=function(e){e=e||"",this.validateSetting(e)?this.updateInputField(e):this.dInputField.node().value=this.lastValidValue},f._handleNewInput=function(){this._changeSettings(this.dInputField.node().value),this.commitSetting()},f._handleKeyInput=function(e){this._handleNewInput.cancel();var t=this.dInputField.node().value;if(e.key===o.default.ENTER)e.target.blur();else{if(""==e.target.value&&"-"==e.key)return;e.key===o.default.BACKSPACE||h.test(e.key)?("0"==t[0]&&t.length>1&&"."!=t[1]&&(t=t.substr(1)),this._changeSettings(t),this.deferredCommitSetting()):(this._changeSettings(t),this.deferredCommitSetting())}},f._handleSettingDecreased=function(){var e=this._constraints.increment||this._constraints.step,t=parseFloat(this.lastValidValue)-e;t=isNaN(t)?this._constraints.max:t,t=(0,l.ceilToClosestMultiple)(t,e),this._changeSettings(t.toString()),this.commitSetting()},f._handleSettingIncreased=function(){var e=this._constraints.increment||this._constraints.step,t=parseFloat(this.lastValidValue)+e;t=isNaN(t)?this._constraints.min:t,t=(0,l.floorToClosestMultiple)(t,e),this._changeSettings(t.toString()),this.commitSetting()},Object.seal(f);const m=Object.seal(g)},55466:(e,t,i)=>{"use strict";i.d(t,{A:()=>f});var n=i(41943),s=i(12990),r=i(54107),o=i(9525),a=i(289),l=i(50951),d=i(98760),u=i(10520),c=s.A.extend((function(e,t,i,n){this._label=i,this.value=n,this._dContainer=e,this._initDom(t)}),a.default);c.create=function(e,t,i,n){return new c(e,t,i,n)},c.HIT_PADDING=0,c.ITEM_TOGGLED="ITEM_TOGGLED";var h=c.prototype;h._label=null,h.value=null,h._dButton=null,h._captureZone=null,h._initDom=function(e){this._dButton=this._dContainer.append("span").text(this._label),this._dButton.attr("data-toggle-bar-item-value",this.value),this._captureZone=e.create(l.default.BLOCK_ALL,u.default.DIALOG_CONTROLS).withPadding(c.HIT_PADDING),this._captureZone.addGesture(d.default,{fastTap:!0}).withHandler(this._handleTap,this),this.updateCaptureZone()},h._handleTap=function(){this.fire(c.ITEM_TOGGLED,this)},h.destroy=function(){this._captureZone.destroy(),this._dButton.remove(),c.superclass.destroy.call(this)},h.enable=(0,o.delegate)("_captureZone","show"),h.disable=(0,o.delegate)("_captureZone","hide"),h.show=function(){return this._dButton.classed("hidden",!1),this.enable()},h.hide=function(){return this._dButton.classed("hidden",!0),this.disable()},h.updateCaptureZone=function(){return this._captureZone.setDimensionsBasedOnElement(this._dButton),this},h.setSelectionState=function(e){this._dButton.classed("selected",e)},Object.seal(c);const p=Object.seal(c);var _=s.A.extend((function(e,t,i,n,s){this._i18n=e,this._setting=i,this._constraints=n,this._currentValue=s,this._commitValue=s}),a.default);_.create=function(e,t,i,n,s){return new _(e,t,i,n,s)},_._itemValueComparer=function(e){return function(t){return t.value===e}};var g=_.prototype;g._captureZoneManager=null,g._toggleBarItems=null,g._dToggleBar=null,g._constraints=null,g._currentValue=null,g._commitValue=null,g._i18n=null,g._setting=null,g.withCaptureZoneManager=(0,o.setter)("_captureZoneManager"),g.initDom=function(e,t){return t=t?t.split(/\s+/):["toggleBar"],this._dToggleBar=e.append("div"),t.forEach((function(e){this._dToggleBar.classed(e,!0)}),this),this._toggleBarItems=this._constraints.options.map(this._createToggleBarItem.bind(this)),this._updateSelection(),this},g.commitSetting=function(){this._commitValue!==this._currentValue&&(this._currentValue=this._commitValue,this._updateSelection(),this.fire(r.default.VALUE_CHANGED,this._setting,this._currentValue))},g.enable=function(){return(0,o.invokeApply)(this._toggleBarItems,"enable"),this},g.disable=function(){return(0,o.invokeApply)(this._toggleBarItems,"disable"),this},g.show=function(){return this._dToggleBar.classed("hidden",!1),this.enable()},g.hide=function(){return this._dToggleBar.classed("hidden",!0),this.disable()},g.updateCaptureZones=function(){return(0,o.invokeCall)(this._toggleBarItems,"updateCaptureZone"),this},g.reset=function(){this._commitValue=this._constraints.defaultValue,this.commitSetting()},g.destroy=function(){(0,o.invokeCall)(this._toggleBarItems,"destroy"),this._toggleBarItems=null},g._createToggleBarItem=function(e){var t=p.create(this._dToggleBar,this._captureZoneManager,this._i18n.get(e.localisationKey),e.value);return t.on(p.ITEM_TOGGLED,this._handleItemToggled,this),t},g._updateSelection=function(){var e;(0,o.invokeApply)(this._toggleBarItems,"setSelectionState",[!1]),(e=(0,n.find)(this._toggleBarItems,_._itemValueComparer(this._currentValue)))&&e.setSelectionState(!0)},g._handleItemToggled=function(e){this._commitValue=e.value,this.commitSetting()},g.getCurrentValue=function(){return this._currentValue},Object.seal(g);const f=Object.seal(_)},74059:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>n});const n=new(i(95151).default)({de:{cancel:"Abbrechen",done:"Fertig",reset:"Auf Grundeinstellungen zurücksetzen",undo:"Zurücksetzen",watermark:"Marktnamen anzeigen"},en:{cancel:"Cancel",done:"Done",reset:"Reset to defaults",undo:"Reset",watermark:"Show watermark"},es:{cancel:"Cancelar",done:"Volver",reset:"Volver a configuración por defecto",undo:"Reajustar",watermark:"Mostrar marca de agua"},fr:{cancel:"Annuler",done:"Réduire",reset:"Réinitialiser les valeurs par défaut",undo:"Réinitialiser",watermark:"Afficher le filigrane"},it:{cancel:"Annulla",done:"Chiudi",reset:"Ripristinare le impostazioni predefinite",undo:"Reset",watermark:"Mostra nome del mercato sullo sfondo"},ja:{cancel:"キャンセル",done:"縮小",reset:"デフォルト設定／リセット",undo:"リセット",watermark:"ウォーターマークの表示"},nl:{cancel:"Annuleer",done:"Volledig",reset:"Herstellen naar standaardinstellingen",undo:"Reset",watermark:"Watermerk tonen"},nb:{cancel:"Kanseller",done:"Ferdig",reset:"Tilbakestill til standard",undo:"Tilbakestill",watermark:"Vis vannmerke"},pt:{cancel:"Cancelar",done:"Voltar",reset:"Reset",undo:"Redefinir",watermark:"Mostrar marca de água"},sv:{cancel:"Avbryt",done:"Minimera",reset:"Återställ till standard",undo:"Återställ",watermark:"Visa vattenmärke"},zh:{cancel:"取消",done:"完成",reset:"还原为默认设置",undo:"重设",watermark:"显示水印"},zh_TW:{cancel:"取消",done:"完成",reset:"還原為默認設置",undo:"重設",watermark:"顯示水印"}})},17945:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>o});var n=i(1074);function s(){}s.create=function(){return new s};var r=s.prototype;r._dLoadingOverlay=null,r._preloaderInterval=null,r.initDom=function(e){var t=e.select(".loadingOverlay");t.empty()?(this._dLoadingOverlay=e.append("div"),this._dLoadingOverlay.classed("loadingOverlay",!0),this._dLoadingOverlay.append("div").classed("loadingIndicator",!0)):this._dLoadingOverlay=t,this.show()},r.show=function(){var e,t,i,s=0;e=this._dLoadingOverlay.select(".loadingIndicator"),i=function(){t="rotate("+(s=(s+30)%360)+"deg)",e.style("-webkit-transform",t).style("-moz-transform",t).style("-ms-transform",t).style("transform",t)},n.default.cssanimations||(this._preloaderInterval=setInterval(i,1e3/12)),this._dLoadingOverlay.classed("hidden",!1)},r.hide=function(){this._preloaderInterval&&!n.default.cssanimations&&(clearInterval(this._preloaderInterval),this._preloaderInterval=null),this._dLoadingOverlay.classed("hidden",!0)},r.destroy=function(){this._preloaderInterval&&(clearInterval(this._preloaderInterval),this._preloaderInterval=null),this._dLoadingOverlay.remove(),this._dLoadingOverlay=null},Object.seal(r);const o=Object.seal(s)},87529:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>a});var n=i(9525),s=i(62983);function r(){}r.create=function(){return new r};var o=r.prototype;o._dSpinner=null,o.destroy=(0,n.delegate)("_dSpinner","remove"),o.initDom=function(e){var t=document.createElement("div");return t.innerHTML=s,this._dSpinner=e.appendElement(t.querySelector(".loadingSpinner")),this},o.classed=(0,n.delegate)("_dSpinner","classed"),o.attrs=(0,n.delegate)("_dSpinner","attrs"),o.show=function(){this._dSpinner.style("display",null)},o.hide=function(){this._dSpinner.style("display","none")},Object.seal(o);const a=Object.seal(r)},14474:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>l});var n=i(43130),s=i(41943),r=i(39121),o=i(12990).A.extend((function(){}),r.A);o.create=function(){return new o};var a=o.prototype;a._getButtonClass=(0,n.constant)("radioButton"),a._getListClass=(0,n.constant)("radioButtonGroup"),a.getValue=function(){return this._currentValues.length?(0,s.lastOf)(this._currentValues):null},a._onButtonClick=function(e){var t=e.getId();this.getValue()!==t&&(this._currentValues=[t],this._buttons.forEach((function(e){e.setSelected(e.getId()===t)}),this))},Object.seal(a);const l=Object.seal(o)},33768:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>v});var n=i(12990),s=i(9525),r=i(10094),o=i(43130),a=i(20481),l=i(85690),d=i(14978),u=i(50951),c=i(98760),h=i(10520);function p(e,t,i){if(e&&!(0,o.isPlainObject)(e))throw new Error("Lacking valid options on instantiation of the scroll component");l.default.prototype.withAnimationPoller.call(this,i),this._captureZoneManager=t,this._valueToPosition=(0,a.A)().clamp(!1),this._options=(0,o.assign)({callback:o.noop,callbackStart:o.noop,callbackEnd:o.noop,inverted:!1,vertical:!1},e)}p.create=function(e,t,i){return new p(e,t,i)};var _=p.prototype;_._animationPoller=null,_._captureZone=null,_._captureZoneThumb=null,_._captureZoneManager=null,_._dBackground=null,_._dContainer=null,_._dThumb=null,_._width=null,_._height=null,_._options=null,_._value=null,_._valueMax=null,_._valueMin=null,_._valuePanStart=null,_._valueToPosition=null,_._visibility=!0,_.setVisibility=function(e){return this._visibility=e,this._dContainer&&this._dContainer.classed("hidden",!this._visibility),this._captureZone&&(this._captureZone[e?"show":"hide"](),this._captureZoneThumb[e?"show":"hide"](),this.updateCaptureZones()),this},_.setWidth=function(e){return this._width=e,this._options.vertical||this._updateScale(),this.renderOnFrameEnd(),this},_.setHeight=function(e){return this._height=e,this._options.vertical&&this._updateScale(),this.renderOnFrameEnd(),this},_._updateScale=function(){var e,t=this._options.vertical,i=this._options.inverted;e=t&&i?[this._height,0]:t?[0,this._height]:i?[this._width,0]:[0,this._width],this._valueToPosition.range(e)},_.setDomain=function(e,t){return this._valueToPosition.domain([e,t]),this},_.setMinMax=function(e,t){return this._valueMin=e,this._valueMax=t,this},_.getValue=(0,s.getter)("_value"),_.setValue=function(e){return this._value=e,this._validateValue(),this._handleValueChanged(),this.renderOnFrameEnd(),this},_._validateValue=function(){(0,r.isNumber)(this._value)&&((0,r.isNumber)(this._valueMin)&&(this._value=Math.max(this._valueMin,this._value)),(0,r.isNumber)(this._valueMax)&&(this._value=Math.min(this._valueMax,this._value)))},_._handleValueChanged=function(){this._options.callback(this._value)},_.initDom=function(e){return this._dContainer=e.append("g").classed("scroll",!0),this._createElements(e),this._createCaptureZones(),this.setVisibility(this._visibility),this},_._createElements=function(e){this._dBackground=this._dContainer.append("rect").classed("background",!0),this._dThumb=this._dContainer.append("rect").classed("track",!0)},_._createCaptureZones=function(e){e=e||u.default.BLOCK_ALL,this._captureZone=this._captureZoneManager.create(e,h.default.SCROLL_TRACK),this._captureZoneThumb=this._captureZoneManager.create(e,h.default.SCROLL_THUMB),this._captureZone.addGesture(c.default,{fastTap:!0,onGesture:this._handleTap,context:this}),this._captureZoneThumb.propagateHover(),this._captureZoneThumb.addGesture(d.default,{handleHold:!0,plane:this._options.vertical?d.PLANES.VERTICAL:d.PLANES.HORIZONTAL,onGesture:this._handlePan,context:this,onStart:this._handlePanStart,startContext:this,onEnd:this._handlePanEnd,endContext:this})},_.render=function(){(0,r.isNumber)(this._value)&&(this._renderElements(),this.updateCaptureZones())},_.renderOnFrameEnd=function(){this._dContainer&&l.default.prototype.renderOnFrameEnd.call(this)},_._renderElements=function(){this._dBackground.attrs({width:this._width,height:this._height})},_.updateCaptureZones=function(){this._visibility&&(this._captureZone.setDimensionsBasedOnElement(this._dContainer),this._captureZoneThumb.setDimensionsBasedOnElement(this._dThumb))},_._handlePan=function(e){this.setValue(this._valueToPosition.invert(this._valuePanStart+(this._options.vertical?e.deltaY:e.deltaX)))},_._handlePanStart=function(){this._valuePanStart=this._valueToPosition(this.getValue()),this._options.callbackStart()},_._handlePanEnd=function(){this._valuePanStart=null,this._options.callbackEnd()},_._handleTap=function(e){this.setValue(this._valueToPosition.invert(this._options.vertical?e.y-this._captureZone.y:e.x-this._captureZone.x))},_._handleRenderTrigger=l.default.prototype._handleRenderTrigger,_.destroy=function(){this._animationPoller&&(this._animationPoller.un(null,this),delete this._animationPoller),this._dContainer&&(this._dContainer.remove(),delete this._dContainer),this._captureZone&&(this._captureZone.destroy(),delete this._captureZone),this._captureZoneThumb&&(this._captureZoneThumb.destroy(),delete this._captureZone)},Object.seal(_);const g=Object.seal(p);var f=n.A.extend((function(){}),g);f.create=function(e,t,i){return new f(e,t,i)};var m=f.prototype;m._start=null,m._end=null,m._maxRange=1/0,m.getStart=(0,s.getter)("_start"),m.getEnd=(0,s.getter)("_end"),m.withMaxRange=function(e){return this._maxRange=e>0?e:1/0,this},m.setValue=function(e){var t=(this._end-this._start)/2;return this.setRange(e-t,e+t)},m.setRange=function(e,t){var i;return t-e>(i=(0,r.isNumber)(this._valueMin)&&(0,r.isNumber)(this._valueMax)?Math.min(this._valueMax-this._valueMin,this._maxRange):this._maxRange)&&(e!==this._start?t=e+i:e=t-i),this._start=e,this._end=t,f.superclass.setValue.call(this,(this._start+this._end)/2)},m._validateValue=function(){var e=0;(0,r.isNumber)(this._valueMin)&&this._start<this._valueMin?e=this._start-this._valueMin:(0,r.isNumber)(this._valueMax)&&this._end>this._valueMax&&(e=this._end-this._valueMax),e&&(this._value-=e,this._start-=e,this._end-=e)},m._handleValueChanged=function(){this._options.callback(this._start,this._end)},Object.seal(m);const v=Object.seal(f)},33758:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>l});var n=i(97204),s=i(9525);var r=i(17660);function o(e){this._dRootView=this._createRootView(e),r.default.getInstance().on(r.default.CHANGED,this._handleUserInfoChange,this),this._handleUserInfoChange("locale")}var a=o.prototype;a._dRootView=null,o.create=function(e){return new o(e)},a.getRootContainer=(0,s.getter)("_dRootView"),a.getContainer=function(e){var t=this._dRootView.select("[data-container="+e+"]");if(t.empty())throw new Error("The container "+e+" does not exist on the main layout");return t},a.appendToDOM=function(e){(0,n.A)(e).node().appendChild(this._dRootView.node())},a.detachFromDOM=function(){var e=this._dRootView.node(),t=e.parentNode;t&&t.removeChild(e)},a.destroy=function(){r.default.getInstance().un(null,this),this._dRootView&&(this._dRootView.on("mouseenter",null),this._dRootView.on("mouseleave",null),this._dRootView.remove(),delete this._dRootView)},a._createRootView=function(e){var t=document.createElement("div");return t.innerHTML='<div data-container="main-container" class="htmlChart" tabindex="0">\n    <style type="text/css" data-container="customisation-styles"></style>\n    <div data-container="input-overlay" class="inputOverlay">\n       <svg data-container="svg-root" xmlns="http://www.w3.org/2000/svg" version="1.1">\n           <g data-container="top-svg" class="topSvg" transform="translate(0.5,0.5)" buffered-rendering="dynamic">\n               <g data-container="underlay" class="subView underlay">\n                  <g class="backgroundContainer"></g>\n               </g>\n               <g data-container="prices" class="subView prices"></g>\n               <g data-container="derivative" class="subView derivative"></g>\n               <g data-container="aroon" class="subView aroon"></g>\n               <g data-container="atr" class="subView atr"></g>\n               <g data-container="awesome" class="subView awesome"></g>\n               <g data-container="bbw" class="subView bbw"></g>\n               <g data-container="bolpctb" class="subView bolpctb"></g>\n               <g data-container="chaikin" class="subView chaikin"></g>\n               <g data-container="cci" class="subView cci"></g>\n               <g data-container="dpo" class="subView dpo"></g>\n               <g data-container="dmi" class="subView dmi"></g>\n               <g data-container="eom" class="subView eom"></g>\n               <g data-container="kdj" class="subView kdj"></g>\n               <g data-container="macd" class="subView macd"></g>\n               <g data-container="momentum" class="subView momentum"></g>\n               <g data-container="mfi" class="subView mfi"></g>\n               <g data-container="rci" class="subView rci"></g>\n               <g data-container="roc" class="subView roc"></g>\n               <g data-container="rsi" class="subView rsi"></g>\n               <g data-container="stdev" class="subView stdev"></g>\n               <g data-container="stochastic" class="subView stochastic"></g>\n               <g data-container="volume" class="subView volume"></g>\n               <g data-container="willr" class="subView willr"></g>\n               <g data-container="overview" class="subView overview"></g>\n               <g data-container="xaxis" class="subView xaxis"></g>\n               <g data-container="frame" class="subView frame"></g>\n           </g>\n       </svg>\n\n       <div data-container="header-html" class="headerHtml">\n          <div data-container="htmlheaderoverlay" class="subView htmlheaderoverlay"></div>\n       </div>\n\n       <div data-container="top-html" class="topHtml">\n           <div data-container="htmloverlay" class="subView htmloverlay"></div>\n           <div data-container="absoluteoverlay" class="subView absoluteoverlay"></div>\n       </div>\n\n        <div class="customCursor"></div>\n    </div>\n\n    <div data-container="react-root"></div>\n\n    <div data-container="playground"></div>\n\n</div>',(t=(0,n.A)(t).select('[data-container="main-container"]')).attr("id",e),t.on("mouseenter",(function(){t.classed("hover",!0)})),t.on("mouseleave",(function(){t.classed("hover",!1)})),t},a._handleUserInfoChange=function(e){"locale"===e&&this._dRootView.attr("lang",r.default.getInstance().getSanitisedLocale())},Object.seal(a);const l=Object.seal(o)},67115:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>T});var n=i(43130),s=i(63186),r=i(32713),o=i(6182),a=i(50951),l=i(51684);function d(e){this._containerProvider=e,this._currentHoveredZones=[]}d.create=function(e){return new d(e)};var u=d.prototype;u._containerProvider=null,u._currentCursor=void 0,u._previousCursor=null,u._enabled=!0,u.enable=function(){this._enabled=!0},u.disable=function(){this._enabled=!1,this._previousCursor=this._currentCursor,delete this._currentCursor},u.resolveHover=function(e,t,i){t.pointerType===l.A.MOUSE&&(this._containerProvider.getRootContainer().node().contains(t.target)?(this.resolveHoverCursor(e.inside),this._resolveHoverHandlers(e.inside,e.outside,i)):e.inside.forEach(this._removeFromCurrentHoveredZones,this))},u.resolveHoverCursor=function(e){if(this._enabled){var t,i,n;for(n=0;n<e.length;n++)if(e[n].visible){if(e[n].getCursor()){t=e[n];break}if(e[n].getEventPropagation()===a.default.BLOCK_ALL)break}if(t){if(i=t.getCursor(),this._currentCursor===i)return;this._currentCursor=i,(0,r.setChartCursor)(this._containerProvider.getRootContainer(),this._currentCursor)}else(this._currentCursor||this._previousCursor)&&((0,r.setChartCursor)(this._containerProvider.getRootContainer(),o.default.DEFAULT),this._currentCursor=null,this._previousCursor=null)}},u.destroy=function(){delete this._containerProvider,delete this._currentHoveredZones,delete this._currentCursor,delete this._previousCursor,delete this._enabled},u._resolveHoverHandlers=function(e,t,i){var n,s;for(t.forEach(this._removeFromCurrentHoveredZones,this),n=e.filter(this._visibleZone,this),s=0;s<n.length&&((this._enabled&&n[s].hasHover()||n[s].hasMouseMoveHandler())&&(-1===this._currentHoveredZones.indexOf(n[s])&&this._insertNewHoveredZone(n,n[s],s),n[s].handleHoverMove(i)),!n[s].shouldNotPropagateHover());s++);},u._removeFromCurrentHoveredZones=function(e){if(this._enabled||e.hasMouseMoveHandler()){var t=this._currentHoveredZones.indexOf(e);t>-1&&(this._currentHoveredZones.splice(t,1),this._currentHoveredZones.every(this._hasNoEqualHoverHandler.bind(this,e))&&e.handleHoverOut())}},u._insertNewHoveredZone=function(e,t,i){var n,s=[];if(this._enabled||t.hasMouseMoveHandler()){if(t.shouldNotPropagateHover())for(n=0;n<this._currentHoveredZones.length;n++)if(i<e.indexOf(this._currentHoveredZones[n])){s=this._currentHoveredZones.splice(n),this._displaceZones(s,t);break}s.every(this._hasNoEqualHoverHandler.bind(this,t))&&this._currentHoveredZones.every(this._hasNoEqualHoverHandler.bind(this,t))&&t.handleHoverIn(),this._currentHoveredZones.push(t)}},u._displaceZones=function(e,t){var i;for(i=0;i<e.length;i++)this._hasNoEqualHoverHandler(e[i],t)&&this._currentHoveredZones.every(this._hasNoEqualHoverHandler.bind(this,e[i]))&&e[i].handleHoverOut()},u._hasNoEqualHoverHandler=function(e,t){var i=e.getHoverHandler(),n=t.getHoverHandler();return!(i&&n&&i.compare(n))},u._visibleZone=function(e){return e.visible},Object.seal(u);const c=Object.seal(d);var h=i(54859);function p(e,t,i,n,s){this._eventBus=e,this._captureZoneManager=t,this._indicatorsConfigAggregator=i,this._subViewsConfigAggregator=n,this._reactUI=s}var _=p.prototype;_._indicatorsConfigAggregator=null,_._subViewsConfigAggregator=null,_._eventBus=null,_._captureZoneManager=null,_._reactUI=null,_._getIndicatorRendererConfigs=function(e){var t=this._indicatorsConfigAggregator.getConfig(e);return t.subIndicators?this._getCompositeIndicatorRendererConfigs(t):t.renderers},_._getCompositeIndicatorRendererConfigs=function(e){var t,i={};for(t in e.subIndicators)(0,h.applyTo)(i,e.subIndicators[t].renderers);return i},_._makeRenderersFromConfig=function(e,t,i,n){var s,r,o,a,l=[];for(i=i||Object.keys(t||{}),a=0;a<i.length;a++)o=new(0,(r=t[s=i[a]]).type)(s,r.group||n.name,this._eventBus,this._captureZoneManager,this._reactUI,r.pointType),n&&o.withIndicator(n),r.position&&o.withPosition(r.position),r.presentationController&&(o.withPresentationModel(e.getPresentationControllerByName(r.presentationController).getPresentationModel()),o.withPresentationController(e.getPresentationControllerByName(r.presentationController))),r.properties&&this._applyProperties(o,r.properties),l.push(o);return l},_._applyProperties=function(e,t){var i,n;for(n in t){if(void 0===e[i="with"+n.charAt(0).toUpperCase()+n.slice(1)])throw new TypeError("Renderer '"+e.name+"' ["+Object.getPrototypeOf(e).constructor.name+"] does not provide property setter for: "+n);e[i].call(e,t[n])}},_.makeRenderersForIndicator=function(e,t){return this._makeRenderersFromConfig(e,this._getIndicatorRendererConfigs(t.name),t.getCurrentRendererNames(),t)},_.makeRenderersForSubView=function(e){return this._makeRenderersFromConfig(e,this._subViewsConfigAggregator.getRendererConfigs(e.name))},_.makeNewRenderers=function(e,t){return this._makeRenderersFromConfig(e,t)},Object.seal(_);const g=Object.seal(p);function f(e,t,i,n,s,r){this._eventBus=e,this._subViewsConfigAggregator=t,this._moduleLoader=i,this._containerProvider=n,this._settingsManager=s,this._taskManager=r}var m=f.prototype;m._subViewsConfigAggregator=null,m._eventBus=null,m._moduleLoader=null,m._containerProvider=null,m._settingsManager=null,m._taskManager=null,m.createSubView=function(e,t,i,s,r){var o=e.name+"-"+this._containerProvider.getRootContainer().attr("id"),a=this._subViewsConfigAggregator.getConfig(t),l=!1!==a.domainNicing,d=new(0,a.type)(o,t).withDomainNicing(l).withRelativeWeighting(a.relativeWeighting).withPersistence(a.isPersistent).withChartView(e).withRendererFactory(r).withCaptureZoneManager(i).withAnimationPoller(s);return(0,n.isEmpty)(a.presentationControllers)||this.createPresentationControllersForSubView(d,a.presentationControllers),a.yFitter&&d.withYFitter(this._instantiateObjectFromConfig(a.yFitter)),a.zoom&&d.withZoom(!0),a.relativeSize&&d.withRelativeSize(a.relativeSize),a.instrumentScaling?d.withInstrumentScaling(!!a.instrumentScaling):a.decimalPlaces&&d.withDecimalPlaces(a.decimalPlaces),a.minHeight&&d.withMinHeight(a.minHeight),a.properties&&d.withProperties(a.properties),d.withEventBus(this._eventBus),d},m.createPresentationControllersForSubView=function(e,t){var i,n={},s=(0,h.shallowClone)(t||{});for(i in e.presentationControllers)delete s[i];for(i in s)n[i]=this._instantiateObjectFromConfig(s[i]).withPresentationModel(this._instantiateObjectFromConfig(s[i].presentationModel)).withModuleLoader(this._moduleLoader).withContainerProvider(this._containerProvider).withSettingsManager(this._settingsManager).withTaskManager(this._taskManager);e.addPresentationControllers(n)},m.getPersistentNames=function(){return this._subViewsConfigAggregator.getPersistentNames()},m._instantiateObjectFromConfig=function(e){var t=new(0,e.type)(this._eventBus);return e.properties&&(0,h.applyTo)(t,e.properties),t},Object.seal(m);const v=Object.seal(f);function A(e,t,i,n,s,r,o){this._ChartViewType=e,this._moduleLoader=t,this._animationPoller=i,this._chartViewConfig=n,this._chartModel=s,this._indicatorsConfigAggregator=r,this._subViewsConfigAggregator=o}var E=A.prototype;E._ChartViewType=null,E._moduleLoader=null,E._chartViewConfig=null,E._chartModel=null,E._animationPoller=null,E._indicatorsConfigAggregator=null,E._subViewsConfigAggregator=null,E.create=function(e,t,i,r,o){var a,l=(0,n.get)(this._chartViewConfig,"captureZonePadding"),d=c.create(t),u=s.A.create(d,l),h=new g(r,u,this._indicatorsConfigAggregator,this._subViewsConfigAggregator,this._moduleLoader.getModule("reactUI")),p=new v(r,this._subViewsConfigAggregator,this._moduleLoader,t,i,o);return(a=this._ChartViewType.create(e,t,r,h,p,this._animationPoller,o).withConfig(this._chartViewConfig).withCaptureZoneManager(u).addPersistentSubViews()).initDom(),a.withModel(this._chartModel),a},Object.seal(E);const T=Object.seal(A)},4848:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>s});var n=i(61163);const s=Object.freeze({bottomShiftThreshold:500,fullscreenEnabledHorizontalOffset:56,fullscreenEnabledVerticalOffset:56,dealingButtonsEnabledVerticalOffset:35,dataIsIndicativeOffset:16,axisOffset:n.X_AXIS_HEIGHT,statsLineWrap:12})},95804:(e,t,i)=>{"use strict";i.d(t,{A:()=>g});var n=i(43130),s=i(59070),r=i(86605),o=i(23806),a=i(38712),l=i(12990),d=i(84228),u=i(72873),c=i(36757),h=i(73453),p=l.A.extend((function(e,t,i,n,s,r){r&&(this._pointType=r,this._accessor=a.default.getPointTypeAccessor(r))}),s.A),_=p.prototype;_.name=null,_._dBlocks=null,_._accessor=null,_._pointType=null,_._blockElementType="svg:g",_._baseAccTime=0,_._baseAccTimeChanged=!1,_.getClassNameForContainer=function(){return p.superclass.getClassNameForContainer.call(this)+" "+this._pointType},_.startRedrawingBasedOnChangesInVisibleWindow=function(){p.superclass.startRedrawingBasedOnChangesInVisibleWindow.call(this),this._visibleWindow.on(h.default.MOVED,this._handleVisibleWindowMoved,this),this._visibleWindow.visibleDateRange.on(c.default.VISIBLE_BLOCKS_POINTS_ADDED+"-"+this._pointType+"-"+this._indicator.resolution.id,this._handleNewPoints,this),this._visibleWindow.visibleDateRange.on(c.default.VISIBLE_BLOCKS_CHANGED,this._handleVisibleBlocksChanged,this),this._handleVisibleBlocksChanged()},_._handleVisibleWindowMoved=function(e){e&(r.default.RESIZED|r.default.ZOOMED)&&this._positionBlocks(this._dBlocks)},_._handleVisibleBlocksChanged=function(){var e=this._visibleWindow.visibleDateRange.getVisibleBlocks();this._baseAccTime=e.length?e[0].accStart:null,this._baseAccTimeChanged=!0,this.renderOnFrameEnd()},_._handleNewPoints=function(e){this._refreshChangedBlocks(e),this.renderOnFrameEnd()},_._refreshChangedBlocks=function(e){this._dBlocks.data(e,o.default.indexJoin).remove(),this._dBlocks=this.dContainer.selectAll(".block")},_._useBlock=n.stubTrue,_._bindBlockData=function(e){var t=this._visibleWindow.visibleDateRange.getVisibleBlocks(this._indicator.epic,this._indicator.resolution).filter(this._useBlock,this);return e.data(t,o.default.indexJoin)},_.setContainer=function(e){return this._dBlocks=e.selectAll(".block"),p.superclass.setContainer.apply(this,arguments),this},_.render=function(){this._dBlocks=this.dContainer.selectAll(".block"),this._dBlocks=this._bindBlockData(this._dBlocks),this._renderBlocks(this._dBlocks)},_._handleEntrySet=function(e){var t,i=e.enter();return i.empty()||(t=i.append(this._blockElementType).attr("class","block"),this._positionBlocks(t),this._initNewBlocks(t),this._dBlocks=this._dBlocks.merge(t)),this},_._renderBlocks=function(e){this._baseAccTimeChanged&&(this._baseAccTimeChanged=!1,this._positionBlocks(e)),this._handleEntrySet(e),e.exit().remove()},_._initNewBlocks=n.noop,_._isRelative=function(){return this._projection&&this._projection.inX&&this._projection.inX.isRelative},_._positionBlocks=function(e){var t,i,n;this._isRelative()&&(i=this._getForwardsProjectionInX(),n=this._projection.inX.roundValue,t=i(this._baseAccTime),e.attr("transform",(function(e){return u.default.svgTranslateAttrX(n(i(e.accStart)-t))})))},_._selectPointsInBlocks=function(e){return e.selectAll(".point").data(this._accessor,d.default.accTimeJoin)},Object.seal(_);const g=Object.seal(p)},37006:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>_});var n=i(97204),s=i(95804),r=i(23806),o=i(12990),a=i(81141),l=i(39634),d=i(72873),u=i(41283),c=i(47703),h=o.A.extend((function(){}),s.A);h.BAR_PROPORTIONAL_WIDTH=.7;var p=h.prototype;p._x=null,p._width=null,p._setVerticalDimensions=a.A.abstractMethod,p._barClass=function(e){var t=["point","bar"];return"boolean"==typeof e.upTrend&&t.push(e.upTrend?"up":"down"),t.join(" ")},p._createProjection=function(e){var t=l.A.createForShowingTimeInX(this._instrumentModel.activeResolution.period),i=c.A.createForShowingValueInY(e),n=i.roundValue,s=i.visibleRoundValue,r=i.getForwardsProjectionScale();return this._setVerticalDimensions=function(e){var t=r(Math.max(e.value,0)),i=r(Math.min(e.value,0));this.setAttribute("height",s(Math.abs(t-i))),this.setAttribute("y",n(i))},new u.A(t,i)},p.initDom=function(){return this.dContainer.classed("bars",!0),this},p.setVisibleWindow=function(e){h.superclass.setVisibleWindow.apply(this,arguments);var t=this._getForwardsProjectionInX(),i=this._projection.inX.roundValue,n=this._projection.inX.visibleRoundValue,s=t(this._indicator.resolution.period);return this._x=i(-s*(h.BAR_PROPORTIONAL_WIDTH/2)),this._width=n(s*h.BAR_PROPORTIONAL_WIDTH),this},p._useBlock=function(e){var t=this._accessor(e);return t&&0!==t.length},p._initNewBlocks=function(e){this._createNewBars(this._selectPointsInBlocks(e))},p._refreshChangedBlocks=function(e){var t=this._dBlocks.data(e,r.default.indexJoin),i=this._selectPointsInBlocks(t);this._setValueOfBars(i),this._createNewBars(i)},p._createNewBars=function(e){var t=e.enter().append("svg:rect").attr("x",this._x).attr("width",this._width);this._setValueOfBars(t),this._positionBarsHorizontally(t)},p._setValueOfBars=function(e){e.attr("class",this._barClass).each(this._setVerticalDimensions)},p._replot=function(e,t){t&&this._setValueOfBars(this._dBlocks.selectAll(".point"))},p._positionBarsHorizontally=function(e){var t=this._getForwardsProjectionInX(),i=this._projection.inX.roundValue,s=this._isRelative();return e.attr("transform",(function(e){var r=(0,n.A)(this).parent().datum(),o=s&&r?t(r.accStart):0;return d.default.svgTranslateAttrX(i(t(e.accTime)-o))}))},Object.seal(p);const _=Object.seal(h)},162:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>E});var n=i(59070),s=i(41943),r=i(38712),o=i(87385),a=i(12990),l=i(90309),d=i(9525),u=i(23584),c=i(30992),h=i(33347),p=i(48969),_=i(36757),g=i(38442),f=i(41283),m=i(47703),v=a.A.extend((function(e,t,i,n,s,o){this._pointType=o,this._accessor=r.default.getPointTypeAccessor(o)}),n.A),A=v.prototype;A._dCloudSections=null,A._createProjection=function(e){var t,i;return o.A.getInstance().supportsSvgNonScalingStroke()?(t=g.default.createForShowingTimeInX(this._instrumentModel.activeResolution.period),i=m.A.createForShowingValueInY(e)):(t=new p.default,i=new h.A),new f.A(t,i)},A.startRedrawingBasedOnChangesInVisibleWindow=function(){return v.superclass.startRedrawingBasedOnChangesInVisibleWindow.call(this),this._instrumentModel.on(c.default.BLOCKS_POINTS_ADDED+"-"+this._pointType,this.renderOnFrameEnd,this),this._visibleWindow.visibleDateRange.on(_.default.VISIBLE_BLOCKS_CHANGED,this._redrawIfNewBlocks,this),this},A.stopRedrawingBasedOnChangesInVisibleWindow=function(){this._instrumentModel.un(null,this),v.superclass.stopRedrawingBasedOnChangesInVisibleWindow.call(this)},A.initDom=function(){return this.dContainer.classed("cloud",!0).classed(this._pointType,!0),this._dCloudSections=[],this},A.destroy=function(){this._removePolylines(),this._dCloudSections=null,v.superclass.destroy.call(this)},A._replot=function(e,t){this.renderOnFrameEnd()},A._redrawIfNewBlocks=function(e){e&&this.renderOnFrameEnd()},A.render=function(){var e=this.getPointsToRender();e=this._insertVirtualIntersections(e.allPoints,e.pointsWithA,e.pointsWithB),this._removePolylines(),this._generateCloudSections(e)},A._createPolylineCoordinate=function(e,t){var i=this._projection.inX.roundValue,n=this._projection.inX.getForwardsProjectionScale(this._visibleWindow,this._visibleWindow.getXScale()),s=this._projection.inY.roundValue,r=this._projection.inY.getForwardsProjectionScale(this._visibleWindow,this._visibleWindow.y);return i(n(e))+","+s(r(t))},A._createPolyline=function(e,t){var i=this.dContainer.append("svg:polyline").attr("points",e.join(" ")).classed("line",!0);t&&i.classed(t,!0),this._dCloudSections.push(i)},A._removePolylines=function(){this._dCloudSections.forEach((0,d.invoker)("remove")),this._dCloudSections=[]},A.getPointsToRender=function(){var e,t=this._visibleWindow.visibleDateRange.getVisibleBlocks(this._indicator.epic,this._indicator.resolution),i=r.default._previousPointBefore((0,s.firstOf)(t),this._accessor),n=r.default._nextPointAfter((0,s.lastOf)(t),this._accessor),o=(0,s.flatten)(t.map(this._accessor)),a=[],l=[];for(i&&o.unshift(i),n&&o.push(n),e=0;e<o.length;e++)null!==o[e].valueA&&a.push(o[e]),null!==o[e].valueB&&l.push(o[e]);return{allPoints:o,pointsWithA:a,pointsWithB:l}},A._insertVirtualIntersections=function(e,t,i){var n,s,r,o,a,d=1;for(o=1;o<t.length;o++)if(null!==(n=this._getSegmentCover(t[o-1].accTime,t[o].accTime,i,d)))for(d=n[1]-1,a=n[0];a<n[1];a++)(s=u.default.lineSegmentsIntersection(t[o-1].accTime,t[o-1].valueA,t[o].accTime,t[o].valueA,i[a-1].accTime,i[a-1].valueB,i[a].accTime,i[a].valueB))&&(r=Math.max(e.indexOf(t[o-1]),e.indexOf(i[a-1]))+1,e.splice(r,0,l.A.createVirtualIntersection(s.x,s.y)));return e},A._getSegmentCover=function(e,t,i,n){var r,o=!1,a=!1,l=n||1,d=i[l-1].accTime,u=(0,s.lastOf)(i).accTime;if(t<d||e>=u)return null;for(r=l;r<i.length&&(d=i[r-1].accTime,a=(u=i[r].accTime)>=e&&d<t,!o&&a&&(o=!0,l=r),!o||a);r++);return o?[l,r]:null},A._generateCloudSections=function(e){var t,i,n,r,o=[],a=[],l=!0;for(t=function(e){var t=o;e&&t.push(this._createPolylineCoordinate(e.accTime,e.value)),(0,s.inPlaceConcat)(t,a),i&&t.push(this._createPolylineCoordinate(i.accTime,i.value)),t.length>=3&&this._createPolyline(t,l?"aIsOverB":"bIsOverA")},r=0;r<e.length;r++)e[r].isIntersection()?(n!==i&&(t.call(this,e[r]),o=[],a=[]),i=e[r]):(null!==e[r].valueA&&o.push(this._createPolylineCoordinate(e[r].accTime,e[r].valueA)),null!==e[r].valueB&&a.unshift(this._createPolylineCoordinate(e[r].accTime,e[r].valueB)),null!==e[r].valueA&&null!==e[r].valueB&&(l=e[r].valueA>=e[r].valueB)),n=e[r];t.call(this)},Object.seal(A);const E=Object.seal(v)},75424:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>h});var n=i(95804),s=i(23806),r=i(12990),o=i(33347),a=i(48969),l=i(41283),d={width:4,height:4},u=r.A.extend((function(){}),n.A),c=u.prototype;c._createProjection=function(){return new l.A(new a.default,new o.A)},c.initDom=function(){return this.dContainer.classed("dots",!0),this},c._useBlock=function(e){var t=this._accessor(e);return t&&0!==t.length},c._initNewBlocks=function(e){this._createNewDots(this._selectPointsInBlocks(e))},c._refreshChangedBlocks=function(e){var t=this._dBlocks.data(e,s.default.indexJoin),i=this._selectPointsInBlocks(t);this._setValueOfDots(i),this._createNewDots(i)},c._createNewDots=function(e){e.enter().append("svg:rect").attrs(d).call(this._positionDotsHorizontally.bind(this)).call(this._setValueOfDots.bind(this))},c._setValueOfDots=function(e){e.attr("class",this._dotClass).call(this._positionDotsVertically.bind(this))},c._dotClass=function(e){return"point "+(e.upTrend?"up":"down")},c._replot=function(e,t){var i=this._dBlocks.selectAll(".point");e&&this._positionDotsHorizontally(i),t&&this._positionDotsVertically(i)},c._positionDotsHorizontally=function(e){var t=this._getForwardsProjectionInX(),i=this._projection.inX.roundValue,n=this._visibleWindow.visibleDateRange.startPixels();e.attr("x",(function(e){return i(t(e.accTime)-2-n)}))},c._positionDotsVertically=function(e){var t=this._getForwardsProjectionInY(),i=this._projection.inY.roundValue;e.attr("y",(function(e){return i(t(e.value)-2)}))},Object.seal(c);const h=u},42890:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>M});var n=i(43130),s=i(97204),r=i(59070),o=i(41943),a=i(38712),l=i(87385),d=i(12990),u=i(84228),c=i(9525),h=i(48950),p=i(30992),_=i(91933),g=i(33347),f=i(72873),m=i(48969),v=i(36757),A=i(38442),E=i(41283),T=i(47703);function I(e,t){var i,n=e[1],s=t[1],r=0;for(i=0;0===r&&i<n.length&&i<s.length;i++)r=n[i]-s[i];return r}var C=d.A.extend((function(e,t,i,n,r,o){this._pointType=o,this._accessor=a.default.getPointTypeAccessor(o),this._dPathFill=(0,s.A)(),this._dPathLineUp=(0,s.A)(),this._dPathLineDown=(0,s.A)(),this._dPathLineNeutral=(0,s.A)(),this._dDefs=(0,s.A)()}),r.A),O=C.prototype;O._dDefs=null,O._dPathLineUp=null,O._dPathLineDown=null,O._dPathLineNeutral=null,O._dPathFill=null,O._stroke=null,O._strokeGradient=null,O._fill=null,O._fillGradient=null,O._fillIntersection=0,O._recreateGradients=!1,O.withStroke=(0,c.setter)("_stroke"),O.withStrokeGradient=(0,c.setter)("_strokeGradient"),O._indicatorId=null,O.withIndicatorId=(0,c.setter)("_indicatorId"),O._getGradientValues=function(e){return(0,n.mapValues)(e,function(t,i){return h.default.resolveDynamicProperties(e[i],this._indicator).map((0,c.plucker)("value"))}.bind(this))},O.withFill=(0,c.setter)("_fill"),O.withFillGradient=(0,c.setter)("_fillGradient"),O.withFillIntersection=(0,c.setter)("_fillIntersection"),O._createProjection=function(e){return l.A.getInstance().supportsSvgNonScalingStroke()?new E.A(A.default.createForShowingTimeInX(this._instrumentModel.activeResolution.period),T.A.createForShowingValueInY(e)):new E.A(new m.default,new g.A)},O.startRedrawingBasedOnChangesInVisibleWindow=function(){return C.superclass.startRedrawingBasedOnChangesInVisibleWindow.call(this),this._eventBus.subscribe("chart/indicator/updated/"+this._indicatorId,this._replot,this),this._instrumentModel.on(p.default.BLOCKS_POINTS_ADDED+"-"+this._pointType,this.renderOnFrameEnd,this),this._visibleWindow.visibleDateRange.on(v.default.VISIBLE_BLOCKS_CHANGED,this._redrawIfNewBlocks,this),this},O.stopRedrawingBasedOnChangesInVisibleWindow=function(){this._instrumentModel.un(null,this),this._eventBus.unsubscribeAll(this),C.superclass.stopRedrawingBasedOnChangesInVisibleWindow.call(this)},O.initDom=function(){return this.dContainer.classed("path",!0).classed(this._pointType,!0),this._recreatePath(),this},O._recreatePath=function(){this._dDefs.remove(),this._dPathFill.remove(),this._dPathLineUp.remove(),this._dPathLineDown.remove(),this._dPathLineNeutral.remove(),(this._strokeGradient||this._fillGradient)&&(this._dDefs=this._subView.newDefs(this._getPrefixedId("defs")).classed("group-"+this.group,!0).classed(this.name,!0),this._createGradientDefs()),(this._fill||this._fillGradient)&&this._initFill(),this._initLine()},O._getPrefixedId=function(e){return this._subView.uniquelyIdentifyPosition(this.position)+"-"+this.name+"-"+e},O._createGradientDefs=function(){var e=this._visibleWindow,t=_.roundForGradientStops,i=this._projection.inY.getForwardsProjectionScale(e,e.y);this._dDefs.selectAll(".gradientStroke, .gradientFill").remove(),this._fillGradient&&C.createGradient(this._dDefs,this._getGradientValues(this._fillGradient),t,i).attr("id",this._getPrefixedId("fill")).classed("gradientFill",!0),this._strokeGradient&&C.createGradient(this._dDefs,this._getGradientValues(this._strokeGradient),t,i).attr("id",this._getPrefixedId("stroke")).classed("gradientStroke",!0)},C.createGradient=function(e,t,i,s){var r=(0,n.toPairs)(t).sort(I),o=i(s((0,n.first)((0,n.first)(r)[1]))),a=i(s((0,n.last)((0,n.last)(r)[1]))),l=a-o,d=e.append("svg:linearGradient").attrs({gradientUnits:"userSpaceOnUse",x1:0,x2:0,y1:o,y2:a});return r.forEach((function(e){e[1].forEach((function(t){d.append("svg:stop").attr("offset",(i(s(t))-o)/l).classed(e[0],!0).classed("stop",!0)}))})),d},O._initLine=function(){this._dPathLineUp=this.dContainer.append("svg:path").attr("class","line").classed("up",!0),this._dPathLineDown=this.dContainer.append("svg:path").attr("class","line").classed("down",!0),this._dPathLineNeutral=this.dContainer.append("svg:path").attr("class","line").classed("noMovement",!0),this._strokeGradient?(this._dPathLineUp.attr("stroke",f.default.localUrlRef(this._getPrefixedId("stroke"))),this._dPathLineDown.attr("stroke",f.default.localUrlRef(this._getPrefixedId("stroke"))),this._dPathLineNeutral.attr("stroke",f.default.localUrlRef(this._getPrefixedId("stroke")))):this._stroke&&!0!==this._stroke&&(this._dPathLineUp.attr("stroke",this._stroke),this._dPathLineDown.attr("stroke",this._stroke),this._dPathLineNeutral.attr("stroke",this._stroke))},O._initFill=function(){this._dPathFill=this.dContainer.append("svg:polyline").attr("class","fill"),this._fillGradient?this._dPathFill.attr("fill",f.default.localUrlRef(this._getPrefixedId("fill"))):this._fill&&!0!==this._fill&&this._dPathFill.attr("fill",this._fill)},O.destroy=function(){C.superclass.destroy.call(this),this._dDefs.remove(),this._dPathFill.remove(),this._dPathLineUp.remove(),this._dPathLineDown.remove(),this._dPathLineNeutral.remove()},O._replot=function(e,t){(this._strokeGradient||this._fillGradient)&&(this._recreateGradients=!0),this.renderOnFrameEnd()},O._redrawIfNewBlocks=function(e){e&&this.renderOnFrameEnd()},O._getTotalPoints=function(e){var t,i,n=(0,o.firstOf)(e),s=(0,o.lastOf)(e),r=a.default._previousPointBefore(n,this._accessor),l=a.default._nextPointAfter(s,this._accessor),d=[];for(i=0;i<e.length;i++)t=this._accessor(e[i]),d=d.concat(t);return l&&d.push(l),r&&d.unshift(r),d},O._createPaths=function(e){var t,i,n,s,r,o="",a="",l="",d="",u=[];for(r=0;r<e.length;r++)t=e[r],a+=this._buildPathString(t),u.push(this._buildPathPoint(t)),n&&(-1===(i=this._checkDirection(t,n))?o+=this._buildPathString(t,n,i!==s):1===i?d+=this._buildPathString(t,n,i!==s):l+=this._buildPathString(t,n,i!==s)),n=t,s=i;return{down:o,full:a,neutral:l,up:d,data:u}},O.render=function(){this._recreateGradients&&(this._recreatePath(),this._recreateGradients=!1);var e,t,i,n=this._visibleWindow.visibleDateRange.getVisibleBlocks(this._indicator.epic,this._indicator.resolution),s=(0,o.firstOf)(n),r=(0,o.lastOf)(n),l=a.default._previousPointBefore(s,this._accessor),d=a.default._nextPointAfter(r,this._accessor),u=this._getTotalPoints(n),h=u.map((0,c.plucker)("value")),p=Math.min(0,Math.min.apply(Math,h)),_=Math.max(0,Math.max.apply(Math,h)),g=this._fillIntersection;if(i=this._createPaths(u),e=(0,o.firstOf)(u),!(!!(t=(0,o.lastOf)(u))||l&&d))return this._dPathLineUp.attr("d",""),this._dPathLineDown.attr("d",""),this._dPathLineNeutral.attr("d",""),void this._dPathFill.attr("points","");this._dPathLineUp.attr("d",i.up),this._dPathLineDown.attr("d",i.down),this._dPathLineNeutral.attr("d",i.neutral),(this._fill||this._fillGradient)&&("lowestValue"===this._fillIntersection?(g=p,g-=.5*(_-p)):"highestValue"===this._fillIntersection&&(g+=.5*(_-p)),i.full+=this._buildPathString(this._createFinalPoint(t,g)),i.full+=this._buildPathString(this._createFinalPoint(e,g)),this._dPathFill.attr("points",i.full))},O._createFinalPoint=function(e,t){var i=new u.default(e.timestamp,t);return i.accTime=e.accTime,i},O._checkDirection=function(e,t){return e.value>t.value?1:e.value<t.value?-1:0},O._buildPathString=function(e,t,i){var n="",s=e.accTime,r=e.value,o=this._projection.inX.roundValue,a=this._projection.inY.roundValue,l=this._projection.inX.getForwardsProjectionScale(this._visibleWindow,this._visibleWindow.getXScale()),d=this._projection.inY.getForwardsProjectionScale(this._visibleWindow,this._visibleWindow.y);return i&&(n="M"+o(l(t.accTime))+","+a(d(t.value))+" "),n+(o(l(s))+",")+a(d(r))+" "},O._buildPathPoint=function(e){return{x:this._visibleWindow.visibleDateRange.accTimeToPixel(e.accTime),y:this._visibleWindow.y(e.value)+this._subView.dimensions.y}},C.getBlocksNeededToRender=function(e,t){var i,s,r=(0,n.property)(["points",t,"points"]),l=(0,o.firstOf)(e),d=(0,o.lastOf)(e);return 0===e.length?[]:(a.default._hasPointAtBlockStartTime(l,r)||(i=a.default.getPrecedingBlockWithPoints(l,r)),s=a.default.getSucceedingBlockWithPoints(d,r),(0,o.edgeArray)(e,i,s))},Object.seal(O);const M=Object.seal(C)},25259:(e,t,i)=>{"use strict";i.d(t,{A:()=>p});var n=i(96285),s=i(97204),r=i(9525),o=i(38328),a=i(72873),l={y1:0,class:"line"};function d(e){return"tick "+e.type}function u(e){var t=a.default.getBBox(e).width+12,i=-.5*t;return(0,s.A)(document.createElementNS("http://www.w3.org/2000/svg","rect")).classed("background",!0).attr("x",i).attr("y",1).attr("width",t).attr("height",this._backgroundHeight).node()}function c(e,t,i){this._tickType=i,this._userTimeZone=e,this._dContainer=t.append("svg:g").classed(i,!0)}c.create=function(e,t,i){return new c(e,t,i)},c.isTickHidden=function(e){return!(!e.isColliding&&!e.isEdge)};var h=c.prototype;h._showLabels=!0,h.withShowLabels=(0,r.setter)("_showLabels"),h._showTicks=!0,h.withShowTicks=(0,r.setter)("_showTicks"),h._renderFormattedDate=null,h._dContainer=null,h._dTicks=null,h._transformFunction=null,h._backgrounds=!1,h._backgroundHeight=0,h._textAttributes=null,h._subViewDimensions=null,h.withSubViewDimensions=(0,r.setter)("_subViewDimensions"),h.withBackgrounds=(0,r.setter)("_backgrounds"),h.withBackgroundHeight=(0,r.setter)("_backgroundHeight"),h.withTextAttributes=(0,r.setter)("_textAttributes"),h.withTransformFunction=function(e,t){return this._transformFunction=function(i){var n=this._subViewDimensions&&this._subViewDimensions.x||0;return a.default.svgTranslateAttrX(e(t(i.accTime))-n)}.bind(this),this},h.renderTicks=function(e){var t;this._dTicks=this._dContainer.selectAll(".tick").data(e,this._tickJoinFunction.bind(this)),t=this._dTicks.enter().append("svg:g").attr("transform",this._transformFunction).attr("class",d),this._showLabels&&t.append("text").attrs(this._textAttributes).text(this._renderDate.bind(this)),this._showTicks&&t.append("svg:line").attrs(l).attr("y2",this._subViewDimensions?-this._subViewDimensions.height:0),this._dTicks.exit().remove(),this._showLabels&&this._backgrounds&&this._renderBackgrounds(t),this._dTicks=this._dTicks.merge(t)},h.replotHorizontally=function(){this._dTicks&&this._dTicks.attr("transform",this._transformFunction)},h.replotVertically=function(){this._dContainer.selectAll(".tick .line").attr("y2",-this._subViewDimensions.height)},h.hideMarkedTicks=function(){this._dTicks.classed("hidden",c.isTickHidden)},h._renderBackgrounds=function(e){var t,i=e.selectAll("text").nodes(),n=i.map(u,this);for(t=0;t<n.length;t++)i[t].parentNode.insertBefore(n[t],i[t])},h._renderDate=function(e){var t="open"===e.type?"OPEN":e.unit,i=o.default.get(e.tickType+"-tick-date-format-"+t);return n.DateTime.fromJSDate(e.date,{zone:this._userTimeZone}).toFormat(i)},h._tickJoinFunction=function(e){return e.accTime+"-"+e.type+"-"+e.unit},Object.seal(h);const p=Object.seal(c)},14898:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>_});var n=i(85690),s=i(86605),r=i(12990),o=i(9525),a=i(48950),l=i(72873),d=i(73453),u=i(78002),c=i(35950),h=r.A.extend((function(){}),n.default),p=h.prototype;p._fixedTicks=null,p.withFixedTicks=(0,o.setter)("_fixedTicks"),p.startRedrawingBasedOnChangesInVisibleWindow=function(){this._visibleWindow.on(d.default.MOVED,this._handleVisibleWindowMoved,this),this._yTicksGenerator=u.default.create(this._visibleWindow),this._presentationModel&&this._presentationModel.on(c.default.SCALE_DISPLAY_TYPE_CHANGED,this.renderOnFrameEnd,this)},p.stopRedrawingBasedOnChangesInVisibleWindow=function(){this._presentationModel&&this._presentationModel.un(null,this),this._instrumentModel.un(null,this),this._visibleWindow.un(null,this)},p._handleVisibleWindowMoved=function(e){this.renderOnFrameEnd(),e&s.default.RESIZED&&this.dContainer.selectAll(".tick .line").attr("x2",this._getTickWidth())},p.ticks=function(e){var t;return this._fixedTicks?a.default.resolveDynamicProperties(this._fixedTicks,this._indicator):(t=this._yTicksGenerator.generateTicks(e,{baseTickAtLeftmostCloseLevel:this._presentationModel&&this._presentationModel.showPercentageScale()}),a.default.resolveDynamicProperties(t))},p._getTickWidth=function(){return this._visibleWindow.width()},p.render=function(){this._visibleWindow.y.domainSet&&this._renderTicks()},p._renderTicks=function(){var e,t=this._visibleWindow.y,i=this.ticks(t),n=this.dContainer.selectAll(".tick").data(i,(0,o.plucker)("value"));(e=n.enter().append("svg:g")).empty()||e.append("svg:line").attr("class","line").attr("x1",0).attr("x2",this._getTickWidth()),e.merge(n).attr("transform",(function(e){return l.default.svgTranslateAttrY(Math.round(t(e.value)))})).attr("class",this._tickClass).order(),n.exit().remove()},p._tickClass=function(e){var t="tick "+("value-"+e.name).replace(".","-");return e.value<0&&(t+=" negative"),t},Object.seal(p);const _=Object.seal(h)},7633:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>p});var n=i(12990),s=i(6182),r=i(14978);var o=i(67881),a=i(42326),l=i(72873),d=i(98760),u=i(10520),c=n.A.extend((function(){}),a.A);c.ENTER_RESIZE="SubviewEnterResize",c.EXIT_RESIZE="SubviewExitResize",c.RESIZE="SubviewResize",c.RESIZE_END="SubviewResizeEnd";var h=c.prototype;h._resizeHandleIcon=null,h._isHovered=!1,h.initDom=function(e){return c.superclass.initDom.call(this,e),e&&this._createHandleIcon(),this},h.updateDimensions=function(e,t,i,n){if(c.superclass.updateDimensions.apply(this,arguments),this._resizeHandleIcon){var s=this._getHandleDimensions(),r=e.x+e.width/2-12;this._resizeHandleIcon.setDimensions(s),this._resizeHandleIcon.attr("transform",l.default.svgTranslateAttrXY(r,-4.5)),this._resizeHandleIcon.render()}},h._getHandleDimensions=function(){return{height:9,width:24,x:0,y:0}},h.destroyDom=function(){return this._destroyHandleIcon(),c.superclass.destroyDom.apply(this,arguments)},h._onResizePanGesture=function(e){this._isHovered||this._resizeHandleIcon.enterSelectedState(),this.fire(c.RESIZE,this,e)},h._onEndPanGesture=function(e){this._isHovered||this._resizeHandleIcon.exitSelectedState(),this.fire(c.RESIZE_END,this,e,this.getMainIndicator())},h.toggleResizeStatus=function(e){e?this._createHandleIcon():this._destroyHandleIcon()},h._destroyHandleIcon=function(){this._resizeHandleIcon&&(this._resizeHandleIcon.destroy(),this._resizeHandleIcon=null)},h._createHandleIcon=function(){this._resizeHandleIcon=o.A.create(this.dContainer,this._captureZoneManager,"resizeHandleIcon",'<svg width="24" height="9" viewBox="0 0 24 9" xmlns="http://www.w3.org/2000/svg"\n     xmlns:xlink="http://www.w3.org/1999/xlink">\n    <defs>\n        <rect id="a" width="24" height="9" rx="2"/>\n        <mask id="b" x="0" y="0" width="24" height="9" fill="#fff">\n            <use xlink:href="#a"/>\n        </mask>\n    </defs>\n    <g fill="none" fill-rule="evenodd">\n        <use class="outerBox" stroke="#9696A2" mask="url(#b)" stroke-width="2" xlink:href="#a"/>\n        <rect class="handleBar" fill="#9696A2" x="6" y="3" width="12" height="1" rx=".5"/>\n        <rect class="handleBar" fill="#9696A2" x="6" y="5" width="12" height="1" rx=".5"/>\n    </g>\n</svg>').withDefaultPadding().updateCaptureZoneIndex(u.default.OVERVIEW_HANDLE).on(d.default,{count:1,fastTap:!0}).on(r.default,{plane:r.PLANES.VERTICAL,handleHold:!0,onGesture:this._onResizePanGesture,context:this,onEnd:this._onEndPanGesture,endContext:this}).onHover(this._enterHover,this._exitHover,this).withCursorOnHover(s.default.NS_RESIZE)},h._enterHover=function(){this._isHovered=!0,this._resizeHandleIcon.enterSelectedState()},h._exitHover=function(){this._isHovered=!1,this._resizeHandleIcon.exitSelectedState()},Object.seal(h);const p=Object.seal(c)},42326:(e,t,i)=>{"use strict";i.d(t,{A:()=>E});var n=i(41943),s=i(12990),r=i(23585),o=i(50951),a=i(9525),l=i(26242),d=i(88045),u=i(10094),c=i(54859),h=i(25322),p=i(66334),_=i(38108),g=i(72873),f=i(10520),m=i(58703),v=s.A.extend((function(e,t){this._indicators=[],this.positions=(0,c.recursiveFreeze)([{name:"yTicks",clipPathNeeded:!1},{name:"body",clipPathNeeded:!0},{name:"studyOverlay",clipPathNeeded:!0},{name:"centre",clipPathNeeded:!1},{name:"northWest",clipPathNeeded:!1},{name:"northEast",clipPathNeeded:!1},{name:"southWest",clipPathNeeded:!1},{name:"yAxis",clipPathNeeded:!1}])}),_.default);v.INDICATOR_ADDED="indicatorAdded",v.INDICATOR_REMOVED="indicatorRemoved";var A=v.prototype;A.decimalPlaces=0,A.instrumentScaling=!1,A.positions=null,A.relativeSize=1,A._dDivider=null,A._yFitter=null,A._yFitManual=!1,A._yFitPaused=!1,A._zoomEnabled=!1,A._mainIndicator=null,A._indicators=null,A._zoneStopFitting=null,A.withInstrumentScaling=(0,a.setter)("instrumentScaling"),A.withDecimalPlaces=(0,a.setter)("decimalPlaces"),A.withYFitter=(0,a.setter)("_yFitter"),A.withZoom=(0,a.setter)("_zoomEnabled"),A.getMainIndicator=(0,a.getter)("_mainIndicator"),A.getPositionType=function(){return _.POSITION_TYPE.RELATIVE},A.getRelativeHeightFraction=function(){var e;return(0,n.nonEmpty)(this._indicators)&&this._mainIndicator.preferredHeight&&(e=this._mainIndicator.preferredHeight),(0,u.isNumber)(e)?e:this.relativeSize},A.withRelativeSize=function(e){return this._mainIndicator&&this._mainIndicator.getSettings()?this._mainIndicator.preferredHeight=e:this.relativeSize=e,this},A.setVisibleWindow=function(e){var t=this.visibleWindow;return v.superclass.setVisibleWindow.apply(this,arguments),t&&this._yFitter.stopProvidingFitForVisibleWindow(),this._yFitter.startProvidingFitForVisibleWindow(e),this._zoomEnabled&&(this._yFitManual=!1,this._eventBus.unsubscribeAll(this),this._eventBus.subscribe("chart/pan/change/vertical",this._handleVerticalPan,this),this._eventBus.subscribe("chart/pan/change/horizontal",this._handleHorizontalPan,this),this._eventBus.subscribe("chart/zoom/change/vertical",this._handleVerticalZoom,this),this._eventBus.subscribe("chart/zoom/drag/vertical",this._handleDragZoom,this),this._eventBus.subscribe("chart/zoom/wheel/vertical",this._handleVerticalWheelZoom,this),this._eventBus.subscribe("chart/yfitting/reset",this._handleYFittingReset,this)),this},A.addIndicator=function(e){try{e.isAvailable()&&(this.visibleWindow.addPointTypes(e.epic,e.resolution,e.outputPointTypes),this.addRenderers(this._rendererFactory.makeRenderersForIndicator(this,e))),this._indicators.push(e),null===this._mainIndicator&&(this._mainIndicator=e),e.on(l.default.RENDERERS_CHANGED,this._recreateIndicator.bind(this,e),this),this.fire(v.INDICATOR_ADDED,e)}catch(t){if(d.default.error("Exception caught: ",t.message),r.default.isInDebug())throw t}},A.removeIndicator=function(e){e.un(null,this),(0,n.remove)(this._indicators,e),e.isAvailable()&&(this.visibleWindow&&this.visibleWindow.removePointTypes(e.epic,e.resolution,e.outputPointTypes),this.removeGroupOfRenderers(e.name)),this.fire(v.INDICATOR_REMOVED,e)},A.updateRelativeSize=function(e){var t=this.getRelativeHeightFraction(),i=this.getRelativeHeightFraction()+e;return e<0?(this.withRelativeSize(Math.max(i,this.minHeight)),e+=t-this.getRelativeHeightFraction()):(this.withRelativeSize(Math.min(i,1)),e-=this.getRelativeHeightFraction()-t),e},A.initDom=function(){var e=v.superclass.initDom.call(this);return this._dDivider=this.dContainer.append("svg:line").classed("innerBorder",!0).attrs({x1:0,x2:0,y1:0,y2:0}),this._zoneStopFitting=this._captureZoneManager.createZone(h.default,o.default.PROPAGATE_ALL,f.default.STOP_Y_FITTING),this._zoneStopFitting.addGesture(p.A,{onStart:this._pauseYFitting,onEnd:this._resumeYFitting,startContext:this,endContext:this}),e},A.destroyDom=function(){var e=v.superclass.destroyDom.call(this);return this._dDivider&&(this._dDivider.remove(),delete this._dDivider),this._zoneStopFitting&&(this._zoneStopFitting.destroy(),delete this._zoneStopFitting),e},A.updateDimensions=function(e,t,i,n){v.superclass.updateDimensions.apply(this,arguments),this._updateClipRectDimensions(e),this._getPositionDomContainer("yAxis").attr("transform",g.default.svgTranslateAttrX(e.width)),this._getPositionDomContainer("centre").attr("transform",g.default.svgTranslateAttrXY(e.width/2,e.height/2)),this._getPositionDomContainer("northEast").attr("transform",g.default.svgTranslateAttrX(e.width-this._chartView.rightMargin)),this._getPositionDomContainer("southWest").attr("transform",g.default.svgTranslateAttrY(e.height)),this._dDivider.attr("x2",this._chartView.subViewManager.isNthStudyView(this,0)?0:e.width),this._zoneStopFitting&&this._zoneStopFitting.setDimensions(e)},A.setExtendedFittingRange=function(e,t){this._yFitter.min=e,this._yFitter.max=t,(e||t)&&this._handleYFittingReset(),this._yFitManual||this._yFitPaused||this._yFitter.fit()},A.destroy=function(){(0,a.invokeCall)(this._indicators,"un",null,this),this._indicators=[],this.visibleWindow&&this._yFitter.stopProvidingFitForVisibleWindow(),this._eventBus.unsubscribeAll(this),v.superclass.destroy.apply(this,arguments)},A._recreateIndicator=function(e){this.removeIndicator(e),this.addIndicator(e),this.render()},A._handleVerticalPan=function(e){this._yFitManual||this._turnOnZoomFitting(),this.visibleWindow.verticalPan(e)},A._handleHorizontalPan=function(e){this.visibleWindow.visibleDateRange.moveByPixels(e,!0)},A._trackVerticalZoom=function(){this._eventBus.publish("tracker/ga",[{interaction_type:m.GA_ACTION.ZOOMING}])},A._handleVerticalZoom=function(e,t,i,n){this._yFitManual||this._turnOnZoomFitting(),this.visibleWindow.zoom(e,t,i,n),this._trackVerticalZoom()},A._handleDragZoom=function(e){this._yFitManual||this._turnOnZoomFitting(),this.visibleWindow.expandBy(e),this._trackVerticalZoom()},A._handleVerticalWheelZoom=function(e){this._yFitManual||this._turnOnZoomFitting(),this.visibleWindow.zoomByMultiple(e),this._trackVerticalZoom()},A._turnOnZoomFitting=function(){this._yFitter.stopProvidingFitForVisibleWindow(),this._yFitManual=!0,this._eventBus.publish("chart/yfitting/manual")},A._handleYFittingReset=function(){this._yFitManual&&!this._yFitPaused&&(this._yFitter.startProvidingFitForVisibleWindow(this.visibleWindow),this._yFitter.fit()),this._yFitManual=!1},A._pauseYFitting=function(){this._yFitter.stopProvidingFitForVisibleWindow(),this._yFitPaused=!0},A._resumeYFitting=function(){this._yFitPaused&&!this._yFitManual&&(this._yFitter.startProvidingFitForVisibleWindow(this.visibleWindow),this._yFitter.fit()),this._yFitPaused=!1},A._updateClipRectDimensions=function(e){var t,i;for(i=0;i<this.positions.length;i++)!0===(t=this.positions[i]).clipPathNeeded&&this._getClipRectsForPosition(t.name).attrs({x:-1,y:0,width:e.width,height:e.height})},Object.seal(A);const E=v},46393:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>d});var n=i(43130),s=i(41185),r=i(12990),o=i(289),a=r.A.extend((function(e){e=e||{},this._startHandler=e.onStart||null,this._endHandler=e.onEnd||null,this._handler=e.onGesture||null}),o.default);a.GESTURE_TIMEOUT=300,a.GESTURE_PRECISION=20,a.isRightClick=function(e){return"mouse"===e.pointerType&&(2===e.button||!!e.ctrlKey)};var l=a.prototype;l._inProgress=!1,l._isRecognised=!1,l._handler=n.noop,l._handlerContext=null,l._startHandler=null,l._startHandlerContext=null,l._endHandler=n.noop,l._endHandlerContext=null,l._lockHandler=n.noop,l._lockHandlerContext=null,l.type=null,l._handlePointerDown=n.noop,l._handlePointerUp=n.noop,l._handlePointerMove=n.noop,l._handlePointerEnter=n.noop,l._handlePointerLeave=n.noop,l._filterEvent=function(e){return!a.isRightClick(e)},l._startGesture=function(){this._inProgress=!0,this._startHandler&&this._startHandler.call(this._startHandlerContext,this)},l._endGesture=function(){this._inProgress=!1,this._endHandler&&this._endHandler.call(this._endHandlerContext,this)},l._callHandler=function(){this.fire(s.default.HANDLED),this._handler.call(this._handlerContext,this)},l.withHandler=function(e,t){return this._handler=e||l._handler,this._handlerContext=t,this},l.withStartHandler=function(e,t){return this._startHandler=e||l._startHandler,this._startHandlerContext=t,this},l.withLockHandler=function(e,t){return this._lockHandler=e||l._lockHandler,this._lockHandlerContext=t,this},l.withEndHandler=function(e,t){return this._endHandler=e||l._endHandler,this._endHandlerContext=t,this},l.clearHandlers=function(){this.withHandler().withLockHandler().withStartHandler().withEndHandler()},l.process=function(e,t,i){if(!this._filterEvent(i))return!1;switch(i.type){case"pointerenter":this._handlePointerEnter(e,t,i);break;case"pointerdown":this._handlePointerDown(e,t,i);break;case"pointerleave":this._handlePointerLeave(e,t,i);break;case"pointerup":this._handlePointerUp(e,t,i);break;case"pointermove":this._handlePointerMove(e,t,i);break;case"wheel":this._handleMouseWheel(e,t,i);break;case"contextmenu":this._handleContextMenu(e,t,i)}return this._isRecognised},l.reset=n.noop,l._handleMouseWheel=function(){this._isRecognised=!1},l._handleContextMenu=n.noop,Object.seal(l);const d=Object.seal(a)},79227:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>a});var n=i(12990),s=i(91638),r=n.A.extend((function(){}),s.default);r.create=function(e){return new r(e)};var o=r.prototype;o._handlePointerDown=function(){this._handler.call(this._handlerContext,this)},Object.seal(o);const a=Object.seal(r)},89564:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>u});var n=i(31715),s=i(12990),r=i(23584),o=i(10094),a=i(25322),l=s.A.extend((function(){}),n.default);l.create=function(e,t,i){return new l(e,t,i)};var d=l.prototype;d._constraints=null,d._cx=null,d._cy=null,d._rx=null,d._ry=null,d.setCoordinates=function(e,t,i,n,s){return this._cx=e,this._cy=t,this._rx=i+this._padding,this._ry=n+this._padding,s?this._constraints=s:delete this._constraints,this},d.pointInCaptureZone=function(e,t){return!!this.isSet()&&(!(this._constraints&&!a.default.prototype.pointInCaptureZone.call(this._constraints,e,t))&&this._pointInZone(e,t))},d._pointInZone=function(e,t){return r.default.pointInOval(e,t,this._cx,this._cy,this._rx,this._ry)},d.isSet=function(){return(0,o.isNumber)(this._cx)&&(0,o.isNumber)(this._cy)&&(0,o.isNumber)(this._rx)&&this._rx>0&&(0,o.isNumber)(this._ry)&&this._ry>0},Object.seal(d);const u=Object.seal(l)},50721:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>c});var n=i(31715),s=i(41943),r=i(12990),o=i(9525),a=i(23584),l=i(25322),d=r.A.extend((function(){}),n.default);d.create=function(e,t,i){return new d(e,t,i)};var u=d.prototype;u.coordinates=[],u.setCoordinates=(0,o.setter)("coordinates"),u.getCoordinates=(0,o.getter)("coordinates"),u._constraints=null,u.setConstraints=function(e){return this._constraints=e?l.default.normaliseDimensions(e):null,this},u.pointInCaptureZone=function(e,t){if(!this.isSet())return!1;if(this._constraints&&!l.default.prototype.pointInCaptureZone.call(this._constraints,e,t))return!1;for(var i=0;i<this.coordinates.length;i++){var n,s=this.coordinates[i];if(n=i===this.coordinates.length-1?this.coordinates[0]:this.coordinates[i+1],this._padding>=a.default.distancePointToSegment(e,t,s.x,s.y,n.x,n.y))return!0}return a.default.isPointInTriangle(e,t,this.coordinates[0].x,this.coordinates[0].y,this.coordinates[1].x,this.coordinates[1].y,this.coordinates[2].x,this.coordinates[2].y)||a.default.isPointInTriangle(e,t,this.coordinates[2].x,this.coordinates[2].y,this.coordinates[3].x,this.coordinates[3].y,this.coordinates[0].x,this.coordinates[0].y)},u.isSet=function(){return(0,s.nonEmpty)(this.coordinates)},Object.seal(u);const c=Object.seal(d)},23708:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>c});var n=i(41185),s=i(4739),r=i(9525),o=i(40708),a=i(289),l=[-6.5,6.5];function d(e){this._animationNamespace="scroller-"+e,this._subscribable=new a.default}var u=d.prototype;d.create=function(e){return new d(e)},d.LOW_FRICTION=.001,d.HIGH_FRICTION=.005,d._DRAG_END="dragEnd",u._subscribable=null,u._velocity=0,u._animationNamespace=null,u._scrollableContainer=null,u._scrollState=null,u._dragging=!1,u._elastics=null,u._forces=null,u._isAccidentalMovement=!0,u._timestampLastUserInput=null,u._timestampOfInputStart=null,u._offsetPixelsSinceInputStart=null,u._animationPoller=null,u._frictionCoefficient=null,u._lastDragOffset=null,u._recogniser=null,u.withAnimationPoller=(0,r.setter)("_animationPoller"),u.withFrictionCoefficient=(0,r.setter)("_frictionCoefficient"),u.isDragging=(0,r.getter)("_dragging"),u._kineticMovement=!1,u.setKineticMovement=(0,r.setter)("_kineticMovement"),u.startGettingInputFrom=function(e){return this._recogniser&&this._recogniser.clearHandlers(),this._recogniser=e,e.withStartHandler(this._handleDragStart,this).withHandler(this._handleDragMove,this).withEndHandler(this._handleDragEnd,this),this},u.manageMovementIn=function(e){var t=e.distanceOverLeftScrollBoundary.bind(e),i=e.distanceOverRightScrollBoundary.bind(e);return this._elastics={left:this._elastic.bind(this,t,-1),right:this._elastic.bind(this,i,1)},this._scrollableContainer=e,this},u.applyForces=function(){this._forces=[this._elastics.left,this._elastics.right,this._friction],this._scrollState=this._scrollableContainer.getScrollState(),this._animationPoller.newOngoingTask(this._animationNamespace,this._step.bind(this))},u.destroy=function(){this._animationPoller.killTasks(this._animationNamespace),this._recogniser&&(this._recogniser.clearHandlers(),delete this._recogniser),this._subscribable&&(this._subscribable.destroy(),delete this._subscribable)},u._handleDragStart=function(){this._forces=[this._elastics.left,this._elastics.right],this._dragging=!0,this._makeMovementAccidental(),this.stopMovement(),this._scrollState=this._scrollableContainer.getScrollState()},u.stopMovement=function(){this._velocity=0,this._animationPoller.killTasks(this._animationNamespace),this._lastDragOffset=0},u._getDelta=function(e){return e.deltaX||e.deltaY||0},u._handleDragMove=function(e){var t,i=this._getDelta(e),r=i-this._lastDragOffset,a=s.default.timestamp(),d=a-this._timestampLastUserInput,u=a-this._timestampOfInputStart;this._timestampLastUserInput=a,this._isUserPause(d)?this._makeMovementAccidental():(d<1&&(d=1),this._offsetPixelsSinceInputStart+=i,t=Math.abs(this._offsetPixelsSinceInputStart)>n.default.getGesturePrecision(),this._isAccidentalMovement&&t&&u>=0&&(this._isAccidentalMovement=!1),this._velocity=(0,o.clampInRange)(r/d,l),this._lastDragOffset=i,r&&this._scrollableContainer.moveByPixels(r,!0))},u.onDragEnd=function(e){return this._subscribable.on(d._DRAG_END,e,this),this},u._handleDragEnd=function(){var e=s.default.timestamp(),t=e-this._timestampLastUserInput;this._timestampLastUserInput=e,(this._isUserPause(t)||this._isAccidentalMovement)&&(this._velocity=0),this._forces=[this._elastics.left,this._elastics.right,this._friction],this._dragging=!1,this._animationPoller.newOngoingTask(this._animationNamespace,this._step.bind(this)),this._subscribable.fire(d._DRAG_END)},u._step=function(e,t,i){var n,s,r=this._sumForces(this._forces,this._velocity,e)/1,o=this._velocity+r*e,a=o*e;return this._scrollableContainer.isOutOfScrollBounds(this._scrollState,o)&&(this._dragging?(this._velocity<=0&&o>0||this._velocity>=0&&o<0)&&(o=0,a=0):(n=this._scrollableContainer.distanceOverRightScrollBoundary(this._scrollState,o),s=this._scrollableContainer.distanceOverLeftScrollBoundary(this._scrollState,o),n>0&&n<a?(a=n,o=0):s>0&&s<-a&&(a=-s,o=0))),this._velocity=o,Math.abs(a)>.5&&this._scrollableContainer.moveByPixels(a,!0),!this._scrollableContainer.isOutOfScrollBounds(this._scrollState,o)&&this._isStatic()},u._sumForces=function(e,t,i){var n,s=0;for(n=0;n<e.length;n++)s+=e[n].call(this,t,i);return s},u._friction=function(e,t){var i,n=e>0;return this._isStatic()?i=0:n!==e+(i=1*this._frictionCoefficient*-e)*t>0&&(i=-e/t),i},u._elastic=function(e,t){var i=e(this._scrollState,this._velocity);if(i<=0)return 0;var n=15e-6*Math.pow(i,1.2);return Math.max(n,5e-4)*t},u._isStatic=function(){return!this._kineticMovement||Math.abs(this._velocity)<.004},u._isUserPause=function(e){return e>200},u._makeMovementAccidental=function(e){e=e||0,this._timestampOfInputStart=s.default.timestamp()+e,this._offsetPixelsSinceInputStart=0,this._isAccidentalMovement=this._recogniser.maxPointers<2},Object.seal(u);const c=Object.seal(d)},83154:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>l});var n=i(9525),s=i(41020),r=i(58703);function o(){}var a=o.prototype;a._visibleDateRange=null,a._scroller=null,a._eventBus=null,a.withEventBus=(0,n.setter)("_eventBus"),a.applyForcesWith=(0,n.setter)("_scroller"),a.startListening=function(){return this._eventBus.subscribe("chart/zoom/wheel/horizontal",this._handleWheelZoom,this),this._eventBus.subscribe("chart/zoom/change/horizontal",this._handleZoomChange,this),this._eventBus.subscribe("chart/zoom/end",this._handleZoomEnd,this),this},a._trackHorizontalZoom=function(){this._eventBus.publish("tracker/ga",[{interaction_type:r.GA_ACTION.ZOOMING}])},a._handleZoomChange=function(e,t,i,n){var r,o;e=this._visibleDateRange.pixelsToAccTime(e),t=this._visibleDateRange.pixelsToAccTime(t),i=this._visibleDateRange.pixelsToAccTime(i),n=this._visibleDateRange.pixelsToAccTime(n),(o=(r=s.default.pointerTrackingZoom(this._visibleDateRange.getScale().domain(),e,t,i,n))[1]-r[0])>0&&(this._visibleDateRange.moveTo(r[1],o,!0),this._trackHorizontalZoom())},a._handleWheelZoom=function(e,t){this._visibleDateRange.zoomBy(e,t,!0),this._trackHorizontalZoom()},a._handleZoomEnd=function(){!this._scroller.isDragging()&&this._visibleDateRange.isOutOfBounds()&&this._scroller.applyForces()},a.manageMovementIn=(0,n.setter)("_visibleDateRange"),a.stopListening=function(){this._eventBus.unsubscribeAll(this)},a.destroy=function(){this.stopListening()},Object.seal(a);const l=Object.seal(o)},16377:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>l,scaleAndRoundPrice:()=>r});var n=i(9525),s=i(10094);function r(e,t,i){return isNaN(e)?"":(e=(0,s.roundFloatingPointError)(e/t),null!==i&&(e=e.toFixed(i)),String(e))}function o(){}o.create=function(){return new o};var a=o.prototype;a._scalingFactor=1,a._decimalPlaces=null,a.getScalingFactor=(0,n.getter)("_scalingFactor"),a.getStep=function(){return Math.pow(10,-1*this._decimalPlaces)},a.withScalingFactor=(0,n.setter)("_scalingFactor"),a.withDecimalPlaces=(0,n.setter)("_decimalPlaces"),a.scaleAndRoundPrice=function(e,t,i){return r(e,void 0===t?this._scalingFactor:t,void 0===i?this._decimalPlaces:i)},Object.seal(a);const l=Object.seal(o)},3228:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>o});var n=i(99826),s=i(54859),r={prices:{renderers:{currentPointLine:{type:n.A,group:"yTicks",position:"yTicks",pointType:"prices",presentationController:"currentPoint",properties:{relativeWeighting:1}},currentRawPointLine:{type:n.A,group:"yTicks",position:"yTicks",pointType:"prices-raw",presentationController:"currentPoint",properties:{relativeWeighting:1}}}}};const o=(0,s.recursiveFreeze)(r)},17202:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>l});var n=i(67737),s=i(33236),r=i(23764),o=i(54859),a={prices:{presentationControllers:{currentPoint:{type:n.A,presentationModel:{type:s.default}}},renderers:{currentPoint:{type:r.Ay,group:"yAxis",position:"yAxis",pointType:"prices",presentationController:"currentPoint",properties:{relativeWeighting:1e3}},currentRawPoint:{type:r.Ay,group:"yAxis",position:"yAxis",pointType:"prices-raw",presentationController:"currentPoint",properties:{relativeWeighting:999}}}}};const l=(0,o.recursiveFreeze)(a)},27315:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>n});const n=new(i(95151).default)({de:{delayedPriceTooltip:"Der Preis wird zeitverzögert angezeigt.<br>Sie können eine neue Position in der Marktansicht öffnen oder eine bereits bestehende Position aus der Positionsansicht schließen.",delayedPriceTooltipAnonymous:"Eröffnen Sie ein Konto, um Live-Preise für diesen Markt abrufen zu können."},en:{delayedPriceTooltip:"This price is delayed.<br>You can open a new position from the Markets view, or close an existing position from your Positions view.",delayedPriceTooltipAnonymous:"Open an account to access live prices for this market."},es:{delayedPriceTooltip:"Este precio se muestra con retraso.<br>Puede abrir una posición nueva de la lista de Mercados, o cerrar una Posición existente desde sus Posiciones.",delayedPriceTooltipAnonymous:"Abra una cuenta para acceder a los precios en tiempo real de este mercado."},fr:{delayedPriceTooltip:"Le cours de cette valeur est différé<br>Vous pouvez ouvrir une nouvelle position à partir du ticket d'ordre de la valeur, ou clôturer une position ouverte dans l'onglet \"Positions\".",delayedPriceTooltipAnonymous:"Ouvrez un compte pour accéder aux cours en temps réel de cette valeur."},it:{delayedPriceTooltip:"Prezzo in differita.<br>Apri una posizione dalla lista delle 'Azioni' del menu a comparsa oppure chiudi una posizione alla voce 'Posizioni'.",delayedPriceTooltipAnonymous:"Apri un conto per visualizzare i prezzi in tempo reale di questo mercato."},ja:{delayedPriceTooltip:"レートがディレイデータとなっております。<br>フライアウトメニューから銘柄一覧を開いて取引するか、保有ポジションから決済をお願いいたします。",delayedPriceTooltipAnonymous:"この銘柄のライブプライスを見るには口座開設が必要です。"},nl:{delayedPriceTooltip:"Deze prijs is vertraagd<br>U kunt een nieuwe positie openen vanuit de Markt- of Positieweergave.",delayedPriceTooltipAnonymous:"Open een rekening om live koersen voor deze markt te kunnen zien."},nb:{delayedPriceTooltip:"Denne kursen er forsinket.<br>Du kan åpne en ny posisjon i markedsoversikten eller lukke en eksisterende posisjon i posisjonsoversikten.",delayedPriceTooltipAnonymous:"Åpne en konto for å få tilgang til realtidskurser for dette markedet."},pt:{delayedPriceTooltip:'Este preço está atrasado.<br>Pode abrir uma nova posição a partir de "Mercados", ou fechar uma posição existente em "Posições".',delayedPriceTooltipAnonymous:"Abra uma conta para aceder a preços reais para este mercado."},sv:{delayedPriceTooltip:"Denna kurs är fördröjd.<br>Du kan öppna en ny position i marknadsöversikten eller stänga en befintlig position i positionsöversikten.",delayedPriceTooltipAnonymous:"Öppna ett konto för att få tillgång till realtidskurser för denna marknad."},zh:{delayedPriceTooltip:"此价格为延迟价格。<br>您可在“市场”窗口中开设全新仓位，或在“仓位”窗口中关闭现有仓位。",delayedPriceTooltipAnonymous:"开立帐户以获取此市场的实时报价。"},zh_TW:{delayedPriceTooltip:"此價格為延遲價格。<br>您可在“市場”視圖中開設全新倉位，或在“倉位”視窗中關閉現有倉位。",delayedPriceTooltipAnonymous:"開立帳戶以獲取此市場的實時報價。"}})},12304:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>r});var n=i(32796),s=i(48990);const r={prices:{presentationControllers:{dateCue:{type:n.A,presentationModel:{type:s.default}}}}}},78868:(e,t,i)=>{"use strict";i.r(t),i.d(t,{DEALING_TYPE:()=>H,default:()=>j});var n=i(43130),s=i(73828),r=i(64877),o=i(61346),a=i(94776),l=i.n(a),d=i(55986),u=i(10695),c=i(41943),h=i(12990),p=i(43718),_=i(54859),g=i(17660),f=Object.freeze(["dealingEnabled","tradeConfirms"]),m=h.A.extend(Object.assign((function(e,t,i){null===this.dealingEnabled&&this._options.isDealingActivatedByDefault&&(this.dealingEnabled=!0),null===this.tradeConfirms&&(this.tradeConfirms=void 0!==this._options.isTradeConfirmsOnByDefault?this._options.isTradeConfirmsOnByDefault:this._getTradeConfirmsDefaultValue())}),{__constructorTransform:function(e,t,i){return e||(e={}),e.deviceId||(e.deviceId=(0,p.getDeviceID)()),[e,t,i]}}),u.default),v=m.prototype;v.deviceId=null,v.dealingEnabled=null,v.tradeConfirms=null,v._getTradeConfirmsDefaultValue=function(){return g.default.getInstance().isOption()},v.fromJSON=function(e){"string"==typeof e.deviceId&&(this.deviceId=e.deviceId),void 0!==e.dealingEnabled&&void 0===e.tradeConfirms&&(e.tradeConfirms=!0),f.forEach((function(t){(0,_.isDefined)(e[t])&&(this[t]=!!e[t])}),this)},v.toJSON=function(){var e={deviceId:this.deviceId};return f.forEach((function(t){this[t]!==v[t]&&(e[t]=this[t])}),this),e},Object.seal(v);const A=Object.seal(m);var E=i(9525);function T(e,t,i){return new A(i,e,t)}function I(e){return!!(e in C.PROPERTY_MAP)}var C=h.A.extend(Object.assign((function(){}),{__constructorTransform:function(e,t,i){return[e||{},t,i]}}),u.default);C.MAX_DEVICE_SPECIFIC_SETTINGS=100,C.PROPERTY_MAP=Object.freeze({openPositionsVisible:"isOpenPositionEnabled",workingOrdersVisible:"isWorkingOrdersEnabled",confirmationEnabled:"isConfirmationOn",validationEnabled:"isValidationOn",indicativeCostsConfirmsDismissed:"indicativeCostsConfirmsDismissed"});var O=C.prototype;O.confirmationEnabled=!0,O.openPositionsVisible=!0,O.workingOrdersVisible=!0,O.validationEnabled=!1,O.indicativeCostsConfirmsDismissed=!1,O._deviceSpecific=null,O._currentDeviceSettings=null,O.getDeviceSpecificSettings=function(){if(this._currentDeviceSettings)return this._currentDeviceSettings;var e=(0,p.getDeviceID)(),t=(0,c.find)(this._deviceSpecific,(function(t){return t.deviceId===e}));return t||(t=new A(void 0,this._eventBus,this._options)),this._currentDeviceSettings=t,t},O.setDeviceSpecificSettings=function(e){e instanceof A||(e=new A(e)),this._deviceSpecific=this._deviceSpecific.filter((function(t){return t.deviceId!==e.deviceId})),this._currentDeviceSettings=e,this._deviceSpecific.push(e),this._deviceSpecific.splice(0,this._deviceSpecific.length-C.MAX_DEVICE_SPECIFIC_SETTINGS)},O.getAggregateSetting=function(){return["usa","usi"].includes(g.default.getInstance().getWebSiteId())||!!this._aggregateEnabled},O.setAggregateSetting=function(e){this._aggregateEnabled=e},O.fromJSON=function(e){var t,i=C.PROPERTY_MAP;for(t in i)(0,_.isDefined)(e[i[t]])&&(this[t]=!!e[i[t]]);(0,_.isDefined)(e.deviceSpecific)?this._deviceSpecific=e.deviceSpecific.map(T.bind(null,this._eventBus,this._options)):this._deviceSpecific=[]},O.toJSON=function(){var e,t=this._deviceSpecific.filter((0,E.invoker)("isModified")),i=C.PROPERTY_MAP,n={};for(e in i)("indicativeCostsConfirmsDismissed"!==e||this[e])&&(n[i[e]]=this[e]);return t.length&&(n.deviceSpecific=t),n},O.isModified=function(){return Object.keys(this).some(I)||this._deviceSpecific.some((0,E.invoker)("isModified"))},Object.seal(O);const M=Object.seal(C);var y=i(85673),b=i(39842),S=i(77209),D=i(10608),w=i(88045),L=i(87587),R=i(14243),P=i(13167),N=i(44640),k=i(72157),x=i(65854),V=i(2274),B=i(19552),H=Object.freeze({DEFAULT:"DEFAULT",XSTOXX:"XSTOXX"}),W=/\.FREE$/;function F(e){return 0===(0,n.get)(e,"market.instrumentType","DEFAULT").indexOf("XSTOCKS_")&&(0,n.get)(e,"market.chartEpic")===this._currentEpic}function U(e,t,i,n,s){this._eventBus=e,this._settingsManager=s,"isSDKOwned"in t&&(this.isSDKOwned=!!t.isSDKOwned)}U.isShowingMultipleMarkets=function(){return g.default.getInstance().isMTF()},U.createIgTradingComponents=function(){var e=x.default.getInstance().getFlags(),t=!1===e.japanFxTickets||void 0===e.japanFxTickets&&void 0===e.japanTickets,i=g.default.getInstance(),n=y.default.getInstance(),s=b.default.getInstance(),r=new o.User(i.getAccountId(),i.getSsoToken(),i.getCstToken(),i.getLocale(),i.getWebSiteId(),i.getSiteType(),i.getProductCode(),t?void 0:i.getIgCompany(),i.getAssetClass(),i.getIsRetailAccount()),a=new o.Session(new o.Environment(s.getOrigin(),n.getApplicationType(),n.getClientPlatform(),n.getClientVersion(),n.getDeviceType(),n.getView(),s.getPath()),r,{forceJapaneseTicket:!!e.japanTickets,showIndicativeCosts2:!!e.showIndicativeCosts2,priceInSizeEnabled:!!e.priceInSizeEnabled,usePriceSubscription:!(!e.priceInSizeEnabled&&!e.usePriceSubscription)}),d=new o.LocalAccountStorage(a,"forceOpen"),u=i.getCstToken()?new o.UserPreferencesService(a,d):void 0;return{factory:new o.Factory(a,l(),void 0,u),user:r}},U.settingsParsers=Object.freeze({global:{moduleName:R.default.DEALING,parserClass:M}});var G=U.prototype;G.isSDKOwned=!0,G._currentMarket=null,G._currentMarketPromise=null,G._openPositionsTradePromise=null,G._eventBus=null,G._factory=null,G._positionStore=null,G._orderStore=null,G._user=null,G.dealingType=H.DEFAULT,G._openPositions=null,G._openPositionsClient=null,G._ticketsManager=null,G._workingOrders=null,G._workingOrdersClient=null,G._instrumentSubscription=null,G.withDealingComponents=function(e){this._factory=e.factory,this._positionStore=e.positionStore,this._orderStore=e.orderStore,this._user=e.user},G.init=function(){this._openPositions=d.default.create(),this._workingOrders=d.default.create(),this._ticketsManager=P.A.create(this._eventBus),this._eventBus.subscribe("chart/epic/changed",this._handleMarketChanged,this),this._eventBus.subscribe("chart/instrument/info",this._handleInstrumentInfo,this),this._eventBus.subscribe("chart/cleared",this.clearMarket,this),this._eventBus.subscribe(S.default.TRADE_TIMEOUT,this._reloadPositionsAndOrders,this)},G._initialiseFactory=function(){var e;this.isSDKOwned&&!this._factory&&(e=U.createIgTradingComponents(),this._factory=e.factory,this._user=e.user)},G._initialiseClients=function(e,t){var i=this.dealingType===H.XSTOXX?F:void 0;this._openPositionsClient||(this._openPositionsClient=e?D.Ay.create(this._factory,this._factory.getPositionGroupSubscription(),this._getInstrumentGroupSubscription(),this._positionStore,(0,E.invoker)("getPositionStore"),i,t?D.oN.KNOCKOUT_LEVEL:D.oN.DIRECTION):N.A.create(this._factory,this._factory.getPositionGroupSubscription(),this._getInstrumentGroupSubscription(),this.isPriceInSizeEnabled()?this._factory.getRepeatDealWindowGroupSubscription():null,this._positionStore,(0,E.invoker)("getPositionStore"),i)),this._workingOrdersClient||(this._workingOrdersClient=e?r.A.create(this._factory,this._factory.getOrderGroupSubscription(),this._getInstrumentGroupSubscription(),this._orderStore,(0,E.invoker)("getOrderStore"),i):k.A.create(this._factory,this._factory.getOrderGroupSubscription(),this._getInstrumentGroupSubscription(),this._orderStore,(0,E.invoker)("getOrderStore"),i))},G.getOpenPositions=(0,E.getter)("_openPositions"),G.getTotalOpenPositionsSize=function(e){return this.getOpenPositions().asArray().reduce((function(t,i){return i.trade.direction!==(0,V.toSign)(e)?t:t+i.trade.dealSize}),0)},G.getWorkingOrders=(0,E.getter)("_workingOrders"),G._getCurrentEpic=function(){return this._currentMarket&&this._currentMarket.getEpic()||null},G._handleMarketChanged=function(e){this.dealingType=e&&e.dealingType?e.dealingType:H.DEFAULT,this.clearMarket()},G._getInstrumentGroupSubscription=function(){const{priceInSizeEnabled:e,usePriceSubscription:t}=x.default.getInstance().getFlags();return this._instrumentSubscription||(this._instrumentSubscription=e||t?new s.A(this._factory.getInstrumentPriceGroupSubscription(),this._factory.getV4InstrumentGroupSubscription()):this._factory.getV2InstrumentGroupSubscription()),this._instrumentSubscription},G._handleInstrumentInfo=function(e){var t=this._settingsManager.getGlobalSettings(R.default.DEALING).getAggregateSetting();this._initialiseFactory(),this._epicToLoad=(e.remappedEpic||e.epic).replace(W,""),this._epicToLoad!==this._getCurrentEpic()&&(this._currentMarketPromise=this._factory.getMarketService().findByEpic(this._epicToLoad).then(function(e){var i=L.default.create(e);if(this._epicToLoad===i.getEpic()&&this._factory)return this._currentMarket=i,this._getInstrumentGroupSubscription().add(this._currentMarket.getInstrument()),this._initialiseClients(t,i.isKnockout()),this._openPositionsTradePromise=this._openPositionsClient.getTrades(U.isShowingMultipleMarkets()?void 0:this._currentMarket.getEpic(),this._handleTradeAdd.bind(this,"_openPositions"),this._handleTradeRemove.bind(this,"_openPositions")),this._workingOrdersClient.getTrades(U.isShowingMultipleMarkets()?void 0:this._currentMarket.getEpic(),this._handleTradeAdd.bind(this,"_workingOrders"),this._handleTradeRemove.bind(this,"_workingOrders")),this._eventBus.publish("dealing/market/change",[this._currentMarket],{retrospective:!0}),this._currentMarket}.bind(this)))},G._reloadPositionsAndOrders=function(){this._openPositionsClient.reload(),this._workingOrdersClient.reload()},G._handleTradeAdd=function(e,t){this[e]&&this[e].add(t.withModule(this))},G.loadDealingRules=function(e){var t=0!==Object.keys(e.dealingRules).length,i=this._currentMarket.getInstrument(),n=0!==Object.keys(i).length;t||(e.epic===i.epic&&n?e.setProperties({dealingRules:i.dealingRules}):this._factory.getMarketService().findByEpic(e.epic).then((function(t){e.setProperties({dealingRules:t.dealingRules})})))},G._handleTradeRemove=function(e,t){this[e]&&this[e].remove((0,E.propertyComparator)("dealId",t))},G.isPriceInSizeEnabled=function(){var e=g.default.getInstance();if(!1===x.default.getInstance().getFlags().priceInSizeEnabled)return!1;if(!this._currentMarket)return w.default.error("Cannot determine whether Price In Size functionality is enabled without a market"),!1;if(![B.default.CFD,B.default.SPREADBET].includes(e.getSiteType())||this._currentMarket.getInstrument().isKnockout||this._currentMarket.getInstrument().isKnockoutV2||this._currentMarket.getInstrument().isOption||this._currentMarket.getInstrument().instrumentType.includes("BINARY")||"SHARES"===this._currentMarket.getInstrument().instrumentType)return!1;const t=this._currentMarket.getInstrument().getPiSLadder(V.default.Term.BUY,this._currentMarket.getInstrument().ticketDefaultCurrency.name);return!!(t&&t.length>1||x.default.getInstance().getFlags().ignorePiSLadderAvailability)},G.getTicketDependencies=function(){return{dependenciesPromise:this._factory._dependenciesPromise,dealReferenceGenerator:this._factory._dealReferenceGenerator,confirmationClient:this._factory._confirmationStreamingClient,session:this._factory._session}},G.createOpenPositionTicket=function(){if(!this._currentMarket)throw new Error("Attempting to create open position ticket without current market");return this._createOpenPositionTicket().then(function(e){return this.initTicketMarginService(e),this.initTicketIndicativeCostsService(e),this.isPriceInSizeEnabled()&&this._factory.getRepeatDealWindowGroupSubscription().add(e),e}.bind(this)).then(this._setDefaultTicketProperties.bind(this))},G._createOpenPositionTicket=function(){var e;return this._user.isFifo?this._openPositionsTradePromise.then(function(){return e=this._openPositions.get(0)?this._openPositions.get(0).trade:null,this._factory.createOpenFifoPositionTicket(this._currentMarket.getInstrument(),e)}.bind(this)):this._factory.createOpenPositionTicket(this._currentMarket.getInstrument())},G._setDefaultTicketProperties=function(e){return e.isNewJapaneseTicket&&e.set("pointsThroughCurrent",null),e},G.initTicketIndicativeCostsService=function(e){const{showIndicativeCosts:t,showIndicativeCostsSG:i}=x.default.getInstance().getFlags();!t&&!i||e.indicativeCostsAndChargesService||e.set("indicativeCostsAndChargesService",this._factory.getIndicativeCostsAndChargesService())},G.initTicketMarginService=function(e){e.marginService||e.set("marginService",this._factory.getMarginService())},G.createEditPositionTicket=(0,E.delegate)("_factory","createEditPositionTicket"),G.createClosePositionTicket=function(e){return this._factory.createClosePositionTicket(e).then(function(e){return this.isPriceInSizeEnabled()&&this._factory.getRepeatDealWindowGroupSubscription().add(e),e}.bind(this)).then(this._setDefaultTicketProperties.bind(this))},G.createOpenOrderTicket=function(){if(!this._currentMarket)throw new Error("Attempting to create open order ticket without current market");return this._factory.createOpenOrderTicket(this._currentMarket.getInstrument()).then(function(e){return this.initTicketIndicativeCostsService(e),e}.bind(this)).then(this._setDefaultTicketProperties.bind(this))},G.createEditOrderTicket=function(e){return this._factory.createEditOrderTicket(e).then((function(e){return e.settings.forceExAnteOpenEndpointForEdits=!0,e}))},G.createDeleteOrderTicket=(0,E.delegate)("_factory","createDeleteOrderTicket"),G.submitTicket=(0,E.delegate)("_ticketsManager","submit"),G.clearMarket=function(){delete this._currentMarketPromise,this._currentMarket&&(this._eventBus.flush("dealing/market/change"),this._getInstrumentGroupSubscription().remove(this._currentMarket.getInstrument()),this._currentMarket.destroy(),delete this._currentMarket,this._openPositions.invokeApply("destroy"),this._workingOrders.invokeApply("destroy"),this._openPositions.clear(),this._workingOrders.clear(),this._openPositionsClient&&(this._openPositionsClient.destroy(),delete this._openPositionsClient),this._workingOrdersClient&&(this._workingOrdersClient.destroy(),delete this._workingOrdersClient),this._ticketsManager.abort()),delete this._instrumentSubscription,this.isSDKOwned&&this._factory&&(this._factory.destroy(),delete this._factory)},G.destroy=function(){this.clearMarket(),["_openPositions","_workingOrders","_ticketsManager"].forEach((function(e){this[e]&&(this[e].destroy(),delete this[e])}),this),this._eventBus.unsubscribeAll(this)},Object.seal(G);const j=Object.seal(U)},84811:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>n});const n=new(i(95151).default)({de:{share:"Aktie",shares:"Aktien",contract:"Kontrakt",contracts:"Kontrakte",labelStop:"Stop",labelGuaranteedStop:"Garantierter Stop",labelTrailingStop:"Trailing Stop",labelLimit:"Limit",labelPointsAway:"Pkt. entfernt",labelLevel:"level",labelBuy:"Kauf",labelSell:"Verkauf",iccInfoBox:"Stop/Limit-Kosten fallen erst bei der Schließung eines Trades an.",totalIndicativeOpeningCostsTitle:"Vorläufige Eröffnungskosten",totalIndicativeClosingCostsTitle:"Vorläufige Abschlusskosten",indicativeCostsDetailsLink:"Vollständige Kostendetails anzeigen",loadingIndicativeCosts:"Indikative Kosten und Gebühren werden geladen…"},en:{share:"share",shares:"shares",contract:"contract",contracts:"contracts",labelStop:"Stop",labelGuaranteedStop:"Guaranteed Stop",labelTrailingStop:"Trailing Stop",labelLimit:"Limit",labelPointsAway:"pts away",labelLevel:"level",labelBuy:"Buy",labelSell:"Sell",iccInfoBox:"Stop/limit costs are applied at trade closing, not now.",totalIndicativeOpeningCostsTitle:"Indicative opening costs",totalIndicativeClosingCostsTitle:"Indicative closing costs",indicativeCostsDetailsLink:"View full cost details",loadingIndicativeCosts:"Loading indicative costs and charges…",iccSGLinkTitle:"Fees and charges apply.",iccSGLink:"Learn more"},en_US:{contract:"lot",contracts:"lots",labelStop:"Stop Loss",labelGuaranteedStop:"Guaranteed Stop Loss",labelTrailingStop:"Trailing Stop Loss",labelLimit:"Take Profit",labelPointsAway:"pips away"},es:{share:"acción",shares:"acciones",contract:"contrato",contracts:"contratos",labelStop:"Stop",labelGuaranteedStop:"Stop Garantizado",labelTrailingStop:"Distancia y oscilación",labelLimit:"Límite",labelPointsAway:"pts distancia",labelLevel:"nivel",labelBuy:"Comprar",labelSell:"Vender",iccInfoBox:"Los costes de stop/límites no se aplican en este momento, sino al cierre de la operación.",totalIndicativeOpeningCostsTitle:"Costes de apertura indicativos",totalIndicativeClosingCostsTitle:"Costes de cierre indicativos",indicativeCostsDetailsLink:"Ver detalle completo de costes",loadingIndicativeCosts:"Cargando costes y precios indicativos…"},fr:{share:"action",shares:"actions",contract:"contrat",contracts:"contrats",labelStop:"Stop",labelGuaranteedStop:"Stop Garanti",labelTrailingStop:"Stop suiveur",labelLimit:"Limite",labelPointsAway:"dist en pts",labelLevel:"cours",labelBuy:"Achat",labelSell:"Vente",iccInfoBox:"Les coûts Stop/Limite seront appliqués à la clôture de la position.",totalIndicativeOpeningCostsTitle:"Coûts d'ouverture indicatifs",totalIndicativeClosingCostsTitle:"Coûts de clôture indicatifs",indicativeCostsDetailsLink:"Consulter le détail des frais et commissions",loadingIndicativeCosts:"Chargement des frais et commissions indicatifs…"},it:{share:"azione",shares:"azioni",contract:"contratto",contracts:"contratti",labelStop:"Stop",labelGuaranteedStop:"Stop garantito",labelTrailingStop:"Trailing Stop",labelLimit:"Limite",labelPointsAway:"distanza pti",labelLevel:"prezzo",labelBuy:"Compra",labelSell:"Vendi",iccInfoBox:"I costi di stop/limite non verranno applicati in questo momento, ma alla chiusura dell'operazione.",totalIndicativeOpeningCostsTitle:"Costi di apertura indicativi",totalIndicativeClosingCostsTitle:"Costi di chiusura indicativi",indicativeCostsDetailsLink:"Consulta i dettagli di costi e commissioni",loadingIndicativeCosts:"Caricamento di costi e commissioni indicativi…"},ja:{share:"ロット",shares:"ロット",contract:"ロット",contracts:"ロット",labelStop:"逆指値",labelGuaranteedStop:"ノースリッページ注文",labelTrailingStop:"トレーリングストップ",labelLimit:"指値",labelPointsAway:"ポイントの値幅",labelLevel:"レート",labelBuy:"買い",labelSell:"売り",iccInfoBox:"ストップ／リミットの実際のコストは、取引決済時の市場状況等に基づいて決定されます。",totalIndicativeOpeningCostsTitle:"取引決済時コスト ( 概算 )",totalIndicativeClosingCostsTitle:"取引開始時コスト ( 概算 )",indicativeCostsDetailsLink:"コスト詳細を見る",loadingIndicativeCosts:"読み込み中"},nl:{share:"aandeel",shares:"aandelen",contract:"contracten",contracts:"contracten",labelStop:"Stop",labelGuaranteedStop:"Gegarandeerde stop",labelTrailingStop:"Trailing Stop",labelLimit:"Limiet",labelPointsAway:"afstand",labelLevel:"niveau",labelBuy:"Koop",labelSell:"Verkoop",iccInfoBox:"De kosten van stop- en limietorders worden bij het sluiten van een transactie in rekening gebracht, niet nu.",totalIndicativeOpeningCostsTitle:"Indicatieve openingskosten",totalIndicativeClosingCostsTitle:"Indicatieve sluitingskosten",indicativeCostsDetailsLink:"Bekijk volledige kostendetails",loadingIndicativeCosts:"Indicatieve kosten en tarieven worden geladen…"},nb:{share:"aksje",shares:"aksjer",contract:"kontrakt",contracts:"kontrakter",labelStop:"Stop",labelGuaranteedStop:"Garantert Stop",labelTrailingStop:"Trailing Stop",labelLimit:"Limit",labelPointsAway:"pkt differanse",labelLevel:"nivå",labelBuy:"Kjøp",labelSell:"Selg",iccInfoBox:"Stopp/begrens-kostnader utføres ved handelslukking, ikke nå.",totalIndicativeOpeningCostsTitle:"Indikative kostnader ved åpning",totalIndicativeClosingCostsTitle:"Indikative kostnader ved lukking",indicativeCostsDetailsLink:"Se fullstendig oversikt over kostnader",loadingIndicativeCosts:"Laster veiledende kostnader og avgifter…"},pt:{share:"acção",shares:"acções",contract:"contrato",contracts:"contratos",labelStop:"Stop",labelGuaranteedStop:"Stop Garantido",labelTrailingStop:"Stop Dinâmico",labelLimit:"Limite",labelPointsAway:"pts de distância",labelLevel:"preço",labelBuy:"Comprar",labelSell:"Vender",iccInfoBox:"Os custos do stop/limite aplicam-se no encerramento da negociação, não agora.",totalIndicativeOpeningCostsTitle:"Custos de abertura indicativos",totalIndicativeClosingCostsTitle:"Cutos de encerramento indicativos",indicativeCostsDetailsLink:"Ver detalhes completos dos custos",loadingIndicativeCosts:"A carregar custos e taxas indicativos…"},sv:{share:"aktie",shares:"aktier",contract:"kontrakt",contracts:"kontrakt",labelStop:"Stopp",labelGuaranteedStop:"Garanterade stopp",labelTrailingStop:"Dynamisk stopp",labelLimit:"Limit",labelPointsAway:"Pkt iväg",labelLevel:"nivå",labelBuy:"Köpa",labelSell:"Sälja",iccInfoBox:"Stop/limit avgifter tas ut när positionen stängs, inte nu.",totalIndicativeOpeningCostsTitle:"Indikativ öppningskostnad",totalIndicativeClosingCostsTitle:"Indikativ stängningskosnad",indicativeCostsDetailsLink:"Fullständiga kostnadsdetaljer",loadingIndicativeCosts:"Laddar indikativa kostnader och avgifter…"},zh:{share:"股",shares:"股",contract:"份合约",contracts:"份合约",labelStop:"止损",labelGuaranteedStop:"保证停损",labelTrailingStop:"跟踪止损",labelLimit:"限价",labelPointsAway:"距离开仓价",labelLevel:"价位",labelBuy:"买入",labelSell:"卖出"},zh_TW:{share:"股",shares:"股",contract:"份合约",contracts:"份合约",labelStop:"止損",labelGuaranteedStop:"保證止損",labelTrailingStop:"跟蹤止損",labelLimit:"限價",labelPointsAway:"距離開倉價",labelLevel:"价位",labelBuy:"買入",labelSell:"賣出"}})},95158:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>v});var n=i(43130),s=i(47292),r=i(12990),o=i(43800),a=i(12488),l=r.A.extend(Object.assign((function(e,t,i,n){this._settingsManager=i}),{__constructorTransform:function(e,t,i,n){return[e,t,n]}}),s.default);l.create=function(e,t,i,n){return new l(e,t,i,n)};var d=l.prototype;d._getDialogClasses=(0,n.constant)("dealingSettings"),d._getDialogTitle=function(){return a.default.get("settingsDialogTitle")},d._createContent=function(e){return o.A.create(this,this._eventBus,this._captureZoneManager,this._taskManager,this._settingsManager).initDom(e)},Object.seal(d);const u=Object.seal(l);var c=i(28952),h=r.A.extend((function(e,t,i,n){this._enableCallback=n}),s.default);h.create=function(e,t,i,n){return new h(e,t,i,n)};var p=h.prototype;p._enableCallback=null,p._getDialogClasses=(0,n.constant)("enableDealing"),p.done=function(){h.superclass.done.call(this),this._enableCallback()},p._getDialogTitle=function(){return a.default.get("enableDealingDialogTitle")},p._createContent=function(e){return c.A.create(this,this._eventBus,this._captureZoneManager,this._taskManager).initDom(e)},Object.seal(p);const _=Object.seal(h);var g=i(14243);function f(e,t,i,n,s){this._eventBus=e,this._captureZoneManager=t,this._containerProvider=i,this._settingsManager=n,this._taskManager=s,this._eventBus.subscribe("menu/item/switch",this._handleMenuItemSwitch,this)}f.create=function(e,t,i,n,s){return new f(e,t,i,n,s)};var m=f.prototype;m._eventBus=null,m._captureZoneManager=null,m._containerProvider=null,m._settingsManager=null,m._dialog=null,m._taskManager=null,m.showDialog=function(e){this._dialog=_.create(this._eventBus,this._captureZoneManager,this._taskManager,this._handleDealingEnabled.bind(this,!0,e)).initDom(this._containerProvider.getContainer("top-html")).makeScrollable()},m.showSettingsDialog=function(){this._dialog=u.create(this._eventBus,this._captureZoneManager,this._settingsManager,this._taskManager).initDom(this._containerProvider.getContainer("top-html"),!0)},m.enableDealing=function(e){this._handleDealingEnabled(!0,e)},m.disableDealing=function(){this._handleDealingEnabled(!1)},m._handleDealingEnabled=function(e,t){this._settingsManager.changeAccountSettings(g.default.DEALING,(function(t){var i=t.getDeviceSpecificSettings();return i.dealingEnabled=e,t.setDeviceSpecificSettings(i),!0}),!0),t&&t()},m._handleMenuItemSwitch=function(e,t){"dealing"!==e||t||this._dialog&&this._dialog.destroy()},m.isDealingEnabled=function(){return this._settingsManager.getGlobalSettings("tradingModule").getDeviceSpecificSettings().dealingEnabled},m.destroy=function(){this._eventBus.unsubscribeAll(this),this._dialog&&(this._dialog.destroy(),this._dialog=null)},Object.seal(m);const v=Object.seal(f)},31347:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>d});var n=i(12990),s=i(19552),r=i(289),o=i(17660),a=n.A.extend((function(){}),r.default);a.TOGGLED="toggled";var l=a.prototype;l.showEditButtons=!1,l.init=function(){this._setFeatureFlag(this._isFeatureAllowed())},l.destroy=function(){this._setFeatureFlag(!1)},l._isFeatureAllowed=function(){var e=o.default.getInstance().getSiteType();return!e||e===s.default.CFD||e===s.default.SPREADBET},l._setFeatureFlag=function(e){this.showEditButtons=e,this.fire(a.TOGGLED,e)},Object.seal(l);const d=Object.seal(a)},56396:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>_});var n=i(90642),s=i(45600),r=i(2610),o=i(97454),a=i(994),l=i(20750),d=i(58364),u=i(17660),c=i(300),h=i(9966),p={createPositionViewModel:function(e,t){if(e instanceof s.default)return e.getInstrument().isKnockout?"usa"===u.default.getInstance().getWebSiteId()?a.A.create(e,t):n.default.create(e,t):r.default.create(e,t);if(e instanceof l.default)return d.A.create(e,t);if(e instanceof o.default)return e.isDMA?h.A.create(e,t):c.default.create(e,t);throw new Error("Unable to decide what view model to instantiate.")}};const _=Object.seal(p)},12488:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>a});var n=i(43130),s=i(95151),r=i(61346),o={de:{closeAt:"Schließen bei {price}",currentSizeAt:"{size} zu {price}",closeButton:"Schließen",closeConfirmationButton:"OK",closeConfirmationBuyButton:"Kauf",closeConfirmationSellButton:"Verkauf",deleteButton:"Löschen",enable:"Handel aktivieren",enableDealingDialogTitle:"Handel aus dem Chart",enableDealing:'<p>Handel über Charts aktivieren?</p><p>Wenn die Handelsfunktion aktiviert ist, können Sie folgende Aktionen direkt über die Charts ausführen:</p><ul class="bullet-list"><li>Positionen öffnen oder schließen</li><li>Hinterlegte Orders bearbeiten oder löschen</li><li>Stops und Limits hinzufügen oder bearbeiten</li></ul><p>Sie können den Handel über Charts jederzeit deaktivieren.</p><p>Bevor Sie diesen Dienst aktivieren, navigieren Sie zu den AGB auf der Website und lesen Sie den Differenzhandelsvertrag, insbesondere den Teil &quot;Elektronische Transaktionen&quot;, gründlich durch.</p>',noThanks:"Nein danke",settingsDialogTitle:"Einstellungen",tradeConfirmsLabel:"Jede einzelne Positionsschließung bestätigen",tradeConfirmsWarningContent:'<p>Bestätigungen abstellen?</p><p>Wir schließen Ihre Position sofort, wenn Sie auf die Schaltfläche "Schließen" tippen, ohne Sie um eine Bestätigung zu bitten.</p><p>Sie werden keine Möglichkeit haben abzubrechen.</p>',tradeConfirmsWarningContentOptions:'<p>Bestätigungen abstellen?</p><p>Wir schließen Ihre Position sofort, wenn Sie auf die Schaltfläche "Schließen" tippen, ohne Sie um eine Bestätigung zu bitten.</p><p>Sie werden keine Möglichkeit haben abzubrechen.</p><p>Die Kommission wird weiterhin wie gewohnt erhoben, aber die Gebühren sind vor Abschluss des Geschäfts nicht einsehbar.</p>',tradeConfirmsWarningConfirm:"Deaktivieren",unableToProcessDeal:"Entschuldigung, wir konnten Ihren Trade nicht durchführen.",stopLevelInitial:"S",abbrStopLevelTrailing:"T Stop",abbrStopLevelGuaranteed:"G Stop",limitLevelInitial:"L",knockout:"KO",strikeLine:"Strike Line",ticketCancel:"Abbrechen",ticketSubmit:"Abschicken",positionTicketSubmit:"Trade platzieren",oneCancelsOtherStop:"OCO Stop",oneCancelsOtherStopMobile:"OCO S",oneCancelsOtherLimit:"OCO Limit",oneCancelsOtherLimitMobile:"OCO L",openPositionDialogTitle:"Offene Position",workingOrderDialogTitle:"Zu eröffnende Order",labelOrderLevel:"Order-Level",closePosition:"Position schließen",limitInvalid:"Bitte geben Sie ein Limit Level größer als 0 ein.",limitTooFar:"Der von Ihnen erwünschte Limit-Abstand befindet sich zu weit vom aktuellen Marktlevel.",limitWrongSide:"Das Limit Level befindet sich auf der falschen Seite des aktuellen Marktpreises.",stopInvalid:"Bitte geben Sie ein Stop-Wert höher als 0 ein.",stopRequired:"Geben Sie einen Stop-Abstand ein",stopTooClose:"Bitte geben Sie eine Stop-Abstand größer als {min} ein",stopTooFar:"Der von Ihnen erwünschte Stop-Abstand befindet sich zu weit vom aktuellen Marktlevel.",stopWrongSide:"Das Stop Level befindet sich auf der falschen Seite des aktuellen Marktpreises.",guaranteedStopMoveAway:"Der von Ihnen gewünschte Stopp Level liegt näher am Markt. Wenn der Markt geschlossen ist, können Sie den Auftrag nur weiter weg von dem gegenwärtigen Marktlevel setzen.",trailingStopTooFar:"Dieser Stop-Level kann mit diesem Trailing Stop nicht eingeben werden. Ihr Stop-Level sollte näher am aktuellen Kurs liegen als (Stop-Abstand + Schritt).",openPositionRemoved:"Diese Position ist bereits geschlossen und kann nicht mehr bearbeitet werden.",workingOrderMissingLevel:"Geben Sie bitte ein Level an.",workingOrderRemoved:"Diese Order wurde bereits ausgefüllt oder gelöscht und kann nicht mehr bearbeitet werden.",workingOrderWrongDirection:"Die von Ihnen ausgewählte Orderart ist in Verbindung mit der erwünschten Richtung und dem Order Level nicht gültig.",workingOrderTooFar:"Das erwünschte Order-Level ist zu weit vom aktuellen Level entfernt.",bubbleStopTooFar:"Max. Stop-Abstand {distance}",bubbleStopTooClose:"Min. Stop-Abstand {distance}",bubbleKnockoutBull:"Min. Stop Level {level}",bubbleKnockoutBear:"Max. Stop Level {level}",bubbleAbbrvStop:"Stop ungültig",riskRewardRatio:"Risiko/Chance-Verhältnis",abbrRiskRewardRatio:"R/C",point:"pt",points:"Pkt.",indicativeForcedDialogTitle:"Änderung beim Handel aus den Charts",indicativeForcedDialogContent:"<p>Aufgrund von gesetzlichen Änderungen können Sie eine Position nicht mehr direkt aus dem Chart schließen.</p><p>Jetzt müssen Sie die Details des Trades einsehen und bestätigen, bevor Sie ihn schließen.</p>",indicativeForcedDialogCheckbox:"Ich habe diese Änderung verstanden",indicativeForcedDialogConfirm:"Handeln nach Bestätigung",setLevelForIcc:"Level für die Anzeige der indikativen Kosten und Gebühren einstellen",spreadTable:"Spread-Tabelle",upTo:"Bis zu",spread:"Spread",recentTrades:"Neueste Trades:",spreadTableTooltip:"Ihr Spread basiert auf der Positionsgröße, wobei größere Positionen zu höheren Spreads erhältlich sind.",recentTradesTooltip:"Die Spread-Berechnung berücksichtigt Ihre letzten Trades und wird aktualisiert, sobald der Timer abläuft."},en:{closeAt:"Close at {price}",currentSizeAt:"{size} at {price}",closeButton:"Close",closeConfirmationButton:"OK",closeConfirmationBuyButton:"Buy",closeConfirmationSellButton:"Sell",deleteButton:"Delete",enable:"Activate dealing",enableDealingDialogTitle:"Dealing on charts",enableDealing:'<p>Activate dealing on charts?</p><p>With dealing on charts activated, you can do all of the following straight from a chart:</p><ul class="bullet-list"><li>Open or close a position</li><li>Edit or delete a working order</li><li>Add or edit stops and limits</li></ul><p>You can disable dealing on charts at any time.</p><p>Before activating this service, please read our Customer Agreement, in the &quot;Terms and Agreements&quot; area of our website, paying particular attention to the &quot;Electronic Transactions&quot; section.</p>',noThanks:"No thanks",settingsDialogTitle:"Settings",tradeConfirmsLabel:"Confirm before closing each position",tradeConfirmsWarningContent:"<p>Turn confirms off?</p><p>We'll close your position immediately when you tap the ‘close’ button, without asking you to confirm your choice.</p><p>You won’t get the chance to cancel.</p>",tradeConfirmsWarningContentOptions:"<p>Turn confirms off?</p><p>We'll close your position immediately when you tap the ‘close’ button, without asking you to confirm your choice.</p><p>You won’t get the chance to cancel.</p><p>Commission is still applied as normal, but you can’t see the charges before the deal is placed.</p>",tradeConfirmsWarningConfirm:"Turn off",unableToProcessDeal:"Sorry, we were unable to process your deal.",stopLevelInitial:"S",abbrStopLevelTrailing:"T Stop",abbrStopLevelGuaranteed:"G Stop",limitLevelInitial:"L",knockout:"KO",strikeLine:"Strike Line",ticketCancel:"Cancel",ticketSubmit:"Submit",positionTicketSubmit:"Place deal","good-till-format":"dd/MM/yy HH:mm","good-till-received-format":"dd/MM/yy HH:mm",dmaTimeInForceDay:"Day",dmaTimeInForceGTC:"GTC",oneCancelsOtherStop:"OCO Stop",oneCancelsOtherStopMobile:"OCO S",oneCancelsOtherLimit:"OCO Limit",oneCancelsOtherLimitMobile:"OCO L",openPositionDialogTitle:"Open Position",workingOrderDialogTitle:"Working Order",labelOrderLevel:"Order Level",closePosition:"Close position",limitInvalid:"Please enter a limit level greater than zero.",limitTooFar:"The limit distance you have requested is too far from the current market level.",limitWrongSide:"Limit level is on the wrong side of the current market price.",stopInvalid:"Please enter a stop value greater than zero.",stopRequired:"Please enter a stop distance",stopTooClose:"Please enter a stop distance greater than {min}",stopTooFar:"The stop distance you have requested is too far from the current market level.",stopWrongSide:"Stop level is on the wrong side of the current market price.",guaranteedStopMoveAway:"The stop level you have requested is closer to the market. When the market is closed you can only move the order further away from the current market level.",trailingStopTooFar:"You cannot enter this Stop Level with this Trailing Stop. Your Stop Level should be closer to the Current Level than (Stop Distance + Step).",openPositionRemoved:"This position has already been closed and can no longer be amended.",workingOrderMissingLevel:"Please enter a Level.",workingOrderRemoved:"This order has already been filled or deleted and can no longer be amended.",workingOrderWrongDirection:"The order type you have chosen is invalid in relation to the requested Direction and Order Level.",workingOrderTooFar:"The requested order level is too far from the current level.",bubbleStopTooFar:"Max. stop distance {distance}",bubbleStopTooClose:"Min. stop distance {distance}",bubbleKnockoutBull:"Min. stop level {level}",bubbleKnockoutBear:"Max. stop level {level}",bubbleAbbrvStop:"Invalid stop",riskRewardRatio:"Risk/reward ratio",abbrRiskRewardRatio:"R/R",point:"pt",points:"pts",indicativeForcedDialogTitle:"Changes to dealing on charts",indicativeForcedDialogContent:"<p>Regulatory changes mean you can’t close a position straight from the chart anymore.</p><p>You must now view and confirm the trade details screen before closing.</p>",indicativeForcedDialogCheckbox:"I understand this change",indicativeForcedDialogConfirm:"Trade with confirm",setLevelForIcc:"Set level to view indicative costs and charges",spreadTable:"Spread table",upTo:"Up to",spread:"Spread",recentTrades:"Recent trades",spreadTableTooltip:"Your spread is based on trade size, with larger sizes available at wider spreads.",recentTradesTooltip:"Your spread calculation includes your recent trades and will refresh when the timer expires."},en_US:{unableToProcessDeal:"Sorry, we were unable to process your trade.",stopLevelInitial:"SL",abbrStopLevelTrailing:"T Stop Loss",abbrStopLevelGuaranteed:"G Stop Loss",limitLevelInitial:"TP",positionTicketSubmit:"Place trade","good-till-format":"MM/dd/yy hh:mm a","good-till-received-format":"MM/dd/yy HH:mm",oneCancelsOtherStop:"OCO Stop",oneCancelsOtherStopMobile:"OCO S",oneCancelsOtherLimit:"OCO Limit",oneCancelsOtherLimitMobile:"OCO L",openPositionDialogTitle:"Position",workingOrderDialogTitle:"Order",limitInvalid:"Please enter a take profit level greater than zero.",limitTooFar:"The take profit distance you have requested is too far from the current market level.",limitWrongSide:"Take profit level is on the wrong side of the current market price.",stopInvalid:"Please enter a stop loss value greater than zero.",stopRequired:"Please enter a stop loss distance",stopTooClose:"Please enter a stop loss distance greater than {min}",stopTooFar:"The stop loss distance you have requested is too far from the current market level.",stopWrongSide:"Stop loss level is on the wrong side of the current market price.",guaranteedStopMoveAway:"The stop loss level you have requested is closer to the market. When the market is closed you can only move the order further away from the current market level.",trailingStopTooFar:"You cannot enter this Stop Loss Level with this Trailing Stop Loss. Your Stop Loss Level should be closer to the Current Level than (Stop Loss Distance + Step).",bubbleStopTooFar:"Max. stop loss distance {distance}",bubbleStopTooClose:"Min. stop loss distance {distance}",bubbleKnockoutBull:"Min. stop loss level {level}",bubbleKnockoutBear:"Max. stop loss level {level}",bubbleAbbrvStop:"Invalid stop loss",point:"pip",points:"pips"},es:{closeAt:"Cerrar en {price}",currentSizeAt:"{size} en {price}",closeButton:"Cerrar",closeConfirmationButton:"OK",closeConfirmationBuyButton:"Comprar",closeConfirmationSellButton:"Vender",deleteButton:"Eliminar",enable:"Activar función",enableDealingDialogTitle:"Operar desde gráficos",enableDealing:'<p>¿Activar &quot;operar desde los gráficos&quot;?</p><p>Al activar esta opción, podrá realizar las siguientes acciones directamente desde un gráfico:</p><ul class="bullet-list"><li>Abrir o cerrar una posición</li><li>Editar or eliminar una orden en ejecución</li><li>Añadir o editar stops y límites</li></ul><p>Puede desactivar &quot;operar desde los gráficos&quot; en cualquier momento. </p><p>Antes de activar este servicio, por favor lea nuestro Contrato con el Cliente, en el apartado &quot;Términos y Condiciones&quot; de nuestra página web, prestando particular atención a la sección &quot;Transacciones electrónicas&quot;.</p>',noThanks:"No, gracias",settingsDialogTitle:"Preferencias",tradeConfirmsLabel:"Confirme cada transacción antes de cerrarla",tradeConfirmsWarningContent:"<p>¿Quiere desactivar las confirmaciones?</p><p>Si lo hace, cerraremos sus posiciones inmediatamente después de pulsar el botón de 'cerrar', sin pedirle que confirme su elección.</p><p>No tendrá, por tanto, oportunidad de cancelar sus órdenes.</p>",tradeConfirmsWarningContentOptions:"<p>¿Quiere desactivar las confirmaciones?</p><p>Si lo hace, cerraremos sus posiciones inmediatamente después de pulsar el botón de 'cerrar', sin pedirle que confirme su elección.</p><p>No tendrá, por tanto, oportunidad de cancelar sus órdenes.</p><p>Se aplica una comisión normal, pero no puede ver los costes hasta que realice la operación.</p>",tradeConfirmsWarningConfirm:"Desactivar",unableToProcessDeal:"Disculpe, no ha sido posible procesar su operación.",stopLevelInitial:"S",abbrStopLevelTrailing:"S Dinámico",abbrStopLevelGuaranteed:"S Garantizado",limitLevelInitial:"L",knockout:"KO",strikeLine:"Strike Line",ticketCancel:"Cancelar",ticketSubmit:"Enviar",positionTicketSubmit:"Realizar operación",oneCancelsOtherStop:"OCO Stop",oneCancelsOtherStopMobile:"OCO S",oneCancelsOtherLimit:"OCO Limit",oneCancelsOtherLimitMobile:"OCO L",openPositionDialogTitle:"Posición abierta",workingOrderDialogTitle:"Orden en proceso",labelOrderLevel:"Nivel",closePosition:"Cerrar posición",limitInvalid:"Introduzca un nivel de límite mayor que cero.",limitTooFar:"El nivel de límite que ha solicitado está demasiado lejos del nivel actual del mercado.",limitWrongSide:"El nivel del límite está en la posición contraria al precio actual de mercado.",stopTooClose:"Por favor, introduzca una distancia para el stop mayor que {min}",stopInvalid:"Introduzca un nivel de stop mayor que cero.",stopRequired:"Por favor, introduzca una distancia para el stop",stopTooFar:"El nivel de stop que ha solicitado está demasiado lejos del nivel actual del mercado.",stopWrongSide:"El nivel del stop está en la posición contraria al precio actual de mercado.",guaranteedStopMoveAway:"El nivel de Stop solicitado está acercándose al nivel del mercado. Cuando el mercado está cerrado, usted sólo puede mover la orden más lejos.",trailingStopTooFar:"No puede poner este nivel de Stop con este Stop Dinámico. Su nivel de Stop debería estar más cerca del nivel actual que la (Distancia de Stop + nivel de oscilación).",openPositionRemoved:"Esta posición ha sido cerrada y ya no puede cambiarse.",workingOrderMissingLevel:"Por favor, introduzca un nivel.",workingOrderRemoved:"Esta orden ya ha sido cubierta o eliminada y no puede ser cambiada.",workingOrderWrongDirection:"El tipo de orden que ha elegido no es válida por la dirección y el nivel de la misma.",workingOrderTooFar:"El nivel seleccionado está muy lejos del nivel actual.",bubbleStopTooFar:"Distancia máx. del stop {distance}",bubbleStopTooClose:"Distancia mín. del stop {distance}",bubbleKnockoutBull:"Nivel de stop mín. {level}",bubbleKnockoutBear:"Nivel de stop máx. {level}",bubbleAbbrvStop:"Stop inválido",riskRewardRatio:"Ratio beneficio / riesgo",abbrRiskRewardRatio:"R/RB",point:"pt",points:"ptos",indicativeForcedDialogTitle:"Cambios en la operativa sobre gráficos",indicativeForcedDialogContent:"<p>Los cambios regulatorios conllevan que ya no es posible cerrar una posición directamente desde un gráfico.</p><p>Antes de cerrar, tienes que ver y confirmar la pantalla con los datos de la operación.</p>",indicativeForcedDialogCheckbox:"Comprendo este cambio",indicativeForcedDialogConfirm:"Operación con confirmación",setLevelForIcc:"Fijar nivel de visualización de costes y precios indicativos",spreadTable:"Tabla de spreads",upTo:"Hasta",spread:"Spread",recentTrades:"Operaciones recientes:",spreadTableTooltip:"Tu spread se basa en el tamaño de la operación: si se tienen spreads más amplios, hay mayores tamaños disponibles.",recentTradesTooltip:"El cálculo de tu spread incluye tus operaciones recientes y se actualizará cuando expire el temporizador."},fr:{closeAt:"Clôture à {price}",currentSizeAt:"{size} à {price}",closeButton:"Fermer",closeConfirmationButton:"OK",closeConfirmationBuyButton:"Acheter",closeConfirmationSellButton:"Vendre",deleteButton:"Supprimer",enable:"Activer",enableDealingDialogTitle:"Passage d'ordre sur graphiques",enableDealing:"<p>Activer le passage d'ordre sur graphiques?</p><p>Si vous activez le passage d'ordre sur graphiques, vous pourrez effectuer les opérations suivantes directement depuis les graphiques:</p><ul class=\"bullet-list\"><li>Ouvrir ou fermer une position</li><li>Modifier ou supprimer un ordre limité</li><li>Ajouter ou modifier des ordres stops et limites</li></ul><p>Vous pourrez désactiver le passage d'ordre sur graphiques à tout moment.</p><p>Avant d'activer cette fonctionnalité, veuillez lire attentivement nos Conditions Générales, notamment la section &quot;Transactions électroniques&quot;, disponibles dans la rubrique &quot;Conditions&quot; de notre site internet.</p>",noThanks:"Non merci",settingsDialogTitle:"Réglages",tradeConfirmsLabel:"Confirmer avant de clôturer chaque position",tradeConfirmsWarningContent:"<p>Désactiver les confirmations?</p><p>Vos positions seront automatiquement clôturées lorsque vous appuierez sur le bouton «Clôturer», sans demande de confirmation de votre part.</p><p>Vous ne serez pas en mesure d'annuler.</p>",tradeConfirmsWarningContentOptions:"<p>Désactiver les confirmations?</p><p>Vos positions seront automatiquement clôturées lorsque vous appuierez sur le bouton «Clôturer», sans demande de confirmation de votre part.</p><p>Vous ne serez pas en mesure d'annuler.</p><p>La commission continue de s'appliquer normalement, toutefois, vous ne pourrez pas voir les frais correspondants avant que l'ordre soit placé.</p>",tradeConfirmsWarningConfirm:"Désactiver",unableToProcessDeal:"Désolé, nous n'avons pas pu traiter votre ordre.",stopLevelInitial:"S",abbrStopLevelTrailing:"Stop S",abbrStopLevelGuaranteed:"Stop G",limitLevelInitial:"L",knockout:"KO",strikeLine:"Strike Line",ticketCancel:"Annuler",ticketSubmit:"Valider",positionTicketSubmit:"Placer un ordre",oneCancelsOtherStop:"OCO Stop",oneCancelsOtherStopMobile:"OCO S",oneCancelsOtherLimit:"OCO Limit",oneCancelsOtherLimitMobile:"OCO L",openPositionDialogTitle:"Position ouverte",workingOrderDialogTitle:"Ordre Limité",labelOrderLevel:"Cours",closePosition:"Clôturer la position",limitInvalid:"Veuillez renseigner un niveau de limite supérieur à zéro.",limitTooFar:"La Limite requise est trop éloignée du niveau actuel de marché.",limitWrongSide:"Le niveau de la limite n'est pas placé correctement par rapport au cours actuel du marché",stopInvalid:"Veuillez renseigner un niveau de stop supérieur à zéro.",stopRequired:"Veuillez entrer la distance au stop",stopTooClose:"Veuillez entrer une distance au stop supérieure à {min}",stopTooFar:"Le stop requis est trop éloigné du niveau actuel de marché.",stopWrongSide:"Le niveau de stop n'est pas placé correctement par rapport au cours actuel du marché",guaranteedStopMoveAway:"Le niveau de stop requis est plus près du marché. Lorsque le marché est fermé, vous pouvez uniquement éloigner l'ordre du niveau actuel du marché.",trailingStopTooFar:"Ce niveau de Stop n’est pas cohérent avec le Stop Suiveur. Le niveau de votre Stop doit être plus près du cours actuel que (distance de Stop + Pas).",openPositionRemoved:"Cette position a été clôturée et ne peut plus être modifiée.",workingOrderMissingLevel:"Veuillez saisir un niveau.",workingOrderRemoved:"Cet ordre a déjà été rempli ou supprimé et ne peut plus être modifié.",workingOrderWrongDirection:"Le type d'ordre que vous avez sélectionné est invalide en raison du sens et du niveau de cours.",workingOrderTooFar:"Le cours requis pour cet ordre est trop éloigné du niveau actuel du marché.",bubbleStopTooFar:"Distance max. du stop {distance}",bubbleStopTooClose:"Distance min. du stop {distance}",bubbleKnockoutBull:"Niveau min. de stop {level}",bubbleKnockoutBear:"Niveau max. de stop {level}",bubbleAbbrvStop:"Stop invalide",riskRewardRatio:"Ratio risque/rendement",abbrRiskRewardRatio:"R/R",point:"pt",points:"pts",indicativeForcedDialogTitle:"Modifications apportées aux graphiques interactifs",indicativeForcedDialogContent:"<p>En raison de changements réglementaires, il n'est plus possible de fermer une position directement depuis le graphique.</p><p>Vous devez désormais afficher et confirmer les détails de votre ordre avant sa clôture.</p>",indicativeForcedDialogCheckbox:"Je comprends ce changement",indicativeForcedDialogConfirm:"Confirmer et continuer",setLevelForIcc:"Définissez un niveau pour consulter vos frais et commissions indicatifs",spreadTable:"Tableau des spreads",upTo:"Jusqu'à",spread:"Spread",recentTrades:"Ordres récents :",spreadTableTooltip:"Votre spread est basé sur la taille de l'ordre, les ordres d'une taille plus conséquente étant sujets à des spreads plus larges.",recentTradesTooltip:"Le calcul de votre spread inclut vos ordres récents et sera rafraîchi à l'expiration du compteur."},it:{closeAt:"Chiudi a {price}",currentSizeAt:"{size} a {price}",closeButton:"Chiudi",closeConfirmationButton:"OK",closeConfirmationBuyButton:"Compra",closeConfirmationSellButton:"Vendi",deleteButton:"Elimina",enable:"Attiva",enableDealingDialogTitle:"Trading dai grafici",enableDealing:'<p>Vuoi attivare la funzione trading dai grafici?</p><p>Attivando la funzione puoi fare le seguenti operazioni direttamente dai grafici:</p><ul class="bullet-list"><li>Aprire o chiudere una posizione</li><li>Modificare o cancellare un ordine in lavorazione</li><li>Aggiungere o modificare stop e limiti</li></ul><p>Puoi disabilitare la funzione trading dai grafici quando vuoi.</p><p>Prima di attivare questa funzione, ti invitiamo a leggere le &quot;Clausole e Condizioni del servizio di negoziazione di IG&quot; sul nostro sito web, in particolare la sezione &quot;Operazioni Elettroniche&quot;.</p>',noThanks:"No, grazie",settingsDialogTitle:"Impostazioni",tradeConfirmsLabel:"Conferma prima di chiudere ogni posizione",tradeConfirmsWarningContent:"<p>Vuoi disattivare le notifiche di conferma?</p><p>Cliccando sul tasto 'Chiudi', la tua posizione verrà chiusa immediatamente.</p><p>Non sarà possibile annullare l'operazione.</p>",tradeConfirmsWarningContentOptions:"<p>Vuoi disattivare le notifiche di conferma?</p><p>Cliccando sul tasto 'Chiudi', la tua posizione verrà chiusa immediatamente.</p><p>Non sarà possibile annullare l'operazione.</p><p>Le commissioni vengono applicate normalmente, ma non è possibile visualizzare i costi applicati prima che la transazione sia effettuata.</p>",tradeConfirmsWarningConfirm:"Disattiva",unableToProcessDeal:"Siamo spiacenti, non è stato possibile eseguire il tuo ordine.",stopLevelInitial:"S",abbrStopLevelTrailing:"Trailing",abbrStopLevelGuaranteed:"Stop G",limitLevelInitial:"L",knockout:"KO",strikeLine:"Strike Line",ticketCancel:"Annulla",ticketSubmit:"Conferma",positionTicketSubmit:"Inserisci ordine",oneCancelsOtherStop:"OCO Stop",oneCancelsOtherStopMobile:"OCO S",oneCancelsOtherLimit:"OCO Limit",oneCancelsOtherLimitMobile:"OCO L",openPositionDialogTitle:"Posizione aperta",workingOrderDialogTitle:"Ordine d'apertura",labelOrderLevel:"Prezzo",closePosition:"Chiudi posizione",limitInvalid:"Inserire un livello limite maggiore di 0.",limitTooFar:"La distanza limite richiesta è troppo distante dall'attuale livello di mercato.",limitWrongSide:"Il limite inserito non è corretto",stopInvalid:"Inserire un valore dello stop maggiore di 0.",stopRequired:"Inserire una distanza stop",stopTooClose:"Inserire una distanza stop maggiore di {min}",stopTooFar:"La distanza stop richiesta è troppo distante dall'attuale livello di mercato.",stopWrongSide:"Lo stop inserito non è corretto",guaranteedStopMoveAway:"Il livello stop che hai richiesto e' vicino al livello di mercato. Quando il mercato e' chiuso ci si puo' solo allontanare dal livello di mercato attuale.",trailingStopTooFar:"Non si può inserire questo Livello Stop con un Trailing Stop. Il vostro Livello Stop deve essere più prossimo al Livello Corrente rispetto al (Stop Distance + Step).",openPositionRemoved:"Questa posizione è stata chiusa oppure non può essere modificata.",workingOrderMissingLevel:"Inserire un Livello.",workingOrderRemoved:"Questo ordine è già stato completato o cancellato e non può essere modificato.",workingOrderWrongDirection:"Il tipo di ordine scelto non e' valido in relazione alla direzione richiesta e al livello dell'ordine.",workingOrderTooFar:"Il livello dell'ordine richiesto è troppo distante dal livello corrente.",bubbleStopTooFar:"Distanza stop max. {distance}",bubbleStopTooClose:"Distanza stop min. {distance}",bubbleKnockoutBull:"Livello di stop min. {level}",bubbleKnockoutBear:"Livello di stop max. {level}",bubbleAbbrvStop:"Stop non valido",riskRewardRatio:"Rapporto rischio-rendimento",abbrRiskRewardRatio:"R/R",point:"pt",points:"pti",indicativeForcedDialogTitle:"Cambiamenti al trading dai grafici",indicativeForcedDialogContent:"<p>I cambiamenti normativi non consentono più di chiudere una posizione direttamente dal grafico.</p><p>Ora è necessario visualizzare e confermare la schermata dei dettagli dell’operazione prima di chiudere.</p>",indicativeForcedDialogCheckbox:"Comprendo questo cambiamento",indicativeForcedDialogConfirm:"Operazione con conferma",setLevelForIcc:"Imposta un livello per visualizzare costi e commissioni indicativi",spreadTable:"Tabella dello spread",upTo:"Fino a",spread:"Spread",recentTrades:"Operazioni recenti:",spreadTableTooltip:"Lo spread si basa sulla size dell'operazione, con size maggiori disponibili a spread più ampi.",recentTradesTooltip:"Il calcolo dello spread include le operazioni recenti e si aggiornerà alla scadenza del timer."},ja:{closeAt:"決済レート: {price}",currentSizeAt:"{size}: {price}",closeButton:"清算",closeConfirmationButton:"OK",closeConfirmationBuyButton:"買い",closeConfirmationSellButton:"売り",deleteButton:"削除",enable:"有効化する",enableDealingDialogTitle:"チャート直接取引",enableDealing:'<p>チャート直接取引を有効にしますか？</p><p>チャート直接取引を有効にした場合、以下の取引を直接チャート上でおこなうことができます：</p><ul class="bullet-list"><li>ポジションの保有 / 清算</li><li>リーブオーダー（指値注文）の変更 / 削除</li><li>保有ポジションへのリミット注文 / ストップ注文の付加</li></ul><p>本サービスの設定はいつでも無効にすることができます。</p><p>本サービスをご利用される前に、オンライン取引約款－特に第8条の「電磁的取引」の条項を必ずお読みください。</p>',noThanks:"いいえ",settingsDialogTitle:"設定",tradeConfirmsLabel:"ポジションを決済する前にご確認ください",tradeConfirmsWarningContent:"<p>確認メッセージをオフにしますか？</p><p>オフにした場合、「決済」ボタンをクリックすると直ちにポジションを決済致します。</p><p>お客様への確認は行われずキャンセルする選択肢は提示されません。</p>",tradeConfirmsWarningContentOptions:"<p>確認メッセージをオフにしますか？</p><p>オフにした場合、「決済」ボタンをクリックすると直ちにポジションを決済致します。</p><p>お客様への確認は行われずキャンセルする選択肢は提示されません。</p>",tradeConfirmsWarningConfirm:"無効にする",unableToProcessDeal:"申し訳ございません。お客様の詳細情報を処理することができませんでした",stopLevelInitial:"逆指値",abbrStopLevelTrailing:"T ストップ",abbrStopLevelGuaranteed:"G ストップ",limitLevelInitial:"指値",knockout:"KO",strikeLine:"権利行使価格",ticketCancel:"キャンセル",ticketSubmit:"送信",positionTicketSubmit:"注文送信","good-till-format":"yy/MM/dd HH:mm","good-till-received-format":"yy/MM/dd HH:mm",oneCancelsOtherStop:"OCO Stop",oneCancelsOtherStopMobile:"OCO S",oneCancelsOtherLimit:"OCO Limit",oneCancelsOtherLimitMobile:"OCO L",openPositionDialogTitle:"ポジション一覧",workingOrderDialogTitle:"未決オーダー",labelOrderLevel:"注文水準",closePosition:"ポジションを清算",limitInvalid:"リミット水準は0よりも大きい必要があります。",limitTooFar:"お客様が選択したリミット値幅は現在のマーケット・レートから離れすぎています。",limitWrongSide:"注文タイプ（リミット※指値）が注文水準に対して有効ではありません。",stopInvalid:"ストップ水準は0よりも大きい必要があります。",stopRequired:"ストップ値幅をご入力ください",stopTooClose:"{min}ポイント以上のストップ値幅をご入力ください",stopTooFar:"お客様が選択したストップ値幅は現在のマーケット・レートから離れすぎています。",stopWrongSide:"注文タイプ（ストップ※逆指値）が注文水準に対して有効ではありません。",guaranteedStopMoveAway:"ご入力のストップレートはマーケットレートに近くなっております。該当する取引ペア・銘柄の取引終了後に注文レートを変更する場合、現在のマーケットレートから離れたレートへのみ変更可能です。",trailingStopTooFar:"このストップ水準では、トレーリングストップはご利用になれません。ストップ水準は現在のプライスから（ストップ値幅＋ステップ値）以内に設定して下さい。",openPositionRemoved:"注文タイプ（ストップ※逆指値）が注文水準に対して有効ではありません。",workingOrderMissingLevel:"アラート水準を入力して下さい。",workingOrderRemoved:"この注文は既に成立したか、削除されているため、変更できません。",workingOrderWrongDirection:"お客様の選択した売買の別・注文水準では、この注文タイプは選択できません。",workingOrderTooFar:"入力した注文レートは現在のレートから乖離し過ぎています。",bubbleStopTooFar:"最大逆指値値幅 {distance}",bubbleStopTooClose:"最小逆指値値幅 {distance}",bubbleKnockoutBull:"{level} を超えて逆指値を設定することはできません。",bubbleKnockoutBear:"{level} を超えて逆指値を設定することはできません。",bubbleAbbrvStop:"有効な値ではありません",riskRewardRatio:"リスクリワードレシオ",abbrRiskRewardRatio:"R/R",point:"pt",points:"PTS",setLevelForIcc:"決済レベルを設定すれば、概算の取引コストを確認できます",pisTooltipHeader:"",pisTooltipBody:"",spreadIncrease:"",upTo:"",spread:"",recentTrades:"",recentTradesTooltipHeader:"",recentTradesTooltipBody:""},nl:{closeAt:"Sluiten op {price}",currentSizeAt:"{size} op {price}",closeButton:"Sluit",closeConfirmationButton:"OK",closeConfirmationBuyButton:"Koop",closeConfirmationSellButton:"Verkoop",deleteButton:"Verwijderen",enable:"Activeer handelen via grafieken",enableDealingDialogTitle:"Handelen via grafieken",enableDealing:'<p>Wilt u handelen met grafieken activeren?</p><p>Wanneer uw handelen met grafieken activeert, dan kunt u het onderstaande direct vanuit de grafiek doen:</p><ul class="bullet-list"><li>een positie openen of sluiten</li><li>een werkend order aanpassen of verwijderen</li><li>Stop en limieten toevoegen of aanpassen</li></ul><p>U kunt handelen vanuit de grafiek op elk gewenst moment uitschakelen.</p><p>Alvorens u deze dienst activeert lees dan onze klantenovereenkomst goed door. U kunt deze vinden bij de algemene voorwaarden op onze site. Let u hierbij vooral op de sectie &quot;Electronic Trading Services&quot;.</p>',noThanks:"Nee dank u",settingsDialogTitle:"Instellingen",tradeConfirmsLabel:"Bevestigen vóór de positie te sluiten",tradeConfirmsWarningContent:"<p>Bevestigingen uitschakelen?</p><p>Wij zullen uw positie direct sluiten wanneer u op de sluitknop klikt, zonder u te vragen uw keuze te bevestigen.</p><p>U kunt uw keuze dan niet meer annuleren.</p>",tradeConfirmsWarningContentOptions:"<p>Bevestigingen uitschakelen?</p><p>Wij zullen uw positie direct sluiten wanneer u op de sluitknop klikt, zonder u te vragen uw keuze te bevestigen.</p><p>U kunt uw keuze dan niet meer annuleren.</p><p>Commissies zijn hier hetzelfde als gebruikelijk, maar u kunt de kosten niet zien voordat de transactie is geplaatst.</p>",tradeConfirmsWarningConfirm:"Afsluiten",unableToProcessDeal:"Het spijt ons, wij konden deze transactie niet uitvoeren.",stopLevelInitial:"S",abbrStopLevelTrailing:"T Stop",abbrStopLevelGuaranteed:"G Stop",limitLevelInitial:"L",knockout:"KO",strikeLine:"Strike Line",ticketCancel:"Cancel",ticketSubmit:"Valideren",positionTicketSubmit:"Order plaatsen",oneCancelsOtherStop:"OCO Stop",oneCancelsOtherStopMobile:"OCO S",oneCancelsOtherLimit:"OCO Limit",oneCancelsOtherLimitMobile:"OCO L",openPositionDialogTitle:"Open positie",workingOrderDialogTitle:"Werkend order",labelOrderLevel:"Orderniveau",closePosition:"Sluit positie",limitInvalid:"Gelieve een limietniveau in te vullen van meer dan 0.",limitTooFar:"De limietafstand die u verzoekt ligt te ver van het huidig marktniveau.",limitWrongSide:"Het limietniveau staat aan de verkeerde kant van de huidige marktprijs.",stopInvalid:"Gelieve een stopwaarde in te vullen van meer dan 0.",stopRequired:"Vul een stopafstand in",stopTooClose:"Voer een stop afstand in groter dan {min}",stopTooFar:"De stopafstand die u verzoekt ligt te ver van het huidig marktniveau.",stopWrongSide:"Het stopniveau staat aan de verkeerde kant van de huidige marktprijs.",guaranteedStopMoveAway:"Het gekozen stopniveau ligt te dicht bij de markt. Wanneer de markt wordt gesloten dient u het order verder van het huidige marktniveau te bewegen.",trailingStopTooFar:"U kunt geen Stop Niveau invoeren met deze Trailing Stop. Uw Stop Niveau moet dichter bij het huidige niveau dan (Stop Afstand + Stap).",openPositionRemoved:"Deze positie is reeds gesloten en kan niet worden gewijzigd.",workingOrderMissingLevel:"Gelieve een niveau te kiezen.",workingOrderRemoved:"Deze order is al gevuld en kan niet meer gewijzigd of verwijderd worden.",workingOrderWrongDirection:"Het ordertype dat u koos is ongeldig in verhouding tot de verzochte richting en het orderniveau.",workingOrderTooFar:"De verzochte koers ligt te ver van de huidige koers.",bubbleStopTooFar:"Max. stopafstand {distance}",bubbleStopTooClose:"Min. stopafstand {distance}",bubbleKnockoutBull:"Min. stopniveau {level}",bubbleKnockoutBear:"Max. stopniveau {level}",bubbleAbbrvStop:"Ongeldige stop",riskRewardRatio:"Risk/Reward Ratio",abbrRiskRewardRatio:"R/R",point:"pt",points:"ptn.",indicativeForcedDialogTitle:"Wijzigingen in traden vanuit de grafiek",indicativeForcedDialogContent:"<p>Als gevolg van wijzigingen in de wet- en regelgeving kunt u geen posities meer rechtstreeks vanuit de grafiek sluiten.</p><p>Vanaf nu krijgt u eerst nog een overzicht van de transactie te zien die u moet bevestigen, voordat u deze kunt sluiten.</p>",indicativeForcedDialogCheckbox:"Ik begrijp deze verandering",indicativeForcedDialogConfirm:"Traden met bevestiging",setLevelForIcc:"Stel het niveau in om de indicatieve kosten en tarieven te bekijken",spreadTable:"Spreadtabel",upTo:"Tot",spread:"Spread",recentTrades:"Recente transacties:",spreadTableTooltip:"Uw spread is gebaseerd op de transactiegrootte. Grotere transacties hebben bredere spreads.",recentTradesTooltip:"De berekening van uw spread is gebaseerd op uw recente transacties en wordt vernieuwd wanneer de timer afloopt."},nb:{closeAt:"Lukk til {price}",currentSizeAt:"{size} til {price}",closeButton:"Steng",closeConfirmationButton:"OK",closeConfirmationBuyButton:"Kjøp",closeConfirmationSellButton:"Selg",deleteButton:"Slett",enable:"Aktiver Trading",enableDealingDialogTitle:"Trading gjennom diagrammer",enableDealing:'<p>Aktivere handel gjennom diagrammer?</p><p>Med handel gjennom diagrammer aktivert, kan du gjøre følgende rett fra et diagram:</p><ul class="bullet-list"><li>Åpne eller lukke en posisjon</li><li>Endre eller slette en betingede ordre</li><li>Legge til/endre stops og limits</li></ul><p>Du kan deaktivere handel gjennom diagrammer når som helst.</p><p>Før du aktiverer denne tjenesten, vennligst les vår Kundeavtale, med særlig vekt på &quot;Elektroniske Transaksjoner&quot;. Den finner du under &quot;Vilkår og betingelser&quot; på vår hjemmeside.</p>',noThanks:"Nei takk",settingsDialogTitle:"Innstillinger",tradeConfirmsLabel:"Bekreft før lukking av hver posisjon",tradeConfirmsWarningContent:"<p>Deaktiver bekreftelser?</p><p>Vi vil lukke posisjonen din umiddelbart når du klikker på “Lukk”-knappen, uten å be deg bekrefte valget ditt.</p><p>Du vil ikke få sjansen til å avbryte.</p>",tradeConfirmsWarningContentOptions:"<p>Deaktiver bekreftelser?</p><p>Vi vil lukke posisjonen din umiddelbart når du klikker på “Lukk”-knappen, uten å be deg bekrefte valget ditt.</p><p>Du vil ikke få sjansen til å avbryte.</p><p>Kurtasje gjelder som normalt, men du kan ikke se avgiften før ordren er gjort.</p>",tradeConfirmsWarningConfirm:"Slå av",unableToProcessDeal:"Beklager, men vi kunne ikke gjennomføre din handel.",stopLevelInitial:"S",abbrStopLevelTrailing:"T stop",abbrStopLevelGuaranteed:"G stop",limitLevelInitial:"L",knockout:"KO",strikeLine:"Strike Line",ticketCancel:"Avbryt",ticketSubmit:"Send",positionTicketSubmit:"Plasser ordre",oneCancelsOtherStop:"OCO Stop",oneCancelsOtherStopMobile:"OCO S",oneCancelsOtherLimit:"OCO Limit",oneCancelsOtherLimitMobile:"OCO L",openPositionDialogTitle:"Åpen posisjon",workingOrderDialogTitle:"Betingede ordre",labelOrderLevel:"Ordrenivå",closePosition:"Lukk posisjon",limitInvalid:"Vennligst fyll inn et limitnivå større enn null.",limitTooFar:"Limit-avstanden du har valgt er for langt fra gjeldende markedsnivå.",limitWrongSide:"Limitnivået er på feil side av den aktuelle markedskursen.",stopInvalid:"Vennligst velg en stop-verdi større enn null.",stopRequired:"Vennligst legg inn en stop-avstand",stopTooClose:"Vennligst legg inn en stop-avstand større enn {min}",stopTooFar:"Stop-avstanden du har valgt er for langt fra gjeldende markedsnivå.",stopWrongSide:"Stoppnivået er på feil side av den aktuelle markedskursen.",guaranteedStopMoveAway:"Stop-nivået du har forespurt er nærmere sist handlede kurs. Når markedet er stengt, kan du kun flytte orderen lenger bort fra sist handlede kurs.",trailingStopTooFar:"Du kan ikke velge dette stop nivået med trailing stop.",openPositionRemoved:"Denne posisjonen er allerede lukket og kan ikke endres.",workingOrderMissingLevel:"Vennligst velg et nivå.",workingOrderRemoved:"Denne ordren er allerede fyllt eller slettet og kan ikke lenger endres.",workingOrderWrongDirection:"Ordretypen du har valgt er ugyldig i forhold til valgt retning og ordrenivå.",workingOrderTooFar:"Valgt ordrenivå er for langt fra gjeldende nivå.",bubbleStopTooFar:"Maksimale stoppavstand {distance}",bubbleStopTooClose:"Minste stoppavstand {distance}",bubbleKnockoutBull:"Minste stoppnivå {level}",bubbleKnockoutBear:"Maksimale stoppnivå {level}",bubbleAbbrvStop:"Ugyldig stopp",riskRewardRatio:"Risk/reward forhold",abbrRiskRewardRatio:"R/R",point:"pt",points:"punkter",indicativeForcedDialogTitle:"Endringer i handel på diagrammer",indicativeForcedDialogContent:"<p>Reguleringsendringer betyr at du ikke lenger kan lukke en posisjon rett fra diagrammet.</p><p>Du må nå vise og bekrefte handelsdetaljene før du lukker.</p>",indicativeForcedDialogCheckbox:"Jeg forstår denne endringen",indicativeForcedDialogConfirm:"Handle med bekreft",setLevelForIcc:"Angi nivå for å se veiledende kostnader og avgifter",spreadTable:"Tabelloversikt over spreads",upTo:"Opp til",spread:"Spread",recentTrades:"Nylige posisjoner:",spreadTableTooltip:"Spreaden er basert på handelsstørrelsen, med større størrelser tilgjengelig for bredere spreads.",recentTradesTooltip:"Kalkuleringeren av spreaden inkluderer nylige trades og vill oppdateres når timeren går ut."},pt:{closeAt:"Fechar em {price}",currentSizeAt:"{size} em {price}",closeButton:"Fechar",closeConfirmationButton:"OK",closeConfirmationBuyButton:"Comprar",closeConfirmationSellButton:"Vender",deleteButton:"Apagar",enable:"Ativar a negociação",enableDealingDialogTitle:"Negociar nos gráficos",enableDealing:'<p>Ativar a negociação através dos gráficos?</p><p>Com a negociação através dos gráficos ativada, pode realizar as seguintes ações diretamente a partir dos gráficos:</p><ul class="bullet-list"><li>Abrir e fechar uma posição</li><li>Editar ou eliminar uma ordem em execução</li><li>Adicionar ou editar stops e limits</li></ul><p>Pode desativar esta função a qualquer momento.</p><p>Antes de ativar este serviço, por favor, leia o nosso Contrato com Cliente, na página de Termos e Contratos no nosso site. Veja com especial atenção à seção de &quot;Transações eletrónicas&quot;. </p>',noThanks:"Não, obrigado(a)",settingsDialogTitle:"Preferências",tradeConfirmsLabel:"Confirme antes de fechar cada posição",tradeConfirmsWarningContent:"<p>Quer desativar as confirmações?</p><p>Fecharemos a sua posição imediatamente quando você pulsar o botão ‘fechar’, sem requerer uma confirmação da sua parte.</p><p>Não terá ocasião de cancelar.</p>",tradeConfirmsWarningContentOptions:"<p>Quer desativar as confirmações?</p><p>Fecharemos a sua posição imediatamente quando você pulsar o botão ‘fechar’, sem requerer uma confirmação da sua parte.</p><p>Não terá ocasião de cancelar.</p><p>A comissão aplica-se normalmente, mas não é possível ver as taxas antes de uma operação ser efetuada.</p>",tradeConfirmsWarningConfirm:"Desativar",unableToProcessDeal:"Desculpe, não foi possível processar a sua operação.",stopLevelInitial:"S",abbrStopLevelTrailing:"S Dinâmico",abbrStopLevelGuaranteed:"S Garantido",limitLevelInitial:"L",knockout:"KO",strikeLine:"Strike Line",ticketCancel:"Cancelar",ticketSubmit:"Aceitar",positionTicketSubmit:"Realizar a operação",oneCancelsOtherStop:"OCO Stop",oneCancelsOtherStopMobile:"OCO S",oneCancelsOtherLimit:"OCO Limit",oneCancelsOtherLimitMobile:"OCO L",openPositionDialogTitle:"Posição Aberta",workingOrderDialogTitle:"Ordem de abertura",labelOrderLevel:"Nível de Ordem",closePosition:"Fechar posição",limitInvalid:"O nível do limit introduzido deverá ser superior a zero.",limitTooFar:"A distância do limit que escolheu está demasiado afastada do nível actual do mercado.",limitWrongSide:"O nível de limite está na posição contraria ao preço atual de mercado.",stopInvalid:"O valor do stop deverá ser superior a zero.",stopRequired:"Introduza uma distância para o stop",stopTooClose:"Por favor, introduza uma distância para o stop superior a {min}",stopTooFar:"A distância do stop que escolheu está demasiado afastado do nível actual do mercado.",stopWrongSide:"O nível de stop está na posição contraria ao preço atual de mercado.",guaranteedStopMoveAway:"O stop que solicitou está mais perto do preço de Mercado. Quando o mercado está fechado só o poderá mover para mais longe e não mais perto do nível actual do mercado.",trailingStopTooFar:"Não poderá introduzir este nível de Stop para este nível de Stop Dinâmico. O seu Nível de Stop deverá ser mais próximo do nível actual que é (Distância ao Stop + Step).",openPositionRemoved:"Esta posição foi fechada e já não pode mudar.",workingOrderMissingLevel:"Escolha um Nível.",workingOrderRemoved:"Esta ordem já foi executada ou apagada e já não pode ser editada.",workingOrderWrongDirection:"O tipo de ordem escolhido é inválido, tendo em conta a Direcção e o Nível solicitados anteriormente.",workingOrderTooFar:"O nível de ordem solicitado está demasiado afastado do nível actual do mercado.",bubbleStopTooFar:"Distância máxima do stop {distance}",bubbleStopTooClose:"Distância mínima do stop {distance}",bubbleKnockoutBull:"Nível de stop mín. {level}",bubbleKnockoutBear:"Nível de stop máx. {level}",bubbleAbbrvStop:"Stop inválido",riskRewardRatio:"Rácio risco/retorno",abbrRiskRewardRatio:"R/R",point:"pt",points:"pts",indicativeForcedDialogTitle:"Alterações na negociação de gráficos",indicativeForcedDialogContent:"<p>As alterações regulatórias significam que deixas de poder fechar uma posição diretamente a partir do gráfico.</p><p>Agora tens de visualizar e confirmar o ecrã de detalhes da negociação antes do encerramento.</p>",indicativeForcedDialogCheckbox:"Compreendo esta alteração",indicativeForcedDialogConfirm:"Negociar com confirmação",setLevelForIcc:"Define o nível para visualizar custos e taxas indicativos",spreadTable:"Tabela de spread",upTo:"Até",spread:"Spread",recentTrades:"Negociações recentes:",spreadTableTooltip:"O teu spread é baseado no tamanho da negociação, com tamanhos maiores disponíveis com spreads mais alargados.",recentTradesTooltip:"O cálculo do teu spread inclui as tuas negociações recentes e será atualizado quando o temporizador expirar."},sv:{closeAt:"Stäng på {price}",currentSizeAt:"{size} på {price}",closeButton:"Stäng",closeConfirmationButton:"OK",closeConfirmationBuyButton:"Köpa",closeConfirmationSellButton:"Sälja",deleteButton:"Radera",enable:"Aktivera handel",enableDealingDialogTitle:"Handel via diagram",enableDealing:'<p>Aktivera handel via diagram?</p><p>Om handel via diagram är aktiverad kan du göra allt av följande direkt från ett diagram:</p><ul class="bullet-list"><li>Öppna eller stänga en position</li><li>Redigera eller ta bort en order att öppna</li><li>Lägga till eller redigera stops och limits</li></ul><p>Du kan inaktivera handel via diagram när som helst.</p><p>Innan du aktiverar denna tjänst, vänligen läs igenom vårt Kundavtal som du hittar på vår webbplats under &quot;Avtal och Villkor&quot;. Titta särskilt på avsnittet &quot;Elektroniska Transaktioner&quot;.</p>',noThanks:"Nej tack",settingsDialogTitle:"Inställningar",tradeConfirmsLabel:"Bekräfta innan stängning för varje position",tradeConfirmsWarningContent:'<p>Inaktivera bekräftelser?</p><p>Vi stänger din position omedelbart när du klickar på knappen "Stäng" utan att be dig att bekräfta ditt val.</p><p>Du får inte chansen att avbryta.</p>',tradeConfirmsWarningContentOptions:'<p>Inaktivera bekräftelser?</p><p>Vi stänger din position omedelbart när du klickar på knappen "Stäng" utan att be dig att bekräfta ditt val.</p><p>Du får inte chansen att avbryta.</p><p>Sedvanligt courtage tillkommer men du kan inte se avgifterna förrän du lägger en order.</p>',tradeConfirmsWarningConfirm:"Slå av",unableToProcessDeal:"Tyvärr kunde vi inte slutföra din transaktion.",stopLevelInitial:"S",abbrStopLevelTrailing:"D stopp",abbrStopLevelGuaranteed:"G stopp",limitLevelInitial:"L",knockout:"KO",strikeLine:"Strike Line",ticketCancel:"Avbryt",ticketSubmit:"Sänd",positionTicketSubmit:"Lägg order",oneCancelsOtherStop:"OCO Stop",oneCancelsOtherStopMobile:"OCO S",oneCancelsOtherLimit:"OCO Limit",oneCancelsOtherLimitMobile:"OCO L",openPositionDialogTitle:"Öppen position",workingOrderDialogTitle:"Order att öppna",labelOrderLevel:"Ordernivå",closePosition:"Stäng position",limitInvalid:"Fyll i en storlek som är större än noll.",limitTooFar:"Limitdistansen du begärt är för långt ifrån den rådande marknadsnivån.",limitWrongSide:"Limitnivån är på fel sida av det aktuella marknadspriset.",stopInvalid:"Fyll i ett stoppvärde som är större än noll.",stopRequired:"Fyll i en stoppdistans",stopTooClose:"Vänligen fyll i en stoppdistans större än {min}",stopTooFar:"Stoppdistansen du begärt är för långt ifrån den rådande marknadsnivån.",stopWrongSide:"Stoppnivån är på fel sida av det aktuella marknadspriset.",guaranteedStopMoveAway:"Stoppnivån du har begärt är närmare marknaden. När marknaden är stängd kan du endast flytta ordern längre iväg från den rådande marknadsnivån.",trailingStopTooFar:"Du kan inte fylla i den här stoppnivån med det här dynamiska stoppet. Din stoppnivå måste vara närmare den rådande nivån än (stoppnivå + steg).",openPositionRemoved:"Den här positionen har redan stängts och kan inte ändras.",workingOrderMissingLevel:"Fyll i en nivå.",workingOrderRemoved:"Den här ordern har redan fyllts eller raderats och kan inte längre ändras.",workingOrderWrongDirection:"Ordertypen du valt är inte giltig för den begärda riktningen och ordernivån.",workingOrderTooFar:"Ordernivån du begärt är för långt ifrån den rådande nivån.",bubbleStopTooFar:"Max. stoppavstånd {distance}",bubbleStopTooClose:"Min. stoppavstånd {distance}",bubbleKnockoutBull:"Min. stoppnivå {level}",bubbleKnockoutBear:"Max. stoppnivå {level}",bubbleAbbrvStop:"Ogiltigt stopp",riskRewardRatio:"Risk/reward-relation",abbrRiskRewardRatio:"R/R",point:"pt",points:"pkt",indicativeForcedDialogTitle:"Ändringar rörande handel från grafen",indicativeForcedDialogContent:"<p>Regulatoriska förändringar innebär att du inte längre kan stänga en position direkt i grafen.</p><p>Du kommer nu att vara tvungen att se över och bekräfta ordern innan den exekveras.</p>",indicativeForcedDialogCheckbox:"Jag förstår denna ändringar",indicativeForcedDialogConfirm:"Handla med bekräftelse",setLevelForIcc:"Ange nivå för att se preliminära kostnader och avgifter",spreadTable:"Spreadtabell",upTo:"Upp till",spread:"Spread",recentTrades:"Dina senaste positioner:",spreadTableTooltip:"Spreaden baseras på din positions storlek, där större positioner har bredare spreadar.",recentTradesTooltip:"Uträkningen av din spread inkluderar dina senaste positioner och uppdateras när timern löper ut."},zh:{closeAt:"在 {price} 平仓",currentSizeAt:"{size} 于 {price}",closeButton:"关闭",closeConfirmationButton:"OK",closeConfirmationBuyButton:"买入",closeConfirmationSellButton:"卖出",deleteButton:"删除",enable:"激活交易",enableDealingDialogTitle:"图表交易",enableDealing:'<p>激活图表交易？</p><p>一旦激活图表交易，您将能够在图表上直接进行下列操作：</p><ul class="bullet-list"><li>开仓或平仓</li><li>编辑或删除未执行定单</li><li>添加/编辑止损及限价</li></ul><p>您可以随时关闭该功能。</p><p>在激活此功能前，请仔细阅读我们的《客户协议》（网站上“条款及细则”部分），需特别注意“电子交易”部分。</p>',noThanks:"取消",settingsDialogTitle:"设置",tradeConfirmsLabel:"每次平仓前需确认",tradeConfirmsWarningContent:"<p>关闭确认功能？</p><p>点击“关闭”按钮后，我们将立即为您平仓，无需再次确认，也无法取消平仓。</p>",tradeConfirmsWarningContentOptions:"<p>关闭确认功能？</p><p>点击“关闭”按钮后，我们将立即为您平仓，无需再次确认，也无法取消平仓。</p>",tradeConfirmsWarningConfirm:"关闭",unableToProcessDeal:"很抱歉，我们无法处理您的交易请求",stopLevelInitial:"S",abbrStopLevelTrailing:"追踪止损",abbrStopLevelGuaranteed:"保证止损",limitLevelInitial:"L",knockout:"牛熊期权",strikeLine:"Strike Line",ticketCancel:"取消",ticketSubmit:"提交",positionTicketSubmit:"下单交易",oneCancelsOtherStop:"OCO Stop",oneCancelsOtherStopMobile:"OCO S",oneCancelsOtherLimit:"OCO Limit",oneCancelsOtherLimitMobile:"OCO L",openPositionDialogTitle:"已开启仓位",workingOrderDialogTitle:"开仓指令",labelOrderLevel:"开仓价位",closePosition:"平仓",limitInvalid:"请输入一个大于零的限价水平。",limitTooFar:"您所要求的限价距离与当前的市场价格相距太远。",limitWrongSide:"限价价位与当前市价相悖。",stopInvalid:"请输入一个大于零的止损数值。",stopRequired:"请输入一个止损距离",stopTooClose:"请输入一个大于 {min} 的止损距离",stopTooFar:"您所要求的止损距离与当前的市场价格相距太远。",stopWrongSide:"止损价位与当前市价相悖。",guaranteedStopMoveAway:"您的限价委托订单价位与市场价位之距离正在缩小。在市场交易时间以外，您只能把该价位移开使远离市场价位。",trailingStopTooFar:"该跟踪停损不符合该停损价位水平",openPositionRemoved:"该仓位已平仓，无法修改。",workingOrderMissingLevel:"请输入一个水平。",workingOrderRemoved:"该定单已经被执行或删除，所以无法更改。",workingOrderWrongDirection:"鉴于您所要求的交易方向和定单价格，您所选择的指令类型无效。",workingOrderTooFar:"您所要求的指令价格距离当前价格太远。",bubbleStopTooFar:"最大止损距离 {distance}",bubbleStopTooClose:"最小止损距离 {distance}",bubbleKnockoutBull:"最小止损距离 {level}",bubbleKnockoutBear:"最大止损距离 {level}",bubbleAbbrvStop:"止损无效",riskRewardRatio:"风险回报率",abbrRiskRewardRatio:"风险回报率",point:"pt",points:"点",spreadTable:"点差列表",upTo:"上限",spread:"点差",recentTrades:"近期交易：",spreadTableTooltip:"您的点差根据交易规模而定，交易规模越大，点差越大。",recentTradesTooltip:"您的点差计算包含您的近期交易，计时结束后将刷新。"},zh_TW:{closeAt:"在 {price} 平倉",currentSizeAt:"{size} 於 {price}",closeButton:"关闭",closeConfirmationButton:"OK",closeConfirmationBuyButton:"买入",closeConfirmationSellButton:"卖出",deleteButton:"删除",enable:"啟動交易",enableDealingDialogTitle:"圖表交易",enableDealing:'<p>激活圖表交易？</p><p>一旦激活圖表交易，您將能夠在圖表上直接進行下列操作：</p><ul class="bullet-list"><li>開倉或平倉</li><li>編輯或刪除未執行定單</li><li>添加/編輯止損及限價</li></ul><p>您可以隨時關閉該功能。</p><p>在激活此功能前，請仔細閱讀我們的《客戶協議》（網站上“條款及細則”部分），需特別注意“電子交易”部分。</p>',noThanks:"取消",settingsDialogTitle:"設定",tradeConfirmsLabel:"每次平倉前需確認",tradeConfirmsWarningContent:"<p>關閉確認功能？</p><p>點擊“關閉”按鈕後，我們將立即為您平倉，無需再次確認，也無法取消平倉。</p>",tradeConfirmsWarningContentOptions:"<p>關閉確認功能？</p><p>點擊“關閉”按鈕後，我們將立即為您平倉，無需再次確認，也無法取消平倉。</p>",tradeConfirmsWarningConfirm:"關閉",unableToProcessDeal:"很抱歉，我們無法處理您的交易請求",stopLevelInitial:"S",abbrStopLevelTrailing:"追蹤止損",abbrStopLevelGuaranteed:"保證止損",limitLevelInitial:"L",knockout:"牛熊期權",strikeLine:"Strike Line",ticketCancel:"取消",ticketSubmit:"提交",positionTicketSubmit:"下單交易",oneCancelsOtherStop:"OCO Stop",oneCancelsOtherStopMobile:"OCO S",oneCancelsOtherLimit:"OCO Limit",oneCancelsOtherLimitMobile:"OCO L",openPositionDialogTitle:"已開啟倉位",workingOrderDialogTitle:"开仓指令",labelOrderLevel:"開倉价位",closePosition:"平仓",limitInvalid:"請輸入一個大於零的限價水平。",limitTooFar:"您所要求的限價距離與當前的市場價格相距太遠。",limitWrongSide:"限價價位與當前市價相悖。",stopInvalid:"請輸入一個大於零的止損數值。",stopRequired:"請輸入一個止損距離",stopTooClose:"請輸入一個大於 {min} 的止損距離",stopTooFar:"您所要求的止損距離與當前的市場價格相距太遠。",stopWrongSide:"止損價位與當前市價相悖。",guaranteedStopMoveAway:"您的限價委託訂單價位與市場價位之距離正在縮小。在市場交易時間以外﹐您只能把該價位移開使遠離市場價位。",trailingStopTooFar:"該跟蹤止損不符合該止損价位水平",openPositionRemoved:"該倉位已平倉，無法修改。",workingOrderMissingLevel:"請輸入一個水平。",workingOrderRemoved:"該訂單已經被執行或刪除，所以無法更改。",workingOrderWrongDirection:"鑒於您所要求的交易方向和訂單價格，您所選擇的指令類型無效。",workingOrderTooFar:"您所要求的指令價格距離當前價格太遠。",bubbleStopTooFar:"最大止損距離 {distance}",bubbleStopTooClose:"最小止損距離 {distance}",bubbleKnockoutBull:"最小止損距離 {level}",bubbleKnockoutBear:"最大止損距離 {level}",bubbleAbbrvStop:"止損無效",riskRewardRatio:"風險回報率",abbrRiskRewardRatio:"風險回報率",point:"pt",points:"点",spreadTable:"點差列表",upTo:"上限",spread:"點差",recentTrades:"近期交易：",spreadTableTooltip:"您的點差根據交易規模而定，交易規模越大，點差越大。",recentTradesTooltip:"您的點差計算包含您的近期交易，計時結束后將刷新。"}};(0,n.values)(o).forEach((function(e){Object.keys(r.Errors.Reason).forEach((function(t){switch(t){case r.Errors.Reason.INVALID_LEVEL:e[t+"_LIMIT"]=e.limitInvalid,e[t+"_STOP"]=e.stopInvalid;break;case r.Errors.Reason.LIMIT_TOO_FAR:e[t]=e.limitTooFar;break;case r.Errors.Reason.LIMIT_WRONG_SIDE:e[t]=e.limitWrongSide;break;case r.Errors.Reason.STOP_REQUIRED:case r.Errors.Reason.STOP_REQUIRES_DISTANCE:case r.Errors.Reason.STOP_GUARANTEED_CAN_NOT_BE_REMOVED:e[t]=e.stopRequired;break;case r.Errors.Reason.STOP_TOO_CLOSE_POINTS:case r.Errors.Reason.STOP_TOO_CLOSE:e[t]=e.stopTooClose;break;case r.Errors.Reason.STOP_TOO_FAR:e[t]=e.stopTooFar;break;case r.Errors.Reason.STOP_WRONG_SIDE:e[t]=e.stopWrongSide;break;case r.Errors.Reason.STOP_LEVEL_BELOW_TRAILING:case r.Errors.Reason.TRAILING_STOP_TOO_FAR:e[t]=e.trailingStopTooFar;break;case r.Errors.Reason.STOP_GUARANTEED_MOVE_AWAY:e[t]=e.guaranteedStopMoveAway;break;case r.Errors.Reason.TRIGGER_LEVEL_REQUIRED:e[t]=e.workingOrderMissingLevel;break;case r.Errors.Reason.TRIGGER_LEVEL_TOO_HIGH:case r.Errors.Reason.TRIGGER_LEVEL_TOO_LOW:e[t]=e.workingOrderWrongDirection;break;case r.Errors.Reason.TRIGGER_LEVEL_TOO_FAR:e[t]=e.workingOrderTooFar;break;default:e[t]=e.unableToProcessDeal}}))}));const a=new s.default(o)},53344:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>r});var n=i(10094),s={parseLevel:function(e,t){return s._isPositiveNumber(e)?e*(t||1):null},parseOpenLevelForOrder:function(e){return s.parseLevel(e.openLevel,e.market.scalingFactor)},_isPositiveNumber:function(e){return(0,n.isNumber)(e)&&e>0},calculateStopLevel:function(e,t,i){var n=null;return s._isPositiveNumber(t)&&(n="-"===i?e+t:e-t),n},calculateLimitLevel:function(e,t,i){var n=null;return s._isPositiveNumber(t)&&(n="-"===i?e-t:e+t),n}};const r=Object.seal(s)},98572:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>n});const n=Object.freeze({LIMIT_ORDER:"UL",STOP_ORDER:"US"})},71037:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>n});const n=Object.freeze({CHANGE:"positionChange",PRICE_LEVEL_CHANGED:"positionPriceLevelChanged",ATTACHED_ORDER_ADDED:"positionChangeAttachedOrderAdded",ATTACHED_ORDER_CHANGED:"positionChangeAttachedOrderChanged",ATTACHED_ORDER_REMOVED:"positionChangeAttachedOrderRemoved",DEALING_RULES_LOADED:"dealingRulesLoaded"})},6801:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>d});var n=i(47292),s=i(12990),r=i(96609),o=i(12488),a=s.A.extend((function(e,t,i,n,s){this._callback=s,this._propertyName=n}),n.default);a.create=function(e,t,i,n,s){return new a(e,t,i,n,s)};var l=a.prototype;l._callback=null,l._propertyName=null,l.done=function(){a.superclass.done.call(this),this._callback(!0)},l.close=function(){a.superclass.close.call(this),this._callback(!1)},l._getDialogClasses=function(){return"dealingWarning "+this._propertyName},l._getDialogTitle=function(){return o.default.get("settingsDialogTitle")},l._createContent=function(e){return r.A.create(this,this._eventBus,this._captureZoneManager,this._taskManager,this._propertyName).initDom(e)},Object.seal(l);const d=Object.seal(a)},23625:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>c});var n=i(43130),s=i(47292),r=i(12990),o=i(37897),a=i(12488),l=i(9525),d=r.A.extend((function(e,t,i,n,s){this._payload=s,this._title=n}),s.default);d.create=function(e,t,i,n,s){return new d(e,t,i,n,s)};var u=d.prototype;u._payload=null,u._title=null,u._getDialogClasses=(0,n.constant)("transactionError"),u._getDialogTitle=(0,l.getter)("_title"),u._createContent=function(e){var t=this._payload.data.map((function(e){return"<p>"+e.value+"</p>"})).join("");return o.default.create(this,this._eventBus,this._captureZoneManager).setText(t).setType("error").withDoneButton(a.default.get("closeConfirmationButton")).initDom(e)},Object.seal(u);const c=Object.seal(d)},87861:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>a});var n=i(9525),s=i(72873);function r(e,t,i){this._dContainer=e,this._alignment=t||r.ALIGNMENT.MIDDLE,this._prepend=i,this._initDom()}r.create=function(e,t,i){return new r(e,t,i)},r.ALIGNMENT={START:"start",MIDDLE:"middle",END:"end"},r.alignText={start:function(){return r.RECT_PADDING},middle:function(e){return-e/2},end:function(e){return-e-r.RECT_PADDING}},r.alignRect={start:function(){return 0},middle:function(e){return-e/2},end:function(e){return-e}},r.RECT_PADDING=6;var o=r.prototype;o._text=null,o._dText=null,o._dContainerRect=null,o._dBox=null,o.classed=(0,n.delegate)("_dBox","classed"),o.setPosition=function(e,t){this._dBox.attr("transform",s.default.svgTranslateAttrXY(e,t))},o.setText=function(e){var t,i;e!==this._text&&(this._text=e,t=(i=this._dText.text(e).node().getBoundingClientRect().width)+2*r.RECT_PADDING,this._dContainerRect.attrs({width:t,x:r.alignRect[this._alignment](t)}),this._dText.attrs({x:r.alignText[this._alignment](i)}))},o.getWidth=function(){return this._dContainerRect&&this._dContainerRect.node()?this._dContainerRect.node().getBoundingClientRect().width:0},o.destroy=function(){this._dBox.remove(),this._dBox=null,this._dContainer=null},o.show=function(){this._dBox.classed("hidden",!1)},o.hide=function(){this._dBox.classed("hidden",!0)},o._initDom=function(){this._dBox=this._prepend?this._dContainer.insert("g",":first-child"):this._dContainer.append("g"),this._dBox.classed("textBubble",!0),this._dContainerRect=this._dBox.append("rect").attrs({class:"container",height:19,y:-9.5,rx:2,ry:2}),this._dText=this._dBox.append("text").attrs({class:"text",y:4})},Object.seal(o);const a=Object.seal(r)},98185:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>T});var n=i(43130),s=i(5955),r=i(38731),o=i(12990),a=i(6182),l=i(14978),d=i(9525),u=i(44258),c=i(10094),h=i(81141),p=i(17690),_=i(87861),g=i(10520),f=o.A.extend(Object.assign((function(e,t,i,n){this._captureZoneManager=t,this._positionViewModel=i,this._presentationController=n,this._createCaptureZone()}),{__constructorTransform:function(e,t,i,n){return[e,_.default.ALIGNMENT.START]}}),_.default);f.create=function(e,t,i,n){return new f(e,t,i,n)},f.TEXT_MARGIN=4;var m=f.prototype;m._captureZoneManager=null,m._captureZone=null,m._positionViewModel=null,m._presentationController=null,m._dPointsAwayText=null,m._pointsAwayText=null,m.setText=function(e,t){e===this._text&&t===this._pointsAwayText||(this._text=e,this._dText.text(e),this._pointsAwayText=t,this._dPointsAwayText.text(t),this._positionElements())},m.getBoundingClientRect=function(){if(this._dBox)return this._dBox.node().getBoundingClientRect()},m._positionElements=function(){var e,t,i;t=(e=this._dText.node().getBoundingClientRect().width+f.TEXT_MARGIN+this._dPointsAwayText.node().getBoundingClientRect().width)+2*_.default.RECT_PADDING,this._dContainerRect.attrs({width:t,x:_.default.alignRect[this._alignment](t)}),i=_.default.alignText[this._alignment](e),this._dText.attrs({x:i}),this._dText.classed("profit loss",!1),this._dText.classed((0,n.includes)(this._text,"+")?"profit":"loss",!0),this._dPointsAwayText.attrs({x:i+this._dText.node().getBoundingClientRect().width+f.TEXT_MARGIN})},m._initDom=function(){f.superclass._initDom.call(this),this._dPointsAwayText=this._dBox.append("text").attrs({class:"pointsAwayText",y:4})},m._createCaptureZone=function(){this._captureZone=this._captureZoneManager.createTapZone(this._presentationController.openEditDialogIfEditable.bind(this._presentationController,this._positionViewModel),g.default.POSITION_SELECT_BADGE_ON_POSITION_SELECTED).withDefaultPadding().withCursorOnHover(a.default.POINTER)},m.setPosition=function(e,t,i){f.superclass.setPosition.call(this,e,t),this._captureZone.setDimensionsBasedOnElement(this._dBox,i)},m.show=function(){f.superclass.show.call(this),this._captureZone.show()},m.hide=function(){f.superclass.hide.call(this),this._captureZone.hide()},m.destroy=function(){f.superclass.destroy.call(this),this._captureZone&&(this._captureZone.destroy(),this._captureZone=null)},Object.seal(m);const v=Object.seal(f);var A=o.A.extend(Object.assign((function(e,t,i,n,s,o,a,l){this._attachedOrderViewModel=a,this._positionViewModel=o,this._textBubble=i,this._dRectContainer=t,this._presentationController=l,this._captureZoneManager=n,this._initialiseTextBubble(),this._attachedOrderViewModel.on(r.UPDATE,this.renderOnFrameEnd,this),this._initDom(n),this.render()}),{__constructorTransform:function(e,t,i,n,s,r,o,a){return[e,s]}}),s.default);A.create=function(e,t,i,n,s,r,o,a){return new A(e,t,i,n,s,r,o,a)};var E=A.prototype;E._textBubble=null,E._presentationController=null,E._line=null,E._dConnectionLine=null,E._dRectContainer=null,E._dStopLimitContainer=null,E._dLineContainer=null,E._selectedLine=null,E._attachedOrderViewModel=null,E._positionViewModel=null,E._captureZoneManager=null,E.getAttachedOrdersViewModel=(0,d.getter)("_attachedOrderViewModel"),E._initialiseTextBubble=h.A.abstractMethod,E._applyAttachedOrderClasses=function(e){e.classed("ig"+this._attachedOrderViewModel.getTypeCssClass(),!0)},E._getBubbleText=h.A.abstractMethod,E._handleTap=h.A.abstractMethod,E._addCloseButton=n.noop,E.render=function(){var e=this._positionViewModel.getVisibleWindowDimensions(),t=(0,c.between)(this._attachedOrderViewModel.getYPositionOnScreen(),e.top,e.bottom);return this._renderContainer(),this._renderLine(t),this._renderConnectionLine(t),this._renderTextBubble(),this._renderProfitLoss(),t},E._renderContainer=function(){return this._dStopLimitContainer.classed("selected",this._positionViewModel.isSelected()).classed("hidden",!1)},E._renderSelectedLine=function(e){this._applyAttachedOrderClasses(this._selectedLine),this._selectedLine.setVisible(e&&this._positionViewModel.isSelected())},E._getInitialXPosition=function(){var e=0;return this._positionViewModel.isAttachedOrderLineCropped(this._attachedOrderViewModel)&&(e+=p.default.MARGIN+this._profitLossBubble.getWidth()),e},E._setLinePosition=function(){var e,t=this._positionViewModel.isSelected(),i=this._attachedOrderViewModel.getYPositionOnScreen(),n=this._positionViewModel.getFullPositionWidth();e={x1:this._getInitialXPosition(),x2:n-(t?p.default.MARGIN:0),y1:i,y2:i},this._line.setLineCoordinates(e),this._selectedLine.setLineCoordinates(e)},E._renderLine=function(e){this._line.setVisible(e&&!this._positionViewModel.isSelected()),this._renderSelectedLine(e),e&&this._setLinePosition()},E._renderConnectionLine=function(e){var t=this._positionViewModel.getVisibleWindowDimensions(),i=this._attachedOrderViewModel.getYPositionOnScreen();e||(i=Math.max(Math.min(i,t.bottom),t.top)),this._attachedOrderViewModel.isConnectionLineVisible()?(this._dConnectionLine.attrs({x1:this._attachedOrderViewModel.getConnectionRectBoxDimensions().x,x2:this._attachedOrderViewModel.getConnectionRectBoxDimensions().x,y1:this._positionViewModel.getPricePositionOnScreen(),y2:i}).classed("hidden",!1),this._applyAttachedOrderClasses(this._dConnectionLine)):this._dConnectionLine.classed("hidden",!0)},E._renderTextBubble=function(){this._positionViewModel.isAttachedOrderTextBubbleVisible(this._attachedOrderViewModel)?(this._positionTextBubble(),this._textBubble.setText(this._getBubbleText())):this._textBubble.hide(),this._applyAttachedOrderClasses(this._textBubble)},E._positionTextBubble=function(){var e=this._attachedOrderViewModel.getConnectionRectBoxDimensions();this._textBubble.setPosition(e.x,e.y,this._positionViewModel.presentationModel.subview.dimensions),this._textBubble.show()},E._renderProfitLoss=function(){this._positionViewModel.isSelected()&&this._attachedOrderViewModel.isValid()?(this._profitLossBubble.setPosition(p.default.MARGIN,this._attachedOrderViewModel.getYPositionOnScreen(),this._positionViewModel.presentationModel.subview.dimensions),this._profitLossBubble.show(),this._setProfitLossText()):this._profitLossBubble.hide(),this._applyAttachedOrderClasses(this._profitLossBubble)},E._setProfitLossText=function(){this._profitLossBubble.setText(this._attachedOrderViewModel.getProfitLoss(),this._attachedOrderViewModel.getAttachedOrderInfoText())},E.destroy=function(){this._line.destroy(),this._selectedLine.destroy(),this._textBubble.destroy(),this._profitLossBubble.destroy(),this._positionViewModel.un(null,this),this._attachedOrderViewModel.un(null,this),this._dStopLimitContainer&&(this._dStopLimitContainer.remove(),this._dStopLimitContainer=null),this._dLineContainer&&(this._dLineContainer.remove(),this._dLineContainer=null),this._tapCaptureZone&&(this._tapCaptureZone.destroy(),this._tapCaptureZone=null),A.superclass.destroy.call(this)},E._initDom=function(e){this._dStopLimitContainer=this._dContainer.append("g").classed("ig"+this._attachedOrderViewModel.getTypeCssClass(),!0),this._dLineContainer=this._dRectContainer.insert("g",":first-child").classed("lineContainer",!0),this._selectedLine=u.default.create(this._dLineContainer,e).classed("selectedLine",!0).classed("ig"+this._attachedOrderViewModel.getTypeCssClass(),!0).withDefaultPadding().setVisible(!1),this._line=u.default.create(this._dStopLimitContainer,e).classed("main",!0).withDefaultPadding().setVisible(!1),this._positionViewModel.areInteractionsEnabled()&&(this._line.onTap(this._handleTap,this),this._selectedLine.withCursorOnHover(a.default.NS_RESIZE).on(l.default,{plane:l.PLANES.VERTICAL,handleHold:!0,onGesture:this._handlePan,context:this,onEnd:this._handleEndPan,endContext:this})),this._dConnectionLine=this._dStopLimitContainer.append("line").classed("line",!0).classed("connectionLine",!0).classed("ig"+this._attachedOrderViewModel.getTypeCssClass(),!0),this._addCloseButton(),this._profitLossBubble=v.create(this._dRectContainer,e,this._positionViewModel,this._presentationController).classed("profitLossTextBubble",!0),this._profitLossBubble.hide()},Object.seal(E);const T=Object.seal(A)},97637:(e,t,i)=>{"use strict";i.d(t,{A:()=>te});var n=i(5955),s=i(41943),r=i(8247),o=i(38731),a=i(6182),l=i(12990),d=i(73142),u=i(50951),c=i(9525),h=i(72873),p=i(87861),_=i(10520),g=12,f=l.A.extend(Object.assign((function(e,t,i,n){this._captureZoneManager=t,this._captureZone=this._captureZoneManager.create(u.default.BLOCK_ALL,_.default.POSITION_SELECT_BADGE_ON_POSITION_SELECTED),this._gestureRecogniser=d.default.create(),this._captureZone.addGestureRecogniser(this._gestureRecogniser),this._captureZone.withCursorOnHover(i||a.default.NS_RESIZE)}),{__constructorTransform:function(e,t,i,n){return[e,p.default.ALIGNMENT.MIDDLE,n]}}),p.default);f.create=function(e,t,i,n){return new f(e,t,i,n)};var m=f.prototype;m._captureZone=null,m._gestureRecogniser=null,m._initDom=function(){f.superclass._initDom.call(this),this._dBox.append("polygon").attrs({class:"triangle",points:h.default.getPolygonAttrString([{x:-4,y:g},{x:4,y:g},{x:0,y:16}])}),this._dBox.append("polygon").attrs({class:"triangle",points:h.default.getPolygonAttrString([{x:-4,y:-12},{x:4,y:-12},{x:0,y:-16}])}),this.classed("draggableTextBubble",!0)},m.destroy=function(){this._captureZone.removeGestureRecogniser(this._gestureRecogniser),this._captureZone.destroy(),this._captureZone=null,this._gestureRecogniser=null,f.superclass.destroy.call(this)},m.withStartHandler=(0,c.delegate)("_gestureRecogniser","withStartHandler"),m.withHandler=(0,c.delegate)("_gestureRecogniser","withHandler"),m.withEndHandler=(0,c.delegate)("_gestureRecogniser","withEndHandler"),m.withZIndex=function(e){return this._captureZoneManager.updateCaptureZoneZIndex(this._captureZone,e),this},m.showCues=function(e){this._dBox.selectAll("polygon").classed("hidden",!e)},m.show=function(){this._captureZone.show(),f.superclass.show.call(this)},m.hide=function(){this._captureZone.hide(),f.superclass.hide.call(this)},m.hideBox=function(){f.superclass.hide.call(this)},m.setPosition=function(e,t,i){f.superclass.setPosition.call(this,e,t),this._captureZone.setDimensionsBasedOnElement(this._dBox,i)},Object.seal(m);const v=Object.seal(f);var A=i(84811),E=i(12488),T=i(17690),I=i(289),C=l.A.extend((function(e,t,i){this._dContainer=e,this._captureZoneManager=i,this._textBubble=v.create(e,i,null,!0).withHandler(this._handleDrag,this).classed("attachedOrderTextBubble",!0),this._positionViewModel=t,this._positionViewModel.getAttachedOrdersViewModels().forEach(this._startListeningToAttachedOrder,this),this._positionViewModel.on(T.default.ATTACHED_ORDER_ADDED,this._startListeningToAttachedOrder,this),this._positionViewModel.on(T.default.ATTACHED_ORDER_REMOVED,this._stopListeningToAttachedOrder,this),this._setText()}),I.default);C.create=function(e,t,i){return new C(e,t,i)},C.CREATE="CREATE";var O=C.prototype;O._textBubble=null,O.transferTextBubble=function(){var e=this._textBubble;return e.withStartHandler(),this._textBubble=v.create(this._dContainer,this._captureZoneManager,null,!0).withHandler(this._handleDrag,this).classed("attachedOrderTextBubble",!0),e},O.render=function(){var e=this._positionViewModel.getConnectionRectBoxDimensions();this._textBubble.setPosition(e.x,e.y,this._positionViewModel.presentationModel.subview.dimensions),this._setText()},O._setText=function(){var e,t=this._positionViewModel.isSmallWidth(),i=!this._positionViewModel.getLimitViewModel()&&this._positionViewModel.isLimitAllowed,n=!this._positionViewModel.getStopViewModel()&&this._positionViewModel.isStopAllowed,s=t?E.default.get("limitLevelInitial"):A.default.get("labelLimit"),r=t?E.default.get("stopLevelInitial"):A.default.get("labelStop");e=i&&n?r+" / "+s:i?s:n?r:"",this._textBubble.setText(e)},O.destroy=function(){this._positionViewModel.getAttachedOrdersViewModels().forEach(this._stopListeningToAttachedOrder,this),this._positionViewModel.un(null,this),this._positionViewModel=null,this._textBubble.destroy(),this._textBubble=null},O.withStartHandler=(0,c.delegate)("_textBubble","withStartHandler"),O.withHandler=(0,c.delegate)("_textBubble","withHandler"),O.withEndHandler=(0,c.delegate)("_textBubble","withEndHandler"),O.show=(0,c.delegate)("_textBubble","show"),O.hide=(0,c.delegate)("_textBubble","hide"),O._handleDrag=function(){this.fire(C.CREATE)},O._startListeningToAttachedOrder=function(e){e&&e.on(o.UPDATE,this._setText,this)},O._stopListeningToAttachedOrder=function(e){e&&e.un(null,this)},Object.seal(O);const M=Object.seal(C);var y=i(31074),b=i(87697),S=i(68987),D=l.A.extend(Object.assign((function(e,t,i,n,s,r){this._attachedOrdersHelpers=[],this._containers=e,this._positionViewModel=n,this._captureZoneManager=i,this._presentationController=s,this._eventBus=r,n.on(T.default.ATTACHED_ORDER_ADDED,this._addAttachedOrderHelper,this),n.on(T.default.ATTACHED_ORDER_REMOVED,this._removeAttachedOrderHelper,this),n.on(b.default.SELECTED,this._onAttachedOrderUpdated,this),this._initRiskRatioBubble(),this._updateRiskRatio(),this.render()}),{__constructorTransform:function(e,t,i,n,s,r){return[e.positions,t]}}),n.default);D.create=function(e,t,i,n,s,r){return new D(e,t,i,n,s,r)};var w=D.prototype;w._attachedOrderCreateHelper=null,w._attachedOrdersHelpers=null,w._captureZoneManager=null,w._positionViewModel=null,w._presentationController=null,w._eventBus=null,w._riskRatioTextBubble=null,w.render=function(){this._updateAttachedOrderConnectionRect(),!this._attachedOrdersHelpers.length&&this._positionViewModel.attachedOrdersVisible?this._positionViewModel.getAttachedOrdersViewModels().sort((function(e){return e.getType()===r.default.KNOCKOUT?-1:1})).forEach(this._addAttachedOrderHelper,this):this._attachedOrdersHelpers.length&&!this._positionViewModel.attachedOrdersVisible&&((0,c.invokeCall)(this._attachedOrdersHelpers,"destroy"),this._attachedOrdersHelpers=[]),this._renderAttachedOrderConnectionRectangle(),(0,c.invokeCall)(this._attachedOrdersHelpers,"render"),this._attachedOrderCreateHelper&&this._attachedOrderCreateHelper.render(),this._positionViewModel.isSelected()&&this._positionViewModel.hasLimitAndAttachedOrder()?(this._riskRatioTextBubble.setPosition(this._positionViewModel.getConnectionRectBoxDimensions().x,this._positionViewModel.getConnectionRectBoxDimensions().y),this._riskRatioTextBubble.show()):this._riskRatioTextBubble.hide()},w._initRiskRatioBubble=function(){this._riskRatioTextBubble=p.default.create(this._containers.riskRewardBubble),this._riskRatioTextBubble.classed("attachedOrderTextBubble",!0).classed("igRiskRatio",!0)},w._updateRiskRatio=function(){this._riskRatioTextBubble.setText(this._positionViewModel.getRiskRewardRatio())},w._onAttachedOrderUpdated=function(){this._updateRiskRatio(),this.renderOnFrameEnd()},w.destroy=function(){this._positionViewModel.un(null,this),(0,c.invokeCall)(this._attachedOrdersHelpers,"destroy"),this._attachedOrdersHelpers.forEach((function(e){e.getAttachedOrdersViewModel().un(null,this)})),this._attachedOrdersHelpers=null,this._attachedOrderCreateHelper&&(this._attachedOrderCreateHelper.destroy(),this._attachedOrderCreateHelper=null),this._destroyRiskRatioBubble(),D.superclass.destroy.call(this)},w._addAttachedOrderHelper=function(e){if(e){var t,i,n=e.getType(),s=n===r.default.KNOCKOUT||n===r.default.STRIKE_LINE,l=s?y.A:S.A,d=this._positionViewModel.areInteractionsEnabled()&&!s?a.default.NS_RESIZE:a.default.DEFAULT;e.on(o.UPDATE,this._onAttachedOrderUpdated,this),i=e.getAttachedOrder()?v.create(this._containers.connectionRectangles,this._captureZoneManager,d).classed("attachedOrderTextBubble",!0):this._attachedOrderCreateHelper.transferTextBubble(),t=l.create(this._containers.limits,this._containers.connectionRectangles,i,this._captureZoneManager,this._animationPoller,this._positionViewModel,e,this._presentationController,this._eventBus),this._attachedOrdersHelpers.push(t),this._updateAttachedOrderConnectionRect(),this._updateRiskRatio(),this.renderOnFrameEnd()}},w._onAttachedOrderCreated=function(){this._positionViewModel.createAttachedOrderViewModel()},w._updateAttachedOrderConnectionRect=function(){this._positionViewModel.canAddAttachedOrders()&&!this._attachedOrderCreateHelper?(this._attachedOrderCreateHelper=M.create(this._containers.connectionRectangles,this._positionViewModel,this._captureZoneManager),this._attachedOrderCreateHelper.on(M.CREATE,this._onAttachedOrderCreated,this)):!this._positionViewModel.canAddAttachedOrders()&&this._attachedOrderCreateHelper&&(this._attachedOrderCreateHelper.un(null,this),this._attachedOrderCreateHelper.destroy(),this._attachedOrderCreateHelper=null)},w._renderAttachedOrderConnectionRectangle=function(){this._attachedOrderCreateHelper&&(this._positionViewModel.areConnectionRectsVisible()?this._attachedOrderCreateHelper.show():this._attachedOrderCreateHelper.hide())},w._removeAttachedOrderHelper=function(e){var t=(0,s.find)(this._attachedOrdersHelpers,(function(t){return e===t.getAttachedOrdersViewModel()}));t&&(t.destroy(),(0,s.remove)(this._attachedOrdersHelpers,t)),this._updateAttachedOrderConnectionRect(),this._riskRatioTextBubble.hide(),e.un(null,this),this.renderOnFrameEnd()},w._destroyRiskRatioBubble=function(){this._riskRatioTextBubble&&(this._riskRatioTextBubble.destroy(),this._riskRatioTextBubble=null)},Object.seal(w);const L=Object.seal(D);var R=i(43130),P=l.A.extend(Object.assign((function(e,t,i){this.viewModelOther=i.getCancelledBy(),this.viewModelSelf=i,this.initDom()}),{__constructorTransform:function(e,t,i){return[e.ocoLines,t]}}),n.default);P.create=function(e,t,i){return new P(e,t,i)},P.OFFSET_LEFT=T.default.MARGIN+T.default.TEXT_PADDING;var N=P.prototype;N.viewModelOther=null,N.viewModelSelf=null,N._dLines=null,N.initDom=function(){this._dLines=[this._dContainer.append("svg:line").classed("main",!0)]},N.render=function(){var e=this.viewModelSelf.getBadgePositionOnScreen(),t=this.viewModelOther.getBadgePositionOnScreen(),i=this.viewModelSelf.getSizeBoxDimensions(),n=Math.min(e,t)+i.height,s=Math.max(e,t);(0,R.invokeMap)(this._dLines,"attrs",{x1:P.OFFSET_LEFT,y1:n,x2:P.OFFSET_LEFT,y2:s})},N.destroy=function(){this._dLines&&((0,R.invokeMap)(this._dLines,"remove"),delete this._dLines),delete this.viewModelOther,delete this.viewModelSelf,P.superclass.destroy.call(this)},Object.seal(N);const k=Object.seal(P);var x=i(58679),V=i(71228),B=i(31715),H=i(8697),W=i(23584),F=i(25322),U=l.A.extend((function(){}),B.default);U.create=function(e,t,i){return new U(e,t,i)};var G=U.prototype;G.points=[],G.setPoints=(0,c.setter)("points"),G.getPoints=(0,c.getter)("points"),G._constraints=null,G.setConstraints=function(e){return this._constraints=e?F.default.normaliseDimensions(e):null,this},G.pointInCaptureZone=function(e,t){if(!this.isSet())return!1;if(t<this._constraints.y||t>this._constraints.y+this._constraints.height||e<this._constraints.x||e>this._constraints.x+this._constraints.width)return!1;var i,n,s=H.findClosestIndex({x:e,y:t},this.points,this._distanceCompare);return s!=H.BEFORE_START&&s!=H.AFTER_END&&s!=H.NOT_PRESENT&&(i=this.points[s],s+1<this.points.length-1?n=this.points[s+1]:(n=i,i=this.points[s-1]),!(!i||!n)&&(i.x>0||n.x>0)&&(i.y>0||n.y>0)&&this._padding>=W.default.distancePointToSegment(e,t,i.x,i.y,n.x,n.y))},G.isSet=function(){return(0,s.nonEmpty)(this.points)&&!!this._constraints},G._distanceCompare=function(e,t,i,n){var s=i+1<n.length-1?n[i+1]:t;return e.x<t.x?-1:e.x>s.x?1:0},Object.seal(G);const j=Object.seal(U);var K=i(98760),z=i(23463),Z=Object.freeze({INNER:3,INNER_SELECTED:2.5,OUTER:5}),Y=l.A.extend(Object.assign((function(e,t,i,n,s,r){this._containers=e,this._positionViewModel=n,this._presentationController=s,this._captureZoneManager=r,this._subView=t,this._initDom(),this.render()}),{__constructorTransform:function(e,t,i,n,s,r){return[e.positions,i]}}),n.default);Y.create=function(e,t,i,n,s,r){return new Y(e,t,i,n,s,r)};var $=Y.prototype;$._dEntryPoint=null,$._dPositionLineContainer=null,$._dPositionLine=null,$._dPositionLinePast=null,$._positionViewModel=null,$._presentationController=null,$._positionLineCaptureZone=null,$._positionLinePanRecogniser=null,$._captureZoneManager=null,$.render=function(){this._renderLine()},$.destroy=function(){Y.superclass.destroy.call(this),this._positionViewModel.un(null,this),this._positionLineCaptureZone&&(this._positionLineCaptureZone.destroy(),this._positionLineCaptureZone=null),this._dPositionLineContainer.remove(),this._dPositionLineContainer=null},$._initDom=function(){this._dPositionLineContainer=this._containers.positionLines.append("g"),this._dPositionLineGlow=this._dPositionLineContainer.append("path"),this._dPositionLine=this._dPositionLineContainer.append("path"),this._dPositionLinePast=this._dPositionLineContainer.append("path"),this._dEntryPoint=this._dPositionLineContainer.append("g").classed("entryPoint hidden",!0),this._dEntryPoint.append("circle").classed("outer",!0).attr("r",Z.OUTER),this._dEntryPoint.append("circle").classed("inner",!0),this._positionViewModel.areInteractionsEnabled()&&(this._positionLineCaptureZone=this._captureZoneManager.createZone(j,u.default.PROPAGATE_UNHANDLED,_.default.POSITION_PRICE_LINE),this._positionLineCaptureZone.withDefaultPadding().addGesture(K.default,{fastTap:!0}).withHandler(this._handlePositionLineTapped,this),this._updateCursor())},$._getPresentationModel=(0,c.delegate)("_presentationController","getPresentationModel"),$._renderLine=function(){var e=this._subView.dimensions,t=this._positionViewModel.getEntryPointPosition(),i=this._positionViewModel.isSelected(),n=this._positionViewModel.isDraggable(),s=!!this._getPresentationModel().selectedViewModel,r=(0,x.A)();r.x((0,c.plucker)("x")),r.y((0,c.plucker)("y")),r.curve(V.A),this._moveToTopIfSelected(),this._dPositionLineContainer.attr("class","").classed("igPosition",!0).classed("highlighted",this._positionViewModel.isHighlighted()).classed(this._positionViewModel.getPositionCssClass(),!0).classed(this._positionViewModel.getDirectionCssClass(),!0).classed("selected",i).classed("unselected",s&&!i),this._dPositionLineGlow.attr("d",r(this._positionViewModel.getEntireLinePoints())).classed(this._positionViewModel.getDirectionCssClass(),!0).classed("selected",i).classed("unselected",s&&!i),this._dPositionLine.attr("d",r(this._positionViewModel.getLinePoints())).attr("class","").classed("line",!0).classed(this._positionViewModel.getDirectionCssClass(),!0).classed(this._positionViewModel.getPositionCssClass(),!0),this._dPositionLinePast.attr("d",r(this._positionViewModel.getLinePointsPast())).attr("class","").classed("line past",!0).classed(this._positionViewModel.getDirectionCssClass(),!0).classed(this._positionViewModel.getPositionCssClass(),!0),this._dEntryPoint.classed("hidden",!t).attr("transform",h.default.svgTranslateAttrXY(t?t.x:0,t?t.y:0)),this._dEntryPoint.select(".inner").attr("r",i?Z.INNER_SELECTED:Z.INNER),this._positionViewModel.areInteractionsEnabled()&&(this._positionLineCaptureZone.setConstraints(e).setPoints(this._positionViewModel.getEntireLinePoints().map((function(t){return{x:t.x+e.x,y:t.y+e.y}}))),n&&!this._positionLinePanRecogniser?this._addPanRecogniser():n||this._removePanRecogniser(),this._updateCursor())},$._moveToTopIfSelected=function(){var e=this._dPositionLineContainer.node(),t=e.parentNode;this._positionViewModel.isSelected()&&"op"===this._positionViewModel.getPositionCssClass()&&e.nextElementSibling&&t.appendChild(e)},$._addPanRecogniser=function(){this._positionLinePanRecogniser=d.default.create({handleHold:!0}).withHandler(this._handleLineDragged.bind(this)).withEndHandler(this._handleLineDragEnd.bind(this)),this._positionLineCaptureZone.addGestureRecogniser(this._positionLinePanRecogniser)},$._removePanRecogniser=function(){this._positionLineCaptureZone.removeGestureRecogniser(this._positionLinePanRecogniser),this._positionLinePanRecogniser=null},$._handlePositionLineTapped=function(){this._positionViewModel.isSelected()?this._presentationController.deselectPosition():this._presentationController.selectPosition(this._positionViewModel),this._updateCursor()},$._updateCursor=function(){this._positionLineCaptureZone.withCursorOnHover(this._positionViewModel.isDraggable()?a.default.NS_RESIZE:a.default.POINTER)},$._handleLineDragged=function(e){var t=Math.max(0,Math.min(this._getPresentationModel().visibleWindow.height(),e.y)),i=this._getPresentationModel().visibleWindow.y.invert(t);this._presentationController.moveLevelTo(this._positionViewModel,i),this._positionViewModel.setLevelEditInProgress(!0)},$._handleLineDragEnd=function(){this._positionViewModel.getPriceLevel()!==this._positionViewModel.model.getOpenLevel()&&this._getPresentationModel().fire(b.default.EDITED,z.default.CHARTS_DRAG_EDIT_TICKET),this._presentationController.moveLevelTo(this._positionViewModel,this._positionViewModel.getPriceLevel()),this._positionViewModel.setLevelEditInProgress(!1)},Object.seal($);const q=Object.seal(Y);var X=i(93857),J=i(54116),Q=l.A.extend(Object.assign((function(e,t,i,n,s,r,o){this._containers=e,this._positionViewModel=s,this._captureZoneManager=i,this._subView=n,this._eventBus=o,this._presentationController=r,this._priceLevelHelper=q.create(this._containers,this._subView,this._animationPoller,this._positionViewModel,this._presentationController,this._captureZoneManager),this._positionViewModel.on(J.LEVEL_EDIT_IN_PROGRESS,this.render,this),this.render()}),{__constructorTransform:function(e,t,i,n,s,r,o){return[e.positions,t]}}),n.default);Q.create=function(e,t,i,n,s,r,o){return new Q(e,t,i,n,s,r,o)};var ee=Q.prototype;ee._attachedOrdersHelper=null,ee._containers=null,ee._captureZoneManager=null,ee._ocoHelper=null,ee._priceLevelHelper=null,ee._positionHelper=null,ee._presentationController=null,ee._eventBus=null,ee._positionViewModel=null,ee._subView=null,ee.render=function(){var e=this._positionViewModel.badgeVisible;!this._positionHelper&&e?this._positionHelper=X.A.create(this._containers.positions,this._animationPoller,this._captureZoneManager,this._subView,this._positionViewModel,this._presentationController,this._eventBus):this._positionHelper&&!e&&(this._positionHelper.destroy(),this._positionHelper=null),this._positionHelper&&this._positionHelper.render(),this._positionViewModel.getCancelledBy()&&(!this._ocoHelper&&this._positionViewModel.isSelected()?this._ocoHelper=k.create(this._containers,this._animationPoller,this._positionViewModel):this._ocoHelper&&!this._positionViewModel.isSelected()&&(this._ocoHelper.destroy(),delete this._ocoHelper),this._ocoHelper&&this._ocoHelper.render()),!this._attachedOrdersHelper&&this._positionViewModel.attachedOrdersVisible?this._attachedOrdersHelper=L.create(this._containers,this._animationPoller,this._captureZoneManager,this._positionViewModel,this._presentationController,this._eventBus):this._attachedOrdersHelper&&!this._positionViewModel.attachedOrdersVisible&&(this._attachedOrdersHelper.destroy(),this._attachedOrdersHelper=null),this._attachedOrdersHelper&&this._attachedOrdersHelper.render(),this._priceLevelHelper.render()},ee.destroy=function(){this._positionViewModel.un(null,this),this._ocoHelper&&(this._ocoHelper.destroy(),delete this._ocoHelper),this._positionHelper&&(this._positionHelper.destroy(),delete this._positionHelper),this._attachedOrdersHelper&&(this._attachedOrdersHelper.destroy(),delete this._attachedOrdersHelper),this._priceLevelHelper&&(this._priceLevelHelper.destroy(),delete this._priceLevelHelper),Q.superclass.destroy.call(this)},Object.seal(ee);const te=Object.seal(Q)},97798:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>m});var n=i(85690),s=i(41943),r=i(51837),o=i(12990),a=i(98760),l=i(50951),d=i(9525),u=i(13365),c=i(87697),h=i(80309),p=i(17690),_=i(10520),g=o.A.extend((function(e,t,i,n){this._attachedOrdersPriceLevelHelpers=[]}),n.default),f=g.prototype;f._unselectOnTapCaptureZone=null,f._attachedOrdersPriceLevelHelpers=null,f._priceLevelHelper=null,f.startRedrawingBasedOnChangesInVisibleWindow=function(){g.superclass.startRedrawingBasedOnChangesInVisibleWindow.call(this),this._createToggleSubscriptions()},f.stopRedrawingBasedOnChangesInVisibleWindow=function(){g.superclass.stopRedrawingBasedOnChangesInVisibleWindow.call(this),this._presentationModel.un(null,this)},f.render=function(){this._priceLevelHelper&&(this._priceLevelHelper.render(),(0,d.invokeCall)(this._attachedOrdersPriceLevelHelpers,"render"))},f.destroy=function(){this._restoreInitialState(),g.superclass.destroy.call(this)},f._createToggleSubscriptions=function(){this._presentationModel.on(c.default.SELECTED,this._onToggle,this),this._presentationModel.on(c.default.DESELECTED,this._onToggle,this)},f._onToggle=function(e){this._restoreInitialState(),e.isSelected()&&(this._createUnselectCaptureZone(),this._positionViewModel=e,this._positionViewModel.on(p.default.UPDATED,this.renderOnFrameEnd,this),this._positionViewModel.on(p.default.ATTACHED_ORDER_ADDED,this._handleAttachedOrderAdded,this),this._positionViewModel.on(p.default.ATTACHED_ORDER_REMOVED,this._handleAttachedOrderRemoved,this),this._initDom(),this.renderOnFrameEnd())},f._restoreInitialState=function(){this._removeDomElements(),this._removeCaptureZones(),this._positionViewModel&&(this._positionViewModel.un(null,this),delete this._positionViewModel)},f._createUnselectCaptureZone=function(){this._unselectOnTapCaptureZone=this._captureZoneManager.createZone(u.default,l.default.PROPAGATE_UNHANDLED,_.default.SHARED_DISMISSAL_CAPTURE_ZONE),this._unselectOnTapCaptureZone.addGesture(a.default,{onGesture:this._presentationController.deselectPosition,context:this._presentationController})},f._handleAttachedOrderAdded=function(e){e&&this._addAttachedOrderPriceLevelHelper(e),this.renderOnFrameEnd()},f._handleAttachedOrderRemoved=function(e){var t=(0,s.find)(this._attachedOrdersPriceLevelHelpers,(function(t){return t.getAttachedOrderViewModel()===e}));if(t){var i=this._attachedOrdersPriceLevelHelpers.indexOf(t);t.destroy(),this._attachedOrdersPriceLevelHelpers.splice(i,1)}},f._addAttachedOrderPriceLevelHelper=function(e){if(e.showLevelBadge()){var t=r.A.create(this.dContainer,this._animationPoller,this._visibleWindow,this._positionViewModel,e,this._presentationController,this._captureZoneManager);t.initDom(),this._attachedOrdersPriceLevelHelpers.push(t)}},f._initDom=function(){this._positionViewModel.getAttachedOrdersViewModels().forEach(this._addAttachedOrderPriceLevelHelper,this),this._positionViewModel.showPositionLevelBadge()&&(this._priceLevelHelper=h.A.create(this.dContainer,this._animationPoller,this._captureZoneManager,this._subView,this._positionViewModel,this._presentationModel,this._presentationController),this._priceLevelHelper.initDom()),this.render()},f._removeDomElements=function(){this._priceLevelHelper&&(this._priceLevelHelper.destroy(),this._priceLevelHelper=null),(0,d.invokeCall)(this._attachedOrdersPriceLevelHelpers,"destroy"),this._attachedOrdersPriceLevelHelpers=[]},f._removeCaptureZones=function(){this._unselectOnTapCaptureZone&&(this._unselectOnTapCaptureZone.destroy(),this._unselectOnTapCaptureZone=null)},Object.seal(f);const m=Object.seal(g)},8887:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>p});var n=i(85690),s=i(12990),r=i(87697),o=i(54404),a=i(97637),l=i(17690),d=i(72873),u=i(73453),c=s.A.extend((function(e,t,i,n){this._positionHelpers={}}),n.default),h=c.prototype;h._positionHelpers=null,h._containers=null,h.startRedrawingBasedOnChangesInVisibleWindow=function(){this._visibleWindow.isReadyForRender()?this._handleReadyForRender():this._visibleWindow.on(u.default.READY_FOR_RENDER,this._handleReadyForRender,this,{once:!0})},h.stopRedrawingBasedOnChangesInVisibleWindow=function(){this._visibleWindow.un(null,this),this._presentationModel.un(null,this)},h.render=function(){this.dContainer.classed("fadeOut",this._presentationModel.fadeOut).classed("tradeConfirmsRequired",this._presentationModel.tradeConfirmsRequired),Object.keys(this._positionHelpers).forEach((function(e){this._positionHelpers[e].render()}),this)},h.initDom=function(){var e=this._subView.newDefs("dealing");return d.default.createLinearGradient(e,this._getUniqueElementId("gradient-button-close"),"gradient-button-close"),d.default.createLinearGradient(e,this._getUniqueElementId("gradient-button-white"),"gradient-button-white"),d.default.createLinearGradient(e,this._getUniqueElementId("gradient-button-red"),"gradient-button-red"),d.default.createLinearGradient(e,this._getUniqueElementId("gradient-button-blue"),"gradient-button-blue"),this._containers={limits:this.dContainer.append("g").classed("limits",!0),positionLines:this.dContainer.append("g").classed("positionLines",!0),connectionRectangles:this.dContainer.append("g").classed("connectionRectangles",!0),riskRewardBubble:this.dContainer.append("g"),positions:this.dContainer.append("g").classed("positionBadges",!0),ocoLines:this.dContainer.append("g").classed("ocoLines",!0)},this},h.destroy=function(){this._containers=null,this._subView.removeDefs("dealing"),Object.keys(this._positionHelpers).forEach((function(e){this._positionHelpers[e].destroy()}),this),this._positionHelpers=null,c.superclass.destroy.call(this)},h._getUniqueElementId=function(e){return this._subView.getChartView().getUniqueElementId(e)},h._handleReadyForRender=function(){this._presentationModel.positions.forEach(this._addPosition,this),this._presentationModel.on(r.default.ADDED,this._addPosition,this),this._presentationModel.on(r.default.DELETED,this._removePosition,this),this._presentationModel.on(r.default.SELECTED,this.renderOnFrameEnd,this),this._presentationModel.on(r.default.DESELECTED,this.renderOnFrameEnd,this),this._presentationModel.on(r.default.TRADE_CONFIRMS_REQUIRED_CHANGED,this.renderOnFrameEnd,this),this._presentationModel.on(o.default.FADE_OUT,this.renderOnFrameEnd,this)},h._addPosition=function(e){var t=a.A.create(this._containers,this._animationPoller,this._captureZoneManager,this._subView,e,this._presentationController,this._eventBus);e.on(l.default.UPDATED,this.renderOnFrameEnd,this),this._positionHelpers[e.getDealId()]=t},h._removePosition=function(e){var t=e.getDealId();e.un(null,this),this._positionHelpers[t]&&this._destroyHelper(t)},h._destroyHelper=function(e){this._positionHelpers[e].destroy(),delete this._positionHelpers[e]},Object.seal(h);const p=Object.seal(c)},55926:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>p});var n=i(94944),s=i(10094),r=i(40708),o=i(17690),a=i(54404),l=i(93666);function d(e,t){return e>t}function u(e,t){return e!==t}function c(e,t){this._textMeasurer=l.default.create(e),this._visibleWindow=t,this._resetCachedWidths(),this.setOptimisedForRendering(!0)}c.create=function(e,t){return new c(e,t)},c._inRange=function(e,t){return!!(0,s.isNumber)(t)&&(0,r.inRange)(e,t)};var h=c.prototype;h._textMeasurer=null,h._visibleWindow=null,h._cachedBoxesWidth=null,h._comparator=null,h.setOptimisedForRendering=function(e){return this._comparator=e?d:u,this},h.solveLayoutForPosition=function(e,t){var i=t.shallowCopy();e.updatePositionsOnScreen(),this.verifyBoxesWidth(e),i.add(e,a.default.comparatorFunc),this.updatePositionsLayouts(i)},h.updatePositionsLayouts=function(e){var t=e.map((function(e){return e.updatePositionsOnScreen(),e.getPricePositionOnScreen()-o.default.BOX_HEIGHT/2})),i=(0,n.spacePointsUpAndDown)(t.reverse(),o.default.BOX_HEIGHT+5).reverse();e.forEach((function(e,t){e.setBadgePositionOnScreen(i[t]),e.setConfirmationButtonLabelWidth(this._textMeasurer.estimateTextWidth(e.getPositionConfirmationCloseText()))}),this),e.forEach(this.updateVisibility,this)},h._resetCachedWidths=function(){this._cachedBoxesWidth={positionSizeBox:0,positionInfoBox:0,positionCloseButtonText:0}},h._getInfoIconWidth=function(e){return!e.presentationModel.tradeConfirmsRequired&&e.presentationModel.isPriceInSizeEnabled?20:0},h.verifyBoxesWidth=function(e){var t,i=e.getSizeText(),n=e.getPositionInfoText(),s=e.getPositionConfirmationCloseText(),r=e.getPositionCloseText(),a=this._textMeasurer.estimateTextWidth(i)+2*o.default.TEXT_PADDING+this._getInfoIconWidth(e),l=n?this._textMeasurer.estimateTextWidth(n)+3*o.default.TEXT_PADDING:0,d=this._textMeasurer.estimateTextWidth(s)+2*o.default.TEXT_PADDING,u=this._textMeasurer.calculateTextWidth(r)+2*o.default.TEXT_PADDING,c=Math.max(d,u);if(e.presentationModel.tradeConfirmsRequired!==this._cachedTradeConfirmsRequired&&this._resetCachedWidths(),this._cachedTradeConfirmsRequired=e.presentationModel.tradeConfirmsRequired,!e.alignWithOthers())return(t=Object.create(this._cachedBoxesWidth)).positionSizeBox=a,t.positionInfoBox=l,t.positionCloseButtonText=c,void e.setInterfaceMeasurements(t);e.setInterfaceMeasurements(this._cachedBoxesWidth),this._comparator(a,this._cachedBoxesWidth.positionSizeBox)&&(this._cachedBoxesWidth.positionSizeBox=a),this._comparator(l,this._cachedBoxesWidth.positionInfoBox)&&(this._cachedBoxesWidth.positionInfoBox=l),this._comparator(c,this._cachedBoxesWidth.positionCloseButtonText)&&(this._cachedBoxesWidth.positionCloseButtonText=c)},h.updateVisibility=function(e){var t=[this._visibleWindow.leastValueShown(),this._visibleWindow.greatestValueShown()],i=[this._visibleWindow.y.range()[0]-80,this._visibleWindow.y.range()[1]+80],n=e.getMinMaxAttachedOrderLevels(),s=e.isSelected()||c._inRange(i,e.getBadgePositionOnScreen()),r=e.isSelected()||c._inRange(i,e.getPricePositionOnScreen())||c._inRange(t,n.min)||c._inRange(t,n.max);e.setVisible(s,r)},h.destroy=function(){this._textMeasurer.destroy()},Object.seal(h);const p=Object.seal(c)},93666:(e,t,i)=>{"use strict";function n(e){this._dTextElement=e.getContainer("playground").append("span"),this._textWidthCache=Object.create(null),this._textWidthCacheByStringLength=Object.create(null)}i.r(t),i.d(t,{default:()=>r}),n.create=function(e){return new n(e)};var s=n.prototype;s._dTextElement=null,s._textWidthCache=null,s._textWidthCacheByStringLength=null,s.getBBoxForText=function(e){var t;return this._dTextElement.text(e),t=this._dTextElement.node().getBoundingClientRect(),this._dTextElement.text(""),t},s.estimateTextWidth=function(e){return this._textWidthCacheByStringLength[e.length]||(this._textWidthCacheByStringLength[e.length]=this.getBBoxForText(e).width),this._textWidthCacheByStringLength[e.length]},s.calculateTextWidth=function(e){return this._textWidthCache[e]||(this._textWidthCache[e]=this.getBBoxForText(e).width),this._textWidthCache[e]},s.destroy=function(){this._dTextElement.remove(),this._dTextElement=null,this._textWidthCache=null,this._textWidthCacheByStringLength=null},Object.seal(s);const r=Object.seal(n)},52412:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>U});var n=i(44455),s=i(62320),r=i(43130),o=i(3565),a=i(33943),l=i(86605),d=i(12990),u=i(43735),c=i(9525),h=i(4560),p=i(55926),_=i(87697),g=i(39160),f=i(17690),m=i(73453),v=i(30623),A=i(74975),E=d.A.extend((function(){}),o.default);E.createPositionPreviewViewModel=function(e,t){return e?e instanceof v.default?A.A.create(e,t):e.isKnockout()?h.A.create(e,t):g.default.create(e,t):null};var T=E.prototype;T._chartView=null,T._module=null,T.createAttachedOrderViewModel=(0,c.invoker)("createAttachedOrderViewModel"),T.startListening=function(e){E.superclass.startListening.call(this,e),this._module=this._moduleLoader.getModule("dealingPreview"),this._positionsLayoutSolver=p.default.create(this._containerProvider,e).setOptimisedForRendering(!1),this._presentationModel.positionsEditable=this._module.isEditable(),this._presentationModel.subview=this._subView,this._presentationModel.visibleWindow=e,this._presentationModel.withPriceIndicatorWidth(this._moduleLoader.getModule("dealingPositionsAndOrders").getPriceWidth()),this._presentationModel.withLayoutSolver(this._positionsLayoutSolver),this._eventBus.subscribe("chart/view/ready",this._handleChartViewReady,this),this._module.on(u.default.POSITION_PREVIEW_TOGGLED,this._handlePositionPreviewToggle,this),this._handlePositionPreviewToggle(this._module.getPreviewModel()),this._visibleWindow.on(m.default.MOVED,this._onVisibleWindowMoved,this)},T.stopListening=function(){this._positionsLayoutSolver&&(this._positionsLayoutSolver.destroy(),this._positionsLayoutSolver=null),this._handlePositionPreviewToggle(null),this._moduleLoader.getModule("dealingPreview").un(null,this),E.superclass.stopListening.call(this)},T.getUniqueElementId=(0,c.delegate)("_chartView","getUniqueElementId"),T.getEnhancedDragging=function(){return this._module.getEnhancedDragging()},T.selectPosition=r.noop,T.deselectPosition=r.noop,T.openEditDialogIfEditable=r.noop,T.getTradeConfirmsRequired=function(){return!1},T.moveLevelTo=function(e,t){var i=t-e.getPriceLevel();e.setPriceLevel(t),e.getAttachedOrdersViewModels().forEach((function(e){e.setPriceLevel((0,r.round)(e.getPriceLevel()+i,1))}),this)},T._onVisibleWindowMoved=function(e,t){t&(l.default.MOVED|l.default.ZOOMED|l.default.RESIZED)&&this._presentationModel.updateLayout(),e&(l.default.MOVED|l.default.ZOOMED|l.default.RESIZED)&&this._presentationModel.notifyOfUpdate()},T._handleChartViewReady=(0,c.setter)("_chartView"),T._handlePositionPreviewToggle=function(e){this._presentationModel.isPriceInSizeEnabled=this._moduleLoader.getModule("dealingCommon").isPriceInSizeEnabled();var t=E.createPositionPreviewViewModel(e,this._presentationModel);e||(this._presentationModel.getPositionPreviewViewModel()&&this._presentationModel.getPositionPreviewViewModel().un(g.default.EDITED,this),this._presentationModel.un(_.default.EDITED,this),this._presentationModel.un(_.default.INVALID,this),this._stopFitting()),this._presentationModel.setPositionPreviewViewModel(t),this._presentationModel.on(_.default.EDITED,this._handlePreviewEditingFinished,this),this._presentationModel.on(_.default.INVALID,this._handlePreviewEditingFinished,this),e&&(this._startFitting(),t.on(g.default.EDITED,this._handlePreviewEdited.bind(this,t),this)),this._moduleLoader.getModule("dealingPositionsAndOrders").setFadeOut(!!t)},T._startFitting=function(){var e=this._presentationModel.getPositionPreviewViewModel();e.on(f.default.PRICE_LEVEL_UPDATED,this._updateFitting,this),e.on(f.default.ATTACHED_ORDER_ADDED,this._updateFitting,this),e.on(f.default.ATTACHED_ORDER_REMOVED,this._updateFitting,this),e.on(f.default.ATTACHED_ORDER_CHANGED,this._updateFitting,this),this._eventBus.subscribe("chart/yfitting/manual",this._stopFitting,this),this._visibleWindow.isReadyForRender()&&this._chartView.moveToLatestCandle()},T._updateFitting=function(){var e=this._presentationModel.getPositionPreviewViewModel(),t=e.getMinMaxAttachedOrderLevels(),i=Math.min(e.getPriceLevel(),t.min),n=Math.max(e.getPriceLevel(),t.max);this._subView.setExtendedFittingRange(i,n)},T._stopFitting=function(){var e=this._presentationModel.getPositionPreviewViewModel();e&&(this._subView.setExtendedFittingRange(null,null),e.un(f.default.PRICE_LEVEL_UPDATED,this),e.un(f.default.ATTACHED_ORDER_ADDED,this),e.un(f.default.ATTACHED_ORDER_REMOVED,this),e.un(f.default.ATTACHED_ORDER_CHANGED,this)),this._eventBus.unsubscribe("chart/yfitting/manual",this._stopFitting,this)},T._handlePreviewEdited=function(e){var t,i,n,s=e.canSwapAttachedOrder();e.getAttachedOrdersViewModels().forEach((function(r){t=r.getAttachedOrder()&&r.getType()!==r.getAttachedOrder().type,r.getAttachedOrder()?s&&t&&e.model.swapAttachedOrders():(i=r.getType(),(n=e.getOppositeAttachedOrderViewModel(r))&&(i=a.default.flipType(n.getType())),e.model.createAbsoluteAttachedOrder(i)),r.updateDomain()})),this._eventBus.publish("api/out/preview/edited",[e.model.getState()])},T._handlePreviewEditingFinished=function(){var e=this._presentationModel.getSelectedViewModel();e.getAttachedOrdersViewModels().forEach((function(t){var i=t.getAttachedOrder().type;t.isMarkedForRemoval()?e.model.removeAttachedOrder(i):t.isValid()||(t.hasLastSelectedValues()?(t.restoreToLastSelected(),t.updateDomain()):e.model.removeAttachedOrder(i))})),this._eventBus.publish("api/out/preview/edited",[e.model.getState()])},Object.seal(T);const I=Object.seal(E);var C=i(48990),O=i(55986),M=d.A.extend((function(){this._positionPreviewViewModelCollection=new O.default}),C.default);M.PREVIEW_ADDED="PREVIEW_ADDED",M.PREVIEW_UPDATED="PREVIEW_UPDATED",M.PREVIEW_REMOVED="PREVIEW_REMOVED";var y=M.prototype;y.isPriceInSizeEnabled=!1,y._positionPreviewViewModel=null,y._positionPreviewViewModelCollection=null,y.subview=null,y.visibleWindow=null,y.withPriceIndicatorWidth=(0,c.setter)("priceIndicatorWidth"),y.positionsEditable=null,y.tradeConfirmsRequired=!1,y.setPositionPreviewViewModel=function(e){var t=this._positionPreviewViewModel;this._positionPreviewViewModel&&this._positionPreviewViewModel.un(null,this),this._positionPreviewViewModel=e,e?(this._positionPreviewViewModel.on(f.default.UPDATED,this._updatePreviewPositionOnScreen,this),this._layoutSolver.solveLayoutForPosition(e,new O.default),this._positionPreviewViewModelCollection.add(this._positionPreviewViewModel),this.fire(M.PREVIEW_ADDED,this._positionPreviewViewModel),this.fire(_.default.SELECTED,this._positionPreviewViewModel)):(this._positionPreviewViewModelCollection=new O.default,this.fire(M.PREVIEW_REMOVED,t),this.fire(_.default.DESELECTED,t))},y.getPositionPreviewViewModel=(0,c.getter)("_positionPreviewViewModel"),y.getSelectedViewModel=(0,c.getter)("_positionPreviewViewModel"),y.withLayoutSolver=(0,c.setter)("_layoutSolver"),y.updateLayout=function(){this._positionPreviewViewModel&&(this._layoutSolver.updatePositionsLayouts(this._positionPreviewViewModelCollection),this.notifyOfUpdate())},y.notifyOfUpdate=function(){this.fire(M.PREVIEW_UPDATED)},y._updatePreviewPositionOnScreen=function(e){this._layoutSolver.verifyBoxesWidth(e),this.updateLayout()},Object.seal(y);const b=Object.seal(M);var S=i(85690),D=i(8247),w=i(72873),L=d.A.extend((function(){}),S.default),R=L.prototype;R._dProfitProjection=null,R._dLossProjection=null,R.initDom=function(){var e=this._subView.newDefs("dealingPreview");return w.default.createLinearGradient(e,this._getUniqueElementId("gradient-profit-long-projection"),"gradient-profit-long-projection"),w.default.createLinearGradient(e,this._getUniqueElementId("gradient-profit-short-projection"),"gradient-profit-short-projection"),this._dProfitProjection=this.dContainer.append("rect").classed("profitProjection",!0),this._dLossProjection=this.dContainer.append("rect").classed("lossProjection",!0),this},R._getGradient=function(e){return"url(#"+this._presentationController.getUniqueElementId(e)+")"},R.startRedrawingBasedOnChangesInVisibleWindow=function(){this._presentationModel.on(b.PREVIEW_ADDED,this.renderOnFrameEnd,this),this._presentationModel.on(b.PREVIEW_REMOVED,this.renderOnFrameEnd,this),this._presentationModel.on(b.PREVIEW_UPDATED,this.renderOnFrameEnd,this)},R.render=function(){var e=this._presentationModel.getPositionPreviewViewModel(),t=(e&&e.getAttachedOrdersViewModels()||[]).some((function(e){return e.getType()===D.default.STRIKE_LINE}));e&&!t?(this._updateProjection(this._dProfitProjection,e.getProfitProjectionBox(),!!e.getLimitPointsAway(),this._getGradient(e.getProfitGradient())),this._updateProjection(this._dLossProjection,e.getLossProjectionBox(),!!e.getStopPointsAway(),null)):(this._dProfitProjection.classed("hidden",!0),this._dLossProjection.classed("hidden",!0))},R._updateProjection=function(e,t,i,n){e.attrs(t).attr("fill",n).classed("hidden",!t).classed("withAttachedOrder",i)},R.stopRedrawingBasedOnChangesInVisibleWindow=function(){this._presentationModel.un(null,this)},R._getUniqueElementId=function(e){return this._subView.getChartView().getUniqueElementId(e)},R.destroy=function(){this._subView&&this._subView.removeDefs("dealingPreview"),L.superclass.destroy.call(this)},Object.seal(R);const P=Object.seal(L);var N=i(97637),k=d.A.extend((function(){}),S.default),x=k.prototype;x._positionRenderer=null,x._containers=null,x.initDom=function(){return this._containers={limits:this.dContainer.append("g").classed("limits",!0),positionLines:this.dContainer.append("g").classed("positionLines",!0),connectionRectangles:this.dContainer.append("g").classed("connectionRectangles",!0),riskRewardBubble:this.dContainer.append("g"),positions:this.dContainer.append("g").classed("positionBadges",!0),ocoLines:this.dContainer.append("g").classed("ocoLines",!0)},this},x.startRedrawingBasedOnChangesInVisibleWindow=function(){var e=this._presentationModel.getPositionPreviewViewModel();this._presentationModel.on(b.PREVIEW_ADDED,this._addPreview,this),this._presentationModel.on(b.PREVIEW_REMOVED,this._removePreview,this),this._presentationModel.on(b.PREVIEW_UPDATED,this.render,this),this._visibleWindow.isReadyForRender()&&e?this._addPreview(e):this._visibleWindow.isReadyForRender()||this._visibleWindow.on(m.default.READY_FOR_RENDER,(function(){var e=this._presentationModel.getPositionPreviewViewModel();e&&this._addPreview(e)}),this,{once:!0})},x.stopRedrawingBasedOnChangesInVisibleWindow=function(){this._presentationModel.un(null,this),this._positionRenderer&&this._positionRenderer.destroy(),this._visibleWindow&&this._visibleWindow.un(m.default.READY_FOR_RENDER,this)},x.render=function(){this._positionRenderer&&this._positionRenderer.render()},x._addPreview=function(e){this._positionRenderer=N.A.create(this._containers,this._animationPoller,this._captureZoneManager,this._subView,e,this._presentationController,this._eventBus)},x._removePreview=function(){this._positionRenderer&&(this._positionRenderer.destroy(),this._positionRenderer=null)},Object.seal(x);const V=Object.seal(k);var B=i(97798),H=d.A.extend((function(){}),B.default),W=H.prototype;W._createToggleSubscriptions=function(){this._presentationModel.on(b.PREVIEW_ADDED,this._onToggle,this),this._presentationModel.on(b.PREVIEW_REMOVED,this._onToggle,this);var e=this._presentationModel.getPositionPreviewViewModel();e&&this._onToggle(e)},Object.seal(W);const F=Object.seal(H);const U=(0,i(54859).recursiveFreeze)({prices:{presentationControllers:{dealingPreview:{type:I,presentationModel:{type:b}}},renderers:{dealingPreview:{type:V,group:"studyOverlay",position:"studyOverlay",presentationController:"dealingPreview",properties:{relativeWeighting:1e3}},dealingPreviewMinimumAttachedOrderBanding:{type:s.default,group:"studyOverlay",position:"studyOverlay",presentationController:"dealingPreview",properties:{relativeWeighting:900}},dealingPreviewMaximumStopBanding:{type:n.default,group:"studyOverlay",position:"studyOverlay",presentationController:"dealingPreview",properties:{relativeWeighting:900}},dealingPreviewBadges:{type:F,group:"yAxis",position:"yAxis",presentationController:"dealingPreview",properties:{relativeWeighting:1e3}},dealingPreviewProjections:{type:P,group:"studyOverlay",position:"studyOverlay",presentationController:"dealingPreview",properties:{relativeWeighting:999}}}}})},43735:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>n});const n=Object.freeze({POSITION_PREVIEW_TOGGLED:"POSITION_PREVIEW_TOGGLED"})},34438:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>n});const n=new(i(95151).default)({de:{menuOption:"Positionvorschau"},en:{menuOption:"Position preview"},es:{menuOption:"Vista previa de posición"},fr:{menuOption:"Aperçu de la position"},it:{menuOption:"Anteprima della posizione"},ja:{menuOption:"取引内容のプレビュー"},nl:{menuOption:"Positie voorbeeldweergave"},nb:{menuOption:"Forhåndsvisning av posisjon"},pt:{menuOption:"Visualização da posição"},sv:{menuOption:"Översikt av position"},zh:{menuOption:"仓位预览"},zh_TW:{menuOption:"倉位預覽"}})},66719:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>d});var n=i(33943),s=i(8247),r=i(12990),o=i(61346),a=r.A.extend(Object.assign((function(e,t,i,n){this._positionPreview=e}),{__constructorTransform:function(e,t,i,n){return[null,t,i,n]}}),n.default);a.create=function(e,t,i,n){return new a(e,t,i,n)};var l=a.prototype;l._positionPreview=null,l._distance=null,l.setType=function(e){this.type=e},l.recalculate=function(){this._distance&&this.setDistance(this._distance)},l.isRelative=function(){return!!this._distance},l.getDistance=function(){return Math.abs(this._positionPreview.getOpenLevel()-this.priceLevel)},l.setDistance=function(e){var t,i;this._distance=e,i=this._positionPreview.isBearKnockout()?this.type===s.default.STOP:this._positionPreview.isBuy()&&this.type===s.default.LIMIT||!this._positionPreview.isBuy()&&this.type===s.default.STOP,t=this._positionPreview.getOpenLevel()+(i?e:-e),this.priceLevel=t,this.fire(n.CHANGED)},l.setPriceLevel=function(e){this._distance=null,a.superclass.setPriceLevel.call(this,e)},l.setScaledPriceLevel=function(e){this.setPriceLevel(e*this.scalingFactor)},l.getAttachedOrderState=function(){return this.isRelative()?{type:o.Level.Type.RELATIVE,value:this.getDistance()}:{type:o.Level.Type.ABSOLUTE,value:this.getScaledPrice()}},Object.seal(l);const d=Object.seal(a)},21335:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>l});var n=i(12990),s=i(12488),r=i(90345),o=n.A.extend((function(){}),r.default);o.create=function(e,t,i){return new o(e,t,i)};var a=o.prototype;a.getAttachedOrderInfoText=function(){return(this._positionViewModel.isTradeLong()?1:-1)*this.getPointsDifference()+s.default.get("points")},Object.seal(a);const l=Object.seal(o)},90345:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>u});var n=i(43130),s=i(38731),r=i(12990),o=i(9525),a=i(10520),l=r.A.extend((function(){}),s.default);l.create=function(e,t,i){return new l(e,t,i)};var d=l.prototype;d.setPriceLevel=function(){if(!this.isDragged())return l.superclass.setPriceLevel.apply(this,arguments)},d.restoreFromDomain=function(){if(!this.isDragged())return l.superclass.restoreFromDomain.apply(this,arguments)},d.getRemoveButtonZIndex=(0,n.constant)(a.default.DEAL_TICKET_CONTROLS),d.setAttachedOrder=(0,o.setter)("_attachedOrder"),d._stopToLimitSwitchAllowed=(0,n.constant)(!0),d.recalculatePriceLevelChange=function(){this._attachedOrder.isRelative()?this._attachedOrder.recalculate():this.validate()},d.getProfitLoss=function(){var e;return"function"==typeof this._positionViewModel.getMaximumLoss&&(e=this._positionViewModel.getMaximumLoss()),e||l.superclass.getProfitLoss.call(this)},d.validate=function(){this._attachedOrder&&this._attachedOrder.isKnockout()||l.superclass.validate.call(this)},Object.seal(d);const u=Object.seal(l)},89022:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>n});const n=new(i(95151).default)({de:{buy:"Kauf",sell:"Verkauf",contracts:"Kontrakte",pts:"amount/pt",shares:"Aktien",ticketLabelSize:"Größe",ticketPlaceDeal:"Trade platzieren",ticketMin:"mind.: {minimum}",notionalValueTitle:"Notional value",marginTitle:"Margin",marginReturnedTitle:"Margin freigegeben",closingPlTitle:"G&V bei Schließung",commissionTitle:"Kommission",commissionApplied:"Kommission wird erhoben",premium:"Prämie",premiumReceived:"Prämie erhalten",forceOpen:"Force Open",netOff:"Verrechnung"},en:{buy:"Buy",sell:"Sell",contracts:"contracts",pts:"amount/pt",shares:"shares",ticketLabelSize:"Size",ticketPlaceDeal:"Place deal",ticketMin:"min: {minimum}",notionalValueTitle:"Notional value",marginTitle:"Margin",marginReturnedTitle:"Margin returned",closingPlTitle:"Closing P&L",commissionTitle:"Commission",commissionApplied:"Commission applies",premium:"Premium",premiumReceived:"Premium Received",inheritedAttachedOrder:"<p>This trade will inherit the {0} from your existing position</p><p>You can change the {0} for your position on this market from the position screen</p>",forceOpen:"Force open",netOff:"Net off"},en_US:{contracts:"lots",pts:"amount/pips",ticketLabelSize:"Lots",ticketPlaceDeal:"Place trade"},es:{buy:"Comprar",sell:"Vender",contracts:"contratos",pts:"amount/pt",shares:"acciones",ticketLabelSize:"Tamaño",ticketPlaceDeal:"Realizar operación",ticketMin:"min: {minimum}",notionalValueTitle:"Notional value",marginTitle:"Margen",marginReturnedTitle:"Margen devuelto",closingPlTitle:"Cerrar B&P",commissionTitle:"Comisión",commissionApplied:"Se aplica una comisión",premium:"Prima",premiumReceived:"Prima recibida",forceOpen:"Forzar apertura",netOff:"Compensar"},fr:{buy:"Acheter",sell:"Vendre",contracts:"contrats",pts:"amount/pt",shares:"actions",ticketLabelSize:"quantité",ticketPlaceDeal:"Placer un ordre",ticketMin:"min: {minimum}",notionalValueTitle:"Notional value",marginTitle:"Couverture",marginReturnedTitle:"Couverture rendue",closingPlTitle:"G&P à la clôture",commissionTitle:"Commission",commissionApplied:"Une commission s'applique",premium:"Prime",premiumReceived:"Prime perçue",forceOpen:"Position forcée",netOff:"Compenser"},it:{buy:"Compra",sell:"Vendi",contracts:"contratti",pts:"amount/pt",shares:"titoli",ticketLabelSize:"Quantità",ticketPlaceDeal:"Inserisci ordine",ticketMin:"min: {minimum}",notionalValueTitle:"Notional value",marginTitle:"Margine",marginReturnedTitle:"Margine riaccreditato",closingPlTitle:"P&P in chiusura",commissionTitle:"Commissione",commissionApplied:"Commissione applicata",premium:"Premio",premiumReceived:"Premio Ricevuto",forceOpen:"Apertura forzata",netOff:"Compensazione"},ja:{buy:"買い",sell:"売り",contracts:"取引ﾛｯﾄ数",pts:"amount/pt",shares:"取引数",ticketLabelSize:"取引ロット数",ticketPlaceDeal:"注文",ticketMin:"min: {minimum}",notionalValueTitle:"Notional value",marginTitle:"維持証拠金",marginReturnedTitle:"維持証拠金",closingPlTitle:"清算 P&L",commissionTitle:"Commission",commissionApplied:"Commission applies",premium:"Premium",premiumReceived:"Premium Received",forceOpen:"両建て",netOff:"両建て無効"},nl:{buy:"Koop",sell:"Verkoop",contracts:"contracten",pts:"amount/pt",shares:"aandelen",ticketLabelSize:"Grootte",ticketPlaceDeal:"Plaats transactie",ticketMin:"min: {minimum}",notionalValueTitle:"Notional value",marginTitle:"Marge",marginReturnedTitle:"Teruggegeven marge",closingPlTitle:"Netto W&V",commissionTitle:"Commissie",commissionApplied:"Commissie van toepassing",premium:"Premium",premiumReceived:"Ontvangen premie",forceOpen:"Openen forceren",netOff:"Net off"},nb:{buy:"Kjøp",sell:"Selg",contracts:"kontrakter",pts:"beløp/pkt",shares:"aksjer",ticketLabelSize:"Størrelse",ticketPlaceDeal:"Plasser trade",ticketMin:"min: {minimum}",notionalValueTitle:"Notional value",marginTitle:"Margin",marginReturnedTitle:"Margin tilbakelevert",closingPlTitle:"G&T ved lukking",commissionTitle:"Kurtasje",commissionApplied:"Kurtasje gjelder",premium:"Premium",premiumReceived:"Mottat Premium",forceOpen:"Åpne ny",netOff:"Net off"},pt:{buy:"Comprar",sell:"Vender",contracts:"contratos",pts:"amount/pt",shares:"acções",ticketLabelSize:"Volume",ticketPlaceDeal:"Realizar operação",ticketMin:"min: {minimum}",notionalValueTitle:"Notional value",marginTitle:"Margem",marginReturnedTitle:"Margem devolvida",closingPlTitle:"Fechamento P&L",commissionTitle:"Comissão",commissionApplied:"A comissão aplica-se",premium:"Premium",premiumReceived:"Premium Recebido",forceOpen:"Forçar abertura",netOff:"Dedução"},sv:{buy:"Köpa",sell:"Sälja",contracts:"kontrakt",pts:"amount/pt",shares:"aktier",ticketLabelSize:"Storlek",ticketPlaceDeal:"Lägg order",ticketMin:"min: {minimum}",notionalValueTitle:"Notional value",marginTitle:"Säkerhetskrav",marginReturnedTitle:"Säkerhet tillbaka",closingPlTitle:"V/F vid stängning",commissionTitle:"Courtage",commissionApplied:"Courtage tillkommer",premium:"Premie",premiumReceived:"Erhållen premie",forceOpen:"Öppna ny",netOff:"Netting"},zh:{buy:"买入",sell:"卖出",contracts:"合约",pts:"amount/pt",shares:"股票",ticketLabelSize:"规模",ticketPlaceDeal:"下单",ticketMin:"最低: {minimum}",notionalValueTitle:"Notional value",marginTitle:"保证金",marginReturnedTitle:"返回保证金",closingPlTitle:"平仓损益",commissionTitle:"Commission",commissionApplied:"Commission applies",premium:"Premium",premiumReceived:"Premium Received",forceOpen:"强制开仓",netOff:"冲销"},zh_TW:{buy:"買入",sell:"賣出",contracts:"合約",pts:"amount/pt",shares:"股票",ticketLabelSize:"規模",ticketPlaceDeal:"下單",ticketMin:"最低: {minimum}",notionalValueTitle:"Notional value",marginTitle:"保證金",marginReturnedTitle:"返回保證金",closingPlTitle:"平仓损益",commissionTitle:"Commission",commissionApplied:"Commission applies",premium:"Premium",premiumReceived:"Premium Received",forceOpen:"強制開倉",netOff:"沖銷"}})},60644:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>n});const n=new(i(95151).default)({de:{STYLE:"Stil",BACKGROUND:"Hintergrund",BORDER:"Umrandung",DISPLAY_DRAWINGS_TEXT:"Anzeigen",ARROW:"Pfeil",ELLIOTT_WAVE:"Elliott-Welle (12345)",ELLIOTT_WAVE_ABC:"Elliott-Welle (ABC)",FIBONACCI:"Fibonacci Retracement",FIBONACCI_EXTENSION:"Fibonacci Extension",GANN_FAN:"Gann Fan",GANN_LINE:"Gann Line",HEAD_AND_SHOULDERS:"Kopf-Schulter-Formation",HORIZONTAL_LINE:"Horizontal","HORIZONTAL_LINE-LEVEL":"Level",OVAL:"Ellipse",POINT_TO_POINT:"Punkt zu punkt",CHANNEL:"Kanal",RECTANGLE:"Rechteck",TEXT:"Text",TREND_LINE:"Trend",TRIANGLE:"Dreieck",PITCHFORK:"Pitchfork",VERTICAL_LINE:"Vertikal",DELETE_DRAWING:"Löschen",DELETE_ALL_DRAWINGS:"Eingezeichnete Symbole löschen",DRAWINGS_SNAPPING:"An HLOC-Preise anheften",COPY_DRAWING:"Duplizieren",DRAWING_CUSTOMISE:"Bearbeiten",ADD_TITLE:"Text hinzufügen",EDIT_TITLE:"Text hinzufügen","GANN-angle":"Winkel",MEASURE_TOOL:"Messwerkzeug",UNDO_DELETE_ALL_INFO:"Zeichnungen gelöscht.",UNDO_DELETE_ALL_ACTION:"Wiederherstellen.",LEVELS:"Levels",STANDARD_RESET:"Standard/Reset"},en:{STYLE:"Style",BACKGROUND:"Background",BORDER:"Border",DISPLAY_DRAWINGS_TEXT:"Show",ARROW:"Arrow","ARROW-content":"<p>An arrow can highlight specific points of interest in a chart.</p>","ARROW-content-more":"",ELLIOTT_WAVE:"Elliott wave (12345)","ELLIOTT_WAVE-content":"<p>The Elliott Wave Theory uses a five-three wave pattern that can be recognised within financial markets. This drawing tool provides the first five waves, which are known as the primary impulse wave.</p>","ELLIOTT_WAVE-content-more":"",ELLIOTT_WAVE_ABC:"Elliott wave (ABC)","ELLIOTT_WAVE_ABC-content":"<p>The Elliott Wave Theory uses a five-three wave pattern that can be recognised within financial markets. This drawing tool provides the corrective three-legged wave, labelled ABC.</p>","ELLIOTT_WAVE_ABC-content-more":"",FIBONACCI:"Fibonacci retracement","FIBONACCI-content":"<p>Fibonacci retracements give you key levels of support and resistance when retracing part of the prior market move. They tell you what percentage of the previous rally or selloff a market has reversed.</p>","FIBONACCI-content-more":'<p class="drawingContentLearnMore">This is useful if you want to take advantage of counter-trend pullbacks within trending markets The Fibonacci retracements are 23.6%, 38.2%, 50%, 61.8% and 78.6%.</p>',FIBONACCI_EXTENSION:"Fibonacci extension","FIBONACCI_EXTENSION-content":"<p>Fibonacci extensions determine profit targets, and predict where a market may move into after a recent retracement. The levels are forward-looking Fibonacci levels, determined by previous levels of importance.</p>","FIBONACCI_EXTENSION-content-more":"",GANN_LINE:"Gann line","GANN_LINE-content":'<p class="drawingContentLearnMore">A Gann line is a straight line on a price chart, with the angle of the line highlighting the relationship between time and price.</p>',"GANN_LINE-content-more":"<p>Gann found the 45° angle to hold most value, because it indicates a 1x1 trade-off between price and time.</p>",GANN_FAN:"Gann fan","GANN_FAN-content":"<p>A Gann fan provides a host of lines indicating time and price movements from key peaks and troughs. The angled lines indicate a relationship between time and price, which have implications for the strength of the trend.</p>","GANN_FAN-content-more":"",HEAD_AND_SHOULDERS:"Head and shoulders","HEAD_AND_SHOULDERS-content":"<p>A head and shoulders formation is a reversal pattern, typically found at the end of a trend. It's seen to be one of the most reliable indicators of trend reversal, signalling when an upward trend is coming to an end.</p>","HEAD_AND_SHOULDERS-content-more":'<p class="drawingContentLearnMore">The pattern is formed of three peaks, with the central ‘head’ taking a more prominent role compared with the smaller shoulders either side. The pattern is confirmed with a break through the ‘neckline’ (a trendline drawn from the two troughs between the shoulders and the head). A price target can be taken by projecting the height of the neckline to the head, from the point at which the neckline breaks.</p>',HORIZONTAL_LINE:"Horizontal","HORIZONTAL_LINE-content":"<p>A horizontal line is used to highlight specific levels of importance for a trade. This is often historical levels of support or resistance.</p>","HORIZONTAL_LINE-content-more":"","HORIZONTAL_LINE-LEVEL":"Level",OVAL:"Oval","OVAL-content":"<p>The oval drawing tool enables you to circle parts of a chart, either to highlight a specific area, or to highlight a rounded or saucer formation in price action.</p>","OVAL-content-more":"",POINT_TO_POINT:"Point to point","POINT_TO_POINT-content":"<p>The point-to-point tool enables you to draw a line between two specific points on the chart.</p>","POINT_TO_POINT-content-more":"",CHANNEL:"Channel","CHANNEL-content":"<p>A channel is formed of two parallel trendlines drawn at resistance and support levels. They're typically used to encompass the outer limits of price action, within either a trending or sideways market. You can use trading channels for buy and sell signals.</p>","CHANNEL-content-more":"",RECTANGLE:"Rectangle","RECTANGLE-content":"<p>The rectangle tool enables you to draw a shaded rectangle (or square), which you can use to highlight a specific area on a chart.</p>","RECTANGLE-content-more":"",TEXT:"Text","TEXT-content":"<p>The text drawing tool enables you to annotate your charts.</p>","TEXT-content-more":"",TREND_LINE:"Trend","TREND_LINE-content":"<p>The trend drawing tool provides a projected trendline, determined by two set points. This is similar to a point-to-point line, but is extended in both directions.</p>","TREND_LINE-content-more":"",TRIANGLE:"Triangle","TRIANGLE-content":"<p>The triangle tool enables you to draw a triangle shape onto your chart. This can be useful when highlighting an area between two trendlines.</p>","TRIANGLE-content-more":"",PITCHFORK:"Pitchfork","PITCHFORK-content":"<p>The pitchfork (often called the Andrews pitchfork) provides a channel formation by setting three points on previous price-action. The pitchfork can be used to determine points of support and resistance, with a breakout from the pitchfork providing a potential reversal signal.</p>","PITCHFORK-content-more":"",VERTICAL_LINE:"Vertical","VERTICAL_LINE-content":"<p>The vertical tool enables you to draw a vertical line, which highlights a particular point in time. This can be useful when highlighting particular events that happened for a market.</p>","VERTICAL_LINE-content-more":"",DELETE_DRAWING:"Delete",DELETE_ALL_DRAWINGS:"Delete all drawings",DRAWINGS_SNAPPING:"Snap to HLOC prices",COPY_DRAWING:"Duplicate",DRAWING_CUSTOMISE:"Edit",ADD_TITLE:"Add Text",EDIT_TITLE:"Edit Text","GANN-angle":"Angle",MEASURE_TOOL:"Measure tool","MEASURE_TOOL-content":"<p>The measure tool enables you to see how much a market has moved over a given point in time.</p>","MEASURE_TOOL-content-more":"",UNDO_DELETE_ALL_INFO:"Drawings deleted.",UNDO_DELETE_ALL_ACTION:"Undo.",LEVELS:"Levels",STANDARD_RESET:"Standard/Reset"},en_US:{"ELLIOTT_WAVE-content":"<p>The Elliott Wave Theory uses a five-three wave pattern that can be recognized within financial markets. This drawing tool provides the first five waves, which are known as the primary impulse wave.</p>","ELLIOTT_WAVE_ABC-content":"<p>The Elliott Wave Theory uses a five-three wave pattern that can be recognized within financial markets. This drawing tool provides the corrective three-legged wave, labelled ABC.</p>",STANDARD_RESET:"Standard/Reset"},es:{STYLE:"Estilo",BACKGROUND:"Fondo",BORDER:"Borde",DISPLAY_DRAWINGS_TEXT:"Mostrar",ARROW:"Flecha",ELLIOTT_WAVE:"Onda de Elliott (12345)",ELLIOTT_WAVE_ABC:"Onda de Elliott (ABC)",FIBONACCI:"Retroceso de Fibonacci",FIBONACCI_EXTENSION:"Extensión de Fibonacci",GANN_LINE:"Línea Gann",GANN_FAN:"Gann Fan",HEAD_AND_SHOULDERS:"Cabeza y hombros",HORIZONTAL_LINE:"Horizontal","HORIZONTAL_LINE-LEVEL":"Nivel",OVAL:"Óvalo",POINT_TO_POINT:"Punto a punto",CHANNEL:"Canal",RECTANGLE:"Rectángulo",TEXT:"Texto",TREND_LINE:"Tendencia",TRIANGLE:"Triángulo",PITCHFORK:"Horquilla",VERTICAL_LINE:"Vertical",DELETE_DRAWING:"Eliminar",DELETE_ALL_DRAWINGS:"Borrar todo",DRAWINGS_SNAPPING:"Alinear a los precios HLOC",COPY_DRAWING:"Duplicar",DRAWING_CUSTOMISE:"Editar",ADD_TITLE:"Añadir texto",EDIT_TITLE:"Editar texto","GANN-angle":"Ángulo",MEASURE_TOOL:"Herramienta de medida",UNDO_DELETE_ALL_INFO:"Dibujos borrados.",UNDO_DELETE_ALL_ACTION:"Deshacer.",LEVELS:"Niveles",STANDARD_RESET:"Default Template"},fr:{STYLE:"Style",BACKGROUND:"Arrière-plan",BORDER:"Bordure",DISPLAY_DRAWINGS_TEXT:"Afficher",ARROW:"Flèche",ELLIOTT_WAVE:"Vagues d'Elliott (1,2,3,4,5)",ELLIOTT_WAVE_ABC:"Vagues d'Elliott (A,B,C)",FIBONACCI:"Retracement de Fibonacci",FIBONACCI_EXTENSION:"Extension de Fibonacci",GANN_FAN:"Gann Fan",GANN_LINE:"Ligne de Gann",HEAD_AND_SHOULDERS:"Épaule-tête-épaule",HORIZONTAL_LINE:"Horizontal","HORIZONTAL_LINE-LEVEL":"Cours",OVAL:"Elipse",POINT_TO_POINT:"Point par point",CHANNEL:"Canal",RECTANGLE:"Rectangle",TEXT:"Texte",TREND_LINE:"Tendance",TRIANGLE:"Triangle",PITCHFORK:"Fourche",VERTICAL_LINE:"Vertical",DELETE_DRAWING:"Supprimer",DELETE_ALL_DRAWINGS:"Effacer tous les dessins",DRAWINGS_SNAPPING:"Alignement sur les prix HLOC",COPY_DRAWING:"Dupliquer",DRAWING_CUSTOMISE:"Éditer",ADD_TITLE:"Ajouter du texte",EDIT_TITLE:"Modifier le texte","GANN-angle":"Angle",MEASURE_TOOL:"Outil de mesure",UNDO_DELETE_ALL_INFO:"Dessins supprimés.",UNDO_DELETE_ALL_ACTION:"Annuler.",LEVELS:"Niveaux",STANDARD_RESET:"Standard/Reset"},it:{STYLE:"Stile",BACKGROUND:"Sfondo",BORDER:"Bordo",DISPLAY_DRAWINGS_TEXT:"Mostra",ARROW:"Freccia",ELLIOTT_WAVE:"Onde di Elliot (1,2,3,4,5)",ELLIOTT_WAVE_ABC:"Onde di Elliot (A,B,C)",FIBONACCI:"Ritracciamenti di Fibonacci",FIBONACCI_EXTENSION:"Estensioni di Fibonacci",GANN_FAN:"Gann Fan",GANN_LINE:"Gann Line",HEAD_AND_SHOULDERS:"Testa e spalle",HORIZONTAL_LINE:"Orizzontale","HORIZONTAL_LINE-LEVEL":"Prezzo",OVAL:"Ellisse",POINT_TO_POINT:"Da punto a punto",CHANNEL:"Canale",RECTANGLE:"Rettangolo",TEXT:"Testo",TREND_LINE:"Trend",TRIANGLE:"Triangolo",PITCHFORK:"Pitchfork",VERTICAL_LINE:"Verticale",DELETE_DRAWING:"Elimina",DELETE_ALL_DRAWINGS:"Cancella tutto",DRAWINGS_SNAPPING:"Passa ai prezzi HLOC",COPY_DRAWING:"Duplica",DRAWING_CUSTOMISE:"Modifica",ADD_TITLE:"Aggiungi testo",EDIT_TITLE:"Modifica testo","GANN-angle":"Angolo",MEASURE_TOOL:"Righello",UNDO_DELETE_ALL_INFO:"Cancellato tutto.",UNDO_DELETE_ALL_ACTION:"Annulla.",LEVELS:"Livelli",STANDARD_RESET:"Standard/Reset"},ja:{STYLE:"チャート種類",BACKGROUND:"背景",BORDER:"枠線",DISPLAY_DRAWINGS_TEXT:"表示する",ARROW:"矢印",ELLIOTT_WAVE:"エリオット波動（1波、2波、3波、4波、5波）",ELLIOTT_WAVE_ABC:"エリオット波動（A波、B波、C波）",FIBONACCI:"フィボナッチ・リトレースメント",FIBONACCI_EXTENSION:"フィボナッチ・エクステンション",GANN_FAN:"ギャン・ファン",GANN_LINE:"ギャンライン",HEAD_AND_SHOULDERS:"ヘッド・アンド・ショルダー",HORIZONTAL_LINE:"水平線","HORIZONTAL_LINE-LEVEL":"レート",OVAL:"オーバル",POINT_TO_POINT:"ポイントライン",CHANNEL:"チャネル",RECTANGLE:"レクタングル",TEXT:"テキスト",TREND_LINE:"トレンドライン",TRIANGLE:"トライアングル",PITCHFORK:"ピッチフォーク",VERTICAL_LINE:"垂直線",DELETE_DRAWING:"削除",DELETE_ALL_DRAWINGS:"全ての描画を削除",DRAWINGS_SNAPPING:"スナップHLOCレート",COPY_DRAWING:"複製",DRAWING_CUSTOMISE:"編集",ADD_TITLE:"テキストを追加",EDIT_TITLE:"テキストを編集","GANN-angle":"角度",MEASURE_TOOL:"計測ツール",UNDO_DELETE_ALL_INFO:"オブジェクトは削除されました",UNDO_DELETE_ALL_ACTION:"戻す",LEVELS:"レベル",STANDARD_RESET:"デフォルト設定／リセット"},nl:{STYLE:"Stijl",BACKGROUND:"Achtergrond",BORDER:"Rand",DISPLAY_DRAWINGS_TEXT:"Tonen",ARROW:"Pijl",ELLIOTT_WAVE:"Elliott Wave (1,2,3,4,5)",ELLIOTT_WAVE_ABC:"Elliott Wave (A,B,C)",FIBONACCI:"Fibonacci Retracement",FIBONACCI_EXTENSION:"Fibonacci Extensie",GANN_FAN:"Gann Fan",GANN_LINE:"Gann Lijn",HEAD_AND_SHOULDERS:"Hoofd en schouders",HORIZONTAL_LINE:"Horizontaal","HORIZONTAL_LINE-LEVEL":"Niveau",OVAL:"Ovaal",POINT_TO_POINT:"Punt tot punt",CHANNEL:"Channel",RECTANGLE:"Rektangel",TEXT:"Tekst toevoegen",TREND_LINE:"Trend",TRIANGLE:"Driehoek",PITCHFORK:"Pitchfork",VERTICAL_LINE:"Verticaal",DELETE_DRAWING:"Verwijderen",DELETE_ALL_DRAWINGS:"Verwijder alle tekeningen",DRAWINGS_SNAPPING:"Op één lijn met HLOC prijzen",COPY_DRAWING:"Dupliceren",DRAWING_CUSTOMISE:"Aanpassen",ADD_TITLE:"Tekst toevoegen",EDIT_TITLE:"Tekst aanpassen","GANN-angle":"Hoek",MEASURE_TOOL:"Metingstool",UNDO_DELETE_ALL_INFO:"Tekeningen zijn verwijderd.",UNDO_DELETE_ALL_ACTION:"Ongedaan maken.",LEVELS:"Niveaus",STANDARD_RESET:"Standard/Reset"},nb:{STYLE:"Stil",BACKGROUND:"Bakgrunn",BORDER:"Ramme",DISPLAY_DRAWINGS_TEXT:"Vis",ARROW:"Pil",ELLIOTT_WAVE:"Elliott Wave (12345)",ELLIOTT_WAVE_ABC:"Elliott Wave (ABC)",FIBONACCI:"Fibonacci Retracement",FIBONACCI_EXTENSION:"Fibonacci Extension",GANN_FAN:"Gann Fan",GANN_LINE:"Gann Line",HEAD_AND_SHOULDERS:"Hode og skuldre",HORIZONTAL_LINE:"Horisontal","HORIZONTAL_LINE-LEVEL":"Nivå",OVAL:"Oval",POINT_TO_POINT:"Punkt til punkt",CHANNEL:"Kanal",RECTANGLE:"Rectangle",TEXT:"Tekst",TREND_LINE:"Trend",TRIANGLE:"Triangle",PITCHFORK:"Pitchfork",VERTICAL_LINE:"Vertikal",DELETE_DRAWING:"Slett",DELETE_ALL_DRAWINGS:"Slett alle merknader",DRAWINGS_SNAPPING:"Bytt til HLOC-priser",COPY_DRAWING:"Dupliser",DRAWING_CUSTOMISE:"Rediger",ADD_TITLE:"Legg til tekst",EDIT_TITLE:"Rediger tekst","GANN-angle":"Vinkel",MEASURE_TOOL:"Måleverktøy",UNDO_DELETE_ALL_INFO:"Merknader har blitt slettet.",UNDO_DELETE_ALL_ACTION:"Angre.",LEVELS:"Nivåer",STANDARD_RESET:"Standard/Tilbakestill"},pt:{STYLE:"Estilo",BACKGROUND:"Fundo",BORDER:"Linha/Borda",DISPLAY_DRAWINGS_TEXT:"Mostrar",ARROW:"Seta",ELLIOTT_WAVE:"Ondas de Elliott (1,2,3,4,5)",ELLIOTT_WAVE_ABC:"Ondas de Elliott (A,B,C)",FIBONACCI:"Retrocesso de Fibonacci",FIBONACCI_EXTENSION:"Extensão de Fibonacci",GANN_FAN:"Gann Fan",GANN_LINE:"Linha Gann",HEAD_AND_SHOULDERS:"Ombro-cabeça-ombro",HORIZONTAL_LINE:"Horizontal","HORIZONTAL_LINE-LEVEL":"Preço",OVAL:"Oval",POINT_TO_POINT:"Ponto a ponto",CHANNEL:"Canal",RECTANGLE:"Rectângulo",TEXT:"Text",TREND_LINE:"Tendência",TRIANGLE:"Triângulo",PITCHFORK:"Forquilha",VERTICAL_LINE:"Vertical",DELETE_DRAWING:"Apagar",DELETE_ALL_DRAWINGS:"Apagar tudo",DRAWINGS_SNAPPING:"Alinhar com preços HLOC",COPY_DRAWING:"Duplicar",DRAWING_CUSTOMISE:"Editar",ADD_TITLE:"Adicionar texto",EDIT_TITLE:"Editar Texto","GANN-angle":"Ângulo",MEASURE_TOOL:"Ferramenta de medida",UNDO_DELETE_ALL_INFO:"Figuras apagadas.",UNDO_DELETE_ALL_ACTION:"Desfazer.",LEVELS:"Níveis",STANDARD_RESET:"Standard/Reset"},sv:{STYLE:"Stil",BACKGROUND:"Bakgrund",BORDER:"Kantlinje",DISPLAY_DRAWINGS_TEXT:"Visa",ARROW:"Pil",ELLIOTT_WAVE:"Elliott Wave (12345)",ELLIOTT_WAVE_ABC:"Elliott Wave (ABC)",FIBONACCI:"Fibonacci Retracement",FIBONACCI_EXTENSION:"Fibonacci Extension",GANN_FAN:"Gann Fan",GANN_LINE:"Gannlinje",HEAD_AND_SHOULDERS:"Huvudskuldra",HORIZONTAL_LINE:"Horisontell","HORIZONTAL_LINE-LEVEL":"Nivå",OVAL:"Oval",POINT_TO_POINT:"Punkt-till-punkt",CHANNEL:"Kanal",RECTANGLE:"Rektangel",TEXT:"Text",TREND_LINE:"Trendlinje",TRIANGLE:"Triangel",PITCHFORK:"Pitchfork",VERTICAL_LINE:"Vertikal Linje",DELETE_DRAWING:"Radera",DELETE_ALL_DRAWINGS:"Radera alla ritobjekt",DRAWINGS_SNAPPING:"Ändra till HLOC-pris",COPY_DRAWING:"Duplicera",DRAWING_CUSTOMISE:"Redigera",ADD_TITLE:"Lägg till text",EDIT_TITLE:"Redigera text","GANN-angle":"Vinkel",MEASURE_TOOL:"Mätverktyg",UNDO_DELETE_ALL_INFO:"Ritobjekten har raderats.",UNDO_DELETE_ALL_ACTION:"Ångra.",LEVELS:"Nivåer",STANDARD_RESET:"Standard/Tilbakestill"},zh:{STYLE:"风格",BACKGROUND:"背景",BORDER:"边框",DISPLAY_DRAWINGS_TEXT:"显示",ARROW:"箭头",ELLIOTT_WAVE:"艾略特波浪(1,2,3,4,5)",ELLIOTT_WAVE_ABC:"艾略特波浪(A,B,C)",FIBONACCI:"斐波纳契回撤线",FIBONACCI_EXTENSION:"斐波纳契扩展线",GANN_FAN:"江恩扇形线",GANN_LINE:"江恩角度线",HEAD_AND_SHOULDERS:"头肩型",HORIZONTAL_LINE:"水平线","HORIZONTAL_LINE-LEVEL":"价位",OVAL:"椭圆形",POINT_TO_POINT:"点对点线",CHANNEL:"通道",RECTANGLE:"矩形",TEXT:"文字",TREND_LINE:"趋势",TRIANGLE:"三角形",PITCHFORK:"叉子",VERTICAL_LINE:"垂直线",DELETE_DRAWING:"删除",DELETE_ALL_DRAWINGS:"删除所有绘图",DRAWINGS_SNAPPING:"对齐HLOC价格",COPY_DRAWING:"复制",DRAWING_CUSTOMISE:"编辑",ADD_TITLE:"添加文字",EDIT_TITLE:"编辑文字","GANN-angle":"角度",MEASURE_TOOL:"测量工具",UNDO_DELETE_ALL_INFO:"绘图已删除。",UNDO_DELETE_ALL_ACTION:"撤销",LEVELS:"水平",STANDARD_RESET:"Standard/Reset"},zh_TW:{STYLE:"風格",BACKGROUND:"背景",BORDER:"邊框",DISPLAY_DRAWINGS_TEXT:"顯示",ARROW:"箭頭",ELLIOTT_WAVE:"艾略特波浪(1,2,3,4,5)",ELLIOTT_WAVE_ABC:"艾略特波浪(A,B,C)",FIBONACCI:"斐波那契回撤線",FIBONACCI_EXTENSION:"斐波那契擴展線",GANN_FAN:"江思扇形線",GANN_LINE:"江思角度線",HEAD_AND_SHOULDERS:"頭肩型",HORIZONTAL_LINE:"水平線","HORIZONTAL_LINE-LEVEL":"价位",OVAL:"橢圓形",POINT_TO_POINT:"點對點線",CHANNEL:"通道",RECTANGLE:"矩形",TEXT:"文字",TREND_LINE:"趨勢",TRIANGLE:"三角形",PITCHFORK:"叉子",VERTICAL_LINE:"垂直線",DELETE_DRAWING:"删除",DELETE_ALL_DRAWINGS:"刪除所有繪圖",DRAWINGS_SNAPPING:"對齊HLOC價格",COPY_DRAWING:"複製",DRAWING_CUSTOMISE:"編輯",ADD_TITLE:"添加文字",EDIT_TITLE:"编辑文字","GANN-angle":"角度",MEASURE_TOOL:"測量工具",UNDO_DELETE_ALL_INFO:"繪圖已刪除。",UNDO_DELETE_ALL_ACTION:"撤銷",LEVELS:"水平",STANDARD_RESET:"Default Template"}})},87654:(e,t,i)=>{"use strict";i.d(t,{A:()=>S});var n=i(43130),s=i(60644),r=i(17425),o=i(12990),a=i(82571),l=o.A.extend((function(e){this._eventBus=e}),a.A);l.create=function(e){return new l(e)};var d=l.prototype;d._eventBus=null,Object.seal(d);const u=Object.seal(l);var c=o.A.extend((function(e,t){this._actionOrigin=t}),u);c.create=function(e){return new c(e)};var h=c.prototype;h._actionOrigin=null,h.handleAction=function(e){this._eventBus.publish("drawings/create",[e.id,this._actionOrigin])},Object.seal(h);const p=Object.seal(c);var _=i(61897),g=o.A.extend((function(){}),_.default);g.create=function(e,t,i){return new g(e,t,i)};var f=g.prototype;f._createButtonBar=function(e,t){return new this._config.buttonBar(e,t,!0)},f._createButtonBarStyles=(0,n.constant)("hidden container drawings vertical"),Object.seal(f);const m=Object.seal(g);var v=i(58703),A=i(70138),E=i(66250),T=i(86288),I=i(8796),C=i(73731),O=i(14243),M=i(17660),y=o.A.extend((function(e,t,i,n){this._isEnglishLocale=M.default.getInstance().isEnglishLang(),this._menuItemsComparator=T.A.createComparator(),this._updateModel()}),E.default);y.create=function(e,t,i,n){return new y(e,t,i,n)},y.DRAWING_TYPES=Object.freeze((0,n.values)(r.A));var b=y.prototype;b._actionOrigin=v.EventOrigin.MENU_MAIN,b._createMenuView=function(e,t){return m.create(e,t,{buttonBar:I.A})},b._whenViewIsReady=function(){this._settingsManager.on((0,C.getLayoutSettingsEvent)(O.default.DRAWINGS_VISIBILITY),this._updateModel,this),this._settingsManager.on((0,C.getGlobalSettingsEvent)(O.default.DRAWINGS_GLOBAL),this._updateModel,this),this._updateModel()},b._generateModel=function(){var e=new p(this._eventBus,this._actionOrigin),t=[];return this._settingsManager.getDrawingsVisibilitySettings()&&(t=this._isEnglishLocale?y.DRAWING_TYPES.map((function(t){return{label:s.default.get(t),actionListener:e,data:{id:t},icon:t,isMixed:!0,hoverOnIcon:!0,classList:["drawingItem"],items:A.default.setItemContent(t,s.default,"drawingContent"),chevron:!0}})):y.DRAWING_TYPES.map((function(t){return{label:s.default.get(t),actionListener:e,data:{id:t},icon:t}}))),t},b._destroyDom=function(){this._settingsManager&&this._settingsManager.un(null,this),y.superclass._destroyDom.call(this)},Object.seal(b);const S=Object.seal(y)},97775:(e,t,i)=>{"use strict";i.d(t,{A:()=>o});var n=i(10094);function s(e,t){this.timestamp=e||null,this.level=(0,n.isNumber)(t)?t:null,this.confirmed=!0}var r=s.prototype;r.timestamp=null,r.level=null,r.confirmed=null,r.copy=function(){var e=new s;return e.timestamp=this.timestamp?new Date(this.timestamp.getTime()):null,e.level=this.level,e.confirmed=this.confirmed,e},r.isEqualTo=function(e){return!!e&&((this.timestamp&&this.timestamp.getTime())===(e.timestamp&&e.timestamp.getTime())&&this.level===e.level)},r.toString=function(){return"("+(null!==this.timestamp?this.timestamp.getTime()+"":"null")+", "+this.level+")"},r.isSet=function(){return null!==this.timestamp&&null!==this.level},Object.seal(r);const o=Object.seal(s)},17963:(e,t,i)=>{"use strict";i.d(t,{A:()=>n});const n=Object.freeze({annotationColourStyleDefault:"#262629",annotationColourStyle1:"#0095d6",annotationColourStyle2:"#da291c",annotationColourStyle3:"#e7b826",annotationColourStyle4:"#5f9c04",annotationColourStyle5:"#777777",annotationColourStyle6:"#9E5A30"})},64614:(e,t,i)=>{"use strict";i.d(t,{A:()=>c});var n=i(43130),s=i(97775),r=i(17963),o=i(9525);const a=Object.freeze({AROON:"aroon",AVERAGE_TRUE_RANGE:"atr",AWESOME_OSCILLATOR:"awesome",BOLLINGER_PERCENT_B:"bolpctb",BOLLINGER_BANDWIDTH:"bbw",CHAIKIN_VOLATILITY:"chaikin",CCI:"cci",DETRENDED_PRICE_OSCILLATOR:"dpo",DMI:"dmi",EOM:"eom",KDJ:"kdj",MACD:"macd",MOMENTUM:"momentum",MONEY_FLOW_INDEX:"mfi",RATE_OF_CHANGE:"roc",RSI:"rsi",STANDARD_DEVIATION:"stdev",STOCHASTIC:"stochastic",LAST_TRADE_VOLUME:"volume",WILLIAMS_PERCENT_R:"willr",RCI:"rci",DERIVATIVE:"derivative"});var l=i(74893);function d(e,t,i,n,s){this._subViewName=e,this._type=t,this._anchors=i||[],this._initialiseGlobalDrawingSettings(n),this._resolution=s||null,this._modified=!1}d.DEFAULT_STYLE=Object.freeze({colour:"#262629",style:"solid",width:"narrow"}),d.DARK_DEFAULT_STYLE=Object.freeze({colour:"#F5F6F7",style:"solid",width:"narrow"});var u=d.prototype;u._subViewName=null,u._subViewEpic=null,u._type=null,u._anchors=null,u._style=null,u._resolution=null,u._modified=null,u.isModified=(0,o.getter)("_modified"),u.getSubViewName=(0,o.getter)("_subViewName"),u.getSubViewEpic=(0,o.getter)("_subViewEpic"),u.getType=(0,o.getter)("_type"),u.getAnchors=(0,o.getter)("_anchors"),u.getStyle=(0,o.getter)("_style"),u.getResolution=(0,o.getter)("_resolution"),u.getAnchor=function(e){return this._anchors[e||0]},u.setAnchorValues=function(e,t){var i=this._anchors[t||0];i.timestamp=e.timestamp,i.level=e.level,this._modified=!0},u.setSubViewName=(0,o.setter)("_subViewName"),u.setSubViewEpic=(0,o.setter)("_subViewEpic"),u.getAttributes=n.noop,u.setAttributes=n.noop,u._initialiseGlobalDrawingSettings=function(e){this._style=(0,n.get)(e,"styles",this.getDefaultStyle())},u.getGlobalDrawingSettings=function(){return{styles:this.getStyle()}},u.setStyle=function(e,t){this._style[t]=e,this._modified=!0},u.getDefaultStyle=function(){return{default:(0,n.clone)(d.DEFAULT_STYLE),dark:(0,n.clone)(d.DARK_DEFAULT_STYLE)}},u.unmarshal=function(e){this._subViewName=a[e.indicator]||"prices",this._subViewEpic=e.epic,this._type=e.type,this._anchors=this._unmarshalAnchors(e),this._style=this._unmarshalStyles(e),e.resolution&&(this._resolution=this._unmarshalResolution(e))},u.marshal=function(){var e={styles:this._style.default,"styles-dark":this._style.dark,type:this._type};"prices"!==this._subViewName&&(e.indicator=(0,n.findKey)(a,function(e){return e===this._subViewName}.bind(this)),this._subViewEpic&&(e.epic=this._subViewEpic));for(var t=0;t<this._anchors.length;t++)e["point"+(t+1)]={x:this._anchors[t].timestamp?this._anchors[t].timestamp.getTime():Date.now(),y:this._anchors[t].level};return this._resolution&&(e.resolution={multiplier:this._resolution.multiple,scale:this._resolution.periodUnit}),e},u._unmarshalAnchors=function(e){for(var t=[],i=1;e.hasOwnProperty("point"+i);)t.push(new s.A(new Date(e["point"+i].x),parseFloat(e["point"+i].y))),i++;return t},u._unmarshalStyles=function(e){return{default:e.styles?(0,n.merge)((0,n.clone)(this.getDefaultStyle().default),e.styles):this._getDeprecatedStyles(e),dark:(0,n.merge)((0,n.clone)(this.getDefaultStyle().dark),e["styles-dark"])}},u._unmarshalResolution=function(e){return l.default.getResolutionForScale(e.resolution.scale,parseInt(e.resolution.multiplier,10))},u._getDeprecatedStyles=function(e){return(0,n.merge)((0,n.clone)(this.getDefaultStyle().default),{colour:r.A[e.selectedStyle]})},Object.seal(u);const c=Object.seal(d)},32477:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>h});var n=i(12990),s=i(8653),r=i(51058),o=i(17963),a=i(64614),l=i(9525),d=i(54859),u=n.A.extend(Object.assign((function(e,t,i,n){this._style=this._migrateGlobalStyles(this._style)}),{__constructorTransform:function(e,t,i,n){return[e,t,i,n,null]}}),a.A);u.DEFAULT_FONT_SIZE=9,u.DEFAULT_FONT_BOLD=!1,u.DEFAULT_FONT_ITALIC=!1;var c=u.prototype;c._userText="",c._fontSize=u.DEFAULT_FONT_SIZE,c._bold=u.DEFAULT_FONT_BOLD,c._italic=u.DEFAULT_FONT_ITALIC,c.getUserText=(0,l.getter)("_userText"),c.setUserText=function(e){this._userText=e,this._modified=!0},c.getAttributes=function(){return{fontSize:this._fontSize,bold:this._bold,italic:this._italic}},c.setAttributes=function(e){this._fontSize=e.fontSize,this._bold=e.bold,this._italic=e.italic,this._modified=!0},c.unmarshal=function(e){u.superclass.unmarshal.call(this,e),this._userText=e.userText,this._fontSize=e.fontSize||u.DEFAULT_FONT_SIZE,this._bold=!!e.bold,this._italic=!!e.italic},c.marshal=function(){var e=u.superclass.marshal.call(this);return(0,d.applyTo)(e,{userText:this._userText,fontSize:this._fontSize,bold:this._bold,italic:this._italic}),e},c.getGlobalDrawingSettings=function(){var e=u.superclass.getGlobalDrawingSettings.call(this);return e.attributes=this.getAttributes(),e},c.getDefaultStyle=function(){return{default:{font:{colour:"#ffffff"},background:r.A.colour(a.A.DEFAULT_STYLE.colour),border:r.A.colouredStroke(a.A.DEFAULT_STYLE.colour,s.A.STYLE.SOLID,s.A.WIDTH.NARROW)},dark:{font:{colour:"#1a1a1e"},background:r.A.colour(a.A.DARK_DEFAULT_STYLE.colour),border:r.A.colouredStroke(a.A.DARK_DEFAULT_STYLE.colour,s.A.STYLE.SOLID,s.A.WIDTH.NARROW)}}},c._unmarshalStyles=function(e){var t=u.superclass._unmarshalStyles.call(this,e);if(e.styles){if(e.styles.background)return t;t.default.background.colour=e.styles.colour||a.A.DEFAULT_STYLE.colour,t.default.border.colour=e.styles.colour||a.A.DEFAULT_STYLE.colour,e["styles-dark"]&&e["styles-dark"].colour&&(t.dark.background.colour=e["styles-dark"].colour,t.dark.border.colour=e["styles-dark"].colour)}else t.default.background.colour=o.A[e.selectedStyle],t.default.border.colour=o.A[e.selectedStyle];return t},c._migrateGlobalStyles=function(e){var t;return e.default.background?(0,d.merge)(this.getDefaultStyle(),e):((t=this.getDefaultStyle()).default.background.colour=e.default.colour,t.default.border.colour=e.default.colour,t.dark.background.colour=e.dark.colour,t.dark.border.colour=e.dark.colour,t)},c._initialiseGlobalDrawingSettings=function(e){u.superclass._initialiseGlobalDrawingSettings.call(this,e);var t=e&&e.attributes;t&&(this._fontSize=t.fontSize,this._bold=t.bold,this._italic=t.italic)},Object.seal(c);const h=Object.seal(u)},17125:(e,t,i)=>{"use strict";i.r(t),i.d(t,{COMPULSORY_RATIO_INDICES:()=>h,default:()=>g});var n=i(43130),s=i(12990),r=i(14205),o=i(53300),a=i(74437),l=i(81141),d=i(28194),u=i(40708),c=i(16377),h=[0,6],p=s.A.extend((function(){}),r.A),_=p.prototype;_._valueFormatter=null,_.getMaxAnchors=l.A.abstractMethod,_.getNumberOfLevelLines=function(){return this.getDefaultRatioValues().length},_.getNumberOfAuxiliaryLines=l.A.abstractMethod,_.getDefaultRatioValues=l.A.abstractMethod,_.getSettingsDialogContent=(0,n.constant)([a.A,o.A]),_.dragAnchor=function(e,t){p.superclass.dragAnchor.call(this,e,t),this._adjustAnchorPositions(t)},_.setInstrumentProperties=function(e){p.superclass.setInstrumentProperties.call(this,e),this._valueFormatter=(new c.default).withScalingFactor(e.scalingFactor).withDecimalPlaces(e.decimalPlaces)},_.getLevelLinesInfo=function(){var e,t,i,s,r,o=this._getAnchorsDetails();return o.showLevelLines?(e=(0,n.sortBy)(this.getRatioSettings(),"value").map((function(e){var t=e.value;return s=o.zeroPercentLevel+(o.hundredPercentLevel-o.zeroPercentLevel)*t*.01,i=this._y(s),r=this._valueFormatter.scaleAndRoundPrice(s)+" ( "+t+"% )",{x1:Math.min(o.start.x,(o.extension||o.end).x),x2:Math.max(o.start.x,(o.extension||o.end).x),y1:i,y2:i,isSupportLine:!1,visible:e.isVisible&&null!==t,levelText:r}}),this),t=(0,n.filter)(e,"visible"),(0,n.first)(t).isSupportLine=!0,(0,n.last)(t).isSupportLine=!0,e):(0,n.times)(this.getRatioSettings().length,(0,n.constant)({isVisible:!1}))},_.getAuxiliaryLinesInfo=l.A.abstractMethod,_.getRatioSettings=function(){return(this._drawing.getAttributes().ratios||this._getDefaultRatioSettings()).map((function(e,t){return(0,n.assign)({disabled:h.includes(t)},e)}))},_.resetToDefault=function(){this.updateAllRatios(this._getDefaultRatioSettings())},_.changeLineVisibility=function(e,t){var i,n=this._drawing.getAttributes();n.ratios=n.ratios||this._getDefaultRatioSettings(),(i=n.ratios[e]).isVisible!==t&&(i.isVisible=t,this.setAttributes(n),this.fire(d.A.STYLE_OR_ATTRIBUTE_CHANGED))},_.updateRatio=function(e,t){var i,n=this._drawing.getAttributes();n.ratios=n.ratios||this._getDefaultRatioSettings(),(i=n.ratios[e]).value!==t&&(i.value=t,this.setAttributes(n),this.fire(d.A.STYLE_OR_ATTRIBUTE_CHANGED))},_.updateAllRatios=function(e){var t=this._drawing.getAttributes();t.ratios=e,this.setAttributes(t),this.fire(d.A.STYLE_OR_ATTRIBUTE_CHANGED)},_._isInVisibleWindow=function(){var e=this.getLevelLinesInfo();if(0===e.length)return!1;var t=(0,n.first)(e),i=(0,n.last)(e),s=Math.min(t.y1,i.y1),r=t.x1,o=Math.max(t.y1,i.y1),a=t.x2,l=(0,u.rangeExtent)(this._x.range()),d=(0,u.rangeExtent)(this._y.range());return o>0&&s<d&&a>0&&r<l},_._adjustAnchorPositions=function(e){var t,i=this._getAnchorsDetails();i.length===this.getMaxAnchors()&&((i.end.x<=i.start.x&&i.start.x<=i.extension.x||i.extension.x<i.start.x&&i.start.x<i.end.x)&&e!==i.extension.index?(t=i.extension.x-(e===i.start.index?i.end.x:i.start.x),i.extension.x-=2*t):i.extension.x=i.end.x>i.start.x?Math.max(i.extension.x,i.end.x):Math.min(i.extension.x,i.end.x),i.extension.y=i.end.y,p.superclass.setAnchorCoordinates.call(this,i.extension,i.extension.index))},_._getDefaultRatioSettings=function(){return this.getDefaultRatioValues().map((function(e){return{value:e,isVisible:!0}}))},_._getAnchorsDetails=l.A.abstractMethod,_._getAnchorInfo=function(e,t,i){return i[e]&&t[e]?{x:i[e].x,y:i[e].y,index:e,timestamp:t[e].timestamp,level:t[e].level}:null},Object.seal(_);const g=Object.seal(p)},14205:(e,t,i)=>{"use strict";i.d(t,{A:()=>f});var n=i(43130),s=i(48990),r=i(97775),o=i(12990),a=i(8653),l=i(6182),d=i(53300),u=i(9525),c=i(10094),h=i(81141),p=i(28194),_=o.A.extend((function(e){this._drawing=e}),s.default);_.THEME_CHANGE="THEME_CHANGE",_.SUBVIEW_CHANGE="SUBVIEW_CHANGE",_.ANCHOR_CONFIRMED="ANCHOR_CONFIRMED";var g=_.prototype;g.subView=null,g._chartResolution=null,g._drawing=null,g._x=null,g._y=null,g.isSelected=!1,g.requiresContextMenu=null,g._scalingFactor=null,g._snappingUtil=null,g._theme=null,g._timeline=null,g.isModified=(0,u.delegate)("_drawing","isModified"),g._forceSolidLine=!1,g.updateForceSolid=function(){var e=this._shouldForceSolid();e!==this._forceSolidLine&&(this._forceSolidLine=e,this.fire(p.A.STYLE_OR_ATTRIBUTE_CHANGED))},g._shouldForceSolid=n.stubFalse,g.marshal=(0,u.delegate)("_drawing","marshal"),g.getSubViewName=(0,u.delegate)("_drawing","getSubViewName"),g.getSubViewEpic=(0,u.delegate)("_drawing","getSubViewEpic"),g.getMaxAnchors=h.A.abstractMethod,g.getAddingCursor=h.A.abstractMethod,g.getSelectedHoveringCursor=(0,n.constant)(l.default.GRAB),g.clone=function(){var e=new this.constructor((0,n.cloneDeep)(this._drawing));return e.setScales(this._x,this._y),e.setInstrumentProperties({scalingFactor:this._scalingFactor}),e.requiresContextMenu=this.requiresContextMenu,e.setChartResolution(this._chartResolution),e.setTimeline(this._timeline),e.setTheme(this._theme),e},g.setSubView=function(e){this.subView=e,this.isPending()&&(this._drawing.setSubViewName(e.name),this._drawing.setSubViewEpic(e.visibleWindow.epic),this.fire(_.SUBVIEW_CHANGE))},g.getType=(0,u.delegate)("_drawing","getType"),g.getAttributes=(0,u.delegate)("_drawing","getAttributes"),g.getStyle=function(){var e=this._drawing.getStyle()[this._theme];return this._forceSolidLine&&(e=(0,n.assign)({},e,{style:a.A.STYLE.SOLID})),e},g.getResolution=(0,u.delegate)("_drawing","getResolution"),g.setScales=function(e,t){this._x=e,this._y=t},g.setInstrumentProperties=function(e){this._scalingFactor=e.scalingFactor},g.setChartResolution=(0,u.setter)("_chartResolution"),g.setTimeline=(0,u.setter)("_timeline"),g.setSnappingUtil=(0,u.setter)("_snappingUtil"),g.setTheme=function(e){return this._theme=e,this.fire(_.THEME_CHANGE),this},g.isVisible=function(){return this.getAnchors().length>0&&(this.isPending()||this.isSelected||this._isInVisibleWindow())},g._isInVisibleWindow=h.A.abstractMethod,g.getSettingsDialogContent=(0,n.constant)([d.A]),g.getGlobalDrawingSettings=(0,u.delegate)("_drawing","getGlobalDrawingSettings"),g.select=function(){this.isSelected||(this.isSelected=!0,this.fire(p.A.SELECTED))},g.deselect=function(){this.isSelected&&(this.isSelected=!1,this.fire(p.A.DESELECTED))},g.getAnchors=function(){return(0,n.compact)(this._drawing.getAnchors())},g.getShadowAnchors=(0,n.constant)([]),g.getAdjustedAnchorCoordinates=function(){return this._getAnchorCoordinates()},g.setAnchorCoordinates=function(e,t){this._drawing.setAnchorValues(this._convertCoordinateToAnchorValues(e),t),this.fire(p.A.DRAGGED)},g.isPending=function(){return 0===this.getAnchors().length||(0,n.some)(this.getAnchors(),["confirmed",!1])},g.hasAnyAnchorConfirmed=function(){return(0,n.some)(this.getAnchors(),"confirmed")},g.setPendingAnchorCoordinates=function(e){-1===this._getPendingAnchorIndex()&&this.createNewPendingAnchor(),this.dragAnchor(e,this._getPendingAnchorIndex())},g.confirmPendingAnchor=function(){this._drawing.getAnchors()[this._getPendingAnchorIndex()].confirmed=!0,this.fire(_.ANCHOR_CONFIRMED)},g.createNewPendingAnchor=function(){var e=new r.A;e.confirmed=!1,this._drawing.getAnchors().push(e)},g.setStyle=function(e,t){this._drawing.setStyle(e,t||this._theme),this.fire(p.A.STYLE_OR_ATTRIBUTE_CHANGED)},g.setAttributes=function(e){this._drawing.setAttributes(e),this.fire(p.A.STYLE_OR_ATTRIBUTE_CHANGED)},g.getDefaultStyle=function(){return this._drawing.getDefaultStyle()[this._theme]},g.getConfirmedAnchorIndex=function(){return(0,n.findLastIndex)(this._drawing.getAnchors(),["confirmed",!0])},g._getPendingAnchorIndex=function(){return(0,n.findIndex)(this._drawing.getAnchors(),["confirmed",!1])},g._getAnchorCoordinates=function(){return this.getAnchors().map(this._convertAnchorToCoordinate,this)},g._convertAnchorToCoordinate=function(e){return(0,c.isNumber)(e.level)?{x:this._x(this._timeline.asAccTime(e.timestamp,!0))-this._x.range()[0],y:this._y(e.level*this._scalingFactor)}:null},g._convertCoordinateToAnchorValues=function(e){return{timestamp:this._timeline.asDate(this._x.invert(e.x+this._x.range()[0])),level:this._y.invert(e.y)/this._scalingFactor}},g.moveAnchor=function(e,t){var i=this._convertAnchorToCoordinate(this._drawing.getAnchors()[t]);i.x+=e.moveX,i.y+=e.moveY,this._drawing.setAnchorValues(this._convertCoordinateToAnchorValues(i),t)},g.dragAnchor=function(e,t){var i=this.subView.getRelativeCursorPoint(e);this._snappingUtil&&(i=this._snappingUtil.snap(i.x,i.y)),this.setAnchorCoordinates(i,t)},g.moveAnchors=function(e){this._drawing.getAnchors().forEach((function(t,i){this.moveAnchor(e,i)}),this)},g._getVisibleWindowDimensions=function(){var e=this._x.range(),t=this._y.range();return{width:e[1]-e[0],height:t[1]-t[0]}},g.dragAnchors=function(e){this.moveAnchors(e),this.fire(p.A.DRAGGED)},Object.seal(g);const f=Object.seal(_)},32235:(e,t,i)=>{"use strict";i.d(t,{A:()=>n});const n=new(i(95151).default)({de:{actual:"Aktuell",previous:"Zuvor",expected:"Geschätzt",pagination:"{0} von {1}",AU:"Australien",CA:"Kanada",CN:"China",DE:"Deutschland",ES:"Spanien",EU:"Eurozone",FR:"Frankreich",HK:"Hong Kong",IT:"Italien",JP:"Japan",NZ:"Neuseeland",GB:"GB",US:"US",ZA:"Südafrika",AU_Index:"AU",CA_Index:"CA",CN_Index:"CN",DE_Index:"DE",ES_Index:"ES",EU_Index:"EU",FR_Index:"FR",HK_Index:"HK",IT_Index:"IT",JP_Index:"JP",NZ_Index:"NZ",GB_Index:"GB",US_Index:"US",ZA_Index:"ZA",SELECT_ALL:"Alle auswählen",DESELECT_ALL:"Alle abwählen",COMPANY_EARNINGS:"Unternehmensgewinne",DIVIDEND_PAYMENTS:"Dividenden",IPOS:"IPO's",STOCK_SPLITS:"Aktiensplits",ADP_NATIONAL_EMPLOYMENT:"ADP Beschäftigung im Privatsektor (US)",BOC_RATE_DECISION:"BoC Zinsentscheid",BOE_RATE_DECISION:"BoE Zinsentscheid",CONSUMER_CONFIDENCE:"Verbrauchervertrauen",CONSUMER_PRICE_INDEX:"Verbraucherpreisindex",CONSUMER_SENTIMENT:"Konsumklima",CPI:"CPI",CPI_ANNUAL:"CPI (Jährlich)",CPI_EUNORM_FINAL_ANNUAL:"CPI - EU Norm, Final (Jährlich)",CPI_EUNORM_FINAL_MONTHLY:"CPI - EU Norm, Final (Monatlich)",CPI_FINAL_ANNUAL:"CPI Final (Jährlich)",CPI_FINAL_MONTHLY:"CPI Final (Monatlich)",CPI_MONTHLY:"CPI (Monatlich)",CPI_OVERALL_NATIONWIDE:"CPI, insgesamt landesweit",CPI_OVERALL_TOKYO:"CPI, insgesamt Tokyo",DURABLE_GOODS_ORDERS:"Gebrauchsgüter Auftragseingänge",EBC_RATE_DECISION:"EZB Zinsentscheid",EMPLOYMENT:"Erwerbstätigkeit",EMPLOYMENT_CHANGE:"Beschäftigungsentwicklung",EMPLOYMENT_GROWTH:"Beschäftigungszuwachs",FOMC_RATE_DECISION:"FOMC Zinsentscheid",GDP:"BIP",GDP_ANNUAL:"BIP (Jährlich)",GDP_ANNUALISED_QUARTERLY:"BIP, auf Jahresbasis (Quartalsweise)",GDP_DETAILED_ANNUAL:"BIP, Detailiert (Jährlich)",GDP_DETAILED_QUARTERLY:"BIP, Detailiert (Quartalsweise)",GDP_FINAL_ANNUAL:"BIP, Final (Jährlich)",GDP_FINAL_QUARTERLY:"BIP, Final (Quartalsweise)",GDP_MONTHLY:"BIP (Monatlich)",GDP_QUARTERLY:"BIP (Quartalsweise)",GDP_REVISED_ANNUAL:"BIP, Revidiert (Jährlich)",GDP_REVISED_QUARTERLY:"BIP, Revidiert (Quartalsweise)",HOUSING_STARTS:"Wohnungsbaubeginne",INFLATION_ANNUAL:"Inflation (Jährlich)",INFLATION_MONTHLY:"Inflation (Monatlich)",INFLATION_QUARTERLY:"Inflation (Quartalsweise)",NONFARM_PAYROLLS:"Non-farm Payrolls",NONFARM_PAYROLLS_QUARTERLY:"Non-farm Payrolls (Quartalsweise)",RETAIL_SALES:"Einzelhandelsumsatz",RETAIL_SALES_ANNUAL:"Einzelhandelsumsatz (Jährlich)",RETAIL_SALES_MONTHLY:"Einzelhandelsumsatz (Monatlich)",RETAIL_SALES_NSA_ANNUAL:"Einzelhandelsumsatz, NSA (Jährlich)",RETAIL_SALES_QUARTERLY:"Einzelhandelsumsatz (Quartalsweise)",RETAIL_SALES_SA_MONTHLY:"Einzelhandelsumsatz, SA (Monatlich)",TRADE_BALANCE:"Handelsbilanz",UNEMPLOYMENT:"Arbeitslosigkeit",UNEMPLOYMENT_RATE:"Arbeitslosenzahlen",UNEMPLOYMENT_SURVEY:"Arbeitslosigkeitbericht",UNEMPLOYMENT_TOTAL:"Arbeitslosigkeit Gesamt",UNEMPLOYMENT_TOTAL_NSA:"Arbeitslosigkeit Gesamt, NSA",UNEMPLOYMENT_TOTAL_SA:"Arbeitslosigkeit Gesamt, SA"},en:{"date-format-details":"EEE d MMM yyyy H:mm",actual:"Actual",expected:"Estimated",previous:"Previous",pagination:"{0} of {1}",AU:"Australia",CA:"Canada",CN:"China",DE:"Germany",ES:"Spain",EU:"Eurozone",FR:"France",HK:"Hong Kong",IT:"Italy",JP:"Japan",NZ:"New Zealand",GB:"United Kingdom",US:"United States",ZA:"South Africa",AU_Index:"AU",CA_Index:"CA",CN_Index:"CN",DE_Index:"DE",ES_Index:"ES",EU_Index:"EU",FR_Index:"FR",HK_Index:"HK",IT_Index:"IT",JP_Index:"JP",NZ_Index:"NZ",GB_Index:"GB",US_Index:"US",ZA_Index:"ZA",SELECT_ALL:"Select All",DESELECT_ALL:"Deselect All",COMPANY_EARNINGS:"Company Earnings",DIVIDEND_PAYMENTS:"Dividends",IPOS:"IPOs",STOCK_SPLITS:"Stock Splits",ADP_NATIONAL_EMPLOYMENT:"ADP National Employment",BOC_RATE_DECISION:"BoC Rate Decision",BOE_RATE_DECISION:"BoE Rate Decision",CONSUMER_CONFIDENCE:"Consumer Confidence",CONSUMER_PRICE_INDEX:"Consumer Price Index",CONSUMER_SENTIMENT:"Consumer Sentiment",CPI:"CPI",CPI_ANNUAL:"CPI (Annual)",CPI_EUNORM_FINAL_ANNUAL:"CPI - EU Norm, Final (Annual)",CPI_EUNORM_FINAL_MONTHLY:"CPI - EU Norm, Final (Monthly)",CPI_FINAL_ANNUAL:"CPI Final (Annual)",CPI_FINAL_MONTHLY:"CPI Final (Monthly)",CPI_MONTHLY:"CPI (Monthly)",CPI_OVERALL_NATIONWIDE:"CPI, Overall Nationwide",CPI_OVERALL_TOKYO:"CPI, Overall Tokyo",DURABLE_GOODS_ORDERS:"Durable Goods Orders",EBC_RATE_DECISION:"ECB Rate Decision",EMPLOYMENT:"Employment",EMPLOYMENT_CHANGE:"Employment Change",EMPLOYMENT_GROWTH:"Employment Growth",FOMC_RATE_DECISION:"FOMC Rate Decision",GDP:"GDP",GDP_ANNUAL:"GDP (Annual)",GDP_ANNUALISED_QUARTERLY:"GDP, Annualised (Quarterly)",GDP_DETAILED_ANNUAL:"GDP, Detailed (Annual)",GDP_DETAILED_QUARTERLY:"GDP, Detailed (Quarterly)",GDP_FINAL_ANNUAL:"GDP, Final (Annual)",GDP_FINAL_QUARTERLY:"GDP, Final (Quarterly)",GDP_MONTHLY:"GDP (Monthly)",GDP_QUARTERLY:"GDP (Quarterly)",GDP_REVISED_ANNUAL:"GDP, Revised (Annual)",GDP_REVISED_QUARTERLY:"GDP, Revised (Quarterly)",HOUSING_STARTS:"Housing Starts",INFLATION_ANNUAL:"Inflation (Annual)",INFLATION_MONTHLY:"Inflation (Monthly)",INFLATION_QUARTERLY:"Inflation (Quarterly)",NONFARM_PAYROLLS:"Non-farm Payrolls",NONFARM_PAYROLLS_QUARTERLY:"Non-farm Payrolls (Quarterly)",RETAIL_SALES:"Retail Sales",RETAIL_SALES_ANNUAL:"Retail Sales (Annual)",RETAIL_SALES_MONTHLY:"Retail Sales (Monthly)",RETAIL_SALES_NSA_ANNUAL:"Retail Sales, NSA (Annual)",RETAIL_SALES_QUARTERLY:"Retail Sales (Quarterly)",RETAIL_SALES_SA_MONTHLY:"Retail Sales, SA (Monthly)",TRADE_BALANCE:"Trade Balance",UNEMPLOYMENT:"Unemployment",UNEMPLOYMENT_RATE:"Unemployment Rate",UNEMPLOYMENT_SURVEY:"Unemployment Survey",UNEMPLOYMENT_TOTAL:"Unemployment Total",UNEMPLOYMENT_TOTAL_NSA:"Unemployment Total, NSA",UNEMPLOYMENT_TOTAL_SA:"Unemployment Total, SA"},en_US:{"date-format-details":"EEE MMM d yyyy H:mm",GDP_ANNUALISED_QUARTERLY:"GDP, Annualized (Quarterly)"},es:{actual:"Actual",expected:"Estimado",previous:"Anterior",pagination:"{0} de {1}",AU:"Australia",CA:"Canadá",CN:"China",DE:"Alemania",ES:"España",EU:"Eurozona",FR:"Francia",HK:"Hong Kong",IT:"Italia",JP:"Japón",NZ:"Nueva Zelanda",GB:"Reino Unido",US:"EEUU",ZA:"Sudáfrica",AU_Index:"AU",CA_Index:"CA",CN_Index:"CN",DE_Index:"DE",ES_Index:"ES",EU_Index:"EU",FR_Index:"FR",HK_Index:"HK",IT_Index:"IT",JP_Index:"JP",NZ_Index:"NZ",GB_Index:"GB",US_Index:"US",ZA_Index:"ZA",SELECT_ALL:"Seleccionar todo",DESELECT_ALL:"Anular selecciones",COMPANY_EARNINGS:"Ganancias de la empresa",DIVIDEND_PAYMENTS:"Dividendos",IPOS:"IPOs",STOCK_SPLITS:"Split de acciones",ADP_NATIONAL_EMPLOYMENT:"ADP Empleo Nacional",BOC_RATE_DECISION:"BoC Decisión de Tipos",BOE_RATE_DECISION:"BoE Decisión de Tipos",CONSUMER_CONFIDENCE:"Confianza del Consumidor",CONSUMER_PRICE_INDEX:"Índice de Precios al Consumo",CONSUMER_SENTIMENT:"Sentimiento del Consumidor",CPI:"IPC",CPI_ANNUAL:"IPC (Anual)",CPI_EUNORM_FINAL_ANNUAL:"IPC - EU Norm, Final (Anual)",CPI_EUNORM_FINAL_MONTHLY:"IPC - EU Norm, Final (Mensual)",CPI_FINAL_ANNUAL:"IPC Final (Anual)",CPI_FINAL_MONTHLY:"IPC Final (Mensual)",CPI_MONTHLY:"IPC (Mensual)",CPI_OVERALL_NATIONWIDE:"IPC, general a nivel nacional",CPI_OVERALL_TOKYO:"IPC, general Tokyo",DURABLE_GOODS_ORDERS:"Órdenes de Bienes Duraderos",EBC_RATE_DECISION:"BCE Decisión de Tipos",EMPLOYMENT:"Tasa de empleo",EMPLOYMENT_CHANGE:"Cambio de empleo",EMPLOYMENT_GROWTH:"Crecimiento de empleo",FOMC_RATE_DECISION:"FOMC Decisión de tipos",GDP:"PIB",GDP_ANNUAL:"PIB (Anual)",GDP_ANNUALISED_QUARTERLY:"PIB, Anualizado (Trimestral)",GDP_DETAILED_ANNUAL:"PIB, Detallado (Anual)",GDP_DETAILED_QUARTERLY:"PIB, Detallado (Trimestral)",GDP_FINAL_ANNUAL:"PIB, Final (Anual)",GDP_FINAL_QUARTERLY:"PIB, Final (Trimestral)",GDP_MONTHLY:"PIB (Mensual)",GDP_QUARTERLY:"PIB (Trimestral)",GDP_REVISED_ANNUAL:"PIB, Revisado (Anual)",GDP_REVISED_QUARTERLY:"PIB, Revisado (Trimestral)",HOUSING_STARTS:"Inicio de casas",INFLATION_ANNUAL:"Inflación (Anual)",INFLATION_MONTHLY:"Inflación (Mensual)",INFLATION_QUARTERLY:"Inflación (Trimestral)",NONFARM_PAYROLLS:"Nóminas no agrícolas",NONFARM_PAYROLLS_QUARTERLY:"Nóminas no agrícolas (Trimestral)",RETAIL_SALES:"Ventas al por menor",RETAIL_SALES_ANNUAL:"Ventas al por menor (Anual)",RETAIL_SALES_MONTHLY:"Ventas al por menor (Mensual)",RETAIL_SALES_NSA_ANNUAL:"Ventas al por menor, NSA (Anual)",RETAIL_SALES_QUARTERLY:"Ventas al por menor (Trimestral)",RETAIL_SALES_SA_MONTHLY:"Ventas al por menor, SA (Mensual)",TRADE_BALANCE:"Balanza comercial",UNEMPLOYMENT:"Desempleo",UNEMPLOYMENT_RATE:"Tasa de desempleo",UNEMPLOYMENT_SURVEY:"Encuesta de desempleo",UNEMPLOYMENT_TOTAL:"Total de desempleo",UNEMPLOYMENT_TOTAL_NSA:"Total de desempleo, NSA",UNEMPLOYMENT_TOTAL_SA:"Total de desempleo, SA"},fr:{actual:"Actuel",expected:"Prévu",previous:"Précédent",pagination:"{0} sur {1}",AU:"Australie",CA:"Canada",CN:"Chine",DE:"Allemagne",ES:"Espagne",EU:"Zone euro",FR:"France",HK:"Hong Kong",IT:"Italie",JP:"Japon",NZ:"Nouvelle Zélande",GB:"Royaume-Uni",US:"États-Unis",ZA:"Afrique du sud",AU_Index:"AU",CA_Index:"CA",CN_Index:"CN",DE_Index:"DE",ES_Index:"ES",EU_Index:"EU",FR_Index:"FR",HK_Index:"HK",IT_Index:"IT",JP_Index:"JP",NZ_Index:"NZ",GB_Index:"GB",US_Index:"US",ZA_Index:"ZA",SELECT_ALL:"Tout sélectionner",DESELECT_ALL:"Tout désélectionner",COMPANY_EARNINGS:"Résultats d'entreprise",DIVIDEND_PAYMENTS:"Dividendes",IPOS:"IPO",STOCK_SPLITS:"Répartition des actions",ADP_NATIONAL_EMPLOYMENT:"Rapport national ADP sur l'Emploi",BOC_RATE_DECISION:"Décision sur les taux de la BoC",BOE_RATE_DECISION:"Décision sur les taux de la BoE",CONSUMER_CONFIDENCE:"Confiance du consommateur",CONSUMER_PRICE_INDEX:"Indice des prix à la consommation",CONSUMER_SENTIMENT:"Sentiment du consommateur",CPI:"IPC",CPI_ANNUAL:"IPC (Annuel)",CPI_EUNORM_FINAL_ANNUAL:"IPC - Norme UE, Final (Annuel)",CPI_EUNORM_FINAL_MONTHLY:"IPC - Norme UE, Final (Mensuel)",CPI_FINAL_ANNUAL:"IPC Final (Annuel)",CPI_FINAL_MONTHLY:"IPC Final (Mensuel)",CPI_MONTHLY:"IPC (Mensuel)",CPI_OVERALL_NATIONWIDE:"IPC, Niveau mondial",CPI_OVERALL_TOKYO:"IPC, Tokyo",DURABLE_GOODS_ORDERS:"Commandes de biens durables",EBC_RATE_DECISION:"Décision sur les taux de la BCE",EMPLOYMENT:"Emploi",EMPLOYMENT_CHANGE:"Variation de l'emploi",EMPLOYMENT_GROWTH:"Croissance de l'emploi",FOMC_RATE_DECISION:"Décision sur les taux du FOMC",GDP:"PIB",GDP_ANNUAL:"PIB (Annuel)",GDP_ANNUALISED_QUARTERLY:"PIB, Annualisé (Trimestriel)",GDP_DETAILED_ANNUAL:"PIB, Détaillé (Annuel)",GDP_DETAILED_QUARTERLY:"PIB, Détaillé (Trimestriel)",GDP_FINAL_ANNUAL:"PIB, Final (Annuel)",GDP_FINAL_QUARTERLY:"PIB, Final (Trimestriel)",GDP_MONTHLY:"PIB (Mensuel)",GDP_QUARTERLY:"PIB (Trimestriel)",GDP_REVISED_ANNUAL:"PIB, Révisé (Annuel)",GDP_REVISED_QUARTERLY:"PIB, Révisé (Trimestriel)",HOUSING_STARTS:"Mises en chantier de nouveaux logements",INFLATION_ANNUAL:"Inflation (Annuelle)",INFLATION_MONTHLY:"Inflation (Mensuelle)",INFLATION_QUARTERLY:"Inflation (Trimestrielle)",NONFARM_PAYROLLS:"Emploi non-agricole",NONFARM_PAYROLLS_QUARTERLY:"Emploi non-agricole (Trimestiel)",RETAIL_SALES:"Ventes au détail",RETAIL_SALES_ANNUAL:"Ventes au détail (Annuelles)",RETAIL_SALES_MONTHLY:"Ventes au détail (Mensuelles)",RETAIL_SALES_NSA_ANNUAL:"Ventes au détail, Amérique du nord et du sud (Annuelles)",RETAIL_SALES_QUARTERLY:"Ventes au détail (Trimestrielles)",RETAIL_SALES_SA_MONTHLY:"Ventes au détail, Afrique du sud (Mensuelles)",TRADE_BALANCE:"Balance commerciale",UNEMPLOYMENT:"Chômage",UNEMPLOYMENT_RATE:"Taux de chômage",UNEMPLOYMENT_SURVEY:"Étude sur le chômage",UNEMPLOYMENT_TOTAL:"Chômage total",UNEMPLOYMENT_TOTAL_NSA:"Chômage Total, Amérique du nord et du sud",UNEMPLOYMENT_TOTAL_SA:"Chômage Total, Afrique du sud"},it:{actual:"Attuale",expected:"Stime",previous:"Precedente",pagination:"{0} di {1}",AU:"Australia",CA:"Canada",CN:"Cina",DE:"Germania",ES:"Spagna",EU:"Eurozona",FR:"Francia",HK:"Hong Kong",IT:"Italia",JP:"Giappone",NZ:"Nuova Zelanda",GB:"Regno Unito",US:"USA",ZA:"Sudafrica",AU_Index:"AU",CA_Index:"CA",CN_Index:"CN",DE_Index:"DE",ES_Index:"ES",EU_Index:"EU",FR_Index:"FR",HK_Index:"HK",IT_Index:"IT",JP_Index:"JP",NZ_Index:"NZ",GB_Index:"GB",US_Index:"US",ZA_Index:"ZA",SELECT_ALL:"Seleziona tutto",DESELECT_ALL:"Deseleziona tutto",COMPANY_EARNINGS:"Trimestrali",DIVIDEND_PAYMENTS:"Dividendi",IPOS:"IPO",STOCK_SPLITS:"Stock Splits",ADP_NATIONAL_EMPLOYMENT:"Stime ADP nuovi occupati",BOC_RATE_DECISION:"Decisione tassi BoC",BOE_RATE_DECISION:"Decisione tassi BoE",CONSUMER_CONFIDENCE:"Fiducia consumatori",CONSUMER_PRICE_INDEX:"Indice dei prezzi al consumo",CONSUMER_SENTIMENT:"Sentiment consumatori",CPI:"CPI",CPI_ANNUAL:"CPI (annuale)",CPI_EUNORM_FINAL_ANNUAL:"CPI - EU armonizzata, finale (annuale)",CPI_EUNORM_FINAL_MONTHLY:"CPI - EU armonizzata, finale (mensile)",CPI_FINAL_ANNUAL:"CPI finale (annuale)",CPI_FINAL_MONTHLY:"CPI finale (mensile)",CPI_MONTHLY:"CPI (mensile)",CPI_OVERALL_NATIONWIDE:"CPI nazionale",CPI_OVERALL_TOKYO:"CPI, area di Tokyo",DURABLE_GOODS_ORDERS:"Ordini beni durevoli",EBC_RATE_DECISION:"Decisioni tassi Bce",EMPLOYMENT:"Occupazione",EMPLOYMENT_CHANGE:"Variazione occupati",EMPLOYMENT_GROWTH:"Crescita occupazione",FOMC_RATE_DECISION:"Decisione tassi FOMC",GDP:"PIL",GDP_ANNUAL:"PIL (annuale)",GDP_ANNUALISED_QUARTERLY:"PIL, annualizzato",GDP_DETAILED_ANNUAL:"PIL, contribuzioni (annuale)",GDP_DETAILED_QUARTERLY:"PIL contribuzioni (trimestrale)",GDP_FINAL_ANNUAL:"PIL finale (annuale)",GDP_FINAL_QUARTERLY:"PIL finale (trimestrale)",GDP_MONTHLY:"PIL (mensile)",GDP_QUARTERLY:"PIL (trimestrale)",GDP_REVISED_ANNUAL:"PIL, rivisto (annuale)",GDP_REVISED_QUARTERLY:"PIL, rivisto (trimestrale)",HOUSING_STARTS:"Avvio cantieri edilizi",INFLATION_ANNUAL:"Inflazione (annuale)",INFLATION_MONTHLY:"Inflazione (mensile)",INFLATION_QUARTERLY:"Inflazione (trimestrale)",NONFARM_PAYROLLS:"Non-farm Payrolls",NONFARM_PAYROLLS_QUARTERLY:"Non-farm Payrolls (trimestrale)",RETAIL_SALES:"Vendite al dettaglio",RETAIL_SALES_ANNUAL:"Vendite al dettaglio (annuale)",RETAIL_SALES_MONTHLY:"Vendite al dettaglio (mensile)",RETAIL_SALES_NSA_ANNUAL:"Vendite al dettaglio, NSA (annuale)",RETAIL_SALES_QUARTERLY:"Vendite al dettaglio (trimestrale)",RETAIL_SALES_SA_MONTHLY:"Vendite al dettaglio, SA (mensile)",TRADE_BALANCE:"Bilancia commerciale",UNEMPLOYMENT:"Disoccupazione",UNEMPLOYMENT_RATE:"Tasso di disoccupazione",UNEMPLOYMENT_SURVEY:"Unemployment Survey",UNEMPLOYMENT_TOTAL:"Disoccupazione totale",UNEMPLOYMENT_TOTAL_NSA:"Disoccupazione totale, NSA",UNEMPLOYMENT_TOTAL_SA:"Disoccupazione totale, SA"},ja:{"date-format-details":"EEE yyyy MMM d H:mm",actual:"結果",expected:"予想",previous:"前回",pagination:"{0} / {1}",AU:"オーストラリア",CA:"カナダ",CN:"中国",DE:"ドイツ",ES:"スペイン",EU:"ユーロ圏",FR:"フランス",HK:"香港",IT:"イタリア",JP:"日本",NZ:"ニュージーランド",GB:"英国",US:"米国",ZA:"南アフリカ",AU_Index:"AU",CA_Index:"CA",CN_Index:"CN",DE_Index:"DE",ES_Index:"ES",EU_Index:"EU",FR_Index:"FR",HK_Index:"HK",IT_Index:"IT",JP_Index:"JP",NZ_Index:"NZ",GB_Index:"GB",US_Index:"US",ZA_Index:"ZA",SELECT_ALL:"全て選択",DESELECT_ALL:"全て解除",COMPANY_EARNINGS:"企業収益",DIVIDEND_PAYMENTS:"配当",IPOS:"株式公開(IPO)",STOCK_SPLITS:"株式分割",ADP_NATIONAL_EMPLOYMENT:"米ADP雇用統計",BOC_RATE_DECISION:"加中銀（BOC）政策金利",BOE_RATE_DECISION:"英中銀（BOE）政策金利",CONSUMER_CONFIDENCE:"消費者信頼感指数",CONSUMER_PRICE_INDEX:"消費者物価指数",CONSUMER_SENTIMENT:"消費者信頼感指数",CPI:"消費者物価指数",CPI_ANNUAL:"消費者物価指数（年次）",CPI_EUNORM_FINAL_ANNUAL:"ユーロ圏消費者物価指数 改定値（月次）",CPI_EUNORM_FINAL_MONTHLY:"ユーロ圏消費者物価指数 改定値（月次）",CPI_FINAL_ANNUAL:"消費者物価指数 確定値（年次）",CPI_FINAL_MONTHLY:"消費者物価指数 確定値（月次）",CPI_MONTHLY:"消費者物価指数（月次）",CPI_OVERALL_NATIONWIDE:"全国消費者物価指数",CPI_OVERALL_TOKYO:"東京都区部消費者物価指数",DURABLE_GOODS_ORDERS:"耐久財受注",EBC_RATE_DECISION:"欧州中央銀行（ECB）理事会",EMPLOYMENT:"雇用統計",EMPLOYMENT_CHANGE:"雇用統計・変動",EMPLOYMENT_GROWTH:"雇用統計・増加",FOMC_RATE_DECISION:"連邦公開市場委員会（FOMC）",GDP:"GDP",GDP_ANNUAL:"GDP（年次）",GDP_ANNUALISED_QUARTERLY:"GDP（四半期、年換算）",GDP_DETAILED_ANNUAL:"GDP（年次、詳細）",GDP_DETAILED_QUARTERLY:"GDP（四半期、詳細）",GDP_FINAL_ANNUAL:"GDP（年次、確定値）",GDP_FINAL_QUARTERLY:"GDP（四半期、確定値）",GDP_MONTHLY:"GDP（月次）",GDP_QUARTERLY:"GDP（四半期）",GDP_REVISED_ANNUAL:"GDP（年次、改定値）",GDP_REVISED_QUARTERLY:"GDP（四半期、改定値）",HOUSING_STARTS:"住宅着工件数",INFLATION_ANNUAL:"物価上昇率（年次）",INFLATION_MONTHLY:"物価上昇率（月次）",INFLATION_QUARTERLY:"物価上昇率（四半期）",NONFARM_PAYROLLS:"非農業部門雇用者数",NONFARM_PAYROLLS_QUARTERLY:"非農業部門雇用者数（四半期）",RETAIL_SALES:"小売売上高",RETAIL_SALES_ANNUAL:"小売売上高（年次）",RETAIL_SALES_MONTHLY:"小売売上高（月次）",RETAIL_SALES_NSA_ANNUAL:"小売売上高（年次）",RETAIL_SALES_QUARTERLY:"小売売上高（四半期）",RETAIL_SALES_SA_MONTHLY:"小売売上高（月次、季節調節済み）",TRADE_BALANCE:"貿易収支",UNEMPLOYMENT:"失業者数",UNEMPLOYMENT_RATE:"失業率",UNEMPLOYMENT_SURVEY:"失業者数調査",UNEMPLOYMENT_TOTAL:"失業者総数",UNEMPLOYMENT_TOTAL_NSA:"失業者総数",UNEMPLOYMENT_TOTAL_SA:"失業者総数（季節調節済み）"},nl:{actual:"Daadwerkelijk",expected:"Geschat",previous:"Vorig",pagination:"{0} of {1}",AU:"Australië",CA:"Canada",CN:"China",DE:"Duitsland",ES:"Spanje",EU:"Eurozone",FR:"Frankrijk",HK:"Hong Kong",IT:"Italië",JP:"Japan",NZ:"Nieuw Zeeland",GB:"VK",US:"VS",ZA:"Zuid Afrika",AU_Index:"AU",CA_Index:"CA",CN_Index:"CN",DE_Index:"DE",ES_Index:"ES",EU_Index:"EU",FR_Index:"FR",HK_Index:"HK",IT_Index:"IT",JP_Index:"JP",NZ_Index:"NZ",GB_Index:"GB",US_Index:"US",ZA_Index:"ZA",SELECT_ALL:"Alles selecteren",DESELECT_ALL:"Alles deselecteren",COMPANY_EARNINGS:"Bedrijfsinkomsten",DIVIDEND_PAYMENTS:"Dividend",IPOS:"Beursgangen/IPO's",STOCK_SPLITS:"Aandelensplitsingen",ADP_NATIONAL_EMPLOYMENT:"ADP Nationale Werkgelegenheid",BOC_RATE_DECISION:"BoC Rentebesluit",BOE_RATE_DECISION:"BoE Rentebesluit",CONSUMER_CONFIDENCE:"Consumentenvertrouwen",CONSUMER_PRICE_INDEX:"Consumenten Prijsindex",CONSUMER_SENTIMENT:"Consumentensentiment",CPI:"CPI",CPI_ANNUAL:"CPI (Jaarlijks)",CPI_EUNORM_FINAL_ANNUAL:"CPI - EU Norm, Laatste (Jaarlijks)",CPI_EUNORM_FINAL_MONTHLY:"CPI - EU Norm, Laatste (Maandelijks)",CPI_FINAL_ANNUAL:"CPI Final (Jaarlijks)",CPI_FINAL_MONTHLY:"CPI Laatste (Maandelijks)",CPI_MONTHLY:"CPI (Maandelijks)",CPI_OVERALL_NATIONWIDE:"CPI, landelijk",CPI_OVERALL_TOKYO:"CPI, Tokyo",DURABLE_GOODS_ORDERS:"Duurzame goederen orders",EBC_RATE_DECISION:"ECB Rentebesluit",EMPLOYMENT:"Werkgelegenheid",EMPLOYMENT_CHANGE:"Werkgelegenheid verandering",EMPLOYMENT_GROWTH:"Werkgelegenheid groei",FOMC_RATE_DECISION:"FOMC Rentebesluit",GDP:"GDP",GDP_ANNUAL:"GDP (Jaarlijks)",GDP_ANNUALISED_QUARTERLY:"GDP, op jaarbasis (Kwartaal)",GDP_DETAILED_ANNUAL:"GDP, Gedetailleerd (Jaarlijks)",GDP_DETAILED_QUARTERLY:"GDP, Gedetailleerd (Kwartaal)",GDP_FINAL_ANNUAL:"GDP, Laatste (Jaarlijks)",GDP_FINAL_QUARTERLY:"GDP, Laatste (Kwartaal)",GDP_MONTHLY:"GDP (Maandelijks)",GDP_QUARTERLY:"GDP (Kwartaal)",GDP_REVISED_ANNUAL:"GDP, Herzien (Jaarlijks)",GDP_REVISED_QUARTERLY:"GDP, Herzien (Kwartaal)",HOUSING_STARTS:"Housing Starts",INFLATION_ANNUAL:"Inflatie (Jaarlijks)",INFLATION_MONTHLY:"Inflatie (Maandelijks)",INFLATION_QUARTERLY:"Inflatie (Kwartaal)",NONFARM_PAYROLLS:"Non-farm Payrolls",NONFARM_PAYROLLS_QUARTERLY:"Non-farm Payrolls (Kwartaal)",RETAIL_SALES:"Detailhandelsverkopen",RETAIL_SALES_ANNUAL:"Detailhandelsverkopen (Jaarlijks)",RETAIL_SALES_MONTHLY:"Detailhandelsverkopen (Maandelijks)",RETAIL_SALES_NSA_ANNUAL:"Detailhandelsverkopen, NSA (Jaarlijks)",RETAIL_SALES_QUARTERLY:"Detailhandelsverkopen (Kwartaal)",RETAIL_SALES_SA_MONTHLY:"Detailhandelsverkopen, SA (Maandelijks)",TRADE_BALANCE:"Handelsbalans",UNEMPLOYMENT:"Werkloosheid",UNEMPLOYMENT_RATE:"Werkloosheidcijfers",UNEMPLOYMENT_SURVEY:"Werkloosheidsonderzoek",UNEMPLOYMENT_TOTAL:"Werkloosheid totaal",UNEMPLOYMENT_TOTAL_NSA:"Werkloosheid Totaal, NSA",UNEMPLOYMENT_TOTAL_SA:"Werkloosheid Totaal, SA"},nb:{actual:"Faktiske",expected:"Estimert",previous:"Forrige",pagination:"{0} av {1}",AU:"Australia",CA:"Canada",CN:"Kina",DE:"Tyskland",ES:"Spania",EU:"Eurosonen",FR:"Frankrike",HK:"Hong Kong",IT:"Italia",JP:"Japan",NZ:"New Zealand",GB:"Storbritannia",US:"USA",ZA:"Sør-Afrika",AU_Index:"AU",CA_Index:"CA",CN_Index:"CN",DE_Index:"DE",ES_Index:"ES",EU_Index:"EU",FR_Index:"FR",HK_Index:"HK",IT_Index:"IT",JP_Index:"JP",NZ_Index:"NZ",GB_Index:"GB",US_Index:"US",ZA_Index:"ZA",SELECT_ALL:"Velg alle",DESELECT_ALL:"Fjern merking av alle",COMPANY_EARNINGS:"Finanskalender",DIVIDEND_PAYMENTS:"Utbytte",IPOS:"Børsnoteringer",STOCK_SPLITS:"Aksje-split",ADP_NATIONAL_EMPLOYMENT:"ADP National Employment",BOC_RATE_DECISION:"BoC Rate Decision",BOE_RATE_DECISION:"BoE Rate Decision",CONSUMER_CONFIDENCE:"Consumer Confidence",CONSUMER_PRICE_INDEX:"Konsumprisindeksen",CONSUMER_SENTIMENT:"Consumer Sentiment",CPI:"KPI",CPI_ANNUAL:"KPI (Årlig)",CPI_EUNORM_FINAL_ANNUAL:"KPI - EU Norm, Endelig (Årlig)",CPI_EUNORM_FINAL_MONTHLY:"KPI - EU Norm, Endelig (Månedlig)",CPI_FINAL_ANNUAL:"KPI Endelig (Årlig)",CPI_FINAL_MONTHLY:"KPI Endelig (Månedlig)",CPI_MONTHLY:"KPI (Månedlig)",CPI_OVERALL_NATIONWIDE:"KPI, Overall Nationwide",CPI_OVERALL_TOKYO:"KPI, Total Tokyo",DURABLE_GOODS_ORDERS:"Durable Goods Orders",EBC_RATE_DECISION:"ECB Rate Decision",EMPLOYMENT:"Sysselsetting",EMPLOYMENT_CHANGE:"Endring i sysselsetting",EMPLOYMENT_GROWTH:"Økning i sysselsetting",FOMC_RATE_DECISION:"FOMC Rate Decision",GDP:"BNP",GDP_ANNUAL:"BNP (Årlig)",GDP_ANNUALISED_QUARTERLY:"BNP, Annualised (Kvartalsvis)",GDP_DETAILED_ANNUAL:"BNP, Detaljert (Årlig)",GDP_DETAILED_QUARTERLY:"BNP, Detaljert (Kvartalsvis)",GDP_FINAL_ANNUAL:"BNP, Endelig (Årlig)",GDP_FINAL_QUARTERLY:"BNP, Endelig (Kvartalsvis)",GDP_MONTHLY:"BNP (Månedlig)",GDP_QUARTERLY:"BNP (Kvartalsvis)",GDP_REVISED_ANNUAL:"BNP, Revidert (Årlig)",GDP_REVISED_QUARTERLY:"BNP, Revidert (Kvartalsvis)",HOUSING_STARTS:"Housing Starts",INFLATION_ANNUAL:"Inflasjon (Årlig)",INFLATION_MONTHLY:"Inflasjon (Månedlig)",INFLATION_QUARTERLY:"Inflasjon (Kvartalsvis)",NONFARM_PAYROLLS:"Non-farm Payrolls",NONFARM_PAYROLLS_QUARTERLY:"Non-farm Payrolls (Kvartalsvis)",RETAIL_SALES:"Retail Sales",RETAIL_SALES_ANNUAL:"Retail Sales (Årlig)",RETAIL_SALES_MONTHLY:"Retail Sales (Månedlig)",RETAIL_SALES_NSA_ANNUAL:"Retail Sales , NSA (Årlig)",RETAIL_SALES_QUARTERLY:"Retail Sales (Kvartalsvis)",RETAIL_SALES_SA_MONTHLY:"Retail Sales (Kvartalsvis)",TRADE_BALANCE:"Trade Balance",UNEMPLOYMENT:"Arbeidsledighet",UNEMPLOYMENT_RATE:"Arbeidsledighetstall",UNEMPLOYMENT_SURVEY:"Arbeidsledighetsundersøkelse",UNEMPLOYMENT_TOTAL:"Total arbeidsledighet",UNEMPLOYMENT_TOTAL_NSA:"Total arbeidsledighet, NSA",UNEMPLOYMENT_TOTAL_SA:"Total arbeidsledighet, SA"},pt:{actual:"Atual",expected:"Estimado",previous:"Anterior",pagination:"{0} de {1}",AU:"Austrália",CA:"Canadá",CN:"China",DE:"Alemanha",ES:"Espanha",EU:"Zona Euro",FR:"França",HK:"Hong Kong",IT:"Itália",JP:"Japão",NZ:"Nova Zelândia",GB:"Reino Unido",US:"EUA",ZA:"África do Sul",AU_Index:"AU",CA_Index:"CA",CN_Index:"CN",DE_Index:"DE",ES_Index:"ES",EU_Index:"EU",FR_Index:"FR",HK_Index:"HK",IT_Index:"IT",JP_Index:"JP",NZ_Index:"NZ",GB_Index:"GB",US_Index:"US",ZA_Index:"ZA",SELECT_ALL:"Selecionar tudo",DESELECT_ALL:"Anular seleção",COMPANY_EARNINGS:"Company Earnings",DIVIDEND_PAYMENTS:"Dividendos",IPOS:"IPOs",STOCK_SPLITS:"Desdobramento de ações",ADP_NATIONAL_EMPLOYMENT:"ADP National Employment",BOC_RATE_DECISION:"Decisão da taxa BoC",BOE_RATE_DECISION:"Decisão da taxa BoE",CONSUMER_CONFIDENCE:"Confiança dos consumidores",CONSUMER_PRICE_INDEX:"Índice de preços do consumidor",CONSUMER_SENTIMENT:"Sentimento dos consumidores",CPI:"IPC",CPI_ANNUAL:"IPC (Anual)",CPI_EUNORM_FINAL_ANNUAL:"IPC - EU Norm, Final (Anual)",CPI_EUNORM_FINAL_MONTHLY:"IPC - EU Norm, Final (Mensal)",CPI_FINAL_ANNUAL:"IPC Final (Anual)",CPI_FINAL_MONTHLY:"IPC Final (Mensual)",CPI_MONTHLY:"IPC (Mensual)",CPI_OVERALL_NATIONWIDE:"IPC, Conjuto nacional",CPI_OVERALL_TOKYO:"IPC, Tóquio geral",DURABLE_GOODS_ORDERS:"Encomendas de Bens duradouros",EBC_RATE_DECISION:"Decisão da taxa ECB",EMPLOYMENT:"Emprego",EMPLOYMENT_CHANGE:"Variação do emprego",EMPLOYMENT_GROWTH:"Crescimento do emprego",FOMC_RATE_DECISION:"Decisão de taxa FOMC",GDP:"PIB",GDP_ANNUAL:"PIB (Anual)",GDP_ANNUALISED_QUARTERLY:"PIB, Anualizado (Trimestral)",GDP_DETAILED_ANNUAL:"PIB, Detalhado (Anual)",GDP_DETAILED_QUARTERLY:"PIB, Detalhado (Trimestral)",GDP_FINAL_ANNUAL:"PIB, Final (Anual)",GDP_FINAL_QUARTERLY:"PIB, Final (Trimestral)",GDP_MONTHLY:"PIB (Mensal)",GDP_QUARTERLY:"PIB (Trimestral)",GDP_REVISED_ANNUAL:"PIB, Revisto (Anual)",GDP_REVISED_QUARTERLY:"PIB, Revisto (Trismestral)",HOUSING_STARTS:"Housing Starts",INFLATION_ANNUAL:"Inflação (Anual)",INFLATION_MONTHLY:"Inflação (Mensal)",INFLATION_QUARTERLY:"Inflação (Trismestral)",NONFARM_PAYROLLS:"Non-farm Payrolls",NONFARM_PAYROLLS_QUARTERLY:"Non-farm Payrolls (Trismestral)",RETAIL_SALES:"Vendas retalhistas",RETAIL_SALES_ANNUAL:"Vendas retalhistas (Anual)",RETAIL_SALES_MONTHLY:"Vendas retalhistas (Mensal)",RETAIL_SALES_NSA_ANNUAL:"Vendas retalhistas, NSA (Anual)",RETAIL_SALES_QUARTERLY:"Vendas retalhistas (Trismestral)",RETAIL_SALES_SA_MONTHLY:"Vendas retalhistas, SA (Mensal)",TRADE_BALANCE:"Trade Balance",UNEMPLOYMENT:"Desemprego",UNEMPLOYMENT_RATE:"Taxa de desemprego",UNEMPLOYMENT_SURVEY:"Inquérito de desemprego",UNEMPLOYMENT_TOTAL:"Total de desemprego",UNEMPLOYMENT_TOTAL_NSA:"Total de desemprego, NSA",UNEMPLOYMENT_TOTAL_SA:"Total de desemprego, SA"},sv:{"date-format-details":"EEE yyyy MMM d H:mm",actual:"Färdiga",expected:"Väntat",previous:"Föregående",pagination:"{0} av {1}",AU:"Australien",CA:"Kanada",CN:"Kina",DE:"Tyskland",ES:"Spanien",EU:"Eurozone",FR:"Frankrike",HK:"Hong Kong",IT:"Italien",JP:"Japan",NZ:"Nya Zeeland",GB:"UK",US:"USA",ZA:"Sydafrika",AU_Index:"AU",CA_Index:"CA",CN_Index:"CN",DE_Index:"DE",ES_Index:"ES",EU_Index:"EU",FR_Index:"FR",HK_Index:"HK",IT_Index:"IT",JP_Index:"JP",NZ_Index:"NZ",GB_Index:"GB",US_Index:"US",ZA_Index:"ZA",SELECT_ALL:"Välj alla",DESELECT_ALL:"Avmarkera alla",COMPANY_EARNINGS:"Bolagsrapporter",DIVIDEND_PAYMENTS:"Utdelningar",IPOS:"Utdelningar",STOCK_SPLITS:"Aktiesplittar",ADP_NATIONAL_EMPLOYMENT:"ADP National Employment",BOC_RATE_DECISION:"Bank of Canada räntebesked",BOE_RATE_DECISION:"Bank of England räntebesked",CONSUMER_CONFIDENCE:"Konsumentförtroende",CONSUMER_PRICE_INDEX:"Konsumentpris-index",CONSUMER_SENTIMENT:"Konsumentsentiment",CPI:"KPI",CPI_ANNUAL:"KPI (Årlig)",CPI_EUNORM_FINAL_ANNUAL:"KPI - EU Norm, slutgiltig (årlig)",CPI_EUNORM_FINAL_MONTHLY:"KPI - EU Norm, slutgiltig (månatlig)",CPI_FINAL_ANNUAL:"KPI slutgilitig (årlig)",CPI_FINAL_MONTHLY:"KPI slutgiltig (månatlig)",CPI_MONTHLY:"KPI (månatlig)",CPI_OVERALL_NATIONWIDE:"KPI, Overall Nationwide",CPI_OVERALL_TOKYO:"KPI, Overall Tokyo",DURABLE_GOODS_ORDERS:"Varaktiga varor",EBC_RATE_DECISION:"ECB räntebesked",EMPLOYMENT:"Sysselsättning",EMPLOYMENT_CHANGE:"Sysselsättningsförändring",EMPLOYMENT_GROWTH:"Sysselsättningstillväxt",FOMC_RATE_DECISION:"FOMC räntebesked",GDP:"BNP",GDP_ANNUAL:"BNP (årlig)",GDP_ANNUALISED_QUARTERLY:"BNP, årstakt (kvartal)",GDP_DETAILED_ANNUAL:"BNP, detaljerad (årlig)",GDP_DETAILED_QUARTERLY:"BNP, detaljerad (kvartal)",GDP_FINAL_ANNUAL:"BNP, slutgiltig (årlig)",GDP_FINAL_QUARTERLY:"BNP, slutgiltig (kvartal)",GDP_MONTHLY:"BNP (månatlig)",GDP_QUARTERLY:"BNP (kvartal)",GDP_REVISED_ANNUAL:"BNP, reviderad (årlig)",GDP_REVISED_QUARTERLY:"BNP, reviderad (kvartal)",HOUSING_STARTS:"Bostadsbyggande",INFLATION_ANNUAL:"Inflation (årlig)",INFLATION_MONTHLY:"Inflation (månatlig)",INFLATION_QUARTERLY:"Inflation (kvartal)",NONFARM_PAYROLLS:"Non-farm Payrolls",NONFARM_PAYROLLS_QUARTERLY:"Non-farm Payrolls (kvartal)",RETAIL_SALES:"Detaljhandel",RETAIL_SALES_ANNUAL:"Detaljhandel (årlig)",RETAIL_SALES_MONTHLY:"Detaljhandel (månadsvis)",RETAIL_SALES_NSA_ANNUAL:"Detaljhandel, ej säsongsjusterad (årlig)",RETAIL_SALES_QUARTERLY:"Detaljhandel (kvartal)",RETAIL_SALES_SA_MONTHLY:"Detaljhandel, säsongsjusterad (månadsvis)",TRADE_BALANCE:"Handelsbalans",UNEMPLOYMENT:"Arbetslöshet",UNEMPLOYMENT_RATE:"Arbetslöshetsnivå",UNEMPLOYMENT_SURVEY:"Arbetslöshetsundersökning",UNEMPLOYMENT_TOTAL:"Arbetslöshet, totalt",UNEMPLOYMENT_TOTAL_NSA:"Arbetslöshet, totalt, ej säsongsjusterad",UNEMPLOYMENT_TOTAL_SA:"Arbetslöshet, totalt, säsongsjusterad"},zh:{"date-format-details":"EEE yyyy MMM d H:mm",actual:"实际的",expected:"估计",previous:"先前的",pagination:"{0} / {1}",AU:"澳大利亚",CA:"加拿大",CN:"中国",DE:"德国",ES:"西班牙",EU:"欧元区",FR:"法国",HK:"香港",IT:"意大利",JP:"日本",NZ:"新西兰",GB:"英国",US:"美国",ZA:"南非",AU_Index:"AU",CA_Index:"CA",CN_Index:"CN",DE_Index:"DE",ES_Index:"ES",EU_Index:"EU",FR_Index:"FR",HK_Index:"HK",IT_Index:"IT",JP_Index:"JP",NZ_Index:"NZ",GB_Index:"GB",US_Index:"US",ZA_Index:"ZA",SELECT_ALL:"全选",DESELECT_ALL:"全部删除",COMPANY_EARNINGS:"公司收益",DIVIDEND_PAYMENTS:"股息",IPOS:"首次公开招股 (IPO)",STOCK_SPLITS:"股票拆细",ADP_NATIONAL_EMPLOYMENT:"ADP 全国就业报告",BOC_RATE_DECISION:"加拿大央行利率决策",BOE_RATE_DECISION:"英国央行利率决策",CONSUMER_CONFIDENCE:"消费者信心指数",CONSUMER_PRICE_INDEX:"消费者物价指数",CONSUMER_SENTIMENT:"消费者情绪指数",CPI:"CPI",CPI_ANNUAL:"CPI (年度)",CPI_EUNORM_FINAL_ANNUAL:"CPI-欧盟调和, 最後值 (年度)",CPI_EUNORM_FINAL_MONTHLY:"CPI-欧盟调和, 最後值 (月度)",CPI_FINAL_ANNUAL:"CPI 最後值 (年度)",CPI_FINAL_MONTHLY:"CPI 最後值 (月度)",CPI_MONTHLY:"CPI (月度)",CPI_OVERALL_NATIONWIDE:"全国整体 CPI",CPI_OVERALL_TOKYO:"东京整体 CPI",DURABLE_GOODS_ORDERS:"耐用品订单",EBC_RATE_DECISION:"欧洲央行利率决策",EMPLOYMENT:"就业人数",EMPLOYMENT_CHANGE:"就业人数变化",EMPLOYMENT_GROWTH:"就业增长",FOMC_RATE_DECISION:"美国联邦公开市场委员会 (FOMC) 的利率决策",GDP:"国内生产总值",GDP_ANNUAL:"国内生产总值 (年度)",GDP_ANNUALISED_QUARTERLY:"折年国内生产总值 (季度)",GDP_DETAILED_ANNUAL:"国内生产总值 -详细 (年度)",GDP_DETAILED_QUARTERLY:"国内生产总值-详细 (季度)",GDP_FINAL_ANNUAL:"国内生产总值, 最後值 (年度)",GDP_FINAL_QUARTERLY:"国内生产总值, 最後值 (季度)",GDP_MONTHLY:"国内生产总值 (月度)",GDP_QUARTERLY:"国内生产总值 (季度)",GDP_REVISED_ANNUAL:"国内生产总值-修订值 (年度)",GDP_REVISED_QUARTERLY:"国内生产总值-修订值 (季度)",HOUSING_STARTS:"新屋动工",INFLATION_ANNUAL:"通胀 (年度)",INFLATION_MONTHLY:"通胀 (月度)",INFLATION_QUARTERLY:"通胀 (季度)",NONFARM_PAYROLLS:"非农就业数据",NONFARM_PAYROLLS_QUARTERLY:"非农就业数据 (季度)",RETAIL_SALES:"零售业销售额",RETAIL_SALES_ANNUAL:"零售业销售额 (年度)",RETAIL_SALES_MONTHLY:"零售业销售额 (月度)",RETAIL_SALES_NSA_ANNUAL:"零售业销售额-未经季节性调整  (年度)",RETAIL_SALES_QUARTERLY:"零售业销售额  (季度)",RETAIL_SALES_SA_MONTHLY:"零售业销售额-经季节性调整  (月度)",TRADE_BALANCE:"贸易差额",UNEMPLOYMENT:"失业数据",UNEMPLOYMENT_RATE:"失业率",UNEMPLOYMENT_SURVEY:"失业调查报告",UNEMPLOYMENT_TOTAL:"失业总数",UNEMPLOYMENT_TOTAL_NSA:"失业总数 (未经季节性调整数字)",UNEMPLOYMENT_TOTAL_SA:"失业总数 (经季节性调整数字)"},zh_TW:{"date-format-details":"EEE d MMM yyyy H:mm",actual:"實際的",expected:"估計",previous:"先前的",AU:"澳洲",CA:"加拿大",CN:"中國",DE:"德國",ES:"西班牙",EU:"歐元區",FR:"法國",HK:"香港",IT:"意大利",JP:"日本",NZ:"新西蘭",GB:"英國",US:"美國",ZA:"南非",AU_Index:"AU",CA_Index:"CA",CN_Index:"CN",DE_Index:"DE",ES_Index:"ES",EU_Index:"EU",FR_Index:"FR",HK_Index:"HK",IT_Index:"IT",JP_Index:"JP",NZ_Index:"NZ",GB_Index:"GB",US_Index:"US",ZA_Index:"ZA",SELECT_ALL:"全選",DESELECT_ALL:"全部刪除",COMPANY_EARNINGS:"公司盈利",DIVIDEND_PAYMENTS:"股息",IPOS:"首次公開招股 (IPO)",STOCK_SPLITS:"股份拆細",ADP_NATIONAL_EMPLOYMENT:"ADP 全國就業報告",BOC_RATE_DECISION:"加拿大央行利率決策",BOE_RATE_DECISION:"英國央行利率決策",CONSUMER_CONFIDENCE:"消費者信心指數",CONSUMER_PRICE_INDEX:"消費者物價指數",CONSUMER_SENTIMENT:"消費者情緒指數",CPI:"CPI",CPI_ANNUAL:"CPI (年度)",CPI_EUNORM_FINAL_ANNUAL:"CPI-歐盟調和, 最後值 (年度)",CPI_EUNORM_FINAL_MONTHLY:"CPI-歐盟調和, 最後值 (月度)",CPI_FINAL_ANNUAL:"CPI 最後值 (年度)",CPI_FINAL_MONTHLY:"CPI 最後值 (月度)",CPI_MONTHLY:"CPI (月度)",CPI_OVERALL_NATIONWIDE:"全國整體 CPI",CPI_OVERALL_TOKYO:"東京整體 CPI",DURABLE_GOODS_ORDERS:"耐用品訂單",EBC_RATE_DECISION:"歐洲央行利率決策",EMPLOYMENT:"就業人數",EMPLOYMENT_CHANGE:"就業人數變化",EMPLOYMENT_GROWTH:"就業增長",FOMC_RATE_DECISION:"美國聯邦公開市場委員會 (FOMC) 的利率決策",GDP:"國內生產總值",GDP_ANNUAL:"國內生產總值 (年度)",GDP_ANNUALISED_QUARTERLY:"折年國內生產總值 (季度)",GDP_DETAILED_ANNUAL:"國內生產總值 -詳細 (年度)",GDP_DETAILED_QUARTERLY:"國內生產總值-詳細 (季度)",GDP_FINAL_ANNUAL:"國內生產總值, 最後值 (年度)",GDP_FINAL_QUARTERLY:"國內生產總值, 最後值 (季度)",GDP_MONTHLY:"國內生產總值 (月度)",GDP_QUARTERLY:"國內生產總值 (季度)",GDP_REVISED_ANNUAL:"國內生產總值-修訂值 (年度)",GDP_REVISED_QUARTERLY:"國內生產總值-修訂值 (季度)",HOUSING_STARTS:"新屋動工",INFLATION_ANNUAL:"通脹 (年度)",INFLATION_MONTHLY:"通脹 (月度)",INFLATION_QUARTERLY:"通脹 (季度)",NONFARM_PAYROLLS:"非農就業數據",NONFARM_PAYROLLS_QUARTERLY:"非農就業數據 (季度)",RETAIL_SALES:"零售業銷售額",RETAIL_SALES_ANNUAL:"零售業銷售額 (年度)",RETAIL_SALES_MONTHLY:"零售業銷售額 (月度)",RETAIL_SALES_NSA_ANNUAL:"零售業銷售額-未經季節性調整 (年度)",RETAIL_SALES_QUARTERLY:"零售業銷售額 (季度)",RETAIL_SALES_SA_MONTHLY:"零售業銷售額-經季節性調整 (月度)",TRADE_BALANCE:"貿易差額",UNEMPLOYMENT:"失業數據",UNEMPLOYMENT_RATE:"失業率",UNEMPLOYMENT_SURVEY:"失業調查報告",UNEMPLOYMENT_TOTAL:"失業總數",UNEMPLOYMENT_TOTAL_NSA:"失業總數 (未經季節性調整數字)",UNEMPLOYMENT_TOTAL_SA:"失業總數 (經季節性調整數字)"}})},92791:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>c});var n=i(48990),s=i(41943),r=i(12990),o=i(9525),a=i(67329);function l(e,t){return a.A.identifier(e)===a.A.identifier(t)}var d=r.A.extend((function(){}),n.default);d.SHOWN_DETAILS_CHANGED="shownDetailsChanged",d.SHOWN_EVENTS_CHANGED="shownEventsChanged",d.RESOLUTION_INFO_LOADED="resolutionInfoLoaded";var u=d.prototype;u._eventsShown=Object.freeze([]),u._instrumentResolutionInfo=null,u._selectedEventsGroup=null,u.getSelectedEventsGroup=(0,o.getter)("_selectedEventsGroup"),u.getEventsShown=(0,o.getter)("_eventsShown"),u.hasEventsShown=function(){return(0,s.nonEmpty)(this._eventsShown)},u.setInstrumentResolutionInfo=function(e){return this._instrumentResolutionInfo=e,this.fire(d.RESOLUTION_INFO_LOADED,e),this},u.getInstrumentResolutionInfo=(0,o.getter)("_instrumentResolutionInfo"),u.withEvents=function(e){var t,i;return t=e,i=this._eventsShown,t===i||t.length===i.length&&t.every((function(e,t){return l(e,i[t])}))||(this._eventsShown=e,this.fire(d.SHOWN_EVENTS_CHANGED,this._eventsShown),this._invalidateChanges()),this},u._invalidateChanges=function(){this._selectedEventsGroup&&!this._eventsShown.some(l.bind(this,this._selectedEventsGroup))&&this.showDetailsForEvents(null)},u.showDetailsForEvents=function(e){var t=this._selectedEventsGroup;this._selectedEventsGroup=e,l(t,e)||this.fire(d.SHOWN_DETAILS_CHANGED,e)},u.hideDetails=function(){this.showDetailsForEvents(null)},u.destroy=function(){delete this._eventsShown,d.superclass.destroy.call(this)},Object.seal(u);const c=Object.seal(d)},41447:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>v});var n=i(43130),s=i(3565),r=i(41943),o=i(86605),a=i(13164),l=i(67329);function d(e,t){this._timeline=e,this._visibleWindow=t}d.create=function(e,t){return new d(e,t)};var u=d.prototype;u._timeline=null,u._visibleWindow=null,u.createGroupedEventsViewModelForEvents=function(e){var t,i,n,s=[];if((0,r.nonEmpty)(e))for(t=l.A.create(this._createEventViewModel((0,r.firstOf)(e))),s.push(t),n=1;n<e.length;n++)i=this._createEventViewModel(e[n]),20<this._accTimeToPixels(i.accTime)-this._accTimeToPixels(t.getAccTime())?(t=l.A.create(i),s.push(t)):t.addEvent(i);return s},u._createEventViewModel=function(e){return a.default.create(e).withAccTime(this._timeline.asAccTime(e.timestamp,!0))},u._accTimeToPixels=function(e){return this._visibleWindow.getXScale()(e)},Object.seal(u);const c=Object.seal(d);var h=i(12990),p=i(40708),_=i(36757),g=i(73453),f=h.A.extend((function(){}),s.default);f.X_AXIS_PADDING=24;var m=f.prototype;m.paddingOnAxis=-f.X_AXIS_PADDING,m._timeline=null,m._events=null,m._calendarEventsLayoutSolver=null,m._groupedEventModels=null,m.startListening=function(e,t){var i=t.activeInstrumentResolution;this._timeline=t.timeline,this._visibleWindow=e,this._calendarEventsLayoutSolver=c.create(this._timeline,this._visibleWindow),this._eventBus.subscribe("calendar/events/updated",this._handleNewEvents,this),this._visibleWindow.on(g.default.MOVED,this._handleVisibleWindowMoved,this),this._visibleWindow.visibleDateRange.on(_.default.VISIBLE_BLOCKS_POINTS_ADDED+"-prices",this._updateVisibleEvents,this),(0,n.get)(i,"info")&&this._presentationModel.setInstrumentResolutionInfo(i.info),this._eventBus.subscribe("chart/resolution/info",this._presentationModel.setInstrumentResolutionInfo,this._presentationModel)},m.stopListening=function(){delete this._events,this._visibleWindow&&(this._visibleWindow.visibleDateRange.un(null,this),delete this._timeline),this._subView&&this._subView.getChartView().un(null,this),this._eventBus.unsubscribe("chart/resolution/info",this._presentationModel.setInstrumentResolutionInfo,this._presentationModel),f.superclass.stopListening.call(this)},m._handleNewEvents=function(e){this._events=e,this._groupedEventModels=this._calendarEventsLayoutSolver.createGroupedEventsViewModelForEvents(e),this._updateVisibleEvents()},m._handleVisibleWindowMoved=function(e){e&&this._visibleWindow.visibleDateRange.xAxisReady&&this._updateVisibleEvents(),e&o.default.ZOOMED&&(this._groupedEventModels=this._calendarEventsLayoutSolver.createGroupedEventsViewModelForEvents(this._events))},m._updateVisibleEvents=function(){this._presentationModel.withEvents(this._getFilteredEventGroups())},m._getFilteredEventGroups=function(){var e,t=this._visibleWindow.visibleDateRange,i=[],n=t.pixelsToAccDuration(-f.X_AXIS_PADDING),s=t.pixelsToAccDuration(this.paddingOnAxis);return(0,r.empty)(this._groupedEventModels)||(e=[t.accStart()+n,t.accEnd()-s],i=this._groupedEventModels.filter((function(t){return(0,p.inRange)(e,t.getAccTime())}))),i},Object.seal(m);const v=Object.seal(f)},86119:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>C});var n=i(97204),s=i(85690),r=i(86605),o=i(92791),a=i(12990),l=i(32713),d=i(6182),u=i(50951),c=i(67329),h=i(9525);function p(e,t){this._dContainer=e,this._visibleWindow=t}p.create=function(e,t){return new p(e,t)};var _=p.prototype;_._start=null,_._visibleWindow=null,_._relativeContainer=null,_._cssClass=null,_.withCssClass=(0,h.setter)("_cssClass"),_.getRelativeContainer=function(){return(0,n.A)(this._relativeContainer.node())},_.initDom=function(){return this._relativeContainer=this._dContainer.append("div"),this._cssClass&&this._relativeContainer.classed(this._cssClass,!0),this},_.render=function(e,t){this._start=this._visibleWindow.getXScale().domain()[0],this._relativeContainer.attr("style",(0,l.cssTranslateAttrX)(0)),e&&e.call(t,this._relativeContainer)},_.translate=function(){var e=this._visibleWindow.getXScale();this._relativeContainer.attr("style",(0,l.cssTranslateAttrX)(e(this._start)-e.range()[0]))},_.destroy=function(){this._relativeContainer&&(this._relativeContainer.remove(),this._relativeContainer=null)},Object.seal(_);const g=Object.seal(p);var f=i(73453),m=i(10520),v=a.A.extend((function(e,t,i,n){this._captureZones={}}),s.default),A=v.prototype;function E(e,t){var i=t.getAccTime(),s=(0,n.A)(e),r=this._captureZoneManager.createTapZone(this._handleMarkerTapped.bind(this,t),m.default.CALENDAR_SELECTION,null,u.default.BLOCK_ALL).withCursorOnHover(d.default.POINTER).withDefaultPadding();r.setHoverHandler({in:this._hoverIn.bind(this,s),out:this._hoverOut.bind(this,s)}),this._captureZones[i]&&this._captureZones[i].destroy(),this._captureZones[i]=r,T.call(this,e,t)}function T(e,t){this._captureZones[t.getAccTime()].setDimensionsBasedOnElement(e,this._subView.dimensions)}function I(e,t){var i=t.getAccTime();this._captureZones[i].destroy(),delete this._captureZones[i]}A._calendarEventsContainer=null,A._captureZones=null,A._dSelectedElement=null,A.startRedrawingBasedOnChangesInVisibleWindow=function(){this._presentationModel.on(o.default.SHOWN_EVENTS_CHANGED,this.renderOnFrameEnd,this),this._presentationModel.on(o.default.SHOWN_DETAILS_CHANGED,this._onEventDetailsChanged,this),this._visibleWindow.on(f.default.MOVED,this._updateEventCalendarPositionsOnScreen,this)},A._onEventDetailsChanged=function(e){var t,i=this._calendarEventsContainer.getRelativeContainer();this._dSelectedElement&&this._toggleMarkerSelection(this._dSelectedElement,!1),e?(t=i.selectAll(".economicEvent").filter((function(t){return c.A.identifier(t)===c.A.identifier(e)})),this._toggleMarkerSelection(t,!0),this._dSelectedElement=t):this._dSelectedElement=null},A.stopRedrawingBasedOnChangesInVisibleWindow=function(){this._visibleWindow.un(null,this),this._presentationModel.un(null,this)},A.initDom=function(){return this._calendarEventsContainer=g.create(this.dContainer,this._visibleWindow).withCssClass("calendarEventsContainer").initDom(),v.superclass.initDom.call(this)},A.render=function(){this._calendarEventsContainer.render(this._renderEconomicEvents,this)},A.destroy=function(){this._calendarEventsContainer&&(this._calendarEventsContainer.destroy(),this._calendarEventsContainer=null),Object.keys(this._captureZones).forEach((function(e){this._captureZones[e].destroy()}),this),this._captureZones=null,v.superclass.destroy.apply(this,arguments)},A._renderEconomicEvents=function(e){var t=e.selectAll(".economicEvent").data(this._presentationModel.getEventsShown(),c.A.identifier);t.exit().remove().eachElement(I.bind(this)),t.enter().append("div").classed("economicEvent",!0).eachElement(E.bind(this)).merge(t).attr("style",function(e){return(0,l.cssTranslateAttrX)(this._visibleWindow.getXScale()(e.getAccTime())-this._subView.dimensions.x)}.bind(this))},A._updateEventCalendarPositionsOnScreen=function(e,t){e&(r.default.ZOOMED|r.default.RESIZED)?(this.renderOnFrameEnd(),this._updateCaptureZones()):e&r.default.MOVED?(this._calendarEventsContainer.translate(),this._updateCaptureZones()):t&&this._updateCaptureZones()},A._updateCaptureZones=function(){this._calendarEventsContainer.getRelativeContainer().selectAll(".economicEvent").eachElement(T.bind(this))},A._handleMarkerTapped=function(e){this._presentationModel.getSelectedEventsGroup()===e?this._presentationModel.hideDetails():this._presentationModel.showDetailsForEvents(e)},A._toggleMarkerSelection=function(e,t){e.classed("selected",t)},A._hoverIn=function(e){e.classed("hover",!0)},A._hoverOut=function(e){e.classed("hover",!1)},Object.seal(A);const C=Object.seal(v)},91016:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>v});var n=i(43130),s=i(97204),r=i(80245),o=i(86605),a=i(39038),l=i(12990),d=i(55974),u=i(6182),c=i(96285);var h=i(32235),p=i(50951),_=i(96001),g=i(10520),f=l.A.extend((function(){}),r.A),m=f.prototype;m._currentEventIndex=null,m._zonePaginationNext=null,m._zonePaginationPrevious=null,m._zoneDetails=null,m._closeIcon=null,m.initDom=function(){var e=f.superclass.initDom.call(this,'<div class="eventDetailsContainer desktop workspace-panel ig-context-menu_container">\n   <div class="event company ig-feed-item-content_detail">\n      <div class="top text-muted">\n         <small>\n            <time class="date"></time>\n         </small>\n      </div>\n      <div class="h4 main"></div>\n      <div class="paging">\n         <span class="previous"></span>\n         <span class="count"></span>\n         <span class="next"></span>\n      </div>\n   </div>\n   <div class="event economic ig-feed-item-content_detail">\n      <div class="top text-muted">\n         <small>\n            <time class="date"></time>\n         </small>\n      </div>\n      <table class="values main">\n         <tbody>\n         <tr>\n            <th class="h4 main header"></th>\n            <td class="country"><div class="flag"></div></td>\n         </tr>\n         <tr class="actual">\n            <th class="text-muted"><span></span></th>\n            <td></td>\n         </tr>\n         <tr class="expected">\n            <th class="text-muted"><span></span></th>\n            <td></td>\n         </tr>\n         <tr class="previous">\n            <th class="text-muted"><span></span></th>\n            <td></td>\n         </tr>\n         </tbody>\n      </table>\n      <div class="paging">\n         <span class="previous"></span>\n         <span class="count"></span>\n         <span class="next"></span>\n      </div>\n   </div>\n</div>');return this._zonePaginationPrevious=this._captureZoneManager.createTapZone(this._renderPreviousEvent.bind(this),g.default.CALENDAR_DETAILS_PAGINATION,4,p.default.BLOCK_ALL).hide(),this._zonePaginationNext=this._captureZoneManager.createTapZone(this._renderNextEvent.bind(this),g.default.CALENDAR_DETAILS_PAGINATION,4,p.default.BLOCK_ALL).hide(),this._zoneDetails=this._captureZoneManager.createTapZone(n.noop,g.default.CALENDAR_DETAILS_DETAILS,0,p.default.BLOCK_ALL).withAssociatedElement(this._dDetailsContainer).hide(),this._initCloseIcon(this._dDetailsContainer),e},m.destroy=function(){this._clearEvent(),this._zoneDetails&&(this._zoneDetails.destroy(),delete this._zoneDetails),this._zonePaginationPrevious&&(this._zonePaginationPrevious.destroy(),delete this._zonePaginationPrevious),this._zonePaginationNext&&(this._zonePaginationNext.destroy(),delete this._zonePaginationNext),this._closeIcon&&(this._closeIcon.destroy(),delete this._closeIcon),f.superclass.destroy.call(this)},m._renderEvent=function(e){var t,i,n=this._currentEventGroup.events[e],r=this._currentEventGroup.events.length,o=(0,s.A)((n.type===a.default.COMPANY_CALENDAR?this._eventTemplateCompany:this._eventTemplateEconomic).cloneNode(!0)),l=null!==this._currentEventIndex&&e<this._currentEventIndex,d=null!==this._currentEventIndex&&e>this._currentEventIndex;this._clearEvent(),this._currentEventIndex=e,this._closeIcon.show(),r>1?(o.select(".paging .count").text((0,_.merge)(h.A.get("pagination"),[e+1,r])),t=o.select(".paging .previous"),i=o.select(".paging .next"),l&&this._hoverIn(t),d&&this._hoverIn(i),this._zonePaginationPrevious.setHoverHandler({in:this._hoverIn.bind(this,t),out:this._hoverOut.bind(this,t)}),this._zonePaginationNext.setHoverHandler({in:this._hoverIn.bind(this,i),out:this._hoverOut.bind(this,i)}),this._zonePaginationPrevious.withCursorOnHover(u.default.POINTER).show().withAssociatedElement(t).setDimensionsBasedOnAssociatedElement(this._subView.dimensions),this._zonePaginationNext.withCursorOnHover(u.default.POINTER).show().withAssociatedElement(i).setDimensionsBasedOnAssociatedElement(this._subView.dimensions)):o.select(".paging").remove(),o.select("time").text(c.DateTime.fromJSDate(n.timestamp,{zone:this._userTimeZone}).toFormat(h.A.get("date-format-details"))).attr("datetime",c.DateTime.fromJSDate(n.timestamp,{zone:"UTC"}).toISO()),o.select(".h4").appendElement(document.createTextNode(n.headline)),n.type===a.default.ECONOMIC_CALENDAR&&(o.select(".country .flag").classed(n.country,!0),["actual","expected","previous"].forEach((function(e){n[e+"Value"]?(o.select(".values ."+e+" th span").text(h.A.get(e)+":"),o.select(".values ."+e+" td").text(n[e+"Value"])):o.select(".values ."+e).remove()}),this)),this._dDetailsContainer.appendElement(o.node()),this._updateContainerCaptureZone(),this._closeIcon.updateCaptureZone()},m._initCloseIcon=function(e){this._closeIcon=new d.default(e,this._captureZoneManager,g.default.DIALOG_CONTROLS,this._presentationModel.hideDetails.bind(this._presentationModel)),this._closeIcon.enforceHover(e)},m._renderPreviousEvent=function(){this._currentEventIndex>0&&this._renderEvent(this._currentEventIndex-1)},m._renderNextEvent=function(){this._currentEventIndex<this._currentEventGroup.events.length-1&&this._renderEvent(this._currentEventIndex+1)},m._hoverIn=function(e){e&&e.classed("hover",!0)},m._hoverOut=function(e){e&&e.classed("hover",!1)},m._clearEvent=function(){delete this._currentEventIndex,this.dContainer&&this._hoverOut(),this._zonePaginationPrevious&&(this._zonePaginationPrevious.withAssociatedElement(null).hide(),this._zonePaginationPrevious.removeHoverHandler()),this._zonePaginationNext&&(this._zonePaginationNext.withAssociatedElement(null).hide(),this._zonePaginationNext.removeHoverHandler()),this._dDetailsContainer&&this._dDetailsContainer.select(".event").remove(),this._closeIcon&&this._closeIcon.hide()},m._handleShownDetailsChanged=function(e){e?(this._renderEvent(0),this._zoneDetails.show()):(this._clearEvent(),this._zoneDetails.hide()),f.superclass._handleShownDetailsChanged.call(this,e)},m._handleVisibleWindowMoved=function(e,t){f.superclass._handleVisibleWindowMoved.call(this,e,t),this._currentEventGroup&&(e||t&o.default.RESIZED)&&(this._closeIcon.updateCaptureZone(this._subView.dimensions),this._zoneDetails.setDimensionsBasedOnAssociatedElement(this._subView.dimensions),this._currentEventGroup.events.length>1&&(this._zonePaginationPrevious.setDimensionsBasedOnAssociatedElement(this._subView.dimensions),this._zonePaginationNext.setDimensionsBasedOnAssociatedElement(this._subView.dimensions)))},Object.seal(m);const v=Object.seal(f)},36476:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>D});var n=i(80245),s=i(86605),r=i(39038);function o(e){return e*(2-e)}var a=i(41943),l=i(2928),d=i(12990),u=i(32713),c=i(14978),h=i(21788),p=i(10094),_=i(40708),g=i(289),f=i(97292),m=d.A.extend((function(e,t,i,n){this._animationNamespace="carousel-"+(0,f.getUid)(),this._animationPoller=n,this._dCarouselView=e,this._dCarouselItemContainer=t,this._zoneSwipe=i}),g.default);m.create=function(e,t,i,n){return new m(e,t,i,n)},m.ANIM_DURATION=.6*l.default.ANIM_DURATION,m.PANE_CHANGED="paneChanged";var v=m.prototype;v._animationNamespace=null,v._animationPoller=null,v._startingOffset=null,v._dCarouselItemContainer=null,v._dCarouselView=null,v._panRecogniser=null,v._zoneSwipe=null,v.initDom=function(){return this._panRecogniser=c.default.create({plane:c.PLANES.HORIZONTAL,onGesture:this._handleSwipeMove,context:this,onEnd:this._handleSwipeEnd,endContext:this}),this._zoneSwipe.addGestureRecogniser(this._panRecogniser),this._setCarouselOffset(0),this},v.destroy=function(){m.superclass.destroy.call(this),this._animationPoller.killTasks(this._animationNamespace),this._panRecogniser&&(this._zoneSwipe.removeGestureRecogniser(this._panRecogniser),this._panRecogniser.destroy(),delete this._panRecogniser)},v.panTo=function(e){var t,i,n=this._dCarouselItemContainer.node().children,s=this._getCarouselOffset();e=(0,_.clampInRange)(e,[0,n.length-1]),(i=this._getOffsetFor(n[e]))!==s&&(t=h.easedInterpolation.bind(null,o,s,i),this._animationPoller.killTasks(this._animationNamespace),this._animationPoller.newFixedTimeTask(this._animationNamespace,this._step.bind(this,t,e),m.ANIM_DURATION))},v.refresh=function(){this._dCarouselItemContainer.node().children.length&&this.panTo(this._nearestCarouselIndex())},v._getOffsetFor=function(e){return e.node&&(e=e.node()),this._dCarouselItemContainer.node().getBoundingClientRect().left-e.getBoundingClientRect().left},v._getCarouselOffset=function(){return this._getOffsetFor(this._dCarouselView)},v._setCarouselOffset=function(e){this._dCarouselItemContainer.attr("style",(0,u.cssTranslateAttrX)(e,!0))},v._nearestCarouselIndex=function(){var e,t,i,n=this._getCarouselOffset(),s=(0,a.shallowCopy)(this._dCarouselItemContainer.node().children),r=1/0;for(i=0;i<s.length;i++)(t=Math.abs(n-this._getOffsetFor(s[i])))<r&&(r=t,e=i);return e},v._step=function(e,t,i){var n=e(i);return this._setCarouselOffset(n),i>=1&&(this.fire(m.PANE_CHANGED,t),!0)},v._handleSwipeMove=function(e){(0,p.isNumber)(this._startingOffset)||(this._startingOffset=this._getCarouselOffset()),this._setCarouselOffset(this._startingOffset+e.deltaX)},v._handleSwipeEnd=function(){delete this._startingOffset;var e=this._nearestCarouselIndex();(0,p.isNumber)(e)&&this.panTo(e)},Object.seal(v);const A=Object.seal(m);var E=i(96285),T=i(32235);var I=i(50951),C=i(13365),O=i(98760),M=i(10520);function y(e,t){return(t||document).querySelector(e)}var b=d.A.extend((function(){}),n.A),S=b.prototype;S._carousel=null,S._dEventListing=null,S._dPaging=null,S._templatePagingDot=null,S._zoneDetails=null,S._zoneDismiss=null,S.initDom=function(){var e=b.superclass.initDom.call(this,'<div class="eventDetailsContainer mobile">\n    <div class="eventDetailsListing">\n        <section class="event company">\n            <time></time>\n            <h1></h1>\n        </section>\n        <section class="event economic">\n            <time></time>\n            <h1><div class="country"><span class="flag"></span></div></h1>\n            <table class="values">\n                <tbody>\n                    <tr class="actual">\n                        <th></th>\n                        <td></td>\n                    </tr>\n                    <tr class="expected">\n                        <th></th>\n                        <td></td>\n                    </tr>\n                    <tr class="previous">\n                        <th></th>\n                        <td></td>\n                    </tr>\n                </tbody>\n            </table>\n        </section>\n    </div>\n    <nav class="paging">\n        <a class="dot"></a>\n    </nav>\n</div>'),t=this._presentationModel.hideDetails.bind(this._presentationModel);return this._zoneDismiss=this._captureZoneManager.createZone(C.default,I.default.PROPAGATE_UNHANDLED,M.default.CALENDAR_DETAILS_DISMISS).hide(),this._zoneDismiss.addGesture(O.default,{fastTap:!0}).withHandler(t),this._zoneDetails=this._captureZoneManager.createTapZone(t,M.default.CALENDAR_DETAILS_DETAILS,0,I.default.BLOCK_ALL).withAssociatedElement(this._dDetailsContainer).hide(),this._dEventListing=this._dDetailsContainer.select(".eventDetailsListing"),this._dPaging=this._dDetailsContainer.select(".paging"),this._templatePagingDot=this._dDetailsContainer.select(".dot").remove().node(),this._carousel=A.create(this._dDetailsContainer,this._dEventListing,this._zoneDetails,this._animationPoller).initDom(),this._carousel.on(A.PANE_CHANGED,this._handlePaneChanged,this),e},S.destroy=function(){this._zoneDetails&&(this._zoneDetails.destroy(),delete this._zoneDetails),this._zoneDismiss&&(this._zoneDismiss.destroy(),delete this._zoneDismiss),this._carousel&&(this._carousel.destroy(),delete this._carousel),delete this._dEventListing,delete this._dPaging,delete this._templatePagingDot,b.superclass.destroy.call(this)},S._createEventDetails=function(e){var t,i,n,s;return this._dPaging.appendElement(this._templatePagingDot.cloneNode(!0)),(i=y("time",t=(e.type===r.default.COMPANY_CALENDAR?this._eventTemplateCompany:this._eventTemplateEconomic).cloneNode(!0))).appendChild(document.createTextNode(E.DateTime.fromJSDate(e.timestamp,{zone:this._userTimeZone}).toFormat(T.A.get("date-format-details")))),i.setAttribute("datetime",E.DateTime.fromJSDate(e.timestamp,{zone:"UTC"}).toISO()),y("h1",t).appendChild(document.createTextNode(e.headline)),(n=y(".values tbody",t))&&(e.actualValue?(y(".actual th",n).innerText=T.A.get("actual")+":",y(".actual td",n).innerText=e.actualValue):n.removeChild(y(".actual",n)),e.expectedValue?(y(".expected th",n).innerText=T.A.get("expected")+":",y(".expected td",n).innerText=e.expectedValue):n.removeChild(y(".expected",n)),e.previousValue?(y(".previous th",n).innerText=T.A.get("previous")+":",y(".previous td",n).innerText=e.previousValue):n.removeChild(y(".previous",n)),(s=y(".country .flag",t))&&(s.className+=" "+e.country)),t},S._handlePaneChanged=function(e){this._dPaging.selectAll(".dot").classed("selected",(function(t,i){return i===e}))},S._handleShownDetailsChanged=function(e){this._dEventListing.attr("style",null).selectAll(".event").remove(),this._dPaging.selectAll(".dot").remove(),e?(this._zoneDismiss.show(),this._zoneDetails.show(),this._dEventListing.selectAll(".event").data(e.events).enter().appendElement(this._createEventDetails.bind(this)),this._handlePaneChanged(0)):(this.dContainer.classed("hidden",!0),this._zoneDismiss.hide(),this._zoneDetails.hide()),b.superclass._handleShownDetailsChanged.call(this,e)},S._handleVisibleWindowMoved=function(e,t){b.superclass._handleVisibleWindowMoved.call(this,e,t),(e||t&s.default.RESIZED)&&this._zoneDetails.setDimensionsBasedOnAssociatedElement()},Object.seal(S);const D=Object.seal(b)},44545:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>C});var n=i(4848),s=i(21815),r=i(41943),o=i(86605),a=i(38712),l=i(12990),d=i(60102),u=i(9525),c=i(84301),h=i(75346),p=i(36757),_=a.default.getPointTypeAccessor("prices-raw"),g=l.A.extend((function(e){this._calculateVisibleRangeStats=u.schedule.throttle(this._calculateVisibleRangeStats,200)}),d.default),f=g.prototype;f.startListening=function(e){var t=this._moduleLoader.getModule("highLowStats");g.superclass.startListening.call(this,e),this._eventBus.subscribe("chart/instrument/destroy",this._clearStats,this),t.on(c.default.VISIBILITY_CHANGED,this._handleVisibilityChange,this),t.on(c.default.DAILY_STATS_UPDATED,(0,u.delegate)("_presentationModel","setDailyStats"),this),t.on(c.default.RESOLUTION_INFO_LOADED,this._presentationModel.setInstrumentResolutionInfo.bind(this._presentationModel),this),t.getInstrumentResolutionInfo()&&this._presentationModel.setInstrumentResolutionInfo(t.getInstrumentResolutionInfo()),this._visibleWindow.visibleDateRange.on(p.default.VISIBLE_BLOCKS_POINTS_ADDED+"-prices",this._calculateVisibleRangeStats,this),this._handleVisibilityChange(this._settingsManager.getHighLowStatsVisibilitySettings()),this._calculateVisibleRangeStats()},f.stopListening=function(){this._clearStats(),this._visibleWindow&&this._visibleWindow.visibleDateRange.un(null,this),this._moduleLoader.getModule("highLowStats").un(null,this),this._calculateVisibleRangeStats.cancel(),g.superclass.stopListening.call(this)},f._handleVisibleWindowMoved=function(e,t){g.superclass._handleVisibleWindowMoved.call(this,e,t),e&(o.default.MOVED|o.default.ZOOMED|o.default.INITIALISED)&&this._calculateVisibleRangeStats()},f._handleVisibilityChange=function(e){e||this._calculateVisibleRangeStats.cancel(),this._presentationModel.setVisibility(e)},f._calculateVisibleRangeStats=function(){var e,t,i,n=this._visibleWindow.visibleDateRange,s=(0,r.flatten)(n.getVisibleBlocks().map(_)).filter((function(e){return e.accTime>=n.accStart()&&e.accTime<=n.accEnd()})),o=[],a=[];s.length&&(s.forEach((function(e){e.highPrice&&o.push(e.highPrice),e.lowPrice&&a.push(e.lowPrice)})),t=s[0].openPrice||s[0].value,i=(s[s.length-1].closePrice||s[s.length-1].value)-t,e=(new h.default).withHigh(Math.max.apply(Math,o)).withLow(Math.min.apply(Math,a)).withNet(i).withPercent(i/t*100),this._presentationModel.setVisibleRangeStats(e))},f._clearStats=function(){this._calculateVisibleRangeStats.cancel(),this._presentationModel.setDailyStats(null),this._presentationModel.setVisibleRangeStats(null)},Object.seal(f);const m=Object.seal(g);var v=i(90577),A=l.A.extend((function(){this._statsTranslations=Object.create(null)}),v.default),E=A.prototype;E._dailyStats=null,E._instrumentResolutionInfo=null,E._visibleRangeStats=null,E._visibility=!1,E._statsTranslations=null,E.setInstrumentResolutionInfo=function(e){return this._instrumentResolutionInfo=e,this.fire(c.default.RESOLUTION_INFO_LOADED,e),this},E.getInstrumentResolutionInfo=(0,u.getter)("_instrumentResolutionInfo"),E.areDailyStatsVisible=function(){return!(!this._visibility||!this.getDailyStats())},E.areVisibleRangeStatsVisible=function(){return!(!this._visibility||!this.getVisibleRangeStats())},E.getDailyStats=function(){var e=this._dailyStats;return e&&e.hasValidData()?e:null},E.getVisibleRangeStats=function(){var e=this._visibleRangeStats;return e&&e.hasValidData()?e:null},E.setVisibility=function(e){return e!==this._visibility&&(this._visibility=!!e,this.getDailyStats()&&this.fire(c.default[e?"DAILY_STATS_UPDATED":"DAILY_STATS_HIDDEN"]),this.getVisibleRangeStats()&&this.fire(c.default[e?"VISIBLE_RANGE_STATS_UPDATED":"VISIBLE_RANGE_STATS_HIDDEN"])),this},E.setDailyStats=function(e){var t,i=this.getDailyStats();return this._dailyStats=e,t=this.getDailyStats(),this._visibility&&(i||t)&&this.fire(c.default[t?"DAILY_STATS_UPDATED":"DAILY_STATS_HIDDEN"]),this},E.setVisibleRangeStats=function(e){var t,i=this.getVisibleRangeStats();return e!==this._visibleRangeStats&&(this._visibleRangeStats=e,t=this.getVisibleRangeStats(),this._visibility&&(i||t)&&this.fire(c.default[t?"VISIBLE_RANGE_STATS_UPDATED":"VISIBLE_RANGE_STATS_HIDDEN"])),this},E.getStatsTranslations=function(){var e,t,i,n,s=this._statsTranslations,r=Object.keys(s),o=[];if(r.length)for(i=s[r[0]].length,e=0;e<i;e++){for(n=0,t=0;t<r.length;t++)n=Math.max(n,s[r[t]][e]||0);o[e]=n}else o=[];return o},E.addStatsTranslations=function(e,t){var i=this.getStatsTranslations().join(",");this._statsTranslations[e]=t,this.getStatsTranslations().join(",")!==i&&this._notifyOfLayoutChange()},E.destroy=function(){delete this._dailyStats,delete this._visibleRangeStats,delete this._visibility,A.superclass.destroy.call(this)},Object.seal(E);const T=Object.seal(A);var I=i(12796);const C=function(e){var t={prices:{presentationControllers:{highLowPresenter:{type:m,presentationModel:{type:T,properties:n.default}}},renderers:{dayStats:{type:s.A,group:"studyOverlay",position:"studyOverlay",presentationController:"highLowPresenter",properties:{relativeWeighting:500,textSpacing:10,marginBottom:6,marginLeft:5}},visibleStats:{type:I.A,group:"studyOverlay",position:"studyOverlay",presentationController:"highLowPresenter",properties:{relativeWeighting:500,textSpacing:10,marginBottom:6,marginLeft:5}}}}};return e.dailyStats||delete t.prices.renderers.dayStats,e.visibleStats||delete t.prices.renderers.visibleStats,t}},13858:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>n});const n=new(i(95151).default)({de:{"date-format-finer":"EEE d MMM yyyy H:mm:ss","date-format-fine":"EEE d MMM yyyy H:mm","date-format-coarse":"EEE d MMM yyyy","date-format-coarser":"MMM yyyy",today:"Heute",high:"H ",low:"T ",percentage:"%"},en:{"date-format-finer":"EEE d MMM yyyy H:mm:ss","date-format-fine":"EEE d MMM yyyy H:mm","date-format-coarse":"EEE d MMM yyyy","date-format-coarser":"MMM yyyy",today:"Today",high:"H ",low:"L ",percentage:"%"},en_US:{"date-format-finer":"EEE MMM d yyyy H:mm:ss","date-format-fine":"EEE MMM d yyyy H:mm","date-format-coarse":"EEE MMM d yyyy","date-format-coarser":"MMM yyyy"},es:{"date-format-finer":"EEE d MMM yyyy H:mm:ss","date-format-fine":"EEE d MMM yyyy H:mm","date-format-coarse":"EEE d MMM yyyy","date-format-coarser":"MMM yyyy",today:"Hoy",high:"Máx ",low:"Mín ",percentage:"%"},fr:{"date-format-finer":"EEE d MMM yyyy H:mm:ss","date-format-fine":"EEE d MMM yyyy H:mm","date-format-coarse":"EEE d MMM yyyy","date-format-coarser":"MMM yyyy",today:"Aujourd'hui ",high:"H ",low:"B ",percentage:"%"},it:{"date-format-finer":"EEE d MMM yyyy H:mm:ss","date-format-fine":"EEE d MMM yyyy H:mm","date-format-coarse":"EEE d MMM yyyy","date-format-coarser":"MMM yyyy",today:"Oggi",high:"H ",low:"T ",percentage:"%"},ja:{"date-format-finer":"yyyy 年 MMM 月 d 日 (EEE) H:mm:ss","date-format-fine":"yyyy 年 MMM 月 d 日 (EEE) H:mm","date-format-coarse":"yyyy 年 MMM 月 d 日 (EEE)","date-format-coarser":"yyyy 年 MMM 月",today:"本日",high:"高値 ",low:"安値 ",percentage:"%"},nl:{"date-format-finer":"EEE d MMM yyyy H:mm:ss","date-format-fine":"EEE d MMM yyyy H:mm","date-format-coarse":"EEE d MMM yyyy","date-format-coarser":"MMM yyyy",today:"Vandaag",high:"H ",low:"T ",percentage:"%"},nb:{"date-format-finer":"EEE d MMM yyyy H:mm:ss","date-format-fine":"EEE d MMM yyyy H:mm","date-format-coarse":"EEE d MMM yyyy","date-format-coarser":"MMM yyyy",today:"I dag",high:"H ",low:"T ",percentage:"%"},pt:{"date-format-finer":"EEE d MMM yyyy H:mm:ss","date-format-fine":"EEE d MMM yyyy H:mm","date-format-coarse":"EEE d MMM yyyy","date-format-coarser":"MMM yyyy",today:"Hoje",high:"A ",low:"B ",percentage:"%"},sv:{"date-format-finer":"EEE yyyy MMM d H:mm:ss","date-format-fine":"EEE yyyy MMM d H:mm","date-format-coarse":"EEE yyyy MMM d","date-format-coarser":"yyyy MMM",today:"Idag",high:"H ",low:"T ",percentage:"%"},zh:{"date-format-finer":"EEE yyyy MMM d H:mm:ss","date-format-fine":"EEE yyyy MMM d H:mm","date-format-coarse":"EEE yyyy MMM d","date-format-coarser":"yyyy MMM",today:"今日",high:"高 ",low:"低 ",percentage:"%"},zh_TW:{"date-format-finer":"EEE d MMM yyyy H:mm:ss","date-format-fine":"EEE d MMM yyyy H:mm","date-format-coarse":"EEE d MMM yyyy","date-format-coarser":"MMM yyyy",today:"今日",high:"最高價 ",low:"最低價 ",percentage:"百分比"}})},11743:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>o});var n=i(69218),s=i(72444),r=i(14776);const o={absoluteoverlay:{presentationControllers:{hintTooltip:{type:n.Ay,presentationModel:{type:s.default}}},renderers:{hintTooltip:{type:r.A,group:"body",position:"body",presentationController:"hintTooltip",properties:{relativeWeighting:1}}}}}},77008:(e,t,i)=>{"use strict";i.d(t,{A:()=>B});var n=i(56463),s=i(12990),r=i(9525),o=i(38328),a=i(43130),l=i(70187),d=i(64586),u=i(54107),c=i(289),h=i(10520);var p=s.A.extend((function(e,t,i,n,s){this._constraints=n,this._currentValue=s,this._i18n=e,this._settingCategory=t,this._setting=i}),c.default);p.create=function(e,t,i,n,s){return new p(e,t,i,n,s)};var _=p.prototype;_._captureZoneManager=null,_._checkbox=null,_._constraints=null,_._currentValue=null,_._dLabel=null,_._dSettingsContainer=null,_._i18n=null,_._setting=null,_._settingCategory=null,_.withCaptureZoneManager=(0,r.setter)("_captureZoneManager"),_.initDom=function(e){return this._dSettingsContainer=e.append("div").classed("booleanSetting",!0),this._checkbox=d.default.create().initDom(this._dSettingsContainer,"checkbox").setSelected(this._currentValue).startListening(this._captureZoneManager,this._handleSettingChange.bind(this),h.default.DIALOG_CONTROLS),this._dLabel=this._dSettingsContainer.append("span").text(this._i18n.get(function(){var e=(0,a.filter)(arguments,a.identity);return e.length?e.join("-"):null}(this._settingCategory,this._setting))).classed("settingName",!0),this},_.updateCaptureZones=function(){return this._checkbox.updateCaptureZone(this._dSettingsContainer),this},_.disable=(0,r.delegate)("_checkbox","disable"),_.enable=(0,r.delegate)("_checkbox","enable"),_.hide=function(){return this.disable(),this._checkbox.setHidden(!0),this._dLabel.classed("hidden",!0),this},_.show=function(){return this.enable(),this._checkbox.setHidden(!1),this._dLabel.classed("hidden",!1),this},_._handleSettingChange=function(){this._currentValue=!this._checkbox.isSelected(),this.commitSetting()},_.reset=function(){this._currentValue=this._constraints.defaultValue,this._checkbox.setSelected(this._currentValue),this.commitSetting()},_.commitSetting=function(){this.fire(u.default.VALUE_CHANGED,this._setting,this._currentValue)},_.destroy=function(){this._checkbox&&(this._checkbox.destroy(),delete this._checkbox),this._dSettingsContainer&&(this._dSettingsContainer.remove(),delete this._dSettingsContainer,delete this._dLabel),p.superclass.destroy.call(this)},Object.seal(_);const g=Object.seal(p);var f=i(26242),m=i(59465),v=i(80535),A=i(55466),E=i(37848),T=s.A.extend(Object.assign((function(e,t,i,n,s,r){this._indicator=r,this._settings=r.getSettings(),this._settingsConstraints=r.getSettingsConstraints()}),{__constructorTransform:function(e,t,i,n,s,r){return[e,t,i,s]}}),l.default);T.create=function(e,t,i,n,s,r){return new T(e,t,i,n,s,r)},T.VIEW_TYPE_MAP=Object.freeze({BOOLEAN:g,NUMERIC:v.default,TOGGLE:A.A,RADIO:E.A});var I=T.prototype;I._controls=null,I._indicator=null,I._settings=null,I._settingsConstraints=null,I._initialValues=null,I.initDom=function(e){return T.superclass.initDom.call(this,e),this._createSettingsControls(e),this},I._createSettingsControls=function(e){var t,i,n=f.default.getModifiableSettings(this._settings),s=this._indicator.getMappedSettings();for(t in this._controls=Object.create(null),this._initialValues=Object.create(null),n)(0,a.includes)(s,t)||(i=e.append("div").attr("class","setting-row"),this._createSettingRow(i,t,this._settingsConstraints[t]))},I._createSettingRow=function(e,t,i){var n=this._settings[t],s=T.VIEW_TYPE_MAP[i.viewType].create(m.default,this._indicator.name,t,i,n).withCaptureZoneManager(this._captureZoneManager).initDom(e);s.on(u.default.VALUE_CHANGED,this._handleSettingUpdated,this),this._initialValues[t]=n,this._controls[t]=s},I.enable=function(){return Object.keys(this._controls).forEach((function(e){this._controls[e].enable()}),this),T.superclass.enable.call(this)},I.disable=function(){return Object.keys(this._controls).forEach((function(e){this._controls[e].disable()}),this),T.superclass.disable.call(this)},I.updateCaptureZones=function(){return Object.keys(this._controls).forEach((function(e){this._controls[e].updateCaptureZones()}),this),T.superclass.updateCaptureZones.call(this)},I.destroy=function(){this._controls&&(Object.keys(this._controls).forEach((function(e){this._controls[e].un(null,this),this._controls[e].destroy()}),this),this._controls=null),T.superclass.destroy.call(this)},I.resetToDefaults=function(){Object.keys(this._controls).forEach((function(e){this._controls[e].reset()}),this)},I.revertChanges=function(){Object.keys(this._initialValues).forEach((function(e){this._settings[e]=this._initialValues[e]}),this),this._eventBus.publish("chart/indicator/update",[this._indicator.name,this._settings,!0])},I.save=function(){Object.keys(this._controls).forEach((function(e){this._controls[e].commitSetting()}),this)},I._handleSettingUpdated=function(e,t){var i=this._indicator.getSettings();i[e]=t,this._eventBus.publish("chart/indicator/update",[this._indicator.name,i,!0])},Object.seal(I);const C=Object.seal(T);var O=i(51058);const M=new(i(95151).default)({de:{CONFIG:"Parameter",STYLE:"Stil","AROON-up-line":"Hoch","AROON-up-cloud":"Füllfarbe","AROON-down-line":"Runter","AROON-down-cloud":"Füllfarbe","ATR-line":"Linie","ATR-fill":"Füllfarbe","AWESOME-up":"Höher","AWESOME-down":"Tiefer","BOL-positiveBand":"Obere","BOL-movingAverageBand":"MA","BOL-negativeBand":"Untere","BOL-fill":"Füllfarbe","BBW-line":"Linie","BBW-fill":"Füllfarbe","BOLPCTB-line":"Linie","BOLPCTB-up-lineColour":"%B > 1","BOLPCTB-up-fill":"Füllfarbe","BOLPCTB-down-lineColour":"%B < 0","BOLPCTB-down-fill":"Füllfarbe","CHAIKIN-line":"Linie","CHAIKIN-fill":"Füllfarbe","CCI-line":"Linie","CCI-up-lineColour":"CCI > 100","CCI-up-fill":"Füllfarbe","CCI-down-lineColour":"CCI < -100","CCI-down-fill":"Füllfarbe","DERIVATIVE-line":"Linie","DERIVATIVE-fill":"Füllfarbe","DONCHIAN-up":"Obere","DONCHIAN-middle":"Mittere","DONCHIAN-down":"Untere","DONCHIAN-fill":"Füllfarbe","DPO-line":"Linie","DPO-up-lineColour":"Hoch","DPO-up-fill":"Füllfarbe","DPO-down-lineColour":"Runter","DPO-down-fill":"Füllfarbe","DMI-diPlus":"DI+","DMI-diMinus":"DI-","DMI-adx":"ADX","DMI-histogram-up":"Histogramm +","DMI-histogram-down":"Histogramm -","EMA-ema1":"EMA {period1}","EMA-ema2":"EMA {period2}","EMA-ema3":"EMA {period3}","EMA-ema4":"EMA {period4}","EMA-ema5":"EMA {period5}","EMA-ema6":"EMA {period6}","EMA-ema7":"EMA {period7}","EMA-ema8":"EMA {period8}","EOM-line":"Linie","EOM-fill":"Füllfarbe","ICHIMOKU-chikou":"Chikou","ICHIMOKU-kijun":"Kijun","ICHIMOKU-tenkan":"Tenkan","ICHIMOKU-spanA":"Span A","ICHIMOKU-spanB":"Span B","ICHIMOKU-cloudUp":"Wolke","ICHIMOKU-cloudDown":"Wolke","KDJ-stochasticK":"%K","KDJ-stochasticD":"%D","KDJ-stochasticJ":"%J","KELTNER-up":"Obere","KELTNER-middle":"MA","KELTNER-down":"Untere","KELTNER-fill":"Füllfarbe","MACD-macd":"MACD","MACD-signal":"Signallinie","MACD-histogram-up":"Histogramm +","MACD-histogram-down":"Histogramm -","MOMENTUM-line":"Linie","MOMENTUM-up-lineColour":"Hoch","MOMENTUM-up-fill":"Füllfarbe","MOMENTUM-down-lineColour":"Runter","MOMENTUM-down-fill":"Füllfarbe","MFI-line":"Linie","MFI-up-lineColour":"MFI > 80","MFI-up-fill":"Füllfarbe","MFI-down-lineColour":"MFI < 20","MFI-down-fill":"Füllfarbe","MVAVG-movingAverage1":"MA {period1}","MVAVG-movingAverage2":"MA {period2}","MVAVG-movingAverage3":"MA {period3}","MVAVG-movingAverage4":"MA {period4}","MVAVG-movingAverage5":"MA {period5}","MVAVG-movingAverage6":"MA {period6}","MVAVG-movingAverage7":"MA {period7}","MVAVG-movingAverage8":"MA {period8}","SAR-up":"Hoch","SAR-down":"Runter","PIVOT-r3":"R3","PIVOT-r2":"R2","PIVOT-r1":"R1","PIVOT-pivot":"Pivot","PIVOT-s1":"S1","PIVOT-s2":"S2","PIVOT-s3":"S3","RCI-rankCorrelationIndex1":null,"RCI-rankCorrelationIndex2":null,"RCI-rankCorrelationIndex3":null,"RCI-rankCorrelationIndex4":null,"RCI-rankCorrelationIndex5":null,"RCI-rankCorrelationIndex6":null,"RCI-rankCorrelationIndex7":null,"RCI-rankCorrelationIndex8":null,"ROC-line":"Linie","ROC-up-lineColour":"Hoch","ROC-up-fill":"Füllfarbe","ROC-down-lineColour":"Runter","ROC-down-fill":"Füllfarbe","RSI-line":"Linie","RSI-up-lineColour":"RSI >","RSI-up-fill":"Füllfarbe","RSI-down-lineColour":"RSI <","RSI-down-fill":"Füllfarbe","STDEV-line":"Linie","STDEV-fill":"Füllfarbe","STOCH-stochasticK":"%K","STOCH-stochasticD":"%D","SUPERTREND-up":"Hoch","SUPERTREND-down":"Runter","VOLUME-up":"Steigend","VOLUME-fill":"Unverändert","VOLUME-down":"Fallend","WMA-wma1":"WMA {period1}","WMA-wma2":"WMA {period2}","WMA-wma3":"WMA {period3}","WMA-wma4":"WMA {period4}","WMA-wma5":"WMA {period5}","WMA-wma6":"WMA {period6}","WMA-wma7":"WMA {period7}","WMA-wma8":"WMA {period8}","VWAP-line":"Linie","VWMA-vwma1":"VWMA {period1}","VWMA-vwma2":"VWMA {period2}","VWMA-vwma3":"VWMA {period3}","VWMA-vwma4":"VWMA {period4}","VWMA-vwma5":"VWMA {period5}","VWMA-vwma6":"VWMA {period6}","VWMA-vwma7":"VWMA {period7}","VWMA-vwma8":"VWMA {period8}","WILLR-line":"Linie","WILLR-up-lineColour":"0 bis -20","WILLR-up-fill":"Füllfarbe","WILLR-down-lineColour":"-80 bis -100","WILLR-down-fill":"Füllfarbe"},en:{CONFIG:"Parameters",STYLE:"Style","AROON-up-line":"Up","AROON-up-cloud":"Fill","AROON-down-line":"Down","AROON-down-cloud":"Fill","ATR-line":"Line","ATR-fill":"Fill","AWESOME-up":"Higher","AWESOME-down":"Lower","BOL-positiveBand":"Upper","BOL-movingAverageBand":"MA","BOL-negativeBand":"Lower","BOL-fill":"Fill","BBW-line":"Line","BBW-fill":"Fill","BOLPCTB-line":"Line","BOLPCTB-up-lineColour":"%B > 1","BOLPCTB-up-fill":"Fill","BOLPCTB-down-lineColour":"%B < 0","BOLPCTB-down-fill":"Fill","CHAIKIN-line":"Line","CHAIKIN-fill":"Fill","CCI-line":"Line","CCI-up-lineColour":"CCI > 100","CCI-up-fill":"Fill","CCI-down-lineColour":"CCI < -100","CCI-down-fill":"Fill","DERIVATIVE-line":"Line","DERIVATIVE-fill":"Fill","DONCHIAN-up":"Upper","DONCHIAN-middle":"Middle","DONCHIAN-down":"Lower","DONCHIAN-fill":"Fill","DPO-line":"Line","DPO-up-lineColour":"Up","DPO-up-fill":"Fill","DPO-down-lineColour":"Down","DPO-down-fill":"Fill","DMI-diPlus":"DI+","DMI-diMinus":"DI-","DMI-adx":"ADX","DMI-histogram-up":"Histogram +","DMI-histogram-down":"Histogram -","EMA-ema1":"EMA {period1}","EMA-ema2":"EMA {period2}","EMA-ema3":"EMA {period3}","EMA-ema4":"EMA {period4}","EMA-ema5":"EMA {period5}","EMA-ema6":"EMA {period6}","EMA-ema7":"EMA {period7}","EMA-ema8":"EMA {period8}","EOM-line":"Line","EOM-fill":"Fill","ICHIMOKU-chikou":"Chikou","ICHIMOKU-kijun":"Kijun","ICHIMOKU-tenkan":"Tenkan","ICHIMOKU-spanA":"Span A","ICHIMOKU-spanB":"Span B","ICHIMOKU-cloudUp":"Cloud","ICHIMOKU-cloudDown":"Cloud","KDJ-stochasticK":"%K","KDJ-stochasticD":"%D","KDJ-stochasticJ":"%J","KELTNER-up":"Upper","KELTNER-middle":"MA","KELTNER-down":"Lower","KELTNER-fill":"Fill","MACD-macd":"MACD","MACD-signal":"Signal Line","MACD-histogram-up":"Histogram +","MACD-histogram-down":"Histogram -","MOMENTUM-line":"Line","MOMENTUM-up-lineColour":"Up","MOMENTUM-up-fill":"Fill","MOMENTUM-down-lineColour":"Down","MOMENTUM-down-fill":"Fill","MFI-line":"Line","MFI-up-lineColour":"MFI > 80","MFI-up-fill":"Fill","MFI-down-lineColour":"MFI < 20","MFI-down-fill":"Fill","MVAVG-movingAverage1":"MA {period1}","MVAVG-movingAverage2":"MA {period2}","MVAVG-movingAverage3":"MA {period3}","MVAVG-movingAverage4":"MA {period4}","MVAVG-movingAverage5":"MA {period5}","MVAVG-movingAverage6":"MA {period6}","MVAVG-movingAverage7":"MA {period7}","MVAVG-movingAverage8":"MA {period8}","SAR-up":"Up","SAR-down":"Down","PIVOT-r3":"R3","PIVOT-r2":"R2","PIVOT-r1":"R1","PIVOT-pivot":"Pivot","PIVOT-s1":"S1","PIVOT-s2":"S2","PIVOT-s3":"S3","RCI-rankCorrelationIndex1":"RCI {period1}","RCI-rankCorrelationIndex2":"RCI {period2}","RCI-rankCorrelationIndex3":"RCI {period3}","RCI-rankCorrelationIndex4":"RCI {period4}","RCI-rankCorrelationIndex5":"RCI {period5}","RCI-rankCorrelationIndex6":"RCI {period6}","RCI-rankCorrelationIndex7":"RCI {period7}","RCI-rankCorrelationIndex8":"RCI {period8}","ROC-line":"Line","ROC-up-lineColour":"Up","ROC-up-fill":"Fill","ROC-down-lineColour":"Down","ROC-down-fill":"Fill","RSI-line":"Line","RSI-up-lineColour":"RSI >","RSI-up-fill":"Fill","RSI-down-lineColour":"RSI <","RSI-down-fill":"Fill","STDEV-line":"Line","STDEV-fill":"Fill","STOCH-stochasticK":"%K","STOCH-stochasticD":"%D","SUPERTREND-up":"Up","SUPERTREND-down":"Down","VOLUME-up":"Rising","VOLUME-fill":"Unchanged","VOLUME-down":"Falling","WMA-wma1":"WMA {period1}","WMA-wma2":"WMA {period2}","WMA-wma3":"WMA {period3}","WMA-wma4":"WMA {period4}","WMA-wma5":"WMA {period5}","WMA-wma6":"WMA {period6}","WMA-wma7":"WMA {period7}","WMA-wma8":"WMA {period8}","VWAP-line":"Line","VWMA-vwma1":"VWMA {period1}","VWMA-vwma2":"VWMA {period2}","VWMA-vwma3":"VWMA {period3}","VWMA-vwma4":"VWMA {period4}","VWMA-vwma5":"VWMA {period5}","VWMA-vwma6":"VWMA {period6}","VWMA-vwma7":"VWMA {period7}","VWMA-vwma8":"VWMA {period8}","WILLR-line":"Line","WILLR-up-lineColour":"0 to -20","WILLR-up-fill":"Fill","WILLR-down-lineColour":"-80 to -100","WILLR-down-fill":"Fill"},es:{CONFIG:"Parámetros",STYLE:"Estilo","AROON-up-line":"Alcista","AROON-up-cloud":"Relleno","AROON-down-line":"Bajista","AROON-down-cloud":"Relleno","ATR-line":"Línea","ATR-fill":"Relleno","AWESOME-up":"Más alto","AWESOME-down":"Más bajo","BOL-positiveBand":"Superior","BOL-movingAverageBand":"MM","BOL-negativeBand":"Inferior","BOL-fill":"Relleno","BBW-line":"Línea","BBW-fill":"Relleno","BOLPCTB-line":"Línea","BOLPCTB-up-lineColour":"%B > 1","BOLPCTB-up-fill":"Relleno","BOLPCTB-down-lineColour":"%B < 0","BOLPCTB-down-fill":"Relleno","CHAIKIN-line":"Línea","CHAIKIN-fill":"Relleno","CCI-line":"Línea","CCI-up-lineColour":"CCI > 100","CCI-up-fill":"Relleno","CCI-down-lineColour":"CCI < -100","CCI-down-fill":"Relleno","DERIVATIVE-line":"Línea","DERIVATIVE-fill":"Relleno","DONCHIAN-up":"Superior","DONCHIAN-middle":"Media","DONCHIAN-down":"Inferior","DONCHIAN-fill":"Relleno","DPO-line":"Línea","DPO-up-lineColour":"Alcista","DPO-up-fill":"Relleno","DPO-down-lineColour":"Bajista","DPO-down-fill":"Relleno","DMI-diPlus":"DI+","DMI-diMinus":"DI-","DMI-adx":"ADX","DMI-histogram-up":"Histograma +","DMI-histogram-down":"Histograma -","EMA-ema1":"EMA {period1}","EMA-ema2":"EMA {period2}","EMA-ema3":"EMA {period3}","EMA-ema4":"EMA {period4}","EMA-ema5":"EMA {period5}","EMA-ema6":"EMA {period6}","EMA-ema7":"EMA {period7}","EMA-ema8":"EMA {period8}","EOM-line":"Línea","EOM-fill":"Relleno","ICHIMOKU-chikou":"Chikou","ICHIMOKU-kijun":"Kijun","ICHIMOKU-tenkan":"Tenkan","ICHIMOKU-spanA":"Span A","ICHIMOKU-spanB":"Span B","ICHIMOKU-cloudUp":"Nube","ICHIMOKU-cloudDown":"Nube","KDJ-stochasticK":"%K","KDJ-stochasticD":"%D","KDJ-stochasticJ":"%J","KELTNER-up":"Superior","KELTNER-middle":"MA","KELTNER-down":"Inferior","KELTNER-fill":"Relleno","MACD-macd":"MACD","MACD-signal":"Línea de Señal","MACD-histogram-up":"Histograma +","MACD-histogram-down":"Histograma -","MOMENTUM-line":"Línea","MOMENTUM-up-lineColour":"Alcista","MOMENTUM-up-fill":"Relleno","MOMENTUM-down-lineColour":"Bajista","MOMENTUM-down-fill":"Relleno","MFI-line":"Línea","MFI-up-lineColour":"MFI > 80","MFI-up-fill":"Relleno","MFI-down-lineColour":"MFI < 20","MFI-down-fill":"Relleno","MVAVG-movingAverage1":"SMA {period1}","MVAVG-movingAverage2":"SMA {period2}","MVAVG-movingAverage3":"SMA {period3}","MVAVG-movingAverage4":"SMA {period4}","MVAVG-movingAverage5":"SMA {period5}","MVAVG-movingAverage6":"SMA {period6}","MVAVG-movingAverage7":"SMA {period7}","MVAVG-movingAverage8":"SMA {period8}","SAR-up":"Alcista","SAR-down":"Bajista","PIVOT-r3":"R3","PIVOT-r2":"R2","PIVOT-r1":"R1","PIVOT-pivot":"Pivot","PIVOT-s1":"S1","PIVOT-s2":"S2","PIVOT-s3":"S3","RCI-rankCorrelationIndex1":null,"RCI-rankCorrelationIndex2":null,"RCI-rankCorrelationIndex3":null,"RCI-rankCorrelationIndex4":null,"RCI-rankCorrelationIndex5":null,"RCI-rankCorrelationIndex6":null,"RCI-rankCorrelationIndex7":null,"RCI-rankCorrelationIndex8":null,"ROC-line":"Línea","ROC-up-lineColour":"Alcista","ROC-up-fill":"Relleno","ROC-down-lineColour":"Bajista","ROC-down-fill":"Relleno","RSI-line":"Línea","RSI-up-lineColour":"RSI >","RSI-up-fill":"Relleno","RSI-down-lineColour":"RSI <","RSI-down-fill":"Relleno","STDEV-line":"Línea","STDEV-fill":"Relleno","STOCH-stochasticK":"%K","STOCH-stochasticD":"%D","SUPERTREND-up":"Alcista","SUPERTREND-down":"Bajista","VOLUME-up":"Ascendente","VOLUME-fill":"Sin variación","VOLUME-down":"Descendente","WMA-wma1":"WMA {period1}","WMA-wma2":"WMA {period2}","WMA-wma3":"WMA {period3}","WMA-wma4":"WMA {period4}","WMA-wma5":"WMA {period5}","WMA-wma6":"WMA {period6}","WMA-wma7":"WMA {period7}","WMA-wma8":"WMA {period8}","VWAP-line":"Línea","VWMA-vwma1":"VWMA {period1}","VWMA-vwma2":"VWMA {period2}","VWMA-vwma3":"VWMA {period3}","VWMA-vwma4":"VWMA {period4}","VWMA-vwma5":"VWMA {period5}","VWMA-vwma6":"VWMA {period6}","VWMA-vwma7":"VWMA {period7}","VWMA-vwma8":"VWMA {period8}","WILLR-line":"Línea","WILLR-up-lineColour":"0 a -20","WILLR-up-fill":"Relleno","WILLR-down-lineColour":"-80 a -100","WILLR-down-fill":"Relleno"},fr:{CONFIG:"Paramètres",STYLE:"Style","AROON-up-line":"Hausse","AROON-up-cloud":"Remplissage","AROON-down-line":"Baisse","AROON-down-cloud":"Remplissage","ATR-line":"Ligne","ATR-fill":"Remplissage","AWESOME-up":"Haussier","AWESOME-down":"Baissier","BOL-positiveBand":"Bande haute","BOL-movingAverageBand":"MM","BOL-negativeBand":"Bande basse","BOL-fill":"Remplissage","BBW-line":"Ligne","BBW-fill":"Remplissage","BOLPCTB-line":"Ligne","BOLPCTB-up-lineColour":"%B > 1","BOLPCTB-up-fill":"Remplissage","BOLPCTB-down-lineColour":"%B < 0","BOLPCTB-down-fill":"Remplissage","CHAIKIN-line":"Ligne","CHAIKIN-fill":"Remplissage","CCI-line":"Ligne","CCI-up-lineColour":"CCI > 100","CCI-up-fill":"Remplissage","CCI-down-lineColour":"CCI < -100","CCI-down-fill":"Remplissage","DERIVATIVE-line":"Ligne","DERIVATIVE-fill":"Remplissage","DONCHIAN-up":"Bande haute","DONCHIAN-middle":"Bande neutre","DONCHIAN-down":"Bande basse","DONCHIAN-fill":"Remplissage","DPO-line":"Ligne","DPO-up-lineColour":"Hausse","DPO-up-fill":"Remplissage","DPO-down-lineColour":"Baisse","DPO-down-fill":"Remplissage","DMI-diPlus":"DI+","DMI-diMinus":"DI-","DMI-adx":"ADX","DMI-histogram-up":"Histogramme +","DMI-histogram-down":"Histogramme -","EMA-ema1":"MME {period1}","EMA-ema2":"MME {period2}","EMA-ema3":"MME {period3}","EMA-ema4":"MME {period4}","EMA-ema5":"MME {period5}","EMA-ema6":"MME {period6}","EMA-ema7":"MME {period7}","EMA-ema8":"MME {period8}","EOM-line":"Ligne","EOM-fill":"Remplissage","ICHIMOKU-chikou":"Chikou","ICHIMOKU-kijun":"Kijun","ICHIMOKU-tenkan":"Tenkan","ICHIMOKU-spanA":"Span A","ICHIMOKU-spanB":"Span B","ICHIMOKU-cloudUp":"Nuage","ICHIMOKU-cloudDown":"Nuage","KDJ-stochasticK":"%K","KDJ-stochasticD":"%D","KDJ-stochasticJ":"%J","KELTNER-up":"Bande haute","KELTNER-middle":"MM","KELTNER-down":"Bande basse","KELTNER-fill":"Remplissage","MACD-macd":"MACD","MACD-signal":"Ligne de signal","MACD-histogram-up":"Histogramme +","MACD-histogram-down":"Histogramme -","MOMENTUM-line":"Ligne","MOMENTUM-up-lineColour":"Hausse","MOMENTUM-up-fill":"Remplissage","MOMENTUM-down-lineColour":"Baisse","MOMENTUM-down-fill":"Remplissage","MFI-line":"Ligne","MFI-up-lineColour":"MFI > 80","MFI-up-fill":"Remplissage","MFI-down-lineColour":"MFI < 20","MFI-down-fill":"Remplissage","MVAVG-movingAverage1":"MM {period1}","MVAVG-movingAverage2":"MM {period2}","MVAVG-movingAverage3":"MM {period3}","MVAVG-movingAverage4":"MM {period4}","MVAVG-movingAverage5":"MM {period5}","MVAVG-movingAverage6":"MM {period6}","MVAVG-movingAverage7":"MM {period7}","MVAVG-movingAverage8":"MM {period8}","SAR-up":"Hausse","SAR-down":"Baisse","PIVOT-r3":"R3","PIVOT-r2":"R2","PIVOT-r1":"R1","PIVOT-pivot":"Pivot","PIVOT-s1":"S1","PIVOT-s2":"S2","PIVOT-s3":"S3","RCI-rankCorrelationIndex1":null,"RCI-rankCorrelationIndex2":null,"RCI-rankCorrelationIndex3":null,"RCI-rankCorrelationIndex4":null,"RCI-rankCorrelationIndex5":null,"RCI-rankCorrelationIndex6":null,"RCI-rankCorrelationIndex7":null,"RCI-rankCorrelationIndex8":null,"ROC-line":"Ligne","ROC-up-lineColour":"Hausse","ROC-up-fill":"Remplissage","ROC-down-lineColour":"Baisse","ROC-down-fill":"Remplissage","RSI-line":"Ligne","RSI-up-lineColour":"RSI >","RSI-up-fill":"Remplissage","RSI-down-lineColour":"RSI <","RSI-down-fill":"Remplissage","STDEV-line":"Ligne","STDEV-fill":"Remplissage","STOCH-stochasticK":"%K","STOCH-stochasticD":"%D","SUPERTREND-up":"Hausse","SUPERTREND-down":"Baisse","VOLUME-up":"Haussier","VOLUME-fill":"Inchangé","VOLUME-down":"Baissier","WMA-wma1":"MMP {period1}","WMA-wma2":"MMP {period2}","WMA-wma3":"MMP {period3}","WMA-wma4":"MMP {period4}","WMA-wma5":"MMP {period5}","WMA-wma6":"MMP {period6}","WMA-wma7":"MMP {period7}","WMA-wma8":"MMP {period8}","VWAP-line":"Ligne","VWMA-vwma1":"VWMA {period1}","VWMA-vwma2":"VWMA {period2}","VWMA-vwma3":"VWMA {period3}","VWMA-vwma4":"VWMA {period4}","VWMA-vwma5":"VWMA {period5}","VWMA-vwma6":"VWMA {period6}","VWMA-vwma7":"VWMA {period7}","VWMA-vwma8":"VWMA {period8}","WILLR-line":"Ligne","WILLR-up-lineColour":"0 à -20","WILLR-up-fill":"Remplissage","WILLR-down-lineColour":"-80 à -100","WILLR-down-fill":"Remplissage"},it:{CONFIG:"Parametri",STYLE:"Stile","AROON-up-line":"Sopra","AROON-up-cloud":"Riempimento","AROON-down-line":"Sotto","AROON-down-cloud":"Riempimento","ATR-line":"Linea","ATR-fill":"Riempimento","AWESOME-up":"Massimo","AWESOME-down":"Minimo","BOL-positiveBand":"Superiore","BOL-movingAverageBand":"MA","BOL-negativeBand":"Inferiore","BOL-fill":"Riempimento","BBW-line":"Linea","BBW-fill":"Riempimento","BOLPCTB-line":"Linea","BOLPCTB-up-lineColour":"%B > 1","BOLPCTB-up-fill":"Riempimento","BOLPCTB-down-lineColour":"%B < 0","BOLPCTB-down-fill":"Riempimento","CHAIKIN-line":"Linea","CHAIKIN-fill":"Riempimento","CCI-line":"Linea","CCI-up-lineColour":"CCI > 100","CCI-up-fill":"Riempimento","CCI-down-lineColour":"CCI < -100","CCI-down-fill":"Riempimento","DERIVATIVE-line":"Linea","DERIVATIVE-fill":"Riempimento","DONCHIAN-up":"Superiore","DONCHIAN-middle":"Medio","DONCHIAN-down":"Inferiore","DONCHIAN-fill":"Riempimento","DPO-line":"Linea","DPO-up-lineColour":"Sopra","DPO-up-fill":"Riempimento","DPO-down-lineColour":"Sotto","DPO-down-fill":"Riempimento","DMI-diPlus":"DI+","DMI-diMinus":"DI-","DMI-adx":"ADX","DMI-histogram-up":"Istogramma +","DMI-histogram-down":"Istogramma -","EMA-ema1":"EMA {period1}","EMA-ema2":"EMA {period2}","EMA-ema3":"EMA {period3}","EMA-ema4":"EMA {period4}","EMA-ema5":"EMA {period5}","EMA-ema6":"EMA {period6}","EMA-ema7":"EMA {period7}","EMA-ema8":"EMA {period8}","EOM-line":"Linea","EOM-fill":"Riempimento","ICHIMOKU-chikou":"Chikou","ICHIMOKU-kijun":"Kijun","ICHIMOKU-tenkan":"Tenkan","ICHIMOKU-spanA":"Span A","ICHIMOKU-spanB":"Span B","ICHIMOKU-cloudUp":"Nuvola","ICHIMOKU-cloudDown":"Nuvola","KDJ-stochasticK":"%K","KDJ-stochasticD":"%D","KDJ-stochasticJ":"%J","KELTNER-up":"Superiore","KELTNER-middle":"MA","KELTNER-down":"Inferiore","KELTNER-fill":"Riempimento","MACD-macd":"MACD","MACD-signal":"Linea di segnale","MACD-histogram-up":"Istogramma +","MACD-histogram-down":"Istogramma -","MOMENTUM-line":"Linea","MOMENTUM-up-lineColour":"Sopra","MOMENTUM-up-fill":"Riempimento","MOMENTUM-down-lineColour":"Sotto","MOMENTUM-down-fill":"Riempimento","MFI-line":"Linea","MFI-up-lineColour":"MFI > 80","MFI-up-fill":"Riempimento","MFI-down-lineColour":"MFI < 20","MFI-down-fill":"Riempimento","MVAVG-movingAverage1":"MA {period1}","MVAVG-movingAverage2":"MA {period2}","MVAVG-movingAverage3":"MA {period3}","MVAVG-movingAverage4":"MA {period4}","MVAVG-movingAverage5":"MA {period5}","MVAVG-movingAverage6":"MA {period6}","MVAVG-movingAverage7":"MA {period7}","MVAVG-movingAverage8":"MA {period8}","SAR-up":"Sopra","SAR-down":"Sotto","PIVOT-r3":"R3","PIVOT-r2":"R2","PIVOT-r1":"R1","PIVOT-pivot":"Pivot","PIVOT-s1":"S1","PIVOT-s2":"S2","PIVOT-s3":"S3","RCI-rankCorrelationIndex1":null,"RCI-rankCorrelationIndex2":null,"RCI-rankCorrelationIndex3":null,"RCI-rankCorrelationIndex4":null,"RCI-rankCorrelationIndex5":null,"RCI-rankCorrelationIndex6":null,"RCI-rankCorrelationIndex7":null,"RCI-rankCorrelationIndex8":null,"ROC-line":"Linea","ROC-up-lineColour":"Sopra","ROC-up-fill":"Riempimento","ROC-down-lineColour":"Sotto","ROC-down-fill":"Riempimento","RSI-line":"Linea","RSI-up-lineColour":"RSI >","RSI-up-fill":"Riempimento","RSI-down-lineColour":"RSI <","RSI-down-fill":"Riempimento","STDEV-line":"Linea","STDEV-fill":"Riempimento","STOCH-stochasticK":"%K","STOCH-stochasticD":"%D","SUPERTREND-up":"Sopra","SUPERTREND-down":"Sotto","VOLUME-up":"Rialzista","VOLUME-fill":"Invariato","VOLUME-down":"Ribassista","WMA-wma1":"WMA {period1}","WMA-wma2":"WMA {period2}","WMA-wma3":"WMA {period3}","WMA-wma4":"WMA {period4}","WMA-wma5":"WMA {period5}","WMA-wma6":"WMA {period6}","WMA-wma7":"WMA {period7}","WMA-wma8":"WMA {period8}","VWAP-line":"Linea","VWMA-vwma1":"VWMA {period1}","VWMA-vwma2":"VWMA {period2}","VWMA-vwma3":"VWMA {period3}","VWMA-vwma4":"VWMA {period4}","VWMA-vwma5":"VWMA {period5}","VWMA-vwma6":"VWMA {period6}","VWMA-vwma7":"VWMA {period7}","VWMA-vwma8":"VWMA {period8}","WILLR-line":"Linea","WILLR-up-lineColour":"0 a -20","WILLR-up-fill":"Riempimento","WILLR-down-lineColour":"-80 a -100","WILLR-down-fill":"Riempimento"},ja:{CONFIG:"パレメーター",STYLE:"チャート種類","AROON-up-line":"上昇","AROON-up-cloud":"塗りつぶし","AROON-down-line":"下落","AROON-down-cloud":"塗りつぶし","ATR-line":"ライン","ATR-fill":"塗りつぶし","AWESOME-up":"上昇","AWESOME-down":"下落","BOL-positiveBand":"上限","BOL-movingAverageBand":"移動平均","BOL-negativeBand":"下限","BOL-fill":"塗りつぶし","BBW-line":"ライン","BBW-fill":"塗りつぶし","BOLPCTB-line":"ライン","BOLPCTB-up-lineColour":"%B > 1","BOLPCTB-up-fill":"塗りつぶし","BOLPCTB-down-lineColour":"%B < 0","BOLPCTB-down-fill":"塗りつぶし","CHAIKIN-line":"ライン","CHAIKIN-fill":"塗りつぶし","CCI-line":"ライン","CCI-up-lineColour":"CCI > 100","CCI-up-fill":"塗りつぶし","CCI-down-lineColour":"CCI < -100","CCI-down-fill":"塗りつぶし","DERIVATIVE-line":"ライン","DERIVATIVE-fill":"塗りつぶし","DONCHIAN-up":"上限","DONCHIAN-middle":"中間線","DONCHIAN-down":"下限","DONCHIAN-fill":"塗りつぶし","DPO-line":"ライン","DPO-up-lineColour":"上昇","DPO-up-fill":"塗りつぶし","DPO-down-lineColour":"下落","DPO-down-fill":"塗りつぶし","DMI-diPlus":"DI+","DMI-diMinus":"DI-","DMI-adx":"ADX","DMI-histogram-up":"ヒストグラム +","DMI-histogram-down":"ヒストグラム -","EMA-ema1":"EMA {period1}","EMA-ema2":"EMA {period2}","EMA-ema3":"EMA {period3}","EMA-ema4":"EMA {period4}","EMA-ema5":"EMA {period5}","EMA-ema6":"EMA {period6}","EMA-ema7":"EMA {period7}","EMA-ema8":"EMA {period8}","EOM-line":"ライン","EOM-fill":"塗りつぶし","ICHIMOKU-chikou":"遅行線","ICHIMOKU-kijun":"基準線","ICHIMOKU-tenkan":"転換線","ICHIMOKU-spanA":"スパンA","ICHIMOKU-spanB":"スパンB","ICHIMOKU-cloudUp":"雲","ICHIMOKU-cloudDown":"雲","KDJ-stochasticK":"%K","KDJ-stochasticD":"%D","KDJ-stochasticJ":"%J","KELTNER-up":"上限","KELTNER-middle":"移動平均","KELTNER-down":"下限","KELTNER-fill":"塗りつぶし","MACD-macd":"MACD","MACD-signal":"シグナルライン","MACD-histogram-up":"ヒストグラム +","MACD-histogram-down":"ヒストグラム -","MOMENTUM-line":"ライン","MOMENTUM-up-lineColour":"上昇","MOMENTUM-up-fill":"塗りつぶし","MOMENTUM-down-lineColour":"下落","MOMENTUM-down-fill":"塗りつぶし","MFI-line":"ライン","MFI-up-lineColour":"MFI > 80","MFI-up-fill":"塗りつぶし","MFI-down-lineColour":"MFI < 20","MFI-down-fill":"塗りつぶし","MVAVG-movingAverage1":"移動平均 {period1}","MVAVG-movingAverage2":"移動平均 {period2}","MVAVG-movingAverage3":"移動平均 {period3}","MVAVG-movingAverage4":"移動平均 {period4}","MVAVG-movingAverage5":"移動平均 {period5}","MVAVG-movingAverage6":"移動平均 {period6}","MVAVG-movingAverage7":"移動平均 {period7}","MVAVG-movingAverage8":"移動平均 {period8}","SAR-up":"上昇","SAR-down":"下落","PIVOT-r3":"R3","PIVOT-r2":"R2","PIVOT-r1":"R1","PIVOT-pivot":"ピボット","PIVOT-s1":"S1","PIVOT-s2":"S2","PIVOT-s3":"S3","RCI-rankCorrelationIndex1":null,"RCI-rankCorrelationIndex2":null,"RCI-rankCorrelationIndex3":null,"RCI-rankCorrelationIndex4":null,"RCI-rankCorrelationIndex5":null,"RCI-rankCorrelationIndex6":null,"RCI-rankCorrelationIndex7":null,"RCI-rankCorrelationIndex8":null,"ROC-line":"ライン","ROC-up-lineColour":"上昇","ROC-up-fill":"塗りつぶし","ROC-down-lineColour":"下落","ROC-down-fill":"塗りつぶし","RSI-line":"ライン","RSI-up-lineColour":"RSI >","RSI-up-fill":"塗りつぶし","RSI-down-lineColour":"RSI <","RSI-down-fill":"塗りつぶし","STDEV-line":"ライン","STDEV-fill":"塗りつぶし","STOCH-stochasticK":"%K","STOCH-stochasticD":"%D","SUPERTREND-up":"上昇","SUPERTREND-down":"下落","VOLUME-up":"上昇","VOLUME-fill":"変更なし","VOLUME-down":"下落","WMA-wma1":"WMA {period1}","WMA-wma2":"WMA {period2}","WMA-wma3":"WMA {period3}","WMA-wma4":"WMA {period4}","WMA-wma5":"WMA {period5}","WMA-wma6":"WMA {period6}","WMA-wma7":"WMA {period7}","WMA-wma8":"WMA {period8}","VWAP-line":"ライン","VWMA-vwma1":"VWMA {period1}","VWMA-vwma2":"VWMA {period2}","VWMA-vwma3":"VWMA {period3}","VWMA-vwma4":"VWMA {period4}","VWMA-vwma5":"VWMA {period5}","VWMA-vwma6":"VWMA {period6}","VWMA-vwma7":"VWMA {period7}","VWMA-vwma8":"VWMA {period8}","WILLR-line":"ライン","WILLR-up-lineColour":"0 ~ -20","WILLR-up-fill":"塗りつぶし","WILLR-down-lineColour":"-80 ~ -100","WILLR-down-fill":"塗りつぶし"},nl:{CONFIG:"Parameters",STYLE:"Stijl","AROON-up-line":"Naar boven","AROON-up-cloud":"Vullen","AROON-down-line":"Naar beneden","AROON-down-cloud":"Vullen","ATR-line":"Lijn","ATR-fill":"Vullen","AWESOME-up":"Hoger","AWESOME-down":"Lager","BOL-positiveBand":"Bovenste","BOL-movingAverageBand":"MA","BOL-negativeBand":"Laagste","BOL-fill":"Vullen","BBW-line":"Lijn","BBW-fill":"Vullen","BOLPCTB-line":"Lijn","BOLPCTB-up-lineColour":"%B > 1","BOLPCTB-up-fill":"Vullen","BOLPCTB-down-lineColour":"%B < 0","BOLPCTB-down-fill":"Vullen","CHAIKIN-line":"Lijn","CHAIKIN-fill":"Vullen","CCI-line":"Lijn","CCI-up-lineColour":"CCI > 100","CCI-up-fill":"Vullen","CCI-down-lineColour":"CCI < -100","CCI-down-fill":"Vullen","DERIVATIVE-line":"Lijn","DERIVATIVE-fill":"Vullen","DONCHIAN-up":"Bovenste","DONCHIAN-middle":"Midden","DONCHIAN-down":"Laagste","DONCHIAN-fill":"Vullen","DPO-line":"Lijn","DPO-up-lineColour":"Naar boven","DPO-up-fill":"Vullen","DPO-down-lineColour":"Naar beneden","DPO-down-fill":"Vullen","DMI-diPlus":"DI+","DMI-diMinus":"DI-","DMI-adx":"ADX","DMI-histogram-up":"Histogram +","DMI-histogram-down":"Histogram -","EMA-ema1":"EMA {period1}","EMA-ema2":"EMA {period2}","EMA-ema3":"EMA {period3}","EMA-ema4":"EMA {period4}","EMA-ema5":"EMA {period5}","EMA-ema6":"EMA {period6}","EMA-ema7":"EMA {period7}","EMA-ema8":"EMA {period8}","EOM-line":"Lijn","EOM-fill":"Vullen","ICHIMOKU-chikou":"Chikou","ICHIMOKU-kijun":"Kijun","ICHIMOKU-tenkan":"Tenkan","ICHIMOKU-spanA":"Span A","ICHIMOKU-spanB":"Span B","ICHIMOKU-cloudUp":"Wolk","ICHIMOKU-cloudDown":"Wolk","KDJ-stochasticK":"%K","KDJ-stochasticD":"%D","KDJ-stochasticJ":"%J","KELTNER-up":"Bovenste","KELTNER-middle":"MA","KELTNER-down":"Laagste","KELTNER-fill":"Vullen","MACD-macd":"MACD","MACD-signal":"Signaallijn","MACD-histogram-up":"Histogram +","MACD-histogram-down":"Histogram -","MOMENTUM-line":"Lijn","MOMENTUM-up-lineColour":"Naar boven","MOMENTUM-up-fill":"Vullen","MOMENTUM-down-lineColour":"Naar beneden","MOMENTUM-down-fill":"Vullen","MFI-line":"Lijn","MFI-up-lineColour":"MFI > 80","MFI-up-fill":"Vullen","MFI-down-lineColour":"MFI < 20","MFI-down-fill":"Vullen","MVAVG-movingAverage1":"MA {period1}","MVAVG-movingAverage2":"MA {period2}","MVAVG-movingAverage3":"MA {period3}","MVAVG-movingAverage4":"MA {period4}","MVAVG-movingAverage5":"MA {period5}","MVAVG-movingAverage6":"MA {period6}","MVAVG-movingAverage7":"MA {period7}","MVAVG-movingAverage8":"MA {period8}","SAR-up":"Naar boven","SAR-down":"Naar beneden","PIVOT-r3":"R3","PIVOT-r2":"R2","PIVOT-r1":"R1","PIVOT-pivot":"Pivot","PIVOT-s1":"S1","PIVOT-s2":"S2","PIVOT-s3":"S3","RCI-rankCorrelationIndex1":null,"RCI-rankCorrelationIndex2":null,"RCI-rankCorrelationIndex3":null,"RCI-rankCorrelationIndex4":null,"RCI-rankCorrelationIndex5":null,"RCI-rankCorrelationIndex6":null,"RCI-rankCorrelationIndex7":null,"RCI-rankCorrelationIndex8":null,"ROC-line":"Lijn","ROC-up-lineColour":"Naar boven","ROC-up-fill":"Vullen","ROC-down-lineColour":"Naar beneden","ROC-down-fill":"Vullen","RSI-line":"Lijn","RSI-up-lineColour":"RSI >","RSI-up-fill":"Vullen","RSI-down-lineColour":"RSI <","RSI-down-fill":"Vullen","STDEV-line":"Lijn","STDEV-fill":"Vullen","STOCH-stochasticK":"%K","STOCH-stochasticD":"%D","SUPERTREND-up":"Naar boven","SUPERTREND-down":"Naar beneden","VOLUME-up":"Stijgend","VOLUME-fill":"Unchanged","VOLUME-down":"Dalend","WMA-wma1":"WMA {period1}","WMA-wma2":"WMA {period2}","WMA-wma3":"WMA {period3}","WMA-wma4":"WMA {period4}","WMA-wma5":"WMA {period5}","WMA-wma6":"WMA {period6}","WMA-wma7":"WMA {period7}","WMA-wma8":"WMA {period8}","VWAP-line":"Lijn","VWMA-vwma1":"VWMA {period1}","VWMA-vwma2":"VWMA {period2}","VWMA-vwma3":"VWMA {period3}","VWMA-vwma4":"VWMA {period4}","VWMA-vwma5":"VWMA {period5}","VWMA-vwma6":"VWMA {period6}","VWMA-vwma7":"VWMA {period7}","VWMA-vwma8":"VWMA {period8}","WILLR-line":"Lijn","WILLR-up-lineColour":"0 tot -20","WILLR-up-fill":"Vullen","WILLR-down-lineColour":"-80 tot -100","WILLR-down-fill":"Vullen"},nb:{CONFIG:"Parametere",STYLE:"Stil","AROON-up-line":"Opp","AROON-up-cloud":"Fyll","AROON-down-line":"Ned","AROON-down-cloud":"Fyll","ATR-line":"Linje","ATR-fill":"Fyll","AWESOME-up":"Høyere","AWESOME-down":"Lavere","BOL-positiveBand":"Øvre","BOL-movingAverageBand":"GG","BOL-negativeBand":"Nedre","BOL-fill":"Fyll","BBW-line":"Linje","BBW-fill":"Fyll","BOLPCTB-line":"Linje","BOLPCTB-up-lineColour":"%B > 1","BOLPCTB-up-fill":"Fyll","BOLPCTB-down-lineColour":"%B < 0","BOLPCTB-down-fill":"Fyll","CHAIKIN-line":"Linje","CHAIKIN-fill":"Fyll","CCI-line":"Linje","CCI-up-lineColour":"CCI > 100","CCI-up-fill":"Fyll","CCI-down-lineColour":"CCI < -100","CCI-down-fill":"Fyll","DERIVATIVE-line":"Linje","DERIVATIVE-fill":"Fyll","DONCHIAN-up":"Øvre","DONCHIAN-middle":"Midten","DONCHIAN-down":"Nedre","DONCHIAN-fill":"Fyll","DPO-line":"Linje","DPO-up-lineColour":"Opp","DPO-up-fill":"Fyll","DPO-down-lineColour":"Ned","DPO-down-fill":"Fyll","DMI-diPlus":"DI+","DMI-diMinus":"DI-","DMI-adx":"ADX","DMI-histogram-up":"Histogram +","DMI-histogram-down":"Histogram -","EMA-ema1":"EGG {period1}","EMA-ema2":"EGG {period2}","EMA-ema3":"EGG {period3}","EMA-ema4":"EGG {period4}","EMA-ema5":"EGG {period5}","EMA-ema6":"EGG {period6}","EMA-ema7":"EGG {period7}","EMA-ema8":"EGG {period8}","EOM-line":"Linje","EOM-fill":"Fyll","ICHIMOKU-chikou":"Chikou","ICHIMOKU-kijun":"Kijun","ICHIMOKU-tenkan":"Tenkan","ICHIMOKU-spanA":"Span A","ICHIMOKU-spanB":"Span B","ICHIMOKU-cloudUp":"Cloud","ICHIMOKU-cloudDown":"Cloud","KDJ-stochasticK":"%K","KDJ-stochasticD":"%D","KDJ-stochasticJ":"%J","KELTNER-up":"Øvre","KELTNER-middle":"GG","KELTNER-down":"Nedre","KELTNER-fill":"Fyll","MACD-macd":"MACD","MACD-signal":"Signal Line","MACD-histogram-up":"Histogram +","MACD-histogram-down":"Histogram -","MOMENTUM-line":"Linje","MOMENTUM-up-lineColour":"Opp","MOMENTUM-up-fill":"Fyll","MOMENTUM-down-lineColour":"Ned","MOMENTUM-down-fill":"Fyll","MFI-line":"Linje","MFI-up-lineColour":"MFI > 80","MFI-up-fill":"Fyll","MFI-down-lineColour":"MFI < 20","MFI-down-fill":"Fyll","MVAVG-movingAverage1":"GG {period1}","MVAVG-movingAverage2":"GG {period2}","MVAVG-movingAverage3":"GG {period3}","MVAVG-movingAverage4":"GG {period4}","MVAVG-movingAverage5":"GG {period5}","MVAVG-movingAverage6":"GG {period6}","MVAVG-movingAverage7":"GG {period7}","MVAVG-movingAverage8":"GG {period8}","SAR-up":"Opp","SAR-down":"Ned","PIVOT-r3":"R3","PIVOT-r2":"R2","PIVOT-r1":"R1","PIVOT-pivot":"Pivot","PIVOT-s1":"S1","PIVOT-s2":"S2","PIVOT-s3":"S3","RCI-rankCorrelationIndex1":null,"RCI-rankCorrelationIndex2":null,"RCI-rankCorrelationIndex3":null,"RCI-rankCorrelationIndex4":null,"RCI-rankCorrelationIndex5":null,"RCI-rankCorrelationIndex6":null,"RCI-rankCorrelationIndex7":null,"RCI-rankCorrelationIndex8":null,"ROC-line":"Linje","ROC-up-lineColour":"Opp","ROC-up-fill":"Fyll","ROC-down-lineColour":"Ned","ROC-down-fill":"Fyll","RSI-line":"Linje","RSI-up-lineColour":"RSI >","RSI-up-fill":"Fyll","RSI-down-lineColour":"RSI <","RSI-down-fill":"Fyll","STDEV-line":"Linje","STDEV-fill":"Fyll","STOCH-stochasticK":"%K","STOCH-stochasticD":"%D","SUPERTREND-up":"Opp","SUPERTREND-down":"Ned","VOLUME-up":"Stigende","VOLUME-fill":"Uforandret","VOLUME-down":"Fallende","WMA-wma1":"WMA {period1}","WMA-wma2":"WMA {period2}","WMA-wma3":"WMA {period3}","WMA-wma4":"WMA {period4}","WMA-wma5":"WMA {period5}","WMA-wma6":"WMA {period6}","WMA-wma7":"WMA {period7}","WMA-wma8":"WMA {period8}","VWAP-line":"Linje","VWMA-vwma1":"VWMA {period1}","VWMA-vwma2":"VWMA {period2}","VWMA-vwma3":"VWMA {period3}","VWMA-vwma4":"VWMA {period4}","VWMA-vwma5":"VWMA {period5}","VWMA-vwma6":"VWMA {period6}","VWMA-vwma7":"VWMA {period7}","VWMA-vwma8":"VWMA {period8}","WILLR-line":"Linje","WILLR-up-lineColour":"0 til -20","WILLR-up-fill":"Fyll","WILLR-down-lineColour":"-80 til -100","WILLR-down-fill":"Fyll"},pt:{CONFIG:"Parâmetros",STYLE:"Estilo","AROON-up-line":"Altista","AROON-up-cloud":"Preenchimento","AROON-down-line":"Baixista","AROON-down-cloud":"Preenchimento","ATR-line":"Linha","ATR-fill":"Preenchimento","AWESOME-up":"Mais alto","AWESOME-down":"Mais baixo","BOL-positiveBand":"Superior","BOL-movingAverageBand":"MM","BOL-negativeBand":"Inferior","BOL-fill":"Preenchimento","BBW-line":"Linha","BBW-fill":"Preenchimento","BOLPCTB-line":"Linha","BOLPCTB-up-lineColour":"%B > 1","BOLPCTB-up-fill":"Preenchimento","BOLPCTB-down-lineColour":"%B < 0","BOLPCTB-down-fill":"Preenchimento","CHAIKIN-line":"Linha","CHAIKIN-fill":"Preenchimento","CCI-line":"Linha","CCI-up-lineColour":"CCI > 100","CCI-up-fill":"Preenchimento","CCI-down-lineColour":"CCI < -100","CCI-down-fill":"Preenchimento","DERIVATIVE-line":"Linha","DERIVATIVE-fill":"Preenchimento","DONCHIAN-up":"Superior","DONCHIAN-middle":"Meio","DONCHIAN-down":"Inferior","DONCHIAN-fill":"Preenchimento","DPO-line":"Linha","DPO-up-lineColour":"Altista","DPO-up-fill":"Preenchimento","DPO-down-lineColour":"Baixista","DPO-down-fill":"Preenchimento","DMI-diPlus":"DI+","DMI-diMinus":"DI-","DMI-adx":"ADX","DMI-histogram-up":"Histograma +","DMI-histogram-down":"Histograma -","EMA-ema1":"EMA {period1}","EMA-ema2":"EMA {period2}","EMA-ema3":"EMA {period3}","EMA-ema4":"EMA {period4}","EMA-ema5":"EMA {period5}","EMA-ema6":"EMA {period6}","EMA-ema7":"EMA {period7}","EMA-ema8":"EMA {period8}","EOM-line":"Linha","EOM-fill":"Preenchimento","ICHIMOKU-chikou":"Chikou","ICHIMOKU-kijun":"Kijun","ICHIMOKU-tenkan":"Tenkan","ICHIMOKU-spanA":"Span A","ICHIMOKU-spanB":"Span B","ICHIMOKU-cloudUp":"Nuvem","ICHIMOKU-cloudDown":"Nuvem","KDJ-stochasticK":"%K","KDJ-stochasticD":"%D","KDJ-stochasticJ":"%J","KELTNER-up":"Superior","KELTNER-middle":"MM","KELTNER-down":"Inferior","KELTNER-fill":"Preenchimento","MACD-macd":"MACD","MACD-signal":"Linha de sinal","MACD-histogram-up":"Histograma +","MACD-histogram-down":"Histograma -","MOMENTUM-line":"Linha","MOMENTUM-up-lineColour":"Altista","MOMENTUM-up-fill":"Preenchimento","MOMENTUM-down-lineColour":"Baixista","MOMENTUM-down-fill":"Preenchimento","MFI-line":"Linha","MFI-up-lineColour":"IMF > 80","MFI-up-fill":"Preenchimento","MFI-down-lineColour":"IMF < 20","MFI-down-fill":"Preenchimento","MVAVG-movingAverage1":"MM {period1}","MVAVG-movingAverage2":"MM {period2}","MVAVG-movingAverage3":"MM {period3}","MVAVG-movingAverage4":"MM {period4}","MVAVG-movingAverage5":"MM {period5}","MVAVG-movingAverage6":"MM {period6}","MVAVG-movingAverage7":"MM {period7}","MVAVG-movingAverage8":"MM {period8}","SAR-up":"Altista","SAR-down":"Baixista","PIVOT-r3":"R3","PIVOT-r2":"R2","PIVOT-r1":"R1","PIVOT-pivot":"Pivot","PIVOT-s1":"S1","PIVOT-s2":"S2","PIVOT-s3":"S3","RCI-rankCorrelationIndex1":null,"RCI-rankCorrelationIndex2":null,"RCI-rankCorrelationIndex3":null,"RCI-rankCorrelationIndex4":null,"RCI-rankCorrelationIndex5":null,"RCI-rankCorrelationIndex6":null,"RCI-rankCorrelationIndex7":null,"RCI-rankCorrelationIndex8":null,"ROC-line":"Linha","ROC-up-lineColour":"Altista","ROC-up-fill":"Preenchimento","ROC-down-lineColour":"Baixista","ROC-down-fill":"Preenchimento","RSI-line":"Linha","RSI-up-lineColour":"RSI >","RSI-up-fill":"Preenchimento","RSI-down-lineColour":"RSI <","RSI-down-fill":"Preenchimento","STDEV-line":"Linha","STDEV-fill":"Preenchimento","STOCH-stochasticK":"%K","STOCH-stochasticD":"%D","SUPERTREND-up":"Altista","SUPERTREND-down":"Baixista","VOLUME-up":"Ascendente","VOLUME-fill":"Sem alterações","VOLUME-down":"Descendente","WMA-wma1":"WMA {period1}","WMA-wma2":"WMA {period2}","WMA-wma3":"WMA {period3}","WMA-wma4":"WMA {period4}","WMA-wma5":"WMA {period5}","WMA-wma6":"WMA {period6}","WMA-wma7":"WMA {period7}","WMA-wma8":"WMA {period8}","VWAP-line":"Linha","VWMA-vwma1":"VWMA {period1}","VWMA-vwma2":"VWMA {period2}","VWMA-vwma3":"VWMA {period3}","VWMA-vwma4":"VWMA {period4}","VWMA-vwma5":"VWMA {period5}","VWMA-vwma6":"VWMA {period6}","VWMA-vwma7":"VWMA {period7}","VWMA-vwma8":"VWMA {period8}","WILLR-line":"Linha","WILLR-up-lineColour":"0 a -20","WILLR-up-fill":"Preenchimento","WILLR-down-lineColour":"-80 a -100","WILLR-down-fill":"Preenchimento"},sv:{CONFIG:"Parametrar",STYLE:"Stil","AROON-up-line":"Upp","AROON-up-cloud":"Ifyllnad","AROON-down-line":"Ner","AROON-down-cloud":"Ifyllnad","ATR-line":"Linje","ATR-fill":"Ifyllnad","AWESOME-up":"Högre","AWESOME-down":"Lägre","BOL-positiveBand":"Övre","BOL-movingAverageBand":"MA","BOL-negativeBand":"Nedre","BOL-fill":"Ifyllnad","BBW-line":"Linje","BBW-fill":"Ifyllnad","BOLPCTB-line":"Linje","BOLPCTB-up-lineColour":"%B > 1","BOLPCTB-up-fill":"Ifyllnad","BOLPCTB-down-lineColour":"%B < 0","BOLPCTB-down-fill":"Ifyllnad","CHAIKIN-line":"Linje","CHAIKIN-fill":"Ifyllnad","CCI-line":"Linje","CCI-up-lineColour":"CCI > 100","CCI-up-fill":"Ifyllnad","CCI-down-lineColour":"CCI < -100","CCI-down-fill":"Ifyllnad","DERIVATIVE-line":"Linje","DERIVATIVE-fill":"Ifyllnad","DONCHIAN-up":"Övre","DONCHIAN-middle":"Middle","DONCHIAN-down":"Nedre","DONCHIAN-fill":"Ifyllnad","DPO-line":"Linje","DPO-up-lineColour":"Upp","DPO-up-fill":"Ifyllnad","DPO-down-lineColour":"Ner","DPO-down-fill":"Ifyllnad","DMI-diPlus":"DI+","DMI-diMinus":"DI-","DMI-adx":"ADX","DMI-histogram-up":"Histogram +","DMI-histogram-down":"Histogram -","EMA-ema1":"EMA {period1}","EMA-ema2":"EMA {period2}","EMA-ema3":"EMA {period3}","EMA-ema4":"EMA {period4}","EMA-ema5":"EMA {period5}","EMA-ema6":"EMA {period6}","EMA-ema7":"EMA {period7}","EMA-ema8":"EMA {period8}","EOM-line":"Linje","EOM-fill":"Ifyllnad","ICHIMOKU-chikou":"Chikou","ICHIMOKU-kijun":"Kijun","ICHIMOKU-tenkan":"Tenkan","ICHIMOKU-spanA":"Span A","ICHIMOKU-spanB":"Span B","ICHIMOKU-cloudUp":"Moln","ICHIMOKU-cloudDown":"Moln","KDJ-stochasticK":"%K","KDJ-stochasticD":"%D","KDJ-stochasticJ":"%J","KELTNER-up":"Övre","KELTNER-middle":"MA","KELTNER-down":"Nedre","KELTNER-fill":"Ifyllnad","MACD-macd":"MACD","MACD-signal":"Signallinje","MACD-histogram-up":"Histogram +","MACD-histogram-down":"Histogram -","MOMENTUM-line":"Linje","MOMENTUM-up-lineColour":"Upp","MOMENTUM-up-fill":"Ifyllnad","MOMENTUM-down-lineColour":"Ner","MOMENTUM-down-fill":"Ifyllnad","MFI-line":"Linje","MFI-up-lineColour":"MFI > 80","MFI-up-fill":"Ifyllnad","MFI-down-lineColour":"MFI < 20","MFI-down-fill":"Ifyllnad","MVAVG-movingAverage1":"MA {period1}","MVAVG-movingAverage2":"MA {period2}","MVAVG-movingAverage3":"MA {period3}","MVAVG-movingAverage4":"MA {period4}","MVAVG-movingAverage5":"MA {period5}","MVAVG-movingAverage6":"MA {period6}","MVAVG-movingAverage7":"MA {period7}","MVAVG-movingAverage8":"MA {period8}","SAR-up":"Upp","SAR-down":"Ner","PIVOT-r3":"R3","PIVOT-r2":"R2","PIVOT-r1":"R1","PIVOT-pivot":"Pivot","PIVOT-s1":"S1","PIVOT-s2":"S2","PIVOT-s3":"S3","RCI-rankCorrelationIndex1":null,"RCI-rankCorrelationIndex2":null,"RCI-rankCorrelationIndex3":null,"RCI-rankCorrelationIndex4":null,"RCI-rankCorrelationIndex5":null,"RCI-rankCorrelationIndex6":null,"RCI-rankCorrelationIndex7":null,"RCI-rankCorrelationIndex8":null,"ROC-line":"Linje","ROC-up-lineColour":"Upp","ROC-up-fill":"Ifyllnad","ROC-down-lineColour":"Ner","ROC-down-fill":"Ifyllnad","RSI-line":"Linje","RSI-up-lineColour":"RSI >","RSI-up-fill":"Ifyllnad","RSI-down-lineColour":"RSI <","RSI-down-fill":"Ifyllnad","STDEV-line":"Linje","STDEV-fill":"Ifyllnad","STOCH-stochasticK":"%K","STOCH-stochasticD":"%D","SUPERTREND-up":"Upp","SUPERTREND-down":"Ner","VOLUME-up":"Stigande","VOLUME-fill":"Oförändrad","VOLUME-down":"Fallande","WMA-wma1":"WMA {period1}","WMA-wma2":"WMA {period2}","WMA-wma3":"WMA {period3}","WMA-wma4":"WMA {period4}","WMA-wma5":"WMA {period5}","WMA-wma6":"WMA {period6}","WMA-wma7":"WMA {period7}","WMA-wma8":"WMA {period8}","VWAP-line":"Linje","VWMA-vwma1":"VWMA {period1}","VWMA-vwma2":"VWMA {period2}","VWMA-vwma3":"VWMA {period3}","VWMA-vwma4":"VWMA {period4}","VWMA-vwma5":"VWMA {period5}","VWMA-vwma6":"VWMA {period6}","VWMA-vwma7":"VWMA {period7}","VWMA-vwma8":"VWMA {period8}","WILLR-line":"Linje","WILLR-up-lineColour":"0 - -20","WILLR-up-fill":"Ifyllnad","WILLR-down-lineColour":"-80 - -100","WILLR-down-fill":"Ifyllnad"},zh:{CONFIG:"参数",STYLE:"风格","AROON-up-line":"上升","AROON-up-cloud":"填充","AROON-down-line":"下跌","AROON-down-cloud":"填充","ATR-line":"线","ATR-fill":"填充","AWESOME-up":"上升","AWESOME-down":"下跌","BOL-positiveBand":"上限","BOL-movingAverageBand":"MA","BOL-negativeBand":"下限","BOL-fill":"填充","BBW-line":"线","BBW-fill":"填充","BOLPCTB-line":"线","BOLPCTB-up-lineColour":"%B > 1","BOLPCTB-up-fill":"填充","BOLPCTB-down-lineColour":"%B < 0","BOLPCTB-down-fill":"填充","CHAIKIN-line":"线","CHAIKIN-fill":"填充","CCI-line":"线","CCI-up-lineColour":"CCI > 100","CCI-up-fill":"填充","CCI-down-lineColour":"CCI < -100","CCI-down-fill":"填充","DERIVATIVE-line":"线","DERIVATIVE-fill":"填充","DONCHIAN-up":"上限","DONCHIAN-middle":"中间线","DONCHIAN-down":"下限","DONCHIAN-fill":"填充","DPO-line":"线","DPO-up-lineColour":"上升","DPO-up-fill":"填充","DPO-down-lineColour":"下跌","DPO-down-fill":"填充","DMI-diPlus":"DI+","DMI-diMinus":"DI-","DMI-adx":"ADX","DMI-histogram-up":"直方图 +","DMI-histogram-down":"直方图 -","EMA-ema1":"EMA {period1}","EMA-ema2":"EMA {period2}","EMA-ema3":"EMA {period3}","EMA-ema4":"EMA {period4}","EMA-ema5":"EMA {period5}","EMA-ema6":"EMA {period6}","EMA-ema7":"EMA {period7}","EMA-ema8":"EMA {period8}","EOM-line":"线","EOM-fill":"填充","ICHIMOKU-chikou":"延迟线","ICHIMOKU-kijun":"基准线","ICHIMOKU-tenkan":"转折线","ICHIMOKU-spanA":"先行上线","ICHIMOKU-spanB":"先行下线","ICHIMOKU-cloudUp":"云","ICHIMOKU-cloudDown":"云","KDJ-stochasticK":"%K","KDJ-stochasticD":"%D","KDJ-stochasticJ":"%J","KELTNER-up":"上限","KELTNER-middle":"MA","KELTNER-down":"下限","KELTNER-fill":"填充","MACD-macd":"MACD","MACD-signal":"信号线","MACD-histogram-up":"直方图 +","MACD-histogram-down":"直方图 -","MOMENTUM-line":"线","MOMENTUM-up-lineColour":"上升","MOMENTUM-up-fill":"填充","MOMENTUM-down-lineColour":"下跌","MOMENTUM-down-fill":"填充","MFI-line":"线","MFI-up-lineColour":"MFI > 80","MFI-up-fill":"填充","MFI-down-lineColour":"MFI < 20","MFI-down-fill":"填充","MVAVG-movingAverage1":"MA {period1}","MVAVG-movingAverage2":"MA {period2}","MVAVG-movingAverage3":"MA {period3}","MVAVG-movingAverage4":"MA {period4}","MVAVG-movingAverage5":"MA {period5}","MVAVG-movingAverage6":"MA {period6}","MVAVG-movingAverage7":"MA {period7}","MVAVG-movingAverage8":"MA {period8}","SAR-up":"上升","SAR-down":"下跌","PIVOT-r3":"R3","PIVOT-r2":"R2","PIVOT-r1":"R1","PIVOT-pivot":"基准","PIVOT-s1":"S1","PIVOT-s2":"S2","PIVOT-s3":"S3","RCI-rankCorrelationIndex1":null,"RCI-rankCorrelationIndex2":null,"RCI-rankCorrelationIndex3":null,"RCI-rankCorrelationIndex4":null,"RCI-rankCorrelationIndex5":null,"RCI-rankCorrelationIndex6":null,"RCI-rankCorrelationIndex7":null,"RCI-rankCorrelationIndex8":null,"ROC-line":"线","ROC-up-lineColour":"上升","ROC-up-fill":"填充","ROC-down-lineColour":"下跌","ROC-down-fill":"填充","RSI-line":"线","RSI-up-lineColour":"强弱 >","RSI-up-fill":"填充","RSI-down-lineColour":"强弱 <","RSI-down-fill":"填充","STDEV-line":"线","STDEV-fill":"填充","STOCH-stochasticK":"%K","STOCH-stochasticD":"%D","SUPERTREND-up":"上升","SUPERTREND-down":"下跌","VOLUME-up":"上升","VOLUME-fill":"不变","VOLUME-down":"下降","WMA-wma1":"WMA {period1}","WMA-wma2":"WMA {period2}","WMA-wma3":"WMA {period3}","WMA-wma4":"WMA {period4}","WMA-wma5":"WMA {period5}","WMA-wma6":"WMA {period6}","WMA-wma7":"WMA {period7}","WMA-wma8":"WMA {period8}","VWAP-line":"线","VWMA-vwma1":"VWMA {period1}","VWMA-vwma2":"VWMA {period2}","VWMA-vwma3":"VWMA {period3}","VWMA-vwma4":"VWMA {period4}","VWMA-vwma5":"VWMA {period5}","VWMA-vwma6":"VWMA {period6}","VWMA-vwma7":"VWMA {period7}","VWMA-vwma8":"VWMA {period8}","WILLR-line":"线","WILLR-up-lineColour":"0至-20","WILLR-up-fill":"填充","WILLR-down-lineColour":"-80至-100","WILLR-down-fill":"填充"},zh_TW:{CONFIG:"參數",STYLE:"風格","AROON-up-line":"上升","AROON-up-cloud":"填充","AROON-down-line":"下跌","AROON-down-cloud":"填充","ATR-line":"線","ATR-fill":"填充","AWESOME-up":"上升","AWESOME-down":"下跌","BOL-positiveBand":"上限","BOL-movingAverageBand":"移動平均值","BOL-negativeBand":"下限","BOL-fill":"填充","BBW-line":"線","BBW-fill":"填充","BOLPCTB-line":"線","BOLPCTB-up-lineColour":"%B > 1","BOLPCTB-up-fill":"填充","BOLPCTB-down-lineColour":"%B < 0","BOLPCTB-down-fill":"填充","CHAIKIN-line":"線","CHAIKIN-fill":"填充","CCI-line":"線","CCI-up-lineColour":"商品通道 > 100","CCI-up-fill":"填充","CCI-down-lineColour":"商品通道 < -100","CCI-down-fill":"填充","DERIVATIVE-line":"線","DERIVATIVE-fill":"填充","DONCHIAN-up":"上限","DONCHIAN-middle":"中間線","DONCHIAN-down":"下限","DONCHIAN-fill":"填充","DPO-line":"線","DPO-up-lineColour":"上升","DPO-up-fill":"填充","DPO-down-lineColour":"下跌","DPO-down-fill":"填充","DMI-diPlus":"動向指標+","DMI-diMinus":"動向指標-","DMI-adx":"平均動向指標","DMI-histogram-up":"柱狀圖 +","DMI-histogram-down":"柱狀圖 -","EMA-ema1":"EMA {period1}","EMA-ema2":"EMA {period2}","EMA-ema3":"EMA {period3}","EMA-ema4":"EMA {period4}","EMA-ema5":"EMA {period5}","EMA-ema6":"EMA {period6}","EMA-ema7":"EMA {period7}","EMA-ema8":"EMA {period8}","EOM-line":"線","EOM-fill":"填充","ICHIMOKU-chikou":"延遲線","ICHIMOKU-kijun":"基準線","ICHIMOKU-tenkan":"轉折線","ICHIMOKU-spanA":"先行上線","ICHIMOKU-spanB":"先行下線","ICHIMOKU-cloudUp":"雲","ICHIMOKU-cloudDown":"雲","KDJ-stochasticK":"%K","KDJ-stochasticD":"%D","KDJ-stochasticJ":"%J","KELTNER-up":"上限","KELTNER-middle":"移動平均值","KELTNER-down":"下限","KELTNER-fill":"填充","MACD-macd":"MACD","MACD-signal":"信號線","MACD-histogram-up":"柱狀圖 +","MACD-histogram-down":"柱狀圖 -","MOMENTUM-line":"線","MOMENTUM-up-lineColour":"上升","MOMENTUM-up-fill":"填充","MOMENTUM-down-lineColour":"下跌","MOMENTUM-down-fill":"填充","MFI-line":"線","MFI-up-lineColour":"MFI > 80","MFI-up-fill":"填充","MFI-down-lineColour":"MFI < 20","MFI-down-fill":"填充","MVAVG-movingAverage1":"MA {period1}","MVAVG-movingAverage2":"MA {period2}","MVAVG-movingAverage3":"MA {period3}","MVAVG-movingAverage4":"MA {period4}","MVAVG-movingAverage5":"MA {period5}","MVAVG-movingAverage6":"MA {period6}","MVAVG-movingAverage7":"MA {period7}","MVAVG-movingAverage8":"MA {period8}","SAR-up":"上升","SAR-down":"下跌","PIVOT-r3":"R3","PIVOT-r2":"R2","PIVOT-r1":"R1","PIVOT-pivot":"樞軸","PIVOT-s1":"S1","PIVOT-s2":"S2","PIVOT-s3":"S3","RCI-rankCorrelationIndex1":null,"RCI-rankCorrelationIndex2":null,"RCI-rankCorrelationIndex3":null,"RCI-rankCorrelationIndex4":null,"RCI-rankCorrelationIndex5":null,"RCI-rankCorrelationIndex6":null,"RCI-rankCorrelationIndex7":null,"RCI-rankCorrelationIndex8":null,"ROC-line":"線","ROC-up-lineColour":"上升","ROC-up-fill":"填充","ROC-down-lineColour":"下跌","ROC-down-fill":"填充","RSI-line":"線","RSI-up-lineColour":"RSI >","RSI-up-fill":"填充","RSI-down-lineColour":"RSI <","RSI-down-fill":"填充","STDEV-line":"線","STDEV-fill":"填充","STOCH-stochasticK":"%K","STOCH-stochasticD":"%D","SUPERTREND-up":"上升","SUPERTREND-down":"下跌","VOLUME-up":"上升","VOLUME-fill":"不變","VOLUME-down":"下降","WMA-wma1":"WMA {period1}","WMA-wma2":"WMA {period2}","WMA-wma3":"WMA {period3}","WMA-wma4":"WMA {period4}","WMA-wma5":"WMA {period5}","WMA-wma6":"WMA {period6}","WMA-wma7":"WMA {period7}","WMA-wma8":"WMA {period8}","VWAP-line":"線","VWMA-vwma1":"VWMA {period1}","VWMA-vwma2":"VWMA {period2}","VWMA-vwma3":"VWMA {period3}","VWMA-vwma4":"VWMA {period4}","VWMA-vwma5":"VWMA {period5}","VWMA-vwma6":"VWMA {period6}","VWMA-vwma7":"VWMA {period7}","VWMA-vwma8":"VWMA {period8}","WILLR-line":"線","WILLR-up-lineColour":"0至-20","WILLR-up-fill":"填充","WILLR-down-lineColour":"-80至-100","WILLR-down-fill":"填充"}});var y=i(63724),b=i(10094),S=i(54859),D=i(19862),w=i(96001),L=i(17099),R=s.A.extend((function(e,t,i,n,s,r){this._indicator=r,this._settings=r.getSettings(),this._inlineInputs=[],this._initialValues=(0,a.cloneDeep)(this._settings),this._initialStyles=(0,a.cloneDeep)(this._settingsManager.getColourCustomisationSettings().indicators[this._indicator.name]||{})}),D.A);R.create=function(e,t,i,n,s,r){return new R(e,t,i,n,s,r)};var P=R.prototype;P._enabled=!0,P._initialStyles=null,P._initialValues=null,P._inlineInputs=null,P._createStylingWidgets=function(e){var t=this._styles.indicators[this._indicator.name]||{};return this._generateWidgets(t,this._indicator.name,e,[],this._indicator)},P._getPrintableSettings=function(){var e,t=(0,S.shallowClone)(this._indicator.getSettings());for(e in t)(0,b.isNumber)(t[e])||(t[e]="");return t},P._inlineInputCallback=function(e,t){var i=this._indicator.getSettings();i[e]=t,this._eventBus.publish("chart/indicator/update",[this._indicator.name,i,!0])},P._createStylingWidget=function(e,t,i,n,s){var r,o,a,l,d=this._getPrintableSettings(),u=e.getSettingsConstraints(),c=t.join("."),h=e.getStylesMappingForStyle(c);return a=L.default.create(i,this._handleNewStyle.bind(this,i),this._taskManager,this._settingsManager).setCheckboxAvailable(!0),h?(o=h.setting,l=this._getComponentForConstraints(u[o],o,d[o],this._inlineInputCallback,a,!0),this._inlineInputs.push(l),a.setInlineComponent(l),r=h.showTitle?(0,w.merge)(M.get(s),d):null):r=(0,w.merge)(M.get(s),d),a.initDom(n,this._eventBus,this._captureZoneManager,this._dialog,r,t,i.isVisible,(0,w.merge)(M.get(s),d)),a},P._generateWidgets=function(e,t,i,n,s){var r,o=Object.keys(e),a=[];return e.hasOwnProperty("isVisible")?(r=this._createStylingWidget(s,n,e,i,t),a.push(r),a):(o.forEach((function(r){(0,S.isLiteral)(e[r])&&a.push.apply(a,this._generateWidgets(e[r],t+"-"+r,i,n.concat(r),s))}),this),a)},P._getComponentForConstraints=function(e,t,i,n,s,r){var o;if(e instanceof y.default.CONSTRAINT_TYPES.number)return(o=v.default.create(null,this._indicator.name,t,e,i,r)).withCaptureZoneManager(this._captureZoneManager),o.on(u.default.VALUE_CHANGED,n,this),o.on(u.default.VALUE_ADDED,s.changeCheckboxStateAndVisibility.bind(s,!0),this),o},P.resetToDefaults=function(){O.A.resetToDefaults(this._styles.indicators[this._indicator.name],["indicators",this._indicator.name],this._styles.themeSettingsMode),(0,r.invokeApply)(this._inlineInputs,"reset"),R.superclass.resetToDefaults.call(this)},P.enable=function(){return this._enabled=!0,R.superclass.enable.call(this)},P.disable=function(){return this._enabled=!1,R.superclass.disable.call(this)},P.destroy=function(){(0,r.invokeApply)(this._inlineInputs,"un",[null,this]),(0,r.invokeApply)(this._inlineInputs,"destroy"),this._eventBus.unsubscribeAll(this),R.superclass.destroy.call(this)},P.revertChanges=function(){this._styles.indicators[this._indicator.name]=this._initialStyles,this._settingsManager.putColourCustomisationSettings(this._styles,!0),Object.keys(this._initialValues).forEach((function(e){this._settings[e]=this._initialValues[e]}),this),this._eventBus.publish("chart/indicator/update",[this._indicator.name,this._settings,!0])},P.save=r.emptyChainable,P._handleNewStyle=function(e,t,i){e[t]=i,this._settingsManager.putColourCustomisationSettings(this._styles,!0)},Object.seal(P);const N=Object.seal(R);var k=i(16687),x=s.A.extend(Object.assign((function(e,t,i,n,s,r){this._indicator=r,this._settingsManager=n}),{__constructorTransform:function(e,t,i,n,s,r){return[e,t,i,s]}}),k.default);x.create=function(e,t,i,n,s,r){return new x(e,t,i,n,s,r)};var V=x.prototype;V._indicator=null,V._indicatorSettingsContents=null,V._dStackContainer=null,V._settingsSaved=!1,V.initDom=function(e){this._dStackContainer=e;var t=e.append("div").classed("content selected",!0);return x.superclass.initDom.call(this,t),this},V._createContent=function(){this._indicatorSettingsContents=this._initContentStack(this.dContainer),this._addResetToDefaultButton(this._dStackContainer),this._initialiseActionButtons(this._dStackContainer)},V._initContentStack=function(e){return[{name:"CONFIG",type:C},{name:"STYLE",type:N}].map(this._initContentItem.bind(this,e))},V._initContentItem=function(e,t){return t.type.create.call(t.type,this._dialog,this._eventBus,this._captureZoneManager,this._taskManager,this._settingsManager,this._indicator).initDom(e)},V._initialiseActionButtons=function(e){this._dButtonContainer=e.append("div").classed("actions",!0).append("div").classed("actionButtons",!0),this._createDoneButton(this._onDoneButtonPressed,o.default.get("BUTTON_APPLY")),this._createCancelButton()},V._addResetToDefaultButton=function(e){this._resetToDefaultsButton=n.default.create().initDom(e,"resetToDefault linkButton").setText(o.default.get("BUTTON_RESET_TO_DEFAULTS")).startListening(this._captureZoneManager,this._onResetButtonPressed.bind(this),h.default.DIALOG_CONTROLS)},V._onDoneButtonPressed=function(){(0,r.invokeCall)(this._indicatorSettingsContents,"save"),this._settingsSaved=!0},V._onResetButtonPressed=function(){(0,r.invokeCall)(this._indicatorSettingsContents,"resetToDefaults"),this.updateCaptureZones()},V.updateCaptureZones=function(){return this._resetToDefaultsButton.updateCaptureZone(),(0,r.invokeCall)(this._indicatorSettingsContents,"updateCaptureZones"),x.superclass.updateCaptureZones.call(this)},V.destroy=function(){this._settingsSaved||(0,r.invokeCall)(this._indicatorSettingsContents,"revertChanges"),(0,r.invokeCall)(this._indicatorSettingsContents,"destroy"),this._resetToDefaultsButton&&(this._resetToDefaultsButton.destroy(),delete this._resetToDefaultsButton),this._dFullButtonContainer&&(this._dFullButtonContainer.remove(),delete this._dFullButtonContainer),x.superclass.destroy.call(this)},Object.seal(V);const B=Object.seal(x)},62466:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>m});var n=i(43130),s=i(50951),r=i(9525),o=i(26242),a=i(59465),l=i(72873),d=i(10520),u=i(17444),c=i(6182),h=i(31388),p=i(58703);function _(e,t,i){this.name=e.name,this._eventBus=t,this._captureZoneManager=i,this.withIndicator(e)}_.create=function(e,t,i){return new _(e,t,i)};var g=_.prototype;function f(e,t,i){e.append("svg:tspan").text(i).classed("setting",!0).classed(t,!0)}g.name=null,g._captureZoneManager=null,g._dCloseIcon=null,g._dContainer=null,g._dLabelBackground=null,g._dLabelGroup=null,g._dLabelText=null,g._eventBus=null,g._indicator=null,g._position=Object.freeze({x:0,y:0}),g._removeCaptureZone=null,g._settingsCaptureZone=null,g._size=Object.freeze({width:0,height:0}),g._visible=!0,g.getPosition=(0,r.getter)("_position"),g.getSize=(0,r.getter)("_size"),g.withContainer=(0,r.setter)("_dContainer"),g.withIndicator=function(e){return this._indicator!==e&&(this._indicator&&this._indicator.un(null,this),this._indicator=e,this._indicator.on(o.default.LABEL_CHANGED,this._handleLabelChanged,this),this._indicator.on(o.default.AVAILABILITY_CHANGED,this._handleAvailabilityChanged,this)),this},g._handleAvailabilityChanged=function(){this.updateSettings(),this.resizeLabel(),this.updateCaptureZone()},g.isVisible=(0,r.getter)("_visible"),g.destroy=function(){this._settingsCaptureZone&&(this._settingsCaptureZone.destroy(),delete this._settingsCaptureZone),this._removeCaptureZone&&(this._removeCaptureZone.destroy(),delete this._removeCaptureZone),this._indicator&&(this._indicator.un(null,this),this._indicator=null),this._dLabelGroup&&(this._dLabelGroup.remove(),delete this._dLabelGroup,delete this._dLabelBackground,delete this._dLabelGroup,delete this._dLabelText)},g.initDom=function(){return this._dLabelGroup=this._dContainer.append("svg:g").classed("indicatorLabel",!0).classed(this.name,!0),this._dLabelBackground=this._dLabelGroup.append("svg:rect").classed("background",!0).attr("rx",2).attr("ry",2),this._createTextElements(),this._dCloseIcon=this._dLabelGroup.svgFromString(u).classed("closeIcon",!0).attrs({width:8,height:8}),this._initCaptureZones(),this},g.positionLabel=function(e,t){return this._position=Object.freeze({x:e,y:t}),this._dLabelGroup.attr("transform",l.default.svgTranslateAttrXY(e,t)),this},g.resizeLabel=function(){var e=this._resizeTextElements(),t=e.width+64,i=e.height+7;return this._dLabelBackground.attrs({x:4,y:5,width:t,height:i}),this._dCloseIcon.attrs({x:4+t-8-8,y:5+(i-8)/2}),this._size=Object.freeze({width:t,height:i}),this},g.updateCaptureZone=function(){return this._settingsCaptureZone.setDimensionsBasedOnElement(this._dLabelBackground),this._removeCaptureZone.setDimensionsBasedOnElement(this._dCloseIcon),this},g.updateSettings=function(){var e,t=this._indicator.isAvailable(),i=this._indicator.getSettings(),n=this._indicator.getSettingsConstraints();if(this._dLabelText.selectAll(".setting").remove(),null===t)return this;if(t)for(e in o.default.getModifiableSettings(i))this._shouldDisplayLabel(i,e)&&f(this._dLabelText,e,n[e].getTextForValue(i[e]));else f(this._dLabelText,"unavailable",this._indicator.getUnavailabilityReason());return this},g._shouldDisplayLabel=function(e,t){return!isNaN(e[t])&&this._isLabelVisible(t)},g._isLabelVisible=function(e){var t=this._indicator.getStylesMappingForSetting(e);return!t||(0,n.get)(this._indicator.getVisibilitySettings(),t.style).isVisible},g.hide=function(){this._dLabelGroup.style("visibility","hidden"),this._settingsCaptureZone.hide(),this._removeCaptureZone.hide(),this._visible=!1},g.show=function(){this._dLabelGroup.style("visibility","visible"),this._settingsCaptureZone.show(),this._removeCaptureZone.show(),this._visible=!0},g._initCaptureZones=function(){this._removeCaptureZone=this._captureZoneManager.createTapZone(this._handleRemovalTap.bind(this),d.default.INDICATOR_LABELS_CLOSE,null,s.default.BLOCK_ALL).withDefaultPadding().withCursorOnHover(c.default.POINTER),this._settingsCaptureZone=this._captureZoneManager.createTapZone(this._handleSettingsTap.bind(this),d.default.INDICATOR_LABELS_SETTINGS,0,s.default.BLOCK_ALL).withCursorOnHover(c.default.POINTER),this._settingsCaptureZone.setHoverHandler({in:this._hoverLabelHandler.bind(this,!0),out:this._hoverLabelHandler.bind(this,!1)}),this._removeCaptureZone.setHoverHandler({in:this._hoverRemoveButtonHandler.bind(this,!0),out:this._hoverRemoveButtonHandler.bind(this,!1)})},g._hoverLabelHandler=function(e){this._dLabelGroup.classed("hover",e)},g._hoverRemoveButtonHandler=function(e){this._dLabelGroup.classed("hoverButton",e)},g._handleLabelChanged=function(){this._dLabelText&&(this._dLabelText.selectAll(".title").text(a.default.get(this.name+"-"+this._indicator.shortLabelType)),this.resizeLabel())},g._createTextElements=function(){return this._dLabelText=this._dLabelGroup.append("svg:text").classed("text",!0),this._dLabelText.append("svg:tspan").classed("title",!0).text(a.default.get(this.name+"-"+this._indicator.shortLabelType)),this.updateSettings()},g._resizeTextElements=function(){var e=l.default.getBBox(this._dLabelText.node()),t=this._dLabelText.selectAll(".setting"),i=t.size(),n=e.width;return t.node()&&null===t.attr("dx")&&(n+=i*Math.round(7)),this._dLabelText.attrs({x:Math.round(10),y:Math.round(19)}),t.attr("dx",Math.round(7)),{width:n-36,height:e.height}},g._handleSettingsTap=function(){this._indicator.isAvailable()&&this._eventBus.publish("chart/indicator/show-settings",[this._indicator])},g._handleRemovalTap=function(){this._eventBus.publish("tracker/ga",[{interaction_type:p.GA_ACTION.INDICATORS+" - remove",interaction_value:p.EventOrigin.SUBJECT,chart_indicator:(0,h.u8)(this._indicator.name).toLowerCase()}]),this._eventBus.publish("chart/indicator/remove",[this._indicator.name,!0])},Object.seal(g);const m=Object.seal(_)},32233:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>d});var n=i(81009),s=i(12990),r=i(59465),o=i(74893),a=s.A.extend((function(){}),n.default),l=a.prototype;l.isAvailable=function(){return this._resolution!==o.default.values.TICK},l.getUnavailabilityReason=function(){return this.isAvailable()?null:r.default.get("notAvailableInTick")},Object.seal(l);const d=Object.seal(a)},64617:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>d});var n=i(81009),s=i(12990),r=i(59465),o=i(9525),a=s.A.extend((function(){}),n.default),l=a.prototype;l._volumePresent=null,l.initialise=function(){return a.superclass.initialise.call(this),this._eventBus.subscribe("chart/instrument/info",this._handleInstrumentInfoLoaded,this),this},l.isAvailable=(0,o.getter)("_volumePresent"),l.getUnavailabilityReason=function(){return this.isAvailable()?null:r.default.get("volumeNotAvailable")},l._handleInstrumentInfoLoaded=function(e){this._volumePresent!==e.volumePresent&&(this._volumePresent=e.volumePresent,this.updateAvailability())},Object.seal(l);const d=Object.seal(a)},83614:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>l});var n=i(95055),s=i(26538),r=i(90309);function o(){this._aroonDownCalculator=new n.default,this._aroonUpCalculator=new s.default}var a=o.prototype;a._aroonDownCalculator=null,a._aroonUpCalculator=null,a.calculatePoints=function(e,t){var i=this._aroonUpCalculator.calculatePoints(e,t),n=this._aroonDownCalculator.calculatePoints(e,t);return this._convertToCloudPoints(i,n)},a._convertToCloudPoints=function(e,t){var i,n,s=[];for(n=0;n<e.length;n++)i=new r.A(e[n].timestamp,e[n].value,t[n].value),s.push(i);return s},Object.seal(a);const l=Object.seal(o)},95055:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>d});var n=i(43130),s=i(7780),r=i(12990),o=i(17070),a=r.A.extend((function(){}),s.A),l=a.prototype;l._checkAndUpdatePoint=function(e,t,i){var n=e instanceof o.default?e.lowPrice:e.value;return t.value>=n?{index:i,value:n}:t},l._resetLastSignificantPoint=(0,n.constant)({index:0,value:Number.MAX_VALUE}),Object.seal(l);const d=Object.seal(a)},26538:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>d});var n=i(43130),s=i(7780),r=i(12990),o=i(17070),a=r.A.extend((function(){}),s.A),l=a.prototype;l._checkAndUpdatePoint=function(e,t,i){var n=e instanceof o.default?e.highPrice:e.value;return t.value<=n?{index:i,value:n}:t},l._resetLastSignificantPoint=(0,n.constant)({index:0,value:Number.MIN_VALUE}),Object.seal(l);const d=Object.seal(a)},88237:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>u});var n=i(46431),s=i(59659),r=i(58644),o=i(90586),a=i(34296);function l(){var e=new r.A.CalculatorValidationHelper,t=n.default.create(),i=new s.A.point.DXCalculator(e);this._minusDirectionalIndexCalculator=new o.default,this._plusDirectionalIndexCalculator=new a.default,this._adxCalculator=new s.A.series.dmi.AverageDirectionalMovementIndexCalculator(l.DEFAULT_PERIOD,t,i)}l.DEFAULT_PERIOD=14;var d=l.prototype;d._adxCalculator=null,d._minusDirectionalIndexCalculator=null,d._plusDirectionalIndexCalculator=null,d.calculatePoints=function(e,t,i,n){var s=this._minusDirectionalIndexCalculator.calculatePoints(e,t,void 0,n),r=this._plusDirectionalIndexCalculator.calculatePoints(e,t,void 0,n);return this._adxCalculator.period=t.period,this._adxCalculator.calculatePoints(s,r,n)},Object.seal(d);const u=l},48614:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>p});var n=i(10094),s=i(12990),r=i(17070),o=i(59881),a=s.A.extend((function(){}),o.default);a.create=function(){return new a};var l=a.prototype;l._getPrice=function(e){return e instanceof r.default?(e.highPrice+e.lowPrice)/2:e.value},Object.seal(l);const d=Object.seal(a);var u=i(14443);function c(){this._shortMovingAverageCalculator=d.create(),this._longMovingAverageCalculator=d.create()}var h=c.prototype;h._shortMovingAverageCalculator=null,h._longMovingAverageCalculator=null,h.calculatePoints=function(e,t){var i,s,r,o,a=[];if(!e||!(0,n.isNumber)(t.shortPeriod)||!(0,n.isNumber)(t.longPeriod))return a;for(s=this._shortMovingAverageCalculator.calculatePoints(e,{period:t.shortPeriod}),r=this._longMovingAverageCalculator.calculatePoints(e,{period:t.longPeriod}),i=Math.min(s.length,r.length),s=s.slice(-i),r=r.slice(-i),a=s.concat(),o=0;o<i;o++)a[o].value=s[o].value-r[o].value;return a.map(u.default.createFromDataPointUsingPreviousValue)},Object.seal(h);const p=Object.seal(c)},7780:(e,t,i)=>{"use strict";i.d(t,{A:()=>a});var n=i(84228),s=i(81141);function r(){}var o=r.prototype;o.calculatePoints=function(e,t){e=e||[];var i,s,r,o=[],a=t.period-1,l=e.length,d=0;if(!t.period||e.length<t.period)return o;for(s=this._resetLastSignificantPoint(),r=0;r<l;r++)d=r-a,s=this._checkAndUpdatePoint(e[r],s,r),d>=0&&(i=(a-(r-s.index))/a*100,o.push(new n.default(e[r].timestamp,i)),d===s.index&&(s=this._findAndUpdateNextSignificantPoint(e,d+1,d+a)));return o},o._findAndUpdateNextSignificantPoint=function(e,t,i){var n,s=this._resetLastSignificantPoint();for(n=t;n<=i;n++)s=this._checkAndUpdatePoint(e[n],s,n);return s},o._checkAndUpdatePoint=s.A.abstractMethod,o._resetLastSignificantPoint=s.A.abstractMethod,Object.seal(o);const a=Object.seal(r)},92243:(e,t,i)=>{"use strict";i.d(t,{A:()=>l});var n=i(81141),s=i(59881),r=i(84958);function o(){this._movingAverageCalculator=s.default.create(),this._standardDeviationCalculator=r.default.create()}var a=o.prototype;a._movingAverageCalculator=null,a._standardDeviationCalculator=null,a.calculatePoints=function(e,t){e=e||[];var i,n,s,r,o,a,l=[];if(!t.period||e.length<t.period)return l;if(i=this._movingAverageCalculator.calculatePoints(e,t),(n=this._standardDeviationCalculator.calculatePoints(e,t)).length!==i.length)throw new Error("The # of standard deviation points("+n.length+") must be the same as the # of moving average points("+i.length+")");for(a=0;a<n.length;a++)r=n[a],s=i[a],o=this._calculatePoint(s,r,t.standardDeviation),l.push(o);return l},a._calculatePoint=n.A.abstractMethod,Object.seal(a);const l=Object.seal(o)},9933:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>l});var n=i(92243),s=i(12990),r=i(90309),o=s.A.extend((function(){}),n.A),a=o.prototype;a._calculatePoint=function(e,t,i){var n=e.value-i*t.value,s=e.value+i*t.value;return new r.A(t.timestamp,s,n)},Object.seal(a);const l=Object.seal(o)},39115:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>l});var n=i(92243),s=i(12990),r=i(84228),o=s.A.extend((function(){}),n.A);o.create=function(){return new o};var a=o.prototype;a._calculatePoint=function(e,t,i){var n=e.value-i*t.value;return new r.default(t.timestamp,n)},Object.seal(a);const l=Object.seal(o)},61299:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>l});var n=i(92243),s=i(12990),r=i(84228),o=s.A.extend((function(){}),n.A);o.create=function(){return new o};var a=o.prototype;a._calculatePoint=function(e,t,i){var n=e.value+i*t.value;return new r.default(t.timestamp,n)},Object.seal(a);const l=Object.seal(o)},99528:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>o});var n=i(84228);function s(){}var r=s.prototype;r.calculatePoints=function(e,t){var i,s,r=0,o=e[r],a=o.highPrice-o.lowPrice,l=a,d=2/(t.emaPeriod+1),u=[],c=[];for(r=1;r<t.emaPeriod;r++)l+=d*((a=(o=e[r]).highPrice-o.lowPrice)-l);for(r=t.emaPeriod,this.addEMAValue(l,t.pastPeriod,c);r<e.length;r++)l+=d*((a=(o=e[r]).highPrice-o.lowPrice)-l),this.addEMAValue(l,t.pastPeriod,c),r>=t.emaPeriod+t.pastPeriod-1&&(s=0!==(i=c[0])?100*(l-i)/i:0,u.push(new n.default(e[r].timestamp,s,e[r].volume)));return u},s.prototype.addEMAValue=function(e,t,i){i.push(e),i.length>t+1&&i.shift()},Object.seal(r);const o=Object.seal(s)},76407:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>l});var n=i(12990),s=i(84228),r=i(43451),o=n.A.extend((function(){}),r.A),a=o.prototype;a._calculate=function(e){return e.map(s.default.fromOtherPoint)},a._calculateDisplacement=function(e,t){return-t.longPeriod},Object.seal(a);const l=o},86236:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>u});var n=i(19202),s=i(90586),r=i(34296),o=i(9784),a=i(14443);function l(){this._minusDirectionalIndexCalculator=s.default.create(),this._plusDirectionalIndexCalculator=r.default.create(),this._spreadCalculator=o.default.create()}var d=l.prototype;d._minusDirectionalIndexCalculator=null,d._plusDirectionalIndexCalculator=null,d._spreadCalculator=null,d.calculatePoints=function(e,t,i,s){if(t.style!==n.default.HISTOGRAM)return[];var r={period:t.period},o=this._minusDirectionalIndexCalculator.calculatePoints(e,r,void 0,s),l=this._plusDirectionalIndexCalculator.calculatePoints(e,r,void 0,s);return this._spreadCalculator.calculatePoints(o,l).map(a.default.createFromDataPoint)},Object.seal(d);const u=Object.seal(l)},88183:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>l});var n=i(90309),s=i(92826),r=i(34274);function o(){this._highestHighCalculator=s.default.create(),this._lowestLowCalculator=r.default.create()}var a=o.prototype;a._highestHighCalculator=null,a._lowestLowCalculator=null,a.calculatePoints=function(e,t){var i=this._highestHighCalculator.calculatePoints(e,t),n=this._lowestLowCalculator.calculatePoints(e,t);return this._convertToCloudPoints(i,n)},a._convertToCloudPoints=function(e,t){var i,s,r=[];for(s=0;s<e.length;s++)i=new n.A(e[s].timestamp,e[s].value,t[s].value),r.push(i);return r},Object.seal(a);const l=o},81083:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>l});var n=i(84228),s=i(92826),r=i(34274);function o(){this._donchianDownCalculator=r.default.create(),this._donchianUpCalculator=s.default.create()}o.create=function(){return new o};var a=o.prototype;a._donchianUpCalculator=null,a._donchianDownCalculator=null,a.calculatePoints=function(e,t){var i,n;return e.length<t.period?[]:(i=this._donchianDownCalculator.calculatePoints(e,t),n=this._donchianUpCalculator.calculatePoints(e,t),this._calculateMidPoints(i,n))},a._calculateMidPoints=function(e,t){var i,s=[];for(i=0;i<e.length;i++)s.push(new n.default(e[i].timestamp,(e[i].value+t[i].value)/2));return s},Object.seal(a);const l=o},41976:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>p});var n=i(43130),s=i(12990),r=i(59881),o=i(43451),a=s.A.extend((function(){this._movingAverageCalculator=new r.default}),o.A),l=a.prototype;l._movingAverageCalculator=null,l._calculate=function(e,t){return this._movingAverageCalculator.calculatePoints(e,t)},l._calculateDisplacement=function(e,t){return Math.floor(t.period/2)+1},Object.seal(l);const d=Object.seal(a);var u=i(14443),c=s.A.extend((function(){this._dpoMovingAverageCalculator=new d}),o.A),h=c.prototype;h._dpoMovingAverageCalculator=null,h.withDisplacementIterator=function(e){return this._dpoMovingAverageCalculator.withDisplacementIterator(e),this},h.withConsolidationTimezoneOffset=function(e){return this._dpoMovingAverageCalculator.withConsolidationTimezoneOffset(e),this},h._calculate=function(e,t,i){for(var n,s,r,o=this._dpoMovingAverageCalculator.calculatePoints(e,t,i),a=[],l=0,d=0;l<e.length&&d<o.length;)0===(n=e[l].timestamp-o[d].timestamp)?(s=e[l].value-o[d].value,r=new u.default(e[l].timestamp,s,e[l].volume,s>0),a.push(r),l++,d++):n>0?d++:n<0&&l++;return a},h._calculateDisplacement=(0,n.constant)(0),Object.seal(h);const p=Object.seal(c)},92826:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>a});var n=i(84228),s=i(9525);function r(){}r.create=function(){return new r};var o=r.prototype;o.calculatePoints=function(e,t){var i,r,o,a,l=[];if(e.length<t.period)return l;for(i=0;i+t.period+1<=e.length;i++)o=i+t.period,r=e.slice(i,i+t.period).map((0,s.plucker)("highPrice")),a=Math.max.apply(this,r),l.push(new n.default(e[o].timestamp,a));return l},Object.seal(o);const a=r},88862:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>h});var n=i(84228),s=i(12990),r=i(59881),o=s.A.extend((function(){}),r.default);o.create=function(){return new o};var a=o.prototype;a._getPrice=function(e){return e.highPrice-e.lowPrice},Object.seal(a);const l=Object.seal(o);var d=i(13792);function u(){this._typicalMovingAverageCalculator=d.default.create(),this._highLowMovingAverageCalculator=l.create()}u.create=function(){return new u};var c=u.prototype;c._typicalMovingAverageCalculator=null,c._highLowMovingAverageCalculator=null,c.calculatePoints=function(e,t){var i,s,r,o=this._typicalMovingAverageCalculator.calculatePoints(e,t),a=this._highLowMovingAverageCalculator.calculatePoints(e,t),l=[];for(r=0;r<o.length;r++)i=o[r],s=a[r],l.push(new n.default(i.timestamp,i.value+t.multiplier*s.value));return l},Object.seal(c);const h=u},76304:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>a});var n=i(90309),s=i(88862);function r(){this._keltnerBandCalculator=s.default.create()}var o=r.prototype;o._keltnerBandCalculator=null,o.calculatePoints=function(e,t){var i=this._keltnerBandCalculator.calculatePoints(e,{period:t.period,multiplier:-t.multiplier}),n=this._keltnerBandCalculator.calculatePoints(e,{period:t.period,multiplier:t.multiplier});return this._convertToCloudPoints(n,i)},o._convertToCloudPoints=function(e,t){var i,s,r=[];for(s=0;s<e.length;s++)i=new n.A(e[s].timestamp,e[s].value,t[s].value),r.push(i);return r},Object.seal(o);const a=Object.seal(r)},1544:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>c});var n=i(12990),s=i(43130),r=i(90309),o=i(69344),a=i(80449),l=i(43451),d=n.A.extend((function(){this._senkouSpanACalculator=new o.default,this._senkouSpanBCalculator=new a.default}),l.A),u=d.prototype;u._senkouSpanACalculator=null,u._senkouSpanBCalculator=null,u.withDisplacementIterator=function(e){return this._senkouSpanACalculator.withDisplacementIterator(e),this._senkouSpanBCalculator.withDisplacementIterator(e),this},u.withConsolidationTimezoneOffset=function(e){return this._senkouSpanACalculator.withConsolidationTimezoneOffset(e),this._senkouSpanBCalculator.withConsolidationTimezoneOffset(e),this},u._calculate=function(e,t,i){for(var n,s,o=this._senkouSpanACalculator.calculatePoints(e,t,i),a=this._senkouSpanBCalculator.calculatePoints(e,t,i),l=[],d=0,u=0;d<o.length&&u<a.length;)0===(s=o[d].timestamp-a[u].timestamp)?(n=new r.A(o[d].timestamp,o[d].value,a[u].value),d++,u++):s>0?(l.length&&(n=new r.A(a[u].timestamp,null,a[u].value)),u++):s<0&&(l.length&&(n=new r.A(o[d].timestamp,o[d].value,null)),d++),n&&l.push(n);return l},u._calculateDisplacement=(0,s.constant)(0),Object.seal(u);const c=d},34274:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>a});var n=i(84228),s=i(9525);function r(){}r.create=function(){return new r};var o=r.prototype;o.calculatePoints=function(e,t){var i,r,o,a,l=[];if(e.length<t.period)return l;for(i=0;i+t.period+1<=e.length;i++)o=i+t.period,r=e.slice(i,i+t.period).map((0,s.plucker)("lowPrice")),a=Math.min.apply(this,r),l.push(new n.default(e[o].timestamp,a));return l},Object.seal(o);const a=r},90586:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>d});var n=i(59659),s=i(58644),r=i(19202),o=i(54859);function a(){var e=new s.A.CalculatorValidationHelper,t=new n.A.series.dmi.DirectionalMovementMovingAverageCalculator,i=new n.A.point.pricemovement.TrueRangePriceMovementCalculator(e),r=new n.A.point.pricemovement.DownwardPriceMovementCalculator(e),o=new n.A.series.dmi.DirectionalMovementIndexMovingAverageCalculator(a.DEFAULT_PERIOD,t,i),l=new n.A.series.dmi.DirectionalMovementIndexMovingAverageCalculator(a.DEFAULT_PERIOD,t,r);this._calculator=new n.A.series.dmi.DirectionalMovementIndexCalculator(a.DEFAULT_PERIOD,l,o,e)}a.DEFAULT_PERIOD=14,a.create=function(){return new a};var l=a.prototype;l._calculator=null,l.calculatePoints=function(e,t,i,n){return(0,o.isDefined)(t.style)&&t.style!==r.default.LINE?[]:(this._calculator.period=t.period,this._calculator.calculatePoints(e,n))},Object.seal(l);const d=a},77356:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>l});var n=i(43130),s=i(84228),r=i(17070);function o(){}var a=o.prototype;a.calculatePoints=function(e,t){e=e||[];var i,r,o,a,l=[],d=t.period-1,u=0,c=0,h=0,p=0;if(!t.period||e.length<t.period)return l;for(i=(0,n.times)(d,(0,n.constant)(0)),r=(0,n.times)(d,(0,n.constant)(null)),a=0;a<e.length;a++){var _,g;if(o=e[a],_=(g=this._getTypicalPrice(o))*o.volume,a>0){var f=g>h;if(f?u+=_:c+=_,a>=d){var m,v=i[p];r[p]?u-=v:c-=v,m=0===c?100:Math.max(0,100-100/(1+u/c)),l.push(new s.default(o.timestamp,m))}i[p]=_,r[p]=f,++p===d&&(p=0)}h=g}return l},a._getTypicalPrice=function(e){var t,i,n;return e instanceof r.default?(t=e.closePrice,i=e.highPrice,n=e.lowPrice):t=i=n=e.value,(i+n+t)/3},Object.seal(a);const l=Object.seal(o)},22271:(e,t,i)=>{"use strict";i.d(t,{A:()=>a});var n=i(81141),s=i(53923);function r(){}var o=r.prototype;o.calculateNewValue=n.A.abstractMethod,o.calculatePoints=function(e,t){var i,n,s,r=[],o=e[0],a=e[0];for(i=1;i<e.length;i++)a=e[i],n=this._getPivotValueByFormula(t.formula,o.highPrice,o.lowPrice,a.openPrice,o.closePrice),s=this.calculateNewValue(n,a,o),r.push(s),o=a;return r},o._getPivotValueByFormula=function(e,t,i,n,r){var o;return(e=e||s.default.HLC)===s.default.HLC?o=(t+i+r)/3:e===s.default.HLOC?o=(t+i+r+n)/4:e===s.default.HLO&&(o=(t+i+n)/3),o},Object.seal(o);const a=Object.seal(r)},5956:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>l});var n=i(12990),s=i(84228),r=i(22271),o=n.A.extend((function(){}),r.A),a=o.prototype;a.calculateNewValue=function(e,t,i){return new s.default(t.timestamp,e,t.volume)},Object.seal(a);const l=Object.seal(o)},20475:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>l});var n=i(12990),s=i(84228),r=i(22271),o=n.A.extend((function(){}),r.A),a=o.prototype;a.calculateNewValue=function(e,t,i){return new s.default(t.timestamp,e+(e-i.lowPrice),t.volume)},Object.seal(a);const l=Object.seal(o)},3054:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>l});var n=i(12990),s=i(84228),r=i(22271),o=n.A.extend((function(){}),r.A),a=o.prototype;a.calculateNewValue=function(e,t,i){return new s.default(t.timestamp,e+(i.highPrice-i.lowPrice),t.volume)},Object.seal(a);const l=Object.seal(o)},29997:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>l});var n=i(12990),s=i(84228),r=i(22271),o=n.A.extend((function(){}),r.A),a=o.prototype;a.calculateNewValue=function(e,t,i){return new s.default(t.timestamp,i.highPrice+2*(e-i.lowPrice),t.volume)},Object.seal(a);const l=Object.seal(o)},12162:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>l});var n=i(12990),s=i(84228),r=i(22271),o=n.A.extend((function(){}),r.A),a=o.prototype;a.calculateNewValue=function(e,t,i){return new s.default(t.timestamp,e-(i.highPrice-e),t.volume)},Object.seal(a);const l=Object.seal(o)},12927:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>l});var n=i(12990),s=i(84228),r=i(22271),o=n.A.extend((function(){}),r.A),a=o.prototype;a.calculateNewValue=function(e,t,i){return new s.default(t.timestamp,e-(i.highPrice-i.lowPrice),t.volume)},Object.seal(a);const l=Object.seal(o)},87536:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>l});var n=i(12990),s=i(84228),r=i(22271),o=n.A.extend((function(){}),r.A),a=o.prototype;a.calculateNewValue=function(e,t,i){return new s.default(t.timestamp,i.lowPrice-2*(i.highPrice-e),t.volume)},Object.seal(a);const l=Object.seal(o)},34296:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>d});var n=i(59659),s=i(58644),r=i(19202),o=i(54859);function a(){var e=new s.A.CalculatorValidationHelper,t=new n.A.series.dmi.DirectionalMovementMovingAverageCalculator,i=new n.A.point.pricemovement.TrueRangePriceMovementCalculator(e),r=new n.A.point.pricemovement.UpwardPriceMovementCalculator(e),o=new n.A.series.dmi.DirectionalMovementIndexMovingAverageCalculator(a.DEFAULT_PERIOD,t,i),l=new n.A.series.dmi.DirectionalMovementIndexMovingAverageCalculator(a.DEFAULT_PERIOD,t,r);this._calculator=new n.A.series.dmi.DirectionalMovementIndexCalculator(a.DEFAULT_PERIOD,l,o,e)}a.DEFAULT_PERIOD=14,a.create=function(){return new a};var l=a.prototype;l._calculator=null,l.calculatePoints=function(e,t,i,n){return(0,o.isDefined)(t.style)&&t.style!==r.default.LINE?[]:(this._calculator.period=t.period,this._calculator.calculatePoints(e,n))},Object.seal(l);const d=Object.seal(a)},85219:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>o});var n=i(14443);function s(){}var r=s.prototype;r.calculatePoints=function(e,t){var i,s,r,o=[];if(e.length<t.period)return o;for(r=t.period;r<e.length;r++)s=100*(e[r].value-(i=e[r-t.period].value))/i,o.push(new n.default(e[r].timestamp,s,e[r].volume,s>0));return o},Object.seal(r);const o=Object.seal(s)},69344:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>u});var n=i(59659),s=i(12990),r=i(84228),o=i(91063),a=i(43451),l=s.A.extend((function(){this._senkouSpanACalculator=new n.A.series.SenkouSpanACalculator,this._highestHighLowestLowMidPointCalculator=new o.default}),a.A),d=l.prototype;d._senkouSpanACalculator=null,d._highestHighLowestLowMidPointCalculator=null,d._calculate=function(e,t){var i=this._highestHighLowestLowMidPointCalculator.calculatePoints(e,{period:t.shortPeriod}),n=this._highestHighLowestLowMidPointCalculator.calculatePoints(e,{period:t.longPeriod});return this._senkouSpanACalculator.calculatePoints(i,n).map(r.default.fromOtherPoint)},d._calculateDisplacement=function(e,t){return t.longPeriod},Object.seal(d);const u=l},80449:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>d});var n=i(12990),s=i(84228),r=i(91063),o=i(43451),a=n.A.extend((function(){this._highestHighLowestLowMidPointCalculator=new r.default}),o.A),l=a.prototype;l._highestHighLowestLowMidPointCalculator=null,l._calculate=function(e,t){return this._highestHighLowestLowMidPointCalculator.calculatePoints(e,{period:t.signalPeriod}).map(s.default.fromOtherPoint)},l._calculateDisplacement=function(e,t){return t.longPeriod},Object.seal(l);const d=a},59881:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>l});var n=i(43130),s=i(84228),r=i(10094);function o(){}o.create=function(){return new o};var a=o.prototype;a.calculatePoints=function(e,t){var i,o,a,l,d,u=[];if(e.length<t.period)return u;for(d=0;d+t.period<=e.length;d++)l=d+t.period-1,o=e.slice(d,d+t.period),a=(0,n.map)(o,this._getPrice),i=(0,r.mean)(a),u.push(new s.default(e[l].timestamp,i));return u},a._getPrice=function(e){return e.value},Object.seal(a);const l=Object.seal(o)},84958:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>o});var n=i(84228);function s(){}s.create=function(){return new s};var r=s.prototype;r.calculatePoints=function(e,t){e=e||[];var i,s,r,o=[],a=0,l=0,d=0,u=0,c=0,h=0;if(!t.period||e.length<t.period)return o;for(r=0;r<e.length;r++){if(r>=t.period)s=e[r],i=e[r-t.period],s=e[r],a=d-i.value+s.value,l=u-i.value*i.value+s.value*s.value;else{for(;r<t.period;r++)(s=e[r])&&(a+=s.value,l+=s.value*s.value);r--}c=Math.max((l-a*a/t.period)/(t.period-1),0),h=Math.sqrt(c),o.push(new n.default(s.timestamp,h)),d=a,u=l}return o},Object.seal(r);const o=Object.seal(s)},13792:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>l});var n=i(12990),s=i(17070),r=i(59881),o=n.A.extend((function(){}),r.default);o.create=function(){return new o};var a=o.prototype;a._getPrice=function(e){return e instanceof s.default?(e.highPrice+e.lowPrice+e.closePrice)/3:e.value},Object.seal(a);const l=Object.seal(o)},64470:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>a});var n=i(26363),s=i(14443);function r(){}var o=r.prototype;o.calculatePoints=function(e){return e.map(this._mapToVolume)},o._mapToVolume=function(e){var t;switch(e.direction){case n.default.UP:t=!0;break;case n.default.DOWN:t=!1;break;default:t=null}return new s.default(e.timestamp,e.volume,e.volume,t)},Object.seal(o);const a=r},11998:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>a});var n=i(43130),s=i(84228);function r(){}r.create=function(){return new r};var o=r.prototype;o.calculatePoints=function(e,t){var i,r,o,a,l,d,u=[];if(e.length<t.period)return u;for(d=0;d+t.period<=e.length;d++)a=d+t.period-1,r=e.slice(d,d+t.period),o=(0,n.map)(r,this._getPrice),l=(0,n.map)(r,this._getWeight),i=this._getAverage(l,o),isNaN(i)||u.push(new s.default(e[a].timestamp,i));return u},o._getAverage=function(e,t){var i,n=0,s=0;for(i=0;i<t.length;i++)s+=e[i],n+=t[i];return n/s},o._getPrice=function(e){return e.value*e.volume},o._getWeight=function(e){return e.volume},Object.seal(o);const a=Object.seal(r)},94856:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>a});var n=i(43130),s=i(84228);function r(){}var o=r.prototype;o.calculatePoints=function(e,t){var i,r,o,a,l,d=[];if(e.length<t.period)return d;for(l=0;l+t.period<=e.length;l++)a=l+t.period-1,r=e.slice(l,l+t.period),o=(0,n.map)(r,this._getPrice),i=this._getAverage(o,t.period),d.push(new s.default(e[a].timestamp,i));return d},o._getAverage=function(e,t){var i,n=0,s=t*(t+1)/2,r=1;for(i=0;i<e.length;i++)n+=e[i]*r/s,r++;return n},o._getPrice=function(e){return e.value},Object.seal(o);const a=Object.seal(r)},48950:(e,t,i)=>{"use strict";function n(){}i.r(t),i.d(t,{default:()=>s}),n.resolveDynamicProperties=function(e,t){return e.map((function(e){return"string"==typeof e?{name:e,value:t.getSettings()[e]}:{name:e,value:e}}))};const s=Object.seal(n)},59465:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>n});const n=new(i(95151).default)({de:{indicatorsDisabled:"Anzeigen",notAvailableInTick:"Indikator nicht als Tick-Intervall verfügbar",notAvailableIntraday:"Indikator nur unter Intervall „Täglich“ verfügbar",volumeNotAvailable:"Volumen für diesen Markt nicht verfügbar",MVAVG:"Moving Average","MVAVG-short":"MA","MVAVG-period1":"MA für 1","MVAVG-period2":"MA für 2","MVAVG-period3":"MA für 3","MVAVG-period4":"MA für 4","MVAVG-period5":"MA für 5","MVAVG-period6":"MA für 6","MVAVG-period7":"MA für 7","MVAVG-period8":"MA für 8","MVAVG-movingAverage1":"MA({period1})","MVAVG-movingAverage2":"MA({period2})","MVAVG-movingAverage3":"MA({period3})","MVAVG-movingAverage4":"MA({period4})","MVAVG-movingAverage5":"MA({period5})","MVAVG-movingAverage6":"MA({period6})","MVAVG-movingAverage7":"MA({period7})","MVAVG-movingAverage8":"MA({period8})",EMA:"Exponential Moving Average","EMA-short":"EMA","EMA-period1":"EMA für 1","EMA-period2":"EMA für 2","EMA-period3":"EMA für 3","EMA-period4":"EMA für 4","EMA-period5":"EMA für 5","EMA-period6":"EMA für 6","EMA-period7":"EMA für 7","EMA-period8":"EMA für 8","EMA-exponentialMovingAverage1":"EMA({period1})","EMA-exponentialMovingAverage2":"EMA({period2})","EMA-exponentialMovingAverage3":"EMA({period3})","EMA-exponentialMovingAverage4":"EMA({period4})","EMA-exponentialMovingAverage5":"EMA({period5})","EMA-exponentialMovingAverage6":"EMA({period6})","EMA-exponentialMovingAverage7":"EMA({period7})","EMA-exponentialMovingAverage8":"EMA({period8})",EOM:"Ease of Movement-Indikator","EOM-short":"EOM","EOM-period":"Periode","EOM-divisor":"Divisor","EOM-easeofMovement":"EOM",RCI:null,"RCI-short":null,"RCI-oversold":"Überverkauftes Level","RCI-overbought":"Überkauftes Level","RCI-price":"Preis","RCI-close":"Schluss","RCI-high":"Hoch","RCI-low":"Tief","RCI-open":"Eröffnung","RCI-period1":"RCI für 1","RCI-period2":"RCI für 2","RCI-period3":"RCI für 3","RCI-period4":"RCI für 4","RCI-period5":"RCI für 5","RCI-period6":"RCI für 6","RCI-period7":"RCI für 7","RCI-period8":"RCI für 8","RCI-rankCorrelationIndex1":null,"RCI-rankCorrelationIndex2":null,"RCI-rankCorrelationIndex3":null,"RCI-rankCorrelationIndex4":null,"RCI-rankCorrelationIndex5":null,"RCI-rankCorrelationIndex6":null,"RCI-rankCorrelationIndex7":null,"RCI-rankCorrelationIndex8":null,RSI:"RSI","RSI-short":"RSI","RSI-period":"Periode","RSI-relativeStrengthIndex":"RSI",SAR:"Parabolic SAR","SAR-short":"SAR","SAR-initialAcceleration":"Einstiegs-Beschleuning","SAR-accelerationStep":"Beschleunigungsstufe","SAR-accelerationLimit":"Beschleunigungslimit","SAR-parabolicSar":"SAR",BOL:"Bollinger Band","BOL-short":"Boll","BOL-period":"Periode","BOL-standardDeviation":"Standardabweichung","BOL-bollingerPositiveBand":"Bollinger+","BOL-bollingerNegativeBand":"Bollinger-","BOL-bollingerMovingAverageBand":"MA",BBW:"Bollinger-Bandbreite","BBW-bolBandwidth":"Bandbreite","BBW-short":"BBW","BBW-period":"Periode","BBW-standardDeviation":"Standardabweichung",BOLPCTB:"Bollinger %B","BOLPCTB-bolPctB":"%B","BOLPCTB-short":"BB %B","BOLPCTB-period":"Periode","BOLPCTB-standardDeviation":"Standardabweichung",MACD:"MACD","MACD-short":"MACD","MACD-slowEmaPeriod":"Slow EMA Periode","MACD-fastEmaPeriod":"Fast EMA Periode","MACD-signalEmaPeriod":"Signallinie Periode","MACD-macd":"MACD","MACD-macdHistogram":"MACD Histogramm","MACD-macdSignal":"Signallinie",MFI:"Money Flow Index","MFI-short":"MFI","MFI-period":"Periode","MFI-moneyFlowIndex":"MFI({period})",STOCH:"Stochastik","STOCH-short":"Stoch","STOCH-periodK":"%K Perioden","STOCH-slowing":"Slowing Perioden","STOCH-periodD":"%D Perioden","STOCH-stochasticK":"%K","STOCH-stochasticD":"%D","STOCH-oversold":"Überverkauftes Level","STOCH-overbought":"Überkauftes Level",VOLUME:"Volume","VOLUME-short":"Volume","VOLUME-volume":"Volume","VOLUME-tick":"Volumen auf Tick-Basis",STDEV:"Standard-Abweichung","STDEV-short":"SA","STDEV-period":"Periode","STDEV-standardDeviation":"SA({period})",WILLR:"Williams %R","WILLR-short":"W%R","WILLR-period":"Periode","WILLR-williamsPercentR":"W%R({period})",MOMENTUM:"Momentum","MOMENTUM-short":"Momntm","MOMENTUM-period":"Periode","MOMENTUM-momentum":"M({period})",ICHIMOKU:"Ichimoku","ICHIMOKU-short":"Ichi","ICHIMOKU-ichimoku":"Ichimoku","ICHIMOKU-shortPeriod":"Short Periode","ICHIMOKU-longPeriod":"Long Periode","ICHIMOKU-signalPeriod":"Signal Periode","ICHIMOKU-tenkan":"Tenkan({shortPeriod})","ICHIMOKU-kijun":"Kijun({longPeriod})","ICHIMOKU-spana":"Span A({longPeriod})","ICHIMOKU-spanb":"Span B({signalPeriod})","ICHIMOKU-chikou":"Chikou({longPeriod})",AWESOME:"Awesome Oszillator","AWESOME-short":"Awsm","AWESOME-shortPeriod":"Short Periode","AWESOME-longPeriod":"Long Periode","AWESOME-awesome":"Awesome",ATR:"Average True Range","ATR-short":"ATR","ATR-averageTrueRange":"ATR({period})","ATR-period":"Periode",CCI:"Commodity Channel Index","CCI-short":"CCI","CCI-period":"Periode","CCI-cci":"CCI({period})",AROON:"Aroon","AROON-short":"Aroon","AROON-period":"Periode","AROON-aroonUp":"Aroon+({period})","AROON-aroonDown":"Aroon-({period})",KDJ:"KDJ","KDJ-short":"KDJ","KDJ-periodK":"%K Perioden","KDJ-slowing":"Slowing Perioden","KDJ-periodD":"%D Perioden","KDJ-KDJStochasticK":"%K","KDJ-KDJStochasticD":"%D","KDJ-KDJStochasticJ":"%J","KDJ-oversold":"Überverkauftes Level","KDJ-overbought":"Überkauftes Level",CHAIKIN:"Chaikin Volatilität","CHAIKIN-short":"Chaik","CHAIKIN-chaikinVolatility":"Chaikin({emaPeriod},{pastPeriod})","CHAIKIN-emaPeriod":"EMA Periode","CHAIKIN-pastPeriod":"Vergangene Periode",DPO:"Detrended Price Oszillator","DPO-short":"DPO","DPO-period":"Periode","DPO-dpo":"DPO({period})",DMI:"Directional Movement","DMI-short":"D. Mvt","DMI-period":"Periode","DMI-diPlus":"DI+({period})","DMI-diMinus":"DI-({period})","DMI-adx":"ADX({period})","DMI-style":"Stil","DMI-line":"Linie","DMI-diHistogram":"Histogramm",PIVOT:"Pivot Punkt","PIVOT-short":"Pivot","PIVOT-pivot":"Pivot","PIVOT-pivotShort":"Piv","PIVOT-r1":"R1","PIVOT-r2":"R2","PIVOT-r3":"R3","PIVOT-s1":"S1","PIVOT-s2":"S2","PIVOT-s3":"S3","PIVOT-resolution":"Intervall","PIVOT-4-hours":"4 Stunden","PIVOT-daily":"Täglich","PIVOT-weekly":"Wöchentlich","PIVOT-monthly":"Monatlich","PIVOT-formula":"Formula","PIVOT-HLO":"(H+T+E)/3","PIVOT-HLC":"(H+T+S)/3","PIVOT-HLOC":"(H+T+S+E)/4","PIVOT-historical":"Historische Pivot Punkte anzeigen",DONCHIAN:"Donchian Channel","DONCHIAN-short":"Donchian","DONCHIAN-period":"Periode","DONCHIAN-donchianUp":"Donchian Up","DONCHIAN-donchianDown":"Donchian Down","DONCHIAN-donchianMiddle":"Donchian Middle",KELTNER:"Keltner Channel","KELTNER-short":"Keltner","KELTNER-period":"Periode","KELTNER-multiplier":"Multiplikator","KELTNER-keltnerUp":"Keltner Up","KELTNER-keltnerDown":"Keltner Down","KELTNER-keltnerMiddle":"Keltner Middle",WMA:"Weighted Moving Average","WMA-short":"WMA","WMA-period1":"WMA für 1","WMA-period2":"WMA für 2","WMA-period3":"WMA für 3","WMA-period4":"WMA für 4","WMA-period5":"WMA für 5","WMA-period6":"WMA für 6","WMA-period7":"WMA für 7","WMA-period8":"WMA für 8","WMA-weightedMovingAverage1":"WMA({period1})","WMA-weightedMovingAverage2":"WMA({period2})","WMA-weightedMovingAverage3":"WMA({period3})","WMA-weightedMovingAverage4":"WMA({period4})","WMA-weightedMovingAverage5":"WMA({period5})","WMA-weightedMovingAverage6":"WMA({period6})","WMA-weightedMovingAverage7":"WMA({period7})","WMA-weightedMovingAverage8":"WMA({period8})",VWAP:"Volumengewichteter Durchschnittspreis","VWAP-short":"VWAP","VWAP-vwap":"VWAP",VWMA:"Volumen gewichteter gleitender Durchschnitt","VWMA-short":"VWMA","VWMA-period1":"VWMA für 1","VWMA-period2":"VWMA für 2","VWMA-period3":"VWMA für 3","VWMA-period4":"VWMA für 4","VWMA-period5":"VWMA für 5","VWMA-period6":"VWMA für 6","VWMA-period7":"VWMA für 7","VWMA-period8":"VWMA für 8","VWMA-volumeWeightedMovingAverage1":"VWMA({period1})","VWMA-volumeWeightedMovingAverage2":"VWMA({period2})","VWMA-volumeWeightedMovingAverage3":"VWMA({period3})","VWMA-volumeWeightedMovingAverage4":"VWMA({period4})","VWMA-volumeWeightedMovingAverage5":"VWMA({period5})","VWMA-volumeWeightedMovingAverage6":"VWMA({period6})","VWMA-volumeWeightedMovingAverage7":"VWMA({period7})","VWMA-volumeWeightedMovingAverage8":"VWMA({period8})",SUPERTREND:"SuperTrend","SUPERTREND-short":"STrend","SUPERTREND-period":"Periode","SUPERTREND-multiplier":"Multiplikator","SUPERTREND-superTrend":"STrend({period},{multiplier})",ROC:"Rate of Change","ROC-short":"ROC","ROC-period":"Periode","ROC-roc":"ROC({period})",DERIVATIVE:"Derivatpreis","DERIVATIVE-short":"Derivatpreis","DERIVATIVE-derivative":"Derivatpreis","DERIVATIVE-open":"Eröffnung","DERIVATIVE-high":"Hoch","DERIVATIVE-low":"Tief","DERIVATIVE-close":"Schluss","DERIVATIVE-change":"Änderung"},en:{indicatorsDisabled:"Show",notAvailableInTick:"Indicator not available in Tick interval",notAvailableIntraday:"Indicator only available below Daily interval",volumeNotAvailable:"Volume is not available for this market",MVAVG:"Moving Average","MVAVG-short":"MA","MVAVG-period1":"MA for 1","MVAVG-period2":"MA for 2","MVAVG-period3":"MA for 3","MVAVG-period4":"MA for 4","MVAVG-period5":"MA for 5","MVAVG-period6":"MA for 6","MVAVG-period7":"MA for 7","MVAVG-period8":"MA for 8","MVAVG-movingAverage1":"MA({period1})","MVAVG-movingAverage2":"MA({period2})","MVAVG-movingAverage3":"MA({period3})","MVAVG-movingAverage4":"MA({period4})","MVAVG-movingAverage5":"MA({period5})","MVAVG-movingAverage6":"MA({period6})","MVAVG-movingAverage7":"MA({period7})","MVAVG-movingAverage8":"MA({period8})","MVAVG-content":"The Moving Average or Simple Moving Average (SMA) is the most popular way to calculate a moving average. A moving average line provides the average value of the past n candles. This tool can give you clues on trend direction, alongside providing support and resistance.","MVAVG-content-more":"Many traders use moving average crossovers as trading signals. For example, a shorter timeframe crossing above a longer moving average gives a bullish signal, while the opposite provides a bearish.",EMA:"Exponential Moving Average","EMA-short":"EMA","EMA-period1":"EMA for 1","EMA-period2":"EMA for 2","EMA-period3":"EMA for 3","EMA-period4":"EMA for 4","EMA-period5":"EMA for 5","EMA-period6":"EMA for 6","EMA-period7":"EMA for 7","EMA-period8":"EMA for 8","EMA-exponentialMovingAverage1":"EMA({period1})","EMA-exponentialMovingAverage2":"EMA({period2})","EMA-exponentialMovingAverage3":"EMA({period3})","EMA-exponentialMovingAverage4":"EMA({period4})","EMA-exponentialMovingAverage5":"EMA({period5})","EMA-exponentialMovingAverage6":"EMA({period6})","EMA-exponentialMovingAverage7":"EMA({period7})","EMA-exponentialMovingAverage8":"EMA({period8})","EMA-content":"The Exponential moving average (EMA) is like the simple moving average, except more weight is given to the latest data. EMAs react faster to recent price changes than the simple moving average.","EMA-content-more":"The 12- and 26-day EMAs are the most popular short-term averages. The 50- and 200-day EMAs are generally used as signals of long-term trends.",EOM:"Ease of Movement","EOM-short":"EOM","EOM-period":"Period","EOM-divisor":"Divisor","EOM-easeofMovement":"EOM","EOM-content":"The Ease of movement (EOM) indicator provides buy and sell signals using both price and volume. The tool is centred on a zero line, where a rise above 0 provides a buy signal, and a drop below 0 gives a sell signal.","EOM-content-more":"High positive values denote a market that's rising on low volume, while a large negative value means that price is falling on low volume. You can also use the tool to trade on moves back towards the zero line, by means of a moving average break or failure swing.",RCI:"RCI","RCI-short":"RCI","RCI-oversold":"Oversold level","RCI-overbought":"Overbought level","RCI-price":"Price","RCI-close":"Close","RCI-high":"High","RCI-low":"Low","RCI-open":"Open","RCI-period1":"RCI for 1","RCI-period2":"RCI for 2","RCI-period3":"RCI for 3","RCI-period4":"RCI for 4","RCI-period5":"RCI for 5","RCI-period6":"RCI for 6","RCI-period7":"RCI for 7","RCI-period8":"RCI for 8","RCI-rankCorrelationIndex1":"RCI({period1})","RCI-rankCorrelationIndex2":"RCI({period2})","RCI-rankCorrelationIndex3":"RCI({period3})","RCI-rankCorrelationIndex4":"RCI({period4})","RCI-rankCorrelationIndex5":"RCI({period5})","RCI-rankCorrelationIndex6":"RCI({period6})","RCI-rankCorrelationIndex7":"RCI({period7})","RCI-rankCorrelationIndex8":"RCI({period8})","RCI-content":"The Rank Correlation Index (RCI) is a momentum indicator, which uses both price and time data in a bid to recognise key turning points in your chosen market.","RCI-content-more":"<p>The indicator is bound between the values of 100 and -100. You can look to the zero line as a key threshold to trade around, with breaks through that level bringing buy and sell signals.</p><p>Meanwhile, reversals in the indicators from overbought or oversold levels can signal a potential market reversal.</p>",RSI:"RSI","RSI-short":"RSI","RSI-period":"Period","RSI-relativeStrengthIndex":"RSI","RSI-upper":"RSI >","RSI-lower":"RSI >","RSI-content":"A relative strength index (RSI) is a popular momentum indicator, bound between the values of 0 and 100. This indicator can be used to find overbought or oversold conditions. This tool can also provide bullish and bearish divergence signals.","RSI-content-more":"Values below 30 are seen as oversold and values above 70 as overbought. Bullish divergence is found where new lows in price are not matched by new lows in the RSI. Bearish divergence is found where new highs in price are not matched by new highs in the RSI.",SAR:"Parabolic SAR","SAR-short":"SAR","SAR-initialAcceleration":"Initial Acceleration","SAR-accelerationStep":"Acceleration Step","SAR-accelerationLimit":"Acceleration Limit","SAR-parabolicSar":"SAR","SAR-content":"The Parabolic SAR (PSAR) uses a trailing stop and reverse (SAR) method to determine good exit and entry points. If the security is trading below the PSAR, this is considered a sell signal. If it’s trading above, this is considered a buy signal. Reversal signals occur when price breaks through the PSAR.","SAR-content-more":"<p>The indicator has three elements that can be tweaked to adjust the sensitivity of the tool:</p><ul><li>The initial acceleration provides the level of acceleration the PSAR will increase at when its direction has just changed</li><li>The step is the multiplier which sets the incremental rate-of-increase as the trend develops, raising the rate of acceleration until either the PSAR meets price and reverses, or it reaches the maximum level of acceleration</li><li>The limit is the top level of acceleration. A higher limit allows the PSAR to maintain that rate-of-increase for a longer time</li></ul>",BOL:"Bollinger Bands","BOL-short":"Boll","BOL-period":"Period","BOL-standardDeviation":"Standard Deviation","BOL-bollingerPositiveBand":"Bollinger+","BOL-bollingerNegativeBand":"Bollinger-","BOL-bollingerMovingAverageBand":"MA","BOL-content":"Bollinger Bands are envelopes based on a moving average and a standard deviation. The standard deviation makes bands widen or narrow according to market volatility, and you can use them to identify trading opportunities.","BOL-content-more":"<p>The indicator uses a moving average, typically 20, with a standard deviation added on top.</p><ul><li>The bands can provide both support and resistance (unless an extraordinary price action takes place within the bands)</li><li>If price breaks and holds outside the upper or lower bands, this can be perceived as a precursor to a continued move in that direction</li><li>Tightening Bollinger Bands indicate a period of shrinking volatility, which can often be perceived as a precursor to a sharp breakout and heightened volatility</li></ul>",BBW:"Bollinger Bandwidth","BBW-bolBandwidth":"Bandwidth","BBW-short":"BBW","BBW-period":"Period","BBW-standardDeviation":"Standard Deviation","BBW-content":"<p>The Bollinger Bandwidth gives a reading on the distance between the upper and lower Bollinger Bands.</p><p>This shows the volatility of the market, with higher readings indicating more volatility.</p>","BBW-content-more":"<ul><li>A low reading could be a sign that volatility is about to rise. Low volatility is often seen as a precursor to a spike in price.</li><li>You can use the tool in a highly trending market. A fall in volatility is often seen when markets are consolidating, or momentum is building for the next move.</li><li>A reversal in the direction of the bandwidth can be a sign of a market reversal, as it could mean a recent surge or slump in price is losing momentum.</li></ul>",BOLPCTB:"Bollinger %B","BOLPCTB-bolPctB":"%B","BOLPCTB-short":"BB %B","BOLPCTB-period":"Period","BOLPCTB-standardDeviation":"Standard Deviation","BOLPCTB-content":"<p>Bollinger %B indicator helps you work out where price is in relation to the upper and lower Bollinger Bands.</p><p>This shows a reading of 1 if the price is trading at the upper band, or 0 if it's at the lower band. It can rise above 1 or fall below 0, as the price can move outside these bands.</p>","BOLPCTB-content-more":"<p>The indicator can show overbought and oversold conditions.</p><p>Some traders use these readings as signs of breakouts rather than reversals.</p><p>%B allows you to take readings of divergences that often precede market reversals:</p><ul><li>A bearish divergence occurs when there are lower highs in %B during an uptrend in price (higher highs)</li><li>A bullish divergence occurs when there are higher lows in %B during a downtrend in price (lower lows)</li></ul>",MACD:"MACD","MACD-short":"MACD","MACD-slowEmaPeriod":"Slow EMA Period","MACD-fastEmaPeriod":"Fast EMA Period","MACD-signalEmaPeriod":"Signal Line Period","MACD-macd":"MACD","MACD-macdHistogram":"MACD Histogram","MACD-macdSignal":"Signal Line","MACD-content":"The Moving Average Convergence Divergence (MACD) is a trend indicator. Buy signals are provided when the MACD crosses up through its signal line, with a break back below the line providing a sell signal.","MACD-content-more":"<p>You can also use the MACD in the following ways:</p><ul><li>As a leading indicator, with a reversal in direction seen as a precursor to a market turnaround</li><li>To indicate divergences. A bullish divergence occurs when price makes a new low but the MACD fails to make new lows. A bearish divergence occurs when price makes new highs while the MACD fails to do the same</li></ul>",MFI:"Money Flow Index","MFI-short":"MFI","MFI-period":"Period","MFI-moneyFlowIndex":"MFI({period})","MFI-content":"The Money Flow Index (MFI) shows whether investors are under pressure to buy or sell a security. You can use the MFI to ascertain whether a trend is likely to move in the opposite direction. ","MFI-content-more":"It’s similar to the Relative Strength Index (RSI), but it takes trading volumes into account as well as price. MFI shows the ratio of positive and negative money flow in a range between zero and 100. MFI values below 20 generally suggest that an asset has been oversold, while values above 80 suggest it has been overbought.",STOCH:"Stochastic","STOCH-short":"Stoch","STOCH-periodK":"%K Period","STOCH-slowing":"Slowing Period","STOCH-periodD":"%D Period","STOCH-stochasticK":"%K","STOCH-stochasticD":"%D","STOCH-oversold":"Oversold level","STOCH-overbought":"Overbought level","STOCH-content":"The stochastic oscillator is a popular momentum indicator, bound between the values of 0 and 100. This indicator can be used to find overbought or oversold conditions. This tool can also provide bullish and bearish divergence signals.","STOCH-content-more":"Values below 20 are seen as oversold and values above 80 as overbought. Bullish divergence is found where new lows in price are not matched by new lows in the stochastic. Bearish divergence is found where new highs in price are not matched by new highs in the stochastic.",VOLUME:"Volume","VOLUME-short":"Volume","VOLUME-volume":"Volume","VOLUME-tick":"Tick Volume","VOLUME-content":"The volume indicator can show either the tick or traditional volume (as indicated in the volume bar). This can be used as confirmation or to refute a market move, with higher volumes adding weight to a given move.","VOLUME-content-more":"High volume on a breakout would typically be seen as giving greater validity to the chance that it will follow through. Low volume breakouts can be seen as less reliable.",STDEV:"Standard Deviation","STDEV-short":"SD","STDEV-period":"Period","STDEV-standardDeviation":"SD({period})","STDEV-content":"The standard deviation indicator measures the variability or dispersion of prices for an instrument. It’s often a good indication of volatility.","STDEV-content-more":"This tool shows the difference of the values from the average. The larger the variability, the higher the standard deviation. The smaller the variability, the lower the standard deviation. Low volatility periods will exhibit a low value standard deviation, while a sudden sharp pickup in price would spark a surge in the standard deviation.",WILLR:"Williams %R","WILLR-short":"W%R","WILLR-period":"Period","WILLR-williamsPercentR":"W%R({period})","WILLR-content":"Williams %R is a momentum indicator that shows the current close relative to the highest high for the determined period.","WILLR-content-more":"It uses a scale from -100 to 0, where -100 is the close today at the lowest low of the past 'n' days. And 0 is a close today at the highest high of the past 'n' days. Generally, readings from 0 to -20 are considered overbought, and readings from -80 to -100 are considered oversold.",MOMENTUM:"Momentum","MOMENTUM-short":"Momntm","MOMENTUM-period":"Period","MOMENTUM-momentum":"M({period})","MOMENTUM-content":"The momentum indicator is a speed of movement indicator, used to detect trend weakness and likely reversal points. This indicator shows trends by remaining positive while an uptrend is sustained, and negative while a downtrend is sustained.","MOMENTUM-content-more":"<p>The momentum indicator can be useful at providing bullish or bearish divergence:</p><ul><li>A bullish divergence occurs when price makes new lows and momentum fails to replicate</li><li>A bearish divergence occurs where price hits new highs and momentum fails to replicate</li><li>You can also use it to look for crossovers through the zero mark and extreme readings. The indicator is unbounded, so is less useful in providing overbought or oversold conditions</li></ul>",ICHIMOKU:"Ichimoku","ICHIMOKU-short":"Ichi","ICHIMOKU-ichimoku":"Ichimoku","ICHIMOKU-shortPeriod":"Short Period","ICHIMOKU-longPeriod":"Long Period","ICHIMOKU-signalPeriod":"Signal Period","ICHIMOKU-tenkan":"Tenkan({shortPeriod})","ICHIMOKU-kijun":"Kijun({longPeriod})","ICHIMOKU-spana":"Span A({longPeriod})","ICHIMOKU-spanb":"Span B({signalPeriod})","ICHIMOKU-chikou":"Chikou({longPeriod})","ICHIMOKU-content":"Ichimoku is used to gauge momentum, and future levels of support and resistance on one chart. It shows whether an instrument is in or out of equilibrium, without the need for any other indicators. ","ICHIMOKU-content-more":"<p>There are five lines in Ichimoku:</p><ul><li>Tenkan-Sen (conversion line)</li><li>Kijun-sen (base line)</li><li>Senkou Span A (leading span A)</li><li>Senkou Span B (leading span B)</li><li>Chickou Span (lagging span)</li></ul><p>The first four lines are based on the average of highs and lows over a set period. The lagging span is based on price movements plotted 26 periods behind the latest closing price. There are a number of methods you can use to provide trading signals:</p><ul><li>Use the cloud (Senkou Span A & B) as a support and resistance zone. The forward projecting nature of the cloud means you're also given future areas of support and resistance</li><li>Use crossover signals, like buying in a rising cloud, when the conversion line breaks below and then above the base line</li></ul>",AWESOME:"Awesome Oscillator","AWESOME-short":"Awsm","AWESOME-shortPeriod":"Short Period","AWESOME-longPeriod":"Long Period","AWESOME-awesome":"Awesome","AWESOME-content":"The Awesome Oscillator compares market momentum over a set of recent periods, with that over a much broader set of periods.","AWESOME-content-more":"The default periods compared are 5 and 34 respectively. Saucers, zero line crossing and 'two pikes' are three trading events that you can use as buy or sell signals.",ATR:"Average True Range","ATR-short":"ATR","ATR-averageTrueRange":"ATR({period})","ATR-period":"Period","ATR-content":"The Average True Range (ATR) indicator measures the volatility of financial instruments. You can use this indicator to dictate elements like position sizing, and stop loss/take profit distance.","ATR-content-more":"The ATR provides an average of the range (extreme high of a candle – extreme low of a candle) seen over the past n candles. A high ATR indicates high volatility and a low ATR shows low volatility.",CCI:"Commodity Channel Index","CCI-short":"CCI","CCI-period":"Period","CCI-cci":"CCI({period})","CCI-content":"The Commodity Channel Index (CCI) measures an asset's current price, in relation to its average over a given period. You can use it to measure any asset class, not just commodities.","CCI-content-more":"<ul><li>CCI values above 100 typically mean that prices are unusually high compared to the average. Values below -100 mean that price levels are unusually low</li><li>The CCI is an unbound momentum indicator, yet typically use the 100 and -100 thresholds to denote overbought and oversold territories</li><li>You can also use divergence signals as the indicator, comparing peaks and troughs with price action</li></ul>",AROON:"Aroon","AROON-short":"Aroon","AROON-period":"Period","AROON-aroonUp":"Aroon+({period})","AROON-aroonDown":"Aroon-({period})","AROON-content":"<p>Aroon is an indicator that helps you identify trends and their strengths. It consists of two lines – Aroon up and Aroon down – on a scale of zero to 100.</p> <p>When the Aroon up line is above the Aroon down line the overall trend is considered up, and vice versa. A change in trend is shown when the lines cross.</p>","AROON-content-more":"<p>Aroon is based on a specific time period, and looks at the highs and lows within that period. For example:</p><ul><li>A 14-day Aroon looks at how long it has been since the 14-day high and 14-day low</li><li>The Aroon up line will read 100 when a new high is reached. If 14 days pass without a new high, it will be at zero</li><li>The Aroon down will read 100 when a new low is reached. If 14 days pass without a new low, it will be at zero</li></ul>",KDJ:"KDJ","KDJ-short":"KDJ","KDJ-periodK":"%K Periods","KDJ-slowing":"Slowing Periods","KDJ-periodD":"%D Periods","KDJ-KDJStochasticK":"%K","KDJ-KDJStochasticD":"%D","KDJ-KDJStochasticJ":"%J","KDJ-oversold":"Oversold level","KDJ-overbought":"Overbought level","KDJ-content":"The KDJ momentum indicator is essentially a slow stochastic indicator, with an extra line (J) added to highlight divergence. A stochastic indicator compares an asset's closing price to its price range over a period.","KDJ-content-more":"The extra J line in a KDJ indicator shows the divergence between the %D and %K lines. A negative J line indicates that an asset is oversold. If it rises above 100 it's considered overbought.",CHAIKIN:"Chaikin Volatility","CHAIKIN-short":"Chaik","CHAIKIN-chaikinVolatility":"Chaikin({emaPeriod},{pastPeriod})","CHAIKIN-emaPeriod":"EMA Period","CHAIKIN-pastPeriod":"Past Period","CHAIKIN-content":"Chaikin’s Volatility indicator calculates volatility as the trading range between high and low prices for each period.","CHAIKIN-content-more":"<ul><li>The indicator's results are derived from the exponential moving average of the difference between the high and low prices</li><li>The rate of change is taken for the moving average over the period</li><li>This calculation does not take trading gaps into account when quantifying volatility</li></ul>",DPO:"Detrended Price Oscillator","DPO-short":"DPO","DPO-period":"Period","DPO-dpo":"DPO({period})","DPO-content":"The Detrended Price Oscillator attempts to filter out long-term price trends, in order to highlight the underlying cycles of price movement.","DPO-content-more":"Overbought areas are highlighted above the zero line, at the upper end of the oscillator, and may represent a selling opportunity. Similarly for oversold areas.",DMI:"Directional Movement","DMI-short":"D. Mvt","DMI-period":"Period","DMI-diPlus":"DI+({period})","DMI-diMinus":"DI-({period})","DMI-adx":"ADX({period})","DMI-style":"Style","DMI-line":"Line","DMI-diHistogram":"Histogram","DMI-content":"The Directional Movement Index (DMI) can indicate when a trend is present in an instrument, by identifying which direction the price of an asset is moving. The DMI can signal both the strength and direction of a trend, as well as providing clues on buying and selling pressure.","DMI-content-more":"<ul><li>The indicator consists of two lines: a positive directional movement line (+DI) and a negative directional movement line (-DI). If the +DI line appears above the -DI line, it means there is more upward movement than downward movement</li><li>Strategies are typically based on breaks in the DI+ or DI- lines above 25, as a signal of a breakout in buying (DI+) or selling (DI-) pressure</li><li>Another key part of this indicator is the histogram. It shows the difference between the DI+ and DI-, where trading signals can come from reversals in direction, along with crosses through zero</li></ul>",PIVOT:"Pivot Point","PIVOT-short":"Pivot","PIVOT-pivot":"Pivot","PIVOT-pivotShort":"Piv","PIVOT-r1":"R1","PIVOT-r2":"R2","PIVOT-r3":"R3","PIVOT-s1":"S1","PIVOT-s2":"S2","PIVOT-s3":"S3","PIVOT-resolution":"Interval","PIVOT-4-hours":"4 Hours","PIVOT-daily":"Daily","PIVOT-weekly":"Weekly","PIVOT-monthly":"Monthly","PIVOT-formula":"Formula","PIVOT-HLO":"(H+L+O)/3","PIVOT-HLC":"(H+L+C)/3","PIVOT-HLOC":"(H+L+C+O)/4","PIVOT-historical":"Show historical Pivot Points","PIVOT-content":"Pivot Points are a set of support and resistance levels, used to identify the overall trend of the market across different periods. They’re calculated by taking an average of the high, low and closing prices of a previous period. Trading above the pivot point can indicate bullish movement, while trading below the pivot point can indicate bearish.","PIVOT-content-more":"<p>The pivot point itself can be calculated in three different ways – HLC, HLO and HLOC. They factor in today’s open, alongside a combination of yesterday’s high, low, open and close. Once a pivot point is broken, it will remain relevant as a support or resistance level:</p><ul><li>When price breaks through a support pivot level, it will become resistance for any future price action</li><li>When price breaks through a resistance pivot level, it will become support.</li><li>The indicator includes four levels: support one and two (S1 and S2) and resistance one and two (R1 and R2). The R1 and S1 levels are based on that pivot point and yesterday’s high (S1) and low (R1), while R2 and S2 factor in the R1 and S1 levels in their calculations.</li></ul>",DONCHIAN:"Donchian Channel","DONCHIAN-short":"Donchian","DONCHIAN-period":"Period","DONCHIAN-donchianUp":"Donchian Up","DONCHIAN-donchianDown":"Donchian Down","DONCHIAN-donchianMiddle":"Donchian Middle","DONCHIAN-content":"The Donchain Channel is a band that highlights the most recent swing high and swing low for your chosen market. When used with the default 14 period setting, the upper band represents the highest point reached over the past 14 candles. The lower band shows the lowest point during that period.","DONCHIAN-content-more":"The tool is popular for breakout traders, with a rally outside of the band providing a buy or sell signal. It’s worth noting that the effectiveness of the tool can diminish over slow moving markets. This means that when setting the Donchain, the value used should be higher for slow moving markets, and lower for fast moving ones.",KELTNER:"Keltner Channel","KELTNER-short":"Keltner","KELTNER-period":"Period","KELTNER-multiplier":"Multiplier","KELTNER-keltnerUp":"Keltner Up","KELTNER-keltnerDown":"Keltner Down","KELTNER-keltnerMiddle":"Keltner Middle","KELTNER-content":"The Keltner Channel provides a measure of volatility around a moving average. It works in a similar way to Bollinger Bands, but takes into account the average true range (ATR).","KELTNER-content-more":"Whereas the Bollinger Bands use standard deviations away from the moving average, the Keltner channel uses the ATR to set a channel around the simple moving average. You can use this tool for breakout signals alongside support and resistance too.","learn-more":'<p class="indicatorContentLearnMore"><strong>Learn more</strong></p>',WMA:"Weighted Moving Average","WMA-short":"WMA","WMA-period1":"WMA for 1","WMA-period2":"WMA for 2","WMA-period3":"WMA for 3","WMA-period4":"WMA for 4","WMA-period5":"WMA for 5","WMA-period6":"WMA for 6","WMA-period7":"WMA for 7","WMA-period8":"WMA for 8","WMA-weightedMovingAverage1":"WMA({period1})","WMA-weightedMovingAverage2":"WMA({period2})","WMA-weightedMovingAverage3":"WMA({period3})","WMA-weightedMovingAverage4":"WMA({period4})","WMA-weightedMovingAverage5":"WMA({period5})","WMA-weightedMovingAverage6":"WMA({period6})","WMA-weightedMovingAverage7":"WMA({period7})","WMA-weightedMovingAverage8":"WMA({period8})","WMA-content":"The weighted moving average (WMA) is a moving average which attaches a greater value on recent price action, in comparison with historical price movements. Just like a traditional SMA, the WMA can provide buy and sell signals based upon crosses, alongside the traditional support and resistance.","WMA-content-more":"",VWAP:"Volume Weighted Average Price","VWAP-short":"VWAP","VWAP-vwap":"VWAP","VWAP-content":"The volume weighted average price is an indicator used to provide the average price at which a market has traded at throughout the day, using both price and volume in the calculation. It can help to give a view on the value of a market and also its trend.","VWAP-content-more":"<ul><li>The indicator calculates its values over the period of a day; because of that, it is not available on Daily interval and above</li><li>Because the calculation involves High and Low prices, the indicator is not available on Tick interval</li></ul>",VWMA:"Volume Weighted Moving Average","VWMA-short":"VWMA","VWMA-period1":"VWMA for 1","VWMA-period2":"VWMA for 2","VWMA-period3":"VWMA for 3","VWMA-period4":"VWMA for 4","VWMA-period5":"VWMA for 5","VWMA-period6":"VWMA for 6","VWMA-period7":"VWMA for 7","VWMA-period8":"VWMA for 8","VWMA-volumeWeightedMovingAverage1":"VWMA({period1})","VWMA-volumeWeightedMovingAverage2":"VWMA({period2})","VWMA-volumeWeightedMovingAverage3":"VWMA({period3})","VWMA-volumeWeightedMovingAverage4":"VWMA({period4})","VWMA-volumeWeightedMovingAverage5":"VWMA({period5})","VWMA-volumeWeightedMovingAverage6":"VWMA({period6})","VWMA-volumeWeightedMovingAverage7":"VWMA({period7})","VWMA-volumeWeightedMovingAverage8":"VWMA({period8})","VWMA-content":"The volume weighted moving average (VWMA) is a moving average weighted to account for volume over a time frame. Prices with substantial trading activity will be more heavily weighted, compared with periods of lower trading activity.","VWMA-content-more":"",SUPERTREND:"SuperTrend","SUPERTREND-short":"STrend","SUPERTREND-period":"Period","SUPERTREND-multiplier":"Multiplier","SUPERTREND-superTrend":"STrend({period},{multiplier})","SUPERTREND-content":"The SuperTrend indicator works on all timeframes and all instrument types. It is the ideal tool to follow market trends, and can be used to calculate potential buy and sell indicators, or stop and limit levels.","SUPERTREND-content-more":"The SuperTrend indicator changes colour to indicate a buy or sell signal. If the SuperTrend moves below the closing price, the indicator will change to green, signalling an entry point to buy. If the SuperTrend moves above the closing price, the indicator will change to red, signalling an exit point to sell.",ROC:"Rate of Change","ROC-short":"ROC","ROC-period":"Period","ROC-roc":"ROC({period})","ROC-content":"The rate of change indicator is a momentum oscillator that measures the percentage change in the current price compared with one in the past.","ROC-content-more":"The RoC signal line oscillates around the zero line, and you can use crossovers, divergence and overbought/oversold conditions like many of the alternative momentum indicators.",DERIVATIVE:"Derivative price","DERIVATIVE-short":"Derivative price","DERIVATIVE-derivative":"Derivative price","DERIVATIVE-open":"Open","DERIVATIVE-high":"Highest","DERIVATIVE-low":"Lowest","DERIVATIVE-close":"Close","DERIVATIVE-change":"Change"},en_US:{"EOM-content":"The Ease of movement (EOM) indicator provides buy and sell signals using both price and volume. The tool is centered on a zero line, where a rise above 0 provides a buy signal, and a drop below 0 gives a sell signal."},es:{indicatorsDisabled:"Mostrar",notAvailableInTick:"El indicador no está disponible en este intervalo",notAvailableIntraday:"El indicador solo está disponible en marcos temporales inferiores al intervalo Diario",volumeNotAvailable:"El volumen no está disponible para este mercado",MVAVG:"SMA","MVAVG-short":"SMA","MVAVG-period1":"SMA para 1","MVAVG-period2":"SMA para 2","MVAVG-period3":"SMA para 3","MVAVG-period4":"SMA para 4","MVAVG-period5":"SMA para 5","MVAVG-period6":"SMA para 6","MVAVG-period7":"SMA para 7","MVAVG-period8":"SMA para 8","MVAVG-movingAverage1":"SMA({period1})","MVAVG-movingAverage2":"SMA({period2})","MVAVG-movingAverage3":"SMA({period3})","MVAVG-movingAverage4":"SMA({period4})","MVAVG-movingAverage5":"SMA({period5})","MVAVG-movingAverage6":"SMA({period6})","MVAVG-movingAverage7":"SMA({period7})","MVAVG-movingAverage8":"SMA({period8})",EMA:"EMA","EMA-short":"EMA","EMA-period1":"EMA para 1","EMA-period2":"EMA para 2","EMA-period3":"EMA para 3","EMA-period4":"EMA para 4","EMA-period5":"EMA para 5","EMA-period6":"EMA para 6","EMA-period7":"EMA para 7","EMA-period8":"EMA para 8","EMA-exponentialMovingAverage1":"EMA({period1})","EMA-exponentialMovingAverage2":"EMA({period2})","EMA-exponentialMovingAverage3":"EMA({period3})","EMA-exponentialMovingAverage4":"EMA({period4})","EMA-exponentialMovingAverage5":"EMA({period5})","EMA-exponentialMovingAverage6":"EMA({period6})","EMA-exponentialMovingAverage7":"EMA({period7})","EMA-exponentialMovingAverage8":"EMA({period8})",EOM:"Facilidad de movimiento","EOM-short":"EOM","EOM-period":"Periodo","EOM-divisor":"Divisor","EOM-easeofMovement":"EOM",RCI:null,"RCI-short":null,"RCI-oversold":"Nivel de sobreventa","RCI-overbought":"Nivel de sobrecompra","RCI-price":"Precio","RCI-close":"Cierre","RCI-high":"Máximo","RCI-low":"Mínimo","RCI-open":"Apertura","RCI-period1":"RCI para 1","RCI-period2":"RCI para 2","RCI-period3":"RCI para 3","RCI-period4":"RCI para 4","RCI-period5":"RCI para 5","RCI-period6":"RCI para 6","RCI-period7":"RCI para 7","RCI-period8":"RCI para 8","RCI-rankCorrelationIndex1":null,"RCI-rankCorrelationIndex2":null,"RCI-rankCorrelationIndex3":null,"RCI-rankCorrelationIndex4":null,"RCI-rankCorrelationIndex5":null,"RCI-rankCorrelationIndex6":null,"RCI-rankCorrelationIndex7":null,"RCI-rankCorrelationIndex8":null,RSI:"RSI","RSI-short":"RSI","RSI-period":"Periodo","RSI-relativeStrengthIndex":"RSI",SAR:"Parabolic SAR","SAR-short":"SAR","SAR-initialAcceleration":"Aceleración inicial","SAR-accelerationStep":"Intervalo de Aceleración","SAR-accelerationLimit":"Límite de Aceleración","SAR-parabolicSar":"SAR",BOL:"Bandas de Bollinger","BOL-short":"Boll","BOL-period":"Periodo","BOL-standardDeviation":"Desviación estándar","BOL-bollingerPositiveBand":"Bollinger+","BOL-bollingerNegativeBand":"Bollinger-","BOL-bollingerMovingAverageBand":"MM",BBW:"Bollinger Bandwidth","BBW-bolBandwidth":"Bandwidth","BBW-short":"BBW","BBW-period":"Periodo","BBW-standardDeviation":"Desviación estándar",BOLPCTB:"Bollinger %B","BOLPCTB-bolPctB":"%B","BOLPCTB-short":"BB %B","BOLPCTB-period":"Periodo","BOLPCTB-standardDeviation":"Desviación estándar",MACD:"MACD","MACD-short":"MACD","MACD-slowEmaPeriod":"Periodo EMA Lento","MACD-fastEmaPeriod":"Periodo EMA Rápido","MACD-signalEmaPeriod":"Periodo de Línea de Señal","MACD-macd":"MACD","MACD-macdHistogram":"Histograma MACD","MACD-macdSignal":"Línea de Señal",MFI:"Money Flow Index","MFI-short":"MFI","MFI-period":"Periodo","MFI-moneyFlowIndex":"MFI({period})",STOCH:"Estocástico","STOCH-short":"Sto","STOCH-periodK":"%K Periodos","STOCH-slowing":"Periodos de bajadas","STOCH-periodD":"%D Periodos","STOCH-stochasticK":"%K","STOCH-stochasticD":"%D","STOCH-oversold":"Nivel de sobreventa","STOCH-overbought":"Nivel de sobrecompra",VOLUME:"Volumen","VOLUME-short":"Volumen","VOLUME-volume":"Volumen","VOLUME-tick":"Volumen por ticks",STDEV:"Desviación estándar","STDEV-short":"DE","STDEV-period":"Periodo","STDEV-standardDeviation":"DE({period})",WILLR:"Williams %R","WILLR-short":"W%R","WILLR-period":"Periodo","WILLR-williamsPercentR":"W%R({period})",MOMENTUM:"Momentum","MOMENTUM-short":"Momntm","MOMENTUM-period":"Periodo","MOMENTUM-momentum":"M({period})",ICHIMOKU:"Ichimoku","ICHIMOKU-short":"Ichi","ICHIMOKU-ichimoku":"Ichimoku","ICHIMOKU-shortPeriod":"Periodo corto","ICHIMOKU-longPeriod":"Periodo largo","ICHIMOKU-signalPeriod":"Periodo señal","ICHIMOKU-tenkan":"Tenkan({shortPeriod})","ICHIMOKU-kijun":"Kijun({longPeriod})","ICHIMOKU-spana":"Span A({longPeriod})","ICHIMOKU-spanb":"Span B({signalPeriod})","ICHIMOKU-chikou":"Chikou({longPeriod})",AWESOME:"Oscilador Awesome","AWESOME-short":"Awsm","AWESOME-shortPeriod":"Periodo corto","AWESOME-longPeriod":"Periodo largo","AWESOME-awesome":"Awesome",ATR:"ATR","ATR-short":"ATR","ATR-averageTrueRange":"ATR({period})","ATR-period":"Periodo",CCI:"CCI","CCI-short":"CCI","CCI-period":"Periodo","CCI-cci":"CCI({period})",AROON:"Aroon","AROON-short":"Aroon","AROON-period":"Periodo","AROON-aroonUp":"Aroon+({period})","AROON-aroonDown":"Aroon-({period})",KDJ:"KDJ","KDJ-short":"KDJ","KDJ-periodK":"%K Periodos","KDJ-slowing":"Periodos de bajadas","KDJ-periodD":"%D Periodos","KDJ-KDJStochasticK":"%K","KDJ-KDJStochasticD":"%D","KDJ-KDJStochasticJ":"%J","KDJ-oversold":"Nivel de sobreventa","KDJ-overbought":"Nivel de sobrecompra",CHAIKIN:"Volatilidad Chaikin","CHAIKIN-short":"Chaik","CHAIKIN-chaikinVolatility":"Chaikin({emaPeriod},{pastPeriod})","CHAIKIN-emaPeriod":"Periodo EMA","CHAIKIN-pastPeriod":"Periodo pasado",DPO:"Detrended Price Oscillator","DPO-short":"DPO","DPO-period":"Periodo","DPO-dpo":"DPO({period})",DMI:"Directional Movement","DMI-short":"D. Mvt","DMI-period":"Periodo","DMI-diPlus":"DI+({period})","DMI-diMinus":"DI-({period})","DMI-adx":"ADX({period})","DMI-style":"Estilo","DMI-line":"Línea","DMI-diHistogram":"Histograma",PIVOT:"Pivot Points","PIVOT-short":"Pivot","PIVOT-pivot":"Pivot","PIVOT-pivotShort":"Piv","PIVOT-r1":"R1","PIVOT-r2":"R2","PIVOT-r3":"R3","PIVOT-s1":"S1","PIVOT-s2":"S2","PIVOT-s3":"S3","PIVOT-resolution":"Intervalo","PIVOT-4-hours":"4 Horas","PIVOT-daily":"Diario","PIVOT-weekly":"Semanal","PIVOT-monthly":"Mensual","PIVOT-formula":"Formula","PIVOT-HLO":"(A+B+Ab)/3","PIVOT-HLC":"(A+B+C)/3","PIVOT-HLOC":"(A+B+C+Ab)/4","PIVOT-historical":"Mostrar puntos pivote anteriores",DONCHIAN:"Canal de Donchian","DONCHIAN-short":"Donchian","DONCHIAN-period":"Periodo","DONCHIAN-donchianUp":"Donchian Sube","DONCHIAN-donchianDown":"Donchian Baja","DONCHIAN-donchianMiddle":"Donchian Medio",KELTNER:"Bandas de Keltner","KELTNER-short":"Keltner","KELTNER-period":"Periodo","KELTNER-multiplier":"Multiplicador","KELTNER-keltnerUp":"Keltner Sube","KELTNER-keltnerDown":"Keltner Baja","KELTNER-keltnerMiddle":"Keltner Medio",WMA:"WMA","WMA-short":"WMA","WMA-period1":"WMA en 1","WMA-period2":"WMA en 2","WMA-period3":"WMA en 3","WMA-period4":"WMA en 4","WMA-period5":"WMA en 5","WMA-period6":"WMA en 6","WMA-period7":"WMA en 7","WMA-period8":"WMA en 8","WMA-weightedMovingAverage1":"WMA({period1})","WMA-weightedMovingAverage2":"WMA({period2})","WMA-weightedMovingAverage3":"WMA({period3})","WMA-weightedMovingAverage4":"WMA({period4})","WMA-weightedMovingAverage5":"WMA({period5})","WMA-weightedMovingAverage6":"WMA({period6})","WMA-weightedMovingAverage7":"WMA({period7})","WMA-weightedMovingAverage8":"WMA({period8})",VWAP:"Precio Medio Ponderado por Volumen","VWAP-short":"VWAP","VWAP-vwap":"VWAP",VWMA:"Promedio móvil ponderado por volumen","VWMA-short":"VWMA","VWMA-period1":"VWMA en 1","VWMA-period2":"VWMA en 2","VWMA-period3":"VWMA en 3","VWMA-period4":"VWMA en 4","VWMA-period5":"VWMA en 5","VWMA-period6":"VWMA en 6","VWMA-period7":"VWMA en 7","VWMA-period8":"VWMA en 8","VWMA-volumeWeightedMovingAverage1":"VWMA({period1})","VWMA-volumeWeightedMovingAverage2":"VWMA({period2})","VWMA-volumeWeightedMovingAverage3":"VWMA({period3})","VWMA-volumeWeightedMovingAverage4":"VWMA({period4})","VWMA-volumeWeightedMovingAverage5":"VWMA({period5})","VWMA-volumeWeightedMovingAverage6":"VWMA({period6})","VWMA-volumeWeightedMovingAverage7":"VWMA({period7})","VWMA-volumeWeightedMovingAverage8":"VWMA({period8})",SUPERTREND:"Súper Tendencia","SUPERTREND-short":"STrend","SUPERTREND-period":"Periodo","SUPERTREND-multiplier":"Multiplicador","SUPERTREND-superTrend":"STrend({period},{multiplier})",ROC:"ROC","ROC-short":"ROC","ROC-period":"Periodo","ROC-roc":"ROC({period})",DERIVATIVE:"Precio del derivado","DERIVATIVE-short":"Precio del derivado","DERIVATIVE-derivative":"Precio del derivado","DERIVATIVE-open":"Apertura","DERIVATIVE-high":"Máximo","DERIVATIVE-low":"Mínimo","DERIVATIVE-close":"Cierre","DERIVATIVE-change":"Cambio"},fr:{indicatorsDisabled:"Afficher",notAvailableInTick:"Indicateur non disponible en tick par tick",notAvailableIntraday:"Indicateur disponible uniquement pour des intervalles inférieurs à Journalier",volumeNotAvailable:"Le volume renseigné est indisponible sur ce marché",MVAVG:"Moyenne Mobile","MVAVG-short":"MM","MVAVG-period1":"MM pour 1","MVAVG-period2":"MM pour 2","MVAVG-period3":"MM pour 3","MVAVG-period4":"MM pour 4","MVAVG-period5":"MM pour 5","MVAVG-period6":"MM pour 6","MVAVG-period7":"MM pour 7","MVAVG-period8":"MM pour 8","MVAVG-movingAverage1":"MM ({period1})","MVAVG-movingAverage2":"MM ({period2})","MVAVG-movingAverage3":"MM ({period3})","MVAVG-movingAverage4":"MM ({period4})","MVAVG-movingAverage5":"MM ({period5})","MVAVG-movingAverage6":"MM ({period6})","MVAVG-movingAverage7":"MM ({period7})","MVAVG-movingAverage8":"MM ({period8})",EMA:"Moyenne Mobile Exponentielle","EMA-short":"MME","EMA-period1":"MME pour 1","EMA-period2":"MME pour 2","EMA-period3":"MME pour 3","EMA-period4":"MME pour 4","EMA-period5":"MME pour 5","EMA-period6":"MME pour 6","EMA-period7":"MME pour 7","EMA-period8":"MME pour 8","EMA-exponentialMovingAverage1":"MME ({period1})","EMA-exponentialMovingAverage2":"MME ({period2})","EMA-exponentialMovingAverage3":"MME ({period3})","EMA-exponentialMovingAverage4":"MME ({period4})","EMA-exponentialMovingAverage5":"MME ({period5})","EMA-exponentialMovingAverage6":"MME ({period6})","EMA-exponentialMovingAverage7":"MME ({period7})","EMA-exponentialMovingAverage8":"MME ({period8})",EOM:"Indicateur d'aisance de mouvement","EOM-short":"EOM","EOM-period":"Période","EOM-divisor":"Diviseur","EOM-easeofMovement":"EOM",RCI:null,"RCI-short":null,"RCI-oversold":"Niveau de survente","RCI-overbought":"Niveau de surachat","RCI-price":"Cours","RCI-close":"Clôture","RCI-high":"Plus Haut","RCI-low":"Plus Bas","RCI-open":"Ouverture","RCI-period1":"RCI pour 1","RCI-period2":"RCI pour 2","RCI-period3":"RCI pour 3","RCI-period4":"RCI pour 4","RCI-period5":"RCI pour 5","RCI-period6":"RCI pour 6","RCI-period7":"RCI pour 7","RCI-period8":"RCI pour 8","RCI-rankCorrelationIndex1":null,"RCI-rankCorrelationIndex2":null,"RCI-rankCorrelationIndex3":null,"RCI-rankCorrelationIndex4":null,"RCI-rankCorrelationIndex5":null,"RCI-rankCorrelationIndex6":null,"RCI-rankCorrelationIndex7":null,"RCI-rankCorrelationIndex8":null,RSI:"RSI","RSI-short":"RSI","RSI-period":"Période","RSI-relativeStrengthIndex":"RSI",SAR:"Parabolique SAR","SAR-short":"SAR","SAR-initialAcceleration":"Accélération Min","SAR-accelerationStep":"Facteur d’accélération","SAR-accelerationLimit":"Accélération Max","SAR-parabolicSar":"SAR",BOL:"Bande de Bollinger","BOL-short":"Boll","BOL-period":"Période","BOL-standardDeviation":"Déviation Standard","BOL-bollingerPositiveBand":"Bollinger+","BOL-bollingerNegativeBand":"Bollinger-","BOL-bollingerMovingAverageBand":"MM",BBW:"Largeur de la bande de Bollinger","BBW-bolBandwidth":"Largeur de la bande","BBW-short":"BBW","BBW-period":"Période","BBW-standardDeviation":"Déviation Standard",BOLPCTB:"Bollinger %B","BOLPCTB-bolPctB":"%B","BOLPCTB-short":"BB %B","BOLPCTB-period":"Période","BOLPCTB-standardDeviation":"Déviation Standard",MACD:"MACD","MACD-short":"MACD","MACD-slowEmaPeriod":"MM long terme","MACD-fastEmaPeriod":"MM court terme","MACD-signalEmaPeriod":"Période de la ligne de Signal","MACD-macd":"MACD","MACD-macdHistogram":"Histogramme du MACD","MACD-macdSignal":"Ligne de signal",MFI:"Money Flow Index","MFI-short":"MFI","MFI-period":"Période","MFI-moneyFlowIndex":"MFI ({period})",STOCH:"Stochastique","STOCH-short":"Stoch","STOCH-periodK":"%K Périodes","STOCH-slowing":"Période de lissage","STOCH-periodD":"%D Périodes","STOCH-stochasticK":"%K","STOCH-stochasticD":"%D","STOCH-oversold":"Niveau de survente","STOCH-overbought":"Niveau de surachat",VOLUME:"Volume","VOLUME-short":"Volume","VOLUME-volume":"Volume","VOLUME-tick":"Volume en ticks",STDEV:"Écart type","STDEV-short":"ET","STDEV-period":"Période","STDEV-standardDeviation":"ET({period})",WILLR:"Williams %R","WILLR-short":"W%R","WILLR-period":"Période","WILLR-williamsPercentR":"W%R({period})",MOMENTUM:"Momentum","MOMENTUM-short":"Momntm","MOMENTUM-period":"Période","MOMENTUM-momentum":"M({period})",ICHIMOKU:"Ichimoku","ICHIMOKU-short":"Ichi","ICHIMOKU-ichimoku":"Ichimoku","ICHIMOKU-shortPeriod":"MM court terme","ICHIMOKU-longPeriod":"MM long terme","ICHIMOKU-signalPeriod":"Nb de périodes signal","ICHIMOKU-tenkan":"Tenkan({shortPeriod})","ICHIMOKU-kijun":"Kijun({longPeriod})","ICHIMOKU-spana":"Span A({longPeriod})","ICHIMOKU-spanb":"Span B({signalPeriod})","ICHIMOKU-chikou":"Chikou({longPeriod})",AWESOME:"Oscillateur Awesome","AWESOME-short":"Awsm","AWESOME-shortPeriod":"Période courte","AWESOME-longPeriod":"Période longue","AWESOME-awesome":"Awesome",ATR:"Average True Range","ATR-short":"ATR","ATR-averageTrueRange":"ATR({period})","ATR-period":"Période",CCI:"Commodity Channel Index","CCI-short":"CCI","CCI-period":"Période","CCI-cci":"CCI({period})",AROON:"Aroon","AROON-short":"Aroon","AROON-period":"Période","AROON-aroonUp":"Aroon+({period})","AROON-aroonDown":"Aroon-({period})",KDJ:"KDJ","KDJ-short":"KDJ","KDJ-periodK":"%K Périodes","KDJ-slowing":"Période de lissage","KDJ-periodD":"%D Périodes","KDJ-KDJStochasticK":"%K","KDJ-KDJStochasticD":"%D","KDJ-KDJStochasticJ":"%J","KDJ-oversold":"Niveau de survente","KDJ-overbought":"Niveau de surachat",CHAIKIN:"Volatilité de Chaikin","CHAIKIN-short":"Chaik","CHAIKIN-chaikinVolatility":"Chaikin({emaPeriod},{pastPeriod})","CHAIKIN-emaPeriod":"Nb Périodes MM","CHAIKIN-pastPeriod":"Nb Périodes antérieures",DPO:"Detrended Price Oscillator","DPO-short":"DPO","DPO-period":"Période","DPO-dpo":"DPO({period})",DMI:"Mouvement Directionnel","DMI-short":"DMI","DMI-period":"Période","DMI-diPlus":"DI+({period})","DMI-diMinus":"DI-({period})","DMI-adx":"ADX({period})","DMI-style":"Style","DMI-line":"Ligne","DMI-diHistogram":"Histogramme",PIVOT:"Point pivot","PIVOT-short":"Pivot","PIVOT-pivot":"Pivot","PIVOT-pivotShort":"Piv","PIVOT-r1":"R1","PIVOT-r2":"R2","PIVOT-r3":"R3","PIVOT-s1":"S1","PIVOT-s2":"S2","PIVOT-s3":"S3","PIVOT-resolution":"Intervalle","PIVOT-4-hours":"4 Heures","PIVOT-daily":"Quotidien","PIVOT-weekly":"Hebdomadaire","PIVOT-monthly":"Mensuel","PIVOT-formula":"Formula","PIVOT-HLO":"(H+B+O)/3","PIVOT-HLC":"(H+B+C)/3","PIVOT-HLOC":"(H+B+C+O)/4","PIVOT-historical":"Afficher les points pivots précédents",DONCHIAN:"Canal de Donchian","DONCHIAN-short":"Donchian","DONCHIAN-period":"Période","DONCHIAN-donchianUp":"Donchian Haussier","DONCHIAN-donchianDown":"Donchian Baisser","DONCHIAN-donchianMiddle":"Donchian Neutre",KELTNER:"Canal de Keltner","KELTNER-short":"Keltner","KELTNER-period":"Période","KELTNER-multiplier":"Multiplicateur","KELTNER-keltnerUp":"Keltner Haussier","KELTNER-keltnerDown":"Keltner Baissier","KELTNER-keltnerMiddle":"Keltner Neutre",WMA:"Moyenne mobile pondérée","WMA-short":"MMP","WMA-period1":"MMP-période 1","WMA-period2":"MMP-période 2","WMA-period3":"MMP-période 3","WMA-period4":"MMP-période 4","WMA-period5":"MMP-période 5","WMA-period6":"MMP-période 6","WMA-period7":"MMP-période 7","WMA-period8":"MMP-période 8","WMA-weightedMovingAverage1":"MMP({period1})","WMA-weightedMovingAverage2":"MMP({period2})","WMA-weightedMovingAverage3":"MMP({period3})","WMA-weightedMovingAverage4":"MMP({period4})","WMA-weightedMovingAverage5":"MMP({period5})","WMA-weightedMovingAverage6":"MMP({period6})","WMA-weightedMovingAverage7":"MMP({period7})","WMA-weightedMovingAverage8":"MMP({period8})",VWAP:"Prix moyen pondéré par le volume","VWAP-short":"VWAP","VWAP-vwap":"VWAP",VWMA:"Moyenne mobile pondérée par le volume","VWMA-short":"MMPV","VWMA-period1":"MMPV-période 1","VWMA-period2":"MMPV-période 2","VWMA-period3":"MMPV-période 3","VWMA-period4":"MMPV-période 4","VWMA-period5":"MMPV-période 5","VWMA-period6":"MMPV-période 6","VWMA-period7":"MMPV-période 7","VWMA-period8":"MMPV-période 8","VWMA-volumeWeightedMovingAverage1":"MMPV({period1})","VWMA-volumeWeightedMovingAverage2":"MMPV({period2})","VWMA-volumeWeightedMovingAverage3":"MMPV({period3})","VWMA-volumeWeightedMovingAverage4":"MMPV({period4})","VWMA-volumeWeightedMovingAverage5":"MMPV({period5})","VWMA-volumeWeightedMovingAverage6":"MMPV({period6})","VWMA-volumeWeightedMovingAverage7":"MMPV({period7})","VWMA-volumeWeightedMovingAverage8":"MMPV({period8})",SUPERTREND:"SuperTrend","SUPERTREND-short":"STrend","SUPERTREND-period":"Période","SUPERTREND-multiplier":"Multiplicateur","SUPERTREND-superTrend":"STrend({period},{multiplier})",ROC:"Taux de change","ROC-short":"TDC","ROC-period":"Période","ROC-roc":"TDC({period})",DERIVATIVE:"Prix du dérivé","DERIVATIVE-short":"Prix du dérivé","DERIVATIVE-derivative":"Prix du dérivé","DERIVATIVE-open":"Ouverture","DERIVATIVE-high":"Plus Haut","DERIVATIVE-low":"Plus Bas","DERIVATIVE-close":"Clôture","DERIVATIVE-change":"Variation"},it:{indicatorsDisabled:"Mostra",notAvailableInTick:'Indicatore non disponibile nell\'intervallo "tick" dei grafici',notAvailableIntraday:"Indicatore disponibile solo per intervalli di tempo inferiori all'intervallo giornaliero",volumeNotAvailable:"Quantità non disponibile per questo mercato",MVAVG:"Media mobile","MVAVG-short":"MA","MVAVG-period1":"MA per 1","MVAVG-period2":"MA per 2","MVAVG-period3":"MA per 3","MVAVG-period4":"MA per 4","MVAVG-period5":"MA per 5","MVAVG-period6":"MA per 6","MVAVG-period7":"MA per 7","MVAVG-period8":"MA per 8","MVAVG-movingAverage1":"MA({period1})","MVAVG-movingAverage2":"MA({period2})","MVAVG-movingAverage3":"MA({period3})","MVAVG-movingAverage4":"MA({period4})","MVAVG-movingAverage5":"MA({period5})","MVAVG-movingAverage6":"MA({period6})","MVAVG-movingAverage7":"MA({period7})","MVAVG-movingAverage8":"MA({period8})",EMA:"Media mobile esponenziale","EMA-short":"EMA","EMA-period1":"EMA per 1","EMA-period2":"EMA per 2","EMA-period3":"EMA per 3","EMA-period4":"EMA per 4","EMA-period5":"EMA per 5","EMA-period6":"EMA per 6","EMA-period7":"EMA per 7","EMA-period8":"EMA per 8","EMA-exponentialMovingAverage1":"EMA({period1})","EMA-exponentialMovingAverage2":"EMA({period2})","EMA-exponentialMovingAverage3":"EMA({period3})","EMA-exponentialMovingAverage4":"EMA({period4})","EMA-exponentialMovingAverage5":"EMA({period5})","EMA-exponentialMovingAverage6":"EMA({period6})","EMA-exponentialMovingAverage7":"EMA({period7})","EMA-exponentialMovingAverage8":"EMA({period8})",EOM:"Ease of Movement","EOM-short":"EOM","EOM-period":"Periode","EOM-divisor":"Denominatore","EOM-easeofMovement":"EOM",RCI:null,"RCI-short":null,"RCI-oversold":"Livello di ipervenduto","RCI-overbought":"Livello di ipercomprato","RCI-price":"Prezzo","RCI-close":"Chiusura","RCI-high":"Massimo","RCI-low":"Minimo","RCI-open":"Apertura","RCI-period1":"RCI per 1","RCI-period2":"RCI per 2","RCI-period3":"RCI per 3","RCI-period4":"RCI per 4","RCI-period5":"RCI per 5","RCI-period6":"RCI per 6","RCI-period7":"RCI per 7","RCI-period8":"RCI per 8","RCI-rankCorrelationIndex1":null,"RCI-rankCorrelationIndex2":null,"RCI-rankCorrelationIndex3":null,"RCI-rankCorrelationIndex4":null,"RCI-rankCorrelationIndex5":null,"RCI-rankCorrelationIndex6":null,"RCI-rankCorrelationIndex7":null,"RCI-rankCorrelationIndex8":null,RSI:"RSI","RSI-short":"RSI","RSI-period":"Periodo","RSI-relativeStrengthIndex":"RSI",SAR:"Parabolic SAR","SAR-short":"SAR","SAR-initialAcceleration":"Fattore d'accelerazione iniziale","SAR-accelerationStep":"Fattore addizionale","SAR-accelerationLimit":"Limite Fattore d'accelerazione","SAR-parabolicSar":"SAR",BOL:"Banda di Bollinger","BOL-short":"Boll","BOL-period":"Periodo","BOL-standardDeviation":"Deviazione standard","BOL-bollingerPositiveBand":"Bollinger+","BOL-bollingerNegativeBand":"Bollinger-","BOL-bollingerMovingAverageBand":"MA",BBW:"Larghezza bande di Bollinger","BBW-bolBandwidth":"Larghezza bande","BBW-short":"BBW","BBW-period":"Periodo","BBW-standardDeviation":"Deviazione standard",BOLPCTB:"Bollinger %B","BOLPCTB-bolPctB":"%B","BOLPCTB-short":"BB %B","BOLPCTB-period":"Periodo","BOLPCTB-standardDeviation":"Deviazione standard",MACD:"MACD","MACD-short":"MACD","MACD-slowEmaPeriod":"Periodo EMA lento","MACD-fastEmaPeriod":"Periodo EMA veloce","MACD-signalEmaPeriod":"Periodo Linea di segnale","MACD-macd":"MACD","MACD-macdHistogram":"Istogramma MACD","MACD-macdSignal":"Linea di segnale",MFI:"Money Flow Index","MFI-short":"MFI","MFI-period":"Periodo","MFI-moneyFlowIndex":"MFI({period})",STOCH:"Stocastico","STOCH-short":"Stoch","STOCH-periodK":"%K Periodi","STOCH-slowing":"Periodi di rallentamento","STOCH-periodD":"%D Periodi","STOCH-stochasticK":"%K","STOCH-stochasticD":"%D","STOCH-oversold":"Livello di ipervenduto","STOCH-overbought":"Livello di ipercomprato",VOLUME:"Volume","VOLUME-short":"Volume","VOLUME-volume":"Volume","VOLUME-tick":"Tick Volume",STDEV:"Deviazione standard","STDEV-short":"DS","STDEV-period":"Periodo","STDEV-standardDeviation":"DS({period})",WILLR:"Williams %R","WILLR-short":"W%R","WILLR-period":"Periodo","WILLR-williamsPercentR":"W%R({period})",MOMENTUM:"Momentum","MOMENTUM-short":"Momntm","MOMENTUM-period":"Periodo","MOMENTUM-momentum":"M({period})",ICHIMOKU:"Ichimoku","ICHIMOKU-short":"Ichi","ICHIMOKU-ichimoku":"Ichimoku","ICHIMOKU-shortPeriod":"Periodo breve","ICHIMOKU-longPeriod":"Periodo lungo","ICHIMOKU-signalPeriod":"Segnale periodo","ICHIMOKU-tenkan":"Tenkan({shortPeriod})","ICHIMOKU-kijun":"Kijun({longPeriod})","ICHIMOKU-spana":"Span A({longPeriod})","ICHIMOKU-spanb":"Span B({signalPeriod})","ICHIMOKU-chikou":"Chikou({longPeriod})",AWESOME:"Awesome Oscillator","AWESOME-short":"Awsm","AWESOME-shortPeriod":"Periodo breve","AWESOME-longPeriod":"Periodo lungo","AWESOME-awesome":"Awesome",ATR:"Average True Range","ATR-short":"ATR","ATR-averageTrueRange":"ATR({period})","ATR-period":"Periodo",CCI:"Commodity Channel Index","CCI-short":"CCI","CCI-period":"Periodo","CCI-cci":"CCI({period})",AROON:"Aroon","AROON-short":"Aroon","AROON-period":"Periodo","AROON-aroonUp":"Aroon+({period})","AROON-aroonDown":"Aroon-({period})",KDJ:"KDJ","KDJ-short":"KDJ","KDJ-periodK":"%K Periodi","KDJ-slowing":"Periodi di rallentamento","KDJ-periodD":"%D Periodi","KDJ-KDJStochasticK":"%K","KDJ-KDJStochasticD":"%D","KDJ-KDJStochasticJ":"%J","KDJ-oversold":"Livello di ipervenduto","KDJ-overbought":"Livello di ipercomprato",CHAIKIN:"Volatilità Chaikin","CHAIKIN-short":"Chaik","CHAIKIN-chaikinVolatility":"Chaikin({emaPeriod},{pastPeriod})","CHAIKIN-emaPeriod":"Periodo EMA","CHAIKIN-pastPeriod":"Periodo passato",DPO:"Oscillazione detrended del prezzo","DPO-short":"DPO","DPO-period":"Periodo","DPO-dpo":"DPO({period})",DMI:"Movimento direzionale","DMI-short":"D. Mvt","DMI-period":"Periodo","DMI-diPlus":"DI+({period})","DMI-diMinus":"DI-({period})","DMI-adx":"ADX({period})","DMI-style":"Stile","DMI-line":"Lineare","DMI-diHistogram":"Istogramma",PIVOT:"Punto Pivot","PIVOT-short":"Pivot","PIVOT-pivot":"Pivot","PIVOT-pivotShort":"Piv","PIVOT-r1":"R1","PIVOT-r2":"R2","PIVOT-r3":"R3","PIVOT-s1":"S1","PIVOT-s2":"S2","PIVOT-s3":"S3","PIVOT-resolution":"Intervallo","PIVOT-4-hours":"4 Ore","PIVOT-daily":"Giornaliero","PIVOT-weekly":"Settimanale","PIVOT-monthly":"Mensile","PIVOT-formula":"Formula","PIVOT-HLO":"(H+L+O)/3","PIVOT-HLC":"(H+L+C)/3","PIVOT-HLOC":"(H+L+C+O)/4","PIVOT-historical":"Mostra Pivot point passati",DONCHIAN:"Canale di Donchian","DONCHIAN-short":"Donchian","DONCHIAN-period":"Periodo","DONCHIAN-donchianUp":"Banda superiore Donchian","DONCHIAN-donchianDown":"Banda inferiore Donchian","DONCHIAN-donchianMiddle":"Banda media Donchian",KELTNER:"Canale di Keltner","KELTNER-short":"Keltner","KELTNER-period":"Periodo","KELTNER-multiplier":"Moltiplicatore","KELTNER-keltnerUp":"Banda superiore Keltner","KELTNER-keltnerDown":"Banda inferiore Keltner","KELTNER-keltnerMiddle":"Banda media Keltner",WMA:"Media Mobile Ponderata","WMA-short":"WMA","WMA-period1":"WMA per 1","WMA-period2":"WMA per 2","WMA-period3":"WMA per 3","WMA-period4":"WMA per 4","WMA-period5":"WMA per 5","WMA-period6":"WMA per 6","WMA-period7":"WMA per 7","WMA-period8":"WMA per 8","WMA-weightedMovingAverage1":"WMA({period1})","WMA-weightedMovingAverage2":"WMA({period2})","WMA-weightedMovingAverage3":"WMA({period3})","WMA-weightedMovingAverage4":"WMA({period4})","WMA-weightedMovingAverage5":"WMA({period5})","WMA-weightedMovingAverage6":"WMA({period6})","WMA-weightedMovingAverage7":"WMA({period7})","WMA-weightedMovingAverage8":"WMA({period8})",VWAP:"Volume Weighted Average Price","VWAP-short":"VWAP","VWAP-vwap":"VWAP",VWMA:"Media Mobile Ponderata sui Volumi","VWMA-short":"VWMA","VWMA-period1":"VWMA per 1","VWMA-period2":"VWMA per 2","VWMA-period3":"VWMA per 3","VWMA-period4":"VWMA per 4","VWMA-period5":"VWMA per 5","VWMA-period6":"VWMA per 6","VWMA-period7":"VWMA per 7","VWMA-period8":"VWMA per 8","VWMA-volumeWeightedMovingAverage1":"VWMA({period1})","VWMA-volumeWeightedMovingAverage2":"VWMA({period2})","VWMA-volumeWeightedMovingAverage3":"VWMA({period3})","VWMA-volumeWeightedMovingAverage4":"VWMA({period4})","VWMA-volumeWeightedMovingAverage5":"VWMA({period5})","VWMA-volumeWeightedMovingAverage6":"VWMA({period6})","VWMA-volumeWeightedMovingAverage7":"VWMA({period7})","VWMA-volumeWeightedMovingAverage8":"VWMA({period8})",SUPERTREND:"SuperTrend","SUPERTREND-short":"STrend","SUPERTREND-period":"Periodo","SUPERTREND-multiplier":"Moltiplicatore","SUPERTREND-superTrend":"STrend({period},{multiplier})",ROC:"Rate of Change","ROC-short":"ROC","ROC-period":"Periodo","ROC-roc":"ROC({period})",DERIVATIVE:"Prezzo del derivato","DERIVATIVE-short":"Prezzo del derivato","DERIVATIVE-derivative":"Prezzo del derivato","DERIVATIVE-open":"Apertura","DERIVATIVE-high":"Massimo","DERIVATIVE-low":"Minimo","DERIVATIVE-close":"Chiusura","DERIVATIVE-change":"Variazione"},ja:{indicatorsDisabled:"表示する",notAvailableInTick:"この指標はティックではご利用できません",notAvailableIntraday:"日足・週足・月足ではご利用いただけません",volumeNotAvailable:"この銘柄の出来高は利用できません",MVAVG:"移動平均","MVAVG-short":"移動平均","MVAVG-period1":"移動平均 1","MVAVG-period2":"移動平均 2","MVAVG-period3":"移動平均 3","MVAVG-period4":"移動平均 4","MVAVG-period5":"移動平均 5","MVAVG-period6":"移動平均 6","MVAVG-period7":"移動平均 7","MVAVG-period8":"移動平均 8","MVAVG-movingAverage1":"移動平均({period1})","MVAVG-movingAverage2":"移動平均({period2})","MVAVG-movingAverage3":"移動平均({period3})","MVAVG-movingAverage4":"移動平均({period4})","MVAVG-movingAverage5":"移動平均({period5})","MVAVG-movingAverage6":"移動平均({period6})","MVAVG-movingAverage7":"移動平均({period7})","MVAVG-movingAverage8":"移動平均({period8})",EMA:"指数平滑移動平均(EMA)","EMA-short":"EMA","EMA-period1":"EMA　 1","EMA-period2":"EMA　 2","EMA-period3":"EMA　 3","EMA-period4":"EMA　 4","EMA-period5":"EMA　 5","EMA-period6":"EMA　 6","EMA-period7":"EMA　 7","EMA-period8":"EMA　 8","EMA-exponentialMovingAverage1":"EMA({period1})","EMA-exponentialMovingAverage2":"EMA({period2})","EMA-exponentialMovingAverage3":"EMA({period3})","EMA-exponentialMovingAverage4":"EMA({period4})","EMA-exponentialMovingAverage5":"EMA({period5})","EMA-exponentialMovingAverage6":"EMA({period6})","EMA-exponentialMovingAverage7":"EMA({period7})","EMA-exponentialMovingAverage8":"EMA({period8})",EOM:"EOM（EMV）","EOM-short":"EOM（EMV）","EOM-period":"期間","EOM-divisor":"除数","EOM-easeofMovement":"EOM（EMV)",RCI:"RCI(順位相関係数)","RCI-short":null,"RCI-oversold":"売られ過ぎの水準","RCI-overbought":"買われ過ぎの水準","RCI-price":"利用データ","RCI-close":"終値","RCI-high":"高値","RCI-low":"安値","RCI-open":"始値","RCI-period1":"RCI　 1","RCI-period2":"RCI　 2","RCI-period3":"RCI　 3","RCI-period4":"RCI　 4","RCI-period5":"RCI　 5","RCI-period6":"RCI　 6","RCI-period7":"RCI　 7","RCI-period8":"RCI　 8","RCI-rankCorrelationIndex1":null,"RCI-rankCorrelationIndex2":null,"RCI-rankCorrelationIndex3":null,"RCI-rankCorrelationIndex4":null,"RCI-rankCorrelationIndex5":null,"RCI-rankCorrelationIndex6":null,"RCI-rankCorrelationIndex7":null,"RCI-rankCorrelationIndex8":null,RSI:"RSI","RSI-short":"RSI","RSI-period":"期間","RSI-relativeStrengthIndex":"RSI",SAR:"パラボリックSAR","SAR-short":"SAR","SAR-initialAcceleration":"加速因子","SAR-accelerationStep":"加速因子加算幅","SAR-accelerationLimit":"加速因子上限","SAR-parabolicSar":"SAR",BOL:"ボリンジャー・バンド","BOL-short":"ボリンジャー","BOL-period":"期間","BOL-standardDeviation":"標準偏差","BOL-bollingerPositiveBand":"ボリンジャー+","BOL-bollingerNegativeBand":"ボリンジャー-","BOL-bollingerMovingAverageBand":"移動平均",BBW:"ボリンジャー  バンド幅","BBW-bolBandwidth":"バンド幅","BBW-short":"ボリンジャー  バンド幅","BBW-period":"期間","BBW-standardDeviation":"標準偏差",BOLPCTB:"ボリンジャー %B","BOLPCTB-bolPctB":"%B","BOLPCTB-short":"ボリンジャー %B","BOLPCTB-period":"期間","BOLPCTB-standardDeviation":"標準偏差",MACD:"MACD","MACD-short":"MACD","MACD-slowEmaPeriod":"長期EMA","MACD-fastEmaPeriod":"短期EMA","MACD-signalEmaPeriod":"シグナルライン","MACD-macd":"MACD","MACD-macdHistogram":"MACDヒストグラム","MACD-macdSignal":"シグナルライン",MFI:"マネーフローインデックス","MFI-short":"MFI","MFI-period":"期間","MFI-moneyFlowIndex":"MFI({period})",STOCH:"ストキャスティクス","STOCH-short":"STC","STOCH-periodK":"%K期間","STOCH-slowing":"スロー期間","STOCH-periodD":"%D期間","STOCH-stochasticK":"%K","STOCH-stochasticD":"%D","STOCH-oversold":"売られすぎの水準","STOCH-overbought":"買われすぎの水準",VOLUME:"出来高","VOLUME-short":"出来高","VOLUME-volume":"出来高","VOLUME-tick":"ティックボリューム",STDEV:"標準偏差","STDEV-short":"標準偏差","STDEV-period":"期間","STDEV-standardDeviation":"標準偏差({period})",WILLR:"ウィリアムズ%R","WILLR-short":"ウィリアムズ%R","WILLR-period":"期間","WILLR-williamsPercentR":"ウィリアムズ%R({period})",MOMENTUM:"モメンタム","MOMENTUM-short":"モメンタム","MOMENTUM-period":"期間","MOMENTUM-momentum":"M({period})",ICHIMOKU:"一目均衡表","ICHIMOKU-short":"一目均衡表","ICHIMOKU-ichimoku":"一目均衡表","ICHIMOKU-shortPeriod":"短期","ICHIMOKU-longPeriod":"長期","ICHIMOKU-signalPeriod":"シグナル期間","ICHIMOKU-tenkan":"転換線({shortPeriod})","ICHIMOKU-kijun":"基準線({longPeriod})","ICHIMOKU-spana":"スパンA({longPeriod})","ICHIMOKU-spanb":"スパンB({signalPeriod})","ICHIMOKU-chikou":"遅行線({longPeriod})",AWESOME:"オーサム・オシレーター","AWESOME-short":"オーサム","AWESOME-shortPeriod":"短期周期","AWESOME-longPeriod":"長期周期","AWESOME-awesome":"オーサム",ATR:"アベレージ・トゥルー・レンジ(ATR)","ATR-short":"ATR","ATR-averageTrueRange":"ATR({period})","ATR-period":"期間",CCI:"商品チャネル指数","CCI-short":"商品チャネル指数","CCI-period":"期間","CCI-cci":"CCI({period})",AROON:"アルーン","AROON-short":"アルーン","AROON-period":"期間","AROON-aroonUp":"アルーン+({period})","AROON-aroonDown":"アルーン-({period})",KDJ:"KDJ","KDJ-short":"KDJ","KDJ-periodK":"%K期間","KDJ-slowing":"スロー期間","KDJ-periodD":"%D期間","KDJ-KDJStochasticK":"%K","KDJ-KDJStochasticD":"%D","KDJ-KDJStochasticJ":"%J","KDJ-oversold":"売られすぎの水準","KDJ-overbought":"買われすぎの水準",CHAIKIN:"チャイキン・ボラティリティー","CHAIKIN-short":"チャイキン","CHAIKIN-chaikinVolatility":"チャイキン・ボラティリティー({emaPeriod},{pastPeriod})","CHAIKIN-emaPeriod":"EMA期間数","CHAIKIN-pastPeriod":"過去期間数",DPO:"デトレンディッド・プライス・ オシレーター","DPO-short":"DPO","DPO-period":"期間","DPO-dpo":"DPO({period})",DMI:"ディレクショナル・ムーブメント","DMI-short":"ディレクショナル・ムーブメント","DMI-period":"期間","DMI-diPlus":"DI+({period})","DMI-diMinus":"DI-({period})","DMI-adx":"ADX({period})","DMI-style":"チャート種類","DMI-line":"ライン","DMI-diHistogram":"ヒストグラム",PIVOT:"ピボット・ポイント","PIVOT-short":"ピボット","PIVOT-pivot":"ピボット・ポイント","PIVOT-pivotShort":"ピボット","PIVOT-r1":"R1","PIVOT-r2":"R2","PIVOT-r3":"R3","PIVOT-s1":"S1","PIVOT-s2":"S2","PIVOT-s3":"S3","PIVOT-resolution":"時間軸","PIVOT-4-hours":"4 時間","PIVOT-daily":"日間","PIVOT-weekly":"週間","PIVOT-monthly":"月間","PIVOT-formula":"Formula","PIVOT-HLO":"(H+L+O)/3","PIVOT-HLC":"(H+L+C)/3","PIVOT-HLOC":"(H+L+C+O)/4","PIVOT-historical":"ピボットポイントの履歴を表示",DONCHIAN:"ドンチャン・チャネル","DONCHIAN-short":"ドンチャン","DONCHIAN-period":"期間","DONCHIAN-donchianUp":"期間","DONCHIAN-donchianDown":"下落","DONCHIAN-donchianMiddle":"中間",KELTNER:"ケルトナー・チャネル","KELTNER-short":"ケルトナー","KELTNER-period":"期間","KELTNER-multiplier":"乗数","KELTNER-keltnerUp":"上昇","KELTNER-keltnerDown":"下落","KELTNER-keltnerMiddle":"中間",WMA:"加重移動平均(WMA)","WMA-short":"WMA","WMA-period1":"WMA-期間1","WMA-period2":"WMA-期間2","WMA-period3":"WMA-期間3","WMA-period4":"WMA-期間4","WMA-period5":"WMA-期間5","WMA-period6":"WMA-期間6","WMA-period7":"WMA-期間7","WMA-period8":"WMA-期間8","WMA-weightedMovingAverage1":"WMA({period1})","WMA-weightedMovingAverage2":"WMA({period2})","WMA-weightedMovingAverage3":"WMA({period3})","WMA-weightedMovingAverage4":"WMA({period4})","WMA-weightedMovingAverage5":"WMA({period5})","WMA-weightedMovingAverage6":"WMA({period6})","WMA-weightedMovingAverage7":"WMA({period7})","WMA-weightedMovingAverage8":"WMA({period8})",VWAP:"売買高加重平均価格","VWAP-short":"VWAP","VWAP-vwap":"VWAP",VWMA:"出来高加重移動平均線","VWMA-short":"VWMA","VWMA-period1":"VWMA-期間1","VWMA-period2":"VWMA-期間2","VWMA-period3":"VWMA-期間3","VWMA-period4":"VWMA-期間4","VWMA-period5":"VWMA-期間5","VWMA-period6":"VWMA-期間6","VWMA-period7":"VWMA-期間7","VWMA-period8":"VWMA-期間8","VWMA-volumeWeightedMovingAverage1":"VWMA({period1})","VWMA-volumeWeightedMovingAverage2":"VWMA({period2})","VWMA-volumeWeightedMovingAverage3":"VWMA({period3})","VWMA-volumeWeightedMovingAverage4":"VWMA({period4})","VWMA-volumeWeightedMovingAverage5":"VWMA({period5})","VWMA-volumeWeightedMovingAverage6":"VWMA({period6})","VWMA-volumeWeightedMovingAverage7":"VWMA({period7})","VWMA-volumeWeightedMovingAverage8":"VWMA({period8})",SUPERTREND:"スーパートレンド","SUPERTREND-short":"STトレンド","SUPERTREND-period":"期間","SUPERTREND-multiplier":"乗数","SUPERTREND-superTrend":"STトレンド({period},{multiplier})",ROC:"変化率","ROC-short":"%","ROC-period":"期間","ROC-roc":"ROC({period})"},nl:{indicatorsDisabled:"Tonen",notAvailableInTick:"Indicator niet beschikbaar voor het Tick interval",notAvailableIntraday:"Indicator alleen beschikbaar op tijdsbestekken lager dan het interval Dagelijks",volumeNotAvailable:"Volume is niet beschikbaar voor deze markt",MVAVG:"Moving Average","MVAVG-short":"MA","MVAVG-period1":"MA voor 1","MVAVG-period2":"MA voor 2","MVAVG-period3":"MA voor 3","MVAVG-period4":"MA voor 4","MVAVG-period5":"MA voor 5","MVAVG-period6":"MA voor 6","MVAVG-period7":"MA voor 7","MVAVG-period8":"MA voor 8","MVAVG-movingAverage1":"MA({period1})","MVAVG-movingAverage2":"MA({period2})","MVAVG-movingAverage3":"MA({period3})","MVAVG-movingAverage4":"MA({period4})","MVAVG-movingAverage5":"MA({period5})","MVAVG-movingAverage6":"MA({period6})","MVAVG-movingAverage7":"MA({period7})","MVAVG-movingAverage8":"MA({period8})",EMA:"Exponentieel Moving Average","EMA-short":"EMA","EMA-period1":"EMA voor 1","EMA-period2":"EMA voor 2","EMA-period3":"EMA voor 3","EMA-period4":"EMA voor 4","EMA-period5":"EMA voor 5","EMA-period6":"EMA voor 6","EMA-period7":"EMA voor 7","EMA-period8":"EMA voor 8","EMA-exponentialMovingAverage1":"EMA({period1})","EMA-exponentialMovingAverage2":"EMA({period2})","EMA-exponentialMovingAverage3":"EMA({period3})","EMA-exponentialMovingAverage4":"EMA({period4})","EMA-exponentialMovingAverage5":"EMA({period5})","EMA-exponentialMovingAverage6":"EMA({period6})","EMA-exponentialMovingAverage7":"EMA({period7})","EMA-exponentialMovingAverage8":"EMA({period8})",EOM:"Ease of Movement","EOM-short":"EOM","EOM-period":"Periode","EOM-divisor":"Deler","EOM-easeofMovement":"EOM",RCI:null,"RCI-short":null,"RCI-oversold":"Oversold-niveau","RCI-overbought":"Overbought-niveau","RCI-price":"Prijs","RCI-close":"Sluiting","RCI-high":"Hoogste","RCI-low":"Laagste","RCI-open":"Openingsprijs","RCI-period1":"RCI voor 1","RCI-period2":"RCI voor 2","RCI-period3":"RCI voor 3","RCI-period4":"RCI voor 4","RCI-period5":"RCI voor 5","RCI-period6":"RCI voor 6","RCI-period7":"RCI voor 7","RCI-period8":"RCI voor 8","RCI-rankCorrelationIndex1":null,"RCI-rankCorrelationIndex2":null,"RCI-rankCorrelationIndex3":null,"RCI-rankCorrelationIndex4":null,"RCI-rankCorrelationIndex5":null,"RCI-rankCorrelationIndex6":null,"RCI-rankCorrelationIndex7":null,"RCI-rankCorrelationIndex8":null,RSI:"RSI","RSI-short":"RSI","RSI-period":"Periode","RSI-relativeStrengthIndex":"RSI",SAR:"Parabolische SAR","SAR-short":"SAR","SAR-initialAcceleration":"Initiële Acceleratie","SAR-accelerationStep":"Acceleratie Stap","SAR-accelerationLimit":"Acceleratie Limiet","SAR-parabolicSar":"SAR",BOL:"Bollinger Band","BOL-short":"Boll","BOL-period":"Periode","BOL-standardDeviation":"Standaard Deviatie","BOL-bollingerPositiveBand":"Bollinger+","BOL-bollingerNegativeBand":"Bollinger-","BOL-bollingerMovingAverageBand":"MA",BBW:"Bollinger bandbreedte","BBW-bolBandwidth":"Bandbreedte","BBW-short":"BBB","BBW-period":"Periode","BBW-standardDeviation":"Standaard Deviatie",BOLPCTB:"Bollinger %B","BOLPCTB-bolPctB":"%B","BOLPCTB-short":"BB %B","BOLPCTB-period":"Periode","BOLPCTB-standardDeviation":"Standaard Deviatie",MACD:"MACD","MACD-short":"MACD","MACD-slowEmaPeriod":"Langzame EMA Periode","MACD-fastEmaPeriod":"Snelle EMA Periode","MACD-signalEmaPeriod":"Signaallijn Periode","MACD-macd":"MACD","MACD-macdHistogram":"MACD Histogram","MACD-macdSignal":"Signaallijn",MFI:"Money Flow Index","MFI-short":"MFI","MFI-period":"Periode","MFI-moneyFlowIndex":"MFI({period})",STOCH:"Stochastic","STOCH-short":"Stoch","STOCH-periodK":"%K Periodes","STOCH-slowing":"Periodes","STOCH-periodD":"%D Periodes","STOCH-stochasticK":"%K","STOCH-stochasticD":"%D","STOCH-oversold":"Oversold-niveau","STOCH-overbought":"Overbought-niveau",VOLUME:"Volume","VOLUME-short":"Volume","VOLUME-volume":"Volume","VOLUME-tick":"Aantal ticks (volume)",STDEV:"Standaard Deviatie","STDEV-short":"SD","STDEV-period":"Periode","STDEV-standardDeviation":"SD({period})",WILLR:"Williams %R","WILLR-short":"W%R","WILLR-period":"Periode","WILLR-williamsPercentR":"W%R({period})",MOMENTUM:"Momentum","MOMENTUM-short":"Momntm","MOMENTUM-period":"Periode","MOMENTUM-momentum":"M({period})",ICHIMOKU:"Ichimoku","ICHIMOKU-short":"Ichi","ICHIMOKU-ichimoku":"Ichimoku","ICHIMOKU-shortPeriod":"Korte Periode","ICHIMOKU-longPeriod":"Lange Periode","ICHIMOKU-signalPeriod":"Signaal Periode","ICHIMOKU-tenkan":"Tenkan({shortPeriod})","ICHIMOKU-kijun":"Kijun({longPeriod})","ICHIMOKU-spana":"Span A({longPeriod})","ICHIMOKU-spanb":"Span B({signalPeriod})","ICHIMOKU-chikou":"Chikou({longPeriod})",AWESOME:"Awesome Oscillator","AWESOME-short":"Awsm","AWESOME-shortPeriod":"Korte Periode","AWESOME-longPeriod":"Lange Periode","AWESOME-awesome":"Awesome",ATR:"Average True Range","ATR-short":"ATR","ATR-averageTrueRange":"ATR({period})","ATR-period":"Periode",CCI:"Commodity Channel Index","CCI-short":"CCI","CCI-period":"Periode","CCI-cci":"CCI({period})",AROON:"Aroon","AROON-short":"Aroon","AROON-period":"Periode","AROON-aroonUp":"Aroon+({period})","AROON-aroonDown":"Aroon-({period})",KDJ:"KDJ","KDJ-short":"KDJ","KDJ-periodK":"%K Periodes","KDJ-slowing":"Periodes","KDJ-periodD":"%D Periodes","KDJ-KDJStochasticK":"%K","KDJ-KDJStochasticD":"%D","KDJ-KDJStochasticJ":"%J","KDJ-oversold":"Oversold-niveau","KDJ-overbought":"Overbought-niveau",CHAIKIN:"Chaikin Volatiliteit","CHAIKIN-short":"Chaik","CHAIKIN-chaikinVolatility":"Chaikin({emaPeriod},{pastPeriod})","CHAIKIN-emaPeriod":"EMA periode","CHAIKIN-pastPeriod":"Vorige periode",DPO:"Detrended Price Oscillator","DPO-short":"DPO","DPO-period":"Periode","DPO-dpo":"DPO({period})",DMI:"Directional Movement","DMI-short":"D. Mvt","DMI-period":"Periode","DMI-diPlus":"DI+({period})","DMI-diMinus":"DI-({period})","DMI-adx":"ADX({period})","DMI-style":"Stijl","DMI-line":"Lijn","DMI-diHistogram":"Histogram",PIVOT:"Pivot Punt","PIVOT-short":"Pivot","PIVOT-pivot":"Pivot","PIVOT-pivotShort":"Piv","PIVOT-r1":"R1","PIVOT-r2":"R2","PIVOT-r3":"R3","PIVOT-s1":"S1","PIVOT-s2":"S2","PIVOT-s3":"S3","PIVOT-resolution":"Interval","PIVOT-4-hours":"4 Uren","PIVOT-daily":"Dagelijks","PIVOT-weekly":"Wekelijks","PIVOT-monthly":"Maandelijks","PIVOT-formula":"Formula","PIVOT-HLO":"(H+L+O)/3","PIVOT-HLC":"(H+L+C)/3","PIVOT-HLOC":"(H+L+C+O)/4","PIVOT-historical":"Toon historische pivot points",DONCHIAN:"Donchian Channel","DONCHIAN-short":"Donchian","DONCHIAN-period":"Periode","DONCHIAN-donchianUp":"Donchian Omhoog","DONCHIAN-donchianDown":"Donchian Nederwaarts","DONCHIAN-donchianMiddle":"Donchian Midden",KELTNER:"Keltner Channel","KELTNER-short":"Keltner","KELTNER-period":"Periode","KELTNER-multiplier":"Vermenigvulder","KELTNER-keltnerUp":"Keltner Omhoog","KELTNER-keltnerDown":"Keltner Nederwaarts","KELTNER-keltnerMiddle":"Keltner Midden",WMA:"Weighted Moving Average","WMA-short":"WMA","WMA-period1":"WMA voor 1","WMA-period2":"WMA voor 2","WMA-period3":"WMA voor 3","WMA-period4":"WMA voor 4","WMA-period5":"WMA voor 5","WMA-period6":"WMA voor 6","WMA-period7":"WMA voor 7","WMA-period8":"WMA voor 8","WMA-weightedMovingAverage1":"WMA({period1})","WMA-weightedMovingAverage2":"WMA({period2})","WMA-weightedMovingAverage3":"WMA({period3})","WMA-weightedMovingAverage4":"WMA({period4})","WMA-weightedMovingAverage5":"WMA({period5})","WMA-weightedMovingAverage6":"WMA({period6})","WMA-weightedMovingAverage7":"WMA({period7})","WMA-weightedMovingAverage8":"WMA({period8})",VWAP:"Volume Weighted Average Price","VWAP-short":"VWAP","VWAP-vwap":"VWAP",VWMA:"Volumegewogen voortschrijdend gemiddelde","VWMA-short":"VWMA","VWMA-period1":"VWMA voor 1","VWMA-period2":"VWMA voor 2","VWMA-period3":"VWMA voor 3","VWMA-period4":"VWMA voor 4","VWMA-period5":"VWMA voor 5","VWMA-period6":"VWMA voor 6","VWMA-period7":"VWMA voor 7","VWMA-period8":"VWMA voor 8","VWMA-volumeWeightedMovingAverage1":"VWMA({period1})","VWMA-volumeWeightedMovingAverage2":"VWMA({period2})","VWMA-volumeWeightedMovingAverage3":"VWMA({period3})","VWMA-volumeWeightedMovingAverage4":"VWMA({period4})","VWMA-volumeWeightedMovingAverage5":"VWMA({period5})","VWMA-volumeWeightedMovingAverage6":"VWMA({period6})","VWMA-volumeWeightedMovingAverage7":"VWMA({period7})","VWMA-volumeWeightedMovingAverage8":"VWMA({period8})",SUPERTREND:"SuperTrend","SUPERTREND-short":"STrend","SUPERTREND-period":"Periode","SUPERTREND-multiplier":"Vermenigvulder","SUPERTREND-superTrend":"STrend({period},{multiplier})",ROC:"Rate of Change","ROC-short":"ROC","ROC-period":"Periode","ROC-roc":"ROC({period})",DERIVATIVE:"Afgeleide prijs","DERIVATIVE-short":"Afgeleide prijs","DERIVATIVE-derivative":"Afgeleide prijs","DERIVATIVE-open":"Openingsprijs","DERIVATIVE-high":"Hoogste","DERIVATIVE-low":"Laagste","DERIVATIVE-close":"Sluiting","DERIVATIVE-change":"Verandering"},nb:{indicatorsDisabled:"Vis",notAvailableInTick:"Indikatoren er ikke tilgjengelig i tick-intervall",notAvailableIntraday:"Indikatoren er kun tilgjengelig i mindre tick-intervall enn Daglig",volumeNotAvailable:"Indikator er ikke tilgjengelige i Tick oppløsningen",MVAVG:"Glidende gjennomsnitt","MVAVG-short":"GG","MVAVG-period1":"MA 1","MVAVG-period2":"MA 2","MVAVG-period3":"MA 3","MVAVG-period4":"MA 4","MVAVG-period5":"MA 5","MVAVG-period6":"MA 6","MVAVG-period7":"MA 7","MVAVG-period8":"MA 8","MVAVG-movingAverage1":"GG({period1})","MVAVG-movingAverage2":"GG({period2})","MVAVG-movingAverage3":"GG({period3})","MVAVG-movingAverage4":"GG({period4})","MVAVG-movingAverage5":"GG({period5})","MVAVG-movingAverage6":"GG({period6})","MVAVG-movingAverage7":"GG({period7})","MVAVG-movingAverage8":"GG({period8})",EMA:"Eksonensielt glidende gjennomsnitt","EMA-short":"EGG","EMA-period1":"EMA 1","EMA-period2":"EMA 2","EMA-period3":"EMA 3","EMA-period4":"EMA 4","EMA-period5":"EMA 5","EMA-period6":"EMA 6","EMA-period7":"EMA 7","EMA-period8":"EMA 8","EMA-exponentialMovingAverage1":"EGG({period1})","EMA-exponentialMovingAverage2":"EGG({period2})","EMA-exponentialMovingAverage3":"EGG({period3})","EMA-exponentialMovingAverage4":"EGG({period4})","EMA-exponentialMovingAverage5":"EGG({period5})","EMA-exponentialMovingAverage6":"EGG({period6})","EMA-exponentialMovingAverage7":"EGG({period7})","EMA-exponentialMovingAverage8":"EGG({period8})",EOM:"Ease of Movement","EOM-short":"EOM","EOM-period":"Periode","EOM-divisor":"Divisor","EOM-easeofMovement":"EOM",RCI:null,"RCI-short":null,"RCI-oversold":"Oversolgt nivå","RCI-overbought":"Overkjøpt nivå","RCI-price":"Kurs","RCI-close":"Stengning","RCI-high":"Høyest","RCI-low":"Lavest","RCI-open":"Åpning","RCI-period1":"RCI 1","RCI-period2":"RCI 2","RCI-period3":"RCI 3","RCI-period4":"RCI 4","RCI-period5":"RCI 5","RCI-period6":"RCI 6","RCI-period7":"RCI 7","RCI-period8":"RCI 8","RCI-rankCorrelationIndex1":null,"RCI-rankCorrelationIndex2":null,"RCI-rankCorrelationIndex3":null,"RCI-rankCorrelationIndex4":null,"RCI-rankCorrelationIndex5":null,"RCI-rankCorrelationIndex6":null,"RCI-rankCorrelationIndex7":null,"RCI-rankCorrelationIndex8":null,RSI:"RSI","RSI-short":"RSI","RSI-period":"Periode","RSI-relativeStrengthIndex":"RSI",SAR:"Parabolic SAR","SAR-short":"SAR","SAR-initialAcceleration":"Initial Acceleration","SAR-accelerationStep":"Acceleration Step","SAR-accelerationLimit":"Acceleration Limit","SAR-parabolicSar":"SAR",BOL:"Bollinger Band","BOL-short":"Boll","BOL-period":"Periode","BOL-standardDeviation":"Standardavvik","BOL-bollingerPositiveBand":"Bollinger+","BOL-bollingerNegativeBand":"Bollinger-","BOL-bollingerMovingAverageBand":"GG",BBW:"Bollinger Bandwidth","BBW-bolBandwidth":"Bandwidth","BBW-short":"BBW","BBW-period":"Periode","BBW-standardDeviation":"Standardavvik",BOLPCTB:"Bollinger %B","BOLPCTB-bolPctB":"%B","BOLPCTB-short":"BB %B","BOLPCTB-period":"Periode","BOLPCTB-standardDeviation":"Standardavvik",MACD:"MACD","MACD-short":"MACD","MACD-slowEmaPeriod":"Slow EMA periode","MACD-fastEmaPeriod":"Fast EMA periode","MACD-signalEmaPeriod":"Signal Line periode","MACD-macd":"MACD","MACD-macdHistogram":"MACD Histogram","MACD-macdSignal":"Signal Line",MFI:"Money Flow Index","MFI-short":"MFI","MFI-period":"Periode","MFI-moneyFlowIndex":"MFI({period})",STOCH:"Stochastic","STOCH-short":"Stoch","STOCH-periodK":"%K Perioder","STOCH-slowing":"Slowing Periods","STOCH-periodD":"%D Perioder","STOCH-stochasticK":"%K","STOCH-stochasticD":"%D","STOCH-oversold":"Oversolgt nivå","STOCH-overbought":"Overkjøpt nivå",VOLUME:"Volum","VOLUME-short":"Volum","VOLUME-volume":"Volum","VOLUME-tick":"Tick Volum",STDEV:"Standardavvik","STDEV-short":"SA","STDEV-period":"Periode","STDEV-standardDeviation":"SA({period})",WILLR:"Williams %R","WILLR-short":"W%R","WILLR-period":"Periode","WILLR-williamsPercentR":"W%R({period})",MOMENTUM:"Momentum","MOMENTUM-short":"Momntm","MOMENTUM-period":"Periode","MOMENTUM-momentum":"M({period})",ICHIMOKU:"Ichimoku","ICHIMOKU-short":"Ichi","ICHIMOKU-ichimoku":"Ichimoku","ICHIMOKU-shortPeriod":"Kort periode","ICHIMOKU-longPeriod":"Lang periode","ICHIMOKU-signalPeriod":"Signal periode","ICHIMOKU-tenkan":"Tenkan({shortPeriod})","ICHIMOKU-kijun":"Kijun({longPeriod})","ICHIMOKU-spana":"Span A({longPeriod})","ICHIMOKU-spanb":"Span B({signalPeriod})","ICHIMOKU-chikou":"Chikou({longPeriod})",AWESOME:"Awesome Oscillator","AWESOME-short":"Awsm","AWESOME-shortPeriod":"Kort periode","AWESOME-longPeriod":"Lang periode","AWESOME-awesome":"Awesome",ATR:"Average True Range","ATR-short":"ATR","ATR-averageTrueRange":"ATR({period})","ATR-period":"Periode",CCI:"Commodity Channel Index","CCI-short":"CCI","CCI-period":"Periode","CCI-cci":"CCI({period})",AROON:"Aroon","AROON-short":"Aroon","AROON-period":"Periode","AROON-aroonUp":"Aroon+({period})","AROON-aroonDown":"Aroon-({period})",KDJ:"KDJ","KDJ-short":"KDJ","KDJ-periodK":"%K Perioder","KDJ-slowing":"Slowing Periods","KDJ-periodD":"%D Perioder","KDJ-KDJStochasticK":"%K","KDJ-KDJStochasticD":"%D","KDJ-KDJStochasticJ":"%J","KDJ-oversold":"Oversolgt nivå","KDJ-overbought":"Overkjøpt nivå",CHAIKIN:"Chaikin Volatility","CHAIKIN-short":"Chaik","CHAIKIN-chaikinVolatility":"Chaikin({emaPeriod},{pastPeriod})","CHAIKIN-emaPeriod":"EMA Periode","CHAIKIN-pastPeriod":"Tidligere Periode",DPO:"Detrended Price Oscillator","DPO-short":"DPO","DPO-period":"Periode","DPO-dpo":"DPO({period})",DMI:"Retningsbestemt bevegelse","DMI-short":"D. Mvt","DMI-period":"Periode","DMI-diPlus":"DI+({period})","DMI-diMinus":"DI-({period})","DMI-adx":"ADX({period})","DMI-style":"Stil","DMI-line":"Linje","DMI-diHistogram":"Histogram",PIVOT:"Pivot Point","PIVOT-short":"Pivot","PIVOT-pivot":"Pivot","PIVOT-pivotShort":"Piv","PIVOT-r1":"R1","PIVOT-r2":"R2","PIVOT-r3":"R3","PIVOT-s1":"S1","PIVOT-s2":"S2","PIVOT-s3":"S3","PIVOT-resolution":"Intervall","PIVOT-4-hours":"4 Timer","PIVOT-daily":"Daglig","PIVOT-weekly":"Ukentlig","PIVOT-monthly":"Månedlig","PIVOT-formula":"Formula","PIVOT-HLO":"(H+L+O)/3","PIVOT-HLC":"(H+L+C)/3","PIVOT-HLOC":"(H+L+C+O)/4","PIVOT-historical":"Vis historiske Pivot-punkter",DONCHIAN:"Donchian Channel","DONCHIAN-short":"Donchian","DONCHIAN-period":"Periode","DONCHIAN-donchianUp":"Donchian Opp","DONCHIAN-donchianDown":"Donchian Ned","DONCHIAN-donchianMiddle":"Donchian Midten",KELTNER:"Keltner Channel","KELTNER-short":"Keltner","KELTNER-period":"Periode","KELTNER-multiplier":"Multippel","KELTNER-keltnerUp":"Keltner Opp","KELTNER-keltnerDown":"Keltner Ned","KELTNER-keltnerMiddle":"Keltner Midten",WMA:"Weighted Moving Average","WMA-short":"WMA","WMA-period1":"WMA for 1","WMA-period2":"WMA for 2","WMA-period3":"WMA for 3","WMA-period4":"WMA for 4","WMA-period5":"WMA for 5","WMA-period6":"WMA for 6","WMA-period7":"WMA for 7","WMA-period8":"WMA for 8","WMA-weightedMovingAverage1":"WMA({period1})","WMA-weightedMovingAverage2":"WMA({period2})","WMA-weightedMovingAverage3":"WMA({period3})","WMA-weightedMovingAverage4":"WMA({period4})","WMA-weightedMovingAverage5":"WMA({period5})","WMA-weightedMovingAverage6":"WMA({period6})","WMA-weightedMovingAverage7":"WMA({period7})","WMA-weightedMovingAverage8":"WMA({period8})",VWAP:"Volume Weighted Average Price","VWAP-short":"VWAP","VWAP-vwap":"VWAP",VWMA:"Volumvektet glidende gjennomsnitt","VWMA-short":"VWMA","VWMA-period1":"VWMA for 1","VWMA-period2":"VWMA for 2","VWMA-period3":"VWMA for 3","VWMA-period4":"VWMA for 4","VWMA-period5":"VWMA for 5","VWMA-period6":"VWMA for 6","VWMA-period7":"VWMA for 7","VWMA-period8":"VWMA for 8","VWMA-volumeWeightedMovingAverage1":"VWMA({period1})","VWMA-volumeWeightedMovingAverage2":"VWMA({period2})","VWMA-volumeWeightedMovingAverage3":"VWMA({period3})","VWMA-volumeWeightedMovingAverage4":"VWMA({period4})","VWMA-volumeWeightedMovingAverage5":"VWMA({period5})","VWMA-volumeWeightedMovingAverage6":"VWMA({period6})","VWMA-volumeWeightedMovingAverage7":"VWMA({period7})","VWMA-volumeWeightedMovingAverage8":"VWMA({period8})",SUPERTREND:"SuperTrend","SUPERTREND-short":"STrend","SUPERTREND-period":"Periode","SUPERTREND-multiplier":"Multippel","SUPERTREND-superTrend":"STrend({period},{multiplier})",ROC:"Rate of Change","ROC-short":"ROC","ROC-period":"Periode","ROC-roc":"ROC({period})",DERIVATIVE:"Pris for derivat","DERIVATIVE-short":"Pris for derivat","DERIVATIVE-derivative":"Pris for derivat","DERIVATIVE-open":"Åpning","DERIVATIVE-high":"Høyest","DERIVATIVE-low":"Lavest","DERIVATIVE-close":"Stengning","DERIVATIVE-change":"Endring"},pt:{indicatorsDisabled:"Mostrar",notAvailableInTick:"Este indicador não está disponível para este intervalo",notAvailableIntraday:"O indicador somente está disponível em intervalos temporais inferiores ao intervalo Diário",volumeNotAvailable:"Este volume não está disponível para este mercado",MVAVG:"Média Móvel","MVAVG-short":"MM","MVAVG-period1":"MM para 1","MVAVG-period2":"MM para 2","MVAVG-period3":"MM para 3","MVAVG-period4":"MM para 4","MVAVG-period5":"MM para 5","MVAVG-period6":"MM para 6","MVAVG-period7":"MM para 7","MVAVG-period8":"MM para 8","MVAVG-movingAverage1":"MM({period1})","MVAVG-movingAverage2":"MM({period2})","MVAVG-movingAverage3":"MM({period3})","MVAVG-movingAverage4":"MM({period4})","MVAVG-movingAverage5":"MM({period5})","MVAVG-movingAverage6":"MM({period6})","MVAVG-movingAverage7":"MM({period7})","MVAVG-movingAverage8":"MM({period8})",EMA:"Exponential Moving Average","EMA-short":"EMA","EMA-period1":"EMA para 1","EMA-period2":"EMA para 2","EMA-period3":"EMA para 3","EMA-period4":"EMA para 4","EMA-period5":"EMA para 5","EMA-period6":"EMA para 6","EMA-period7":"EMA para 7","EMA-period8":"EMA para 8","EMA-exponentialMovingAverage1":"EMA({period1})","EMA-exponentialMovingAverage2":"EMA({period2})","EMA-exponentialMovingAverage3":"EMA({period3})","EMA-exponentialMovingAverage4":"EMA({period4})","EMA-exponentialMovingAverage5":"EMA({period5})","EMA-exponentialMovingAverage6":"EMA({period6})","EMA-exponentialMovingAverage7":"EMA({period7})","EMA-exponentialMovingAverage8":"EMA({period8})",EOM:"Ease of Movement","EOM-short":"EOM","EOM-period":"Periode","EOM-divisor":"Divisor","EOM-easeofMovement":"EOM",RCI:null,"RCI-short":null,"RCI-price":"Preço","RCI-close":"Fecho","RCI-high":"Máximo","RCI-low":"Mínimo","RCI-open":"Abertura","RCI-period1":"RCI para 1","RCI-period2":"RCI para 2","RCI-period3":"RCI para 3","RCI-period4":"RCI para 4","RCI-period5":"RCI para 5","RCI-period6":"RCI para 6","RCI-period7":"RCI para 7","RCI-period8":"RCI para 8","RCI-rankCorrelationIndex1":null,"RCI-rankCorrelationIndex2":null,"RCI-rankCorrelationIndex3":null,"RCI-rankCorrelationIndex4":null,"RCI-rankCorrelationIndex5":null,"RCI-rankCorrelationIndex6":null,"RCI-rankCorrelationIndex7":null,"RCI-rankCorrelationIndex8":null,RSI:"RSI","RSI-short":"RSI","RSI-period":"Período","RSI-relativeStrengthIndex":"RSI",SAR:"Parabolic SAR","SAR-short":"SAR","SAR-initialAcceleration":"Aceleração Inicial","SAR-accelerationStep":"Passo da Aceleração","SAR-accelerationLimit":"Limite da Aceleração","SAR-parabolicSar":"SAR",BOL:"Bandas Bollinger","BOL-short":"Boll","BOL-period":"Período","BOL-standardDeviation":"Desvio Padrão","BOL-bollingerPositiveBand":"Bollinger+","BOL-bollingerNegativeBand":"Bollinger-","BOL-bollingerMovingAverageBand":"MM",BBW:"Banda larga de Bollinger","BBW-bolBandwidth":"Banda Larga ","BBW-short":"BLB","BBW-period":"Período","BBW-standardDeviation":"Desvio Padrão",BOLPCTB:"Bollinger %B","BOLPCTB-bolPctB":"%B","BOLPCTB-short":"BB %B","BOLPCTB-period":"Período","BOLPCTB-standardDeviation":"Desvio Padrão",MACD:"MACD","MACD-short":"MACD","MACD-slowEmaPeriod":"Período da EMA lenta","MACD-fastEmaPeriod":"Período da EMA rápida","MACD-signalEmaPeriod":"Período da Linha de sinal","MACD-macd":"MACD","MACD-macdHistogram":"MACD Histograma","MACD-macdSignal":"Linha de sinal",MFI:"Índice Money Flow","MFI-short":"IMF","MFI-period":"Período","MFI-moneyFlowIndex":"IMF ({period})",STOCH:"Estocásticos","STOCH-short":"Stoch","STOCH-periodK":"%K Períodos","STOCH-slowing":"Períodos Lentos","STOCH-periodD":"%D Períodos","STOCH-stochasticK":"%K","STOCH-stochasticD":"%D",VOLUME:"Volume","VOLUME-short":"Volume","VOLUME-volume":"Volume","VOLUME-tick":"Volume de tick",STDEV:"Desvio Padrão","STDEV-short":"DP","STDEV-period":"Período","STDEV-standardDeviation":"DP({period})",WILLR:"Williams %R","WILLR-short":"W%R","WILLR-period":"Período","WILLR-williamsPercentR":"W%R({period})",MOMENTUM:"Momentum","MOMENTUM-short":"Momntm","MOMENTUM-period":"Período","MOMENTUM-momentum":"M({period})",ICHIMOKU:"Ichimoku","ICHIMOKU-short":"Ichi","ICHIMOKU-ichimoku":"Ichimoku","ICHIMOKU-shortPeriod":"Período Curto","ICHIMOKU-longPeriod":"Período Longo","ICHIMOKU-signalPeriod":"Período do Sinal","ICHIMOKU-tenkan":"Tenkan({shortPeriod})","ICHIMOKU-kijun":"Kijun({longPeriod})","ICHIMOKU-spana":"Span A({longPeriod})","ICHIMOKU-spanb":"Span B({signalPeriod})","ICHIMOKU-chikou":"Chikou({longPeriod})",AWESOME:"Awesome Oscillator","AWESOME-short":"Awsm","AWESOME-shortPeriod":"Período Curto","AWESOME-longPeriod":"Período Longo","AWESOME-awesome":"Awesome",ATR:"Average True Range","ATR-short":"ATR","ATR-averageTrueRange":"ATR({period})","ATR-period":"Período",CCI:"Commodity Channel Index","CCI-short":"CCI","CCI-period":"Período","CCI-cci":"CCI({period})",AROON:"Aroon","AROON-short":"Aroon","AROON-period":"Período","AROON-aroonUp":"Aroon+({period})","AROON-aroonDown":"Aroon-({period})",KDJ:"KDJ","KDJ-short":"KDJ","KDJ-periodK":"%K Períodos","KDJ-slowing":"Períodos Lentos","KDJ-periodD":"%D Períodos","KDJ-KDJStochasticK":"%K","KDJ-KDJStochasticD":"%D","KDJ-KDJStochasticJ":"%J",CHAIKIN:"Volatilidade Chaikin","CHAIKIN-short":"Chaik","CHAIKIN-chaikinVolatility":"Chaikin({emaPeriod},{pastPeriod})","CHAIKIN-emaPeriod":"Período EMA","CHAIKIN-pastPeriod":"Período passado",DPO:"Oscilador de Preço sem tendência","DPO-short":"DPO","DPO-period":"Período","DPO-dpo":"DPO({period})",DMI:"Movimento Direccional","DMI-short":"D. Mvt","DMI-period":"Período","DMI-diPlus":"DI+({period})","DMI-diMinus":"DI-({period})","DMI-adx":"ADX({period})","DMI-style":"Estilo","DMI-line":"Linha","DMI-diHistogram":"Histograma",PIVOT:"Ponto Pivot","PIVOT-short":"Pivot","PIVOT-pivot":"Pivot","PIVOT-pivotShort":"Piv","PIVOT-r1":"R1","PIVOT-r2":"R2","PIVOT-r3":"R3","PIVOT-s1":"S1","PIVOT-s2":"S2","PIVOT-s3":"S3","PIVOT-resolution":"Intervalo","PIVOT-4-hours":"4 Horas","PIVOT-daily":"Diário","PIVOT-weekly":"Semanal","PIVOT-monthly":"Mensal","PIVOT-formula":"Formula","PIVOT-HLO":"(Max+Min+A)/3","PIVOT-HLC":"(Max+Min+F)/3","PIVOT-HLOC":"(Max+Min+F+A)/4","PIVOT-historical":'Mostrar "pontos de pivô" passados',DONCHIAN:"Canal de Donchian","DONCHIAN-short":"Donchian","DONCHIAN-period":"Período","DONCHIAN-donchianUp":"Donchian Sobe","DONCHIAN-donchianDown":"Donchian Baixa","DONCHIAN-donchianMiddle":"Donchian Meio",KELTNER:"Canal de Keltner","KELTNER-short":"Keltner","KELTNER-period":"Período","KELTNER-multiplier":"Multiplicador","KELTNER-keltnerUp":"Keltner Sobe","KELTNER-keltnerDown":"Keltner Baixa","KELTNER-keltnerMiddle":"Keltner Meio",WMA:"Weigthed Moving Average","WMA-short":"WMA","WMA-period1":"WMA para 1","WMA-period2":"WMA para 2","WMA-period3":"WMA para 3","WMA-period4":"WMA para 4","WMA-period5":"WMA para 5","WMA-period6":"WMA para 6","WMA-period7":"WMA para 7","WMA-period8":"WMA para 8","WMA-weightedMovingAverage1":"WMA({period1})","WMA-weightedMovingAverage2":"WMA({period2})","WMA-weightedMovingAverage3":"WMA({period3})","WMA-weightedMovingAverage4":"WMA({period4})","WMA-weightedMovingAverage5":"WMA({period5})","WMA-weightedMovingAverage6":"WMA({period6})","WMA-weightedMovingAverage7":"WMA({period7})","WMA-weightedMovingAverage8":"WMA({period8})",VWAP:"Preço Médio Ponderado por Volume","VWAP-short":"VWAP","VWAP-vwap":"VWAP",VWMA:"Volume Weighted Moving Average","VWMA-short":"VWMA","VWMA-period1":"VWMA para 1","VWMA-period2":"VWMA para 2","VWMA-period3":"VWMA para 3","VWMA-period4":"VWMA para 4","VWMA-period5":"VWMA para 5","VWMA-period6":"VWMA para 6","VWMA-period7":"VWMA para 7","VWMA-period8":"VWMA para 8","VWMA-volumeWeightedMovingAverage1":"VWMA({period1})","VWMA-volumeWeightedMovingAverage2":"VWMA({period2})","VWMA-volumeWeightedMovingAverage3":"VWMA({period3})","VWMA-volumeWeightedMovingAverage4":"VWMA({period4})","VWMA-volumeWeightedMovingAverage5":"VWMA({period5})","VWMA-volumeWeightedMovingAverage6":"VWMA({period6})","VWMA-volumeWeightedMovingAverage7":"VWMA({period7})","VWMA-volumeWeightedMovingAverage8":"VWMA({period8})",SUPERTREND:"SuperTrend","SUPERTREND-short":"STrend","SUPERTREND-period":"Período","SUPERTREND-multiplier":"Multiplicador","SUPERTREND-superTrend":"STrend({period},{multiplier})",ROC:"Taxa de variação","ROC-short":"TDV","ROC-period":"Período","ROC-roc":"TDV({period})"},sv:{indicatorsDisabled:"Visa",notAvailableInTick:"Indikatorn är inte tillgänglig i tick-intervall",notAvailableIntraday:"Indikatorn är endast tillgänglig i mindre tick-intervall än Dag",volumeNotAvailable:"Volym är inte tillgänglig för det här marknaden",MVAVG:"Glidande medelvärde (MA)","MVAVG-short":"MA","MVAVG-period1":"MA 1","MVAVG-period2":"MA 2","MVAVG-period3":"MA 3","MVAVG-period4":"MA 4","MVAVG-period5":"MA 5","MVAVG-period6":"MA 6","MVAVG-period7":"MA 7","MVAVG-period8":"MA 8","MVAVG-movingAverage1":"MA({period1})","MVAVG-movingAverage2":"MA({period2})","MVAVG-movingAverage3":"MA({period3})","MVAVG-movingAverage4":"MA({period4})","MVAVG-movingAverage5":"MA({period5})","MVAVG-movingAverage6":"MA({period6})","MVAVG-movingAverage7":"MA({period7})","MVAVG-movingAverage8":"MA({period8})",EMA:"Exponentiellt glidande medelvärde","EMA-short":"EMA","EMA-period1":"EMA 1","EMA-period2":"EMA 2","EMA-period3":"EMA 3","EMA-period4":"EMA 4","EMA-period5":"EMA 5","EMA-period6":"EMA 6","EMA-period7":"EMA 7","EMA-period8":"EMA 8","EMA-exponentialMovingAverage1":"EMA({period1})","EMA-exponentialMovingAverage2":"EMA({period2})","EMA-exponentialMovingAverage3":"EMA({period3})","EMA-exponentialMovingAverage4":"EMA({period4})","EMA-exponentialMovingAverage5":"EMA({period5})","EMA-exponentialMovingAverage6":"EMA({period6})","EMA-exponentialMovingAverage7":"EMA({period7})","EMA-exponentialMovingAverage8":"EMA({period8})",EOM:"Ease of Movement","EOM-short":"EOM","EOM-period":"Periode","EOM-divisor":"Nämnare","EOM-easeofMovement":"EOM",RCI:null,"RCI-short":null,"RCI-oversold":"Översåld nivå","RCI-overbought":"Överköpt nivå","RCI-price":"Pris","RCI-close":"Stängning","RCI-high":"Högsta","RCI-low":"Lägsta","RCI-open":"Öppning","RCI-period1":"RCI 1","RCI-period2":"RCI 2","RCI-period3":"RCI 3","RCI-period4":"RCI 4","RCI-period5":"RCI 5","RCI-period6":"RCI 6","RCI-period7":"RCI 7","RCI-period8":"RCI 8","RCI-rankCorrelationIndex1":null,"RCI-rankCorrelationIndex2":null,"RCI-rankCorrelationIndex3":null,"RCI-rankCorrelationIndex4":null,"RCI-rankCorrelationIndex5":null,"RCI-rankCorrelationIndex6":null,"RCI-rankCorrelationIndex7":null,"RCI-rankCorrelationIndex8":null,RSI:"RSI","RSI-short":"RSI","RSI-period":"Period","RSI-relativeStrengthIndex":"RSI",SAR:"Parabolic SAR","SAR-short":"SAR","SAR-initialAcceleration":"Initial acceleration","SAR-accelerationStep":"Accelerationssteg","SAR-accelerationLimit":"Accelerationsgräns","SAR-parabolicSar":"SAR",BOL:"Bollingerband","BOL-short":"Boll","BOL-period":"Period","BOL-standardDeviation":"Standardavvikelse","BOL-bollingerPositiveBand":"Bollinger+","BOL-bollingerNegativeBand":"Bollinger-","BOL-bollingerMovingAverageBand":"MA",BBW:"Bollinger Bandwidth","BBW-bolBandwidth":"Bandwidth","BBW-short":"BBW","BBW-period":"Period","BBW-standardDeviation":"Standardavvikelse",BOLPCTB:"Bollinger %B","BOLPCTB-bolPctB":"%B","BOLPCTB-short":"BB %B","BOLPCTB-period":"Period","BOLPCTB-standardDeviation":"Standardavvikelse",MACD:"MACD","MACD-short":"MACD","MACD-slowEmaPeriod":"Perioder längre","MACD-fastEmaPeriod":"Perioder kortare","MACD-signalEmaPeriod":"Perioder signallinje","MACD-macd":"MACD","MACD-macdHistogram":"MACD-histogram","MACD-macdSignal":"Signallinje",MFI:"Money Flow-index","MFI-short":"MFI","MFI-period":"Period","MFI-moneyFlowIndex":"MFI({period})",STOCH:"Stokastisk","STOCH-short":"Stoch","STOCH-periodK":"%K-perioder","STOCH-slowing":"Långsamma perioder","STOCH-periodD":"%D-perioder","STOCH-stochasticK":"%K","STOCH-stochasticD":"%D","STOCH-oversold":"Översåld nivå","STOCH-overbought":"Överköpt nivå",VOLUME:"Volym","VOLUME-short":"Volym","VOLUME-volume":"Volym","VOLUME-tick":"Tickvolym",STDEV:"Standardavvikelse","STDEV-short":"SA","STDEV-period":"Period","STDEV-standardDeviation":"SA({period})",WILLR:"Williams %R","WILLR-short":"W%R","WILLR-period":"Period","WILLR-williamsPercentR":"W%R({period})",MOMENTUM:"Momentum","MOMENTUM-short":"Momntm","MOMENTUM-period":"Period","MOMENTUM-momentum":"M({period})",ICHIMOKU:"Ichimoku","ICHIMOKU-short":"Ichi","ICHIMOKU-ichimoku":"Ichimoku","ICHIMOKU-shortPeriod":"Kort period","ICHIMOKU-longPeriod":"Lång period","ICHIMOKU-signalPeriod":"Signal period","ICHIMOKU-tenkan":"Tenkan({shortPeriod})","ICHIMOKU-kijun":"Kijun({longPeriod})","ICHIMOKU-spana":"Span A({longPeriod})","ICHIMOKU-spanb":"Span B({signalPeriod})","ICHIMOKU-chikou":"Chikou({longPeriod})",AWESOME:"Awesome Oscillator","AWESOME-short":"Awsm","AWESOME-shortPeriod":"Kort period","AWESOME-longPeriod":"Lång period","AWESOME-awesome":"Awesome",ATR:"Average True Range","ATR-short":"ATR","ATR-averageTrueRange":"ATR({period})","ATR-period":"Period",CCI:"Commodity Channel Index","CCI-short":"CCI","CCI-period":"Period","CCI-cci":"CCI({period})",AROON:"Aroon","AROON-short":"Aroon","AROON-period":"Period","AROON-aroonUp":"Aroon+({period})","AROON-aroonDown":"Aroon-({period})",KDJ:"KDJ","KDJ-short":"KDJ","KDJ-periodK":"%K-perioder","KDJ-slowing":"Långsamma perioder","KDJ-periodD":"%D-perioder","KDJ-KDJStochasticK":"%K","KDJ-KDJStochasticD":"%D","KDJ-KDJStochasticJ":"%J","KDJ-oversold":"Översåld nivå","KDJ-overbought":"Överköpt nivå",CHAIKIN:"Chaikin-volatilitet","CHAIKIN-short":"Chaik","CHAIKIN-chaikinVolatility":"Chaikin({emaPeriod},{pastPeriod})","CHAIKIN-emaPeriod":"EMA-period","CHAIKIN-pastPeriod":"Tidigare period",DPO:"Detrended Price Oscillator","DPO-short":"DPO","DPO-period":"Period","DPO-dpo":"DPO({period})",DMI:"Directional Movement","DMI-short":"D. Movt","DMI-period":"Period","DMI-diPlus":"DI+({period})","DMI-diMinus":"DI-({period})","DMI-adx":"ADX({period})","DMI-style":"Stil","DMI-line":"Linje","DMI-diHistogram":"Histogram",PIVOT:"Pivotpunkt","PIVOT-short":"Pivot","PIVOT-pivot":"Pivot","PIVOT-pivotShort":"Piv","PIVOT-r1":"R1","PIVOT-r2":"R2","PIVOT-r3":"R3","PIVOT-s1":"S1","PIVOT-s2":"S2","PIVOT-s3":"S3","PIVOT-resolution":"Intervall","PIVOT-4-hours":"4 Timmar","PIVOT-daily":"Dag","PIVOT-weekly":"Vecka","PIVOT-monthly":"Månad","PIVOT-formula":"Formula","PIVOT-HLO":"(H+L+Ö)/3","PIVOT-HLC":"(H+L+S)/3","PIVOT-HLOC":"(H+L+S+Ö)/4","PIVOT-historical":"Visa historiska pivotpunkter",DONCHIAN:"Donchian Channel","DONCHIAN-short":"Donchian","DONCHIAN-period":"Periode","DONCHIAN-donchianUp":"Donchian Opp","DONCHIAN-donchianDown":"Donchian Ned","DONCHIAN-donchianMiddle":"Donchian Midten",KELTNER:"Keltner Channel","KELTNER-short":"Keltner","KELTNER-period":"Periode","KELTNER-multiplier":"Multippel","KELTNER-keltnerUp":"Keltner Opp","KELTNER-keltnerDown":"Keltner Ned","KELTNER-keltnerMiddle":"Keltner Midten",WMA:"Weighted Moving Average","WMA-short":"WMA","WMA-period1":"WMA för 1","WMA-period2":"WMA för 2","WMA-period3":"WMA för 3","WMA-period4":"WMA för 4","WMA-period5":"WMA för 5","WMA-period6":"WMA för 6","WMA-period7":"WMA för 7","WMA-period8":"WMA för 8","WMA-weightedMovingAverage1":"WMA({period1})","WMA-weightedMovingAverage2":"WMA({period2})","WMA-weightedMovingAverage3":"WMA({period3})","WMA-weightedMovingAverage4":"WMA({period4})","WMA-weightedMovingAverage5":"WMA({period5})","WMA-weightedMovingAverage6":"WMA({period6})","WMA-weightedMovingAverage7":"WMA({period7})","WMA-weightedMovingAverage8":"WMA({period8})",VWAP:"Volume Weighted Average Price","VWAP-short":"VWAP","VWAP-vwap":"VWAP",VWMA:"Volymberoende glidande medelvärde","VWMA-short":"VWMA","VWMA-period1":"VWMA för 1","VWMA-period2":"VWMA för 2","VWMA-period3":"VWMA för 3","VWMA-period4":"VWMA för 4","VWMA-period5":"VWMA för 5","VWMA-period6":"VWMA för 6","VWMA-period7":"VWMA för 7","VWMA-period8":"VWMA för 8","VWMA-volumeWeightedMovingAverage1":"VWMA({period1})","VWMA-volumeWeightedMovingAverage2":"VWMA({period2})","VWMA-volumeWeightedMovingAverage3":"VWMA({period3})","VWMA-volumeWeightedMovingAverage4":"VWMA({period4})","VWMA-volumeWeightedMovingAverage5":"VWMA({period5})","VWMA-volumeWeightedMovingAverage6":"VWMA({period6})","VWMA-volumeWeightedMovingAverage7":"VWMA({period7})","VWMA-volumeWeightedMovingAverage8":"VWMA({period8})",SUPERTREND:"SuperTrend","SUPERTREND-short":"STrend","SUPERTREND-period":"Periode","SUPERTREND-multiplier":"Multiplikator","SUPERTREND-superTrend":"STrend({period},{multiplier})",ROC:"Rate of Change","ROC-short":"ROC","ROC-period":"Periode","ROC-roc":"ROC({period})",DERIVATIVE:"Pris på derivat","DERIVATIVE-short":"Pris på derivat","DERIVATIVE-derivative":"Pris på derivat","DERIVATIVE-open":"Öppning","DERIVATIVE-high":"Högsta","DERIVATIVE-low":"Lägsta","DERIVATIVE-close":"Stängning","DERIVATIVE-change":"Förändring"},zh:{indicatorsDisabled:"显示",notAvailableInTick:"技术指标不能在最少时间间隔内使用",notAvailableIntraday:"技术指标仅在每日间隔以下可用",volumeNotAvailable:"本市场没有成交量数据可供参考",MVAVG:"移动平均线","MVAVG-short":"移动平均","MVAVG-period1":"时期","MVAVG-period2":"时期","MVAVG-period3":"时期","MVAVG-period4":"时期","MVAVG-period5":"时期","MVAVG-period6":"时期","MVAVG-period7":"时期","MVAVG-period8":"时期","MVAVG-movingAverage1":"MA({period1})","MVAVG-movingAverage2":"MA({period2})","MVAVG-movingAverage3":"MA({period3})","MVAVG-movingAverage4":"MA({period3})","MVAVG-movingAverage5":"MA({period3})","MVAVG-movingAverage6":"MA({period3})","MVAVG-movingAverage7":"MA({period3})","MVAVG-movingAverage8":"MA({period3})",EMA:"指数平均数指标","EMA-short":"指数移动平均","EMA-period1":"时期","EMA-period2":"时期","EMA-period3":"时期","EMA-period4":"时期","EMA-period5":"时期","EMA-period6":"时期","EMA-period7":"时期","EMA-period8":"时期","EMA-exponentialMovingAverage1":"EMA({period1})","EMA-exponentialMovingAverage2":"EMA({period2})","EMA-exponentialMovingAverage3":"EMA({period3})","EMA-exponentialMovingAverage4":"EMA({period4})","EMA-exponentialMovingAverage5":"EMA({period5})","EMA-exponentialMovingAverage6":"EMA({period6})","EMA-exponentialMovingAverage7":"EMA({period7})","EMA-exponentialMovingAverage8":"EMA({period8})",EOM:"简易波动","EOM-short":"EOM","EOM-period":"时期","EOM-divisor":"除数","EOM-easeofMovement":"EOM",RCI:"顺位相关指数（RCI）","RCI-short":"顺位相关指数（RCI）","RCI-oversold":"超卖水平","RCI-overbought":"超买水平","RCI-price":"价格","RCI-close":"收市价","RCI-high":"最高价","RCI-low":"最低价","RCI-open":"开市价","RCI-period1":"顺位相关指数（RCI）","RCI-period2":"顺位相关指数（RCI）","RCI-period3":"顺位相关指数（RCI）","RCI-period4":"顺位相关指数（RCI）","RCI-period5":"顺位相关指数（RCI）","RCI-period6":"顺位相关指数（RCI）","RCI-period7":"顺位相关指数（RCI）","RCI-period8":"顺位相关指数（RCI）","RCI-rankCorrelationIndex1":null,"RCI-rankCorrelationIndex2":null,"RCI-rankCorrelationIndex3":null,"RCI-rankCorrelationIndex4":null,"RCI-rankCorrelationIndex5":null,"RCI-rankCorrelationIndex6":null,"RCI-rankCorrelationIndex7":null,"RCI-rankCorrelationIndex8":null,RSI:"相对强弱指数","RSI-short":"强弱","RSI-period":"时期","RSI-relativeStrengthIndex":"相对强弱指数",SAR:"抛物线转向指标","SAR-short":"抛物线转向","SAR-initialAcceleration":"初始加速度","SAR-accelerationStep":"步长","SAR-accelerationLimit":"加速度极限","SAR-parabolicSar":"抛物线转向指标",BOL:"布林带","BOL-short":"布林","BOL-period":"时期","BOL-standardDeviation":"标准差","BOL-bollingerPositiveBand":"布林线+","BOL-bollingerNegativeBand":"布林线-","BOL-bollingerMovingAverageBand":"MA",BBW:"布林带宽度","BBW-bolBandwidth":"带宽","BBW-short":"BBW","BBW-period":"时期","BBW-standardDeviation":"标准差",BOLPCTB:"布林%B指标","BOLPCTB-bolPctB":"%B","BOLPCTB-short":"BB %B","BOLPCTB-period":"时期","BOLPCTB-standardDeviation":"标准差",MACD:"MACD","MACD-short":"MACD","MACD-slowEmaPeriod":"慢速 EMA 时期","MACD-fastEmaPeriod":"快速 EMA 时期","MACD-signalEmaPeriod":"信号线时期","MACD-macd":"MACD","MACD-macdHistogram":"MACD 直方图","MACD-macdSignal":"信号线",MFI:"资金流量指标","MFI-short":"资金流向","MFI-period":"时期","MFI-moneyFlowIndex":"MFI({period})",STOCH:"随机KD指标","STOCH-short":"随机","STOCH-periodK":"%K 时期","STOCH-slowing":"减慢时期","STOCH-periodD":"%D 时期","STOCH-stochasticK":"%K","STOCH-stochasticD":"%D","STOCH-oversold":"超卖水平","STOCH-overbought":"超买水平",VOLUME:"成交量指标","VOLUME-short":"交易量","VOLUME-volume":"成交量指标","VOLUME-tick":"TICK 跳动量指标",STDEV:"标准差","STDEV-short":"标准差","STDEV-period":"时期","STDEV-standardDeviation":"SD({period})",WILLR:"威廉指数 %R","WILLR-short":"威廉","WILLR-period":"时期","WILLR-williamsPercentR":"W%R({period})",MOMENTUM:"动量线","MOMENTUM-short":"动量","MOMENTUM-period":"时期","MOMENTUM-momentum":"M({period})",ICHIMOKU:"一目均衡表","ICHIMOKU-short":"一目","ICHIMOKU-ichimoku":"一目均衡表","ICHIMOKU-shortPeriod":"短线周期","ICHIMOKU-longPeriod":"长线周期","ICHIMOKU-signalPeriod":"信号周期","ICHIMOKU-tenkan":"转折线({shortPeriod})","ICHIMOKU-kijun":"基准线({longPeriod})","ICHIMOKU-spana":"先行上线({longPeriod})","ICHIMOKU-spanb":"先行下线({signalPeriod})","ICHIMOKU-chikou":"延迟线({longPeriod})",AWESOME:"动量震荡指标","AWESOME-short":"动量震荡","AWESOME-shortPeriod":"短期","AWESOME-longPeriod":"长期","AWESOME-awesome":"Awesome",ATR:"平均真实波幅","ATR-short":"ATR","ATR-averageTrueRange":"ATR({period})","ATR-period":"时期",CCI:"顺势指标","CCI-short":"商品通道","CCI-period":"时期","CCI-cci":"CCI({period})",AROON:"安龙指标","AROON-short":"安隆","AROON-period":"时期","AROON-aroonUp":"阿隆+({period})","AROON-aroonDown":"阿隆-({period})",KDJ:"KDJ","KDJ-short":"KDJ","KDJ-periodK":"%K 时期","KDJ-slowing":"减慢时期","KDJ-periodD":"%D 时期","KDJ-KDJStochasticK":"%K","KDJ-KDJStochasticD":"%D","KDJ-KDJStochasticJ":"%J","KDJ-oversold":"超卖水平","KDJ-overbought":"超买水平",CHAIKIN:"蔡金波动性指标","CHAIKIN-short":"Chaik","CHAIKIN-chaikinVolatility":"蔡金波动性指标({emaPeriod},{pastPeriod})","CHAIKIN-emaPeriod":"EMA 时期","CHAIKIN-pastPeriod":"过去时段",DPO:"区间震荡线","DPO-short":"非趋势震荡","DPO-period":"时期","DPO-dpo":"DPO({period})",DMI:"动向指数","DMI-short":"动向","DMI-period":"时期","DMI-diPlus":"DI+({period})","DMI-diMinus":"DI-({period})","DMI-adx":"ADX({period})","DMI-style":"风格","DMI-line":"线图","DMI-diHistogram":"直方图",PIVOT:"基准点","PIVOT-short":"枢轴","PIVOT-pivot":"基准","PIVOT-pivotShort":"Piv","PIVOT-r1":"R1","PIVOT-r2":"R2","PIVOT-r3":"R3","PIVOT-s1":"S1","PIVOT-s2":"S2","PIVOT-s3":"S3","PIVOT-resolution":"间隔","PIVOT-4-hours":"4 小时","PIVOT-daily":"每日","PIVOT-weekly":"每周","PIVOT-monthly":"每月","PIVOT-formula":"Formula","PIVOT-HLO":"(高+低+开盘价)/3","PIVOT-HLC":"(高+低+收盘价)/3","PIVOT-HLOC":"(高+低+收盘价+开盘价)/4","PIVOT-historical":"显示过往枢轴点",DONCHIAN:"唐奇安通道指标","DONCHIAN-short":"唐奇安短仓","DONCHIAN-period":"时期","DONCHIAN-donchianUp":"唐奇安 上","DONCHIAN-donchianDown":"唐奇安 下","DONCHIAN-donchianMiddle":"唐奇安 中",KELTNER:"肯特纳通道指标","KELTNER-short":"肯特纳短仓","KELTNER-period":"时期","KELTNER-multiplier":"乘数","KELTNER-keltnerUp":"肯特纳 上","KELTNER-keltnerDown":"肯特纳 下","KELTNER-keltnerMiddle":"肯特纳 中",WMA:"加权移动平均办法","WMA-short":"WMA","WMA-period1":"时间段1 WMA","WMA-period2":"时间段2 WMA","WMA-period3":"时间段3 WMA","WMA-period4":"时间段4 WMA","WMA-period5":"时间段5 WMA","WMA-period6":"时间段6 WMA","WMA-period7":"时间段7 WMA","WMA-period8":"时间段8 WMA","WMA-weightedMovingAverage1":"WMA({period1})","WMA-weightedMovingAverage2":"WMA({period2})","WMA-weightedMovingAverage3":"WMA({period3})","WMA-weightedMovingAverage4":"WMA({period4})","WMA-weightedMovingAverage5":"WMA({period5})","WMA-weightedMovingAverage6":"WMA({period6})","WMA-weightedMovingAverage7":"WMA({period7})","WMA-weightedMovingAverage8":"WMA({period8})",VWAP:"交易量加权平均价","VWAP-short":"VWAP","VWAP-vwap":"VWAP",VWMA:"交易量加权移动平均","VWMA-short":"VWMA","VWMA-period1":"时间段1 VWMA","VWMA-period2":"时间段2 VWMA","VWMA-period3":"时间段3 VWMA","VWMA-period4":"时间段4 VWMA","VWMA-period5":"时间段5 VWMA","VWMA-period6":"时间段6 VWMA","VWMA-period7":"时间段7 VWMA","VWMA-period8":"时间段8 VWMA","VWMA-volumeWeightedMovingAverage1":"VWMA({period1})","VWMA-volumeWeightedMovingAverage2":"VWMA({period2})","VWMA-volumeWeightedMovingAverage3":"VWMA({period3})","VWMA-volumeWeightedMovingAverage4":"VWMA({period4})","VWMA-volumeWeightedMovingAverage5":"VWMA({period5})","VWMA-volumeWeightedMovingAverage6":"VWMA({period6})","VWMA-volumeWeightedMovingAverage7":"VWMA({period7})","VWMA-volumeWeightedMovingAverage8":"VWMA({period8})",SUPERTREND:"SuperTrend指标","SUPERTREND-short":"STrend","SUPERTREND-period":"时期","SUPERTREND-multiplier":"乘数","SUPERTREND-superTrend":"STrend({period},{multiplier})",ROC:"变化率","ROC-short":"变化率","ROC-period":"时期","ROC-roc":"变化率({period})"},zh_TW:{indicatorsDisabled:"顯示",notAvailableInTick:"技術指標不能在最少時間間隔內使用",notAvailableIntraday:"技術指標僅在每日間隔以下可用",volumeNotAvailable:"本市場無成交量數據可供參考",MVAVG:"移動平均值","MVAVG-short":"移動平均","MVAVG-period1":"移動平均值 – 參數 1","MVAVG-period2":"移動平均值 – 參數 2","MVAVG-period3":"移動平均值 – 參數 3","MVAVG-period4":"移動平均值 – 參數 4","MVAVG-period5":"移動平均值 – 參數 5","MVAVG-period6":"移動平均值 – 參數 6","MVAVG-period7":"移動平均值 – 參數 7","MVAVG-period8":"移動平均值 – 參數 8","MVAVG-movingAverage1":"MA({period1})","MVAVG-movingAverage2":"MA({period2})","MVAVG-movingAverage3":"MA({period3})","MVAVG-movingAverage4":"MA({period4})","MVAVG-movingAverage5":"MA({period5})","MVAVG-movingAverage6":"MA({period6})","MVAVG-movingAverage7":"MA({period7})","MVAVG-movingAverage8":"MA({period8})",EMA:"指數移動平均值","EMA-short":"指數移動平均","EMA-period1":"指數移動平均值– 參數 1","EMA-period2":"指數移動平均值– 參數 2","EMA-period3":"指數移動平均值– 參數 3","EMA-period4":"指數移動平均值– 參數 4","EMA-period5":"指數移動平均值– 參數 5","EMA-period6":"指數移動平均值– 參數 6","EMA-period7":"指數移動平均值– 參數 7","EMA-period8":"指數移動平均值– 參數 8","EMA-exponentialMovingAverage1":"EMA({period1})","EMA-exponentialMovingAverage2":"EMA({period2})","EMA-exponentialMovingAverage3":"EMA({period3})","EMA-exponentialMovingAverage4":"EMA({period4})","EMA-exponentialMovingAverage5":"EMA({period5})","EMA-exponentialMovingAverage6":"EMA({period6})","EMA-exponentialMovingAverage7":"EMA({period7})","EMA-exponentialMovingAverage8":"EMA({period8})",EOM:"簡易波動","EOM-short":"EOM","EOM-period":"時期","EOM-divisor":"除數","EOM-easeofMovement":"EOM",RCI:"順位相關指數（RCI）","RCI-short":"順位相關指數（RCI）","RCI-oversold":"超賣水平","RCI-overbought":"超買水平","RCI-price":"價格","RCI-close":"收市價","RCI-high":"最高價","RCI-low":"最低價","RCI-open":"開市價","RCI-period1":"順位相關指數（RCI）","RCI-period2":"順位相關指數（RCI）","RCI-period3":"順位相關指數（RCI）","RCI-period4":"順位相關指數（RCI）","RCI-period5":"順位相關指數（RCI）","RCI-period6":"順位相關指數（RCI）","RCI-period7":"順位相關指數（RCI）","RCI-period8":"順位相關指數（RCI）","RCI-rankCorrelationIndex1":null,"RCI-rankCorrelationIndex2":null,"RCI-rankCorrelationIndex3":null,"RCI-rankCorrelationIndex4":null,"RCI-rankCorrelationIndex5":null,"RCI-rankCorrelationIndex6":null,"RCI-rankCorrelationIndex7":null,"RCI-rankCorrelationIndex8":null,RSI:"相對強弱指數","RSI-short":"強弱","RSI-period":"時期","RSI-relativeStrengthIndex":"相對強弱指數",SAR:"拋物線轉向指標","SAR-short":"拋物線轉向","SAR-initialAcceleration":"初始加速因子","SAR-accelerationStep":"步長","SAR-accelerationLimit":"加速度極限","SAR-parabolicSar":"拋物線轉向指標止損反轉",BOL:"布林線","BOL-short":"布林","BOL-period":"週期","BOL-standardDeviation":"標準差","BOL-bollingerPositiveBand":"正布林線+","BOL-bollingerNegativeBand":"負布林線-","BOL-bollingerMovingAverageBand":"移動平均值",BBW:"布林帶寬度","BBW-bolBandwidth":"帶寬","BBW-short":"BBW","BBW-period":"週期","BBW-standardDeviation":"標準差",BOLPCTB:"布林%B指標","BOLPCTB-bolPctB":"%B","BOLPCTB-short":"BB %B","BOLPCTB-period":"週期","BOLPCTB-standardDeviation":"標準差",MACD:"指數平滑異同移動平均線 MACD","MACD-short":"MACD","MACD-slowEmaPeriod":"慢速 EMA 週期","MACD-fastEmaPeriod":"快速 EMA 週期","MACD-signalEmaPeriod":"信號線週期","MACD-macd":"指數平滑異同移動平均線 MACD","MACD-macdHistogram":"MACD 柱狀圖","MACD-macdSignal":"信號線",MFI:"資金流向指標","MFI-short":"資金流向","MFI-period":"週期","MFI-moneyFlowIndex":"MFI({period})",STOCH:"隨機指標","STOCH-short":"隨機","STOCH-periodK":"%K 週期隨機指標","STOCH-slowing":"慢速週期","STOCH-periodD":"%D 週期隨機指標","STOCH-stochasticK":"%K 隨機指標","STOCH-stochasticD":"%D 隨機指標","STOCH-oversold":"超賣水平","STOCH-overbought":"超買水平",VOLUME:"交易量","VOLUME-short":"交易量","VOLUME-volume":"交易量","VOLUME-tick":"TICK 變動量指標",STDEV:"標準差","STDEV-short":"標準差","STDEV-period":"週期","STDEV-standardDeviation":"SD({period})",WILLR:"威廉指數 %R","WILLR-short":"威廉","WILLR-period":"週期","WILLR-williamsPercentR":"W%R({period})",MOMENTUM:"動量指標","MOMENTUM-short":"動量","MOMENTUM-period":"週期","MOMENTUM-momentum":"M({period})",ICHIMOKU:"一目平衡表","ICHIMOKU-short":"一目","ICHIMOKU-ichimoku":"一目平衡表","ICHIMOKU-shortPeriod":"短線週期","ICHIMOKU-longPeriod":"長線週期","ICHIMOKU-signalPeriod":"信號週期","ICHIMOKU-tenkan":"轉折線({shortPeriod})","ICHIMOKU-kijun":"基準線({longPeriod})","ICHIMOKU-spana":"先行上線({longPeriod})","ICHIMOKU-spanb":"先行下線({signalPeriod})","ICHIMOKU-chikou":"延遲線({longPeriod})",AWESOME:"動量震蕩指標","AWESOME-short":"動量震蕩","AWESOME-shortPeriod":"短線週期","AWESOME-longPeriod":"長線週期","AWESOME-awesome":"動量",ATR:"真實波動均值","ATR-short":"ATR","ATR-averageTrueRange":"ATR({period})","ATR-period":"週期",CCI:"商品通道指標","CCI-short":"商品通道","CCI-period":"週期","CCI-cci":"商品通道指標({period})",AROON:"安隆指標","AROON-short":"安隆","AROON-period":"週期","AROON-aroonUp":"Aroon+({period})","AROON-aroonDown":"Aroon-({period})",KDJ:"KDJ 隨機指標","KDJ-short":"KDJ","KDJ-periodK":"%K 週期","KDJ-slowing":"慢速週期","KDJ-periodD":"%D 週期","KDJ-KDJStochasticK":"%K","KDJ-KDJStochasticD":"%D","KDJ-KDJStochasticJ":"%J","KDJ-oversold":"超賣水平","KDJ-overbought":"超買水平",CHAIKIN:"蔡金(Chaikin)波幅率","CHAIKIN-short":"Chaik","CHAIKIN-chaikinVolatility":"蔡金波幅率({emaPeriod},{pastPeriod})","CHAIKIN-emaPeriod":"指數移動平均值週期","CHAIKIN-pastPeriod":"過去時期",DPO:"非趨勢價格震蕩指標","DPO-short":"非趨勢震蕩","DPO-period":"週期","DPO-dpo":"非趨勢價格震蕩指標({period})",DMI:"動向指標","DMI-short":"動向","DMI-period":"時期","DMI-diPlus":"動向指標+({period})","DMI-diMinus":"動向指標-({period})","DMI-adx":"平均動向指標({period})","DMI-style":"風格","DMI-line":"線狀圖","DMI-diHistogram":"柱狀圖",PIVOT:"樞軸點圖","PIVOT-short":"樞軸","PIVOT-pivot":"樞軸","PIVOT-pivotShort":"Piv","PIVOT-r1":"R1","PIVOT-r2":"R2","PIVOT-r3":"R3","PIVOT-s1":"S1","PIVOT-s2":"S2","PIVOT-s3":"S3","PIVOT-resolution":"間隔","PIVOT-4-hours":"4 小時","PIVOT-formula":"Formula","PIVOT-HLO":"(H+L+O)/3","PIVOT-HLC":"(H+L+C)/3","PIVOT-HLOC":"(H+L+C+O)/4","PIVOT-historical":"顯示過往樞軸點",DONCHIAN:"唐奇安通道指標","DONCHIAN-short":"唐奇安短倉","DONCHIAN-period":"週期","DONCHIAN-donchianUp":"唐奇安 上","DONCHIAN-donchianDown":"唐奇安 下","DONCHIAN-donchianMiddle":"唐奇安 中",KELTNER:"肯特納通道指標","KELTNER-short":"肯特納短倉","KELTNER-period":"週期","KELTNER-multiplier":"乘數","KELTNER-keltnerUp":"肯特納 上","KELTNER-keltnerDown":"肯特納 下","KELTNER-keltnerMiddle":"肯特納 中",WMA:"加權移動平均辦法","WMA-short":"WMA","WMA-period1":"時間段1 WMA","WMA-period2":"時間段2 WMA","WMA-period3":"時間段3 WMA","WMA-period4":"時間段4 WMA","WMA-period5":"時間段5 WMA","WMA-period6":"時間段6 WMA","WMA-period7":"時間段7 WMA","WMA-period8":"時間段8 WMA","WMA-weightedMovingAverage1":"WMA({period1})","WMA-weightedMovingAverage2":"WMA({period2})","WMA-weightedMovingAverage3":"WMA({period3})","WMA-weightedMovingAverage4":"WMA({period4})","WMA-weightedMovingAverage5":"WMA({period5})","WMA-weightedMovingAverage6":"WMA({period6})","WMA-weightedMovingAverage7":"WMA({period7})","WMA-weightedMovingAverage8":"WMA({period8})",VWAP:"交易量加權平均價","VWAP-short":"VWAP","VWAP-vwap":"VWAP",VWMA:"交易量加權移動平均","VWMA-short":"VWMA","VWMA-period1":"時間段1 VWMA","VWMA-period2":"時間段2 VWMA","VWMA-period3":"時間段3 VWMA","VWMA-period4":"時間段4 VWMA","VWMA-period5":"時間段5 VWMA","VWMA-period6":"時間段6 VWMA","VWMA-period7":"時間段7 VWMA","VWMA-period8":"時間段8 VWMA","VWMA-volumeWeightedMovingAverage1":"VWMA({period1})","VWMA-volumeWeightedMovingAverage2":"VWMA({period2})","VWMA-volumeWeightedMovingAverage3":"VWMA({period3})","VWMA-volumeWeightedMovingAverage4":"VWMA({period4})","VWMA-volumeWeightedMovingAverage5":"VWMA({period5})","VWMA-volumeWeightedMovingAverage6":"VWMA({period6})","VWMA-volumeWeightedMovingAverage7":"VWMA({period7})","VWMA-volumeWeightedMovingAverage8":"VWMA({period8})",SUPERTREND:"SuperTrend指標","SUPERTREND-short":"STrend","SUPERTREND-period":"週期","SUPERTREND-multiplier":"乘數","SUPERTREND-superTrend":"STrend({period},{multiplier})",ROC:"變化率","ROC-short":"變化率","ROC-period":"週期","ROC-roc":"變化率({period})"}})},45610:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>l});var n=i(43130),s=i(12990),r=i(26242),o=s.A.extend((function(){}),r.default);o.create=function(e,t){return new o(e,t)};var a=o.prototype;a._latestPoint=null,a._handleNewOutput=function(e,t){if(this._settings.historical)return o.superclass._handleNewOutput.call(this,e,t);var i=(0,n.last)(e);if(i){if(this._latestPoint&&i.timestamp!==this._latestPoint.timestamp){if(i.timestamp>this._latestPoint.timestamp)this._instrumentResolution.removeIndicatorPoints(this),this._latestPoint=i;else if(i.timestamp<this._latestPoint.timestamp)return}else this._latestPoint=i;o.superclass._handleNewOutput.call(this,[i],t)}},a.stopCalculating=function(){return delete this._latestPoint,o.superclass.stopCalculating.apply(this,arguments)},Object.seal(a);const l=Object.seal(o)},15669:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>u});var n=i(43130),s=i(38712),r=i(12990),o=i(54809),a=i(38153),l=r.A.extend((function(){}),o.default),d=l.prototype;d._accessor=function(e){return(0,n.get)(e,["points",this._inputPointType,"points"])},d.startRequestingPointsVia=function(e){e.on(a.default.BLOCKS_POINTS_ADDED+"-"+this._inputPointType,this._handleBlocksPointsAdded,this)},d.stopRequestingPointsVia=function(e){e.un(null,this)},d.collatePointsForBlocks=function(e){var t=e.filter(this._hasInput,this).filter(this._hasNoOutput,this),i=this._getInputPointsForBlocks(t);this._fireInput(i,t)},d.recalculateBlocksWithEnoughTrailingPoints=function(e){for(var t,i=0,r=[],o=null,a=e.length-1;a>=0;a--)this._hasInput(e[a])?((t=i>=this._numberOfTrailingPoints)||(t=!!e[a].next&&e[a].next===(0,n.first)(o)),t&&(o||r.unshift(o=[]),o.unshift(e[a])),i+=s.default.countPoints([e[a]],this._inputPointType)):(i=0,o=null);r.forEach((function(e){this._fireInput(this._getInputPointsForBlocks(e),e)}),this)},d._hasInput=function(e){return e.loading.loaded&&e.points[this._inputPointType]},d._hasNoOutput=function(e){return!e.points[this._outputPointType]},d._fireInput=function(e,t){e.length&&t.length&&this.fire(o.default.INDICATOR_INPUT,e,t)},d._getInputPointsForBlocks=function(e){if(!e.length)return[];if(0===this._numberOfTrailingPoints)return this._inputPointsForBlocks(e);for(var t=[],i=0,s=(0,n.last)(e).next;s&&this._hasInput(s)&&i<this._numberOfTrailingPoints;)i+=this._accessor(s).length,t.push(s),s=s.next;return this._inputPointsForBlocks(e.concat(t))},d._inputPointsForBlocks=function(e){return(0,n.flatten)(e.map(this._accessor,this))},d._getAffectedBlocks=function(e){for(var t=e.slice(),i=(0,n.last)(e).index-(0,n.head)(e).index+1,s=(0,n.head)(e).previous;s&&this._hasInput(s)&&i;)t.unshift(s),this._hasNoOutput(s)||i--,s=s.previous;return t},d._handleBlocksPointsAdded=function(e){if(e.length){var t=this._getAffectedBlocks(e),i=this._getInputPointsForBlocks(t);this._fireInput(i,t)}},Object.seal(d);const u=l},89646:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>l});var n=i(77163),s=i(12990),r=i(30992),o=s.A.extend((function(){}),n.default),a=o.prototype;a.volumePresent=!1,a.startRequestingPointsVia=function(e){o.superclass.startRequestingPointsVia.call(this,e);var t=e.instrumentModel;t.info?this._handleInstrumentInfoLoaded(t.info):t.on(r.default.INFO_LOADED,this._handleInstrumentInfoLoaded,this,{once:!0})},a.stopRequestingPointsVia=function(e){o.superclass.stopRequestingPointsVia.call(this,e),e.instrumentModel.un(null,this)},a._handleInstrumentInfoLoaded=function(e){this.volumePresent=e.volumePresent},a.collatePointsForBlocks=function(e){this.volumePresent&&o.superclass.collatePointsForBlocks.call(this,e)},a._handleBlocksPointsAdded=function(e){this.volumePresent&&o.superclass._handleBlocksPointsAdded.call(this,e)},Object.seal(a);const l=Object.seal(o)},76776:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>d});var n=i(12990),s=i(59701),r=i(44437),o=i(74893),a=n.A.extend((function(){}),r.A);a.create=function(){return new a},a._getResolutionForEnum=function(e){switch(e){case s.default.DAILY:return o.default.values.DAY;case s.default.WEEKLY:return o.default.values.WEEK;case s.default.MONTHLY:return o.default.values.MONTH;case s.default.FOUR_HOURS:return o.default.values.FOUR_HOURS;default:throw new Error("Unknown pivot point resolution enum value: "+e)}};var l=a.prototype;l.chooseResolution=function(e,t){return a._getResolutionForEnum(e.resolution)},Object.seal(l);const d=Object.seal(a)},27520:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>u});var n=i(43130),s=i(97204),r=i(12990),o=i(77008),a=r.A.extend((function(){}),o.A);a.create=function(e,t,i,n,s,r){return new a(e,t,i,n,s,r)};var l=a.prototype;function d(e){var t=(0,n.last)(e.selectAll(".setting-row").nodes());e.node().appendChild(t),(0,s.A)(t).classed("stylesWidget",!0).select(".settingName").classed("settingTitle",!0)}l._dContentContainer=null,l._initContentStack=function(e){var t=a.superclass._initContentStack.call(this,e);return this._dContentContainer=e,d(e),t},l._onResetButtonPressed=function(){a.superclass._onResetButtonPressed.call(this),d(this._dContentContainer)},Object.seal(l);const u=Object.seal(a)},79991:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>T});var n=i(59070),s=i(86605),r=i(38712),o=i(12990),a=i(9525),l=i(59465),d=i(30992),u=i(33347);function c(e,t){this.priceValue=e,this.textAccTime=t}c.id=function(e){return e.priceValue+"|"+e.textAccTime};var h=c.prototype;h.priceValue=null,h.textAccTime=null,Object.seal(h);const p=Object.seal(c);var _=i(72873),g=i(48969),f=i(36757),m=i(73453),v=i(41283),A=o.A.extend((function(e,t,i,n,s,r){this._pointType=r}),n.A);A.TEXT_BOTTOM_GAP=3,A.TEXT_RIGHT_GAP=1,A.PIXELS_REQUIRED_PER_LABEL=30;var E=A.prototype;E._label=null,E._hidden=!1,E.withLabel=(0,a.setter)("_label"),E._getText=function(){return l.default.get(this._label)},E._createProjection=function(){return new v.A(g.default.create(),u.A.create())},E.initDom=function(){return this.dContainer.classed("labels",!0),this._showHideLabels(),this},E.startRedrawingBasedOnChangesInVisibleWindow=function(){A.superclass.startRedrawingBasedOnChangesInVisibleWindow.call(this),this._eventBus.subscribe("chart/indicator/updated/"+this._indicator.name,this._showHideLabels,this),this._instrumentModel.on(d.default.BLOCKS_POINTS_ADDED+"-"+this._pointType,this.renderOnFrameEnd,this),this._visibleWindow.visibleDateRange.on(f.default.VISIBLE_BLOCKS_CHANGED,this.renderOnFrameEnd,this),this._visibleWindow.on(m.default.MOVED,this._handleVisibleWindowMoved,this)},E.stopRedrawingBasedOnChangesInVisibleWindow=function(){this._instrumentModel.un(null,this),this._eventBus.unsubscribeAll(null,this),A.superclass.stopRedrawingBasedOnChangesInVisibleWindow.call(this)},E._handleVisibleWindowMoved=function(e){e&(s.default.ZOOMED|s.default.INITIALISED|s.default.RESIZED)&&this._showHideLabels()},E._showHideLabels=function(){var e=this._visibleWindow.visibleDateRange.accDurationToPixels(this._indicator.resolution.period)<=A.PIXELS_REQUIRED_PER_LABEL;e!==this._hidden&&(this._hidden=e,this.dContainer.classed("hidden",this._hidden))},E.render=function(){var e,t;!this._hidden&&this._instrumentModel.timeline.hasIntervals()&&(t=(e=this.dContainer.selectAll(".label").data(this._getStepLabels(),p.id)).enter().append("svg:text").classed("label",!0).text(this._getText.bind(this)),e.exit().remove(),e.merge(t).call(this._positionLabels.bind(this)))},E._getStepLabels=function(){var e,t,i,n,s=this._getVisiblePoints(),r=this._visibleWindow.visibleDateRange.pixelsToAccDuration(this._subView.getChartView().rightMargin),o=this._visibleWindow.visibleDateRange.accEnd()-r,a=this._instrumentModel.timeline.accEnd(),l=this._visibleWindow.visibleDateRange.pixelsToAccDuration(A.PIXELS_REQUIRED_PER_LABEL),d=[];for(n=0;n<s.length;n++)i=n<s.length-1?this._convertAccTime(this._instrumentModel.timeline,s[n+1]):a,t=this._convertAccTime(this._instrumentModel.timeline,s[n])+this._indicator.resolution.period,e=Math.min(t,i),i>o&&(e=this._convertAccTime(this._instrumentModel.timeline,s[n])<o-l?Math.min(t,o):this._convertAccTime(this._instrumentModel.timeline,s[n])+l),d[n]=new p(s[n].value,e);return d},E._convertAccTime=function(e,t){return e.asAccTime(t.date,!0)},E._getVisiblePoints=function(){var e=this._visibleWindow.visibleDateRange.getVisibleBlocks(this._indicator.epic,this._indicator.resolution);return r.default.getPointsIncludingPrecedingAndSucceeding(e,this._pointType)},E._replot=function(e,t){this.renderOnFrameEnd()},E._positionLabels=function(e){var t=this._visibleWindow.dimensions().x,i=this._getForwardsProjectionInX(),n=this._projection.inX.roundValue,s=this._getForwardsProjectionInY(),r=this._projection.inY.roundValue;e.attr("transform",(function(e){return _.default.svgTranslateAttrXY(n(i(e.textAccTime)-A.TEXT_RIGHT_GAP)-t,r(s(e.priceValue)-A.TEXT_BOTTOM_GAP))}))},Object.seal(E);const T=Object.seal(A)},11258:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>p});var n=i(59070),s=i(38712),r=i(12990),o=i(30992),a=i(36757),l=i(38442),d=i(41283),u=i(47703),c=r.A.extend((function(e,t,i,n,s,r){this._pointType=r}),n.A),h=c.prototype;h.startRedrawingBasedOnChangesInVisibleWindow=function(){c.superclass.startRedrawingBasedOnChangesInVisibleWindow.call(this),this._instrumentModel.on(o.default.BLOCKS_POINTS_ADDED+"-"+this._pointType,this.renderOnFrameEnd,this),this._instrumentModel.on(o.default.END_DATE_CHANGED,this.renderOnFrameEnd,this),this._visibleWindow.visibleDateRange.on(a.default.VISIBLE_BLOCKS_CHANGED,this._redrawIfNewBlocks,this)},h.stopRedrawingBasedOnChangesInVisibleWindow=function(){this._instrumentModel.un(null,this),c.superclass.stopRedrawingBasedOnChangesInVisibleWindow.call(this)},h.initDom=function(){return this.dContainer.classed("path",!0).classed(this._pointType,!0),this._dPath=this.dContainer.append("path"),this},h._x=function(e){var t=this._getForwardsProjectionInX();return(0,this._projection.inX.roundValue)(t(Math.abs(e)))},h._y=function(e){var t=this._getForwardsProjectionInY();return(0,this._projection.inY.roundValue)(t(Math.abs(e)))},h._createProjection=function(e){var t=l.default.createForShowingTimeInX(this._instrumentModel.activeResolution.period),i=u.A.createForShowingValueInY(e);return new d.A(t,i)},h._redrawIfNewBlocks=function(e){e&&this.renderOnFrameEnd()},h.render=function(){var e,t;this._instrumentModel.timeline.hasIntervals()&&(e=this._getVisiblePoints()).length&&""!==(t=this._pathDAttribute(e))&&this._dPath.attr("d",t)},h._getVisiblePoints=function(){var e=this._visibleWindow.visibleDateRange.getVisibleBlocks(this._indicator.epic,this._indicator.resolution);return s.default.getPointsIncludingPrecedingAndSucceeding(e,this._pointType)},h._replot=function(e,t){this.renderOnFrameEnd()},h._pathDAttribute=function(e){var t,i,n,s,r,o,a,l=this._visibleWindow.visibleDateRange.getVisibleBlocks(),d=l[0].accStart,u=l[l.length-1].accEnd,c=this._instrumentModel.timeline.accEnd(),h=this._indicator.resolution.period,p="";for(s=0;s<e.length;s++)i=this._convertAccTime(this._instrumentModel.timeline,e[s]),n=this._convertAccTime(this._instrumentModel.timeline,e[s])+h,i>u||n<d||(t=s<e.length-1?this._convertAccTime(this._instrumentModel.timeline,e[s+1]):c,i=Math.max(i,d),n=Math.min(n,t,u,c),o=this._x(i),a=this._x(n),p+="M "+o+" "+(r=this._y(e[s].value))+" L "+a+" "+r+" ");return p},h._convertAccTime=function(e,t){return e.asAccTime(t.date,!0)},Object.seal(h);const p=Object.seal(c)},75466:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>a});var n=i(12990),s=i(42890),r=n.A.extend((function(){}),s.default),o=r.prototype;o._checkDirection=function(e,t){return e.upTrend?1:-1},Object.seal(o);const a=Object.seal(r)},53256:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>h});var n=i(43130),s=i(12990),r=i(58703),o=i(66250),a=i(73848),l=i(21177),d=i(79842),u=s.A.extend((function(e,t,i,n){this._eventBus.subscribe("chart/view/ready",this._handleChartViewReady,this),this._eventBus.subscribe("chart/view/destroyed",this._handleChartViewReady.bind(this,null),this)}),o.default);u.create=function(e,t,i,n){return new u(e,t,i,n)};var c=u.prototype;c.id="latestCandle",c.menuDirection=a.TOOLTIP_APPEARANCE.BELOW,c.getMenuTitle=(0,n.constant)(""),c._chartView=null,c._handleChartViewReady=function(e){this._chartView=e},c._createMenuView=function(e,t){var i=l.default.create(e,t,{className:this.id,tooltipTextKey:d.default.LATEST_CANDLE_TOOLTIP,direction:this.menuDirection},this._eventBus);return i.on(l.default.CLICK,this._handleClick,this),i},c._handleClick=function(){this._chartView&&this._chartView.moveToLatestCandle(r.EventOrigin.MENU_SECONDARY)},c.destroy=function(){this._eventBus&&this._eventBus.unsubscribeAll(this),u.superclass.destroy.call(this)},Object.seal(c);const h=Object.seal(u)},82571:(e,t,i)=>{"use strict";i.d(t,{A:()=>o});var n=i(81141);function s(){}var r=s.prototype;r.handleAction=n.A.abstractMethod,Object.seal(r);const o=Object.seal(s)},50870:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>o});var n=i(82571),s=i(12990).A.extend((function(e){this._callback=e}),n.A);s.create=function(e){return new s(e)};var r=s.prototype;r.handleAction=function(e,t,i,n){this._callback.apply(null,arguments)},Object.seal(r);const o=Object.seal(s)},96505:(e,t,i)=>{"use strict";i.d(t,{A:()=>y});var n=i(43130),s=i(41943),r=i(12990),o=i(10094),a=i(2486),l=i(54859),d=r.A.extend((function(e,t,i){this._xAxisHeight=i}),a.A),u=d.prototype;u._xAxisHeight=null,u.updateClientBox=function(){this._captureZone.setDimensionsBasedOnElement(this.getBoundingClientRect())},u.getBoundingClientRect=function(){var e=(0,l.shallowClone)(d.superclass.getBoundingClientRect.call(this));return(0,o.isNumber)(e.height)&&(e.height+=this._xAxisHeight),(0,o.isNumber)(e.bottom)&&(e.bottom+=this._xAxisHeight),e},Object.seal(d.prototype);const c=Object.seal(d);var h=i(9525),p=i(61897),_=i(8796),g=r.A.extend((function(){}),_.A);g.create=function(e,t){return new g(e,t)};var f=g.prototype;f.selectItem=function(e){this._menuViewItems.forEach((function(t){t.isSelected=e(t),t.render(this._dOptionsContainer)}),this)},f.deselectItem=f.selectItem,Object.seal(f);const m=Object.seal(g);var v=r.A.extend((function(){}),p.default);v.create=function(e,t){return new v(e,t)};var A=v.prototype;A._xAxisHeight=null,A.withXAxisHeight=(0,h.setter)("_xAxisHeight"),A.panToSelection=(0,h.delegate)("_buttonBar","panToCurrentSelection"),A.updateCaptureZoneSize=function(){if(this._buttonBar){var e=(0,l.shallowClone)(this._buttonBar.getBoundingClientRect());(0,o.isNumber)(e.height)&&(e.height+=this._xAxisHeight),(0,o.isNumber)(e.bottom)&&(e.bottom+=this._xAxisHeight),this._buttonBar.withCaptureZoneSize(e)}v.superclass.updateCaptureZoneSize.call(this)},A.onDimensionsChanged=function(){v.superclass.onDimensionsChanged.call(this),this._realignItems()},A.show=function(){v.superclass.show.call(this),this._realignItems()},A._realignItems=function(){this._buttonBar.realignItems(63,.5)},A._createMenuViewItem=function(e){return new c(this._captureZoneManager,e,this._xAxisHeight)},A._createButtonBar=function(e,t){return new m(e,t)},A._createButtonBarStyles=(0,n.constant)("container mainMenu bottom smallerText root"),Object.seal(A);const E=Object.seal(v);var T=i(50870),I=i(66250),C=i(89914),O=r.A.extend(Object.assign((function(e,t,i,n,s,r,o,a){this._properties=s,this._submenus=this._createSubMenus(r,t,i,n,a)}),{__constructorTransform:function(e,t,i,n,s,r,o,a){return[e,t,i,n,o]}}),I.default);O.create=function(e,t,i,n,s,r,o,a){return new O(e,t,i,n,s,r,o,a)};var M=O.prototype;M._submenus=null,M._properties=null,M._currentMenuOptionId=null,M._handleMenuChanged=(0,h.bubbler)(C.default.CHANGED),M.initDom=function(e,t,i){for(var n of(this._createModel(),Object.keys(this._submenus)))this._submenus[n].initDom(e,t,i);O.superclass.initDom.call(this,e,t,i)},M.updateCaptureZoneSize=function(){if(this._view)for(var e of(this._view.updateCaptureZoneSize(),Object.keys(this._submenus)))this._submenus[e].updateCaptureZoneSize()},M.getMenuOptions=function(){var e=O.superclass.getMenuOptions.call(this);return e.forEach((function(e){e.items=this._submenus[e.data.id].getMenuOptions()}),this),e},M._createSubMenus=function(e,t,i,n,s){for(var r,o=Object.create(null),a=0;a<e.length;a++)o[(r=this._createSubMenu(e[a],t,i,n,s)).id]=r;return o},M._createSubMenu=function(e,t,i,n,s){var r=e.type.create(this._eventBus,t,i,n,this._properties,e.subMenus,this._taskManager,s);return Object.assign(r,{visibleByDefault:e.visibleByDefault,isDefault:!!e.isDefault,viewClass:e.view,group:e.group||"default"}),r.on(C.default.CHANGED,this._handleMenuChanged,this),e.isDefault&&!this._currentMenuOptionId&&(this._currentMenuOptionId=r.id),r},M._createMenuView=function(e,t){return E.create(e,t).withXAxisHeight(this._properties.xAxisHeight)},M._whenViewIsReady=function(){this._selectMenuOption(this._currentMenuOptionId),this._eventBus.subscribe("menu/submenu/toggle",this._handleMenuToggle,this),this._eventBus.subscribe("menu/submenu/updatemodel",this._updateModel,this)},M._createModel=function(){var e=new T.default(this._onMenuSelection.bind(this)),t=Object.keys(this._submenus).map((function(t){return{isDefault:this._submenus[t].isDefault,visibleByDefault:this._submenus[t].visibleByDefault,label:this._submenus[t].getMenuTitle(),group:this._submenus[t].group,actionListener:e,data:{id:t}}}),this);this.withModel(t)},M._updateModel=function(e,t){if(t.hasOwnProperty("label")){var i=t.label;this._getSubmenuItem(e).label=i,this._view.updateViewItemLabel(e,i)}else t.hasOwnProperty("isSelected")&&(this._getSubmenuItem(e).isSelected=t.isSelected);this.fire(C.default.CHANGED)},M._onMenuSelection=n.noop,M.onDimensionsChanged=function(){for(var e of Object.keys(this._submenus))this._submenus[e].onDimensionsChanged();this._view&&this._view.onDimensionsChanged()},M._getSubmenuItem=function(e){return(0,s.find)(this._model,(function(t){return t.data.id===e}))},M._selectMenuOption=function(e){var t;if(this._currentMenuOptionId=e,this._view.selectItem(e),null!==e)for(t in this._submenus)e===t?this._submenus[t].show():this._submenus[t].hide()},M.destroy=function(){if(this._submenus)for(var e of Object.keys(this._submenus))this._submenus[e].destroy();this._submenus=null,O.superclass.destroy.call(this)},M._destroyDom=function(){if(this._submenus)for(var e of Object.keys(this._submenus))this._submenus[e]._destroyDom();O.superclass._destroyDom.call(this)},M._handleMenuToggle=function(e){this._selectMenuOption(e),this._view&&this._view.panToSelection(!0)},M.withModel=function(e,t){if(O.superclass.withModel.call(this,e,t),this._currentMenuOptionId&&this._hiddenMenuItems[this._currentMenuOptionId]){var i=this._getDefaultSubmenuId(this._submenus);this._selectMenuOption(i)}return this},M._getDefaultSubmenuId=function(e){var t,i,n=Object.keys(e);for(i=0;i<n.length;i++)if(e[t=n[i]].isDefault)return t;return null},Object.seal(M);const y=Object.seal(O)},66250:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>g});var n=i(43130),s=i(41943),r=i(12990),o=i(48202),a=i(89914),l=i(9525),d=i(61897),u=i(54859),c=i(81141),h=i(289),p=r.A.extend((function(e,t,i,n,s){this._eventBus=e,this._settingsManager=t,this._containerProvider=i,this._hiddenMenuItems={},this._taskManager=s,n&&(this._toggleStates=n,n.on("toggled",this._switchItem,this))}),h.default),_=p.prototype;_.id=null,_.viewClass=null,_._containerProvider=null,_._eventBus=null,_._taskManager=null,_._model=null,_._menuItemsComparator=null,_._settingsManager=null,_._view=null,_._hiddenMenuItems=null,_._captureZoneManager=null,_._switchItem=function(e,t){this.id!==e||t?(this._hiddenMenuItems[e]=!t,this._containsMenuItem(e)&&this.withModel(this._model,!0)):this.hide()},_.withModel=function(e,t){return this._model=e,this._updateDefaultVisibility(),this._view&&this._view.withMenuItems(this._getVisibleItems(),!!t),this.fire(a.default.CHANGED),this},_.getModel=(0,l.getter)("_model"),_._generateModel=c.A.abstractMethod,_._updateModel=function(){var e=this._generateModel();this._menuItemsComparator&&e.sort(this._menuItemsComparator),e=(0,n.sortBy)(e,["group"]),this.withModel(e)},_.getMenuOptions=function(){return(0,u.deepCopyLiteral)([],this._getVisibleItems())},_.initDom=function(e,t,i){if(this._view&&this._destroyDom(),this._toggleStates)for(var n in this._toggleStates)this._toggleStates.hasOwnProperty(n)&&this._switchItem(n,this._toggleStates[n]);return this._view=this._createMenuView(t,i),this._view.on(d.default.VISIBILITY_CHANGED,this._handleMenuViewVisibilityChange,this),this._model&&this.withModel(this._model),this._view.initDom(e),this._whenViewIsReady(),this},_.show=(0,l.delegate)("_view","show"),_.hide=(0,l.delegate)("_view","hide"),_.onDimensionsChanged=(0,l.delegate)("_view","onDimensionsChanged"),_.updateCaptureZoneSize=(0,l.delegate)("_view","updateCaptureZoneSize"),_.getMenuTitle=function(){return o.default.get(this.id)},_._dialogBox=null,_._updateDefaultVisibility=function(){this._model.forEach(function(e){void 0===e.visibleByDefault||this._hiddenMenuItems.hasOwnProperty(e.data.id)||(this._hiddenMenuItems[e.data.id]=!e.visibleByDefault)}.bind(this))},_.destroy=function(){this._dialogBox&&(this._dialogBox.destroy(),this._dialogBox=null),this._toggleStates&&(this._toggleStates.un(null,this),this._toggleStates=null),this._destroyDom(),this._eventBus.unsubscribeAll(this),this._hiddenMenuItems=null,this._model=null,this._settingsManager&&(this._settingsManager.un(null,this),this._settingsManager=null),this._captureZoneManager&&(this._captureZoneManager=null),p.superclass.destroy.call(this)},_._createMenuView=function(e,t){return this._captureZoneManager=e,this.viewClass.create(e,t)},_._getVisibleItems=function(){var e=[];return this._model&&(e=this._model.filter((function(e){return!(e.data&&this._hiddenMenuItems[e.data.id])}),this)),e},_._isItemVisible=function(e){var t=this._getVisibleItems();return(0,n.some)(t,["data.id",e])},_._containsMenuItem=function(e){return!!this._getMenuItemById(e)},_._getMenuItemById=function(e){return this._model?(0,s.find)(this._model,(function(t){return t.data&&t.data.id===e})):null},_._handleMenuViewVisibilityChange=function(){this._eventBus.publish("menu/visibility/changed")},_._updateModelSelectedState=function(e,t){var i=this._getMenuItemById(e);i&&(i.isSelected=t)},_._whenViewIsReady=n.noop,_._destroyDom=function(){this._view&&(this._eventBus.unsubscribeAll(this._view),this._view.un(null,this),this._view.destroy(),this._view=null)},_.getActiveSubItems=function(){return this._view?this._view.getActiveButtonBarItems():{}},Object.seal(_);const g=Object.seal(p)},16282:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>p});var n=i(43130),s=i(96505),r=i(12990),o=i(61897),a=r.A.extend((function(){}),o.default);a.create=function(e,t){return new a(e,t)};var l=a.prototype;l._dContainer=null,l.initDom=function(e){return this._dContainer=e._dMenuContainer,this._dContainer.classed("topMenu",!0),this.withMenuItems(this._menuItems),this},l.getMenuWidth=function(){return this._dContainer.node().getBoundingClientRect().width},l.show=function(){this._dContainer.classed("hidden",!1),this.fire(o.default.VISIBILITY_CHANGED)},l.hide=function(){this._dContainer.classed("hidden",!0),this.fire(o.default.VISIBILITY_CHANGED)},Object.seal(l);const d=Object.seal(a);var u=i(9525),c=r.A.extend((function(){}),s.A);c.create=function(e,t,i,n,s,r,o,a){return new c(e,t,i,n,s,r,o,a)};var h=c.prototype;h.id="topMenu",h.getMenuTitle=(0,n.constant)(""),h._createMenuView=function(e,t){return d.create(e,t)},h.withModel=function(){c.superclass.withModel.apply(this,arguments),(0,n.mapKeys)(this._submenus,function(e,t){this._isItemVisible(t)?e.show():e.hide()}.bind(this))},h._switchItem=function(e,t){c.superclass._switchItem.call(this,e,t),(0,u.invokeCall)((0,n.values)(this._submenus),"updateCaptureZoneSize")},h._whenViewIsReady=n.noop,Object.seal(h);const p=Object.seal(c)},70138:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>s});var n={adaptMenuOptions:function(e,t){return e.map((function(e){return n.adaptMenuOption(e,t)}))},setItemContent:function(e,t,i,n){var s;try{s=t.get(e+"-content")}catch(r){if(r.message==="Unknown i18n property: "+e+"-content")return[];throw r}return[{data:{id:e+"-info",data:{}},label:{onInit:function(i){var r=document.createElement("span");if(n){var o=n&&t.get(e+"-content-more")?t.get("learn-more"):"";r.innerHTML=s+o+t.get(e+"-content-more")}else r.innerHTML=s;i.appendChild(r)},onDestroy:function(e){e.parentNode.removeChild(e)}},isPersistent:!0,classList:[i]}]},addActionCallback:function(e,t,i){e.actionListener=t,e.callback=function(){var t=Array.prototype.slice.call(arguments);1===arguments.length&&t.push(!0),i&&(t[3]=i),e.actionListener.handleAction.apply(e.actionListener,t),e.persistent&&e.hasOwnProperty("selected")&&arguments.length>1&&(e.selected=arguments[1])}},adaptMenuOption:function(e,t){var i={id:e.data.id,data:e.data,allowHTML:!!e.allowHTML,content:e.label,persistent:!!e.isPersistent};return e.hasOwnProperty("group")&&(i.group=e.group),e.hasOwnProperty("isSelected")&&(i.selected=!!e.isSelected),e.hasOwnProperty("shortcut")&&(i.shortcut=e.shortcut),e.hasOwnProperty("icon")&&(i.icon=e.icon),e.hasOwnProperty("hoverOnIcon")&&(i.hoverOnIcon=!!e.hoverOnIcon),e.hasOwnProperty("isMixed")&&(i.isMixed=!!e.isMixed),e.hasOwnProperty("classList")&&(i.classList=e.classList),e.hasOwnProperty("chevron")&&(i.chevron=!!e.chevron),e.items&&e.items.length?i.items=n.adaptMenuOptions(e.items,t):n.addActionCallback(i,e.actionListener,t),i.isMixed&&n.addActionCallback(i,e.actionListener,t),i}};const s=Object.seal(n)},86288:(e,t,i)=>{"use strict";i.d(t,{A:()=>o});var n,s=i(17660);function r(e,t){return e.label.localeCompare(t.label)}n={createComparator:function(){return s.default.getInstance().isLatinLang()?r:null}},Object.seal(n);const o=n},48202:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>n});const n=new(i(95151).default)({de:{styles:"Chartstil",resolutions:"Intervall",daterange:"Zeitraum",DATE_RANGE_1_DAY:"1 Tag",DATE_RANGE_1_WEEK:"1 Woche",DATE_RANGE_1_MONTH:"1 Monat",DATE_RANGE_3_MONTHS:"3 Monate",DATE_RANGE_6_MONTHS:"6 Monate",DATE_RANGE_1_YEAR:"1 Jahr",DATE_RANGE_2_YEARS:"2 Jahre",DATE_RANGE_5_YEARS:"5 Jahre",GO_TO:"Gehen Sie zu",drawings:"Zeichnungen",highlowstats:"Preisänderung",priceline:"Kurslinie",overview:"Zeitleiste",indicators:"Indikatoren",templates:"Layouts",visibility:"Anzeigen",ASK:"Briefkurs",ASK_BUY:"{0}Briefkurs{1} {2}(Kauf){3}","ASK-content":"Das ist der Marktpreis, zu dem Sie kaufen können, bzw. der Preis, zu dem der Markt bereit ist, an Sie zu verkaufen","ASK-content-more":"also der Verkaufskurs.",BID:"Geldkurs",BID_SELL:"{0}Geldkurs{1} {2}(Verkauf){3}","BID-content":"Das ist der Marktpreis, zu dem Sie verkaufen können, bzw. der Preis, den der Markt bereit ist zu zahlen","BID-content-more":"also der Ankaufskurs.",MID:"{0}Mitte{1}","MID-content":"Das ist der Mittelkurs zwischen den Kauf- und Verkaufspreisen des Marktes",LAST_TRADED:"{0}Zuletzt getradet{1}",LT:"ZG","LAST_TRADED-content":"Das ist der Preis, zu dem letztes Mal gehandelt wurde",priceType:"Preis",scale:"Skala",PERCENTAGE:"Prozentsatz",ABSOLUTE:"Linear",tooltip:"HLOC Daten",menu:"Tools",styles_customise:"Bearbeiten",customise_appearance:"Darstellung anpassen",delete:"Löschen",delete_template:"Layout löschen",dealing:"Handel",desktopDealing:"Handel",dealOnCharts:"Handel aus dem Chart",dealingSettings:"Einstellungen",menuPositions:"Offene Positionen",menuWorkingOrders:"Zu eröffnende Order",save_as:"Speichern unter",save_template:"Layout speichern",template_name:"Layout-Name",calendarevents:"Events",apply:"Verwenden",save:"Speichern",cancel:"Abbrechen",apply_template:"Layout anwenden",positions_shown:"Offene Positionen eingeblendet",positions_hidden:"Offene Positionen ausgeblendet",p_show_hide:"(zum Ein-/Ausblenden drücken Sie P)",wo_shown:"Hinterlegte Orders eingeblendet",wo_hidden:"Hinterlegte Orders ausgeblendet",o_show_hide:"(zum Aus-/Einblenden drücken Sie O)",strikes_shown:"Knock-out-Level eingeblendet",strikes_hidden:"Knock-out-Level ausgeblendet",k_show_hide:"(zum Ein-/Ausblenden drücken Sie K)",orderBuy:"Order zum {0}KAUF{1} @ {2}",orderSell:"Order zum {0}VERKAUF{1} @ {2}"},en:{styles:"Types",resolutions:"Interval",daterange:"Date range",DATE_RANGE_1_DAY:"1 Day",DATE_RANGE_1_WEEK:"1 Week",DATE_RANGE_1_MONTH:"1 Month",DATE_RANGE_3_MONTHS:"3 Months",DATE_RANGE_6_MONTHS:"6 Months",DATE_RANGE_1_YEAR:"1 Year",DATE_RANGE_2_YEARS:"2 Years",DATE_RANGE_5_YEARS:"5 Years",GO_TO:"Go to",drawings:"Drawings",highlowstats:"Price changes",priceline:"Price line",overview:"Timeline",indicators:"Indicators",templates:"Layouts",visibility:"Show",ASK:"Ask",ASK_BUY:"{0}Ask{1} {2}(BUY){3}","ASK-content":"This is the market price that you can buy at","ASK-content-more":"i.e. what the market is willing to sell to you at – the price being asked for.",MID:"{0}Mid{1}","MID-content":"This is the mid price between market buy & sell prices",BID:"Bid",BID_SELL:"{0}Bid{1} {2}(SELL){3}","BID-content":"This is the market price that you can sell at","BID-content-more":"i.e. what the market is willing to pay – the price being bid.",LAST_TRADED:"{0}Last traded{1}",LT:"LT","LAST_TRADED-content":"This is the price at which the last trade occurred",priceType:"Price",scale:"Scale",PERCENTAGE:"Percentage",ABSOLUTE:"Linear",tooltip:"HLOC data",menu:"Tools",styles_customise:"Customise",customise_appearance:"Customise appearance",delete_template:"Delete layout",delete:"Delete",dealing:"Dealing",desktopDealing:"Dealing",dealOnCharts:"Dealing on charts",dealingSettings:"Settings",menuPositions:"Open Positions",menuWorkingOrders:"Working Orders",save_as:"Save As",save_template:"Save layout",template_name:"Layout name",calendarevents:"Events",apply:"Apply",save:"Save",cancel:"Cancel",apply_template:"Apply layout",positions_shown:"Open positions shown",positions_hidden:"Open positions hidden",p_show_hide:"(press P to show/hide)",wo_shown:"Working orders shown",wo_hidden:"Working orders hidden",o_show_hide:"(press O to show/hide)",strikes_shown:"Knock-out levels shown",strikes_hidden:"Knock-out levels hidden",k_show_hide:"(press K to show/hide)",nadexStrikes_shown:"Strikes shown",nadexStrikes_hidden:"Strikes hidden",s_show_hide:"(press S to show/hide)",orderBuy:"Order to {0}BUY{1} @ {2}",orderSell:"Order to {0}SELL{1} @ {2}"},en_US:{styles_customise:"Customize",customise_appearance:"Customize appearance",dealing:"Trading",desktopDealing:"Trading",dealOnCharts:"Trading on charts",menuPositions:"Positions",menuWorkingOrders:"Orders",positions_shown:"Positions shown",positions_hidden:"Positions hidden",wo_shown:"Orders shown",wo_hidden:"Orders hidden"},es:{styles:"Tipos",resolutions:"Intervalo",daterange:"Rango de fechas",DATE_RANGE_1_DAY:"1 Día",DATE_RANGE_1_WEEK:"1 Semana",DATE_RANGE_1_MONTH:"1 Mes",DATE_RANGE_3_MONTHS:"3 Meses",DATE_RANGE_6_MONTHS:"6 Meses",DATE_RANGE_1_YEAR:"1 Año",DATE_RANGE_2_YEARS:"2 Años",DATE_RANGE_5_YEARS:"5 Años",GO_TO:"Ir a",drawings:"Dibujo",highlowstats:"Cambios en el precio",priceline:"Línea de precio",overview:"Línea de tiempo",indicators:"Indicadores",templates:"Disposición",visibility:"Mostrar",ASK:"Ask",ASK_BUY:"{0}Ask{1} {2}(Comprar){3}","ASK-content":"Este es el precio de mercado al que puedes comprar","ASK-content-more":"es decir, el precio al que el mercado está dispuesto a venderte.",BID:"Bid",BID_SELL:"{0}Bid{1} {2}(Vender){3}","BID-content":"Este es el precio de mercado al que puedes vender","BID-content-more":"es decir, el precio que el mercado está dispuesto a pagarte.",MID:"{0}Med{1}","MID-content":"Este es el precio medio entre los precios de compra y venta del mercado",LAST_TRADED:"{0}Última operación{1}",LT:"ÚO","LAST_TRADED-content":"Este es el precio al que se realizó la última operación.",priceType:"Precio",scale:"Escala",PERCENTAGE:"Porcentual",ABSOLUTE:"Lineal",tooltip:"Datos HLOC",menu:"Ajustes",styles_customise:"Personalizar",customise_appearance:"Personalizar diseño",delete:"Eliminar",delete_template:"Eliminar plantilla",dealing:"Operar",desktopDealing:"Operar",dealOnCharts:"Operar desde gráficos",dealingSettings:"Preferencias",menuPositions:"Posiciones abiertas",menuWorkingOrders:"Órdenes de apertura",save_as:"Guardar como",save_template:"Guardar diseño",template_name:"Nombre del diseño",calendarevents:"Eventos",apply:"Aplicar",save:"Guardar",cancel:"Cancelar",apply_template:"Aplicar plantilla",positions_shown:"Abrir las posiciones mostradas",positions_hidden:"Abrir las posiciones ocultas",p_show_hide:"(pulsa P para mostrar/ocultar)",wo_shown:"Órdenes en ejecución mostradas",wo_hidden:"Órdenes en ejecución ocultas",o_show_hide:"(pulsa O para mostrar/ocultar)",strikes_shown:"Niveles de knockout mostrados",strikes_hidden:"Niveles de knockout ocultos",k_show_hide:"(pulsa K para mostrar/ocultar)",orderBuy:"Orden de {0}COMPRA{1} a {2}",orderSell:"Orden de {0}VENTA{1} a {2}"},fr:{styles:"Types",resolutions:"Unité de temps",daterange:"Période",DATE_RANGE_1_DAY:"1 Jour",DATE_RANGE_1_WEEK:"1 Semaine",DATE_RANGE_1_MONTH:"1 Mois",DATE_RANGE_3_MONTHS:"3 Mois",DATE_RANGE_6_MONTHS:"6 Mois",DATE_RANGE_1_YEAR:"1 An",DATE_RANGE_2_YEARS:"2 Ans",DATE_RANGE_5_YEARS:"5 Ans",GO_TO:"Choisir une date",drawings:"Croquis",highlowstats:"Évolutions du cours",priceline:"Ligne de prix",overview:"Ligne de temps",indicators:"Indicateurs",templates:"Configurations",visibility:"Afficher",ASK:"Achat",ASK_BUY:"{0}Achat{1}","ASK-content":"C'est le cours du marché auquel vous pouvez acheter","ASK-content-more":"c'est-à-dire le prix auquel le marché est prêt à vendre ou le prix demandé.",BID:"Vente",BID_SELL:"{0}Vente{1}","BID-content":"C'est le cours du marché auquel vous pouvez vendre","BID-content-more":"c'est-à-dire le prix que le marché est prêt à payer ou le prix offert.",MID:"{0}Moyenne{1}","MID-content":"C'est le cours moyen entre le cours d'achat et le cours de vente",LAST_TRADED:"{0}Dernier Trade{1}",LT:"DT","LAST_TRADED-content":"C'est le cours auquel le dernier ordre a été passé.",priceType:"Cours",scale:"Échelle",PERCENTAGE:"Pourcentage",ABSOLUTE:"Linéaire",tooltip:"Données HLOC",menu:"Outils",styles_customise:"Personnaliser",customise_appearance:"Personnaliser l'apparence",delete:"Supprimer",delete_template:"Supprimer une mise en page",dealing:"Opérations",desktopDealing:"Opérations",dealOnCharts:"Passage d'ordre sur graphiques",dealingSettings:"Réglages",menuPositions:"Positions ouvertes",menuWorkingOrders:"Ordres limités",save_as:"Enregistrer sous",save_template:"Enregistrer la configuration",template_name:"Nom de la configuration",calendarevents:"Événements",apply:"Appliquer",save:"Sauvegarder",cancel:"Annuler",apply_template:"Appliquer une mise en page",positions_shown:"Positions ouvertes affichées",positions_hidden:"Positions ouvertes masquées",p_show_hide:"(appuyez sur P pour afficher/masquer)",wo_shown:"Ordres en cours affichés",wo_hidden:"Ordres en cours masqués",o_show_hide:"(appuyez sur O pour afficher/masquer)",strikes_shown:"Niveaux du knock-out affichés",strikes_hidden:"Niveaux du knock-out masqués",k_show_hide:"(appuyez sur K pour afficher/masquer)",orderBuy:"Ordre d'{0}ACHAT{1} à {2}",orderSell:"Ordre de {0}VENTE{1} à {2}"},it:{styles:"Tipo",resolutions:"Intervallo",daterange:"Periodo",DATE_RANGE_1_DAY:"1 Giorno",DATE_RANGE_1_WEEK:"1 Settimana",DATE_RANGE_1_MONTH:"1 Mese",DATE_RANGE_3_MONTHS:"3 Mesi",DATE_RANGE_6_MONTHS:"6 Mesi",DATE_RANGE_1_YEAR:"1 Anno",DATE_RANGE_2_YEARS:"2 Anni",DATE_RANGE_5_YEARS:"5 Anni",GO_TO:"Data",drawings:"Traccia",highlowstats:"Variazione di prezzo",priceline:"Linea di prezzo",overview:"Timeline",indicators:"Indicatori",templates:"Layout",visibility:"Mostra",ASK:"Lettera",ASK_BUY:"{0}Lettera{1} {2}(Compra){3}","ASK-content":"Questo è il prezzo di mercato a cui puoi comprare","ASK-content-more":"cioè il prezzo disponibile in questo momento sul mercato - il prezzo richiesto.",BID:"Denaro",BID_SELL:"{0}Denaro{1} {2}(Vendi){3}","BID-content":"Questo è il prezzo di mercato a cui puoi vendere","BID-content-more":"cioè il prezzo al quale il mercato è disposto a pagare – il prezzo offerto.",MID:"{0}Media{1}","MID-content":"Questo è il prezzo medio tra il prezzo di acquisto e di vendita di mercato",LAST_TRADED:"{0}Ultimo Trade{1}",LT:"UT","LAST_TRADED-content":"Questo è il prezzo al quale si è verificata l'ultima operazione",priceType:"Prezzo",scale:"Scala",PERCENTAGE:"Percentuale",ABSOLUTE:"Lineare",tooltip:"HLOC",menu:"Strumenti",styles_customise:"Personalizza",customise_appearance:"Configura il grafico",delete:"Elimina",delete_template:"Cancella layout",dealing:"Trading",desktopDealing:"Trading",dealOnCharts:"Trading dai grafici",dealingSettings:"Impostazioni",menuPositions:"Posizioni aperte",menuWorkingOrders:"Ordini di apertura",save_as:"Salva come",save_template:"Salva layout",template_name:"Nome Template",calendarevents:"Eventi",apply:"Seleziona",save:"Salva",cancel:"Annulla",apply_template:"Applica layout",positions_shown:"Le posizioni aperte sono visibili",positions_hidden:"Le posizioni aperte sono nascoste",p_show_hide:"(premi P per visualizzarle/nasconderle)",wo_shown:"Gli ordini in lavorazione sono visibili",wo_hidden:"Gli ordini in lavorazione sono nascosti",o_show_hide:"(premi O per visualizzarli/nasconderli)",strikes_shown:"I livelli di knock-out sono visibili",strikes_hidden:"I livelli di knock-out sono nascosti",k_show_hide:"(premi K per visualizzarli/nasconderli)",orderBuy:"Ordine {0}BUY{1} @ {2}",orderSell:"Ordine {0}SELL{1} @ {2}"},ja:{styles:"タイプ",resolutions:"時間軸",daterange:"期間",DATE_RANGE_1_DAY:"1 日",DATE_RANGE_1_WEEK:"1 週間",DATE_RANGE_1_MONTH:"1 ヶ月",DATE_RANGE_3_MONTHS:"3 ヶ月",DATE_RANGE_6_MONTHS:"6 ヶ月",DATE_RANGE_1_YEAR:"1 年",DATE_RANGE_2_YEARS:"2 年",DATE_RANGE_5_YEARS:"5 年",GO_TO:"期間指定",drawings:"ライン",highlowstats:"価格変動",priceline:"プライスライン",overview:"表示期間",indicators:"テクニカル分析",templates:"レイアウト",visibility:"表示項目",ASK:"買値",ASK_BUY:"{0}買値{1} {2}(買い){3}","ASK-content":"買値価格に基づいてチャートを表示します。","ASK-content-more":"",BID:"売値",BID_SELL:"{0}売値{1} {2}(売り){3}","BID-content":"売値価格に基づいてチャートを表示します。","BID-content-more":"",MID:"{0}中値{1}","MID-content":"買値価格と売値価格の中間値に基づいてチャートを表示します。",LAST_TRADED:"{0}直近値{1}",LT:"直近値","LAST_TRADED-content":"最後の取引が行われた価格です。",priceType:"表示レート",scale:"基準設定",PERCENTAGE:"パーセント",ABSOLUTE:"線形",tooltip:"四本値",menu:"ツール",styles_customise:"カスタマイズ",customise_appearance:"表示をカスタマイズ",delete:"削除",delete_template:"レイアウトの削除",dealing:"取引",desktopDealing:"取引",dealOnCharts:"チャート直接取引",dealingSettings:"設定",menuPositions:"保有ポジション",menuWorkingOrders:"予約注文",save_as:"保存する",save_template:"レイアウトの保存",template_name:"レイアウト名",calendarevents:"イベント",apply:"選択",save:"保存",cancel:"キャンセル",apply_template:"レイアウトの適用",positions_shown:"ポジション一覧を表示",positions_hidden:"ポジション一覧を非表示",p_show_hide:"（キーボードのPをクリック）",wo_shown:"未決オーダーを表示",wo_hidden:"未決オーダーを非表示",o_show_hide:"（キーボードのOをクリック）",orderBuy:"{0}買いレート{1}{2}",orderSell:"{0}売りレート{1}{2}"},nl:{styles:"Soorten",resolutions:"Interval",daterange:"Periode",DATE_RANGE_1_DAY:"1 Dag",DATE_RANGE_1_WEEK:"1 Week",DATE_RANGE_1_MONTH:"1 Maand",DATE_RANGE_3_MONTHS:"3 Maanden",DATE_RANGE_6_MONTHS:"6 Maanden",DATE_RANGE_1_YEAR:"1 Jaar",DATE_RANGE_2_YEARS:"2 Jaar",DATE_RANGE_5_YEARS:"5 Jaar",GO_TO:"Ga naar",drawings:"Tekeningen",highlowstats:"Prijsveranderingen",priceline:"Koerslijn",overview:"Tijdsperiode",indicators:"Indicatoren",templates:"Layouts",visibility:"Tonen",ASK:"Vraag",ASK_BUY:"{0}Vraag{1} {2}(Koop){3}","ASK-content":"Dit is de marktprijs waartegen u kunt kopen","ASK-content-more":"Met andere woorden het bedrag dat de markt vraagt om te verkopen en prijs die daarvoor gevraagd wordt.",BID:"Bied",BID_SELL:"{0}Bied{1} {2}(Verkoop){3}","BID-content":"Dit is de marktprijs waartegen u kunt verkopen","BID-content-more":"Met andere woorden het bedrag waartegen de markt wilt kopen en de prijs die daarvoor wordt geboden.",MID:"{0}Mid{1}","MID-content":"Dit is de middenkoers, dus de koers tussen de koop- en verkoopprijs",LAST_TRADED:"{0}Laatst Verhandeld{1}",LT:"LV","LAST_TRADED-content":"Dit is de prijs waartegen de laatste transactie heeft plaatsgevonden",priceType:"Prijstype",scale:"Schaal",PERCENTAGE:"Procentueel",ABSOLUTE:"Lineair",tooltip:"HLOC data",menu:"Tools",styles_customise:"Aanpassen",customise_appearance:"Lay-out aanpassen",delete:"Verwijderen",delete_template:"Lay-out verwijderen",dealing:"Handelen",desktopDealing:"Handelen",dealOnCharts:"Handelen via grafieken",dealingSettings:"Instellingen",menuPositions:"Open posities",menuWorkingOrders:"Werkende orders",save_as:"Opslaan Als",save_template:"Layout opslaan",template_name:"Layout Naam",calendarevents:"Evenementen",apply:"Toepassen",save:"Opslaan",cancel:"Annuleer",apply_template:"Lay-out toepassen",positions_shown:"Open posities getoond",positions_hidden:"Open posities niet getoond",p_show_hide:"(druk op P voor tonen/verbergen)",wo_shown:"Werkende orders getoond",wo_hidden:"Werkende orders niet getoond",o_show_hide:"(druk op O voor tonen/verbergen)",strikes_shown:"Knock-outniveaus getoond",strikes_hidden:"Knock-outniveaus niet getoond",k_show_hide:"(druk op K voor tonen/verbergen)",orderBuy:"Order voor {0}koop{1} @ {2}",orderSell:"Order voor {0}verkoop{1} @ {2}"},nb:{styles:"Type",resolutions:"Intervall",daterange:"Datointervall",DATE_RANGE_1_DAY:"1 Dag",DATE_RANGE_1_WEEK:"1 Uke",DATE_RANGE_1_MONTH:"1 Måned",DATE_RANGE_3_MONTHS:"3 Måneder",DATE_RANGE_6_MONTHS:"6 Måneder",DATE_RANGE_1_YEAR:"1 År",DATE_RANGE_2_YEARS:"2 År",DATE_RANGE_5_YEARS:"5 År",GO_TO:"Gå til",drawings:"Markeringer",highlowstats:"Prisendringer",priceline:"Prislinje",overview:"Tidslinje",indicators:"Indikatorer",templates:"Oppsett",visibility:"Vis",ASK:"Kjøp",ASK_BUY:"{0}Kjøp{1}","ASK-content":"Dette er markedsprisen du kan kjøpe for","ASK-content-more":"dvs. prisen markedet er villig til å selge til deg på - prisen som bes om.",BID:"Selg",BID_SELL:"{0}Selg{1}","BID-content":"Dette er markedsprisen du kan selge for","BID-content-more":"dvs. hva markedet er villig til å betale - prisen som bys.",MID:"{0}Mid{1}","MID-content":"Dette er mellomprisen mellom markedets kjøps- og salgspriser",LAST_TRADED:"{0}Sist handlet{1}",LT:"SH","LAST_TRADED-content":"Dette er prisen da forrige trade ble gjennomført",priceType:"Kurs",scale:"Skala",PERCENTAGE:"Prosentandel",ABSOLUTE:"Lineær",tooltip:"HLOC-data",menu:"Verktøy",styles_customise:"Skreddersy",customise_appearance:"Tilpass utseende",delete:"Slett",delete_template:"Slett layout",dealing:"Trading",desktopDealing:"Trading",dealOnCharts:"Trading gjennom diagrammer",dealingSettings:"Innstillinger",menuPositions:"Åpne posisjoner",menuWorkingOrders:"Betingede ordre",save_as:"Lagre som",save_template:"Lagre layout",template_name:"Navn på oppsett",calendarevents:"Hendelser",apply:"Bruk",save:"Lagre",cancel:"Kanseller",apply_template:"Anvend layout",positions_shown:"Åpne posisjoner vises",positions_hidden:"Åpne posisjoner skjulte",p_show_hide:"(trykk P for å vise/skjule)",wo_shown:"Betingede ordre vises",wo_hidden:"Betingede ordre skjulte",o_show_hide:"(trykk O for å vise/skjule)",strikes_shown:"Knock-out-nivåer vises",strikes_hidden:"Knock-out-nivåer skjulte",k_show_hide:"(trykk K for å vise/skjule)",orderBuy:"Ordre for å {0}KJØP{1} @ {2}",orderSell:" Ordre for å {0}SELGE{1} @ {2}"},pt:{styles:"Tipos",resolutions:"Intervalo",daterange:"Período",DATE_RANGE_1_DAY:"1 Dia",DATE_RANGE_1_WEEK:"1 Semana",DATE_RANGE_1_MONTH:"1 Mês",DATE_RANGE_3_MONTHS:"3 Meses",DATE_RANGE_6_MONTHS:"6 Meses",DATE_RANGE_1_YEAR:"1 Ano",DATE_RANGE_2_YEARS:"2 Anos",DATE_RANGE_5_YEARS:"5 Anos",GO_TO:"Ir para",drawings:"Marcações",highlowstats:"Variação de preço",priceline:"Linha de preço",overview:"Linha do tempo",indicators:"Indicadores",templates:"Modelos",visibility:"Mostrar",ASK:"Compra",ASK_BUY:"{0}Compra{1} {2}(Comprar){3}","ASK-content":"Este é o preço de mercado que podes comprar","ASK-content-more":"ou seja, o que o mercado está disposto a te vender - o preço que está sendo solicitado.",BID:"Venda",BID_SELL:"{0}Venda{1} {2}(Vender){3}","BID-content":"Este é o preço de mercado que podes vender","BID-content-more":"ou seja, o que o mercado está disposto a pagar - o preço a ser comprado.",MID:"{0}Meio{1}","MID-content":"Este é o preço médio entre os preços de compra e venda de mercado",LAST_TRADED:"{0}Último preço{1}",LT:"ÚP","LAST_TRADED-content":"Este é o preço pelo qual a última negociação ocorreu",priceType:"Preço",scale:"Escala",PERCENTAGE:"Porcentagem",ABSOLUTE:"Linear",tooltip:"Dados HLOC",menu:"Opções",styles_customise:"Personalizar",customise_appearance:"Personalizar Aparência",delete:"Apagar",delete_template:"Eliminar layout",dealing:"Negociar",desktopDealing:"Negociar",dealOnCharts:"Negociar nos gráficos",dealingSettings:"Preferências",menuPositions:"Posições Abertas",menuWorkingOrders:"Ordens de Abertura",save_as:"Guardar como",save_template:"Guardar layout",template_name:"Nome do modelo",calendarevents:"Eventos",apply:"Aplicar",save:"Guardar",cancel:"Cancelar",apply_template:"Aplicar layout",positions_shown:"Abrir posições mostradas",positions_hidden:"Abrir posições escondidas",p_show_hide:"(pressione P para mostrar/ocultar)",wo_shown:"Ordens de trabalho mostradas",wo_hidden:"Ordens de trabalho escondidas",o_show_hide:"(pressione O para mostrar/ocultar)",orderBuy:"Ordem para {0}COMPRAR{1} @ {2}",orderSell:"Ordem para {0}VENDER{1} @ {2}"},sv:{styles:"Stil",resolutions:"Intervall",daterange:"Tidsintervall",DATE_RANGE_1_DAY:"1 Dag",DATE_RANGE_1_WEEK:"1 Vecka",DATE_RANGE_1_MONTH:"1 Månad",DATE_RANGE_3_MONTHS:"3 Månader",DATE_RANGE_6_MONTHS:"6 Månader",DATE_RANGE_1_YEAR:"1 År",DATE_RANGE_2_YEARS:"2 År",DATE_RANGE_5_YEARS:"5 År",GO_TO:"Gå till",drawings:"Ritobjekt",highlowstats:"Prisförändring",priceline:"Prislinje",overview:"Tidslinje",indicators:"Indikatorer",templates:"Diagramlayouter",visibility:"Visa",ASK:"Säljkurs",ASK_BUY:"{0}Säljkurs{1} {2}(Köpa){3}","ASK-content":"Detta är marknadspriset som du kan köpa vid","ASK-content-more":"Det vill säga, till det pris som marknaden är villig att sälja något till dig för – det pris som efterfrågas.",BID:"Köpkurs",BID_SELL:"{0}Köpkurs{1} {2}(Sälja){3}","BID-content":"Detta är marknadspriset som du kan sälja vid","BID-content-more":"Det vill säga, till det pris som marknaden är villig att köpa något från dig för – det pris som erbjuds.",MID:"{0}Mittkurs{1}","MID-content":"Detta är mittkursen mellan marknadens köp- & säljpris",LAST_TRADED:"{0}Senast handlad{1}",LT:"SH","LAST_TRADED-content":"Detta är det pris till vilket den senaste handeln skedde",priceType:"Pris",scale:"Skala",PERCENTAGE:"Procentsats",ABSOLUTE:"Linjär",tooltip:"HLOC-data",menu:"Alternativ",styles_customise:"Anpassa",customise_appearance:"Anpassa utseende",delete:"Radera",delete_template:"Radera layout",dealing:"Transaktioner",desktopDealing:"Transaktioner",dealOnCharts:"Handel via diagram",dealingSettings:"Inställningar",menuPositions:"Öppna positioner",menuWorkingOrders:"Order att öppna",save_as:"Spara som",save_template:"Spara layout",template_name:"Layoutnamn",calendarevents:"Händelser",apply:"Använd",save:"Spara",cancel:"Avbryt",apply_template:"Använd layout",positions_shown:"Öppna positioner visas",positions_hidden:"Öppna positioner dolda",p_show_hide:"(tryck på P för att visa/dölja)",wo_shown:"Väntande ordrar visas",wo_hidden:"Väntande ordrar dolda",o_show_hide:"(tryck på O för att visa/dölja)",strikes_shown:"Knock-out-nivåer visas",strikes_hidden:"Knock-out-nivåer dolda",k_show_hide:"(tryck på K för att visa/dölja)",orderBuy:"{0}KÖPORDER{1} vid {2}",orderSell:"{0}SÄLJORDER{1} vid {2}"},zh:{styles:"类型",resolutions:"间隔",daterange:"日期范围",DATE_RANGE_1_DAY:"1天",DATE_RANGE_1_WEEK:"1周",DATE_RANGE_1_MONTH:"1个月",DATE_RANGE_3_MONTHS:"3个月",DATE_RANGE_6_MONTHS:"6个月",DATE_RANGE_1_YEAR:"1年",DATE_RANGE_2_YEARS:"2年",DATE_RANGE_5_YEARS:"5年",GO_TO:"前往",drawings:"绘图",highlowstats:"价格变动",priceline:"价格曲线",overview:"时间轴",indicators:"指标",templates:"布局",visibility:"显示",ASK:"买入价",ASK_BUY:"{0}买入价{1} {2}(买入){3}","ASK-content":"这是您可以购买的市场价格","ASK-content-more":"即，从市场角度看的卖出价格，市场愿意以此价格出售给您。",BID:"卖出价",BID_SELL:"{0}卖出价{1} {2}(卖出){3}","BID-content":"这是您可以进行卖出的市场价格","BID-content-more":"即，从市场角度看的买入价格，市场愿意支付的价格。",MID:"{0}中间价{1}","MID-content":"这是市场买卖价格的中间价。",LAST_TRADED:"{0}最后交易价{1}",LT:"最后交易价","LAST_TRADED-content":"这是最近一次交易发生时的价格",priceType:"价格",scale:"坐标",PERCENTAGE:"百分比",ABSOLUTE:"线性",tooltip:"HLOC数据",menu:"工具",styles_customise:"自定义",customise_appearance:"自定义外观",delete:"删除",delete_template:"删除布局",dealing:"交易",desktopDealing:"交易",dealOnCharts:"图表交易",dealingSettings:"设置",menuPositions:"已开启仓位",menuWorkingOrders:"开仓指令",save_as:"保存为",save_template:"保存布局",template_name:"布局名称",calendarevents:"事件",apply:"应用",save:"保存",cancel:"取消",apply_template:"应用布局",positions_shown:"已开仓位已显示",positions_hidden:"已开仓位已隐藏",p_show_hide:"（按P键切换）",wo_shown:"未执行定单已显示",wo_hidden:"未执行定单已隐藏",o_show_hide:"（按O键切换）",orderBuy:"{0}买入{1}指令 @ {2}",orderSell:"{0}卖出{1}指令 @ {2}"},zh_TW:{styles:"類型",resolutions:"間隔",daterange:"日期範圍",DATE_RANGE_1_DAY:"1天",DATE_RANGE_1_WEEK:"1周",DATE_RANGE_1_MONTH:"1月",DATE_RANGE_3_MONTHS:"3月",DATE_RANGE_6_MONTHS:"6月",DATE_RANGE_1_YEAR:"1年",DATE_RANGE_2_YEARS:"2年",DATE_RANGE_5_YEARS:"5年",GO_TO:"前往",drawings:"绘图",highlowstats:"價格變動",priceline:"價格曲線",overview:"時間軸",indicators:"指標",templates:"佈局",visibility:"顯示",ASK:"買入價",ASK_BUY:"{0}買入價{1} {2}(買入){3}","ASK-content":"這是您可以購買的市場價格","ASK-content-more":"即，從市場角度看的賣出價格，市場願意以此價格出售給您。",BID:"賣出價",BID_SELL:"{0}賣出價{1} {2}(賣出){3}","BID-content":"這是您可以進行賣出的市場價格","BID-content-more":"即，從市場角度看的買入價格，市場願意支付的價格。",MID:"{0}中間價{1}","MID-content":"這是市場買賣價格的中間價。",LAST_TRADED:"{0}最後交易價{1}","LAST_TRADED-content":"這是最近一次交易發生時的價格",LT:"最後交易價",priceType:"价格",scale:"坐標",PERCENTAGE:"百分比",ABSOLUTE:"綫性",tooltip:"HLOC數據",menu:"工具",styles_customise:"自定義",customise_appearance:"自定義外觀",delete:"删除",delete_template:"删除布局",dealing:"交易",desktopDealing:"交易",dealOnCharts:"圖表交易",dealingSettings:"設置",menuPositions:"已開啟倉位",menuWorkingOrders:"開倉指令",save_as:"保存为",save_template:"保存布局",template_name:"布局名称",calendarevents:"事件",apply:"應用",save:"保存",cancel:"取消",apply_template:"應用佈局",positions_shown:"已開倉位已顯示",positions_hidden:"已開倉位已隱藏",p_show_hide:"（按P鍵切換）",wo_shown:"未執行定單已顯示",wo_hidden:"未執行定單已隱藏",o_show_hide:"（按O鍵切換）",orderBuy:"{0}買入{1}指令 @ {2}",orderSell:"{0}賣出{1}指令 @ {2}"}})},6748:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>u});var n=i(12990),s=i(9525),r=i(93367),o=i(89914),a=i(289),l=n.A.extend((function(e,t,i,n,r,o,a){this._handleMenuChanged=s.schedule.debounce(this._handleMenuChanged,50),this._taskManager=o,this._eventBus=e,this._eventBus.subscribe("chart/view/dimensions/changed",this._handleDimensionsChanged,this),this._menu=this._createMenu(t,i,n,r,a),this._eventBus.subscribe("chart/pricetype/changed",this._updateCaptureZones,this)}),a.default);l.MENU_OPTIONS_CHANGED="MENU_OPTIONS_CHANGED";var d=l.prototype;l.create=function(e,t,i,n,s,r,o){return new l(e,t,i,n,s,r,o)},d._menuContainerView=null,d._menu=null,d._eventBus=null,d._taskManager=null,d.init=function(e,t,i){this._menuContainerView=r.A.create(i),this._menuContainerView.initDom(),this._menu.initDom(this._menuContainerView,t,e)},d.updateMenuVisibility=function(e,t){this._menuContainerView.toggle(e),e?this._menu.show(t):this._menu.hide(),this._updateCaptureZones()},d.getMenuOptions=(0,s.delegate)("_menu","getMenuOptions"),d.withModel=(0,s.delegate)("_menu","withModel"),d.destroy=function(){this._handleMenuChanged.cancel(),this._eventBus.unsubscribeAll(this),this._menu.un(null,this),this._menu.destroy(),this._menuContainerView&&(this._menuContainerView.destroy(),this._menuContainerView=null)},d._createMenu=function(e,t,i,n,s){var r,a=e.type,l=e.subMenus||[],d=e.properties||{};return(r=a.create(this._eventBus,t,i,n,d,l,this._taskManager,s)).on(o.default.CHANGED,this._handleMenuChanged,this),r},d._updateCaptureZones=(0,s.delegate)("_menu","updateCaptureZoneSize"),d._handleDimensionsChanged=function(){this._menu.onDimensionsChanged(),this._updateCaptureZones()},d._handleMenuChanged=function(){this.fire(l.MENU_OPTIONS_CHANGED,this.getMenuOptions())},Object.seal(l.prototype);const u=Object.seal(l)},89914:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>n});const n=Object.freeze({MENU_READY:"menuReady",CHANGED:"changed"})},3178:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>c});var n=i(43130),s=i(12990),r=i(66250),o=i(73848),a=i(21177),l=i(79842),d=s.A.extend(Object.assign((function(e,t,i,n,s,r,o,a){this._menuContainerId=a}),{__constructorTransform:function(e,t,i,n,s,r,o,a){return[e,t,i,n,o]}}),r.default);d.create=function(e,t,i,n,s,r,o,a){return new d(e,t,i,n,s,r,o,a)};var u=d.prototype;u.id="moreTopMenu",u.menuDirection=o.TOOLTIP_APPEARANCE.BELOW,u.getMenuTitle=(0,n.constant)(""),u._menuContainerId=null,u._createMenuView=function(e,t){var i=a.default.create(e,t,{className:"moreMenu",tooltipTextKey:l.default.MORE_MENU_TOOLTIP,direction:this.menuDirection},this._eventBus);return i.on(a.default.CLICK,this._handleClick,this),i},u._selectMenuOption=n.noop,u._handleClick=function(){this._eventBus.publish("contextmenu/more/options",[this._view.getMenuCoordinates(),this._menuContainerId])},Object.seal(u);const c=Object.seal(d)},35457:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>n});const n=new(i(95151).default)({de:{MONTH:"Monatlich",WEEK:"Wöchentlich",DAY:"Täglich",FOUR_HOURS:"4 Stunden",THREE_HOURS:"3 Stunden",TWO_HOURS:"2 Stunden",HOUR:"1 Stunde",THIRTY_MINUTES:"30 Min",FIFTEEN_MINUTES:"15 Min",TEN_MINUTES:"10 Min",FIVE_MINUTES:"5 Min",THREE_MINUTES:"3 Min",TWO_MINUTES:"2 Min",MINUTE:"1 Min",TEN_SECONDS:"10 Sek",SECOND:"1 Sek",TICK:"Tick",ANNOTATIONS_TOOLBOX:"Werkzeugleiste anzeigen",DRAWINGS_TOOLBOX:"Werkzeugleiste anzeigen",MEASURE_TOOL:"Messwerkzeug",RESOLUTION_TOOLTIP:"Intervall",DATE_RANGE_TOOLTIP:"Zeitraum",SPLIT_CHARTS_TOOLTIP:"Chart teilen",INDICATORS_TOOLTIP:"Indikatoren",ANNOTATIONS_TOOLTIP:"Zeichnungen",VISIBILITY_TOOLTIP:"Anzeigen",MORE_MENU_TOOLTIP:"Andere Optionen",ZOOM_IN_TOOLTIP:"Vergrößern",ZOOM_OUT_TOOLTIP:"Verkleinern",LATEST_CANDLE_TOOLTIP:"Aktuellester Kurs"},en:{MONTH:"Monthly",WEEK:"Weekly",DAY:"Daily",FOUR_HOURS:"4 Hours",THREE_HOURS:"3 Hours",TWO_HOURS:"2 Hours",HOUR:"1 Hour",THIRTY_MINUTES:"30 Mins",FIFTEEN_MINUTES:"15 Mins",TEN_MINUTES:"10 Mins",FIVE_MINUTES:"5 Mins",THREE_MINUTES:"3 Mins",TWO_MINUTES:"2 Mins",MINUTE:"1 Min",TEN_SECONDS:"10 Secs",SECOND:"1 Sec",TICK:"Tick",ANNOTATIONS_TOOLBOX:"Show drawing toolbar",DRAWINGS_TOOLBOX:"Show drawing toolbar",MEASURE_TOOL:"Measure tool",RESOLUTION_TOOLTIP:"Interval",DATE_RANGE_TOOLTIP:"Date range",SPLIT_CHARTS_TOOLTIP:"Split chart",INDICATORS_TOOLTIP:"Indicators",ANNOTATIONS_TOOLTIP:"Drawings",VISIBILITY_TOOLTIP:"Show",MORE_MENU_TOOLTIP:"Other options",ZOOM_IN_TOOLTIP:"Zoom in",ZOOM_OUT_TOOLTIP:"Zoom out",LATEST_CANDLE_TOOLTIP:"Latest price"},es:{MONTH:"Mensual",WEEK:"Semanal",DAY:"Diario",FOUR_HOURS:"4 Horas",THREE_HOURS:"3 Horas",TWO_HOURS:"2 Horas",HOUR:"1 Hora",THIRTY_MINUTES:"30 Mins",FIFTEEN_MINUTES:"15 Mins",TEN_MINUTES:"10 Mins",FIVE_MINUTES:"5 Mins",THREE_MINUTES:"3 Mins",TWO_MINUTES:"2 Mins",MINUTE:"1 Min",TEN_SECONDS:"10 Segs",SECOND:"1 Seg",TICK:"Tick",ANNOTATIONS_TOOLBOX:"Mostrar herramientas de dibujo",DRAWINGS_TOOLBOX:"Mostrar herramientas de dibujo",MEASURE_TOOL:"Herramienta de medida",RESOLUTION_TOOLTIP:"Intervalo",DATE_RANGE_TOOLTIP:"Rango de fechas",SPLIT_CHARTS_TOOLTIP:"Separar gráficos",INDICATORS_TOOLTIP:"Indicadores",ANNOTATIONS_TOOLTIP:"Dibujo",VISIBILITY_TOOLTIP:"Mostrar",MORE_MENU_TOOLTIP:"Otras opciones",ZOOM_IN_TOOLTIP:"Aumentar el zoom",ZOOM_OUT_TOOLTIP:"Reducir el zoom",LATEST_CANDLE_TOOLTIP:"Último precio"},fr:{MONTH:"Mensuel",WEEK:"Hebdomadaire",DAY:"Journalier",FOUR_HOURS:"4 Heures",THREE_HOURS:"3 Heures",TWO_HOURS:"2 Heures",HOUR:"1 Heure",THIRTY_MINUTES:"30 Min",FIFTEEN_MINUTES:"15 Min",TEN_MINUTES:"10 Min",FIVE_MINUTES:"5 Min",THREE_MINUTES:"3 Min",TWO_MINUTES:"2 Min",MINUTE:"1 Min",TEN_SECONDS:"10 Sec",SECOND:"1 Sec",TICK:"Tick",ANNOTATIONS_TOOLBOX:"Afficher la barre d'outils",DRAWINGS_TOOLBOX:"Afficher la barre d'outils",MEASURE_TOOL:"Outil de mesure",RESOLUTION_TOOLTIP:"Unité de temps",DATE_RANGE_TOOLTIP:"Période",SPLIT_CHARTS_TOOLTIP:"Diviser le graphique",INDICATORS_TOOLTIP:"Indicateurs",ANNOTATIONS_TOOLTIP:"Croquis",VISIBILITY_TOOLTIP:"Afficher",MORE_MENU_TOOLTIP:"Autres options",ZOOM_IN_TOOLTIP:"Agrandir",ZOOM_OUT_TOOLTIP:"Réduire",LATEST_CANDLE_TOOLTIP:"Dernier cours"},it:{MONTH:"Mensile",WEEK:"Settimanale",DAY:"Giornaliero",FOUR_HOURS:"4 Ore",THREE_HOURS:"3 Ore",TWO_HOURS:"2 Ore",HOUR:"1 Ora",THIRTY_MINUTES:"30 Min",FIFTEEN_MINUTES:"15 Min",TEN_MINUTES:"10 Min",FIVE_MINUTES:"5 Min",THREE_MINUTES:"3 Min",TWO_MINUTES:"2 Min",MINUTE:"1 Min",TEN_SECONDS:"10 Sec",SECOND:"1 Sec",TICK:"Tick",ANNOTATIONS_TOOLBOX:"Mostra strumenti disegno",DRAWINGS_TOOLBOX:"Mostra strumenti disegno",MEASURE_TOOL:"Righello",RESOLUTION_TOOLTIP:"Intervallo",DATE_RANGE_TOOLTIP:"Periodo",SPLIT_CHARTS_TOOLTIP:"Dividere i grafici",INDICATORS_TOOLTIP:"Indicatori",ANNOTATIONS_TOOLTIP:"Traccia",VISIBILITY_TOOLTIP:"Mostra",MORE_MENU_TOOLTIP:"Altre opzioni",ZOOM_IN_TOOLTIP:"Ingrandire",ZOOM_OUT_TOOLTIP:"Ridurre",LATEST_CANDLE_TOOLTIP:"Ultimo prezzo"},ja:{MONTH:"月足",WEEK:"週足",DAY:"日足",FOUR_HOURS:"4 時間",THREE_HOURS:"3 時間",TWO_HOURS:"2 時間",HOUR:"1 時間",THIRTY_MINUTES:"30 分",FIFTEEN_MINUTES:"15 分",TEN_MINUTES:"10 分",FIVE_MINUTES:"5 分",THREE_MINUTES:"3 分",TWO_MINUTES:"2 分",MINUTE:"1 分",TEN_SECONDS:"10 秒",SECOND:"1 秒",TICK:"ティック",ANNOTATIONS_TOOLBOX:"図形ツールを表示",DRAWINGS_TOOLBOX:"図形ツールを表示",MEASURE_TOOL:"計測ツール",RESOLUTION_TOOLTIP:"時間軸",DATE_RANGE_TOOLTIP:"期間",SPLIT_CHARTS_TOOLTIP:"チャートの分割",INDICATORS_TOOLTIP:"テクニカル分析",ANNOTATIONS_TOOLTIP:"ライン",VISIBILITY_TOOLTIP:"表示項目",MORE_MENU_TOOLTIP:"他のオプション",ZOOM_IN_TOOLTIP:"拡大",ZOOM_OUT_TOOLTIP:"縮小",LATEST_CANDLE_TOOLTIP:"最新レート"},nl:{MONTH:"Maandelijks",WEEK:"Wekelijks",DAY:"Dagelijks",FOUR_HOURS:"4 Uren",THREE_HOURS:"3 Uren",TWO_HOURS:"2 Uren",HOUR:"1 Uur",THIRTY_MINUTES:"30 Min",FIFTEEN_MINUTES:"15 Min",TEN_MINUTES:"10 Min",FIVE_MINUTES:"5 Min",THREE_MINUTES:"3 Min",TWO_MINUTES:"2 Min",MINUTE:"1 Min",TEN_SECONDS:"10 Sec",SECOND:"1 Sec",TICK:"Tick",ANNOTATIONS_TOOLBOX:"Toon taakbalk tekenhulp",DRAWINGS_TOOLBOX:"Toon taakbalk tekenhulp",MEASURE_TOOL:"Metingstool",RESOLUTION_TOOLTIP:"Interval",DATE_RANGE_TOOLTIP:"Periode",SPLIT_CHARTS_TOOLTIP:"Grafiek opsplitsen",INDICATORS_TOOLTIP:"Indicatoren",ANNOTATIONS_TOOLTIP:"Tekeningen",VISIBILITY_TOOLTIP:"Tonen",MORE_MENU_TOOLTIP:"Overige opties",ZOOM_IN_TOOLTIP:"Inzoomen",ZOOM_OUT_TOOLTIP:"Uitzoomen",LATEST_CANDLE_TOOLTIP:"Laatste prijs"},nb:{MONTH:"Månedlig",WEEK:"Ukentlig",DAY:"Daglig",FOUR_HOURS:"4 Timer",THREE_HOURS:"3 Timer",TWO_HOURS:"2 Timer",HOUR:"1 Time",THIRTY_MINUTES:"30 Min",FIFTEEN_MINUTES:"15 Min",TEN_MINUTES:"10 Min",FIVE_MINUTES:"5 Min",THREE_MINUTES:"3 Min",TWO_MINUTES:"2 Min",MINUTE:"1 Min",TEN_SECONDS:"10 Sek",SECOND:"1 Sek",TICK:"Tick",ANNOTATIONS_TOOLBOX:"Vis verktøylinje",DRAWINGS_TOOLBOX:"Vis verktøylinje",MEASURE_TOOL:"Måleverktøy",RESOLUTION_TOOLTIP:"Intervall",DATE_RANGE_TOOLTIP:"Datointervall",SPLIT_CHARTS_TOOLTIP:"Del diagram",INDICATORS_TOOLTIP:"Indikatorer",ANNOTATIONS_TOOLTIP:"Markeringer",VISIBILITY_TOOLTIP:"Vis",MORE_MENU_TOOLTIP:"Andre alternativ",ZOOM_IN_TOOLTIP:"Zoom inn",ZOOM_OUT_TOOLTIP:"Zoom ut",LATEST_CANDLE_TOOLTIP:"Seneste kurs"},pt:{MONTH:"Mensal",WEEK:"Semanal",DAY:"Diário",FOUR_HOURS:"4 Horas",THREE_HOURS:"3 Horas",TWO_HOURS:"2 Horas",HOUR:"1 Hora",THIRTY_MINUTES:"30 Mins",FIFTEEN_MINUTES:"15 Mins",TEN_MINUTES:"10 Mins",FIVE_MINUTES:"5 Mins",THREE_MINUTES:"3 Mins",TWO_MINUTES:"2 Mins",MINUTE:"1 Min",TEN_SECONDS:"10 Segs",SECOND:"1 Seg",TICK:"Tick",ANNOTATIONS_TOOLBOX:"Mostrar menu de desenho",DRAWINGS_TOOLBOX:"Mostrar menu de desenho",MEASURE_TOOL:"Ferramenta de medida",RESOLUTION_TOOLTIP:"Intervalo",DATE_RANGE_TOOLTIP:"Período",SPLIT_CHARTS_TOOLTIP:"Dividir gráficos",INDICATORS_TOOLTIP:"Indicadores",ANNOTATIONS_TOOLTIP:"Marcações",VISIBILITY_TOOLTIP:"Mostrar",MORE_MENU_TOOLTIP:"Outras opções",ZOOM_IN_TOOLTIP:"Aumentar o zoom",ZOOM_OUT_TOOLTIP:"Diminuir o zoom",LATEST_CANDLE_TOOLTIP:"Último preço"},sv:{MONTH:"Månad",WEEK:"Vecka",DAY:"Dag",FOUR_HOURS:"4 Timmar",THREE_HOURS:"3 Timmar",TWO_HOURS:"2 Timmar",HOUR:"1 Timme",THIRTY_MINUTES:"30 Min",FIFTEEN_MINUTES:"15 Min",TEN_MINUTES:"10 Min",FIVE_MINUTES:"5 Min",THREE_MINUTES:"3 Min",TWO_MINUTES:"2 Min",MINUTE:"1 Min",TEN_SECONDS:"10 Sek",SECOND:"1 Sek",TICK:"Tick",ANNOTATIONS_TOOLBOX:"Visa ritverktyg",DRAWINGS_TOOLBOX:"Visa ritverktyg",MEASURE_TOOL:"Mätverktyg",RESOLUTION_TOOLTIP:"Intervall",DATE_RANGE_TOOLTIP:"Tidsintervall",SPLIT_CHARTS_TOOLTIP:"Dela diagram",INDICATORS_TOOLTIP:"Indikatorer",ANNOTATIONS_TOOLTIP:"Ritobjekt",VISIBILITY_TOOLTIP:"Visa",MORE_MENU_TOOLTIP:"Andra alternativ",ZOOM_IN_TOOLTIP:"Zooma in",ZOOM_OUT_TOOLTIP:"Zooma ut",LATEST_CANDLE_TOOLTIP:"Senaste pris"},zh:{MONTH:"每月",WEEK:"每周",DAY:"每日",FOUR_HOURS:"4 小时",THREE_HOURS:"3 小时",TWO_HOURS:"2 小时",HOUR:"1 小时",THIRTY_MINUTES:"30 分钟",FIFTEEN_MINUTES:"15 分钟",TEN_MINUTES:"10 分钟",FIVE_MINUTES:"5 分钟",THREE_MINUTES:"3 分钟",TWO_MINUTES:"2 分钟",MINUTE:"1 分钟",TEN_SECONDS:"10 秒",SECOND:"1 秒",TICK:"Tick",ANNOTATIONS_TOOLBOX:"显示绘图工具栏",DRAWINGS_TOOLBOX:"显示绘图工具栏",MEASURE_TOOL:"测量工具",RESOLUTION_TOOLTIP:"间隔",DATE_RANGE_TOOLTIP:"日期范围",SPLIT_CHARTS_TOOLTIP:"拆分图表",INDICATORS_TOOLTIP:"指标",ANNOTATIONS_TOOLTIP:"绘图",VISIBILITY_TOOLTIP:"显示",MORE_MENU_TOOLTIP:"其他选项",ZOOM_IN_TOOLTIP:"放大",ZOOM_OUT_TOOLTIP:"缩小",LATEST_CANDLE_TOOLTIP:"最新价格"},zh_TW:{MONTH:"每月",WEEK:"每週",DAY:"每日",FOUR_HOURS:"4 小時",THREE_HOURS:"3 小時",TWO_HOURS:"2 小時",HOUR:"1 小時",THIRTY_MINUTES:"30 分鐘",FIFTEEN_MINUTES:"15 分鐘",TEN_MINUTES:"10 分鐘",FIVE_MINUTES:"5 分鐘",THREE_MINUTES:"3 分鐘",TWO_MINUTES:"2 分鐘",MINUTE:"1 分鐘",TEN_SECONDS:"10 秒",SECOND:"1 秒",TICK:"Tick",ANNOTATIONS_TOOLBOX:"顯示繪圖工具欄",DRAWINGS_TOOLBOX:"顯示繪圖工具欄",MEASURE_TOOL:"測量工具",RESOLUTION_TOOLTIP:"間隔",DATE_RANGE_TOOLTIP:"日期範圍",SPLIT_CHARTS_TOOLTIP:"拆分圖表",INDICATORS_TOOLTIP:"指標",ANNOTATIONS_TOOLTIP:"绘图",VISIBILITY_TOOLTIP:"顯示",MORE_MENU_TOOLTIP:"其他選項",ZOOM_IN_TOOLTIP:"放大",ZOOM_OUT_TOOLTIP:"縮小",LATEST_CANDLE_TOOLTIP:"最新價格"}})},21699:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>E});var n=i(43130),s=i(12990),r=i(96285),o=i(74893),a=i(39111);const l=[new a.A(1,"day",o.default.values.FIFTEEN_MINUTES),new a.A(1,"week",o.default.values.HOUR),new a.A(1,"month",o.default.values.FOUR_HOURS),new a.A(3,"months",o.default.values.DAY),new a.A(6,"months",o.default.values.DAY),new a.A(1,"year",o.default.values.DAY),new a.A(2,"years",o.default.values.WEEK),new a.A(5,"years",o.default.values.WEEK)];var d=i(91239),u=i(58703),c=i(66250),h=i(48202),p=i(9525),_=i(76040),g=i(21177),f=i(73848),m=i(79842),v=s.A.extend((function(e,t,i,n,s){this._excludedResolutions=s.excluded||[],this.withModel(this._generateModel()),this._eventBus.subscribe("chart/view/ready",(0,p.setter)("_chartView"),this),this._eventBus.subscribe("chart/resolution/changed",this._handleResolutionChanged,this),this._eventBus.subscribe("chart/resolution/info",this._handleResolutionInfoChanged,this),this._eventBus.subscribe("chart/zoom/wheel/horizontal",this._onChartHorizontalZoom,this),this._eventBus.subscribe("chart/zoom/change/horizontal",this._onChartHorizontalZoom,this)}),c.default);v.create=function(e,t,i,n,s){return new v(e,t,i,n,s)};var A=v.prototype;A.id="daterange",A.menuDirection=f.TOOLTIP_APPEARANCE.BELOW,A._datePicker=null,A._excludedResolutions=null,A._chartView=null,A._isSubdailyInterval=null,A._prevDateRangeId=null,A._createMenuView=function(e,t){var i=g.default.create(e,t,{className:"dateRange",tooltipTextKey:m.default.DATE_RANGE_TOOLTIP,direction:this.menuDirection},this._eventBus);return this._captureZoneManager=e,i.on(g.default.CLICK,this._handleClick,this),i},A._handleClick=function(){this._eventBus.publish("contextmenu/daterange/options",[this.getMenuOptions(),this._view.getMenuCoordinates()])},A._generateModel=function(){return l.filter((function(e){return!(0,n.find)(this._excludedResolutions,e.resolution)}),this).map((function(e){return{id:e.id,content:h.default.get(e.id),group:1,callback:this._selectTimeFrame.bind(this,e)}}),this).concat({id:"GO_TO",content:h.default.get("GO_TO"),group:2,items:[{id:"DATEPICKER",content:{onInit:this._createPicker.bind(this),onDestroy:this._destroyPicker.bind(this)}}]})},A._trackDateRangeChange=function(e,t){(t||e)!==this._prevDateRangeId&&(this._prevDateRangeId=t||e,this._eventBus.publish("tracker/ga",[{interaction_type:u.GA_ACTION.DATERANGE_CHANGE,chart_daterange:e}]))},A._createPicker=function(e){this._destroyPicker(),this._datePicker=new d.Ay(e,this._isSubdailyInterval,function(e){const t=e.toJSDate();this._chartView.moveToDate(t),this._eventBus.publish("date-cue/show",[t]),this._trackDateRangeChange("custom",t.toDateString())}.bind(this),r.DateTime.fromJSDate(this._chartView.getStartDate(),{zone:this._timeZone}),void 0,this._timeZone)},A._destroyPicker=function(){this._datePicker&&(this._datePicker.destroy(),delete this._datePicker)},A._selectTimeFrame=function(e){this._eventBus.publish("chart/timeframe/change",[e]),this._trackDateRangeChange(e.trackingId)},A._handleResolutionChanged=function(e){this._isSubdailyInterval=e.period<_.default.Periods.DAY},A._handleResolutionInfoChanged=function(e){this._timeZone=e.getUserTimeZone()},A._onChartHorizontalZoom=function(){this._prevDateRangeId=null},A.destroy=function(){this._destroyPicker(),v.superclass.destroy.call(this)},Object.seal(v.prototype);const E=Object.seal(v)},20640:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>p});var n=i(12990),s=i(58703),r=i(52627),o=i(70138),a=i(86288),l=i(73848),d=i(21177),u=i(79842),c=n.A.extend((function(e,t,i,n){this._menuItemsComparator=a.A.createComparator()}),r.A);c.create=function(e,t,i,n){return new c(e,t,i,n)};var h=c.prototype;h.menuDirection=l.TOOLTIP_APPEARANCE.BELOW,h._actionOrigin=s.EventOrigin.MENU_SECONDARY,h._createMenuView=function(e,t){var i=d.default.create(e,t,{className:"topMenuAnnotations",tooltipTextKey:u.default.ANNOTATIONS_TOOLTIP,direction:this.menuDirection},this._eventBus);return this._captureZoneManager=e,i.on(d.default.CLICK,this._handleClick,this),i},h._handleClick=function(){this._eventBus.publish("contextmenu/drawings/options",[o.default.adaptMenuOptions(this.getMenuOptions()),this._view.getMenuCoordinates()])},Object.seal(h);const p=Object.seal(c)},39407:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>h});var n=i(43130),s=i(12990),r=i(52905),o=i(70138),a=i(73848),l=i(21177),d=i(79842),u=s.A.extend((function(){}),r.A);u.create=function(e,t,i,n,s,r,o,a){return new u(e,t,i,n,a)};var c=u.prototype;c.id="topMenuIndicators",c.menuDirection=a.TOOLTIP_APPEARANCE.BELOW,c.getMenuTitle=(0,n.constant)(""),c._createMenuView=function(e,t){var i=l.default.create(e,t,{className:this.id,tooltipTextKey:d.default.INDICATORS_TOOLTIP,direction:this.menuDirection},this._eventBus);return this._captureZoneManager=e,i.on(l.default.CLICK,this._handleClick,this),i},c._handleClick=function(){this._eventBus.publish("contextmenu/indicators/options",[o.default.adaptMenuOptions(this.getMenuOptions()),this._view.getMenuCoordinates()])},Object.seal(c);const h=Object.seal(u)},52905:(e,t,i)=>{"use strict";i.d(t,{A:()=>k});var n=i(12990),s=i(70138),r=i(50870),o=i(59465),a=i(66250),l=i(43130),d=i(41943),u=i(9525),c=i(15759),h=i(1530),p=i(61897),_=n.A.extend((function(){}),p.default);_.create=function(e,t,i){return new _(e,t,i)};var g=_.prototype;g._createButtonBar=function(e,t){return new this._config.buttonBar(e,t,!0)},g._createButtonBarStyles=(0,l.constant)("hidden container indicators vertical"),Object.seal(g);const f=Object.seal(_);var m=i(10094),v=i(86288),A=i(8796),E=i(73731),T=i(14243),I=i(17660),C=i(58703),O=i(31388);function M(e,t){t.isSelected=(0,d.contains)(e,t.data.id)}function y(e,t,i){i.data.id===e.name&&(i.isSelected=t)}var b=n.A.extend((function(e,t,i,n,s){this._indicatorMenuItems=[],this._isLatinLang=I.default.getInstance().isLatinLang(),this._optionsComparator=v.A.createComparator(),this._eventBus.subscribe("capabilities/indicators",this._handleIndicatorsCapabilities,this),this._menuContainerId=s}),a.default);b.INDEX={AC:{label:"A-C",start:"A",end:"C"},DG:{label:"D-G",start:"D",end:"G"},HK:{label:"H-K",start:"H",end:"K"},LP:{label:"L-P",start:"L",end:"P"},QT:{label:"Q-T",start:"Q",end:"T"},UZ:{label:"U-Z",start:"U",end:"Z"}},b.create=function(e,t,i,n,s){return new b(e,t,i,n,s)};var S=b.prototype;S._menuContainerId="",S._indicatorMenuItems=null,S._optionsComparator=null,S._isLatinLang=!0,S._createMenuView=function(e,t){var i={};return this._isLatinLang?(i.menuViewItem=h.A,i.buttonBar=c.A):i.buttonBar=A.A,f.create(e,t,i)},S._whenViewIsReady=function(){this._settingsManager.on((0,E.getLayoutSettingsEvent)(T.default.INDICATORS),this._updateModel,this),this._eventBus.subscribe("chart/indicator/added/*",this._handleSelected,this),this._eventBus.subscribe("chart/indicator/removed/*",this._handleDeselected,this),this._updateModel()},S._generateModel=function(){var e=this._settingsManager.getIndicatorsSettings().map((0,u.plucker)("id"));return this._indicatorMenuItems.forEach((function(t){t.options?t.options.forEach(M.bind(null,e)):M(e,t)})),this._indicatorMenuItems},S._handleSelected=function(e){this._indicatorMenuItems.forEach((function(t){t.options?t.options.forEach(y.bind(null,e,!0)):y(e,!0,t)}))},S._handleDeselected=function(e){this._indicatorMenuItems.forEach((function(t){t.options?t.options.forEach(y.bind(null,e,!1)):y(e,!1,t)}))},S._handleIndicatorChanged=function(e,t){var i=(0,O.u8)(e.id);if(null===i)throw new Error("No statistic key found for indicator with id: "+e.id);var n=(0,C.fromMenuSource)(this._menuContainerId);t?(this._eventBus.publish("chart/indicator/add",[e.id,this._initialiseDefaultValues(e.value,e.arguments),!0]),this._eventBus.publish("tracker/ga",[{interaction_type:C.GA_ACTION.INDICATORS+" - add",interaction_value:n,chart_indicator:i.toLowerCase()}])):(this._eventBus.publish("chart/indicator/remove",[e.id,!0]),this._eventBus.publish("tracker/ga",[{interaction_type:C.GA_ACTION.INDICATORS+" - remove",interaction_value:n,chart_indicator:i.toLowerCase()}]))},S._initialiseDefaultValues=function(e,t){return(0,l.values)(e).some(m.isNumber)?e:this._extractDefaults(t)},S._extractDefaults=function(e){var t,i={};for(t=0;t<e.length;t++)i[e[t].id.replace("$","")]=e[t].defaultValue;return i},S._handleIndicatorsCapabilities=function(e,t){var i=new r.default(this._handleIndicatorChanged.bind(this)),n=[];this._isLatinLang?Object.keys(b.INDEX).forEach((function(e){var s=b.INDEX[e],r=t.filter((function(e){var t=(0,l.deburr)(e.label[0]).toUpperCase();return s.start<=t&&s.end>=t}));r.length>0&&n.push({id:e,data:{id:e},indexLabel:s.label,label:s.label,isSelected:!1,options:r.sort(this._optionsComparator).map(this._getModelForIndicatorCapability.bind(this,i)),actionListener:null})}),this):n=t.map(this._getModelForIndicatorCapability.bind(this,i)),this._indicatorMenuItems=n,this._updateModel()},S._getModelForIndicatorCapability=function(e,t){var i=JSON.parse(JSON.stringify(t.arguments));return i.forEach((function(e){var t=parseFloat(e.defaultValue);(0,m.isNumber)(t)&&(e.defaultValue=t)})),{label:o.default.get(t.id),actionListener:e,data:{id:t.id,value:t.json.value.settings,arguments:i}}},S._destroyDom=function(){this._settingsManager.un(null,this),b.superclass._destroyDom.call(this)},Object.seal(S);const D=Object.seal(b);var w=n.A.extend((function(e,t,i,n,s){this._isLatinLang=I.default.getInstance().isLatinLang(),this._indicatorsDisabledModel=w.createIndicatorsDisabledModel(this._settingsManager),this._indicatorsSelectionMenu=D.create(this._eventBus,this._settingsManager,this._containerProvider,n,s),this._updateModel()}),a.default);w.create=function(e,t,i,n,s,r,o,a){return new w(e,t,i,n,a)},w.createIndicatorsDisabledModel=function(e){var t=e.putIndicatorsVisibilitySettings.bind(e,!0),i=new r.default(t);return[{label:o.default.get("indicatorsDisabled"),actionListener:i,data:{id:"SHOW_INDICATORS"}}]};var L=w.prototype;L.id="indicators",L._indicatorsDisabledModel=null,L._isLatinLang=!0,L._indicatorsSelectionMenu=null,L.initDom=function(e,t,i){return w.superclass.initDom.call(this,e,t,i),this._indicatorsSelectionMenu.initDom(e,t,i),this},L.hide=function(){this._view.hide(),this._indicatorsSelectionMenu.hide()},L.show=function(){this._view.show(),this._settingsManager.getIndicatorsVisibilitySettings()&&this._indicatorsSelectionMenu.show()},L._whenViewIsReady=function(){this._settingsManager.on((0,E.getLayoutSettingsEvent)(T.default.INDICATORS_VISIBILITY),this._settingsChanged,this),this._updateModel()},L._settingsChanged=function(){this._settingsManager.getIndicatorsVisibilitySettings()&&this._view.isVisible()&&this._indicatorsSelectionMenu.show(),this._updateModel()},L._updateModel=function(){this._settingsManager.getIndicatorsVisibilitySettings()?this.withModel([{}]):this.withModel(this._indicatorsDisabledModel)},L.updateCaptureZoneSize=function(){return this._indicatorsSelectionMenu&&this._indicatorsSelectionMenu.updateCaptureZoneSize(),w.superclass.updateCaptureZoneSize.call(this)},L.destroy=function(){this._indicatorsSelectionMenu&&(this._indicatorsSelectionMenu.destroy(),this._indicatorsSelectionMenu=null),w.superclass.destroy.call(this)},L._destroyDom=function(){this._settingsManager.un(null,this),w.superclass._destroyDom.call(this)},Object.seal(L);const R=Object.seal(w);var P=n.A.extend((function(e,t,i,n,s){this._menuItemsComparator=v.A.createComparator()}),D);P.create=function(e,t,i,n,s,r,o,a){return new P(e,t,i,n,a)};var N=P.prototype;N.id="indicators",N._indicatorsDisabledModel=null,N.withModel=function(e){return this._settingsManager.getIndicatorsVisibilitySettings()||(this._indicatorsDisabledModel||(this._indicatorsDisabledModel=R.createIndicatorsDisabledModel(this._settingsManager),this._indicatorsDisabledModel[0].isPersistent=!0),e=this._indicatorsDisabledModel),P.superclass.withModel.call(this,e)},N._createMenuView=a.default.prototype._createMenuView,N._whenViewIsReady=function(){this._settingsManager.on((0,E.getLayoutSettingsEvent)(T.default.INDICATORS_VISIBILITY),this._refreshModel,this),P.superclass._whenViewIsReady.call(this)},N._handleIndicatorsCapabilities=function(e,t){this._isLatinLang=!1,P.superclass._handleIndicatorsCapabilities.call(this,e,t)},N._handleSelected=function(e){P.superclass._handleSelected.call(this,e),this._refreshModel()},N._handleDeselected=function(e){P.superclass._handleDeselected.call(this,e),this._refreshModel()},N._refreshModel=function(){this.withModel(this._indicatorMenuItems)},N._getModelForIndicatorCapability=function(e,t){var i,n=P.superclass._getModelForIndicatorCapability.call(this,e,t);return n.isPersistent=!0,I.default.getInstance().isEnglishLang()&&(i=s.default.setItemContent(n.data.id,o.default,"indicatorContent",!0))&&i.length&&(n.isMixed=!0,n.hoverOnIcon=!0,n.classList=["indicatorItem"],n.items=i,n.chevron=!0),n},Object.seal(N);const k=Object.seal(P)},95775:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>b});var n=i(12990),s=i(35457),r=i(70138),o=i(50870),a=i(79198),l=i(58703),d=i(66250),u=i(79700),c=i(74893),h=i(73731),p=i(14243),_=n.A.extend((function(e,t,i,n){this._eventBus.subscribe("capabilities/resolutions",this._handleResolutionsCapabilities,this)}),d.default);_.create=function(e,t,i,n){return new _(e,t,i,n)};var g=_.prototype;g.id="resolutions",g._actionOrigin=u.default.MAIN,g._whenViewIsReady=function(){this._updateResolution(),this._settingsManager.on((0,h.getLayoutSettingsEvent)(p.default.CORE),this._updateResolution,this)},g._updateResolution=function(){this._model&&this._model.forEach((function(e){e.isSelected=e.data.id===this._settingsManager.getResolutionSettings()}),this),this._view&&this._view.selectItem(this._settingsManager.getResolutionSettings())},g._setResolution=function(e){var t=c.default.statisticsKeyFor(c.default.valueOf(e.id));this._eventBus.publish("tracker/ga",[{interaction_type:l.GA_ACTION.RESOLUTION,interaction_value:(0,l.fromMenuSource)(this._actionOrigin),chart_interval:t.toLowerCase()}]),this._settingsManager.putResolutionSettings(e.id,!0)},g._handleResolutionsCapabilities=function(e,t){var i=new o.default(this._setResolution.bind(this)),n=t.map((function(e){var t=a.default.get(e.json.value.enumName);return{label:e.label,isSelected:e.json.value.enumName===this._settingsManager.getResolutionSettings(),actionListener:i,shortcut:t,data:{id:e.json.value.enumName}}}),this);this.withModel(n,!0)},Object.seal(_.prototype);const f=Object.seal(_);var m=i(41943),v=i(6182),A=i(9525),E=i(61897),T=i(10520),I=n.A.extend(Object.assign((function(e,t,i){this._eventBus=t}),{__constructorTransform:function(e,t,i){return[e,i]}}),E.default);I.create=function(e,t,i){return new I(e,t,i)},I.CLICK="CLICK";var C=I.prototype;C._dResolution=null,C._dLabel=null,C._captureZone=null,C.initDom=function(e){return this._dResolution=e.viewElement.append("div"),this._dResolution.classed("resolutionsDesktopMenu menuViewItem",!0),this._dLabel=this._dResolution.append("span"),this._captureZone=this._captureZoneManager.createTapZone(this.fire.bind(this,I.CLICK),T.default.MENU),this._captureZone.withCursorOnHover(v.default.POINTER).setHoverHandler({in:this._hoverEnter,inContext:this,out:this._hoverExit,outContext:this}),this.withMenuItems(this._menuItems),this},C._hoverEnter=function(){this._dResolution.classed("hover",!0),this._eventBus.publish("hint-tooltip/hover/enter",[{itemId:"RESOLUTION_TOOLTIP",groupId:u.default.TOP,message:s.default.get("RESOLUTION_TOOLTIP"),rect:this._dResolution.node().getBoundingClientRect()}])},C._hoverExit=function(){this._dResolution.classed("hover",!1),this._eventBus.publish("hint-tooltip/hover/exit",["RESOLUTION_TOOLTIP"])},C.getMenuCoordinates=function(){var e=this._dResolution.node().getBoundingClientRect();return{x:e.left,y:e.bottom}},C.withMenuItems=function(e,t){var i;for(this._menuItems=e,this._menuViewItems=[],i=0;i<e.length;i++)this._menuViewItems.push(this._createMenuViewItem(e[i]));return this.render(),this},C.selectItem=function(e){return this._menuViewItems.forEach((function(t){t.isSelected=t.getData().id===e})),this.render(),this},C.render=function(){var e=(0,m.find)(this._menuViewItems,(function(e){return e.isSelected}));this._dLabel&&e&&this._dLabel.text(e.label)},C.show=function(){this._dResolution.classed("hidden",!1),this.fire(E.default.VISIBILITY_CHANGED)},C.hide=function(){this._dResolution.classed("hidden",!0),this.fire(E.default.VISIBILITY_CHANGED)},C.updateCaptureZoneSize=function(){this._captureZone.setDimensionsBasedOnElement(this._dResolution)},C.destroy=function(){this._dResolution&&(this._dResolution.remove(),this._dResolution=null),this._captureZone&&(this._captureZone.destroy(),this._captureZone=null),(0,A.invokeCall)(this._menuViewItems,"destroy"),I.superclass.destroy.call(this)},Object.seal(C);const O=Object.seal(I);var M=n.A.extend((function(e,t,i,n,s){this._properties=s,this._eventBus.subscribe("api/in/chart/setResolutionsMenuAvailability",(function(e){this._menuAvailable=e}),this)}),f);M.create=function(e,t,i,n,s){return new M(e,t,i,n,s)};var y=M.prototype;y._properties=null,y._menuAvailable=!0,y._actionOrigin=u.default.TOP,y._createMenuView=function(e,t){var i=O.create(e,this._eventBus,t);return this._captureZoneManager=e,i.on(O.CLICK,this._handleResolutionClick,this),i},y._handleResolutionClick=function(){this._menuAvailable?this._eventBus.publish("contextmenu/resolutions/options",[r.default.adaptMenuOptions(this.getMenuOptions()),this._view.getMenuCoordinates()]):this._eventBus.publish("api/out/contextmenu/resolutions/show",[u.default.TOP])},y.withModel=function(e,t){return e.forEach((function(e){e.label=s.default.get(e.data.id)})),M.superclass.withModel.call(this,e,t)},Object.seal(M.prototype);const b=Object.seal(M)},52627:(e,t,i)=>{"use strict";i.d(t,{A:()=>T});var n=i(87654),s=i(50870),r=i(12990),o=i(60644),a=i(58703),l=i(66250),d=i(73731),u=i(14243),c=r.A.extend((function(e,t,i,s){this._drawingsSelectionMenu=n.A.create(this._eventBus,this._settingsManager,this._containerProvider,s),this._updateModel()}),l.default);c.create=function(e,t,i,n){return new c(e,t,i,n)},c.createDisabledModel=function(e){var t=e.putDrawingsVisibilitySettings.bind(e,!0),i=new s.default(t);return[{label:o.default.get("DISPLAY_DRAWINGS_TEXT"),actionListener:i,data:{id:"SHOW_DRAWINGS"}}]};var h=c.prototype;h.id="drawings",h._drawingsDisabledModel=null,h._drawingsSelectionMenu=null,h.initDom=function(e,t,i){return c.superclass.initDom.call(this,e,t,i),this._drawingsSelectionMenu.initDom(e,t,i),this},h.hide=function(){c.superclass.hide.call(this),this._drawingsSelectionMenu.hide()},h.show=function(){c.superclass.show.call(this),this._settingsManager.getDrawingsVisibilitySettings()&&this._drawingsSelectionMenu.show()},h._whenViewIsReady=function(){this._settingsManager.on((0,d.getLayoutSettingsEvent)(u.default.DRAWINGS_VISIBILITY),this._onSettingsChanged,this),this._settingsManager.on((0,d.getGlobalSettingsEvent)(u.default.DRAWINGS_GLOBAL),this._updateModel,this),this._updateModel()},h._onSettingsChanged=function(){this._settingsManager.getDrawingsVisibilitySettings()&&this._view.isVisible()&&this._drawingsSelectionMenu.show(),this._updateModel()},h._updateModel=function(){var e=!1!==this._settingsManager.getGlobalSettings(u.default.DRAWINGS_GLOBAL).snapToPrices;this._settingsManager.getDrawingsVisibilitySettings()?this.withModel([{actionListener:new s.default(function(){this._eventBus.publish("drawings/delete/all",[a.EventOrigin.MENU_MAIN]),this._eventBus.publish("menu/hide")}.bind(this)),label:o.default.get("DELETE_ALL_DRAWINGS"),data:{id:"delete/all"}},{actionListener:new s.default(this._toggleSnapping.bind(this)),isPersistent:!0,isSelected:e,label:o.default.get("DRAWINGS_SNAPPING"),data:{id:"DRAWINGS_SNAPPING"}}]):(this._drawingsDisabledModel||(this._drawingsDisabledModel=c.createDisabledModel(this._settingsManager)),this.withModel(this._drawingsDisabledModel))},h._toggleSnapping=function(e,t){this._eventBus.publish("drawings/snap/toggle",[t])},h.updateCaptureZoneSize=function(){this._drawingsSelectionMenu&&this._drawingsSelectionMenu.updateCaptureZoneSize(),c.superclass.updateCaptureZoneSize.call(this)},h.destroy=function(){this._drawingsSelectionMenu&&(this._drawingsSelectionMenu.destroy(),this._drawingsSelectionMenu=null),c.superclass.destroy.call(this)},h._destroyDom=function(){this._settingsManager&&this._settingsManager.un(null,this),c.superclass._destroyDom.call(this)},Object.seal(h);const p=Object.seal(c);var _=i(9525),g=i(35457),f="DRAWINGS_SNAPPING",m="DRAWINGS_TOOLBOX",v="DELETE_ALL_DRAWINGS",A=r.A.extend((function(){}),n.A);A.create=function(e,t,i,n){return new A(e,t,i,n)};var E=A.prototype;E.id="drawings",E._drawingsDisabledModel=null,E._createMenuView=function(e,t){return this.viewClass.create(e,t)},E._generateModel=function(){var e=A.superclass._generateModel.call(this),t=this._settingsManager.getDrawingsToolboxVisibility(),i=new s.default(this._toggleDrawingsToolbox.bind(this)),n=!1!==this._settingsManager.getGlobalSettings(u.default.DRAWINGS_GLOBAL).snapToPrices,r=new s.default(this._toggleSnappingToPrices.bind(this)),a=new s.default(this._handleDeleteAllDrawings.bind(this));return this._settingsManager.getDrawingsVisibilitySettings()?(e.forEach((0,_.setAttr)("group",3)),e=(e=[{group:1,label:g.default.get(m),actionListener:i,isSelected:t,data:{id:m}},{group:2,label:o.default.get(f),actionListener:r,isPersistent:!0,isSelected:n,data:{id:f}}].concat(e)).concat([{group:4,label:o.default.get(v),actionListener:a,data:{id:v}}])):(this._drawingsDisabledModel||(this._drawingsDisabledModel=p.createDisabledModel(this._settingsManager),this._drawingsDisabledModel[0].isPersistent=!0),e=this._drawingsDisabledModel),e},E._handleDeleteAllDrawings=function(){this._eventBus.publish("drawings/delete/all",[this._actionOrigin])},E._toggleDrawingsToolbox=function(){this._eventBus.publish("drawings/toolbox/toggle")},E._toggleSnappingToPrices=function(e,t,i,n){this._eventBus.publish("drawings/snap/toggle",[t])},Object.seal(A.prototype);const T=Object.seal(A)},48053:(e,t,i)=>{"use strict";i.d(t,{A:()=>h});var n=i(43130),s=i(41943),r=i(50547),o=i(50951),a=i(9525),l=i(17945),d=i(10520);function u(e,t,i){this._captureZoneManager=e,this._menuViewItems=[],this._animationPoller=t,this._menuZIndex=d.default.MENU,this._isVertical=!!i}u.create=function(e,t,i){return new u(e,t,i)};var c=u.prototype;c._animationPoller=null,c._captureZoneManager=null,c._menuZIndex=null,c._menuViewItems=null,c._dButtonBarElement=null,c._dButtonBarContainer=null,c._loadingIndicator=null,c._isVertical=null,c._zoneBlocking=null,c.initDom=function(e,t,i){var n=e.append("div").classed("hidden",i).classed("container",!0).classed(t,!0),r=(this._isVertical?n.append("div").classed("verticalPortView",!0):n).append("div").classed("bar",!0),a=r.append("div").classed(this._isVertical?"verticalItems":"items",!0);this._dOptionsContainer=a,this._dButtonBarElement=r,this._dButtonBarContainer=n,this._zoneBlocking=this._captureZoneManager.create(o.default.BLOCK_ALL,d.default.MENU_BLOCK_INTERACTIONS).withAssociatedElement(this._dButtonBarContainer),(0,s.nonEmpty)(this._menuViewItems)?this._menuViewItems.forEach((function(e){e.initDom(a)}),this):(this._loadingIndicator=l.default.create(),this._loadingIndicator.initDom(n))},c.render=function(){(0,s.nonEmpty)(this._menuViewItems)&&this._loadingIndicator&&(this._loadingIndicator.destroy(),this._loadingIndicator=null),(0,a.invokeCall)(this._menuViewItems,"render",this._dOptionsContainer),this.updateCaptureZoneSize()},c.addMenuViewItem=function(e){e.withZIndex(this._menuZIndex),this._menuViewItems.push(e)},c.setMenuViewItems=function(e){(0,a.invokeCall)(e,"withZIndex",this._menuZIndex),(0,a.invokeApply)(this._menuViewItems,"destroy"),this._menuViewItems=e.slice()},c.isVisible=function(){return!this._dButtonBarContainer.classed("hidden")},c.show=function(){this._dButtonBarContainer.classed("hidden",!1),r.default.defer(this.updateCaptureZoneSize,this)},c.hide=function(){this._dButtonBarContainer.classed("hidden",!0),r.default.defer(this.updateCaptureZoneSize,this)},c.clear=function(){this._menuViewItems.forEach((function(e){e.destroy()}),this),this._menuViewItems=[]},c.classed=(0,a.delegate)("_dButtonBarContainer","classed"),c.updateCaptureZoneSize=function(){(0,a.invokeCall)(this._menuViewItems,"updateClientBox"),this._zoneBlocking.setDimensionsBasedOnAssociatedElement()},c.getSelectedItems=function(){return this._menuViewItems.filter((function(e){return e.isSelected}))},c.selectItem=function(e){this._menuViewItems.forEach((function(t){e(t)&&(t.isSelected=!0,t.render(this._dOptionsContainer))}),this)},c.deselectItem=function(e){this._menuViewItems.forEach((function(t){e(t)&&(t.isSelected=!1,t.render(this._dOptionsContainer))}),this)},c.destroy=function(){this.clear(),this._zoneBlocking.destroy(),this._dButtonBarContainer.remove()},c.onDimensionsChanged=n.noop,c._getButtonById=function(e){return this._dOptionsContainer.select('[data-menu-item-id="'+e+'"]')},Object.seal(c);const h=Object.seal(u)},15759:(e,t,i)=>{"use strict";i.d(t,{A:()=>c});var n=i(41943),s=i(48053),r=i(12990),o=i(9525),a=i(17945),l=i(8796),d=r.A.extend((function(){}),s.A);d.create=function(e,t){return new d(e,t)};var u=d.prototype;u._dMenuContainer=null,u._indexBar=null,u._optionsButtonBar=null,u.initDom=function(e,t,i){this._dMenuContainer=e.append("div").classed("indexMenu",!0).classed(t,!0),this._indexBar=s.A.create(this._captureZoneManager,this._animationPoller,!0),this._indexBar.initDom(this._dMenuContainer,"indexButtonBar",i),this._optionsButtonBar=l.A.create(this._captureZoneManager,this._animationPoller,!0,!0),this._optionsButtonBar.initDom(this._dMenuContainer,"optionsButtonBar",i),(0,n.nonEmpty)(this._menuViewItems)&&(this._loadingIndicator=a.default.create(),this._loadingIndicator.initDom(this._dMenuContainer))},u.render=function(){(0,n.nonEmpty)(this._menuViewItems)&&this._loadingIndicator&&(this._loadingIndicator.destroy(),this._loadingIndicator=null),this._indexBar&&(this._indexBar.render(),this._optionsButtonBar.render())},u.addMenuViewItem=function(e){var t=e.getIndexViewItem();t.withActionListener(this._createIndexActionListener()),this._indexBar.addMenuViewItem(t),e.getOptionsViewItems().forEach(this._optionsButtonBar.addMenuViewItem,this._optionsButtonBar)},u.setMenuViewItems=function(e){var t=e.map((0,o.invoker)("getIndexViewItem")),i=e.reduce((function(e,t){return e.concat(t.getOptionsViewItems())}),[]),n=this._createIndexActionListener();(0,o.invokeCall)(t,"withActionListener",n),this._indexBar&&(this._indexBar.setMenuViewItems(t),this._optionsButtonBar.setMenuViewItems(i))},u.isVisible=(0,o.delegate)("_indexBar","isVisible"),u.show=function(){this._indexBar&&(this._dMenuContainer.classed("hidden",!1),this._indexBar.show(),this._optionsButtonBar.show())},u.hide=function(){this._indexBar&&(this._dMenuContainer.classed("hidden",!0),this._indexBar.hide(),this._optionsButtonBar.hide())},u.clear=function(){this._indexBar&&(this._indexBar.clear(),this._optionsButtonBar.clear())},u.updateCaptureZoneSize=function(){this._indexBar&&(this._indexBar.updateCaptureZoneSize(),this._optionsButtonBar.updateCaptureZoneSize())},u.getSelectedItems=(0,o.delegate)("_optionsButtonBar","getSelectedItems",void 0),u.getSelectedStickyItems=(0,o.delegate)("_optionsButtonBar","getSelectedStickyItems",void 0),u.getSelectedNonStickyItems=(0,o.delegate)("_optionsButtonBar","getSelectedNonStickyItems",void 0),u.selectItem=(0,o.delegate)("_optionsButtonBar","selectItem"),u.deselectItem=(0,o.delegate)("_optionsButtonBar","deselectItem"),u.destroy=function(){this._dMenuContainer&&(this._dMenuContainer.remove(),this._dMenuContainer=null,this._indexBar.destroy(),this._optionsButtonBar.destroy())},u.onDimensionsChanged=function(){this._indexBar&&(this._indexBar.onDimensionsChanged(),this._optionsButtonBar.onDimensionsChanged())},u._createIndexActionListener=function(){return{handleAction:this._onIndexItemSelected.bind(this)}},u._onIndexItemSelected=function(e){this._optionsButtonBar.panTo(e.id)},Object.seal(u);const c=Object.seal(d)},8796:(e,t,i)=>{"use strict";i.d(t,{A:()=>y});var n=i(48053),s=i(12990),r=i(50547),o=i(14978),a=i(50951),l=i(9525),d=i(54859),u=i(25322),c=i(43130),h=i(81141);function p(){}var _=p.prototype;_.destroy=c.noop,_.moveByPixels=h.A.abstractMethod,_.distanceOverLeftBound=h.A.abstractMethod,_.distanceOverRightBound=h.A.abstractMethod,_.isOutOfBounds=h.A.abstractMethod,Object.seal(_);const g=Object.seal(p);var f=i(2928),m=i(21788),v=i(23708),A=i(97292),E=s.A.extend((function(e,t,i,n,s){this._dScrollingContainer=e,this._dButtonBarContainer=t,this._animationNamespace="scrollableContainer-"+(0,A.getUid)(),this._animationPoller=n,this._createScroller(i),this._scrollModeHelper=s?E._verticalModeHelper:E._horizontalModeHelper}),g);E.create=function(e,t,i,n,s){return new E(e,t,i,n,s)},E._verticalModeHelper=Object.freeze({getCurrentPosition:(0,l.invoker)("top"),getLength:(0,l.invoker)("height"),moveTo:function(e,t){e.top(t)}}),E._horizontalModeHelper=Object.freeze({getCurrentPosition:(0,l.invoker)("left"),getLength:(0,l.invoker)("width"),moveTo:function(e,t){e.left(t)}});var T=E.prototype;T._animationPoller=null,T._scroller=null,T._scrollModeHelper=null,T._dScrollingContainer=null,T._dButtonBarContainer=null,T._onScrollCallback=c.noop,T.withScrollCallback=(0,l.setter)("_onScrollCallback"),T._createScroller=function(e){this._scroller=v.default.create(this._animationNamespace).withAnimationPoller(this._animationPoller).withFrictionCoefficient(v.default.HIGH_FRICTION).startGettingInputFrom(e).manageMovementIn(this)},T.destroy=function(){this._animationPoller.killTasks(this._animationNamespace),this._scroller.destroy()},T.moveByPixels=function(e,t){var i=this._scrollModeHelper.getCurrentPosition(this._dScrollingContainer),n=i+e;this.distanceOverLeftBound()>=0&&this.distanceOverRightBound()>=0||(t?this._step(i,n,c.identity,1):(this._animationPoller.killTasks(this._animationNamespace),this._animationPoller.newFixedTimeTask(this._animationNamespace,this._step.bind(this,i,n,f.default.ANIM_EASE),2*f.default.ANIM_DURATION)))},T.distanceOverLeftBound=function(){return this._scrollModeHelper.getCurrentPosition(this._dScrollingContainer)},T.distanceOverLeftScrollBoundary=function(){return this.distanceOverLeftBound()},T.distanceOverRightBound=function(){var e=this._scrollModeHelper.getLength(this._dScrollingContainer);return this._scrollModeHelper.getLength(this._dButtonBarContainer)-e-this._scrollModeHelper.getCurrentPosition(this._dScrollingContainer)},T.distanceOverRightScrollBoundary=function(){return this.distanceOverRightBound()},T.isOutOfBounds=function(){return this.distanceOverLeftBound()>0||this.distanceOverRightBound()>0},T.isOutOfScrollBounds=function(){return this.isOutOfBounds()},T.getScrollState=(0,c.constant)(null),T._step=function(e,t,i,n){var s=(0,m.easedInterpolation)(i,e,t,n);this._scrollModeHelper.moveTo(this._dScrollingContainer,s),this._onScrollCallback()},Object.seal(T);const I=Object.seal(E);var C=i(10520);var O=s.A.extend((function(e,t,i,n){this.updateCaptureZoneSize=l.schedule.throttledDeferred(this.updateCaptureZoneSize),this._updateStickyItem=l.schedule.throttledDeferred(this._updateStickyItem),this._hasSticky=n}),n.A);O.OCCLUSION_TOLERANCE=14,O.create=function(e,t,i,n){return new O(e,t,i,n)},O._verticalModeHelper=Object.freeze({getLengthFromSelection:(0,l.invoker)("height"),getLengthFromBounds:(0,l.plucker)("height"),getStartPositionFromSelection:(0,l.invoker)("top"),getStartPositionFromBounds:(0,l.plucker)("top"),getEndPositionFromBounds:(0,l.plucker)("bottom")}),O._horizontalModeHelper=Object.freeze({getLengthFromSelection:(0,l.invoker)("width"),getLengthFromBounds:(0,l.plucker)("width"),getStartPositionFromSelection:(0,l.invoker)("left"),getStartPositionFromBounds:(0,l.plucker)("left"),getEndPositionFromBounds:(0,l.plucker)("right")});var M=O.prototype;M._captureZone=null,M._dScrollingContainer=null,M._dStickyLabel=null,M._panGestureRecogniser=null,M._scrollableContainer=null,M._captureZoneSize=null,M._stickyItem=null,M._scrollModeHelper=null,M._leftFadeOut=null,M._rightFadeOut=null,M.withCaptureZoneSize=(0,l.setter)("_captureZoneSize"),M.initDom=function(e,t,i){O.superclass.initDom.apply(this,arguments),this._scrollModeHelper=this._isVertical?O._verticalModeHelper:O._horizontalModeHelper,this._hasSticky&&(this._dStickyLabel=this._dButtonBarContainer.append("div").classed("stickyLabel",!0).classed("hidden",!0),this._dStickyLabel.append("div").classed("stickyOverlay",!0)),this._dScrollingContainer=this._dButtonBarElement,this._leftFadeOut=this._dButtonBarContainer.append("div").classed("leftFadeOut",!0),this._rightFadeOut=this._dButtonBarContainer.append("div").classed("rightFadeOut",!0),this._activateScrolling(this._isVertical)},M.show=function(){O.superclass.show.call(this),r.default.defer(this._updateFadeOutVisibility,this,[]),this._updateStickyItem()},M.addMenuViewItem=function(e){var t=O.superclass.addMenuViewItem.call(this,e);return e.isSticky&&e.withZIndex(C.default.MENU_STICKY_SCROLLABLE),t},M.setMenuViewItems=function(e){var t=O.superclass.setMenuViewItems.call(this,e);return(0,l.invokeCall)(e.filter((0,l.plucker)("isSticky")),"withZIndex",C.default.MENU_STICKY_SCROLLABLE),t},M.selectItem=function(e){O.superclass.selectItem.call(this,e),this._stickyItem&&e(this._stickyItem)&&(this._stickyItem.isSelected=!0,this._stickyItem.render(this._dStickyLabel))},M.deselectItem=function(e){O.superclass.deselectItem.call(this,e),this._stickyItem&&e(this._stickyItem)&&(this._stickyItem.isSelected=!1,this._stickyItem.render(this._dStickyLabel))},M.getBoundingClientRect=function(){return(0,d.shallowClone)(this._dButtonBarContainer.node().getBoundingClientRect())},M.updateCaptureZoneSize=function(){var e=this._captureZoneSize||this.getBoundingClientRect(),t=u.default.normaliseDimensions(e);t.x-=this._captureZoneManager.getOffset().left,t.y-=this._captureZoneManager.getOffset().top,(0,l.invokeCall)(this._menuViewItems,"updateClientBox",t),this._stickyItem&&this._stickyItem.updateClientBox(),this._captureZone.setDimensionsBasedOnElement(e),this._zoneBlocking.setDimensionsBasedOnAssociatedElement(),this._updateFadeOutVisibility()},M.panToCurrentSelection=function(e){var t=this.getSelectedItems();t.length>0&&this._panToButton(t[0],void 0,e)},M.panTo=function(e){this._panToButton(this._getButtonById(e).node())},M.getSelectedStickyItems=function(){return this._menuViewItems.filter((function(e){return e.isSelected&&e.isSticky}))},M.getSelectedNonStickyItems=function(){return this._menuViewItems.filter((function(e){return e.isSelected&&!e.isSticky}))},M.destroy=function(){O.superclass.destroy.apply(this,arguments),this.updateCaptureZoneSize.cancel(),this._updateStickyItem.cancel(),this._scrollableContainer.destroy(),this._captureZone.destroy(),this._panGestureRecogniser&&(this._panGestureRecogniser.destroy(),this._panGestureRecogniser=null),this._stickyItem&&(this._stickyItem.destroy(),this._stickyItem=null),this._dStickyLabel&&(this._dStickyLabel.remove(),this._dStickyLabel=null),this._leftFadeOut&&(this._leftFadeOut.remove(),this._leftFadeOut=null),this._rightFadeOut&&(this._rightFadeOut.remove(),this._rightFadeOut=null),r.default.cancel(this)},M._updateFadeOutVisibility=function(){var e=this._scrollModeHelper.getLengthFromSelection(this._dScrollingContainer),t=this._scrollModeHelper.getLengthFromSelection(this._dButtonBarContainer),i=this._scrollModeHelper.getStartPositionFromSelection(this._dScrollingContainer)<-O.OCCLUSION_TOLERANCE,n=this._scrollModeHelper.getStartPositionFromSelection(this._dScrollingContainer)>t-e+O.OCCLUSION_TOLERANCE;this._leftFadeOut.classed("hidden",!i),this._rightFadeOut.classed("hidden",!n),this._leftFadeOut.style("height",this._dButtonBarContainer.height()+"px"),this._rightFadeOut.style("height",this._dButtonBarContainer.height()+"px")},M._activateScrolling=function(e){this._panGestureRecogniser=o.default.create({plane:e?o.PLANES.VERTICAL:o.PLANES.HORIZONTAL}),this._scrollableContainer=I.create(this._dScrollingContainer,this._dButtonBarContainer,this._panGestureRecogniser,this._animationPoller,e).withScrollCallback(this._updateZonesAndStyles.bind(this)),this._captureZone=this._captureZoneManager.create(a.default.PROPAGATE_UNHANDLED,C.default.MENU_SCROLL).addGestureRecogniser(this._panGestureRecogniser),this._updateZonesAndStyles()},M.render=function(){O.superclass.render.call(this),this._updateStickyItem()},M.realignItems=function(e,t){var i,n,s,r,o;n=(i=this.getBoundingClientRect().width)/e,s=Math.floor(n)+t,r=n>=this._menuViewItems.length,o=r?e:Math.floor(i/s),this._menuViewItems.forEach((function(e){e.setMinWidth(o)}))},M._panToButton=function(e,t,i){var n,s,r=this._captureZoneManager.getOffset(),o=this._scrollableContainer.distanceOverLeftBound(),a=this._scrollableContainer.distanceOverRightBound(),l=e.getBoundingClientRect();n="end"===t?this._scrollModeHelper.getLengthFromSelection(this._dButtonBarContainer)-this._scrollModeHelper.getEndPositionFromBounds(l):this._scrollModeHelper.getStartPositionFromBounds(r)-this._scrollModeHelper.getStartPositionFromBounds(l),s=Math.max(a,n),s=Math.min(-o,s),this._scrollableContainer.moveByPixels(s,i)},M._updateZonesAndStyles=function(){this.updateCaptureZoneSize(),this._updateStickyItem()},M._updateStickyItem=function(){if(this._dStickyLabel){var e,t,i,n,s,r=this._dButtonBarContainer.node().getBoundingClientRect().top;for(i=0;i<this._menuViewItems.length;i++)(e=this._menuViewItems[i].getBoundingClientRect())&&(this._menuViewItems[i].getMenuItem().classed("visibilityHidden",!1),e.top<r&&this._menuViewItems[i].isSticky&&(t=this._menuViewItems[i],this._menuViewItems[i].getMenuItem().classed("visibilityHidden",!0)));t?(n=t,s=this._stickyItem,n&&s&&n.toString()===s.toString()||(this._stickyItem&&this._stickyItem.destroy(),this._stickyItem=t.copy().withZIndex(C.default.MENU_STICKY_FIXED),this._stickyItem.initDom(this._dStickyLabel.classed("hidden",!1)))):this._stickyItem&&(this._stickyItem.destroy(),this._stickyItem=null,this._dStickyLabel.classed("hidden",!0))}},M.onDimensionsChanged=function(){r.default.defer(this.returnToBounds,this,[])},M.returnToBounds=function(e){var t=0;this._scrollableContainer.isOutOfBounds()&&(this._scrollableContainer.distanceOverLeftBound()>0?t=this._scrollableContainer.distanceOverLeftBound():this._scrollableContainer.distanceOverRightBound()>0&&(t=this._scrollableContainer.distanceOverRightBound()),0!==t&&this._scrollableContainer.moveByPixels(t,!!e))},Object.seal(M);const y=Object.seal(O)},1530:(e,t,i)=>{"use strict";i.d(t,{A:()=>l});var n=i(43130),s=i(9525),r=i(2486);function o(e,t){this._captureZoneManager=e,this._indexViewItem=this._createIndexMenuViewItem(e,t),this._optionsViewItems=this._createOptionsMenuViewItems(e,t)}o.create=function(e,t){return new o(e,t)},o._createOptionMenuViewItem=function(e,t,i){return r.A.create(e,{label:i.label,data:i.data,isSelected:i.isSelected,actionListener:i.actionListener,cssClass:"option",isSticky:t})};var a=o.prototype;a._indexViewItem=null,a._optionsViewItems=null,a.getIndexViewItem=(0,s.getter)("_indexViewItem"),a.getOptionsViewItems=(0,s.getter)("_optionsViewItems"),a.withZIndex=function(e){this._indexViewItem.withZIndex(e),(0,s.invokeCall)(this._optionsViewItems,"withZIndex",e)},a.updateClientBox=function(){this._indexViewItem.updateClientBox(),(0,s.invokeCall)(this._optionsViewItems,"updateClientBox")},a.destroy=function(){this._indexViewItem.destroy(),(0,s.invokeCall)(this._optionsViewItems,"destroy")},a._createIndexMenuViewItem=function(e,t){return r.A.create(e,{label:t.indexLabel,data:{id:t.id},actionListener:n.noop})},a._createOptionsMenuViewItems=function(e,t){var i=t.options.map(o._createOptionMenuViewItem.bind(this,e,!1));return i.splice(0,0,o._createOptionMenuViewItem(e,!0,t)),i},Object.seal(a);const l=Object.seal(o)},61897:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>h});var n=i(48053),s=i(12990),r=i(9525),o=i(2486),a=i(54859),l=i(289);function d(e){return e.getData().id}var u=s.A.extend((function(e,t,i){this._animationPoller=t,this._captureZoneManager=e,this._menuItems=[],this._menuViewItems=[],this._config=(0,a.merge)({buttonBar:n.A,menuViewItem:o.A,isVertical:!1,buttonBarStyles:""},i)}),l.default);u.create=function(e,t,i){return new u(e,t,i)},u.VISIBILITY_CHANGED="VISIBILITY_CHANGED";var c=u.prototype;c._animationPoller=null,c._buttonBar=null,c._captureZoneManager=null,c._menuItems=null,c._menuViewItems=null,c.initDom=function(e){return this._buttonBar&&this._buttonBar.destroy(),this._buttonBar=this._createButtonBar(this._captureZoneManager,this._animationPoller),this._buttonBar.initDom(e.viewElement,this._createButtonBarStyles(),!1),this.withMenuItems(this._menuItems),this},c.withMenuItems=function(e,t){var i,n;if(this._menuItems=e,this._buttonBar){for(this._menuViewItems=[],n=0;n<e.length;n++)this._menuViewItems.push(this._createMenuViewItem(e[n]));t&&(i=this._buttonBar.getSelectedItems().map(d)),this._buttonBar.setMenuViewItems(this._menuViewItems),this.render(),t&&i.forEach(u.prototype.selectItem,this)}return this},c.render=(0,r.delegate)("_buttonBar","render"),c.isVisible=(0,r.delegate)("_buttonBar","isVisible"),c.show=function(){this._buttonBar.show(),this.fire(u.VISIBILITY_CHANGED)},c.hide=function(){this._buttonBar.hide(),this.fire(u.VISIBILITY_CHANGED)},c.classed=(0,r.delegate)("_buttonBar","classed"),c.updateCaptureZoneSize=(0,r.delegate)("_buttonBar","updateCaptureZoneSize"),c.onDimensionsChanged=(0,r.delegate)("_buttonBar","onDimensionsChanged"),c.selectItem=function(e){return this._buttonBar.selectItem((function(t){return t.getData().id===e})),this},c.deselectItem=function(e){return this._buttonBar.deselectItem((function(t){return t.getData().id===e})),this},c.destroy=function(){this._buttonBar&&(this._buttonBar.destroy(),this._buttonBar=null),this._menuItems=[],this._menuViewItems=[]},c._createMenuViewItem=function(e){return this._config.menuViewItem.create(this._captureZoneManager,e)},c._createButtonBar=function(e,t){return this._config.buttonBar.create(e,t,this._config.isVertical)},c.getActiveButtonBarItems=function(){if(this._buttonBar)return{active:this._buttonBar.getSelectedItems().map((function(e){return e.getData().id}))}},c.updateViewItemLabel=function(e,t){var i;for(i=0;i<this._menuViewItems.length;i++)if(this._menuViewItems[i].getMenuItemId()==e){this._menuViewItems[i].updateLabel(t);break}},c._createButtonBarStyles=function(){return this._config.buttonBarStyles},Object.seal(c);const h=Object.seal(u)},2486:(e,t,i)=>{"use strict";i.d(t,{A:()=>u});var n=i(97204),s=i(50951),r=i(9525),o=i(98760),a=i(10520);function l(e,t){this._captureZoneManager=e,this.isSelected=t.isSelected||!1,this.label=t.label,this._allowHTML=t.allowHTML||!1,this._data=t.data,this._cssClass=t.cssClass||"",this.isSticky=t.isSticky||!1,this._actionListener=t.actionListener,this._tapTextOnly=t.tapTextOnly||!1,this._zIndex=t.zIndex||a.default.MENU}l.create=function(e,t){return new l(e,t)};var d=l.prototype;d.isSelected=null,d.isSticky=!1,d.label=null,d._allowHTML=void 0,d._cssClass=null,d._data=null,d._actionListener=null,d._dMenuItem=null,d._dMenuItemText=null,d._captureZone=null,d._neutralCaptureZone=null,d._captureZoneManager=null,d._tapTextOnly=!1,d._zIndex=null,d.getData=(0,r.getter)("_data"),d.withActionListener=(0,r.setter)("_actionListener"),d.withZIndex=function(e){return this._zIndex=e,this._captureZone&&this._captureZone.withZIndex(e),this._neutralCaptureZone&&this._neutralCaptureZone.withZIndex(e-1),this},d.toString=function(){return'[MenuViewItem "'+this.label+'"]'},d.copy=function(){return l.create(this._captureZoneManager,{isSelected:this.isSelected,label:this.label,data:this._data,cssClass:this._cssClass,isSticky:this.isSticky,actionListener:this._actionListener,zIndex:this._zIndex})},d.getMenuItem=function(){return this._dMenuItem?(0,n.A)(this._dMenuItem.node()):null},d.initDom=function(e){this._dMenuItem=e.append("div"),this._dMenuItem.attr("data-menu-item-id",this._data?this._data.id:"").classed("menuViewItem",!0).classed("selected",this.isSelected),this._dMenuItemText=this._dMenuItem.append("div").classed("buttonText",!0),this._updateLabel(),this._cssClass&&this._dMenuItem.select(".buttonText").classed(this._cssClass,!0),this._dMenuItem.classed("sticky",this.isSticky),this._attachActionListener()},d.render=function(e){!this._dMenuItem&&e&&this.initDom(e),this._dMenuItem.classed("selected",this.isSelected)},d.setMinWidth=function(e){this._dMenuItem.style("min-width",e+"px")},d.updateClientBox=function(e){var t=this._tapTextOnly?this._dMenuItemText:this._dMenuItem;this._captureZone&&this._captureZone.setDimensionsBasedOnElement(t,e),this._neutralCaptureZone&&this._neutralCaptureZone.setDimensionsBasedOnElement(this._dMenuItem,e)},d.getBoundingClientRect=function(){return this._dMenuItem?this._dMenuItem.node().getBoundingClientRect():null},d.destroy=function(){this._dMenuItemText&&(this._dMenuItemText.remove(),this._dMenuItemText=null),this._dMenuItem&&(this._dMenuItem.remove(),this._dMenuItem=null),this._captureZone&&(this._captureZone.destroy(),this._captureZone=null),this._neutralCaptureZone&&(this._neutralCaptureZone.destroy(),this._neutralCaptureZone=null)},d._attachActionListener=function(){this._captureZone=this._captureZoneManager.create(s.default.BLOCK_ALL,this._zIndex),this._captureZone.addGesture(o.default,{fastTap:!0}).withHandler(this._handleTap,this),this._tapTextOnly&&(this._neutralCaptureZone=this._captureZoneManager.create(s.default.BLOCK_ALL,this._zIndex-1)),this.updateClientBox()},d._handleTap=function(){this._actionListener&&(this.isSelected=!this.isSelected,this._actionListener.handleAction(this._data,this.isSelected))},d.getMenuItemId=function(){return this._data.id},d.updateLabel=function(e){this.label=e,this._updateLabel()},d._updateLabel=function(){this._allowHTML?this._dMenuItemText.html(this.label):this._dMenuItemText.text(this.label)},Object.seal(d);const u=Object.seal(l)},93001:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>C});var n=i(85690),s=i(12990),r=i(55974),o=i(50951),a=i(9525),l=i(49817),d=i(38108),u=i(10520),c=s.A.extend((function(){}),n.default),h=c.prototype;h._captureZone=null,h._closeIcon=null,h._closeIconPosition=0,h._hoverMode=!1,h._hovered=!1,h._overlapped=!1,h.withHoverMode=(0,a.setter)("_hoverMode"),h.initDom=function(){return c.superclass.initDom.call(this),this._createCloseIcon(),this._createCaptureZone(),this},h.startRedrawingBasedOnChangesInVisibleWindow=function(){c.superclass.startRedrawingBasedOnChangesInVisibleWindow.apply(this,arguments),this._subView.on(d.default.DIMENSIONS_CHANGED,this._handleSubViewDimensionsChanged,this),this._presentationModel.on(l.default.HANDLE_POSITION_CHANGED,this._handleHandlePosition,this)},h.stopRedrawingBasedOnChangesInVisibleWindow=function(){c.superclass.stopRedrawingBasedOnChangesInVisibleWindow.apply(this,arguments),this._subView.un(null,this),this._presentationModel.un(null,this)},h.destroy=function(){c.superclass.destroy.call(this),this._captureZone&&(this._captureZone.destroy(),this._captureZone=null),this._closeIcon&&(this._closeIcon.destroy(),this._closeIcon=null)},h._createCaptureZone=function(){this._captureZone=this._captureZoneManager.create(o.default.PROPAGATE_ALL,u.default.MAX),this._hoverMode?this._captureZone.setHoverHandler({in:this._onEnter,inContext:this,out:this._onExit,outContext:this}):this._onEnter()},h._createCloseIcon=function(){this._closeIcon=new r.default(this.dContainer,this._captureZoneManager,u.default.OVERVIEW_CLOSE_ICON,this._presentationController.hideOverview.bind(this._presentationController)),this._closeIcon.propagateHover(),this._closeIcon.hide()},h._handleHandlePosition=function(e,t){if(this._hovered){var i=t>this._closeIconPosition&&e<this._closeIconPosition+r.DEFAULT_CLOSE_ICON_SIZE;this._overlapped!==i&&(i?this._closeIcon.hide():this._closeIcon.show(),this._overlapped=i)}},h._handleSubViewDimensionsChanged=function(e){this._positionCloseIcon({containerWidth:e.width,containerHeight:this._presentationModel.height,marginRight:this._presentationModel.marginRight}),this._captureZone.setDimensions({x:e.x,y:e.y,width:e.width,height:this._presentationModel.height})},h._onEnter=function(){this._overlapped||this._closeIcon.show(),this._hovered=!0},h._onExit=function(){this._closeIcon.hide(),this._hovered=!1},h._positionCloseIcon=function(e){var t=(e.containerHeight-r.DEFAULT_CLOSE_ICON_SIZE)/2,i=Math.min((e.marginRight+r.DEFAULT_CLOSE_ICON_SIZE)/2,t+r.DEFAULT_CLOSE_ICON_SIZE);this._closeIconPosition=e.containerWidth-i,this._closeIcon.setPosition(this._closeIconPosition,t)},Object.seal(h);const p=Object.seal(c);var _=i(69790),g=i(25163),f=i(20669),m=i(30070),v=s.A.extend((function(e,t,i,n){this._horizontalPadding=4,this._verticalPadding=4}),f.default),A=v.prototype;A.startRedrawingBasedOnChangesInVisibleWindow=function(){v.superclass.startRedrawingBasedOnChangesInVisibleWindow.apply(this,arguments),this._subView.on(d.default.DIMENSIONS_CHANGED,this._handleSubViewDimensionsChanged,this),this._presentationModel.on(l.default.UPDATED,this._showText,this),this._presentationModel.on(l.default.OVERVIEW_CREATE,this._showText,this),this._presentationModel.on(l.default.OVERVIEW_REMOVE,this._showText,this)},A.stopRedrawingBasedOnChangesInVisibleWindow=function(){v.superclass.stopRedrawingBasedOnChangesInVisibleWindow.apply(this,arguments),this._subView.un(null,this),this._presentationModel.un(null,this)},A._showText=function(){this._buildTitle()},A._buildTitle=function(){this._dText.selectAll(".setting").remove(),this._presentationModel.isAvailable()||this._dText.append("svg:tspan").classed("setting",!0).classed("unavailable",!0).attr("dx",4).text(this._presentationModel.getUnavailabilityLabel())},A._handleSubViewDimensionsChanged=function(e){var t=m.default.MIN_LABEL_HEIGHT<=e.height;t&&!this._visible?this.show():!t&&this._visible&&this.hide()},Object.seal(A);const E=Object.seal(v);var T=i(73685),I=i(61163);const C=function(e){var t={overview:{type:T.A,relativeWeighting:301,isPersistent:!0,properties:{xAxisHeight:I.X_AXIS_HEIGHT},presentationControllers:{overviewPresentationController:{type:_.A,presentationModel:{type:l.default}}},renderers:{overviewRenderer:{type:g.A,position:"main",group:"overview",presentationController:"overviewPresentationController",properties:{hoverMode:e.hoverMode}},overviewUnavailableRenderer:{type:E,position:"main",group:"overview",presentationController:"overviewPresentationController",properties:{marginTop:9,marginLeft:7,showBackground:!1}},overviewCloseIconRenderer:{type:p,position:"main",group:"overview",presentationController:"overviewPresentationController",properties:{hoverMode:e.hoverMode}}}}};return e.showCloseIcon||delete t.overview.renderers.overviewCloseIconRenderer,t}},94025:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>r});var n=i(74893),s={_mapToOverviewResolution:{}};s._mapToOverviewResolution[n.default.values.TICK.id]=n.default.values.FIVE_MINUTES,s._mapToOverviewResolution[n.default.values.SECOND.id]=n.default.values.FIVE_MINUTES,s._mapToOverviewResolution[n.default.values.TEN_SECONDS.id]=n.default.values.THIRTY_MINUTES,s._mapToOverviewResolution[n.default.values.MINUTE.id]=n.default.values.HOUR,s._mapToOverviewResolution[n.default.values.TWO_MINUTES.id]=n.default.values.HOUR,s._mapToOverviewResolution[n.default.values.THREE_MINUTES.id]=n.default.values.HOUR,s._mapToOverviewResolution[n.default.values.FIVE_MINUTES.id]=n.default.values.HOUR,s._mapToOverviewResolution[n.default.values.TEN_MINUTES.id]=n.default.values.HOUR,s._mapToOverviewResolution[n.default.values.FIFTEEN_MINUTES.id]=n.default.values.HOUR,s._mapToOverviewResolution[n.default.values.THIRTY_MINUTES.id]=n.default.values.HOUR,s._mapToOverviewResolution[n.default.values.HOUR.id]=n.default.values.FOUR_HOURS,s._mapToOverviewResolution[n.default.values.TWO_HOURS.id]=n.default.values.FOUR_HOURS,s._mapToOverviewResolution[n.default.values.THREE_HOURS.id]=n.default.values.FOUR_HOURS,s._mapToOverviewResolution[n.default.values.FOUR_HOURS.id]=n.default.values.FOUR_HOURS,s._mapToOverviewResolution[n.default.values.DAY.id]=n.default.values.DAY,s._mapToOverviewResolution[n.default.values.WEEK.id]=n.default.values.WEEK,s._mapToOverviewResolution[n.default.values.MONTH.id]=n.default.values.MONTH,Object.freeze(s._mapToOverviewResolution),s.toOverviewResolution=function(e){return s._mapToOverviewResolution[e.id]};const r=Object.seal(s)},94316:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>n});const n=new(i(95151).default)({de:{TICK_RESOLUTION:"Entschuldigung, die Zeitleiste ist in der Tick-Ansicht nicht verfügbar",NO_DATA:"Entschuldigung, die Zeitleiste ist derzeit nicht verfügbar"},en:{TICK_RESOLUTION:"Sorry, the timeline is not available for tick interval",NO_DATA:"Sorry, the timeline is unavailable at present",NO_RESOLUTION:""},es:{TICK_RESOLUTION:"Lo sentimos, la línea de tiempo no está disponible para el intervalo 'Tick'",NO_DATA:"Lo sentimos, en este momento la línea de tiempo no está disponible"},fr:{TICK_RESOLUTION:"Désolé, la chronologie n'est pas disponible pour l'échelle de temps 'Tick'",NO_DATA:"Désolé, la chronologie n'est pas disponible pour le moment"},it:{TICK_RESOLUTION:"Siamo spiacenti, la timeline non è disponibile per l'intervallo 'tick'",NO_DATA:"La timeline non è al momento disponibile"},ja:{TICK_RESOLUTION:"申し訳ございません。期間設定はティックではご利用いただけません。",NO_DATA:"申し訳ございません。期間設定は現在ご利用いただけません。"},nl:{TICK_RESOLUTION:"Het spijt ons, u kunt deze tijdlijn niet per tick bekijken",NO_DATA:"Sorry, de tijdlijn is momenteel niet beschikbaar"},nb:{TICK_RESOLUTION:"Beklager, tidslinjen er ikke tilgjengelig for tick-intervaller",NO_DATA:"Beklager, tidslinjen er ikke tilgjengelig for øyeblikket"},pt:{TICK_RESOLUTION:"Pedimos desculpa, esta linha do tempo não está disponível para a resolução tick",NO_DATA:"Pedimos desculpa, esta linha do tempo não está disponível no momento."},sv:{TICK_RESOLUTION:"Tyvärr, tidslinjen är inte tillgänglig i tick-grafer",NO_DATA:"Tidslinjen är tyvärr inte tillgänglig just nu"},zh:{TICK_RESOLUTION:"抱歉，Tick间隔无时间轴",NO_DATA:"抱歉，目前无法查看时间轴"},zh_TW:{TICK_RESOLUTION:"抱歉，Tick間隔無時間軸",NO_DATA:"抱歉，目前無法查看時間軸"}})},11569:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>o});var n=i(10695),s=i(12990).A.extend((function(){}),n.default),r=s.prototype;r.isOverviewVisible=!0,r.fromJSON=function(e){this.isOverviewVisible=e.modified?!!e.isOverviewVisible:!!this._options.isVisibleByDefault,this.modified=!0},r.toJSON=function(){return{isOverviewVisible:this.isOverviewVisible,modified:this.modified}},Object.seal(r);const o=Object.seal(s)},49972:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>c});var n=i(43130),s=i(5955),r=i(12990),o=i(40708),a=i(72873),l=i(25259),d=r.A.extend((function(e,t,i){this._presentationModel=i,this._dContainer=e.append("g").classed("xAxis",!0)}),s.default);d.create=function(e,t,i){return new d(e,t,i)};var u=d.prototype;u._dBorderEnd=null,u._dBorderStart=null,u._dXTicks=null,u._isDrawn=!1,u._ticksRendererHelper=null,u.render=function(){if(this._presentationModel.isReady()&&!this._isDrawn)this._createDom();else if(!this._presentationModel.isReady())return void(this._isDrawn&&this._destroyDom());var e=this._presentationModel.getXTicks(),t=this._presentationModel.getYScale().range(),i=(0,o.rangeExtent)(t);this._ticksRendererHelper.withSubViewDimensions({width:(0,o.rangeExtent)(this._presentationModel.getXScale().range()),height:i}),this._ticksRendererHelper.renderTicks(e),this._ticksRendererHelper.replotVertically(),this._dXTicks.attr("transform",a.default.svgTranslateAttrXY(this._presentationModel.marginLeft,t[1])),this._dBorderEnd.attrs({transform:a.default.svgTranslateAttrX(this._presentationModel.width),y1:0,y2:-i}),this._dBorderStart.attrs({y1:0,y2:e[0]&&0===e[0].accTime?0:-i})},u.destroy=function(){return this._isDrawn&&this._destroyDom(),d.superclass.destroy.apply(this,arguments)},u._createDom=function(){this._dXTicks=this._dContainer.append("g").classed("xTicks",!0),this._ticksRendererHelper=new l.A(this._presentationModel.getUserTimeZone(),this._dXTicks,"overview").withTextAttributes({transform:a.default.svgTranslateAttrXY(3,-5)}).withTransformFunction(n.identity,n.identity),this._dBorderEnd=this._dXTicks.append("line").classed("line",!0),this._dBorderStart=this._dXTicks.append("line").classed("line",!0),this._isDrawn=!0},u._destroyDom=function(){this._dXTicks&&(this._dXTicks.remove(),delete this._dXTicks,delete this._dBorderEnd,delete this._dBorderStart,delete this._ticksRendererHelper),this._isDrawn=!1},Object.seal(u);const c=Object.seal(d)},79198:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>n});const n=new(i(95151).default)({de:{M1:"1Mo",w1:"1W",d1:"1T",h1:"1St",h2:"2St",h3:"3St",h4:"4St",m1:"1m",m2:"2m",m3:"3m",m5:"5m",m10:"10m",m15:"15m",m30:"30m",s10:"10s",s1:"1s",t1:"TICK",MONTH:"1M",WEEK:"1W",DAY:"1d",FOUR_HOURS:"4h",THREE_HOURS:"3h",TWO_HOURS:"2h",HOUR:"1h",THIRTY_MINUTES:"30",FIFTEEN_MINUTES:"15",TEN_MINUTES:"10",FIVE_MINUTES:"5",THREE_MINUTES:"3",TWO_MINUTES:"2",MINUTE:"1",TEN_SECONDS:"10s",SECOND:"1s",TICK:"1t"},en:{M1:"1M",w1:"1W",d1:"1d",h1:"1h",h2:"2h",h3:"3h",h4:"4h",m1:"1m",m2:"2m",m3:"3m",m5:"5m",m10:"10m",m15:"15m",m30:"30m",s10:"10s",s1:"1s",t1:"TICK",MONTH:"1M",WEEK:"1W",DAY:"1d",FOUR_HOURS:"4h",THREE_HOURS:"3h",TWO_HOURS:"2h",HOUR:"1h",THIRTY_MINUTES:"30",FIFTEEN_MINUTES:"15",TEN_MINUTES:"10",FIVE_MINUTES:"5",THREE_MINUTES:"3",TWO_MINUTES:"2",MINUTE:"1",TEN_SECONDS:"10s",SECOND:"1s",TICK:"1t"},es:{M1:"1M",w1:"1Sem",d1:"1d",h1:"1h",h2:"2h",h3:"3h",h4:"4h",m1:"1m",m2:"2m",m3:"3m",m5:"5m",m10:"10m",m15:"15m",m30:"30m",s10:"10s",s1:"1s",t1:"TICK",MONTH:"1M",WEEK:"1W",DAY:"1d",FOUR_HOURS:"4h",THREE_HOURS:"3h",TWO_HOURS:"2h",HOUR:"1h",THIRTY_MINUTES:"30",FIFTEEN_MINUTES:"15",TEN_MINUTES:"10",FIVE_MINUTES:"5",THREE_MINUTES:"3",TWO_MINUTES:"2",MINUTE:"1",TEN_SECONDS:"10s",SECOND:"1s",TICK:"1t"},fr:{M1:"1 Mois",w1:"Hebdo",d1:"1j",h1:"1h",h2:"2h",h3:"3h",h4:"4h",m1:"1m",m2:"2m",m3:"3m",m5:"5m",m10:"10m",m15:"15m",m30:"30m",s10:"10s",s1:"1s",t1:"TICK",MONTH:"1M",WEEK:"1W",DAY:"1d",FOUR_HOURS:"4h",THREE_HOURS:"3h",TWO_HOURS:"2h",HOUR:"1h",THIRTY_MINUTES:"30",FIFTEEN_MINUTES:"15",TEN_MINUTES:"10",FIVE_MINUTES:"5",THREE_MINUTES:"3",TWO_MINUTES:"2",MINUTE:"1",TEN_SECONDS:"10s",SECOND:"1s",TICK:"1t"},it:{M1:"1M",w1:"1Sett",d1:"1G",h1:"1h",h2:"2h",h3:"3h",h4:"4h",m1:"1m",m2:"2m",m3:"3m",m5:"5m",m10:"10m",m15:"15m",m30:"30m",s10:"10s",s1:"1s",t1:"TICK",MONTH:"1M",WEEK:"1W",DAY:"1d",FOUR_HOURS:"4h",THREE_HOURS:"3h",TWO_HOURS:"2h",HOUR:"1h",THIRTY_MINUTES:"30",FIFTEEN_MINUTES:"15",TEN_MINUTES:"10",FIVE_MINUTES:"5",THREE_MINUTES:"3",TWO_MINUTES:"2",MINUTE:"1",TEN_SECONDS:"10s",SECOND:"1s",TICK:"1t"},ja:{M1:"月間",w1:"週間",d1:"日間",h1:"1 時間",h2:"2 時間",h3:"3 時間",h4:"4 時間",m1:"1 分",m2:"2 分",m3:"3 分",m5:"5分",m10:"10 分",m15:"15 分",m30:"30 分",s10:"10 秒",s1:"1 秒",t1:"ティック",MONTH:"1M",WEEK:"1W",DAY:"1d",FOUR_HOURS:"4h",THREE_HOURS:"3h",TWO_HOURS:"2h",HOUR:"1h",THIRTY_MINUTES:"30",FIFTEEN_MINUTES:"15",TEN_MINUTES:"10",FIVE_MINUTES:"5",THREE_MINUTES:"3",TWO_MINUTES:"2",MINUTE:"1",TEN_SECONDS:"10s",SECOND:"1s",TICK:"1t"},nl:{M1:"1M",w1:"1W",d1:"1d",h1:"1u",h2:"2u",h3:"3u",h4:"4u",m1:"1mn",m2:"2mn",m3:"3mn",m5:"5mn",m10:"10mn",m15:"15mn",m30:"30mn",s10:"10s",s1:"1s",t1:"TICK",MONTH:"1M",WEEK:"1W",DAY:"1d",FOUR_HOURS:"4h",THREE_HOURS:"3h",TWO_HOURS:"2h",HOUR:"1h",THIRTY_MINUTES:"30",FIFTEEN_MINUTES:"15",TEN_MINUTES:"10",FIVE_MINUTES:"5",THREE_MINUTES:"3",TWO_MINUTES:"2",MINUTE:"1",TEN_SECONDS:"10s",SECOND:"1s",TICK:"1t"},nb:{M1:"1M",w1:"1U",d1:"1d",h1:"1t",h2:"2t",h3:"3t",h4:"4t",m1:"1m",m2:"2m",m3:"3m",m5:"5m",m10:"10m",m15:"15m",m30:"30m",s10:"10s",s1:"1s",t1:"TICK",MONTH:"1M",WEEK:"1W",DAY:"1d",FOUR_HOURS:"4h",THREE_HOURS:"3h",TWO_HOURS:"2h",HOUR:"1h",THIRTY_MINUTES:"30",FIFTEEN_MINUTES:"15",TEN_MINUTES:"10",FIVE_MINUTES:"5",THREE_MINUTES:"3",TWO_MINUTES:"2",MINUTE:"1",TEN_SECONDS:"10s",SECOND:"1s",TICK:"1t"},pt:{M1:"1M",w1:"1Sem",d1:"1d",h1:"1h",h2:"2h",h3:"3h",h4:"4h",m1:"1m",m2:"2m",m3:"3m",m5:"5m",m10:"10m",m15:"15m",m30:"30m",s10:"10s",s1:"1s",t1:"TICK",MONTH:"1M",WEEK:"1W",DAY:"1d",FOUR_HOURS:"4h",THREE_HOURS:"3h",TWO_HOURS:"2h",HOUR:"1h",THIRTY_MINUTES:"30",FIFTEEN_MINUTES:"15",TEN_MINUTES:"10",FIVE_MINUTES:"5",THREE_MINUTES:"3",TWO_MINUTES:"2",MINUTE:"1",TEN_SECONDS:"1s",SECOND:"1s",TICK:"1t"},sv:{M1:"1M",w1:"1V",d1:"1d",h1:"1t",h2:"2t",h3:"3t",h4:"4t",m1:"1m",m2:"2m",m3:"3m",m5:"5m",m10:"10m",m15:"15m",m30:"30m",s10:"10s",s1:"1s",t1:"TICK",MONTH:"1M",WEEK:"1W",DAY:"1d",FOUR_HOURS:"4h",THREE_HOURS:"3h",TWO_HOURS:"2h",HOUR:"1h",THIRTY_MINUTES:"30",FIFTEEN_MINUTES:"15",TEN_MINUTES:"10",FIVE_MINUTES:"5",THREE_MINUTES:"3",TWO_MINUTES:"2",MINUTE:"1",TEN_SECONDS:"10s",SECOND:"1s",TICK:"1t"},zh:{M1:"每月",w1:"每周",d1:"每日",h1:"1 小时",h2:"2 小时",h3:"3 小时",h4:"4 小时",m1:"1 分",m2:"2 分",m3:"3 分",m5:"5分",m10:"10 分",m15:"15 分",m30:"30 分",s10:"10 秒",s1:"1 秒",t1:"TICK",MONTH:"1M",WEEK:"1W",DAY:"1d",FOUR_HOURS:"4h",THREE_HOURS:"3h",TWO_HOURS:"2h",HOUR:"1h",THIRTY_MINUTES:"30",FIFTEEN_MINUTES:"15",TEN_MINUTES:"10",FIVE_MINUTES:"5",THREE_MINUTES:"3",TWO_MINUTES:"2",MINUTE:"1",TEN_SECONDS:"10s",SECOND:"1s",TICK:"1t"},zh_TW:{M1:"每月",w1:"每週",d1:"每日",h1:"1 小時",h2:"2 小時",h3:"3 小時",h4:"4 小時",m1:"1 分",m2:"2 分",m3:"3 分",m5:"5分",m10:"10 分",m15:"15 分",m30:"30 分",s10:"10 秒",s1:"1 秒",t1:"TICK",MONTH:"1M",WEEK:"1W",DAY:"1d",FOUR_HOURS:"4h",THREE_HOURS:"3h",TWO_HOURS:"2h",HOUR:"1h",THIRTY_MINUTES:"30",FIFTEEN_MINUTES:"15",TEN_MINUTES:"10",FIVE_MINUTES:"5",THREE_MINUTES:"3",TWO_MINUTES:"2",MINUTE:"1",TEN_SECONDS:"10s",SECOND:"1s",TICK:"1t"}})},48137:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>z});var n=i(43130),s=i(97204),r=i(95804),o=i(87385),a=i(12990),l=i(9525),d=i(2928),u=i(17070),c=i(21788);function h(e,t){this._currentPoint=u.default.fromOtherPoint(e),this._currentPoint.accTime=e.accTime,this._newPoint=t,this._oldPoint=e}h.create=function(e,t){return new h(e,t)};var p=h.prototype;p._currentPoint=null,p._newPoint=null,p._oldPoint=null,p._dPointElement=null,p._renderer=null,p.withPointElement=function(e){return this._dPointElement=(0,s.A)(e),this},p.withRenderer=(0,l.setter)("_renderer"),p.abort=function(){this._renderer._animationPoller&&this._renderer._animationPoller.killTasks(this._renderer.name+"-transition-"+this._currentPoint.accTime)},p.startTransition=function(){return this._interpolate=c.easedInterpolation.bind(null,d.default.ANIM_EASE),this._dPointElement.datum(this._currentPoint),this._renderer._animationPoller.newFixedTimeTask(this._renderer.name+"-transition-"+this._currentPoint.accTime,this._step.bind(this),d.default.ANIM_DURATION),this},p._interpolate=null,p._replacePoint=function(){var e,t=this._dPointElement.node(),i=t.parentNode;i.removeChild(t),e=(0,s.A)(this._renderer._createNewPoint(this._currentPoint)).classed("point",!0).datum(this._currentPoint),i.appendChild(e.node()),this._renderer._positionPointsHorizontally(e),this._dPointElement=e},p._step=function(e){var t=this._currentPoint,i=this._newPoint,n=this._oldPoint,s=t.direction,r=t.rangeGoesOutsideOpenClose;return e>=1?(this._currentPoint=this._newPoint,this._dPointElement.datum(this._newPoint)):(t.highPrice=this._interpolate(n.highPrice,i.highPrice,e),t.lowPrice=this._interpolate(n.lowPrice,i.lowPrice,e),t.openPrice=this._interpolate(n.openPrice,i.openPrice,e),t.closePrice=this._interpolate(n.closePrice,i.closePrice,e),t._analyseHloc()),this._currentPoint.direction===s&&this._currentPoint.rangeGoesOutsideOpenClose===r||this._replacePoint(),this._renderer._positionPointsVertically(this._dPointElement),e>=1&&(this._renderer._clearTransition(this._oldPoint.accTime),!0)},Object.seal(p);const _=Object.seal(h);var g=i(64754),f=i(81141),m=i(70113),v=i(39634),A=i(72873),E=i(41283),T=i(47703),I=a.A.extend((function(e,t,i,n,s,r){this._blockCache=Object.create(null),this._pendingTransitions=Object.create(null),this._cacheNeighbouringBlock=l.schedule.debounce(this._cacheNeighbouringBlock,1e3)}),r.A),C=I.prototype;C._blockCache=null,C._pendingTransitions=null,C._highLowLineY1=(0,l.throwError)("cannot calculate dimensions without visibleWindow"),C._highLowLineY2=(0,l.throwError)("cannot calculate dimensions without visibleWindow"),C._pointX=(0,l.throwError)("cannot calculate dimensions without visibleWindow"),C.setVisibleWindow=function(e){I.superclass.setVisibleWindow.apply(this,arguments);var t=this._indicator.resolution.period,i=this._getForwardsProjectionInX(),n=this._getForwardsProjectionInY();return this._createPositionFunctions((function(){return i(t)}),i,this._projection.inX.roundValue,this._projection.inX.visibleRoundValue,n,this._projection.inY.roundValue,this._projection.inY.visibleRoundValue),this},C.destroy=function(){this._blockCache=null,this._dBlocks.datum(null),this._cacheNeighbouringBlock.cancel(),Object.keys(this._pendingTransitions).forEach((function(e){this._pendingTransitions[e].abort()}),this),I.superclass.destroy.call(this)},C._refreshChangedBlocks=n.noop,C._cacheNeighbouringBlock=function(e){var t=e.previous;t&&this._useBlock(t)&&this._createNewBlock(t)},C._clearTransition=function(e){e in this._pendingTransitions&&(this._pendingTransitions[e].abort(),delete this._pendingTransitions[e])},C._createNewBlock=function(e){var t,i;return this._blockCache[e.index]?(t=(0,s.A)(this._blockCache[e.index]),this._hasChangingProjection()&&(i=t.selectAll(".point"),this._positionPointsHorizontally(i),this._positionPointsVertically(i))):(i=(t=(0,s.A)(document.createElementNS("http://www.w3.org/2000/svg","g")).classed("block",!0).classed("index-"+e.index,!0).datum(e)).selectAll(".point").data(this._accessor(e)).enter().appendElement(this._createNewPoint.bind(this)).classed("point",!0),this._positionPointsHorizontally(i),this._positionPointsVertically(i),this._blockCache[e.index]=t.node()),this._cacheNeighbouringBlock(e),t.node()},C._createNewPoint=f.A.abstractMethod,C._createPositionFunctions=function(e,t,i,n,r,o,a){var d=this._isRelative();this._highLowLineY1=(0,l.compose)(o,r,(0,l.plucker)("lowPrice")),this._highLowLineY2=(0,l.compose)(o,r,(0,l.plucker)("highPrice")),this._pointX=function(e){var n=(0,s.A)(this).parent().datum(),r=d&&n?t(n.accStart):0;return A.default.svgTranslateAttrX(i(t(e.accTime)-r))}},C._createProjection=function(e){var t,i;return o.A.getInstance().supportsSvgNonScalingStroke()?(t=v.A.createForShowingTimeInX(this._instrumentModel.activeResolution.period),i=T.A.createForShowingValueInY(e)):(t=new m.A,i=new g.A),new E.A(t,i)},C._handleEntrySet=function(e){var t=e.enter();e.eachElement(this._updateBlock.bind(this)),t.empty()||(t=t.appendElement(this._createNewBlock.bind(this)),this._positionBlocks(t))},C._positionPointsHorizontally=f.A.abstractMethod,C._positionPointsVertically=f.A.abstractMethod,C._replot=function(e,t){var i=this._dBlocks.enter().merge(this._dBlocks);e&&this._positionPointsHorizontally(i.selectAll(".point")),t&&this._positionPointsVertically(i.selectAll(".point"))},C._updateBlock=function(e,t){var i,n=(0,s.A)(e).selectAll(".point"),r=this._accessor(t);n.each((0,l.setter)("__oldData__")),(n=n.data(r,(0,l.plucker)("accTime"))).exit().remove(),n.eachElement(this._updatePoint.bind(this)),i=n.enter().appendElement(this._createNewPoint.bind(this)).classed("point",!0),this._positionPointsHorizontally(i),this._positionPointsVertically(i)},C._updatePoint=function(e,t){var i=e.__oldData__,n=this._pendingTransitions;delete e.__oldData__,i.toString()!==t.toString()&&(this._clearTransition(t.accTime),n[t.accTime]=_.create(i,t).withRenderer(this).withPointElement(e).startTransition())},C._useBlock=function(e){return e.containsPoints(["prices"])||e.loading.calculated},C._hasChangingProjection=function(){return!this._projection.inX.forwardsUnchanging||!this._projection.inY.forwardsUnchanging},Object.seal(C);const O=Object.seal(I);var M=i(86605),y=i(73036),b=(0,l.throwError)("cannot calculate dimensions without visibleWindow"),S=a.A.extend((function(e,t,i,n,s,r){this._applyCandleBorder=l.schedule.throttle(this._applyCandleBorder,100)}),O),D=S.prototype;D._openCloseLineX=b,D._openCloseRectX=b,D._openCloseRectWidth=b,D._openCloseRectHeight=b,D._yOfOpenClose=b,D._smallCandles=null,D._tinyCandles=null,D.destroy=function(){this._applyCandleBorder.cancel(),S.superclass.destroy.call(this)},D.initDom=function(){return S.superclass.initDom.call(this),this.dContainer.classed("candles",!0),this},D.startRedrawingBasedOnChangesInVisibleWindow=function(){S.superclass.startRedrawingBasedOnChangesInVisibleWindow.call(this),this._visibleWindow.isReadyForRender()&&this._applyCandleBorder()},D._applyCandleBorder=function(){var e=this._visibleWindow.visibleDateRange.accDurationToPixels(this._indicator.resolution.period),t=e<=6,i=e<=2;this._tinyCandles!==i&&(this._tinyCandles=i,this.dContainer.classed("tiny",i)),this._smallCandles!==t&&(this._smallCandles=t,this.dContainer.classed("small",t))},D._createNewPoint=function(e){var t=(0,s.A)(document.createElementNS("http://www.w3.org/2000/svg","g")).classed("candle",!0).classed(e.direction,!0);return e.rangeGoesOutsideOpenClose&&t.append("svg:line").classed("highLow",!0),t.append(e.isZeroMovement?"svg:line":"svg:rect").classed("openClose",!0).classed("required",!e.rangeGoesOutsideOpenClose),t.node()},D._createPositionFunctions=function(e,t,i,s,r,o,a){var d,u,c;S.superclass._createPositionFunctions.apply(this,arguments),d=function(){return i(e()*(y.OPEN_CLOSE_PROPORTIONAL_WIDTH/2))},u=function(){return i(-e()*(y.OPEN_CLOSE_PROPORTIONAL_WIDTH/2))},c=function(){return s(e()*y.OPEN_CLOSE_PROPORTIONAL_WIDTH)},this._projection.inX.forwardsUnchanging?(this._openCloseLineX=(0,n.constant)(d()),this._openCloseRectX=(0,n.constant)(u()),this._openCloseRectWidth=(0,n.constant)(c())):(this._openCloseLineX=d,this._openCloseRectX=u,this._openCloseRectWidth=c),this._yOfOpenClose=(0,l.compose)(o,r,(0,l.plucker)("lowOpenClose")),this._openCloseRectHeight=function(e){return a(r(e.highOpenClose)-r(e.lowOpenClose))}},D._positionPointsHorizontally=function(e){var t=this._openCloseLineX();e.attr("transform",this._pointX),e.select("line.openClose").attrs({x1:-t,x2:t}),e.select("rect.openClose").attrs({x:this._openCloseRectX(),width:this._openCloseRectWidth()})},D._positionPointsVertically=function(e){e.select(".highLow").attrs({y1:this._highLowLineY1,y2:this._highLowLineY2}),e.select("line.openClose").attrs({y1:this._yOfOpenClose,y2:this._yOfOpenClose}),e.select("rect.openClose").attrs({y:this._yOfOpenClose,height:this._openCloseRectHeight})},D._handleVisibleWindowMoved=function(e,t){S.superclass._handleVisibleWindowMoved.call(this,e,t),e&(M.default.ZOOMED|M.default.INITIALISED|M.default.RESIZED)&&this._applyCandleBorder()},Object.seal(D);const w=Object.seal(S);var L=i(58634),R=a.A.extend((function(){}),r.A),P=R.prototype;P._blockElementType="svg:rect",P._createProjection=function(e){return new L.A(v.A.createForShowingTimeInX(this._instrumentModel.activeResolution.period))},P._initNewBlocks=function(e){var t=this._getForwardsProjectionInX();e.attr("y",0).attr("height",this._visibleWindow.height()).attr("width",(0,l.compose)(t,(0,l.plucker)("accDuration")))},P.setContainer=function(e){return R.superclass.setContainer.apply(this,arguments),this.dContainer=e.classed("chartHasNeverBeenMoved",!0),this},P._handleVisibleWindowMoved=function(e,t){R.superclass._handleVisibleWindowMoved.call(this,e,t),e&M.default.MOVED&&!(e&M.default.INITIALISED)&&this.dContainer.classed("chartHasNeverBeenMoved",!1),t&M.default.RESIZED&&this._dBlocks.attr("height",this._visibleWindow.height())},P._useBlock=function(e){return!e.loading.calculated},P._replot=n.noop,Object.seal(P);const N=Object.seal(R);var k=a.A.extend((function(){}),O),x=k.prototype;x._closeLineX=x._closeLineY=x._openLineX=x._openLineY=(0,l.throwError)("cannot calculate dimensions without visibleWindow"),x.initDom=function(){return k.superclass.initDom.call(this),this.dContainer.classed("candles",!0),this},x._createNewPoint=function(e){var t=(0,s.A)(document.createElementNS("http://www.w3.org/2000/svg","g")).classed("hloc",!0).classed(e.direction,!0);return t.append("svg:line").classed("highLow",!0),t.append("svg:line").classed("open",!0),t.append("svg:line").classed("close",!0),t.node()},x._createPositionFunctions=function(e,t,i,s,r,o,a){k.superclass._createPositionFunctions.apply(this,arguments);var d=function(){return i(-e()*(y.OPEN_CLOSE_PROPORTIONAL_WIDTH/2))},u=function(){return i(e()*(y.OPEN_CLOSE_PROPORTIONAL_WIDTH/2))};this._projection.inX.forwardsUnchanging?(this._openLineX=(0,n.constant)(d()),this._closeLineX=(0,n.constant)(u())):(this._openLineX=d,this._closeLineX=u),this._openLineY=(0,l.compose)(o,r,(0,l.plucker)("openPrice")),this._closeLineY=(0,l.compose)(o,r,(0,l.plucker)("closePrice"))},x._positionPointsHorizontally=function(e){e.attr("transform",this._pointX),e.select(".open").attrs({x1:this._openLineX,x2:0}),e.select(".close").attrs({x1:0,x2:this._closeLineX})},x._positionPointsVertically=function(e){e.select(".highLow").attrs({y1:this._highLowLineY1,y2:this._highLowLineY2}),e.select(".open").attrs({y1:this._openLineY,y2:this._openLineY}),e.select(".close").attrs({y1:this._closeLineY,y2:this._closeLineY})},Object.seal(x);const V=Object.seal(k);var B=i(42890),H=i(44437),W=i(92896),F=i(85385),U=a.A.extend((function(){}),F.default),G=U.prototype;G.startNotifyingRendererChanges=function(){return this._eventBus.subscribe("chart/style/change",this.setChoice,this),this},G.stopNotifyingRendererChanges=function(){return this._eventBus.unsubscribe("chart/style/change",this.setChoice,this),this._eventBus.flush("chart/style/change"),this},Object.seal(G);const j=Object.seal(U);function K(){}K.get=function(){return{capabilities:[W.default.CANDLE,W.default.HEIKINASHI,W.default.LINE,W.default.HLOC,W.default.MOUNTAIN],resolutionChooser:H.A,rendererChooser:{type:j,choices:{initial:[W.default.CANDLE,"dataLoading"],CANDLE:[W.default.CANDLE,"dataLoading"],HEIKINASHI:[W.default.HEIKINASHI,"dataLoading"],LINE:[W.default.LINE,"dataLoading"],HLOC:[W.default.HLOC,"dataLoading"],MOUNTAIN:[W.default.MOUNTAIN,"dataLoading"]}},renderers:{CANDLE:{type:w,properties:{relativeWeighting:-1},serverId:"CANDLE_STICK"},HEIKINASHI:{type:w,properties:{relativeWeighting:-1},serverId:"HEIKINASHI"},LINE:{type:B.default,properties:{relativeWeighting:-1},serverId:"LINE"},HLOC:{type:V,properties:{relativeWeighting:-1},serverId:"HLOC"},MOUNTAIN:{type:B.default,properties:{relativeWeighting:-1,fill:!0},serverId:"MOUNTAIN"},dataLoading:{type:N,pointType:"prices",group:"frame"}}}};const z=Object.seal(K)},5949:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>n});const n=new(i(95151).default)({de:{CANDLE:"Kerzen",LINE:"Linie",HLOC:"HLOC",MOUNTAIN:"Mountain"},en:{CANDLE:"Candlestick",HEIKINASHI:"Heikin-Ashi",LINE:"Line",HLOC:"HLOC",MOUNTAIN:"Mountain"},es:{CANDLE:"Vela",LINE:"Línea",HLOC:"HLOC",MOUNTAIN:"Montaña"},fr:{CANDLE:"Chandelier",LINE:"Ligne",HLOC:"HLOC",MOUNTAIN:"Montagne"},it:{CANDLE:"A candele",LINE:"Lineare",HLOC:"HLOC",MOUNTAIN:"A montagna"},ja:{CANDLE:"ロウソク足",LINE:"ライン",HLOC:"バーチャート",MOUNTAIN:"山型"},nl:{CANDLE:"Candlestick",LINE:"Lijn",HLOC:"HLOC",MOUNTAIN:"Berg"},nb:{CANDLE:"Candlestick",LINE:"Linje",HLOC:"HLOC",MOUNTAIN:"Mountain"},pt:{CANDLE:"Velas",LINE:"Linha",HLOC:"HLOC",MOUNTAIN:"Montanha"},sv:{CANDLE:"Candlestick",LINE:"Linje",HLOC:"HLOC",MOUNTAIN:"Mountain"},zh:{CANDLE:"蜡烛图",LINE:"线图",HLOC:"HLOC 图",MOUNTAIN:"山形图"},zh_TW:{CANDLE:"蠟燭圖",LINE:"線狀圖",HLOC:"HLOC 圖",MOUNTAIN:"山狀圖"}})},72910:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>n});const n=new(i(95151).default)({de:{turbo:"Turbo",turbos:"Turbos",warrant:"Optionsschein",warrants:"Optionsscheine",order:"1 Order",orders:"{number} Orders",tooltipTurbosBack:"Zurück zur Turbo-Liste",tooltipWarrantsBack:"Zurück zur Optionsschein-Liste",tooltipCall:"LONG",tooltipPut:"SHORT",tooltipTitlePosition:"POSITION",tooltipTitleOrders:"ORDERS",tooltipLimitDay:"Limit - Tag",tooltipLimitGtc:"Limit - GTC",visibilityMenuLabel:"KO-Level/Strikes"},en:{turbo:"turbo",turbos:"turbos",warrant:"warrant",warrants:"warrants",order:"1 order",orders:"{number} orders",tooltipTurbosBack:"Back to Turbo list",tooltipWarrantsBack:"Back to Warrant list",tooltipCallTurbo:"LONG",tooltipPutTurbo:"SHORT",tooltipCallWarrant:"CALL",tooltipPutWarrant:"PUT",tooltipTitlePosition:"POSITION",tooltipTitleOrders:"ORDERS",tooltipLimitDay:"Limit - Day",tooltipLimitGtc:"Limit - GTC",visibilityMenuLabel:"Knock-outs/strikes"},es:{warrant:"warrant",warrants:"warrants",tooltipTurbosBack:"Volver a la lista de turbos",tooltipWarrantsBack:"Volver a la lista de warrants",tooltipCall:"LARGO",tooltipPut:"CORTO",tooltipTitlePosition:"POSICIÓN",tooltipTitleOrders:"ÓRDENES",tooltipLimitDay:"Límite - Día",tooltipLimitGtc:"Límite - GTC",visibilityMenuLabel:"Knockouts/Strikes"},fr:{turbo:"turbo",turbos:"turbos",warrant:"warrant",warrants:"warrants",order:"1 ordre",orders:"{number} ordres",tooltipTurbosBack:"Retour à la liste des turbos",tooltipWarrantsBack:"Retour à la liste des warrants",tooltipCall:"ACHAT",tooltipPut:"VENTE",tooltipTitlePosition:"POSITION",tooltipTitleOrders:"ORDRES DIFFÉRÉS",tooltipLimitDay:"Limite - jour",tooltipLimitGtc:"Limite - GTC",visibilityMenuLabel:"Niveaux du knock-out"},it:{turbo:"turbo",turbos:"turbo",warrant:"covered warrant",warrants:"covered warrants",order:"1 ordine",orders:"{number} ordini",tooltipTurbosBack:"Torna alla lista dei certificati turbo",tooltipWarrantsBack:"Torna alla lista dei certificati warrant",tooltipCall:"LONG",tooltipPut:"SHORT",tooltipTitlePosition:"POSIZIONE",tooltipTitleOrders:"ORDINI",tooltipLimitDay:"Limite - Day",tooltipLimitGtc:"Limite - GTC",visibilityMenuLabel:"Knockout/Strike"},nl:{turbo:"turbo",turbos:"turbo's",warrant:"warrant",warrants:"warrants",order:"1 order",orders:"{number} orders",tooltipTurbosBack:"Terug naar de lijst van turbo's",tooltipWarrantsBack:"Terug naar de lijst van warrants",tooltipCall:"LONG",tooltipPut:"SHORT",tooltipTitlePosition:"POSITIE",tooltipTitleOrders:"ORDERS",tooltipLimitDay:"Limite - Day",tooltipLimitGtc:"Limite - GTC",visibilityMenuLabel:"Knock-out's/Strikes"},nb:{turbo:"turboen",turbos:"turboer",warrant:"warrant",warrants:"warranter",order:"1 ordre",orders:"{number} ordre",tooltipTurbosBack:"Tilbake til liste over turboer",tooltipWarrantsBack:"Tilbake til liste over warranter",tooltipCall:"LONG",tooltipPut:"SHORT",tooltipTitlePosition:"POSISJON",tooltipTitleOrders:"ORDRER",tooltipLimitDay:"Limit - Dag",tooltipLimitGtc:"Limit - GTA",visibilityMenuLabel:"Knock-outs/Strikes"},sv:{turbo:"turbo",turbos:"turbos",warrant:"warrant",warrants:"warranter",order:"1 order",orders:"{number} ordrar",tooltipTurbosBack:"Tillbaka till listan över turbos",tooltipWarrantsBack:"Tillbaka till listan över warranter",tooltipCall:"LÅNG",tooltipPut:"KORT",tooltipTitlePosition:"POSITION",tooltipTitleOrders:"ORDRAR",tooltipLimitDay:"Limit - Dag",tooltipLimitGtc:"Limit - GTA",visibilityMenuLabel:"Knock-outs/Lösenpris"}})},36586:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>r});var n=i(54859),s={prices:{renderers:{watermark:{type:i(14314).Ay,group:"title",properties:{relativeWeighting:-2}}}}};const r=(0,n.recursiveFreeze)(s)},82344:(e,t,i)=>{"use strict";i.r(t),i.d(t,{breakpoints:()=>n,desktop:()=>o,landscapeTablet:()=>r,largeDesktop:()=>a,portraitTablet:()=>s});var n=["768px","1024px","1440px","1920px"],s="(min-width: 768px)",r="(min-width: 1024px)",o="(min-width: 1440px)",a="(min-width: 1920px)"},32458:(e,t,i)=>{"use strict";i.r(t),i.d(t,{ReactComponent:()=>o});var n,s=i(96540);function r(){return r=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)({}).hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},r.apply(null,arguments)}const o=e=>s.createElement("svg",r({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 10 10"},e),n||(n=s.createElement("path",{fill:"#9696A3",fillRule:"evenodd",d:"M6.7 5 10 1.7 8.3 0 5 3.3 1.7 0 0 1.7 3.3 5 0 8.3 1.7 10 5 6.7 8.3 10 10 8.3z",clipRule:"evenodd"})))},17061:(e,t,i)=>{"use strict";i.r(t),i.d(t,{ReactComponent:()=>a});var n,s,r=i(96540);function o(){return o=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)({}).hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},o.apply(null,arguments)}const a=e=>r.createElement("svg",o({xmlns:"http://www.w3.org/2000/svg",width:22,height:22},e),n||(n=r.createElement("path",{d:"M11 22C4.925 22 0 17.075 0 11S4.925 0 11 0s11 4.925 11 11-4.925 11-11 11m0-2a9 9 0 1 0 0-18 9 9 0 0 0 0 18"})),s||(s=r.createElement("path",{d:"M6 10h10v2H6z"})))},59867:(e,t,i)=>{"use strict";i.r(t),i.d(t,{ReactComponent:()=>l});var n,s,r,o=i(96540);function a(){return a=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)({}).hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},a.apply(null,arguments)}const l=e=>o.createElement("svg",a({xmlns:"http://www.w3.org/2000/svg",width:22,height:22},e),n||(n=o.createElement("path",{d:"M11 22C4.925 22 0 17.075 0 11S4.925 0 11 0s11 4.925 11 11-4.925 11-11 11m0-2a9 9 0 1 0 0-18 9 9 0 0 0 0 18"})),s||(s=o.createElement("path",{d:"M6 10h10v2H6z"})),r||(r=o.createElement("path",{d:"M10 6h2v10h-2z"})))},42754:(e,t,i)=>{"use strict";i.r(t),i.d(t,{ReactComponent:()=>o});var n,s=i(96540);function r(){return r=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)({}).hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},r.apply(null,arguments)}const o=e=>s.createElement("svg",r({xmlns:"http://www.w3.org/2000/svg",width:30,height:30,className:"loadingspinner_svg__loadingSpinner",preserveAspectRatio:"xMidYMid",viewBox:"0 0 100 100"},e),n||(n=s.createElement("g",{fill:"#38383D"},s.createElement("path",{d:"M50.6 28.5h-1.3c-1.9 0-3.4-1.5-3.4-3.4V7.9c0-1.9 1.5-3.4 3.4-3.4h1.3C52.5 4.5 54 6 54 7.9v17.3c0 1.8-1.5 3.3-3.4 3.3",opacity:.4}),s.createElement("path",{d:"m39.8 31.1-1.1.6c-1.6.9-3.7.4-4.6-1.2l-8.6-14.9c-.9-1.6-.4-3.7 1.2-4.6l1.1-.6c1.6-.9 3.7-.4 4.6 1.2L41 26.5c1 1.6.4 3.7-1.2 4.6",opacity:.48}),s.createElement("path",{d:"m31.7 38.7-.6 1.1c-.9 1.6-3 2.2-4.6 1.2l-14.9-8.6c-1.6-.9-2.2-3-1.2-4.6l.6-1.1c.9-1.6 3-2.2 4.6-1.2l14.9 8.6c1.6.9 2.2 3 1.2 4.6",opacity:.56}),s.createElement("path",{d:"M28.5 49.4v1.3c0 1.9-1.5 3.4-3.4 3.4H7.9c-1.9 0-3.4-1.5-3.4-3.4v-1.3C4.5 47.5 6 46 7.9 46h17.3c1.8 0 3.3 1.5 3.3 3.4",opacity:.64}),s.createElement("path",{d:"m31.1 60.2.6 1.1c.9 1.6.4 3.7-1.2 4.6l-14.9 8.6c-1.6.9-3.7.4-4.6-1.2l-.6-1.1c-.9-1.6-.4-3.7 1.2-4.6L26.5 59c1.6-1 3.7-.4 4.6 1.2",opacity:.72}),s.createElement("path",{d:"m38.7 68.3 1.1.6c1.6.9 2.2 3 1.2 4.6l-8.6 14.9c-.9 1.6-3 2.2-4.6 1.2l-1.1-.6c-1.6-.9-2.2-3-1.2-4.6l8.6-14.9c.9-1.6 3-2.2 4.6-1.2",opacity:.8}),s.createElement("path",{d:"M49.4 71.5h1.3c1.9 0 3.4 1.5 3.4 3.4v17.3c0 1.9-1.5 3.4-3.4 3.4h-1.3c-1.9 0-3.4-1.5-3.4-3.4V74.8c0-1.8 1.5-3.3 3.4-3.3",opacity:.88}),s.createElement("path",{d:"m60.2 68.9 1.1-.6c1.6-.9 3.7-.4 4.6 1.2l8.6 14.9c.9 1.6.4 3.7-1.2 4.6l-1.1.6c-1.6.9-3.7.4-4.6-1.2L59 73.5c-1-1.6-.4-3.7 1.2-4.6",opacity:.92}),s.createElement("path",{d:"m68.3 61.3.6-1.1c.9-1.6 3-2.2 4.6-1.2l14.9 8.6c1.6.9 2.2 3 1.2 4.6l-.6 1.1c-.9 1.6-3 2.2-4.6 1.2l-14.9-8.6c-1.6-.9-2.2-3-1.2-4.6",opacity:.08}),s.createElement("path",{d:"M71.5 50.6v-1.3c0-1.9 1.5-3.4 3.4-3.4h17.3c1.9 0 3.4 1.5 3.4 3.4v1.3c0 1.9-1.5 3.4-3.4 3.4H74.8c-1.8 0-3.3-1.5-3.3-3.4",opacity:.16}),s.createElement("path",{d:"m68.9 39.8-.6-1.1c-.9-1.6-.4-3.7 1.2-4.6l14.9-8.6c1.6-.9 3.7-.4 4.6 1.2l.6 1.1c.9 1.6.4 3.7-1.2 4.6L73.5 41c-1.6 1-3.7.4-4.6-1.2",opacity:.24}),s.createElement("path",{d:"m61.3 31.7-1.1-.6c-1.6-.9-2.2-3-1.2-4.6l8.6-14.9c.9-1.6 3-2.2 4.6-1.2l1.1.6c1.6.9 2.2 3 1.2 4.6l-8.6 14.9c-.9 1.6-3 2.2-4.6 1.2",opacity:.32}))))},33734:(e,t,i)=>{"use strict";i.r(t),i.d(t,{ReactComponent:()=>o});var n,s=i(96540);function r(){return r=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)({}).hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},r.apply(null,arguments)}const o=e=>s.createElement("svg",r({xmlns:"http://www.w3.org/2000/svg",width:7,height:12,fill:"#11203E"},e),n||(n=s.createElement("path",{d:"M6.784 5.502A.7.7 0 0 1 7 6a.7.7 0 0 1-.216.499l-5.52 5.288a.76.76 0 0 1-.715.19.72.72 0 0 1-.524-.503.69.69 0 0 1 .198-.684l5-4.79-5-4.79A.69.69 0 0 1 .024.527.72.72 0 0 1 .55.023a.76.76 0 0 1 .715.19z"})))},37417:(e,t,i)=>{"use strict";i.r(t),i.d(t,{ReactComponent:()=>o});var n,s=i(96540);function r(){return r=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)({}).hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},r.apply(null,arguments)}const o=e=>s.createElement("svg",r({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 12 13"},e),n||(n=s.createElement("path",{fillRule:"evenodd",d:"M5.865 12.23a5.865 5.865 0 1 1 0-11.73 5.865 5.865 0 0 1 0 11.73m0-10.753a4.887 4.887 0 1 0 0 9.775 4.887 4.887 0 0 0 0-9.775M6.23 4.41a.8.8 0 0 1-.855-.733.8.8 0 0 1 .855-.733.8.8 0 0 1 .856.733.8.8 0 0 1-.856.733m.342 2.077-.432 2.161a.25.25 0 0 0 .104.251l.456.304a.318.318 0 0 1-.177.583h-.755a1.123 1.123 0 0 1-1.102-1.344L5.1 6.281a.24.24 0 0 0-.104-.251l-.456-.304a.318.318 0 0 1 .177-.583h.755a1.123 1.123 0 0 1 1.101 1.344",clipRule:"evenodd"})))},92151:e=>{var t={utf8:{stringToBytes:function(e){return t.bin.stringToBytes(unescape(encodeURIComponent(e)))},bytesToString:function(e){return decodeURIComponent(escape(t.bin.bytesToString(e)))}},bin:{stringToBytes:function(e){for(var t=[],i=0;i<e.length;i++)t.push(255&e.charCodeAt(i));return t},bytesToString:function(e){for(var t=[],i=0;i<e.length;i++)t.push(String.fromCharCode(e[i]));return t.join("")}}};e.exports=t},3939:e=>{var t,i;t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",i={rotl:function(e,t){return e<<t|e>>>32-t},rotr:function(e,t){return e<<32-t|e>>>t},endian:function(e){if(e.constructor==Number)return 16711935&i.rotl(e,8)|4278255360&i.rotl(e,24);for(var t=0;t<e.length;t++)e[t]=i.endian(e[t]);return e},randomBytes:function(e){for(var t=[];e>0;e--)t.push(Math.floor(256*Math.random()));return t},bytesToWords:function(e){for(var t=[],i=0,n=0;i<e.length;i++,n+=8)t[n>>>5]|=e[i]<<24-n%32;return t},wordsToBytes:function(e){for(var t=[],i=0;i<32*e.length;i+=8)t.push(e[i>>>5]>>>24-i%32&255);return t},bytesToHex:function(e){for(var t=[],i=0;i<e.length;i++)t.push((e[i]>>>4).toString(16)),t.push((15&e[i]).toString(16));return t.join("")},hexToBytes:function(e){for(var t=[],i=0;i<e.length;i+=2)t.push(parseInt(e.substr(i,2),16));return t},bytesToBase64:function(e){for(var i=[],n=0;n<e.length;n+=3)for(var s=e[n]<<16|e[n+1]<<8|e[n+2],r=0;r<4;r++)8*n+6*r<=8*e.length?i.push(t.charAt(s>>>6*(3-r)&63)):i.push("=");return i.join("")},base64ToBytes:function(e){e=e.replace(/[^A-Z0-9+\/]/gi,"");for(var i=[],n=0,s=0;n<e.length;s=++n%4)0!=s&&i.push((t.indexOf(e.charAt(n-1))&Math.pow(2,-2*s+8)-1)<<2*s|t.indexOf(e.charAt(n))>>>6-2*s);return i}},e.exports=i},82887:(e,t,i)=>{"use strict";function n(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}i.d(t,{A:()=>n})},71363:(e,t,i)=>{"use strict";i.d(t,{Ay:()=>o});var n=i(82887),s=(0,i(5122).A)(n.A),r=s.right;s.left;const o=r},5122:(e,t,i)=>{"use strict";i.d(t,{A:()=>s});var n=i(82887);function s(e){var t;return 1===e.length&&(t=e,e=function(e,i){return(0,n.A)(t(e),i)}),{left:function(t,i,n,s){for(null==n&&(n=0),null==s&&(s=t.length);n<s;){var r=n+s>>>1;e(t[r],i)<0?n=r+1:s=r}return n},right:function(t,i,n,s){for(null==n&&(n=0),null==s&&(s=t.length);n<s;){var r=n+s>>>1;e(t[r],i)>0?s=r:n=r+1}return n}}}},97119:(e,t,i)=>{"use strict";i.d(t,{Ay:()=>o,lq:()=>a,sG:()=>l});var n=Math.sqrt(50),s=Math.sqrt(10),r=Math.sqrt(2);function o(e,t,i){var n,s,r,o,l=-1;if(i=+i,(e=+e)===(t=+t)&&i>0)return[e];if((n=t<e)&&(s=e,e=t,t=s),0===(o=a(e,t,i))||!isFinite(o))return[];if(o>0)for(e=Math.ceil(e/o),t=Math.floor(t/o),r=new Array(s=Math.ceil(t-e+1));++l<s;)r[l]=(e+l)*o;else for(e=Math.floor(e*o),t=Math.ceil(t*o),r=new Array(s=Math.ceil(e-t+1));++l<s;)r[l]=(e-l)/o;return n&&r.reverse(),r}function a(e,t,i){var o=(t-e)/Math.max(0,i),a=Math.floor(Math.log(o)/Math.LN10),l=o/Math.pow(10,a);return a>=0?(l>=n?10:l>=s?5:l>=r?2:1)*Math.pow(10,a):-Math.pow(10,-a)/(l>=n?10:l>=s?5:l>=r?2:1)}function l(e,t,i){var o=Math.abs(t-e)/Math.max(0,i),a=Math.pow(10,Math.floor(Math.log(o)/Math.LN10)),l=o/a;return l>=n?a*=10:l>=s?a*=5:l>=r&&(a*=2),t<e?-a:a}},63597:(e,t,i)=>{"use strict";function n(e,t,i){e.prototype=t.prototype=i,i.constructor=e}function s(e,t){var i=Object.create(e.prototype);for(var n in t)i[n]=t[n];return i}function r(){}i.d(t,{Ay:()=>T,Qh:()=>O});var o=.7,a=1/o,l="\\s*([+-]?\\d+)\\s*",d="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",u="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",c=/^#([0-9a-f]{3,8})$/,h=new RegExp("^rgb\\("+[l,l,l]+"\\)$"),p=new RegExp("^rgb\\("+[u,u,u]+"\\)$"),_=new RegExp("^rgba\\("+[l,l,l,d]+"\\)$"),g=new RegExp("^rgba\\("+[u,u,u,d]+"\\)$"),f=new RegExp("^hsl\\("+[d,u,u]+"\\)$"),m=new RegExp("^hsla\\("+[d,u,u,d]+"\\)$"),v={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function A(){return this.rgb().formatHex()}function E(){return this.rgb().formatRgb()}function T(e){var t,i;return e=(e+"").trim().toLowerCase(),(t=c.exec(e))?(i=t[1].length,t=parseInt(t[1],16),6===i?I(t):3===i?new M(t>>8&15|t>>4&240,t>>4&15|240&t,(15&t)<<4|15&t,1):8===i?C(t>>24&255,t>>16&255,t>>8&255,(255&t)/255):4===i?C(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|240&t,((15&t)<<4|15&t)/255):null):(t=h.exec(e))?new M(t[1],t[2],t[3],1):(t=p.exec(e))?new M(255*t[1]/100,255*t[2]/100,255*t[3]/100,1):(t=_.exec(e))?C(t[1],t[2],t[3],t[4]):(t=g.exec(e))?C(255*t[1]/100,255*t[2]/100,255*t[3]/100,t[4]):(t=f.exec(e))?D(t[1],t[2]/100,t[3]/100,1):(t=m.exec(e))?D(t[1],t[2]/100,t[3]/100,t[4]):v.hasOwnProperty(e)?I(v[e]):"transparent"===e?new M(NaN,NaN,NaN,0):null}function I(e){return new M(e>>16&255,e>>8&255,255&e,1)}function C(e,t,i,n){return n<=0&&(e=t=i=NaN),new M(e,t,i,n)}function O(e,t,i,n){return 1===arguments.length?((s=e)instanceof r||(s=T(s)),s?new M((s=s.rgb()).r,s.g,s.b,s.opacity):new M):new M(e,t,i,null==n?1:n);var s}function M(e,t,i,n){this.r=+e,this.g=+t,this.b=+i,this.opacity=+n}function y(){return"#"+S(this.r)+S(this.g)+S(this.b)}function b(){var e=this.opacity;return(1===(e=isNaN(e)?1:Math.max(0,Math.min(1,e)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===e?")":", "+e+")")}function S(e){return((e=Math.max(0,Math.min(255,Math.round(e)||0)))<16?"0":"")+e.toString(16)}function D(e,t,i,n){return n<=0?e=t=i=NaN:i<=0||i>=1?e=t=NaN:t<=0&&(e=NaN),new L(e,t,i,n)}function w(e){if(e instanceof L)return new L(e.h,e.s,e.l,e.opacity);if(e instanceof r||(e=T(e)),!e)return new L;if(e instanceof L)return e;var t=(e=e.rgb()).r/255,i=e.g/255,n=e.b/255,s=Math.min(t,i,n),o=Math.max(t,i,n),a=NaN,l=o-s,d=(o+s)/2;return l?(a=t===o?(i-n)/l+6*(i<n):i===o?(n-t)/l+2:(t-i)/l+4,l/=d<.5?o+s:2-o-s,a*=60):l=d>0&&d<1?0:a,new L(a,l,d,e.opacity)}function L(e,t,i,n){this.h=+e,this.s=+t,this.l=+i,this.opacity=+n}function R(e,t,i){return 255*(e<60?t+(i-t)*e/60:e<180?i:e<240?t+(i-t)*(240-e)/60:t)}n(r,T,{copy:function(e){return Object.assign(new this.constructor,this,e)},displayable:function(){return this.rgb().displayable()},hex:A,formatHex:A,formatHsl:function(){return w(this).formatHsl()},formatRgb:E,toString:E}),n(M,O,s(r,{brighter:function(e){return e=null==e?a:Math.pow(a,e),new M(this.r*e,this.g*e,this.b*e,this.opacity)},darker:function(e){return e=null==e?o:Math.pow(o,e),new M(this.r*e,this.g*e,this.b*e,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:y,formatHex:y,formatRgb:b,toString:b})),n(L,(function(e,t,i,n){return 1===arguments.length?w(e):new L(e,t,i,null==n?1:n)}),s(r,{brighter:function(e){return e=null==e?a:Math.pow(a,e),new L(this.h,this.s,this.l*e,this.opacity)},darker:function(e){return e=null==e?o:Math.pow(o,e),new L(this.h,this.s,this.l*e,this.opacity)},rgb:function(){var e=this.h%360+360*(this.h<0),t=isNaN(e)||isNaN(this.s)?0:this.s,i=this.l,n=i+(i<.5?i:1-i)*t,s=2*i-n;return new M(R(e>=240?e-240:e+120,s,n),R(e,s,n),R(e<120?e+240:e-120,s,n),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var e=this.opacity;return(1===(e=isNaN(e)?1:Math.max(0,Math.min(1,e)))?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===e?")":", "+e+")")}}))},80902:(e,t,i)=>{"use strict";i.d(t,{GP:()=>c,s:()=>h});var n=i(40886);var s=i(71688);var r,o=i(23735);function a(e,t){var i=(0,o.f)(e,t);if(!i)return e+"";var n=i[0],s=i[1];return s<0?"0."+new Array(-s).join("0")+n:n.length>s+1?n.slice(0,s+1)+"."+n.slice(s+1):n+new Array(s-n.length+2).join("0")}const l={"%":function(e,t){return(100*e).toFixed(t)},b:function(e){return Math.round(e).toString(2)},c:function(e){return e+""},d:o.A,e:function(e,t){return e.toExponential(t)},f:function(e,t){return e.toFixed(t)},g:function(e,t){return e.toPrecision(t)},o:function(e){return Math.round(e).toString(8)},p:function(e,t){return a(100*e,t)},r:a,s:function(e,t){var i=(0,o.f)(e,t);if(!i)return e+"";var n=i[0],s=i[1],a=s-(r=3*Math.max(-8,Math.min(8,Math.floor(s/3))))+1,l=n.length;return a===l?n:a>l?n+new Array(a-l+1).join("0"):a>0?n.slice(0,a)+"."+n.slice(a):"0."+new Array(1-a).join("0")+(0,o.f)(e,Math.max(0,t+a-1))[0]},X:function(e){return Math.round(e).toString(16).toUpperCase()},x:function(e){return Math.round(e).toString(16)}};function d(e){return e}var u,c,h,p=Array.prototype.map,_=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function g(e){var t,i,o=void 0===e.grouping||void 0===e.thousands?d:(t=p.call(e.grouping,Number),i=e.thousands+"",function(e,n){for(var s=e.length,r=[],o=0,a=t[0],l=0;s>0&&a>0&&(l+a+1>n&&(a=Math.max(1,n-l)),r.push(e.substring(s-=a,s+a)),!((l+=a+1)>n));)a=t[o=(o+1)%t.length];return r.reverse().join(i)}),a=void 0===e.currency?"":e.currency[0]+"",u=void 0===e.currency?"":e.currency[1]+"",c=void 0===e.decimal?".":e.decimal+"",h=void 0===e.numerals?d:function(e){return function(t){return t.replace(/[0-9]/g,(function(t){return e[+t]}))}}(p.call(e.numerals,String)),g=void 0===e.percent?"%":e.percent+"",f=void 0===e.minus?"-":e.minus+"",m=void 0===e.nan?"NaN":e.nan+"";function v(e){var t=(e=(0,s.A)(e)).fill,i=e.align,n=e.sign,d=e.symbol,p=e.zero,v=e.width,A=e.comma,E=e.precision,T=e.trim,I=e.type;"n"===I?(A=!0,I="g"):l[I]||(void 0===E&&(E=12),T=!0,I="g"),(p||"0"===t&&"="===i)&&(p=!0,t="0",i="=");var C="$"===d?a:"#"===d&&/[boxX]/.test(I)?"0"+I.toLowerCase():"",O="$"===d?u:/[%p]/.test(I)?g:"",M=l[I],y=/[defgprs%]/.test(I);function b(e){var s,a,l,d=C,u=O;if("c"===I)u=M(e)+u,e="";else{var g=(e=+e)<0||1/e<0;if(e=isNaN(e)?m:M(Math.abs(e),E),T&&(e=function(e){e:for(var t,i=e.length,n=1,s=-1;n<i;++n)switch(e[n]){case".":s=t=n;break;case"0":0===s&&(s=n),t=n;break;default:if(!+e[n])break e;s>0&&(s=0)}return s>0?e.slice(0,s)+e.slice(t+1):e}(e)),g&&0==+e&&"+"!==n&&(g=!1),d=(g?"("===n?n:f:"-"===n||"("===n?"":n)+d,u=("s"===I?_[8+r/3]:"")+u+(g&&"("===n?")":""),y)for(s=-1,a=e.length;++s<a;)if(48>(l=e.charCodeAt(s))||l>57){u=(46===l?c+e.slice(s+1):e.slice(s))+u,e=e.slice(0,s);break}}A&&!p&&(e=o(e,1/0));var b=d.length+e.length+u.length,S=b<v?new Array(v-b+1).join(t):"";switch(A&&p&&(e=o(S+e,S.length?v-u.length:1/0),S=""),i){case"<":e=d+e+u+S;break;case"=":e=d+S+e+u;break;case"^":e=S.slice(0,b=S.length>>1)+d+e+u+S.slice(b);break;default:e=S+d+e+u}return h(e)}return E=void 0===E?6:/[gprs]/.test(I)?Math.max(1,Math.min(21,E)):Math.max(0,Math.min(20,E)),b.toString=function(){return e+""},b}return{format:v,formatPrefix:function(e,t){var i=v(((e=(0,s.A)(e)).type="f",e)),r=3*Math.max(-8,Math.min(8,Math.floor((0,n.A)(t)/3))),o=Math.pow(10,-r),a=_[8+r/3];return function(e){return i(o*e)+a}}}}u=g({decimal:".",thousands:",",grouping:[3],currency:["$",""],minus:"-"}),c=u.format,h=u.formatPrefix},40886:(e,t,i)=>{"use strict";i.d(t,{A:()=>s});var n=i(23735);function s(e){return(e=(0,n.f)(Math.abs(e)))?e[1]:NaN}},23735:(e,t,i)=>{"use strict";function n(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function s(e,t){if((i=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var i,n=e.slice(0,i);return[n.length>1?n[0]+n.slice(2):n,+e.slice(i+1)]}i.d(t,{A:()=>n,f:()=>s})},71688:(e,t,i)=>{"use strict";i.d(t,{A:()=>s});var n=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function s(e){if(!(t=n.exec(e)))throw new Error("invalid format: "+e);var t;return new r({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}function r(e){this.fill=void 0===e.fill?" ":e.fill+"",this.align=void 0===e.align?">":e.align+"",this.sign=void 0===e.sign?"-":e.sign+"",this.symbol=void 0===e.symbol?"":e.symbol+"",this.zero=!!e.zero,this.width=void 0===e.width?void 0:+e.width,this.comma=!!e.comma,this.precision=void 0===e.precision?void 0:+e.precision,this.trim=!!e.trim,this.type=void 0===e.type?"":e.type+""}s.prototype=r.prototype,r.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type}},80319:(e,t,i)=>{"use strict";function n(e){return function(){return e}}i.d(t,{A:()=>n})},85566:(e,t,i)=>{"use strict";function n(e,t){return t-=e=+e,function(i){return e+t*i}}i.d(t,{A:()=>n})},85368:(e,t,i)=>{"use strict";i.d(t,{Ay:()=>d});var n=i(63597);function s(e,t,i,n,s){var r=e*e,o=r*e;return((1-3*e+3*r-o)*t+(4-6*r+3*o)*i+(1+3*e+3*r-3*o)*n+o*s)/6}var r=i(80319);function o(e,t){return function(i){return e+i*t}}function a(e){return 1==(e=+e)?l:function(t,i){return i-t?function(e,t,i){return e=Math.pow(e,i),t=Math.pow(t,i)-e,i=1/i,function(n){return Math.pow(e+n*t,i)}}(t,i,e):(0,r.A)(isNaN(t)?i:t)}}function l(e,t){var i=t-e;return i?o(e,i):(0,r.A)(isNaN(e)?t:e)}const d=function e(t){var i=a(t);function s(e,t){var s=i((e=(0,n.Qh)(e)).r,(t=(0,n.Qh)(t)).r),r=i(e.g,t.g),o=i(e.b,t.b),a=l(e.opacity,t.opacity);return function(t){return e.r=s(t),e.g=r(t),e.b=o(t),e.opacity=a(t),e+""}}return s.gamma=e,s}(1);function u(e){return function(t){var i,s,r=t.length,o=new Array(r),a=new Array(r),l=new Array(r);for(i=0;i<r;++i)s=(0,n.Qh)(t[i]),o[i]=s.r||0,a[i]=s.g||0,l[i]=s.b||0;return o=e(o),a=e(a),l=e(l),s.opacity=1,function(e){return s.r=o(e),s.g=a(e),s.b=l(e),s+""}}}u((function(e){var t=e.length-1;return function(i){var n=i<=0?i=0:i>=1?(i=1,t-1):Math.floor(i*t),r=e[n],o=e[n+1],a=n>0?e[n-1]:2*r-o,l=n<t-1?e[n+2]:2*o-r;return s((i-n/t)*t,a,r,o,l)}})),u((function(e){var t=e.length;return function(i){var n=Math.floor(((i%=1)<0?++i:i)*t),r=e[(n+t-1)%t],o=e[n%t],a=e[(n+1)%t],l=e[(n+2)%t];return s((i-n/t)*t,r,o,a,l)}}))},23318:(e,t,i)=>{"use strict";i.d(t,{A:()=>o});var n=i(85566),s=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,r=new RegExp(s.source,"g");function o(e,t){var i,o,a,l=s.lastIndex=r.lastIndex=0,d=-1,u=[],c=[];for(e+="",t+="";(i=s.exec(e))&&(o=r.exec(t));)(a=o.index)>l&&(a=t.slice(l,a),u[d]?u[d]+=a:u[++d]=a),(i=i[0])===(o=o[0])?u[d]?u[d]+=o:u[++d]=o:(u[++d]=null,c.push({i:d,x:(0,n.A)(i,o)})),l=r.lastIndex;return l<t.length&&(a=t.slice(l),u[d]?u[d]+=a:u[++d]=a),u.length<2?c[0]?function(e){return function(t){return e(t)+""}}(c[0].x):function(e){return function(){return e}}(t):(t=c.length,function(e){for(var i,n=0;n<t;++n)u[(i=c[n]).i]=i.x(e);return u.join("")})}},69450:(e,t,i)=>{"use strict";i.d(t,{A:()=>d});var n=Math.PI,s=2*n,r=1e-6,o=s-r;function a(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function l(){return new a}a.prototype=l.prototype={constructor:a,moveTo:function(e,t){this._+="M"+(this._x0=this._x1=+e)+","+(this._y0=this._y1=+t)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(e,t){this._+="L"+(this._x1=+e)+","+(this._y1=+t)},quadraticCurveTo:function(e,t,i,n){this._+="Q"+ +e+","+ +t+","+(this._x1=+i)+","+(this._y1=+n)},bezierCurveTo:function(e,t,i,n,s,r){this._+="C"+ +e+","+ +t+","+ +i+","+ +n+","+(this._x1=+s)+","+(this._y1=+r)},arcTo:function(e,t,i,s,o){e=+e,t=+t,i=+i,s=+s,o=+o;var a=this._x1,l=this._y1,d=i-e,u=s-t,c=a-e,h=l-t,p=c*c+h*h;if(o<0)throw new Error("negative radius: "+o);if(null===this._x1)this._+="M"+(this._x1=e)+","+(this._y1=t);else if(p>r)if(Math.abs(h*d-u*c)>r&&o){var _=i-a,g=s-l,f=d*d+u*u,m=_*_+g*g,v=Math.sqrt(f),A=Math.sqrt(p),E=o*Math.tan((n-Math.acos((f+p-m)/(2*v*A)))/2),T=E/A,I=E/v;Math.abs(T-1)>r&&(this._+="L"+(e+T*c)+","+(t+T*h)),this._+="A"+o+","+o+",0,0,"+ +(h*_>c*g)+","+(this._x1=e+I*d)+","+(this._y1=t+I*u)}else this._+="L"+(this._x1=e)+","+(this._y1=t);else;},arc:function(e,t,i,a,l,d){e=+e,t=+t,d=!!d;var u=(i=+i)*Math.cos(a),c=i*Math.sin(a),h=e+u,p=t+c,_=1^d,g=d?a-l:l-a;if(i<0)throw new Error("negative radius: "+i);null===this._x1?this._+="M"+h+","+p:(Math.abs(this._x1-h)>r||Math.abs(this._y1-p)>r)&&(this._+="L"+h+","+p),i&&(g<0&&(g=g%s+s),g>o?this._+="A"+i+","+i+",0,1,"+_+","+(e-u)+","+(t-c)+"A"+i+","+i+",0,1,"+_+","+(this._x1=h)+","+(this._y1=p):g>r&&(this._+="A"+i+","+i+",0,"+ +(g>=n)+","+_+","+(this._x1=e+i*Math.cos(l))+","+(this._y1=t+i*Math.sin(l))))},rect:function(e,t,i,n){this._+="M"+(this._x0=this._x1=+e)+","+(this._y0=this._y1=+t)+"h"+ +i+"v"+ +n+"h"+-i+"Z"},toString:function(){return this._}};const d=l},76911:(e,t,i)=>{"use strict";i.d(t,{T:()=>s,d:()=>r});var n=Array.prototype,s=n.map,r=n.slice},39387:(e,t,i)=>{"use strict";i.d(t,{C:()=>I,Ay:()=>O,D_:()=>m,Gu:()=>C});var n=i(71363),s=i(63597),r=i(85368);function o(e,t){var i,n=t?t.length:0,s=e?Math.min(n,e.length):0,r=new Array(s),o=new Array(n);for(i=0;i<s;++i)r[i]=h(e[i],t[i]);for(;i<n;++i)o[i]=t[i];return function(e){for(i=0;i<s;++i)o[i]=r[i](e);return o}}function a(e,t){var i=new Date;return t-=e=+e,function(n){return i.setTime(e+t*n),i}}var l=i(85566);function d(e,t){var i,n={},s={};for(i in null!==e&&"object"==typeof e||(e={}),null!==t&&"object"==typeof t||(t={}),t)i in e?n[i]=h(e[i],t[i]):s[i]=t[i];return function(e){for(i in n)s[i]=n[i](e);return s}}var u=i(23318),c=i(80319);function h(e,t){var i,n=typeof t;return null==t||"boolean"===n?(0,c.A)(t):("number"===n?l.A:"string"===n?(i=(0,s.Ay)(t))?(t=i,r.Ay):u.A:t instanceof s.Ay?r.Ay:t instanceof Date?a:Array.isArray(t)?o:"function"!=typeof t.valueOf&&"function"!=typeof t.toString||isNaN(t)?d:l.A)(e,t)}function p(e,t){return t-=e=+e,function(i){return Math.round(e+t*i)}}var _=i(76911);var g=i(60117),f=[0,1];function m(e){return e}function v(e,t){return(t-=e=+e)?function(i){return(i-e)/t}:(i=isNaN(t)?NaN:.5,function(){return i});var i}function A(e){var t,i=e[0],n=e[e.length-1];return i>n&&(t=i,i=n,n=t),function(e){return Math.max(i,Math.min(n,e))}}function E(e,t,i){var n=e[0],s=e[1],r=t[0],o=t[1];return s<n?(n=v(s,n),r=i(o,r)):(n=v(n,s),r=i(r,o)),function(e){return r(n(e))}}function T(e,t,i){var s=Math.min(e.length,t.length)-1,r=new Array(s),o=new Array(s),a=-1;for(e[s]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++a<s;)r[a]=v(e[a],e[a+1]),o[a]=i(t[a],t[a+1]);return function(t){var i=(0,n.Ay)(e,t,1,s)-1;return o[i](r[i](t))}}function I(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function C(){var e,t,i,n,s,r,o=f,a=f,d=h,u=m;function c(){return n=Math.min(o.length,a.length)>2?T:E,s=r=null,v}function v(t){return isNaN(t=+t)?i:(s||(s=n(o.map(e),a,d)))(e(u(t)))}return v.invert=function(i){return u(t((r||(r=n(a,o.map(e),l.A)))(i)))},v.domain=function(e){return arguments.length?(o=_.T.call(e,g.A),u===m||(u=A(o)),c()):o.slice()},v.range=function(e){return arguments.length?(a=_.d.call(e),c()):a.slice()},v.rangeRound=function(e){return a=_.d.call(e),d=p,c()},v.clamp=function(e){return arguments.length?(u=e?A(o):m,v):u!==m},v.interpolate=function(e){return arguments.length?(d=e,c()):d},v.unknown=function(e){return arguments.length?(i=e,v):i},function(i,n){return e=i,t=n,c()}}function O(e,t){return C()(e,t)}},64089:(e,t,i)=>{"use strict";i.r(t),i.d(t,{scaleBand:()=>c,scaleDiverging:()=>Li,scaleDivergingLog:()=>Ri,scaleDivergingPow:()=>Ni,scaleDivergingSqrt:()=>ki,scaleDivergingSymlog:()=>Pi,scaleIdentity:()=>f,scaleImplicit:()=>d,scaleLinear:()=>_.A,scaleLog:()=>S,scaleOrdinal:()=>u,scalePoint:()=>p,scalePow:()=>V,scaleQuantile:()=>G,scaleQuantize:()=>j,scaleSequential:()=>Oi,scaleSequentialLog:()=>Mi,scaleSequentialPow:()=>bi,scaleSequentialQuantile:()=>Di,scaleSequentialSqrt:()=>Si,scaleSequentialSymlog:()=>yi,scaleSqrt:()=>B,scaleSymlog:()=>R,scaleThreshold:()=>K,scaleTime:()=>_i,scaleUtc:()=>Ti,tickFormat:()=>xi.A});var n=i(25758),s="$";function r(){}function o(e,t){var i=new r;if(e instanceof r)e.each((function(e,t){i.set(t,e)}));else if(Array.isArray(e)){var n,s=-1,o=e.length;if(null==t)for(;++s<o;)i.set(s,e[s]);else for(;++s<o;)i.set(t(n=e[s],s,e),n)}else if(e)for(var a in e)i.set(a,e[a]);return i}r.prototype=o.prototype={constructor:r,has:function(e){return s+e in this},get:function(e){return this[s+e]},set:function(e,t){return this[s+e]=t,this},remove:function(e){var t=s+e;return t in this&&delete this[t]},clear:function(){for(var e in this)e[0]===s&&delete this[e]},keys:function(){var e=[];for(var t in this)t[0]===s&&e.push(t.slice(1));return e},values:function(){var e=[];for(var t in this)t[0]===s&&e.push(this[t]);return e},entries:function(){var e=[];for(var t in this)t[0]===s&&e.push({key:t.slice(1),value:this[t]});return e},size:function(){var e=0;for(var t in this)t[0]===s&&++e;return e},empty:function(){for(var e in this)if(e[0]===s)return!1;return!0},each:function(e){for(var t in this)t[0]===s&&e(this[t],t.slice(1),this)}};const a=o;var l=i(76911),d={name:"implicit"};function u(){var e=a(),t=[],i=[],s=d;function r(n){var r=n+"",o=e.get(r);if(!o){if(s!==d)return s;e.set(r,o=t.push(n))}return i[(o-1)%i.length]}return r.domain=function(i){if(!arguments.length)return t.slice();t=[],e=a();for(var n,s,o=-1,l=i.length;++o<l;)e.has(s=(n=i[o])+"")||e.set(s,t.push(n));return r},r.range=function(e){return arguments.length?(i=l.d.call(e),r):i.slice()},r.unknown=function(e){return arguments.length?(s=e,r):s},r.copy=function(){return u(t,i).unknown(s)},n.C.apply(r,arguments),r}function c(){var e,t,i=u().unknown(void 0),s=i.domain,r=i.range,o=[0,1],a=!1,l=0,d=0,h=.5;function p(){var i=s().length,n=o[1]<o[0],u=o[n-0],c=o[1-n];e=(c-u)/Math.max(1,i-l+2*d),a&&(e=Math.floor(e)),u+=(c-u-e*(i-l))*h,t=e*(1-l),a&&(u=Math.round(u),t=Math.round(t));var p=function(e,t,i){e=+e,t=+t,i=(s=arguments.length)<2?(t=e,e=0,1):s<3?1:+i;for(var n=-1,s=0|Math.max(0,Math.ceil((t-e)/i)),r=new Array(s);++n<s;)r[n]=e+n*i;return r}(i).map((function(t){return u+e*t}));return r(n?p.reverse():p)}return delete i.unknown,i.domain=function(e){return arguments.length?(s(e),p()):s()},i.range=function(e){return arguments.length?(o=[+e[0],+e[1]],p()):o.slice()},i.rangeRound=function(e){return o=[+e[0],+e[1]],a=!0,p()},i.bandwidth=function(){return t},i.step=function(){return e},i.round=function(e){return arguments.length?(a=!!e,p()):a},i.padding=function(e){return arguments.length?(l=Math.min(1,d=+e),p()):l},i.paddingInner=function(e){return arguments.length?(l=Math.min(1,e),p()):l},i.paddingOuter=function(e){return arguments.length?(d=+e,p()):d},i.align=function(e){return arguments.length?(h=Math.max(0,Math.min(1,e)),p()):h},i.copy=function(){return c(s(),o).round(a).paddingInner(l).paddingOuter(d).align(h)},n.C.apply(p(),arguments)}function h(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return h(t())},e}function p(){return h(c.apply(null,arguments).paddingInner(1))}var _=i(20481),g=i(60117);function f(e){var t;function i(e){return isNaN(e=+e)?t:e}return i.invert=i,i.domain=i.range=function(t){return arguments.length?(e=l.T.call(t,g.A),i):e.slice()},i.unknown=function(e){return arguments.length?(t=e,i):t},i.copy=function(){return f(e).unknown(t)},e=arguments.length?l.T.call(e,g.A):[0,1],(0,_.C)(i)}var m=i(97119),v=i(80902);function A(e,t){var i,n=0,s=(e=e.slice()).length-1,r=e[n],o=e[s];return o<r&&(i=n,n=s,s=i,i=r,r=o,o=i),e[n]=t.floor(r),e[s]=t.ceil(o),e}var E=i(39387);function T(e){return Math.log(e)}function I(e){return Math.exp(e)}function C(e){return-Math.log(-e)}function O(e){return-Math.exp(-e)}function M(e){return isFinite(e)?+("1e"+e):e<0?0:e}function y(e){return function(t){return-e(-t)}}function b(e){var t,i,n=e(T,I),s=n.domain,r=10;function o(){return t=function(e){return e===Math.E?Math.log:10===e&&Math.log10||2===e&&Math.log2||(e=Math.log(e),function(t){return Math.log(t)/e})}(r),i=function(e){return 10===e?M:e===Math.E?Math.exp:function(t){return Math.pow(e,t)}}(r),s()[0]<0?(t=y(t),i=y(i),e(C,O)):e(T,I),n}return n.base=function(e){return arguments.length?(r=+e,o()):r},n.domain=function(e){return arguments.length?(s(e),o()):s()},n.ticks=function(e){var n,o=s(),a=o[0],l=o[o.length-1];(n=l<a)&&(h=a,a=l,l=h);var d,u,c,h=t(a),p=t(l),_=null==e?10:+e,g=[];if(!(r%1)&&p-h<_){if(h=Math.round(h)-1,p=Math.round(p)+1,a>0){for(;h<p;++h)for(u=1,d=i(h);u<r;++u)if(!((c=d*u)<a)){if(c>l)break;g.push(c)}}else for(;h<p;++h)for(u=r-1,d=i(h);u>=1;--u)if(!((c=d*u)<a)){if(c>l)break;g.push(c)}}else g=(0,m.Ay)(h,p,Math.min(p-h,_)).map(i);return n?g.reverse():g},n.tickFormat=function(e,s){if(null==s&&(s=10===r?".0e":","),"function"!=typeof s&&(s=(0,v.GP)(s)),e===1/0)return s;null==e&&(e=10);var o=Math.max(1,r*e/n.ticks().length);return function(e){var n=e/i(Math.round(t(e)));return n*r<r-.5&&(n*=r),n<=o?s(e):""}},n.nice=function(){return s(A(s(),{floor:function(e){return i(Math.floor(t(e)))},ceil:function(e){return i(Math.ceil(t(e)))}}))},n}function S(){var e=b((0,E.Gu)()).domain([1,10]);return e.copy=function(){return(0,E.C)(e,S()).base(e.base())},n.C.apply(e,arguments),e}function D(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function w(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function L(e){var t=1,i=e(D(t),w(t));return i.constant=function(i){return arguments.length?e(D(t=+i),w(t)):t},(0,_.C)(i)}function R(){var e=L((0,E.Gu)());return e.copy=function(){return(0,E.C)(e,R()).constant(e.constant())},n.C.apply(e,arguments)}function P(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function N(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function k(e){return e<0?-e*e:e*e}function x(e){var t=e(E.D_,E.D_),i=1;return t.exponent=function(t){return arguments.length?1===(i=+t)?e(E.D_,E.D_):.5===i?e(N,k):e(P(i),P(1/i)):i},(0,_.C)(t)}function V(){var e=x((0,E.Gu)());return e.copy=function(){return(0,E.C)(e,V()).exponent(e.exponent())},n.C.apply(e,arguments),e}function B(){return V.apply(null,arguments).exponent(.5)}function H(e){return null===e?NaN:+e}function W(e,t,i){if(null==i&&(i=H),n=e.length){if((t=+t)<=0||n<2)return+i(e[0],0,e);if(t>=1)return+i(e[n-1],n-1,e);var n,s=(n-1)*t,r=Math.floor(s),o=+i(e[r],r,e);return o+(+i(e[r+1],r+1,e)-o)*(s-r)}}var F=i(71363),U=i(82887);function G(){var e,t=[],i=[],s=[];function r(){var e=0,n=Math.max(1,i.length);for(s=new Array(n-1);++e<n;)s[e-1]=W(t,e/n);return o}function o(t){return isNaN(t=+t)?e:i[(0,F.Ay)(s,t)]}return o.invertExtent=function(e){var n=i.indexOf(e);return n<0?[NaN,NaN]:[n>0?s[n-1]:t[0],n<s.length?s[n]:t[t.length-1]]},o.domain=function(e){if(!arguments.length)return t.slice();t=[];for(var i,n=0,s=e.length;n<s;++n)null==(i=e[n])||isNaN(i=+i)||t.push(i);return t.sort(U.A),r()},o.range=function(e){return arguments.length?(i=l.d.call(e),r()):i.slice()},o.unknown=function(t){return arguments.length?(e=t,o):e},o.quantiles=function(){return s.slice()},o.copy=function(){return G().domain(t).range(i).unknown(e)},n.C.apply(o,arguments)}function j(){var e,t=0,i=1,s=1,r=[.5],o=[0,1];function a(t){return t<=t?o[(0,F.Ay)(r,t,0,s)]:e}function d(){var e=-1;for(r=new Array(s);++e<s;)r[e]=((e+1)*i-(e-s)*t)/(s+1);return a}return a.domain=function(e){return arguments.length?(t=+e[0],i=+e[1],d()):[t,i]},a.range=function(e){return arguments.length?(s=(o=l.d.call(e)).length-1,d()):o.slice()},a.invertExtent=function(e){var n=o.indexOf(e);return n<0?[NaN,NaN]:n<1?[t,r[0]]:n>=s?[r[s-1],i]:[r[n-1],r[n]]},a.unknown=function(t){return arguments.length?(e=t,a):a},a.thresholds=function(){return r.slice()},a.copy=function(){return j().domain([t,i]).range(o).unknown(e)},n.C.apply((0,_.C)(a),arguments)}function K(){var e,t=[.5],i=[0,1],s=1;function r(n){return n<=n?i[(0,F.Ay)(t,n,0,s)]:e}return r.domain=function(e){return arguments.length?(t=l.d.call(e),s=Math.min(t.length,i.length-1),r):t.slice()},r.range=function(e){return arguments.length?(i=l.d.call(e),s=Math.min(t.length,i.length-1),r):i.slice()},r.invertExtent=function(e){var n=i.indexOf(e);return[t[n-1],t[n]]},r.unknown=function(t){return arguments.length?(e=t,r):e},r.copy=function(){return K().domain(t).range(i).unknown(e)},n.C.apply(r,arguments)}var z=i(5122),Z=new Date,Y=new Date;function $(e,t,i,n){function s(t){return e(t=0===arguments.length?new Date:new Date(+t)),t}return s.floor=function(t){return e(t=new Date(+t)),t},s.ceil=function(i){return e(i=new Date(i-1)),t(i,1),e(i),i},s.round=function(e){var t=s(e),i=s.ceil(e);return e-t<i-e?t:i},s.offset=function(e,i){return t(e=new Date(+e),null==i?1:Math.floor(i)),e},s.range=function(i,n,r){var o,a=[];if(i=s.ceil(i),r=null==r?1:Math.floor(r),!(i<n&&r>0))return a;do{a.push(o=new Date(+i)),t(i,r),e(i)}while(o<i&&i<n);return a},s.filter=function(i){return $((function(t){if(t>=t)for(;e(t),!i(t);)t.setTime(t-1)}),(function(e,n){if(e>=e)if(n<0)for(;++n<=0;)for(;t(e,-1),!i(e););else for(;--n>=0;)for(;t(e,1),!i(e););}))},i&&(s.count=function(t,n){return Z.setTime(+t),Y.setTime(+n),e(Z),e(Y),Math.floor(i(Z,Y))},s.every=function(e){return e=Math.floor(e),isFinite(e)&&e>0?e>1?s.filter(n?function(t){return n(t)%e==0}:function(t){return s.count(0,t)%e==0}):s:null}),s}var q=$((function(e){e.setMonth(0,1),e.setHours(0,0,0,0)}),(function(e,t){e.setFullYear(e.getFullYear()+t)}),(function(e,t){return t.getFullYear()-e.getFullYear()}),(function(e){return e.getFullYear()}));q.every=function(e){return isFinite(e=Math.floor(e))&&e>0?$((function(t){t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)}),(function(t,i){t.setFullYear(t.getFullYear()+i*e)})):null};const X=q;q.range;var J=$((function(e){e.setDate(1),e.setHours(0,0,0,0)}),(function(e,t){e.setMonth(e.getMonth()+t)}),(function(e,t){return t.getMonth()-e.getMonth()+12*(t.getFullYear()-e.getFullYear())}),(function(e){return e.getMonth()}));const Q=J;J.range;var ee=1e3,te=6e4,ie=36e5,ne=864e5,se=6048e5;function re(e){return $((function(t){t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)}),(function(e,t){e.setDate(e.getDate()+7*t)}),(function(e,t){return(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*te)/se}))}var oe=re(0),ae=re(1),le=re(2),de=re(3),ue=re(4),ce=re(5),he=re(6),pe=(oe.range,ae.range,le.range,de.range,ue.range,ce.range,he.range,$((function(e){e.setHours(0,0,0,0)}),(function(e,t){e.setDate(e.getDate()+t)}),(function(e,t){return(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*te)/ne}),(function(e){return e.getDate()-1})));const _e=pe;pe.range;var ge=$((function(e){e.setTime(e-e.getMilliseconds()-e.getSeconds()*ee-e.getMinutes()*te)}),(function(e,t){e.setTime(+e+t*ie)}),(function(e,t){return(t-e)/ie}),(function(e){return e.getHours()}));const fe=ge;ge.range;var me=$((function(e){e.setTime(e-e.getMilliseconds()-e.getSeconds()*ee)}),(function(e,t){e.setTime(+e+t*te)}),(function(e,t){return(t-e)/te}),(function(e){return e.getMinutes()}));const ve=me;me.range;var Ae=$((function(e){e.setTime(e-e.getMilliseconds())}),(function(e,t){e.setTime(+e+t*ee)}),(function(e,t){return(t-e)/ee}),(function(e){return e.getUTCSeconds()}));const Ee=Ae;Ae.range;var Te=$((function(){}),(function(e,t){e.setTime(+e+t)}),(function(e,t){return t-e}));Te.every=function(e){return e=Math.floor(e),isFinite(e)&&e>0?e>1?$((function(t){t.setTime(Math.floor(t/e)*e)}),(function(t,i){t.setTime(+t+i*e)}),(function(t,i){return(i-t)/e})):Te:null};const Ie=Te;Te.range;function Ce(e){return $((function(t){t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)}),(function(e,t){e.setUTCDate(e.getUTCDate()+7*t)}),(function(e,t){return(t-e)/se}))}var Oe=Ce(0),Me=Ce(1),ye=Ce(2),be=Ce(3),Se=Ce(4),De=Ce(5),we=Ce(6),Le=(Oe.range,Me.range,ye.range,be.range,Se.range,De.range,we.range,$((function(e){e.setUTCHours(0,0,0,0)}),(function(e,t){e.setUTCDate(e.getUTCDate()+t)}),(function(e,t){return(t-e)/ne}),(function(e){return e.getUTCDate()-1})));const Re=Le;Le.range;var Pe=$((function(e){e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)}),(function(e,t){e.setUTCFullYear(e.getUTCFullYear()+t)}),(function(e,t){return t.getUTCFullYear()-e.getUTCFullYear()}),(function(e){return e.getUTCFullYear()}));Pe.every=function(e){return isFinite(e=Math.floor(e))&&e>0?$((function(t){t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)}),(function(t,i){t.setUTCFullYear(t.getUTCFullYear()+i*e)})):null};const Ne=Pe;Pe.range;function ke(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function xe(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Ve(e,t,i){return{y:e,m:t,d:i,H:0,M:0,S:0,L:0}}var Be,He,We,Fe={"-":"",_:" ",0:"0"},Ue=/^\s*\d+/,Ge=/^%/,je=/[\\^$*+?|[\]().{}]/g;function Ke(e,t,i){var n=e<0?"-":"",s=(n?-e:e)+"",r=s.length;return n+(r<i?new Array(i-r+1).join(t)+s:s)}function ze(e){return e.replace(je,"\\$&")}function Ze(e){return new RegExp("^(?:"+e.map(ze).join("|")+")","i")}function Ye(e){for(var t={},i=-1,n=e.length;++i<n;)t[e[i].toLowerCase()]=i;return t}function $e(e,t,i){var n=Ue.exec(t.slice(i,i+1));return n?(e.w=+n[0],i+n[0].length):-1}function qe(e,t,i){var n=Ue.exec(t.slice(i,i+1));return n?(e.u=+n[0],i+n[0].length):-1}function Xe(e,t,i){var n=Ue.exec(t.slice(i,i+2));return n?(e.U=+n[0],i+n[0].length):-1}function Je(e,t,i){var n=Ue.exec(t.slice(i,i+2));return n?(e.V=+n[0],i+n[0].length):-1}function Qe(e,t,i){var n=Ue.exec(t.slice(i,i+2));return n?(e.W=+n[0],i+n[0].length):-1}function et(e,t,i){var n=Ue.exec(t.slice(i,i+4));return n?(e.y=+n[0],i+n[0].length):-1}function tt(e,t,i){var n=Ue.exec(t.slice(i,i+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),i+n[0].length):-1}function it(e,t,i){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(i,i+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),i+n[0].length):-1}function nt(e,t,i){var n=Ue.exec(t.slice(i,i+1));return n?(e.q=3*n[0]-3,i+n[0].length):-1}function st(e,t,i){var n=Ue.exec(t.slice(i,i+2));return n?(e.m=n[0]-1,i+n[0].length):-1}function rt(e,t,i){var n=Ue.exec(t.slice(i,i+2));return n?(e.d=+n[0],i+n[0].length):-1}function ot(e,t,i){var n=Ue.exec(t.slice(i,i+3));return n?(e.m=0,e.d=+n[0],i+n[0].length):-1}function at(e,t,i){var n=Ue.exec(t.slice(i,i+2));return n?(e.H=+n[0],i+n[0].length):-1}function lt(e,t,i){var n=Ue.exec(t.slice(i,i+2));return n?(e.M=+n[0],i+n[0].length):-1}function dt(e,t,i){var n=Ue.exec(t.slice(i,i+2));return n?(e.S=+n[0],i+n[0].length):-1}function ut(e,t,i){var n=Ue.exec(t.slice(i,i+3));return n?(e.L=+n[0],i+n[0].length):-1}function ct(e,t,i){var n=Ue.exec(t.slice(i,i+6));return n?(e.L=Math.floor(n[0]/1e3),i+n[0].length):-1}function ht(e,t,i){var n=Ge.exec(t.slice(i,i+1));return n?i+n[0].length:-1}function pt(e,t,i){var n=Ue.exec(t.slice(i));return n?(e.Q=+n[0],i+n[0].length):-1}function _t(e,t,i){var n=Ue.exec(t.slice(i));return n?(e.s=+n[0],i+n[0].length):-1}function gt(e,t){return Ke(e.getDate(),t,2)}function ft(e,t){return Ke(e.getHours(),t,2)}function mt(e,t){return Ke(e.getHours()%12||12,t,2)}function vt(e,t){return Ke(1+_e.count(X(e),e),t,3)}function At(e,t){return Ke(e.getMilliseconds(),t,3)}function Et(e,t){return At(e,t)+"000"}function Tt(e,t){return Ke(e.getMonth()+1,t,2)}function It(e,t){return Ke(e.getMinutes(),t,2)}function Ct(e,t){return Ke(e.getSeconds(),t,2)}function Ot(e){var t=e.getDay();return 0===t?7:t}function Mt(e,t){return Ke(oe.count(X(e)-1,e),t,2)}function yt(e){var t=e.getDay();return t>=4||0===t?ue(e):ue.ceil(e)}function bt(e,t){return e=yt(e),Ke(ue.count(X(e),e)+(4===X(e).getDay()),t,2)}function St(e){return e.getDay()}function Dt(e,t){return Ke(ae.count(X(e)-1,e),t,2)}function wt(e,t){return Ke(e.getFullYear()%100,t,2)}function Lt(e,t){return Ke((e=yt(e)).getFullYear()%100,t,2)}function Rt(e,t){return Ke(e.getFullYear()%1e4,t,4)}function Pt(e,t){var i=e.getDay();return Ke((e=i>=4||0===i?ue(e):ue.ceil(e)).getFullYear()%1e4,t,4)}function Nt(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Ke(t/60|0,"0",2)+Ke(t%60,"0",2)}function kt(e,t){return Ke(e.getUTCDate(),t,2)}function xt(e,t){return Ke(e.getUTCHours(),t,2)}function Vt(e,t){return Ke(e.getUTCHours()%12||12,t,2)}function Bt(e,t){return Ke(1+Re.count(Ne(e),e),t,3)}function Ht(e,t){return Ke(e.getUTCMilliseconds(),t,3)}function Wt(e,t){return Ht(e,t)+"000"}function Ft(e,t){return Ke(e.getUTCMonth()+1,t,2)}function Ut(e,t){return Ke(e.getUTCMinutes(),t,2)}function Gt(e,t){return Ke(e.getUTCSeconds(),t,2)}function jt(e){var t=e.getUTCDay();return 0===t?7:t}function Kt(e,t){return Ke(Oe.count(Ne(e)-1,e),t,2)}function zt(e){var t=e.getUTCDay();return t>=4||0===t?Se(e):Se.ceil(e)}function Zt(e,t){return e=zt(e),Ke(Se.count(Ne(e),e)+(4===Ne(e).getUTCDay()),t,2)}function Yt(e){return e.getUTCDay()}function $t(e,t){return Ke(Me.count(Ne(e)-1,e),t,2)}function qt(e,t){return Ke(e.getUTCFullYear()%100,t,2)}function Xt(e,t){return Ke((e=zt(e)).getUTCFullYear()%100,t,2)}function Jt(e,t){return Ke(e.getUTCFullYear()%1e4,t,4)}function Qt(e,t){var i=e.getUTCDay();return Ke((e=i>=4||0===i?Se(e):Se.ceil(e)).getUTCFullYear()%1e4,t,4)}function ei(){return"+0000"}function ti(){return"%"}function ii(e){return+e}function ni(e){return Math.floor(+e/1e3)}Be=function(e){var t=e.dateTime,i=e.date,n=e.time,s=e.periods,r=e.days,o=e.shortDays,a=e.months,l=e.shortMonths,d=Ze(s),u=Ye(s),c=Ze(r),h=Ye(r),p=Ze(o),_=Ye(o),g=Ze(a),f=Ye(a),m=Ze(l),v=Ye(l),A={a:function(e){return o[e.getDay()]},A:function(e){return r[e.getDay()]},b:function(e){return l[e.getMonth()]},B:function(e){return a[e.getMonth()]},c:null,d:gt,e:gt,f:Et,g:Lt,G:Pt,H:ft,I:mt,j:vt,L:At,m:Tt,M:It,p:function(e){return s[+(e.getHours()>=12)]},q:function(e){return 1+~~(e.getMonth()/3)},Q:ii,s:ni,S:Ct,u:Ot,U:Mt,V:bt,w:St,W:Dt,x:null,X:null,y:wt,Y:Rt,Z:Nt,"%":ti},E={a:function(e){return o[e.getUTCDay()]},A:function(e){return r[e.getUTCDay()]},b:function(e){return l[e.getUTCMonth()]},B:function(e){return a[e.getUTCMonth()]},c:null,d:kt,e:kt,f:Wt,g:Xt,G:Qt,H:xt,I:Vt,j:Bt,L:Ht,m:Ft,M:Ut,p:function(e){return s[+(e.getUTCHours()>=12)]},q:function(e){return 1+~~(e.getUTCMonth()/3)},Q:ii,s:ni,S:Gt,u:jt,U:Kt,V:Zt,w:Yt,W:$t,x:null,X:null,y:qt,Y:Jt,Z:ei,"%":ti},T={a:function(e,t,i){var n=p.exec(t.slice(i));return n?(e.w=_[n[0].toLowerCase()],i+n[0].length):-1},A:function(e,t,i){var n=c.exec(t.slice(i));return n?(e.w=h[n[0].toLowerCase()],i+n[0].length):-1},b:function(e,t,i){var n=m.exec(t.slice(i));return n?(e.m=v[n[0].toLowerCase()],i+n[0].length):-1},B:function(e,t,i){var n=g.exec(t.slice(i));return n?(e.m=f[n[0].toLowerCase()],i+n[0].length):-1},c:function(e,i,n){return O(e,t,i,n)},d:rt,e:rt,f:ct,g:tt,G:et,H:at,I:at,j:ot,L:ut,m:st,M:lt,p:function(e,t,i){var n=d.exec(t.slice(i));return n?(e.p=u[n[0].toLowerCase()],i+n[0].length):-1},q:nt,Q:pt,s:_t,S:dt,u:qe,U:Xe,V:Je,w:$e,W:Qe,x:function(e,t,n){return O(e,i,t,n)},X:function(e,t,i){return O(e,n,t,i)},y:tt,Y:et,Z:it,"%":ht};function I(e,t){return function(i){var n,s,r,o=[],a=-1,l=0,d=e.length;for(i instanceof Date||(i=new Date(+i));++a<d;)37===e.charCodeAt(a)&&(o.push(e.slice(l,a)),null!=(s=Fe[n=e.charAt(++a)])?n=e.charAt(++a):s="e"===n?" ":"0",(r=t[n])&&(n=r(i,s)),o.push(n),l=a+1);return o.push(e.slice(l,a)),o.join("")}}function C(e,t){return function(i){var n,s,r=Ve(1900,void 0,1);if(O(r,e,i+="",0)!=i.length)return null;if("Q"in r)return new Date(r.Q);if("s"in r)return new Date(1e3*r.s+("L"in r?r.L:0));if(t&&!("Z"in r)&&(r.Z=0),"p"in r&&(r.H=r.H%12+12*r.p),void 0===r.m&&(r.m="q"in r?r.q:0),"V"in r){if(r.V<1||r.V>53)return null;"w"in r||(r.w=1),"Z"in r?(s=(n=xe(Ve(r.y,0,1))).getUTCDay(),n=s>4||0===s?Me.ceil(n):Me(n),n=Re.offset(n,7*(r.V-1)),r.y=n.getUTCFullYear(),r.m=n.getUTCMonth(),r.d=n.getUTCDate()+(r.w+6)%7):(s=(n=ke(Ve(r.y,0,1))).getDay(),n=s>4||0===s?ae.ceil(n):ae(n),n=_e.offset(n,7*(r.V-1)),r.y=n.getFullYear(),r.m=n.getMonth(),r.d=n.getDate()+(r.w+6)%7)}else("W"in r||"U"in r)&&("w"in r||(r.w="u"in r?r.u%7:"W"in r?1:0),s="Z"in r?xe(Ve(r.y,0,1)).getUTCDay():ke(Ve(r.y,0,1)).getDay(),r.m=0,r.d="W"in r?(r.w+6)%7+7*r.W-(s+5)%7:r.w+7*r.U-(s+6)%7);return"Z"in r?(r.H+=r.Z/100|0,r.M+=r.Z%100,xe(r)):ke(r)}}function O(e,t,i,n){for(var s,r,o=0,a=t.length,l=i.length;o<a;){if(n>=l)return-1;if(37===(s=t.charCodeAt(o++))){if(s=t.charAt(o++),!(r=T[s in Fe?t.charAt(o++):s])||(n=r(e,i,n))<0)return-1}else if(s!=i.charCodeAt(n++))return-1}return n}return A.x=I(i,A),A.X=I(n,A),A.c=I(t,A),E.x=I(i,E),E.X=I(n,E),E.c=I(t,E),{format:function(e){var t=I(e+="",A);return t.toString=function(){return e},t},parse:function(e){var t=C(e+="",!1);return t.toString=function(){return e},t},utcFormat:function(e){var t=I(e+="",E);return t.toString=function(){return e},t},utcParse:function(e){var t=C(e+="",!0);return t.toString=function(){return e},t}}}({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]}),He=Be.format,Be.parse,We=Be.utcFormat,Be.utcParse;var si=1e3,ri=60*si,oi=60*ri,ai=24*oi,li=7*ai,di=30*ai,ui=365*ai;function ci(e){return new Date(e)}function hi(e){return e instanceof Date?+e:+new Date(+e)}function pi(e,t,i,n,s,r,o,a,d){var u=(0,E.Ay)(E.D_,E.D_),c=u.invert,h=u.domain,p=d(".%L"),_=d(":%S"),g=d("%I:%M"),f=d("%I %p"),v=d("%a %d"),T=d("%b %d"),I=d("%B"),C=d("%Y"),O=[[o,1,si],[o,5,5*si],[o,15,15*si],[o,30,30*si],[r,1,ri],[r,5,5*ri],[r,15,15*ri],[r,30,30*ri],[s,1,oi],[s,3,3*oi],[s,6,6*oi],[s,12,12*oi],[n,1,ai],[n,2,2*ai],[i,1,li],[t,1,di],[t,3,3*di],[e,1,ui]];function M(a){return(o(a)<a?p:r(a)<a?_:s(a)<a?g:n(a)<a?f:t(a)<a?i(a)<a?v:T:e(a)<a?I:C)(a)}function y(t,i,n,s){if(null==t&&(t=10),"number"==typeof t){var r=Math.abs(n-i)/t,o=(0,z.A)((function(e){return e[2]})).right(O,r);o===O.length?(s=(0,m.sG)(i/ui,n/ui,t),t=e):o?(s=(o=O[r/O[o-1][2]<O[o][2]/r?o-1:o])[1],t=o[0]):(s=Math.max((0,m.sG)(i,n,t),1),t=a)}return null==s?t:t.every(s)}return u.invert=function(e){return new Date(c(e))},u.domain=function(e){return arguments.length?h(l.T.call(e,hi)):h().map(ci)},u.ticks=function(e,t){var i,n=h(),s=n[0],r=n[n.length-1],o=r<s;return o&&(i=s,s=r,r=i),i=(i=y(e,s,r,t))?i.range(s,r+1):[],o?i.reverse():i},u.tickFormat=function(e,t){return null==t?M:d(t)},u.nice=function(e,t){var i=h();return(e=y(e,i[0],i[i.length-1],t))?h(A(i,e)):u},u.copy=function(){return(0,E.C)(u,pi(e,t,i,n,s,r,o,a,d))},u}function _i(){return n.C.apply(pi(X,Q,oe,_e,fe,ve,Ee,Ie,He).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}var gi=$((function(e){e.setUTCDate(1),e.setUTCHours(0,0,0,0)}),(function(e,t){e.setUTCMonth(e.getUTCMonth()+t)}),(function(e,t){return t.getUTCMonth()-e.getUTCMonth()+12*(t.getUTCFullYear()-e.getUTCFullYear())}),(function(e){return e.getUTCMonth()}));const fi=gi;gi.range;var mi=$((function(e){e.setUTCMinutes(0,0,0)}),(function(e,t){e.setTime(+e+t*ie)}),(function(e,t){return(t-e)/ie}),(function(e){return e.getUTCHours()}));const vi=mi;mi.range;var Ai=$((function(e){e.setUTCSeconds(0,0)}),(function(e,t){e.setTime(+e+t*te)}),(function(e,t){return(t-e)/te}),(function(e){return e.getUTCMinutes()}));const Ei=Ai;Ai.range;function Ti(){return n.C.apply(pi(Ne,fi,Oe,Re,vi,Ei,Ee,Ie,We).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Ii(){var e,t,i,n,s,r=0,o=1,a=E.D_,l=!1;function d(t){return isNaN(t=+t)?s:a(0===i?.5:(t=(n(t)-e)*i,l?Math.max(0,Math.min(1,t)):t))}return d.domain=function(s){return arguments.length?(e=n(r=+s[0]),t=n(o=+s[1]),i=e===t?0:1/(t-e),d):[r,o]},d.clamp=function(e){return arguments.length?(l=!!e,d):l},d.interpolator=function(e){return arguments.length?(a=e,d):a},d.unknown=function(e){return arguments.length?(s=e,d):s},function(s){return n=s,e=s(r),t=s(o),i=e===t?0:1/(t-e),d}}function Ci(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function Oi(){var e=(0,_.C)(Ii()(E.D_));return e.copy=function(){return Ci(e,Oi())},n.K.apply(e,arguments)}function Mi(){var e=b(Ii()).domain([1,10]);return e.copy=function(){return Ci(e,Mi()).base(e.base())},n.K.apply(e,arguments)}function yi(){var e=L(Ii());return e.copy=function(){return Ci(e,yi()).constant(e.constant())},n.K.apply(e,arguments)}function bi(){var e=x(Ii());return e.copy=function(){return Ci(e,bi()).exponent(e.exponent())},n.K.apply(e,arguments)}function Si(){return bi.apply(null,arguments).exponent(.5)}function Di(){var e=[],t=E.D_;function i(i){if(!isNaN(i=+i))return t(((0,F.Ay)(e,i)-1)/(e.length-1))}return i.domain=function(t){if(!arguments.length)return e.slice();e=[];for(var n,s=0,r=t.length;s<r;++s)null==(n=t[s])||isNaN(n=+n)||e.push(n);return e.sort(U.A),i},i.interpolator=function(e){return arguments.length?(t=e,i):t},i.copy=function(){return Di(t).domain(e)},n.K.apply(i,arguments)}function wi(){var e,t,i,n,s,r,o,a=0,l=.5,d=1,u=E.D_,c=!1;function h(e){return isNaN(e=+e)?o:(e=.5+((e=+r(e))-t)*(e<t?n:s),u(c?Math.max(0,Math.min(1,e)):e))}return h.domain=function(o){return arguments.length?(e=r(a=+o[0]),t=r(l=+o[1]),i=r(d=+o[2]),n=e===t?0:.5/(t-e),s=t===i?0:.5/(i-t),h):[a,l,d]},h.clamp=function(e){return arguments.length?(c=!!e,h):c},h.interpolator=function(e){return arguments.length?(u=e,h):u},h.unknown=function(e){return arguments.length?(o=e,h):o},function(o){return r=o,e=o(a),t=o(l),i=o(d),n=e===t?0:.5/(t-e),s=t===i?0:.5/(i-t),h}}function Li(){var e=(0,_.C)(wi()(E.D_));return e.copy=function(){return Ci(e,Li())},n.K.apply(e,arguments)}function Ri(){var e=b(wi()).domain([.1,1,10]);return e.copy=function(){return Ci(e,Ri()).base(e.base())},n.K.apply(e,arguments)}function Pi(){var e=L(wi());return e.copy=function(){return Ci(e,Pi()).constant(e.constant())},n.K.apply(e,arguments)}function Ni(){var e=x(wi());return e.copy=function(){return Ci(e,Ni()).exponent(e.exponent())},n.K.apply(e,arguments)}function ki(){return Ni.apply(null,arguments).exponent(.5)}var xi=i(42403)},25758:(e,t,i)=>{"use strict";function n(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e)}return this}function s(e,t){switch(arguments.length){case 0:break;case 1:this.interpolator(e);break;default:this.interpolator(t).domain(e)}return this}i.d(t,{C:()=>n,K:()=>s})},20481:(e,t,i)=>{"use strict";i.d(t,{A:()=>l,C:()=>a});var n=i(97119),s=i(39387),r=i(25758),o=i(42403);function a(e){var t=e.domain;return e.ticks=function(e){var i=t();return(0,n.Ay)(i[0],i[i.length-1],null==e?10:e)},e.tickFormat=function(e,i){var n=t();return(0,o.A)(n[0],n[n.length-1],null==e?10:e,i)},e.nice=function(i){null==i&&(i=10);var s,r=t(),o=0,a=r.length-1,l=r[o],d=r[a];return d<l&&(s=l,l=d,d=s,s=o,o=a,a=s),(s=(0,n.lq)(l,d,i))>0?(l=Math.floor(l/s)*s,d=Math.ceil(d/s)*s,s=(0,n.lq)(l,d,i)):s<0&&(l=Math.ceil(l*s)/s,d=Math.floor(d*s)/s,s=(0,n.lq)(l,d,i)),s>0?(r[o]=Math.floor(l/s)*s,r[a]=Math.ceil(d/s)*s,t(r)):s<0&&(r[o]=Math.ceil(l*s)/s,r[a]=Math.floor(d*s)/s,t(r)),e},e}function l(){var e=(0,s.Ay)(s.D_,s.D_);return e.copy=function(){return(0,s.C)(e,l())},r.C.apply(e,arguments),a(e)}},60117:(e,t,i)=>{"use strict";function n(e){return+e}i.d(t,{A:()=>n})},42403:(e,t,i)=>{"use strict";i.d(t,{A:()=>a});var n=i(97119),s=i(71688),r=i(40886);var o=i(80902);function a(e,t,i,a){var l,d=(0,n.sG)(e,t,i);switch((a=(0,s.A)(null==a?",f":a)).type){case"s":var u=Math.max(Math.abs(e),Math.abs(t));return null!=a.precision||isNaN(l=function(e,t){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor((0,r.A)(t)/3)))-(0,r.A)(Math.abs(e)))}(d,u))||(a.precision=l),(0,o.s)(a,u);case"":case"e":case"g":case"p":case"r":null!=a.precision||isNaN(l=function(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,(0,r.A)(t)-(0,r.A)(e))+1}(d,Math.max(Math.abs(e),Math.abs(t))))||(a.precision=l-("e"===a.type));break;case"f":case"%":null!=a.precision||isNaN(l=function(e){return Math.max(0,-(0,r.A)(Math.abs(e)))}(d))||(a.precision=l-2*("%"===a.type))}return(0,o.GP)(a)}},19134:(e,t,i)=>{"use strict";i.d(t,{A:()=>a});var n=i(76357),s=i(48176);function r(e){return function(){var t=this.ownerDocument,i=this.namespaceURI;return i===s.g&&t.documentElement.namespaceURI===s.g?t.createElement(e):t.createElementNS(i,e)}}function o(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function a(e){var t=(0,n.A)(e);return(t.local?o:r)(t)}},84039:(e,t,i)=>{"use strict";i.r(t),i.d(t,{clientPoint:()=>h,create:()=>r,creator:()=>n.A,customEvent:()=>u.ex,event:()=>u.f0,local:()=>a,matcher:()=>d.A,mouse:()=>p,namespace:()=>_.A,namespaces:()=>g.A,select:()=>s.A,selectAll:()=>f.A,selection:()=>m.Ay,selector:()=>v.A,selectorAll:()=>A.A,style:()=>E.j,touch:()=>T,touches:()=>I,window:()=>C.A});var n=i(19134),s=i(97204);function r(e){return(0,s.A)((0,n.A)(e).call(document.documentElement))}var o=0;function a(){return new l}function l(){this._="@"+(++o).toString(36)}l.prototype=a.prototype={constructor:l,get:function(e){for(var t=this._;!(t in e);)if(!(e=e.parentNode))return;return e[t]},set:function(e,t){return e[this._]=t},remove:function(e){return this._ in e&&delete e[this._]},toString:function(){return this._}};var d=i(94692),u=i(92454);function c(){for(var e,t=u.f0;e=t.sourceEvent;)t=e;return t}function h(e,t){var i=e.ownerSVGElement||e;if(i.createSVGPoint){var n=i.createSVGPoint();return n.x=t.clientX,n.y=t.clientY,[(n=n.matrixTransform(e.getScreenCTM().inverse())).x,n.y]}var s=e.getBoundingClientRect();return[t.clientX-s.left-e.clientLeft,t.clientY-s.top-e.clientTop]}function p(e){var t=c();return t.changedTouches&&(t=t.changedTouches[0]),h(e,t)}var _=i(76357),g=i(48176),f=i(9181),m=i(32906),v=i(9729),A=i(51118),E=i(97626);function T(e,t,i){arguments.length<3&&(i=t,t=c().changedTouches);for(var n,s=0,r=t?t.length:0;s<r;++s)if((n=t[s]).identifier===i)return h(e,n);return null}function I(e,t){null==t&&(t=c().touches);for(var i=0,n=t?t.length:0,s=new Array(n);i<n;++i)s[i]=h(e,t[i]);return s}var C=i(62684)},94692:(e,t,i)=>{"use strict";function n(e){return function(){return this.matches(e)}}i.d(t,{A:()=>n})},76357:(e,t,i)=>{"use strict";i.d(t,{A:()=>s});var n=i(48176);function s(e){var t=e+="",i=t.indexOf(":");return i>=0&&"xmlns"!==(t=e.slice(0,i))&&(e=e.slice(i+1)),n.A.hasOwnProperty(t)?{space:n.A[t],local:e}:e}},48176:(e,t,i)=>{"use strict";i.d(t,{A:()=>s,g:()=>n});var n="http://www.w3.org/1999/xhtml";const s={svg:"http://www.w3.org/2000/svg",xhtml:n,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"}},97204:(e,t,i)=>{"use strict";i.d(t,{A:()=>s});var n=i(32906);function s(e){return"string"==typeof e?new n.LN([[document.querySelector(e)]],[document.documentElement]):new n.LN([[e]],n.zr)}},9181:(e,t,i)=>{"use strict";i.d(t,{A:()=>s});var n=i(32906);function s(e){return"string"==typeof e?new n.LN([document.querySelectorAll(e)],[document.documentElement]):new n.LN([null==e?[]:e],n.zr)}},32906:(e,t,i)=>{"use strict";i.d(t,{LN:()=>$,Ay:()=>X,zr:()=>Y});var n=i(9729);var s=i(51118);var r=i(94692);function o(e){return new Array(e.length)}function a(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}a.prototype={constructor:a,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function l(e,t,i,n,s,r){for(var o,l=0,d=t.length,u=r.length;l<u;++l)(o=t[l])?(o.__data__=r[l],n[l]=o):i[l]=new a(e,r[l]);for(;l<d;++l)(o=t[l])&&(s[l]=o)}function d(e,t,i,n,s,r,o){var l,d,u,c={},h=t.length,p=r.length,_=new Array(h);for(l=0;l<h;++l)(d=t[l])&&(_[l]=u="$"+o.call(d,d.__data__,l,t),u in c?s[l]=d:c[u]=d);for(l=0;l<p;++l)(d=c[u="$"+o.call(e,r[l],l,r)])?(n[l]=d,d.__data__=r[l],c[u]=null):i[l]=new a(e,r[l]);for(l=0;l<h;++l)(d=t[l])&&c[_[l]]===d&&(s[l]=d)}function u(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}var c=i(76357);function h(e){return function(){this.removeAttribute(e)}}function p(e){return function(){this.removeAttributeNS(e.space,e.local)}}function _(e,t){return function(){this.setAttribute(e,t)}}function g(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function f(e,t){return function(){var i=t.apply(this,arguments);null==i?this.removeAttribute(e):this.setAttribute(e,i)}}function m(e,t){return function(){var i=t.apply(this,arguments);null==i?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,i)}}var v=i(97626);function A(e){return function(){delete this[e]}}function E(e,t){return function(){this[e]=t}}function T(e,t){return function(){var i=t.apply(this,arguments);null==i?delete this[e]:this[e]=i}}function I(e){return e.trim().split(/^|\s+/)}function C(e){return e.classList||new O(e)}function O(e){this._node=e,this._names=I(e.getAttribute("class")||"")}function M(e,t){for(var i=C(e),n=-1,s=t.length;++n<s;)i.add(t[n])}function y(e,t){for(var i=C(e),n=-1,s=t.length;++n<s;)i.remove(t[n])}function b(e){return function(){M(this,e)}}function S(e){return function(){y(this,e)}}function D(e,t){return function(){(t.apply(this,arguments)?M:y)(this,e)}}function w(){this.textContent=""}function L(e){return function(){this.textContent=e}}function R(e){return function(){var t=e.apply(this,arguments);this.textContent=null==t?"":t}}function P(){this.innerHTML=""}function N(e){return function(){this.innerHTML=e}}function k(e){return function(){var t=e.apply(this,arguments);this.innerHTML=null==t?"":t}}function x(){this.nextSibling&&this.parentNode.appendChild(this)}function V(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}O.prototype={add:function(e){this._names.indexOf(e)<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};var B=i(19134);function H(){return null}function W(){var e=this.parentNode;e&&e.removeChild(this)}function F(){return this.parentNode.insertBefore(this.cloneNode(!1),this.nextSibling)}function U(){return this.parentNode.insertBefore(this.cloneNode(!0),this.nextSibling)}var G=i(92454),j=i(62684);function K(e,t,i){var n=(0,j.A)(e),s=n.CustomEvent;"function"==typeof s?s=new s(t,i):(s=n.document.createEvent("Event"),i?(s.initEvent(t,i.bubbles,i.cancelable),s.detail=i.detail):s.initEvent(t,!1,!1)),e.dispatchEvent(s)}function z(e,t){return function(){return K(this,e,t)}}function Z(e,t){return function(){return K(this,e,t.apply(this,arguments))}}var Y=[null];function $(e,t){this._groups=e,this._parents=t}function q(){return new $([[document.documentElement]],Y)}$.prototype=q.prototype={constructor:$,select:function(e){"function"!=typeof e&&(e=(0,n.A)(e));for(var t=this._groups,i=t.length,s=new Array(i),r=0;r<i;++r)for(var o,a,l=t[r],d=l.length,u=s[r]=new Array(d),c=0;c<d;++c)(o=l[c])&&(a=e.call(o,o.__data__,c,l))&&("__data__"in o&&(a.__data__=o.__data__),u[c]=a);return new $(s,this._parents)},selectAll:function(e){"function"!=typeof e&&(e=(0,s.A)(e));for(var t=this._groups,i=t.length,n=[],r=[],o=0;o<i;++o)for(var a,l=t[o],d=l.length,u=0;u<d;++u)(a=l[u])&&(n.push(e.call(a,a.__data__,u,l)),r.push(a));return new $(n,r)},filter:function(e){"function"!=typeof e&&(e=(0,r.A)(e));for(var t=this._groups,i=t.length,n=new Array(i),s=0;s<i;++s)for(var o,a=t[s],l=a.length,d=n[s]=[],u=0;u<l;++u)(o=a[u])&&e.call(o,o.__data__,u,a)&&d.push(o);return new $(n,this._parents)},data:function(e,t){if(!e)return f=new Array(this.size()),h=-1,this.each((function(e){f[++h]=e})),f;var i,n=t?d:l,s=this._parents,r=this._groups;"function"!=typeof e&&(i=e,e=function(){return i});for(var o=r.length,a=new Array(o),u=new Array(o),c=new Array(o),h=0;h<o;++h){var p=s[h],_=r[h],g=_.length,f=e.call(p,p&&p.__data__,h,s),m=f.length,v=u[h]=new Array(m),A=a[h]=new Array(m);n(p,_,v,A,c[h]=new Array(g),f,t);for(var E,T,I=0,C=0;I<m;++I)if(E=v[I]){for(I>=C&&(C=I+1);!(T=A[C])&&++C<m;);E._next=T||null}}return(a=new $(a,s))._enter=u,a._exit=c,a},enter:function(){return new $(this._enter||this._groups.map(o),this._parents)},exit:function(){return new $(this._exit||this._groups.map(o),this._parents)},join:function(e,t,i){var n=this.enter(),s=this,r=this.exit();return n="function"==typeof e?e(n):n.append(e+""),null!=t&&(s=t(s)),null==i?r.remove():i(r),n&&s?n.merge(s).order():s},merge:function(e){for(var t=this._groups,i=e._groups,n=t.length,s=i.length,r=Math.min(n,s),o=new Array(n),a=0;a<r;++a)for(var l,d=t[a],u=i[a],c=d.length,h=o[a]=new Array(c),p=0;p<c;++p)(l=d[p]||u[p])&&(h[p]=l);for(;a<n;++a)o[a]=t[a];return new $(o,this._parents)},order:function(){for(var e=this._groups,t=-1,i=e.length;++t<i;)for(var n,s=e[t],r=s.length-1,o=s[r];--r>=0;)(n=s[r])&&(o&&4^n.compareDocumentPosition(o)&&o.parentNode.insertBefore(n,o),o=n);return this},sort:function(e){function t(t,i){return t&&i?e(t.__data__,i.__data__):!t-!i}e||(e=u);for(var i=this._groups,n=i.length,s=new Array(n),r=0;r<n;++r){for(var o,a=i[r],l=a.length,d=s[r]=new Array(l),c=0;c<l;++c)(o=a[c])&&(d[c]=o);d.sort(t)}return new $(s,this._parents).order()},call:function(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this},nodes:function(){var e=new Array(this.size()),t=-1;return this.each((function(){e[++t]=this})),e},node:function(){for(var e=this._groups,t=0,i=e.length;t<i;++t)for(var n=e[t],s=0,r=n.length;s<r;++s){var o=n[s];if(o)return o}return null},size:function(){var e=0;return this.each((function(){++e})),e},empty:function(){return!this.node()},each:function(e){for(var t=this._groups,i=0,n=t.length;i<n;++i)for(var s,r=t[i],o=0,a=r.length;o<a;++o)(s=r[o])&&e.call(s,s.__data__,o,r);return this},attr:function(e,t){var i=(0,c.A)(e);if(arguments.length<2){var n=this.node();return i.local?n.getAttributeNS(i.space,i.local):n.getAttribute(i)}return this.each((null==t?i.local?p:h:"function"==typeof t?i.local?m:f:i.local?g:_)(i,t))},style:v.A,property:function(e,t){return arguments.length>1?this.each((null==t?A:"function"==typeof t?T:E)(e,t)):this.node()[e]},classed:function(e,t){var i=I(e+"");if(arguments.length<2){for(var n=C(this.node()),s=-1,r=i.length;++s<r;)if(!n.contains(i[s]))return!1;return!0}return this.each(("function"==typeof t?D:t?b:S)(i,t))},text:function(e){return arguments.length?this.each(null==e?w:("function"==typeof e?R:L)(e)):this.node().textContent},html:function(e){return arguments.length?this.each(null==e?P:("function"==typeof e?k:N)(e)):this.node().innerHTML},raise:function(){return this.each(x)},lower:function(){return this.each(V)},append:function(e){var t="function"==typeof e?e:(0,B.A)(e);return this.select((function(){return this.appendChild(t.apply(this,arguments))}))},insert:function(e,t){var i="function"==typeof e?e:(0,B.A)(e),s=null==t?H:"function"==typeof t?t:(0,n.A)(t);return this.select((function(){return this.insertBefore(i.apply(this,arguments),s.apply(this,arguments)||null)}))},remove:function(){return this.each(W)},clone:function(e){return this.select(e?U:F)},datum:function(e){return arguments.length?this.property("__data__",e):this.node().__data__},on:G.Ay,dispatch:function(e,t){return this.each(("function"==typeof t?Z:z)(e,t))}};const X=q},92454:(e,t,i)=>{"use strict";i.d(t,{Ay:()=>d,ex:()=>u,f0:()=>s});var n={},s=null;"undefined"!=typeof document&&("onmouseenter"in document.documentElement||(n={mouseenter:"mouseover",mouseleave:"mouseout"}));function r(e,t,i){return e=o(e,t,i),function(t){var i=t.relatedTarget;i&&(i===this||8&i.compareDocumentPosition(this))||e.call(this,t)}}function o(e,t,i){return function(n){var r=s;s=n;try{e.call(this,this.__data__,t,i)}finally{s=r}}}function a(e){return function(){var t=this.__on;if(t){for(var i,n=0,s=-1,r=t.length;n<r;++n)i=t[n],e.type&&i.type!==e.type||i.name!==e.name?t[++s]=i:this.removeEventListener(i.type,i.listener,i.capture);++s?t.length=s:delete this.__on}}}function l(e,t,i){var s=n.hasOwnProperty(e.type)?r:o;return function(n,r,o){var a,l=this.__on,d=s(t,r,o);if(l)for(var u=0,c=l.length;u<c;++u)if((a=l[u]).type===e.type&&a.name===e.name)return this.removeEventListener(a.type,a.listener,a.capture),this.addEventListener(a.type,a.listener=d,a.capture=i),void(a.value=t);this.addEventListener(e.type,d,i),a={type:e.type,name:e.name,value:t,listener:d,capture:i},l?l.push(a):this.__on=[a]}}function d(e,t,i){var n,s,r=function(e){return e.trim().split(/^|\s+/).map((function(e){var t="",i=e.indexOf(".");return i>=0&&(t=e.slice(i+1),e=e.slice(0,i)),{type:e,name:t}}))}(e+""),o=r.length;if(!(arguments.length<2)){for(d=t?l:a,null==i&&(i=!1),n=0;n<o;++n)this.each(d(r[n],t,i));return this}var d=this.node().__on;if(d)for(var u,c=0,h=d.length;c<h;++c)for(n=0,u=d[c];n<o;++n)if((s=r[n]).type===u.type&&s.name===u.name)return u.value}function u(e,t,i,n){var r=s;e.sourceEvent=s,s=e;try{return t.apply(i,n)}finally{s=r}}},97626:(e,t,i)=>{"use strict";i.d(t,{A:()=>a,j:()=>l});var n=i(62684);function s(e){return function(){this.style.removeProperty(e)}}function r(e,t,i){return function(){this.style.setProperty(e,t,i)}}function o(e,t,i){return function(){var n=t.apply(this,arguments);null==n?this.style.removeProperty(e):this.style.setProperty(e,n,i)}}function a(e,t,i){return arguments.length>1?this.each((null==t?s:"function"==typeof t?o:r)(e,t,null==i?"":i)):l(this.node(),e)}function l(e,t){return e.style.getPropertyValue(t)||(0,n.A)(e).getComputedStyle(e,null).getPropertyValue(t)}},9729:(e,t,i)=>{"use strict";function n(){}function s(e){return null==e?n:function(){return this.querySelector(e)}}i.d(t,{A:()=>s})},51118:(e,t,i)=>{"use strict";function n(){return[]}function s(e){return null==e?n:function(){return this.querySelectorAll(e)}}i.d(t,{A:()=>s})},62684:(e,t,i)=>{"use strict";function n(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}i.d(t,{A:()=>n})},84653:(e,t,i)=>{"use strict";function n(e){return function(){return e}}i.d(t,{A:()=>n})},71228:(e,t,i)=>{"use strict";function n(e){this._context=e}function s(e){return new n(e)}i.d(t,{A:()=>s}),n.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t)}}}},96176:(e,t,i)=>{"use strict";i.r(t),i.d(t,{arc:()=>C,area:()=>b,areaRadial:()=>x,curveBasis:()=>fe,curveBasisClosed:()=>ve,curveBasisOpen:()=>Ee,curveBundle:()=>Ie,curveCardinal:()=>Me,curveCardinalClosed:()=>be,curveCardinalOpen:()=>De,curveCatmullRom:()=>Re,curveCatmullRomClosed:()=>Ne,curveCatmullRomOpen:()=>xe,curveLinear:()=>O.A,curveLinearClosed:()=>Be,curveMonotoneX:()=>ze,curveMonotoneY:()=>Ze,curveNatural:()=>qe,curveStep:()=>Je,curveStepAfter:()=>et,curveStepBefore:()=>Qe,line:()=>M.A,lineRadial:()=>k,linkHorizontal:()=>K,linkRadial:()=>Z,linkVertical:()=>z,pie:()=>w,pointRadial:()=>V,radialArea:()=>x,radialLine:()=>k,stack:()=>st,stackOffsetDiverging:()=>ot,stackOffsetExpand:()=>rt,stackOffsetNone:()=>tt,stackOffsetSilhouette:()=>at,stackOffsetWiggle:()=>lt,stackOrderAppearance:()=>dt,stackOrderAscending:()=>ct,stackOrderDescending:()=>pt,stackOrderInsideOut:()=>_t,stackOrderNone:()=>it,stackOrderReverse:()=>gt,symbol:()=>he,symbolCircle:()=>Y,symbolCross:()=>$,symbolDiamond:()=>J,symbolSquare:()=>ne,symbolStar:()=>ie,symbolTriangle:()=>re,symbolWye:()=>ue,symbols:()=>ce});var n=i(69450),s=i(84653),r=Math.abs,o=Math.atan2,a=Math.cos,l=Math.max,d=Math.min,u=Math.sin,c=Math.sqrt,h=1e-12,p=Math.PI,_=p/2,g=2*p;function f(e){return e>=1?_:e<=-1?-_:Math.asin(e)}function m(e){return e.innerRadius}function v(e){return e.outerRadius}function A(e){return e.startAngle}function E(e){return e.endAngle}function T(e){return e&&e.padAngle}function I(e,t,i,n,s,r,o){var a=e-i,d=t-n,u=(o?r:-r)/c(a*a+d*d),h=u*d,p=-u*a,_=e+h,g=t+p,f=i+h,m=n+p,v=(_+f)/2,A=(g+m)/2,E=f-_,T=m-g,I=E*E+T*T,C=s-r,O=_*m-f*g,M=(T<0?-1:1)*c(l(0,C*C*I-O*O)),y=(O*T-E*M)/I,b=(-O*E-T*M)/I,S=(O*T+E*M)/I,D=(-O*E+T*M)/I,w=y-v,L=b-A,R=S-v,P=D-A;return w*w+L*L>R*R+P*P&&(y=S,b=D),{cx:y,cy:b,x01:-h,y01:-p,x11:y*(s/C-1),y11:b*(s/C-1)}}function C(){var e=m,t=v,i=(0,s.A)(0),l=null,C=A,O=E,M=T,y=null;function b(){var s,m,v,A=+e.apply(this,arguments),E=+t.apply(this,arguments),T=C.apply(this,arguments)-_,b=O.apply(this,arguments)-_,S=r(b-T),D=b>T;if(y||(y=s=(0,n.A)()),E<A&&(m=E,E=A,A=m),E>h)if(S>g-h)y.moveTo(E*a(T),E*u(T)),y.arc(0,0,E,T,b,!D),A>h&&(y.moveTo(A*a(b),A*u(b)),y.arc(0,0,A,b,T,D));else{var w,L,R=T,P=b,N=T,k=b,x=S,V=S,B=M.apply(this,arguments)/2,H=B>h&&(l?+l.apply(this,arguments):c(A*A+E*E)),W=d(r(E-A)/2,+i.apply(this,arguments)),F=W,U=W;if(H>h){var G=f(H/A*u(B)),j=f(H/E*u(B));(x-=2*G)>h?(N+=G*=D?1:-1,k-=G):(x=0,N=k=(T+b)/2),(V-=2*j)>h?(R+=j*=D?1:-1,P-=j):(V=0,R=P=(T+b)/2)}var K=E*a(R),z=E*u(R),Z=A*a(k),Y=A*u(k);if(W>h){var $,q=E*a(P),X=E*u(P),J=A*a(N),Q=A*u(N);if(S<p&&($=function(e,t,i,n,s,r,o,a){var l=i-e,d=n-t,u=o-s,c=a-r,p=c*l-u*d;if(!(p*p<h))return[e+(p=(u*(t-r)-c*(e-s))/p)*l,t+p*d]}(K,z,J,Q,q,X,Z,Y))){var ee=K-$[0],te=z-$[1],ie=q-$[0],ne=X-$[1],se=1/u(((v=(ee*ie+te*ne)/(c(ee*ee+te*te)*c(ie*ie+ne*ne)))>1?0:v<-1?p:Math.acos(v))/2),re=c($[0]*$[0]+$[1]*$[1]);F=d(W,(A-re)/(se-1)),U=d(W,(E-re)/(se+1))}}V>h?U>h?(w=I(J,Q,K,z,E,U,D),L=I(q,X,Z,Y,E,U,D),y.moveTo(w.cx+w.x01,w.cy+w.y01),U<W?y.arc(w.cx,w.cy,U,o(w.y01,w.x01),o(L.y01,L.x01),!D):(y.arc(w.cx,w.cy,U,o(w.y01,w.x01),o(w.y11,w.x11),!D),y.arc(0,0,E,o(w.cy+w.y11,w.cx+w.x11),o(L.cy+L.y11,L.cx+L.x11),!D),y.arc(L.cx,L.cy,U,o(L.y11,L.x11),o(L.y01,L.x01),!D))):(y.moveTo(K,z),y.arc(0,0,E,R,P,!D)):y.moveTo(K,z),A>h&&x>h?F>h?(w=I(Z,Y,q,X,A,-F,D),L=I(K,z,J,Q,A,-F,D),y.lineTo(w.cx+w.x01,w.cy+w.y01),F<W?y.arc(w.cx,w.cy,F,o(w.y01,w.x01),o(L.y01,L.x01),!D):(y.arc(w.cx,w.cy,F,o(w.y01,w.x01),o(w.y11,w.x11),!D),y.arc(0,0,A,o(w.cy+w.y11,w.cx+w.x11),o(L.cy+L.y11,L.cx+L.x11),D),y.arc(L.cx,L.cy,F,o(L.y11,L.x11),o(L.y01,L.x01),!D))):y.arc(0,0,A,k,N,D):y.lineTo(Z,Y)}else y.moveTo(0,0);if(y.closePath(),s)return y=null,s+""||null}return b.centroid=function(){var i=(+e.apply(this,arguments)+ +t.apply(this,arguments))/2,n=(+C.apply(this,arguments)+ +O.apply(this,arguments))/2-p/2;return[a(n)*i,u(n)*i]},b.innerRadius=function(t){return arguments.length?(e="function"==typeof t?t:(0,s.A)(+t),b):e},b.outerRadius=function(e){return arguments.length?(t="function"==typeof e?e:(0,s.A)(+e),b):t},b.cornerRadius=function(e){return arguments.length?(i="function"==typeof e?e:(0,s.A)(+e),b):i},b.padRadius=function(e){return arguments.length?(l=null==e?null:"function"==typeof e?e:(0,s.A)(+e),b):l},b.startAngle=function(e){return arguments.length?(C="function"==typeof e?e:(0,s.A)(+e),b):C},b.endAngle=function(e){return arguments.length?(O="function"==typeof e?e:(0,s.A)(+e),b):O},b.padAngle=function(e){return arguments.length?(M="function"==typeof e?e:(0,s.A)(+e),b):M},b.context=function(e){return arguments.length?(y=null==e?null:e,b):y},b}var O=i(71228),M=i(58679),y=i(59835);function b(){var e=y.x,t=null,i=(0,s.A)(0),r=y.y,o=(0,s.A)(!0),a=null,l=O.A,d=null;function u(s){var u,c,h,p,_,g=s.length,f=!1,m=new Array(g),v=new Array(g);for(null==a&&(d=l(_=(0,n.A)())),u=0;u<=g;++u){if(!(u<g&&o(p=s[u],u,s))===f)if(f=!f)c=u,d.areaStart(),d.lineStart();else{for(d.lineEnd(),d.lineStart(),h=u-1;h>=c;--h)d.point(m[h],v[h]);d.lineEnd(),d.areaEnd()}f&&(m[u]=+e(p,u,s),v[u]=+i(p,u,s),d.point(t?+t(p,u,s):m[u],r?+r(p,u,s):v[u]))}if(_)return d=null,_+""||null}function c(){return(0,M.A)().defined(o).curve(l).context(a)}return u.x=function(i){return arguments.length?(e="function"==typeof i?i:(0,s.A)(+i),t=null,u):e},u.x0=function(t){return arguments.length?(e="function"==typeof t?t:(0,s.A)(+t),u):e},u.x1=function(e){return arguments.length?(t=null==e?null:"function"==typeof e?e:(0,s.A)(+e),u):t},u.y=function(e){return arguments.length?(i="function"==typeof e?e:(0,s.A)(+e),r=null,u):i},u.y0=function(e){return arguments.length?(i="function"==typeof e?e:(0,s.A)(+e),u):i},u.y1=function(e){return arguments.length?(r=null==e?null:"function"==typeof e?e:(0,s.A)(+e),u):r},u.lineX0=u.lineY0=function(){return c().x(e).y(i)},u.lineY1=function(){return c().x(e).y(r)},u.lineX1=function(){return c().x(t).y(i)},u.defined=function(e){return arguments.length?(o="function"==typeof e?e:(0,s.A)(!!e),u):o},u.curve=function(e){return arguments.length?(l=e,null!=a&&(d=l(a)),u):l},u.context=function(e){return arguments.length?(null==e?a=d=null:d=l(a=e),u):a},u}function S(e,t){return t<e?-1:t>e?1:t>=e?0:NaN}function D(e){return e}function w(){var e=D,t=S,i=null,n=(0,s.A)(0),r=(0,s.A)(g),o=(0,s.A)(0);function a(s){var a,l,d,u,c,h=s.length,p=0,_=new Array(h),f=new Array(h),m=+n.apply(this,arguments),v=Math.min(g,Math.max(-g,r.apply(this,arguments)-m)),A=Math.min(Math.abs(v)/h,o.apply(this,arguments)),E=A*(v<0?-1:1);for(a=0;a<h;++a)(c=f[_[a]=a]=+e(s[a],a,s))>0&&(p+=c);for(null!=t?_.sort((function(e,i){return t(f[e],f[i])})):null!=i&&_.sort((function(e,t){return i(s[e],s[t])})),a=0,d=p?(v-h*E)/p:0;a<h;++a,m=u)l=_[a],u=m+((c=f[l])>0?c*d:0)+E,f[l]={data:s[l],index:a,value:c,startAngle:m,endAngle:u,padAngle:A};return f}return a.value=function(t){return arguments.length?(e="function"==typeof t?t:(0,s.A)(+t),a):e},a.sortValues=function(e){return arguments.length?(t=e,i=null,a):t},a.sort=function(e){return arguments.length?(i=e,t=null,a):i},a.startAngle=function(e){return arguments.length?(n="function"==typeof e?e:(0,s.A)(+e),a):n},a.endAngle=function(e){return arguments.length?(r="function"==typeof e?e:(0,s.A)(+e),a):r},a.padAngle=function(e){return arguments.length?(o="function"==typeof e?e:(0,s.A)(+e),a):o},a}var L=P(O.A);function R(e){this._curve=e}function P(e){function t(t){return new R(e(t))}return t._curve=e,t}function N(e){var t=e.curve;return e.angle=e.x,delete e.x,e.radius=e.y,delete e.y,e.curve=function(e){return arguments.length?t(P(e)):t()._curve},e}function k(){return N((0,M.A)().curve(L))}function x(){var e=b().curve(L),t=e.curve,i=e.lineX0,n=e.lineX1,s=e.lineY0,r=e.lineY1;return e.angle=e.x,delete e.x,e.startAngle=e.x0,delete e.x0,e.endAngle=e.x1,delete e.x1,e.radius=e.y,delete e.y,e.innerRadius=e.y0,delete e.y0,e.outerRadius=e.y1,delete e.y1,e.lineStartAngle=function(){return N(i())},delete e.lineX0,e.lineEndAngle=function(){return N(n())},delete e.lineX1,e.lineInnerRadius=function(){return N(s())},delete e.lineY0,e.lineOuterRadius=function(){return N(r())},delete e.lineY1,e.curve=function(e){return arguments.length?t(P(e)):t()._curve},e}function V(e,t){return[(t=+t)*Math.cos(e-=Math.PI/2),t*Math.sin(e)]}R.prototype={areaStart:function(){this._curve.areaStart()},areaEnd:function(){this._curve.areaEnd()},lineStart:function(){this._curve.lineStart()},lineEnd:function(){this._curve.lineEnd()},point:function(e,t){this._curve.point(t*Math.sin(e),t*-Math.cos(e))}};var B=Array.prototype.slice;function H(e){return e.source}function W(e){return e.target}function F(e){var t=H,i=W,r=y.x,o=y.y,a=null;function l(){var s,l=B.call(arguments),d=t.apply(this,l),u=i.apply(this,l);if(a||(a=s=(0,n.A)()),e(a,+r.apply(this,(l[0]=d,l)),+o.apply(this,l),+r.apply(this,(l[0]=u,l)),+o.apply(this,l)),s)return a=null,s+""||null}return l.source=function(e){return arguments.length?(t=e,l):t},l.target=function(e){return arguments.length?(i=e,l):i},l.x=function(e){return arguments.length?(r="function"==typeof e?e:(0,s.A)(+e),l):r},l.y=function(e){return arguments.length?(o="function"==typeof e?e:(0,s.A)(+e),l):o},l.context=function(e){return arguments.length?(a=null==e?null:e,l):a},l}function U(e,t,i,n,s){e.moveTo(t,i),e.bezierCurveTo(t=(t+n)/2,i,t,s,n,s)}function G(e,t,i,n,s){e.moveTo(t,i),e.bezierCurveTo(t,i=(i+s)/2,n,i,n,s)}function j(e,t,i,n,s){var r=V(t,i),o=V(t,i=(i+s)/2),a=V(n,i),l=V(n,s);e.moveTo(r[0],r[1]),e.bezierCurveTo(o[0],o[1],a[0],a[1],l[0],l[1])}function K(){return F(U)}function z(){return F(G)}function Z(){var e=F(j);return e.angle=e.x,delete e.x,e.radius=e.y,delete e.y,e}const Y={draw:function(e,t){var i=Math.sqrt(t/p);e.moveTo(i,0),e.arc(0,0,i,0,g)}},$={draw:function(e,t){var i=Math.sqrt(t/5)/2;e.moveTo(-3*i,-i),e.lineTo(-i,-i),e.lineTo(-i,-3*i),e.lineTo(i,-3*i),e.lineTo(i,-i),e.lineTo(3*i,-i),e.lineTo(3*i,i),e.lineTo(i,i),e.lineTo(i,3*i),e.lineTo(-i,3*i),e.lineTo(-i,i),e.lineTo(-3*i,i),e.closePath()}};var q=Math.sqrt(1/3),X=2*q;const J={draw:function(e,t){var i=Math.sqrt(t/X),n=i*q;e.moveTo(0,-i),e.lineTo(n,0),e.lineTo(0,i),e.lineTo(-n,0),e.closePath()}};var Q=Math.sin(p/10)/Math.sin(7*p/10),ee=Math.sin(g/10)*Q,te=-Math.cos(g/10)*Q;const ie={draw:function(e,t){var i=Math.sqrt(.8908130915292852*t),n=ee*i,s=te*i;e.moveTo(0,-i),e.lineTo(n,s);for(var r=1;r<5;++r){var o=g*r/5,a=Math.cos(o),l=Math.sin(o);e.lineTo(l*i,-a*i),e.lineTo(a*n-l*s,l*n+a*s)}e.closePath()}},ne={draw:function(e,t){var i=Math.sqrt(t),n=-i/2;e.rect(n,n,i,i)}};var se=Math.sqrt(3);const re={draw:function(e,t){var i=-Math.sqrt(t/(3*se));e.moveTo(0,2*i),e.lineTo(-se*i,-i),e.lineTo(se*i,-i),e.closePath()}};var oe=-.5,ae=Math.sqrt(3)/2,le=1/Math.sqrt(12),de=3*(le/2+1);const ue={draw:function(e,t){var i=Math.sqrt(t/de),n=i/2,s=i*le,r=n,o=i*le+i,a=-r,l=o;e.moveTo(n,s),e.lineTo(r,o),e.lineTo(a,l),e.lineTo(oe*n-ae*s,ae*n+oe*s),e.lineTo(oe*r-ae*o,ae*r+oe*o),e.lineTo(oe*a-ae*l,ae*a+oe*l),e.lineTo(oe*n+ae*s,oe*s-ae*n),e.lineTo(oe*r+ae*o,oe*o-ae*r),e.lineTo(oe*a+ae*l,oe*l-ae*a),e.closePath()}};var ce=[Y,$,J,ne,ie,re,ue];function he(){var e=(0,s.A)(Y),t=(0,s.A)(64),i=null;function r(){var s;if(i||(i=s=(0,n.A)()),e.apply(this,arguments).draw(i,+t.apply(this,arguments)),s)return i=null,s+""||null}return r.type=function(t){return arguments.length?(e="function"==typeof t?t:(0,s.A)(t),r):e},r.size=function(e){return arguments.length?(t="function"==typeof e?e:(0,s.A)(+e),r):t},r.context=function(e){return arguments.length?(i=null==e?null:e,r):i},r}function pe(){}function _e(e,t,i){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+i)/6)}function ge(e){this._context=e}function fe(e){return new ge(e)}function me(e){this._context=e}function ve(e){return new me(e)}function Ae(e){this._context=e}function Ee(e){return new Ae(e)}function Te(e,t){this._basis=new ge(e),this._beta=t}ge.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:_e(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:_e(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}},me.prototype={areaStart:pe,areaEnd:pe,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,this._y2),this._context.closePath();break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4)}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:_e(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}},Ae.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var i=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(i,n):this._context.moveTo(i,n);break;case 3:this._point=4;default:_e(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}},Te.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var e=this._x,t=this._y,i=e.length-1;if(i>0)for(var n,s=e[0],r=t[0],o=e[i]-s,a=t[i]-r,l=-1;++l<=i;)n=l/i,this._basis.point(this._beta*e[l]+(1-this._beta)*(s+n*o),this._beta*t[l]+(1-this._beta)*(r+n*a));this._x=this._y=null,this._basis.lineEnd()},point:function(e,t){this._x.push(+e),this._y.push(+t)}};const Ie=function e(t){function i(e){return 1===t?new ge(e):new Te(e,t)}return i.beta=function(t){return e(+t)},i}(.85);function Ce(e,t,i){e._context.bezierCurveTo(e._x1+e._k*(e._x2-e._x0),e._y1+e._k*(e._y2-e._y0),e._x2+e._k*(e._x1-t),e._y2+e._k*(e._y1-i),e._x2,e._y2)}function Oe(e,t){this._context=e,this._k=(1-t)/6}Oe.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:Ce(this,this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2,this._x1=e,this._y1=t;break;case 2:this._point=3;default:Ce(this,e,t)}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const Me=function e(t){function i(e){return new Oe(e,t)}return i.tension=function(t){return e(+t)},i}(0);function ye(e,t){this._context=e,this._k=(1-t)/6}ye.prototype={areaStart:pe,areaEnd:pe,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:Ce(this,e,t)}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const be=function e(t){function i(e){return new ye(e,t)}return i.tension=function(t){return e(+t)},i}(0);function Se(e,t){this._context=e,this._k=(1-t)/6}Se.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:Ce(this,e,t)}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const De=function e(t){function i(e){return new Se(e,t)}return i.tension=function(t){return e(+t)},i}(0);function we(e,t,i){var n=e._x1,s=e._y1,r=e._x2,o=e._y2;if(e._l01_a>h){var a=2*e._l01_2a+3*e._l01_a*e._l12_a+e._l12_2a,l=3*e._l01_a*(e._l01_a+e._l12_a);n=(n*a-e._x0*e._l12_2a+e._x2*e._l01_2a)/l,s=(s*a-e._y0*e._l12_2a+e._y2*e._l01_2a)/l}if(e._l23_a>h){var d=2*e._l23_2a+3*e._l23_a*e._l12_a+e._l12_2a,u=3*e._l23_a*(e._l23_a+e._l12_a);r=(r*d+e._x1*e._l23_2a-t*e._l12_2a)/u,o=(o*d+e._y1*e._l23_2a-i*e._l12_2a)/u}e._context.bezierCurveTo(n,s,r,o,e._x2,e._y2)}function Le(e,t){this._context=e,this._alpha=t}Le.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){if(e=+e,t=+t,this._point){var i=this._x2-e,n=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(i*i+n*n,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3;default:we(this,e,t)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const Re=function e(t){function i(e){return t?new Le(e,t):new Oe(e,0)}return i.alpha=function(t){return e(+t)},i}(.5);function Pe(e,t){this._context=e,this._alpha=t}Pe.prototype={areaStart:pe,areaEnd:pe,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(e,t){if(e=+e,t=+t,this._point){var i=this._x2-e,n=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(i*i+n*n,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:we(this,e,t)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const Ne=function e(t){function i(e){return t?new Pe(e,t):new ye(e,0)}return i.alpha=function(t){return e(+t)},i}(.5);function ke(e,t){this._context=e,this._alpha=t}ke.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){if(e=+e,t=+t,this._point){var i=this._x2-e,n=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(i*i+n*n,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:we(this,e,t)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const xe=function e(t){function i(e){return t?new ke(e,t):new Se(e,0)}return i.alpha=function(t){return e(+t)},i}(.5);function Ve(e){this._context=e}function Be(e){return new Ve(e)}function He(e){return e<0?-1:1}function We(e,t,i){var n=e._x1-e._x0,s=t-e._x1,r=(e._y1-e._y0)/(n||s<0&&-0),o=(i-e._y1)/(s||n<0&&-0),a=(r*s+o*n)/(n+s);return(He(r)+He(o))*Math.min(Math.abs(r),Math.abs(o),.5*Math.abs(a))||0}function Fe(e,t){var i=e._x1-e._x0;return i?(3*(e._y1-e._y0)/i-t)/2:t}function Ue(e,t,i){var n=e._x0,s=e._y0,r=e._x1,o=e._y1,a=(r-n)/3;e._context.bezierCurveTo(n+a,s+a*t,r-a,o-a*i,r,o)}function Ge(e){this._context=e}function je(e){this._context=new Ke(e)}function Ke(e){this._context=e}function ze(e){return new Ge(e)}function Ze(e){return new je(e)}function Ye(e){this._context=e}function $e(e){var t,i,n=e.length-1,s=new Array(n),r=new Array(n),o=new Array(n);for(s[0]=0,r[0]=2,o[0]=e[0]+2*e[1],t=1;t<n-1;++t)s[t]=1,r[t]=4,o[t]=4*e[t]+2*e[t+1];for(s[n-1]=2,r[n-1]=7,o[n-1]=8*e[n-1]+e[n],t=1;t<n;++t)i=s[t]/r[t-1],r[t]-=i,o[t]-=i*o[t-1];for(s[n-1]=o[n-1]/r[n-1],t=n-2;t>=0;--t)s[t]=(o[t]-s[t+1])/r[t];for(r[n-1]=(e[n]+s[n-1])/2,t=0;t<n-1;++t)r[t]=2*e[t+1]-s[t+1];return[s,r]}function qe(e){return new Ye(e)}function Xe(e,t){this._context=e,this._t=t}function Je(e){return new Xe(e,.5)}function Qe(e){return new Xe(e,0)}function et(e){return new Xe(e,1)}function tt(e,t){if((s=e.length)>1)for(var i,n,s,r=1,o=e[t[0]],a=o.length;r<s;++r)for(n=o,o=e[t[r]],i=0;i<a;++i)o[i][1]+=o[i][0]=isNaN(n[i][1])?n[i][0]:n[i][1]}function it(e){for(var t=e.length,i=new Array(t);--t>=0;)i[t]=t;return i}function nt(e,t){return e[t]}function st(){var e=(0,s.A)([]),t=it,i=tt,n=nt;function r(s){var r,o,a=e.apply(this,arguments),l=s.length,d=a.length,u=new Array(d);for(r=0;r<d;++r){for(var c,h=a[r],p=u[r]=new Array(l),_=0;_<l;++_)p[_]=c=[0,+n(s[_],h,_,s)],c.data=s[_];p.key=h}for(r=0,o=t(u);r<d;++r)u[o[r]].index=r;return i(u,o),u}return r.keys=function(t){return arguments.length?(e="function"==typeof t?t:(0,s.A)(B.call(t)),r):e},r.value=function(e){return arguments.length?(n="function"==typeof e?e:(0,s.A)(+e),r):n},r.order=function(e){return arguments.length?(t=null==e?it:"function"==typeof e?e:(0,s.A)(B.call(e)),r):t},r.offset=function(e){return arguments.length?(i=null==e?tt:e,r):i},r}function rt(e,t){if((n=e.length)>0){for(var i,n,s,r=0,o=e[0].length;r<o;++r){for(s=i=0;i<n;++i)s+=e[i][r][1]||0;if(s)for(i=0;i<n;++i)e[i][r][1]/=s}tt(e,t)}}function ot(e,t){if((a=e.length)>0)for(var i,n,s,r,o,a,l=0,d=e[t[0]].length;l<d;++l)for(r=o=0,i=0;i<a;++i)(s=(n=e[t[i]][l])[1]-n[0])>=0?(n[0]=r,n[1]=r+=s):s<0?(n[1]=o,n[0]=o+=s):n[0]=r}function at(e,t){if((i=e.length)>0){for(var i,n=0,s=e[t[0]],r=s.length;n<r;++n){for(var o=0,a=0;o<i;++o)a+=e[o][n][1]||0;s[n][1]+=s[n][0]=-a/2}tt(e,t)}}function lt(e,t){if((s=e.length)>0&&(n=(i=e[t[0]]).length)>0){for(var i,n,s,r=0,o=1;o<n;++o){for(var a=0,l=0,d=0;a<s;++a){for(var u=e[t[a]],c=u[o][1]||0,h=(c-(u[o-1][1]||0))/2,p=0;p<a;++p){var _=e[t[p]];h+=(_[o][1]||0)-(_[o-1][1]||0)}l+=c,d+=h*c}i[o-1][1]+=i[o-1][0]=r,l&&(r-=d/l)}i[o-1][1]+=i[o-1][0]=r,tt(e,t)}}function dt(e){var t=e.map(ut);return it(e).sort((function(e,i){return t[e]-t[i]}))}function ut(e){for(var t,i=-1,n=0,s=e.length,r=-1/0;++i<s;)(t=+e[i][1])>r&&(r=t,n=i);return n}function ct(e){var t=e.map(ht);return it(e).sort((function(e,i){return t[e]-t[i]}))}function ht(e){for(var t,i=0,n=-1,s=e.length;++n<s;)(t=+e[n][1])&&(i+=t);return i}function pt(e){return ct(e).reverse()}function _t(e){var t,i,n=e.length,s=e.map(ht),r=dt(e),o=0,a=0,l=[],d=[];for(t=0;t<n;++t)i=r[t],o<a?(o+=s[i],l.push(i)):(a+=s[i],d.push(i));return d.reverse().concat(l)}function gt(e){return it(e).reverse()}Ve.prototype={areaStart:pe,areaEnd:pe,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}},Ge.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Ue(this,this._t0,Fe(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var i=NaN;if(t=+t,(e=+e)!==this._x1||t!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,Ue(this,Fe(this,i=We(this,e,t)),i);break;default:Ue(this,this._t0,i=We(this,e,t))}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=i}}},(je.prototype=Object.create(Ge.prototype)).point=function(e,t){Ge.prototype.point.call(this,t,e)},Ke.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,i,n,s,r){this._context.bezierCurveTo(t,e,n,i,r,s)}},Ye.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,i=e.length;if(i)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),2===i)this._context.lineTo(e[1],t[1]);else for(var n=$e(e),s=$e(t),r=0,o=1;o<i;++r,++o)this._context.bezierCurveTo(n[0][r],s[0][r],n[1][r],s[1][r],e[o],t[o]);(this._line||0!==this._line&&1===i)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}},Xe.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&2===this._point&&this._context.lineTo(this._x,this._y),(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var i=this._x*(1-this._t)+e*this._t;this._context.lineTo(i,this._y),this._context.lineTo(i,t)}}this._x=e,this._y=t}}},58679:(e,t,i)=>{"use strict";i.d(t,{A:()=>a});var n=i(69450),s=i(84653),r=i(71228),o=i(59835);function a(){var e=o.x,t=o.y,i=(0,s.A)(!0),a=null,l=r.A,d=null;function u(s){var r,o,u,c=s.length,h=!1;for(null==a&&(d=l(u=(0,n.A)())),r=0;r<=c;++r)!(r<c&&i(o=s[r],r,s))===h&&((h=!h)?d.lineStart():d.lineEnd()),h&&d.point(+e(o,r,s),+t(o,r,s));if(u)return d=null,u+""||null}return u.x=function(t){return arguments.length?(e="function"==typeof t?t:(0,s.A)(+t),u):e},u.y=function(e){return arguments.length?(t="function"==typeof e?e:(0,s.A)(+e),u):t},u.defined=function(e){return arguments.length?(i="function"==typeof e?e:(0,s.A)(!!e),u):i},u.curve=function(e){return arguments.length?(l=e,null!=a&&(d=l(a)),u):l},u.context=function(e){return arguments.length?(null==e?a=d=null:d=l(a=e),u):a},u}},59835:(e,t,i)=>{"use strict";function n(e){return e[0]}function s(e){return e[1]}i.d(t,{x:()=>n,y:()=>s})},4146:(e,t,i)=>{"use strict";var n=i(44363),s={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},r={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},o={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},a={};function l(e){return n.isMemo(e)?o:a[e.$$typeof]||s}a[n.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},a[n.Memo]=o;var d=Object.defineProperty,u=Object.getOwnPropertyNames,c=Object.getOwnPropertySymbols,h=Object.getOwnPropertyDescriptor,p=Object.getPrototypeOf,_=Object.prototype;e.exports=function e(t,i,n){if("string"!=typeof i){if(_){var s=p(i);s&&s!==_&&e(t,s,n)}var o=u(i);c&&(o=o.concat(c(i)));for(var a=l(t),g=l(i),f=0;f<o.length;++f){var m=o[f];if(!(r[m]||n&&n[m]||g&&g[m]||a&&a[m])){var v=h(i,m);try{d(t,m,v)}catch(A){}}}}return t}},95260:(e,t,i)=>{var n;window,e.exports=(n=i(43130),function(e){var t={};function i(n){if(t[n])return t[n].exports;var s=t[n]={i:n,l:!1,exports:{}};return e[n].call(s.exports,s,s.exports,i),s.l=!0,s.exports}return i.m=e,i.c=t,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)i.d(n,s,function(t){return e[t]}.bind(null,s));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i(i.s=8)}([function(e,t){e.exports=n},function(e,t,i){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};t.__esModule=!0;var s=n(i(0));t.documentReady=function(e){"complete"===document.readyState||"interactive"===document.readyState?e():document.addEventListener("DOMContentLoaded",e,!1)},t.parse=function(e){var t=document.createElement("div");return t.innerHTML=e,t.removeChild(t.firstElementChild)},t.qs=function(e,t){if(s.default.isElement(e))return e;if(s.default.isString(e))return(t||document).querySelector(e);throw new Error("Unrecognised element")},t.qsa=function(e,t){if(s.default.isElement(e))return[e];if(s.default.isArrayLike(e)&&s.default.every(e,s.default.isElement))return s.default.toArray(e);if(s.default.isString(e))return s.default.toArray((t||document).querySelectorAll(e));throw new Error("Unrecognised element")}},function(e,t,i){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};t.__esModule=!0;var s=n(i(0));t.pixels=Object.freeze({from:function(e){if(s.default.isString(e)&&(e=parseFloat(e.replace(/px$/,""))),s.default.isFinite(e))return e;throw new Error("Unrecognised pixel value")},to:function(e){if(s.default.isString(e)&&(e=parseFloat(e.replace(/px$/,""))),s.default.isFinite(e))return e.toString()+"px";throw new Error("Unconvertable value")}}),t.classList=Object.freeze({add:function(e){for(var t,i=[],n=1;n<arguments.length;n++)i[n-1]=arguments[n];if(e.classList&&s.default.isFunction(e.classList.add))(t=e.classList).add.apply(t,i);else{var r=e.className.split(/\s+/);i.forEach((function(t){-1===r.indexOf(t)&&(e.className+=" "+t)}))}},remove:function(e){for(var t,i=[],n=1;n<arguments.length;n++)i[n-1]=arguments[n];if(e.classList&&s.default.isFunction(e.classList.remove))(t=e.classList).remove.apply(t,i);else{var r=s.default.pull.apply(s.default,[e.className.split(/\s+/)].concat(i));e.className=r.join(" ")}}})},function(e,t,i){"use strict";t.__esModule=!0;var n=function(){function e(e,t,i){this._parentMenu=e,this.element=t,this.item=i}return e.prototype.handleReposition=function(){},e.prototype.handleClick=function(){},e.prototype.handleFocusIn=function(){},e.prototype.handleFocusOut=function(){},e.prototype.onDestroy=function(){delete this.element,delete this.item},e}();t.default=n},function(e,t,i){"use strict";var n,s=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};t.__esModule=!0;var o=i(5),a=i(2),l=i(1),d=r(i(3)),u=i(6);t.EXPANDED_CLASS_NAME="ig-menu__menu_item--expanded";var c=function(e){function i(){var t=null!==e&&e.apply(this,arguments)||this;return t.isSubMenuOpen=!1,t}return s(i,e),i.prototype.onInit=function(){o.appendLabel(this.item.content,l.qs(".ig-menu__content",this.element),this.item.allowHTML),a.classList.add(this.element,"ig-menu__menu_item--hoverable"),a.classList.add(this.element,"ig-menu__menu_item--expandable")},i.prototype.handleClick=function(){this.openSubMenu()},i.prototype.handleFocusIn=function(){this.openSubMenu()},i.prototype.handleFocusOut=function(){this._closeSubMenu()},i.prototype.handleReposition=function(){this._closeSubMenu()},i.prototype.onDestroy=function(){this._closeSubMenu(),e.prototype.onDestroy.call(this)},i.prototype.openSubMenu=function(){this.isSubMenuOpen||(this.isSubMenuOpen=!0,this._parentMenu.createSubMenuWithItems(this.element,this.item.items,this.item.id,this.item.chevron),a.classList.add(this.element,t.EXPANDED_CLASS_NAME))},i.prototype._closeSubMenu=function(){this.isSubMenuOpen&&(this._parentMenu.destroySubMenu(),a.classList.remove(this.element,t.EXPANDED_CLASS_NAME),this.isSubMenuOpen=!1)},i}(d.default);t.default=c,t.isBranchController=function(e){return u.isBranch(e.item)}},function(e,t,i){"use strict";t.__esModule=!0;var n=i(2);t.appendLabel=function(e,t,i){void 0===i&&(i=!1);var s=document.createElement("span");n.classList.add(s,"ig-menu__label"),s[i?"innerHTML":"innerText"]=e,t.appendChild(s)}},function(e,t,i){"use strict";t.__esModule=!0;var n=i(0);t.isBranch=function(e){return e.items&&n.isArray(e.items)}},function(e,t,i){"use strict";var n;t.__esModule=!0,function(e){e.LEFT="left",e.RIGHT="right"}(n||(n={})),t.default=n},function(e,t,i){i(9),e.exports=i(10)},function(e,t,i){},function(e,t,i){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},s=n(i(0)),r=i(1),o=n(i(11)),a=n(i(12)),l=n(i(24)),d=i(2),u=function(){function e(){var e=this;this._theme=l.default.LIGHT,this._gracePeriod=new o.default,this._menuContainer=document.createElement("div"),d.classList.add(this._menuContainer,"ig-menu"),this.setTheme(this._theme),r.documentReady((function(){return document.body.appendChild(e._menuContainer)}))}return e.create=function(){return new e},e.prototype.setLang=function(e){return this._menuContainer.setAttribute("lang",e),this},e.prototype.setTheme=function(e){d.classList.remove(this._menuContainer,this._theme),this._theme=l.default.valueOf(e),d.classList.add(this._menuContainer,this._theme)},e.prototype.setItems=function(e){return this._items=e,this._menu&&this._menu.updateItems(e),this},e.prototype.showAt=function(e,t){return this._menu?s.default.invoke(this.lifecycle,"onHide",this):(this._menu=a.default.create(this,this._items||[],this._menuContainer,o.default),document.addEventListener("mousedown",this,!1)),this.lifecycle=t,this._menu.setPosition(e),this._gracePeriod.start(),s.default.invoke(this.lifecycle,"onShow",this),this},e.prototype.hide=function(){return this._menu&&(document.removeEventListener("mousedown",this,!1),s.default.invoke(this.lifecycle,"onHide",this),this._menu.destroy(),delete this.lifecycle,delete this._menu),this},e.prototype.handleEvent=function(e){this._gracePeriod.isOver()&&!this._menuContainer.contains(e.target)&&this.hide()},e.prototype.destroy=function(){var e=this;this.hide(),this._menuContainer&&this._menuContainer.parentNode&&this._menuContainer.parentNode.removeChild(this._menuContainer),Object.keys(this).forEach((function(t){return delete e[t]}))},e}();e.exports=u},function(e,t,i){"use strict";t.__esModule=!0;var n=function(){function e(){}return e.prototype.start=function(){this._shownAtTime=Date.now()},e.prototype.isOver=function(){return Date.now()-this._shownAtTime>e.DURATION},e.DURATION=500,e}();t.default=n},function(e,t,i){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};t.__esModule=!0;var s=i(13),r=i(14),o=i(4),a=i(1),l=n(i(15)),d=n(i(0)),u=i(16),c=n(i(17)),h=i(6),p=n(i(7)),_=i(18),g=n(i(20)),f=n(i(4)),m=n(i(21)),v=i(22),A=n(i(23));function E(e,t){d.default.invokeMap(e,t)}function T(e){return!!o.isBranchController(e)&&e.isSubMenuOpen}var I=function(){function e(e,t,i,n,s){this.subMenuDirection=p.default.RIGHT,this.gracePeriod=new n,this.service=e,this.menuContainer=i,this.menuElement=this.createMenuElements(t,s)}return e.create=function(t,i,n,s,r){return new e(t,i,n,s,r)},e.prototype.createSubMenuWithItems=function(t,i,n,s){this.subMenu=e.create(this.service,i,this.menuContainer,l.default,s),this.subMenu.setSubMenuPosition(t,this.subMenuDirection),this.subMenu.menuElement.classList.add("ig-menu__submenu__"+n)},e.prototype.destroySubMenu=function(){this.subMenu.destroy(),delete this.subMenu},e.prototype.updateItems=function(e){var t=this.getExpandedMenuItemIds();this.removeMenuElement(),this.menuElement=this.createMenuElements(e),this.setPosition(this.position),this.expandMenuItemIds(t)},e.prototype.getExpandedMenuItemIds=function(){return this.items.filter(T).map((function(e){return e.item.id})).concat(this.subMenu?this.subMenu.getExpandedMenuItemIds():[])},e.prototype.expandMenuItemIds=function(e){if(0!==e.length){var t=e[0];this.items.filter((function(e){return e.item.id===t}))[0].openSubMenu(),this.subMenu.expandMenuItemIds(e.slice(1))}},e.prototype.createMenuElements=function(e,t){var i=this,n=d.default.values(d.default.groupBy(e,"group")),s=a.parse(c.default({groups:n}));s.addEventListener("click",this,!1),t&&s.querySelector(".ig-menu__chevron").classList.add("ig-menu__chevron--enabled"),this.items=d.default.zip(d.default.orderBy(s.querySelectorAll("[data-id]"),d.default.method("getAttribute","data-id")),d.default.orderBy(e,"id")).map((function(e){var t=e[0],n=e[1];return i.toMenuItemController(t,n)})),this.menuContainer.appendChild(s),E(this.items,"onInit");var r=(e||[]).map((function(e){return!(!v.isMixedContent(e)&&!h.isBranch(e))&&e.hoverOnIcon}));return this.menuAim=u.menuAim(s,r,{changeCallback:function(e,t){return i.handleMenuAimEvent(e,t)},subMenuCallback:function(){return i.subMenu?i.subMenu.menuElement:null}}),s},e.prototype.toMenuItemController=function(e,t){if(v.isMixedContent(t))return new A.default(this,e,t);if(h.isBranch(t))return new f.default(this,e,t);if(s.isCustomContent(t))return new m.default(this,e,t);if(r.isLabel(t))return new g.default(this,e,t);throw Error("Unknown item type.")},e.prototype.hideAll=function(){this.service.hide()},e.prototype.removeMenuElement=function(){this.menuAim.destroy(),delete this.menuAim,E(this.items,"onDestroy"),this.menuElement.removeEventListener("click",this,!1),this.menuContainer.removeChild(this.menuElement)},e.prototype.handleMouseEvent=function(e,t){var i=this,n=d.default.find(this.items,(function(t){return t.element.contains(e)}));n&&(E(d.default.without(i.items,n),"handleFocusOut"),t(n))},e.prototype.handleMenuAimEvent=function(e,t){t===u.ChangeReason.MOUSE_LEAVE?this.handleMouseEvent(e,(function(e){return e.handleFocusOut()})):(this.gracePeriod.isOver()||t===u.ChangeReason.HOVER)&&this.handleMouseEvent(e,(function(e){return e.handleFocusIn()}))},e.prototype.handleEvent=function(e){this.gracePeriod.isOver()&&this.handleMouseEvent(e.target,(function(e){return e.handleClick()}))},e.prototype.setPosition=function(e){this.position=e,E(this.items,"handleReposition"),_.positionMenuElement(this.menuElement,e),this.gracePeriod.start()},e.prototype.setSubMenuPosition=function(e,t){this.subMenuDirection=_.positionSubMenuElement(this.menuElement,e,t),this.gracePeriod.start()},e.prototype.destroy=function(){var e=this;this.removeMenuElement(),Object.keys(this).forEach((function(t){return delete e[t]}))},e}();t.default=I},function(e,t,i){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};t.__esModule=!0;var s=n(i(0));t.isCustomContent=function(e){return"function"==typeof s.default.get(e,"content.onInit")}},function(e,t,i){"use strict";t.__esModule=!0,t.isLabel=function(e){return e.callback&&"function"==typeof e.callback}},function(e,t,i){"use strict";t.__esModule=!0;var n=function(){function e(){}return e.prototype.start=function(){},e.prototype.isOver=function(){return!0},e}();t.default=n},function(e,t,i){"use strict";var n;t.__esModule=!0,function(e){e.CLICK="CLICK",e.HOVER="HOVER",e.MOUSE_LEAVE="MOUSE_LEAVE"}(n=t.ChangeReason||(t.ChangeReason={}));var s=function(e){var t=e.getBoundingClientRect(),i=e.ownerDocument.defaultView;return{top:t.top+i.pageYOffset,left:t.left+i.pageXOffset}};function r(e,t,i,n,s){i.forEach((function(i,r){t.querySelectorAll(i)[r][e](n,s)}))}t.menuAim=function(e,t,i){var o=50,a=2,l=t.map((function(e){return e?".ig-menu__right-cell":".ig-menu__menu_item"})),d=75,u=[],c=i.changeCallback,h=i.subMenuCallback,p=null,_=null,g=null;function f(){g&&clearTimeout(g)}function m(e){u.push({x:e.pageX,y:e.pageY}),u.length>a&&u.shift()}function v(){f(),I(this,n.HOVER)}function A(){this.classList.contains("ig-menu__right-cell")&&I(this,n.MOUSE_LEAVE)}function E(){f(),T(this,n.CLICK)}function T(e,t){if(t===n.MOUSE_LEAVE)c(e,t),p=null;else{if(e===p)return;c(e,t),p=e}}function I(t,i){var n=function(){if(!p)return 0;var t=h();if(!t)return 0;var i=s(e),n=s(t),r=i.left<n.left?"right":"left",a={x:n.left,y:n.top-d},l={x:n.left+t.offsetWidth,y:a.y},c={x:n.left,y:n.top+t.offsetHeight+d},g={x:n.left+t.offsetWidth,y:c.y},f=u[u.length-1],m=u[0];if(!f)return 0;if(m||(m=f),m.x<i.left||m.x>i.left+e.offsetWidth||m.y<i.top||m.y>i.top+e.offsetHeight+d)return 0;if(_&&f.x===_.x&&f.y===_.y)return 0;function v(e,t){return(t.y-e.y)/(t.x-e.x)}var A=a,E=c;"left"===r&&(A=g,E=l);var T=v(f,A),I=v(f,E),C=v(m,A),O=v(m,E);return T<=C&&I>=O?(_=f,o):(_=null,0)}();n?g=setTimeout((function(){I(t,i)}),n):T(t,i)}return e.addEventListener("mouseleave",f),r("addEventListener",e,l,"mouseleave",A),r("addEventListener",e,l,"mouseenter",v),r("addEventListener",e,l,"click",E),document.addEventListener("mousemove",m),{destroy:function(){e.removeEventListener("mouseleave",f),r("removeEventListener",e,l,"mouseenter",v),r("removeEventListener",e,l,"mouseleave",A),r("removeEventListener",e,l,"click",E),document.removeEventListener("mousemove",m)}}}},function(e,t){e.exports=function(e){var t,i="";return Array.prototype.join,i+='<div class="ig-menu__container">\n    <div class="ig-menu__chevron">\n        <svg viewbox="0 0 5 10">\n            <path d="M5 0 V10 L0.8 5.8 Q0 5 0.8 4.2z" />\n        </svg>\n    </div>\n    <div class="ig-menu__viewport">\n\n        <div class="ig-menu__menu">\n            ',e.groups.forEach((function(e){i+='\n                <ul class="ig-menu__group">\n                    ',e.forEach((function(e){i+='\n                        <li data-id="'+(null==(t=e.id)?"":t)+'" class="ig-menu__menu_item ',e.classList&&(i+=" "+(null==(t=e.classList.join(" "))?"":t)+" "),i+='">\n                            <span class="ig-menu__left-cell">',e.icon&&(i+='\n                                <span class="ig-menu__icon '+(null==(t=e.icon)?"":t)+'">&nbsp;</span>\n                            '),i+='</span>\n                            <span class="ig-menu__content"></span>\n                            <span class="ig-menu__right-cell"></span>\n                        </li>\n                    '})),i+="\n                </ul>\n            "})),i+="\n        </div>\n\n    </div>\n</div>"}},function(e,t,i){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};t.__esModule=!0;var s=n(i(0)),r=i(2),o=n(i(7)),a=i(19);function l(e){return e.querySelector(".ig-menu__chevron")}function d(e,t,i,n){var s,r,a=p(),l=function(e,t){var i=e.querySelectorAll(".ig-menu__menu_item")[0].getBoundingClientRect();return t.top-i.top}(e,t);return n===o.default.RIGHT?r=(s={top:i.top+l,left:i.right}).left+t.width<=a.right:n===o.default.LEFT&&(r=(s={top:i.top+l,left:i.left-t.width}).left>=a.left),[s,r]}function u(e){e.style.top=e.style.left=l(e).style.top="0px",e.style.height=""}function c(e){var t=p(),i=e.getBoundingClientRect();return i.height>t.height&&(e.style.height=r.pixels.to(t.height),i=e.getBoundingClientRect()),i}function h(e,t){var i=p();t.bottom+e.top>i.bottom?e.top=i.bottom-t.bottom:t.top+e.top<i.top&&(e.top=i.top-t.top),t.right+e.left>i.right?e.left=i.right-t.right:t.left+e.left<i.left&&(e.left=i.left-t.left)}function p(){var e=document.documentElement.clientWidth,i=document.documentElement.clientHeight;return Object.freeze({left:t.OFFSET_BUFFER,top:t.OFFSET_BUFFER,right:e-t.OFFSET_BUFFER,bottom:i-t.OFFSET_BUFFER,width:e-2*t.OFFSET_BUFFER,height:i-2*t.OFFSET_BUFFER})}t.OFFSET_BUFFER=5,t.positionMenuElement=function(e,t){u(e);var i=c(e),n=s.default.mapValues(a.positionRelativeToViewport(t),(function(e,t){return e-i[t]}));h(n,i),s.default.each(n,(function(t,i){return e.style[i]=r.pixels.to(t)}))},t.positionSubMenuElement=function(e,t,i){var n;u(e);var a,p=c(e),_=t.getBoundingClientRect();a=(n=d(e,p,_,i))[0],n[1]||(i=i===o.default.RIGHT?o.default.LEFT:o.default.RIGHT,a=d(e,p,_,i)[0]);var g=(a=s.default.mapValues(a,(function(e,t){return e-p[t]}))).top;h(a,p);var f=l(e);return f.style.top=r.pixels.to(g-a.top+6),i!==o.default.RIGHT&&f.classList.remove("ig-menu__chevron--enabled"),s.default.each(a,(function(t,i){return e.style[i]=r.pixels.to(t)})),i}},function(e,t,i){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};t.__esModule=!0;var s=n(i(0));function r(e){for(var t=[],i=1;i<arguments.length;i++)t[i-1]=arguments[i];return t.map((function(t){return e[t]})).every(s.default.isFinite)}t.positionRelativeToViewport=function(e){if(r(e,"clientX","clientY"))return{top:e.clientY,left:e.clientX};if(s.default.isElement(e)){if(document.body.contains(e)){var t=e.getBoundingClientRect();return{top:t.bottom,left:t.left}}throw new Error("Element to position relative to not in current DOM")}if(r(e,"top","left"))return s.default.pick(e,["top","left"]);if(r(e,"x","y"))return{top:e.y,left:e.x};throw new Error("Unknown position format")}},function(e,t,i){"use strict";var n,s=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};t.__esModule=!0;var o=i(5),a=i(2),l=i(1),d=r(i(3)),u=r(i(0)),c=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return s(t,e),t.prototype.onInit=function(){o.appendLabel(this.item.content,l.qs(".ig-menu__content",this.element),this.item.allowHTML),a.classList.add(this.element,"ig-menu__menu_item--hoverable"),this._render()},t.prototype.handleClick=function(){try{u.default.isBoolean(this.item.selected)?this.item.callback(this.item.data,!this.item.selected):this.item.callback(this.item.data)}finally{!0!==this.item.persistent?this._parentMenu.hideAll():this._render()}},t.prototype._render=function(){var e=l.qs(".ig-menu__left-cell",this.element),t=l.qs(".ig-menu__right-cell",this.element);a.classList.remove(e,"ig-menu__left-cell--selectable"),a.classList.remove(e,"ig-menu__left-cell--selected"),this.item.hasOwnProperty("selected")&&(a.classList.add(e,"ig-menu__left-cell--selectable"),this.item.selected&&a.classList.add(e,"ig-menu__left-cell--selected")),this.item.hasOwnProperty("shortcut")&&(a.classList.add(t,"ig-menu__shortcut"),t.innerText=this.item.shortcut)},t}(d.default);t.default=c},function(e,t,i){"use strict";var n,s=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};t.__esModule=!0;var o=i(1),a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return s(t,e),t.prototype.onInit=function(){this.item.content.onInit(o.qs(".ig-menu__content",this.element))},t.prototype.onDestroy=function(){this.item.content.onDestroy(o.qs(".ig-menu__content",this.element)),e.prototype.onDestroy.call(this)},t}(r(i(3)).default);t.default=a},function(e,t,i){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};t.__esModule=!0;var s=n(i(0));t.isMixedContent=function(e){return e.isMixed&&e.callback&&"function"==typeof e.callback&&e.items&&s.default.isArray(e.items)}},function(e,t,i){"use strict";var n,s=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};t.__esModule=!0;var o=i(5),a=i(2),l=i(4),d=i(1),u=r(i(3)),c=r(i(0)),h=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.isSubMenuOpen=!1,t}return s(t,e),t.prototype.onInit=function(){o.appendLabel(this.item.content,d.qs(".ig-menu__content",this.element),this.item.allowHTML),a.classList.add(this.element,"ig-menu__menu_item--hoverable"),a.classList.add(this.element,"ig-menu__menu_item--expandable"),this._render()},t.prototype.handleClick=function(){c.default.isBoolean(this.item.selected)?this.item.callback(this.item.data,!this.item.selected):this.item.callback(this.item.data),!0!==this.item.persistent?this._parentMenu.hideAll():this._render()},t.prototype.handleFocusIn=function(){this.openSubMenu()},t.prototype.handleFocusOut=function(){this._closeSubMenu()},t.prototype.handleReposition=function(){this._closeSubMenu()},t.prototype.onDestroy=function(){this._closeSubMenu(),e.prototype.onDestroy.call(this)},t.prototype.openSubMenu=function(){this.isSubMenuOpen||(this.isSubMenuOpen=!0,this._parentMenu.createSubMenuWithItems(this.element,this.item.items,this.item.id,this.item.chevron),a.classList.add(this.element,l.EXPANDED_CLASS_NAME))},t.prototype._closeSubMenu=function(){this.isSubMenuOpen&&(this._parentMenu.destroySubMenu(),a.classList.remove(this.element,l.EXPANDED_CLASS_NAME),this.isSubMenuOpen=!1)},t.prototype._render=function(){var e=d.qs(".ig-menu__left-cell",this.element),t=d.qs(".ig-menu__right-cell",this.element);a.classList.remove(e,"ig-menu__left-cell--selectable"),a.classList.remove(e,"ig-menu__left-cell--selected"),this.item.hasOwnProperty("selected")&&(a.classList.add(e,"ig-menu__left-cell--selectable"),this.item.selected&&a.classList.add(e,"ig-menu__left-cell--selected")),this.item.hasOwnProperty("shortcut")&&(a.classList.add(t,"ig-menu__shortcut--offset"),a.classList.add(t,"ig-menu__shortcut"),t.innerText=this.item.shortcut)},t}(u.default);t.default=h},function(e,t,i){"use strict";t.__esModule=!0;var n,s=i(0);!function(e){e.LIGHT="light",e.DARK="dark",e.NAVY="navy"}(n||(n={})),function(e){e.valueOf=function(t){return"string"==typeof t&&(t=t.toLowerCase()),s.includes(s.values(e),t)?t:e.LIGHT}}(n||(n={})),t.default=n}]))},87206:e=>{function t(e){return!!e.constructor&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}e.exports=function(e){return null!=e&&(t(e)||function(e){return"function"==typeof e.readFloatLE&&"function"==typeof e.slice&&t(e.slice(0,0))}(e)||!!e._isBuffer)}},83503:(e,t,i)=>{var n,s,r,o,a;n=i(3939),s=i(92151).utf8,r=i(87206),o=i(92151).bin,(a=function(e,t){e.constructor==String?e=t&&"binary"===t.encoding?o.stringToBytes(e):s.stringToBytes(e):r(e)?e=Array.prototype.slice.call(e,0):Array.isArray(e)||e.constructor===Uint8Array||(e=e.toString());for(var i=n.bytesToWords(e),l=8*e.length,d=1732584193,u=-271733879,c=-1732584194,h=271733878,p=0;p<i.length;p++)i[p]=16711935&(i[p]<<8|i[p]>>>24)|4278255360&(i[p]<<24|i[p]>>>8);i[l>>>5]|=128<<l%32,i[14+(l+64>>>9<<4)]=l;var _=a._ff,g=a._gg,f=a._hh,m=a._ii;for(p=0;p<i.length;p+=16){var v=d,A=u,E=c,T=h;d=_(d,u,c,h,i[p+0],7,-680876936),h=_(h,d,u,c,i[p+1],12,-389564586),c=_(c,h,d,u,i[p+2],17,606105819),u=_(u,c,h,d,i[p+3],22,-1044525330),d=_(d,u,c,h,i[p+4],7,-176418897),h=_(h,d,u,c,i[p+5],12,1200080426),c=_(c,h,d,u,i[p+6],17,-1473231341),u=_(u,c,h,d,i[p+7],22,-45705983),d=_(d,u,c,h,i[p+8],7,1770035416),h=_(h,d,u,c,i[p+9],12,-1958414417),c=_(c,h,d,u,i[p+10],17,-42063),u=_(u,c,h,d,i[p+11],22,-1990404162),d=_(d,u,c,h,i[p+12],7,1804603682),h=_(h,d,u,c,i[p+13],12,-40341101),c=_(c,h,d,u,i[p+14],17,-1502002290),d=g(d,u=_(u,c,h,d,i[p+15],22,1236535329),c,h,i[p+1],5,-165796510),h=g(h,d,u,c,i[p+6],9,-1069501632),c=g(c,h,d,u,i[p+11],14,643717713),u=g(u,c,h,d,i[p+0],20,-373897302),d=g(d,u,c,h,i[p+5],5,-701558691),h=g(h,d,u,c,i[p+10],9,38016083),c=g(c,h,d,u,i[p+15],14,-660478335),u=g(u,c,h,d,i[p+4],20,-405537848),d=g(d,u,c,h,i[p+9],5,568446438),h=g(h,d,u,c,i[p+14],9,-1019803690),c=g(c,h,d,u,i[p+3],14,-187363961),u=g(u,c,h,d,i[p+8],20,1163531501),d=g(d,u,c,h,i[p+13],5,-1444681467),h=g(h,d,u,c,i[p+2],9,-51403784),c=g(c,h,d,u,i[p+7],14,1735328473),d=f(d,u=g(u,c,h,d,i[p+12],20,-1926607734),c,h,i[p+5],4,-378558),h=f(h,d,u,c,i[p+8],11,-2022574463),c=f(c,h,d,u,i[p+11],16,1839030562),u=f(u,c,h,d,i[p+14],23,-35309556),d=f(d,u,c,h,i[p+1],4,-1530992060),h=f(h,d,u,c,i[p+4],11,1272893353),c=f(c,h,d,u,i[p+7],16,-155497632),u=f(u,c,h,d,i[p+10],23,-1094730640),d=f(d,u,c,h,i[p+13],4,681279174),h=f(h,d,u,c,i[p+0],11,-358537222),c=f(c,h,d,u,i[p+3],16,-722521979),u=f(u,c,h,d,i[p+6],23,76029189),d=f(d,u,c,h,i[p+9],4,-640364487),h=f(h,d,u,c,i[p+12],11,-421815835),c=f(c,h,d,u,i[p+15],16,530742520),d=m(d,u=f(u,c,h,d,i[p+2],23,-995338651),c,h,i[p+0],6,-198630844),h=m(h,d,u,c,i[p+7],10,1126891415),c=m(c,h,d,u,i[p+14],15,-1416354905),u=m(u,c,h,d,i[p+5],21,-57434055),d=m(d,u,c,h,i[p+12],6,1700485571),h=m(h,d,u,c,i[p+3],10,-1894986606),c=m(c,h,d,u,i[p+10],15,-1051523),u=m(u,c,h,d,i[p+1],21,-2054922799),d=m(d,u,c,h,i[p+8],6,1873313359),h=m(h,d,u,c,i[p+15],10,-30611744),c=m(c,h,d,u,i[p+6],15,-1560198380),u=m(u,c,h,d,i[p+13],21,1309151649),d=m(d,u,c,h,i[p+4],6,-145523070),h=m(h,d,u,c,i[p+11],10,-1120210379),c=m(c,h,d,u,i[p+2],15,718787259),u=m(u,c,h,d,i[p+9],21,-343485551),d=d+v>>>0,u=u+A>>>0,c=c+E>>>0,h=h+T>>>0}return n.endian([d,u,c,h])})._ff=function(e,t,i,n,s,r,o){var a=e+(t&i|~t&n)+(s>>>0)+o;return(a<<r|a>>>32-r)+t},a._gg=function(e,t,i,n,s,r,o){var a=e+(t&n|i&~n)+(s>>>0)+o;return(a<<r|a>>>32-r)+t},a._hh=function(e,t,i,n,s,r,o){var a=e+(t^i^n)+(s>>>0)+o;return(a<<r|a>>>32-r)+t},a._ii=function(e,t,i,n,s,r,o){var a=e+(i^(t|~n))+(s>>>0)+o;return(a<<r|a>>>32-r)+t},a._blocksize=16,a._digestsize=16,e.exports=function(e,t){if(null==e)throw new Error("Illegal argument "+e);var i=n.wordsToBytes(a(e,t));return t&&t.asBytes?i:t&&t.asString?o.bytesToString(i):n.bytesToHex(i)}},22551:(e,t,i)=>{"use strict";var n=i(96540),s=i(69982);function r(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,i=1;i<arguments.length;i++)t+="&args[]="+encodeURIComponent(arguments[i]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,a={};function l(e,t){d(e,t),d(e+"Capture",t)}function d(e,t){for(a[e]=t,e=0;e<t.length;e++)o.add(t[e])}var u=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement),c=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,p={},_={};function g(e,t,i,n,s,r,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=i,this.propertyName=e,this.type=t,this.sanitizeURL=r,this.removeEmptyString=o}var f={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){f[e]=new g(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];f[t]=new g(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){f[e]=new g(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){f[e]=new g(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){f[e]=new g(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){f[e]=new g(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){f[e]=new g(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){f[e]=new g(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){f[e]=new g(e,5,!1,e.toLowerCase(),null,!1,!1)}));var m=/[\-:]([a-z])/g;function v(e){return e[1].toUpperCase()}function A(e,t,i,n){var s=f.hasOwnProperty(t)?f[t]:null;(null!==s?0!==s.type:n||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,i,n){if(null==t||function(e,t,i,n){if(null!==i&&0===i.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!n&&(null!==i?!i.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,i,n))return!0;if(n)return!1;if(null!==i)switch(i.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,i,s,n)&&(i=null),n||null===s?function(e){return!!c.call(_,e)||!c.call(p,e)&&(h.test(e)?_[e]=!0:(p[e]=!0,!1))}(t)&&(null===i?e.removeAttribute(t):e.setAttribute(t,""+i)):s.mustUseProperty?e[s.propertyName]=null===i?3!==s.type&&"":i:(t=s.attributeName,n=s.attributeNamespace,null===i?e.removeAttribute(t):(i=3===(s=s.type)||4===s&&!0===i?"":""+i,n?e.setAttributeNS(n,t,i):e.setAttribute(t,i))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(m,v);f[t]=new g(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(m,v);f[t]=new g(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(m,v);f[t]=new g(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){f[e]=new g(e,1,!1,e.toLowerCase(),null,!1,!1)})),f.xlinkHref=new g("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){f[e]=new g(e,1,!1,e.toLowerCase(),null,!0,!0)}));var E=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,T=Symbol.for("react.element"),I=Symbol.for("react.portal"),C=Symbol.for("react.fragment"),O=Symbol.for("react.strict_mode"),M=Symbol.for("react.profiler"),y=Symbol.for("react.provider"),b=Symbol.for("react.context"),S=Symbol.for("react.forward_ref"),D=Symbol.for("react.suspense"),w=Symbol.for("react.suspense_list"),L=Symbol.for("react.memo"),R=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var P=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var N=Symbol.iterator;function k(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=N&&e[N]||e["@@iterator"])?e:null}var x,V=Object.assign;function B(e){if(void 0===x)try{throw Error()}catch(i){var t=i.stack.trim().match(/\n( *(at )?)/);x=t&&t[1]||""}return"\n"+x+e}var H=!1;function W(e,t){if(!e||H)return"";H=!0;var i=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"==typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(d){var n=d}Reflect.construct(e,[],t)}else{try{t.call()}catch(d){n=d}e.call(t.prototype)}else{try{throw Error()}catch(d){n=d}e()}}catch(d){if(d&&n&&"string"==typeof d.stack){for(var s=d.stack.split("\n"),r=n.stack.split("\n"),o=s.length-1,a=r.length-1;1<=o&&0<=a&&s[o]!==r[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==r[a]){if(1!==o||1!==a)do{if(o--,0>--a||s[o]!==r[a]){var l="\n"+s[o].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=o&&0<=a);break}}}finally{H=!1,Error.prepareStackTrace=i}return(e=e?e.displayName||e.name:"")?B(e):""}function F(e){switch(e.tag){case 5:return B(e.type);case 16:return B("Lazy");case 13:return B("Suspense");case 19:return B("SuspenseList");case 0:case 2:case 15:return e=W(e.type,!1);case 11:return e=W(e.type.render,!1);case 1:return e=W(e.type,!0);default:return""}}function U(e){if(null==e)return null;if("function"==typeof e)return e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case C:return"Fragment";case I:return"Portal";case M:return"Profiler";case O:return"StrictMode";case D:return"Suspense";case w:return"SuspenseList"}if("object"==typeof e)switch(e.$$typeof){case b:return(e.displayName||"Context")+".Consumer";case y:return(e._context.displayName||"Context")+".Provider";case S:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case L:return null!==(t=e.displayName||null)?t:U(e.type)||"Memo";case R:t=e._payload,e=e._init;try{return U(e(t))}catch(i){}}return null}function G(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return U(t);case 8:return t===O?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"==typeof t)return t.displayName||t.name||null;if("string"==typeof t)return t}return null}function j(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function K(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function z(e){e._valueTracker||(e._valueTracker=function(e){var t=K(e)?"checked":"value",i=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&void 0!==i&&"function"==typeof i.get&&"function"==typeof i.set){var s=i.get,r=i.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(e){n=""+e,r.call(this,e)}}),Object.defineProperty(e,t,{enumerable:i.enumerable}),{getValue:function(){return n},setValue:function(e){n=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function Z(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var i=t.getValue(),n="";return e&&(n=K(e)?e.checked?"true":"false":e.value),(e=n)!==i&&(t.setValue(e),!0)}function Y(e){if(void 0===(e=e||("undefined"!=typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function $(e,t){var i=t.checked;return V({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=i?i:e._wrapperState.initialChecked})}function q(e,t){var i=null==t.defaultValue?"":t.defaultValue,n=null!=t.checked?t.checked:t.defaultChecked;i=j(null!=t.value?t.value:i),e._wrapperState={initialChecked:n,initialValue:i,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function X(e,t){null!=(t=t.checked)&&A(e,"checked",t,!1)}function J(e,t){X(e,t);var i=j(t.value),n=t.type;if(null!=i)"number"===n?(0===i&&""===e.value||e.value!=i)&&(e.value=""+i):e.value!==""+i&&(e.value=""+i);else if("submit"===n||"reset"===n)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,i):t.hasOwnProperty("defaultValue")&&ee(e,t.type,j(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Q(e,t,i){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!("submit"!==n&&"reset"!==n||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,i||t===e.value||(e.value=t),e.defaultValue=t}""!==(i=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==i&&(e.name=i)}function ee(e,t,i){"number"===t&&Y(e.ownerDocument)===e||(null==i?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+i&&(e.defaultValue=""+i))}var te=Array.isArray;function ie(e,t,i,n){if(e=e.options,t){t={};for(var s=0;s<i.length;s++)t["$"+i[s]]=!0;for(i=0;i<e.length;i++)s=t.hasOwnProperty("$"+e[i].value),e[i].selected!==s&&(e[i].selected=s),s&&n&&(e[i].defaultSelected=!0)}else{for(i=""+j(i),t=null,s=0;s<e.length;s++){if(e[s].value===i)return e[s].selected=!0,void(n&&(e[s].defaultSelected=!0));null!==t||e[s].disabled||(t=e[s])}null!==t&&(t.selected=!0)}}function ne(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(r(91));return V({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function se(e,t){var i=t.value;if(null==i){if(i=t.children,t=t.defaultValue,null!=i){if(null!=t)throw Error(r(92));if(te(i)){if(1<i.length)throw Error(r(93));i=i[0]}t=i}null==t&&(t=""),i=t}e._wrapperState={initialValue:j(i)}}function re(e,t){var i=j(t.value),n=j(t.defaultValue);null!=i&&((i=""+i)!==e.value&&(e.value=i),null==t.defaultValue&&e.defaultValue!==i&&(e.defaultValue=i)),null!=n&&(e.defaultValue=""+n)}function oe(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function ae(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?ae(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var de,ue,ce=(ue=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((de=de||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=de.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,i,n){MSApp.execUnsafeLocalFunction((function(){return ue(e,t)}))}:ue);function he(e,t){if(t){var i=e.firstChild;if(i&&i===e.lastChild&&3===i.nodeType)return void(i.nodeValue=t)}e.textContent=t}var pe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},_e=["Webkit","ms","Moz","O"];function ge(e,t,i){return null==t||"boolean"==typeof t||""===t?"":i||"number"!=typeof t||0===t||pe.hasOwnProperty(e)&&pe[e]?(""+t).trim():t+"px"}function fe(e,t){for(var i in e=e.style,t)if(t.hasOwnProperty(i)){var n=0===i.indexOf("--"),s=ge(i,t[i],n);"float"===i&&(i="cssFloat"),n?e.setProperty(i,s):e[i]=s}}Object.keys(pe).forEach((function(e){_e.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),pe[t]=pe[e]}))}));var me=V({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ve(e,t){if(t){if(me[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(r(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(r(60));if("object"!=typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(r(61))}if(null!=t.style&&"object"!=typeof t.style)throw Error(r(62))}}function Ae(e,t){if(-1===e.indexOf("-"))return"string"==typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ee=null;function Te(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Ie=null,Ce=null,Oe=null;function Me(e){if(e=As(e)){if("function"!=typeof Ie)throw Error(r(280));var t=e.stateNode;t&&(t=Ts(t),Ie(e.stateNode,e.type,t))}}function ye(e){Ce?Oe?Oe.push(e):Oe=[e]:Ce=e}function be(){if(Ce){var e=Ce,t=Oe;if(Oe=Ce=null,Me(e),t)for(e=0;e<t.length;e++)Me(t[e])}}function Se(e,t){return e(t)}function De(){}var we=!1;function Le(e,t,i){if(we)return e(t,i);we=!0;try{return Se(e,t,i)}finally{we=!1,(null!==Ce||null!==Oe)&&(De(),be())}}function Re(e,t){var i=e.stateNode;if(null===i)return null;var n=Ts(i);if(null===n)return null;i=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(n=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!n;break e;default:e=!1}if(e)return null;if(i&&"function"!=typeof i)throw Error(r(231,t,typeof i));return i}var Pe=!1;if(u)try{var Ne={};Object.defineProperty(Ne,"passive",{get:function(){Pe=!0}}),window.addEventListener("test",Ne,Ne),window.removeEventListener("test",Ne,Ne)}catch(ue){Pe=!1}function ke(e,t,i,n,s,r,o,a,l){var d=Array.prototype.slice.call(arguments,3);try{t.apply(i,d)}catch(u){this.onError(u)}}var xe=!1,Ve=null,Be=!1,He=null,We={onError:function(e){xe=!0,Ve=e}};function Fe(e,t,i,n,s,r,o,a,l){xe=!1,Ve=null,ke.apply(We,arguments)}function Ue(e){var t=e,i=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{!!(4098&(t=e).flags)&&(i=t.return),e=t.return}while(e)}return 3===t.tag?i:null}function Ge(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function je(e){if(Ue(e)!==e)throw Error(r(188))}function Ke(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Ue(e)))throw Error(r(188));return t!==e?null:e}for(var i=e,n=t;;){var s=i.return;if(null===s)break;var o=s.alternate;if(null===o){if(null!==(n=s.return)){i=n;continue}break}if(s.child===o.child){for(o=s.child;o;){if(o===i)return je(s),e;if(o===n)return je(s),t;o=o.sibling}throw Error(r(188))}if(i.return!==n.return)i=s,n=o;else{for(var a=!1,l=s.child;l;){if(l===i){a=!0,i=s,n=o;break}if(l===n){a=!0,n=s,i=o;break}l=l.sibling}if(!a){for(l=o.child;l;){if(l===i){a=!0,i=o,n=s;break}if(l===n){a=!0,n=o,i=s;break}l=l.sibling}if(!a)throw Error(r(189))}}if(i.alternate!==n)throw Error(r(190))}if(3!==i.tag)throw Error(r(188));return i.stateNode.current===i?e:t}(e))?ze(e):null}function ze(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=ze(e);if(null!==t)return t;e=e.sibling}return null}var Ze=s.unstable_scheduleCallback,Ye=s.unstable_cancelCallback,$e=s.unstable_shouldYield,qe=s.unstable_requestPaint,Xe=s.unstable_now,Je=s.unstable_getCurrentPriorityLevel,Qe=s.unstable_ImmediatePriority,et=s.unstable_UserBlockingPriority,tt=s.unstable_NormalPriority,it=s.unstable_LowPriority,nt=s.unstable_IdlePriority,st=null,rt=null;var ot=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(at(e)/lt|0)|0},at=Math.log,lt=Math.LN2;var dt=64,ut=4194304;function ct(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ht(e,t){var i=e.pendingLanes;if(0===i)return 0;var n=0,s=e.suspendedLanes,r=e.pingedLanes,o=268435455&i;if(0!==o){var a=o&~s;0!==a?n=ct(a):0!==(r&=o)&&(n=ct(r))}else 0!==(o=i&~s)?n=ct(o):0!==r&&(n=ct(r));if(0===n)return 0;if(0!==t&&t!==n&&!(t&s)&&((s=n&-n)>=(r=t&-t)||16===s&&4194240&r))return t;if(4&n&&(n|=16&i),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=n;0<t;)s=1<<(i=31-ot(t)),n|=e[i],t&=~s;return n}function pt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function _t(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function gt(){var e=dt;return!(4194240&(dt<<=1))&&(dt=64),e}function ft(e){for(var t=[],i=0;31>i;i++)t.push(e);return t}function mt(e,t,i){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-ot(t)]=i}function vt(e,t){var i=e.entangledLanes|=t;for(e=e.entanglements;i;){var n=31-ot(i),s=1<<n;s&t|e[n]&t&&(e[n]|=t),i&=~s}}var At=0;function Et(e){return 1<(e&=-e)?4<e?268435455&e?16:536870912:4:1}var Tt,It,Ct,Ot,Mt,yt=!1,bt=[],St=null,Dt=null,wt=null,Lt=new Map,Rt=new Map,Pt=[],Nt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function kt(e,t){switch(e){case"focusin":case"focusout":St=null;break;case"dragenter":case"dragleave":Dt=null;break;case"mouseover":case"mouseout":wt=null;break;case"pointerover":case"pointerout":Lt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Rt.delete(t.pointerId)}}function xt(e,t,i,n,s,r){return null===e||e.nativeEvent!==r?(e={blockedOn:t,domEventName:i,eventSystemFlags:n,nativeEvent:r,targetContainers:[s]},null!==t&&(null!==(t=As(t))&&It(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,null!==s&&-1===t.indexOf(s)&&t.push(s),e)}function Vt(e){var t=vs(e.target);if(null!==t){var i=Ue(t);if(null!==i)if(13===(t=i.tag)){if(null!==(t=Ge(i)))return e.blockedOn=t,void Mt(e.priority,(function(){Ct(i)}))}else if(3===t&&i.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===i.tag?i.stateNode.containerInfo:null)}e.blockedOn=null}function Bt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var i=$t(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==i)return null!==(t=As(i))&&It(t),e.blockedOn=i,!1;var n=new(i=e.nativeEvent).constructor(i.type,i);Ee=n,i.target.dispatchEvent(n),Ee=null,t.shift()}return!0}function Ht(e,t,i){Bt(e)&&i.delete(t)}function Wt(){yt=!1,null!==St&&Bt(St)&&(St=null),null!==Dt&&Bt(Dt)&&(Dt=null),null!==wt&&Bt(wt)&&(wt=null),Lt.forEach(Ht),Rt.forEach(Ht)}function Ft(e,t){e.blockedOn===t&&(e.blockedOn=null,yt||(yt=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,Wt)))}function Ut(e){function t(t){return Ft(t,e)}if(0<bt.length){Ft(bt[0],e);for(var i=1;i<bt.length;i++){var n=bt[i];n.blockedOn===e&&(n.blockedOn=null)}}for(null!==St&&Ft(St,e),null!==Dt&&Ft(Dt,e),null!==wt&&Ft(wt,e),Lt.forEach(t),Rt.forEach(t),i=0;i<Pt.length;i++)(n=Pt[i]).blockedOn===e&&(n.blockedOn=null);for(;0<Pt.length&&null===(i=Pt[0]).blockedOn;)Vt(i),null===i.blockedOn&&Pt.shift()}var Gt=E.ReactCurrentBatchConfig,jt=!0;function Kt(e,t,i,n){var s=At,r=Gt.transition;Gt.transition=null;try{At=1,Zt(e,t,i,n)}finally{At=s,Gt.transition=r}}function zt(e,t,i,n){var s=At,r=Gt.transition;Gt.transition=null;try{At=4,Zt(e,t,i,n)}finally{At=s,Gt.transition=r}}function Zt(e,t,i,n){if(jt){var s=$t(e,t,i,n);if(null===s)jn(e,t,n,Yt,i),kt(e,n);else if(function(e,t,i,n,s){switch(t){case"focusin":return St=xt(St,e,t,i,n,s),!0;case"dragenter":return Dt=xt(Dt,e,t,i,n,s),!0;case"mouseover":return wt=xt(wt,e,t,i,n,s),!0;case"pointerover":var r=s.pointerId;return Lt.set(r,xt(Lt.get(r)||null,e,t,i,n,s)),!0;case"gotpointercapture":return r=s.pointerId,Rt.set(r,xt(Rt.get(r)||null,e,t,i,n,s)),!0}return!1}(s,e,t,i,n))n.stopPropagation();else if(kt(e,n),4&t&&-1<Nt.indexOf(e)){for(;null!==s;){var r=As(s);if(null!==r&&Tt(r),null===(r=$t(e,t,i,n))&&jn(e,t,n,Yt,i),r===s)break;s=r}null!==s&&n.stopPropagation()}else jn(e,t,n,null,i)}}var Yt=null;function $t(e,t,i,n){if(Yt=null,null!==(e=vs(e=Te(n))))if(null===(t=Ue(e)))e=null;else if(13===(i=t.tag)){if(null!==(e=Ge(t)))return e;e=null}else if(3===i){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Yt=e,null}function qt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Je()){case Qe:return 1;case et:return 4;case tt:case it:return 16;case nt:return 536870912;default:return 16}default:return 16}}var Xt=null,Jt=null,Qt=null;function ei(){if(Qt)return Qt;var e,t,i=Jt,n=i.length,s="value"in Xt?Xt.value:Xt.textContent,r=s.length;for(e=0;e<n&&i[e]===s[e];e++);var o=n-e;for(t=1;t<=o&&i[n-t]===s[r-t];t++);return Qt=s.slice(e,1<t?1-t:void 0)}function ti(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function ii(){return!0}function ni(){return!1}function si(e){function t(t,i,n,s,r){for(var o in this._reactName=t,this._targetInst=n,this.type=i,this.nativeEvent=s,this.target=r,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(s):s[o]);return this.isDefaultPrevented=(null!=s.defaultPrevented?s.defaultPrevented:!1===s.returnValue)?ii:ni,this.isPropagationStopped=ni,this}return V(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=ii)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=ii)},persist:function(){},isPersistent:ii}),t}var ri,oi,ai,li={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},di=si(li),ui=V({},li,{view:0,detail:0}),ci=si(ui),hi=V({},ui,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Oi,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ai&&(ai&&"mousemove"===e.type?(ri=e.screenX-ai.screenX,oi=e.screenY-ai.screenY):oi=ri=0,ai=e),ri)},movementY:function(e){return"movementY"in e?e.movementY:oi}}),pi=si(hi),_i=si(V({},hi,{dataTransfer:0})),gi=si(V({},ui,{relatedTarget:0})),fi=si(V({},li,{animationName:0,elapsedTime:0,pseudoElement:0})),mi=V({},li,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),vi=si(mi),Ai=si(V({},li,{data:0})),Ei={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ti={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ii={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ci(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Ii[e])&&!!t[e]}function Oi(){return Ci}var Mi=V({},ui,{key:function(e){if(e.key){var t=Ei[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=ti(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?Ti[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Oi,charCode:function(e){return"keypress"===e.type?ti(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?ti(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),yi=si(Mi),bi=si(V({},hi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Si=si(V({},ui,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Oi})),Di=si(V({},li,{propertyName:0,elapsedTime:0,pseudoElement:0})),wi=V({},hi,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Li=si(wi),Ri=[9,13,27,32],Pi=u&&"CompositionEvent"in window,Ni=null;u&&"documentMode"in document&&(Ni=document.documentMode);var ki=u&&"TextEvent"in window&&!Ni,xi=u&&(!Pi||Ni&&8<Ni&&11>=Ni),Vi=String.fromCharCode(32),Bi=!1;function Hi(e,t){switch(e){case"keyup":return-1!==Ri.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Wi(e){return"object"==typeof(e=e.detail)&&"data"in e?e.data:null}var Fi=!1;var Ui={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Gi(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Ui[e.type]:"textarea"===t}function ji(e,t,i,n){ye(n),0<(t=zn(t,"onChange")).length&&(i=new di("onChange","change",null,i,n),e.push({event:i,listeners:t}))}var Ki=null,zi=null;function Zi(e){Bn(e,0)}function Yi(e){if(Z(Es(e)))return e}function $i(e,t){if("change"===e)return t}var qi=!1;if(u){var Xi;if(u){var Ji="oninput"in document;if(!Ji){var Qi=document.createElement("div");Qi.setAttribute("oninput","return;"),Ji="function"==typeof Qi.oninput}Xi=Ji}else Xi=!1;qi=Xi&&(!document.documentMode||9<document.documentMode)}function en(){Ki&&(Ki.detachEvent("onpropertychange",tn),zi=Ki=null)}function tn(e){if("value"===e.propertyName&&Yi(zi)){var t=[];ji(t,zi,e,Te(e)),Le(Zi,t)}}function nn(e,t,i){"focusin"===e?(en(),zi=i,(Ki=t).attachEvent("onpropertychange",tn)):"focusout"===e&&en()}function sn(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Yi(zi)}function rn(e,t){if("click"===e)return Yi(t)}function on(e,t){if("input"===e||"change"===e)return Yi(t)}var an="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t};function ln(e,t){if(an(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var i=Object.keys(e),n=Object.keys(t);if(i.length!==n.length)return!1;for(n=0;n<i.length;n++){var s=i[n];if(!c.call(t,s)||!an(e[s],t[s]))return!1}return!0}function dn(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function un(e,t){var i,n=dn(e);for(e=0;n;){if(3===n.nodeType){if(i=e+n.textContent.length,e<=t&&i>=t)return{node:n,offset:t-e};e=i}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=dn(n)}}function cn(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?cn(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function hn(){for(var e=window,t=Y();t instanceof e.HTMLIFrameElement;){try{var i="string"==typeof t.contentWindow.location.href}catch(n){i=!1}if(!i)break;t=Y((e=t.contentWindow).document)}return t}function pn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function _n(e){var t=hn(),i=e.focusedElem,n=e.selectionRange;if(t!==i&&i&&i.ownerDocument&&cn(i.ownerDocument.documentElement,i)){if(null!==n&&pn(i))if(t=n.start,void 0===(e=n.end)&&(e=t),"selectionStart"in i)i.selectionStart=t,i.selectionEnd=Math.min(e,i.value.length);else if((e=(t=i.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var s=i.textContent.length,r=Math.min(n.start,s);n=void 0===n.end?r:Math.min(n.end,s),!e.extend&&r>n&&(s=n,n=r,r=s),s=un(i,r);var o=un(i,n);s&&o&&(1!==e.rangeCount||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&((t=t.createRange()).setStart(s.node,s.offset),e.removeAllRanges(),r>n?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}for(t=[],e=i;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"==typeof i.focus&&i.focus(),i=0;i<t.length;i++)(e=t[i]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var gn=u&&"documentMode"in document&&11>=document.documentMode,fn=null,mn=null,vn=null,An=!1;function En(e,t,i){var n=i.window===i?i.document:9===i.nodeType?i:i.ownerDocument;An||null==fn||fn!==Y(n)||("selectionStart"in(n=fn)&&pn(n)?n={start:n.selectionStart,end:n.selectionEnd}:n={anchorNode:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset},vn&&ln(vn,n)||(vn=n,0<(n=zn(mn,"onSelect")).length&&(t=new di("onSelect","select",null,t,i),e.push({event:t,listeners:n}),t.target=fn)))}function Tn(e,t){var i={};return i[e.toLowerCase()]=t.toLowerCase(),i["Webkit"+e]="webkit"+t,i["Moz"+e]="moz"+t,i}var In={animationend:Tn("Animation","AnimationEnd"),animationiteration:Tn("Animation","AnimationIteration"),animationstart:Tn("Animation","AnimationStart"),transitionend:Tn("Transition","TransitionEnd")},Cn={},On={};function Mn(e){if(Cn[e])return Cn[e];if(!In[e])return e;var t,i=In[e];for(t in i)if(i.hasOwnProperty(t)&&t in On)return Cn[e]=i[t];return e}u&&(On=document.createElement("div").style,"AnimationEvent"in window||(delete In.animationend.animation,delete In.animationiteration.animation,delete In.animationstart.animation),"TransitionEvent"in window||delete In.transitionend.transition);var yn=Mn("animationend"),bn=Mn("animationiteration"),Sn=Mn("animationstart"),Dn=Mn("transitionend"),wn=new Map,Ln="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Rn(e,t){wn.set(e,t),l(t,[e])}for(var Pn=0;Pn<Ln.length;Pn++){var Nn=Ln[Pn];Rn(Nn.toLowerCase(),"on"+(Nn[0].toUpperCase()+Nn.slice(1)))}Rn(yn,"onAnimationEnd"),Rn(bn,"onAnimationIteration"),Rn(Sn,"onAnimationStart"),Rn("dblclick","onDoubleClick"),Rn("focusin","onFocus"),Rn("focusout","onBlur"),Rn(Dn,"onTransitionEnd"),d("onMouseEnter",["mouseout","mouseover"]),d("onMouseLeave",["mouseout","mouseover"]),d("onPointerEnter",["pointerout","pointerover"]),d("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var kn="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),xn=new Set("cancel close invalid load scroll toggle".split(" ").concat(kn));function Vn(e,t,i){var n=e.type||"unknown-event";e.currentTarget=i,function(e,t,i,n,s,o,a,l,d){if(Fe.apply(this,arguments),xe){if(!xe)throw Error(r(198));var u=Ve;xe=!1,Ve=null,Be||(Be=!0,He=u)}}(n,t,void 0,e),e.currentTarget=null}function Bn(e,t){t=!!(4&t);for(var i=0;i<e.length;i++){var n=e[i],s=n.event;n=n.listeners;e:{var r=void 0;if(t)for(var o=n.length-1;0<=o;o--){var a=n[o],l=a.instance,d=a.currentTarget;if(a=a.listener,l!==r&&s.isPropagationStopped())break e;Vn(s,a,d),r=l}else for(o=0;o<n.length;o++){if(l=(a=n[o]).instance,d=a.currentTarget,a=a.listener,l!==r&&s.isPropagationStopped())break e;Vn(s,a,d),r=l}}}if(Be)throw e=He,Be=!1,He=null,e}function Hn(e,t){var i=t[gs];void 0===i&&(i=t[gs]=new Set);var n=e+"__bubble";i.has(n)||(Gn(t,e,2,!1),i.add(n))}function Wn(e,t,i){var n=0;t&&(n|=4),Gn(i,e,n,t)}var Fn="_reactListening"+Math.random().toString(36).slice(2);function Un(e){if(!e[Fn]){e[Fn]=!0,o.forEach((function(t){"selectionchange"!==t&&(xn.has(t)||Wn(t,!1,e),Wn(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Fn]||(t[Fn]=!0,Wn("selectionchange",!1,t))}}function Gn(e,t,i,n){switch(qt(t)){case 1:var s=Kt;break;case 4:s=zt;break;default:s=Zt}i=s.bind(null,t,i,e),s=void 0,!Pe||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(s=!0),n?void 0!==s?e.addEventListener(t,i,{capture:!0,passive:s}):e.addEventListener(t,i,!0):void 0!==s?e.addEventListener(t,i,{passive:s}):e.addEventListener(t,i,!1)}function jn(e,t,i,n,s){var r=n;if(!(1&t||2&t||null===n))e:for(;;){if(null===n)return;var o=n.tag;if(3===o||4===o){var a=n.stateNode.containerInfo;if(a===s||8===a.nodeType&&a.parentNode===s)break;if(4===o)for(o=n.return;null!==o;){var l=o.tag;if((3===l||4===l)&&((l=o.stateNode.containerInfo)===s||8===l.nodeType&&l.parentNode===s))return;o=o.return}for(;null!==a;){if(null===(o=vs(a)))return;if(5===(l=o.tag)||6===l){n=r=o;continue e}a=a.parentNode}}n=n.return}Le((function(){var n=r,s=Te(i),o=[];e:{var a=wn.get(e);if(void 0!==a){var l=di,d=e;switch(e){case"keypress":if(0===ti(i))break e;case"keydown":case"keyup":l=yi;break;case"focusin":d="focus",l=gi;break;case"focusout":d="blur",l=gi;break;case"beforeblur":case"afterblur":l=gi;break;case"click":if(2===i.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=pi;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=_i;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=Si;break;case yn:case bn:case Sn:l=fi;break;case Dn:l=Di;break;case"scroll":l=ci;break;case"wheel":l=Li;break;case"copy":case"cut":case"paste":l=vi;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=bi}var u=!!(4&t),c=!u&&"scroll"===e,h=u?null!==a?a+"Capture":null:a;u=[];for(var p,_=n;null!==_;){var g=(p=_).stateNode;if(5===p.tag&&null!==g&&(p=g,null!==h&&(null!=(g=Re(_,h))&&u.push(Kn(_,g,p)))),c)break;_=_.return}0<u.length&&(a=new l(a,d,null,i,s),o.push({event:a,listeners:u}))}}if(!(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(a="mouseover"===e||"pointerover"===e)||i===Ee||!(d=i.relatedTarget||i.fromElement)||!vs(d)&&!d[_s])&&(l||a)&&(a=s.window===s?s:(a=s.ownerDocument)?a.defaultView||a.parentWindow:window,l?(l=n,null!==(d=(d=i.relatedTarget||i.toElement)?vs(d):null)&&(d!==(c=Ue(d))||5!==d.tag&&6!==d.tag)&&(d=null)):(l=null,d=n),l!==d)){if(u=pi,g="onMouseLeave",h="onMouseEnter",_="mouse","pointerout"!==e&&"pointerover"!==e||(u=bi,g="onPointerLeave",h="onPointerEnter",_="pointer"),c=null==l?a:Es(l),p=null==d?a:Es(d),(a=new u(g,_+"leave",l,i,s)).target=c,a.relatedTarget=p,g=null,vs(s)===n&&((u=new u(h,_+"enter",d,i,s)).target=p,u.relatedTarget=c,g=u),c=g,l&&d)e:{for(h=d,_=0,p=u=l;p;p=Zn(p))_++;for(p=0,g=h;g;g=Zn(g))p++;for(;0<_-p;)u=Zn(u),_--;for(;0<p-_;)h=Zn(h),p--;for(;_--;){if(u===h||null!==h&&u===h.alternate)break e;u=Zn(u),h=Zn(h)}u=null}else u=null;null!==l&&Yn(o,a,l,u,!1),null!==d&&null!==c&&Yn(o,c,d,u,!0)}if("select"===(l=(a=n?Es(n):window).nodeName&&a.nodeName.toLowerCase())||"input"===l&&"file"===a.type)var f=$i;else if(Gi(a))if(qi)f=on;else{f=sn;var m=nn}else(l=a.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===a.type||"radio"===a.type)&&(f=rn);switch(f&&(f=f(e,n))?ji(o,f,i,s):(m&&m(e,a,n),"focusout"===e&&(m=a._wrapperState)&&m.controlled&&"number"===a.type&&ee(a,"number",a.value)),m=n?Es(n):window,e){case"focusin":(Gi(m)||"true"===m.contentEditable)&&(fn=m,mn=n,vn=null);break;case"focusout":vn=mn=fn=null;break;case"mousedown":An=!0;break;case"contextmenu":case"mouseup":case"dragend":An=!1,En(o,i,s);break;case"selectionchange":if(gn)break;case"keydown":case"keyup":En(o,i,s)}var v;if(Pi)e:{switch(e){case"compositionstart":var A="onCompositionStart";break e;case"compositionend":A="onCompositionEnd";break e;case"compositionupdate":A="onCompositionUpdate";break e}A=void 0}else Fi?Hi(e,i)&&(A="onCompositionEnd"):"keydown"===e&&229===i.keyCode&&(A="onCompositionStart");A&&(xi&&"ko"!==i.locale&&(Fi||"onCompositionStart"!==A?"onCompositionEnd"===A&&Fi&&(v=ei()):(Jt="value"in(Xt=s)?Xt.value:Xt.textContent,Fi=!0)),0<(m=zn(n,A)).length&&(A=new Ai(A,e,null,i,s),o.push({event:A,listeners:m}),v?A.data=v:null!==(v=Wi(i))&&(A.data=v))),(v=ki?function(e,t){switch(e){case"compositionend":return Wi(t);case"keypress":return 32!==t.which?null:(Bi=!0,Vi);case"textInput":return(e=t.data)===Vi&&Bi?null:e;default:return null}}(e,i):function(e,t){if(Fi)return"compositionend"===e||!Pi&&Hi(e,t)?(e=ei(),Qt=Jt=Xt=null,Fi=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return xi&&"ko"!==t.locale?null:t.data}}(e,i))&&(0<(n=zn(n,"onBeforeInput")).length&&(s=new Ai("onBeforeInput","beforeinput",null,i,s),o.push({event:s,listeners:n}),s.data=v))}Bn(o,t)}))}function Kn(e,t,i){return{instance:e,listener:t,currentTarget:i}}function zn(e,t){for(var i=t+"Capture",n=[];null!==e;){var s=e,r=s.stateNode;5===s.tag&&null!==r&&(s=r,null!=(r=Re(e,i))&&n.unshift(Kn(e,r,s)),null!=(r=Re(e,t))&&n.push(Kn(e,r,s))),e=e.return}return n}function Zn(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Yn(e,t,i,n,s){for(var r=t._reactName,o=[];null!==i&&i!==n;){var a=i,l=a.alternate,d=a.stateNode;if(null!==l&&l===n)break;5===a.tag&&null!==d&&(a=d,s?null!=(l=Re(i,r))&&o.unshift(Kn(i,l,a)):s||null!=(l=Re(i,r))&&o.push(Kn(i,l,a))),i=i.return}0!==o.length&&e.push({event:t,listeners:o})}var $n=/\r\n?/g,qn=/\u0000|\uFFFD/g;function Xn(e){return("string"==typeof e?e:""+e).replace($n,"\n").replace(qn,"")}function Jn(e,t,i){if(t=Xn(t),Xn(e)!==t&&i)throw Error(r(425))}function Qn(){}var es=null,ts=null;function is(e,t){return"textarea"===e||"noscript"===e||"string"==typeof t.children||"number"==typeof t.children||"object"==typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ns="function"==typeof setTimeout?setTimeout:void 0,ss="function"==typeof clearTimeout?clearTimeout:void 0,rs="function"==typeof Promise?Promise:void 0,os="function"==typeof queueMicrotask?queueMicrotask:void 0!==rs?function(e){return rs.resolve(null).then(e).catch(as)}:ns;function as(e){setTimeout((function(){throw e}))}function ls(e,t){var i=t,n=0;do{var s=i.nextSibling;if(e.removeChild(i),s&&8===s.nodeType)if("/$"===(i=s.data)){if(0===n)return e.removeChild(s),void Ut(t);n--}else"$"!==i&&"$?"!==i&&"$!"!==i||n++;i=s}while(i);Ut(t)}function ds(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function us(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var i=e.data;if("$"===i||"$!"===i||"$?"===i){if(0===t)return e;t--}else"/$"===i&&t++}e=e.previousSibling}return null}var cs=Math.random().toString(36).slice(2),hs="__reactFiber$"+cs,ps="__reactProps$"+cs,_s="__reactContainer$"+cs,gs="__reactEvents$"+cs,fs="__reactListeners$"+cs,ms="__reactHandles$"+cs;function vs(e){var t=e[hs];if(t)return t;for(var i=e.parentNode;i;){if(t=i[_s]||i[hs]){if(i=t.alternate,null!==t.child||null!==i&&null!==i.child)for(e=us(e);null!==e;){if(i=e[hs])return i;e=us(e)}return t}i=(e=i).parentNode}return null}function As(e){return!(e=e[hs]||e[_s])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function Es(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(r(33))}function Ts(e){return e[ps]||null}var Is=[],Cs=-1;function Os(e){return{current:e}}function Ms(e){0>Cs||(e.current=Is[Cs],Is[Cs]=null,Cs--)}function ys(e,t){Cs++,Is[Cs]=e.current,e.current=t}var bs={},Ss=Os(bs),Ds=Os(!1),ws=bs;function Ls(e,t){var i=e.type.contextTypes;if(!i)return bs;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var s,r={};for(s in i)r[s]=t[s];return n&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=r),r}function Rs(e){return null!=(e=e.childContextTypes)}function Ps(){Ms(Ds),Ms(Ss)}function Ns(e,t,i){if(Ss.current!==bs)throw Error(r(168));ys(Ss,t),ys(Ds,i)}function ks(e,t,i){var n=e.stateNode;if(t=t.childContextTypes,"function"!=typeof n.getChildContext)return i;for(var s in n=n.getChildContext())if(!(s in t))throw Error(r(108,G(e)||"Unknown",s));return V({},i,n)}function xs(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||bs,ws=Ss.current,ys(Ss,e),ys(Ds,Ds.current),!0}function Vs(e,t,i){var n=e.stateNode;if(!n)throw Error(r(169));i?(e=ks(e,t,ws),n.__reactInternalMemoizedMergedChildContext=e,Ms(Ds),Ms(Ss),ys(Ss,e)):Ms(Ds),ys(Ds,i)}var Bs=null,Hs=!1,Ws=!1;function Fs(e){null===Bs?Bs=[e]:Bs.push(e)}function Us(){if(!Ws&&null!==Bs){Ws=!0;var e=0,t=At;try{var i=Bs;for(At=1;e<i.length;e++){var n=i[e];do{n=n(!0)}while(null!==n)}Bs=null,Hs=!1}catch(s){throw null!==Bs&&(Bs=Bs.slice(e+1)),Ze(Qe,Us),s}finally{At=t,Ws=!1}}return null}var Gs=[],js=0,Ks=null,zs=0,Zs=[],Ys=0,$s=null,qs=1,Xs="";function Js(e,t){Gs[js++]=zs,Gs[js++]=Ks,Ks=e,zs=t}function Qs(e,t,i){Zs[Ys++]=qs,Zs[Ys++]=Xs,Zs[Ys++]=$s,$s=e;var n=qs;e=Xs;var s=32-ot(n)-1;n&=~(1<<s),i+=1;var r=32-ot(t)+s;if(30<r){var o=s-s%5;r=(n&(1<<o)-1).toString(32),n>>=o,s-=o,qs=1<<32-ot(t)+s|i<<s|n,Xs=r+e}else qs=1<<r|i<<s|n,Xs=e}function er(e){null!==e.return&&(Js(e,1),Qs(e,1,0))}function tr(e){for(;e===Ks;)Ks=Gs[--js],Gs[js]=null,zs=Gs[--js],Gs[js]=null;for(;e===$s;)$s=Zs[--Ys],Zs[Ys]=null,Xs=Zs[--Ys],Zs[Ys]=null,qs=Zs[--Ys],Zs[Ys]=null}var ir=null,nr=null,sr=!1,rr=null;function or(e,t){var i=Rd(5,null,null,0);i.elementType="DELETED",i.stateNode=t,i.return=e,null===(t=e.deletions)?(e.deletions=[i],e.flags|=16):t.push(i)}function ar(e,t){switch(e.tag){case 5:var i=e.type;return null!==(t=1!==t.nodeType||i.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,ir=e,nr=ds(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,ir=e,nr=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(i=null!==$s?{id:qs,overflow:Xs}:null,e.memoizedState={dehydrated:t,treeContext:i,retryLane:1073741824},(i=Rd(18,null,null,0)).stateNode=t,i.return=e,e.child=i,ir=e,nr=null,!0);default:return!1}}function lr(e){return!(!(1&e.mode)||128&e.flags)}function dr(e){if(sr){var t=nr;if(t){var i=t;if(!ar(e,t)){if(lr(e))throw Error(r(418));t=ds(i.nextSibling);var n=ir;t&&ar(e,t)?or(n,i):(e.flags=-4097&e.flags|2,sr=!1,ir=e)}}else{if(lr(e))throw Error(r(418));e.flags=-4097&e.flags|2,sr=!1,ir=e}}}function ur(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;ir=e}function cr(e){if(e!==ir)return!1;if(!sr)return ur(e),sr=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!is(e.type,e.memoizedProps)),t&&(t=nr)){if(lr(e))throw hr(),Error(r(418));for(;t;)or(e,t),t=ds(t.nextSibling)}if(ur(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(r(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var i=e.data;if("/$"===i){if(0===t){nr=ds(e.nextSibling);break e}t--}else"$"!==i&&"$!"!==i&&"$?"!==i||t++}e=e.nextSibling}nr=null}}else nr=ir?ds(e.stateNode.nextSibling):null;return!0}function hr(){for(var e=nr;e;)e=ds(e.nextSibling)}function pr(){nr=ir=null,sr=!1}function _r(e){null===rr?rr=[e]:rr.push(e)}var gr=E.ReactCurrentBatchConfig;function fr(e,t){if(e&&e.defaultProps){for(var i in t=V({},t),e=e.defaultProps)void 0===t[i]&&(t[i]=e[i]);return t}return t}var mr=Os(null),vr=null,Ar=null,Er=null;function Tr(){Er=Ar=vr=null}function Ir(e){var t=mr.current;Ms(mr),e._currentValue=t}function Cr(e,t,i){for(;null!==e;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==n&&(n.childLanes|=t)):null!==n&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===i)break;e=e.return}}function Or(e,t){vr=e,Er=Ar=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(!!(e.lanes&t)&&(Ea=!0),e.firstContext=null)}function Mr(e){var t=e._currentValue;if(Er!==e)if(e={context:e,memoizedValue:t,next:null},null===Ar){if(null===vr)throw Error(r(308));Ar=e,vr.dependencies={lanes:0,firstContext:e}}else Ar=Ar.next=e;return t}var yr=null;function br(e){null===yr?yr=[e]:yr.push(e)}function Sr(e,t,i,n){var s=t.interleaved;return null===s?(i.next=i,br(t)):(i.next=s.next,s.next=i),t.interleaved=i,Dr(e,n)}function Dr(e,t){e.lanes|=t;var i=e.alternate;for(null!==i&&(i.lanes|=t),i=e,e=e.return;null!==e;)e.childLanes|=t,null!==(i=e.alternate)&&(i.childLanes|=t),i=e,e=e.return;return 3===i.tag?i.stateNode:null}var wr=!1;function Lr(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Rr(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Pr(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Nr(e,t,i){var n=e.updateQueue;if(null===n)return null;if(n=n.shared,2&Dl){var s=n.pending;return null===s?t.next=t:(t.next=s.next,s.next=t),n.pending=t,Dr(e,i)}return null===(s=n.interleaved)?(t.next=t,br(n)):(t.next=s.next,s.next=t),n.interleaved=t,Dr(e,i)}function kr(e,t,i){if(null!==(t=t.updateQueue)&&(t=t.shared,4194240&i)){var n=t.lanes;i|=n&=e.pendingLanes,t.lanes=i,vt(e,i)}}function xr(e,t){var i=e.updateQueue,n=e.alternate;if(null!==n&&i===(n=n.updateQueue)){var s=null,r=null;if(null!==(i=i.firstBaseUpdate)){do{var o={eventTime:i.eventTime,lane:i.lane,tag:i.tag,payload:i.payload,callback:i.callback,next:null};null===r?s=r=o:r=r.next=o,i=i.next}while(null!==i);null===r?s=r=t:r=r.next=t}else s=r=t;return i={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:r,shared:n.shared,effects:n.effects},void(e.updateQueue=i)}null===(e=i.lastBaseUpdate)?i.firstBaseUpdate=t:e.next=t,i.lastBaseUpdate=t}function Vr(e,t,i,n){var s=e.updateQueue;wr=!1;var r=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(null!==a){s.shared.pending=null;var l=a,d=l.next;l.next=null,null===o?r=d:o.next=d,o=l;var u=e.alternate;null!==u&&((a=(u=u.updateQueue).lastBaseUpdate)!==o&&(null===a?u.firstBaseUpdate=d:a.next=d,u.lastBaseUpdate=l))}if(null!==r){var c=s.baseState;for(o=0,u=d=l=null,a=r;;){var h=a.lane,p=a.eventTime;if((n&h)===h){null!==u&&(u=u.next={eventTime:p,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var _=e,g=a;switch(h=t,p=i,g.tag){case 1:if("function"==typeof(_=g.payload)){c=_.call(p,c,h);break e}c=_;break e;case 3:_.flags=-65537&_.flags|128;case 0:if(null==(h="function"==typeof(_=g.payload)?_.call(p,c,h):_))break e;c=V({},c,h);break e;case 2:wr=!0}}null!==a.callback&&0!==a.lane&&(e.flags|=64,null===(h=s.effects)?s.effects=[a]:h.push(a))}else p={eventTime:p,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},null===u?(d=u=p,l=c):u=u.next=p,o|=h;if(null===(a=a.next)){if(null===(a=s.shared.pending))break;a=(h=a).next,h.next=null,s.lastBaseUpdate=h,s.shared.pending=null}}if(null===u&&(l=c),s.baseState=l,s.firstBaseUpdate=d,s.lastBaseUpdate=u,null!==(t=s.shared.interleaved)){s=t;do{o|=s.lane,s=s.next}while(s!==t)}else null===r&&(s.shared.lanes=0);Vl|=o,e.lanes=o,e.memoizedState=c}}function Br(e,t,i){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var n=e[t],s=n.callback;if(null!==s){if(n.callback=null,n=i,"function"!=typeof s)throw Error(r(191,s));s.call(n)}}}var Hr=(new n.Component).refs;function Wr(e,t,i,n){i=null==(i=i(n,t=e.memoizedState))?t:V({},t,i),e.memoizedState=i,0===e.lanes&&(e.updateQueue.baseState=i)}var Fr={isMounted:function(e){return!!(e=e._reactInternals)&&Ue(e)===e},enqueueSetState:function(e,t,i){e=e._reactInternals;var n=td(),s=id(e),r=Pr(n,s);r.payload=t,null!=i&&(r.callback=i),null!==(t=Nr(e,r,s))&&(nd(t,e,s,n),kr(t,e,s))},enqueueReplaceState:function(e,t,i){e=e._reactInternals;var n=td(),s=id(e),r=Pr(n,s);r.tag=1,r.payload=t,null!=i&&(r.callback=i),null!==(t=Nr(e,r,s))&&(nd(t,e,s,n),kr(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var i=td(),n=id(e),s=Pr(i,n);s.tag=2,null!=t&&(s.callback=t),null!==(t=Nr(e,s,n))&&(nd(t,e,n,i),kr(t,e,n))}};function Ur(e,t,i,n,s,r,o){return"function"==typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(n,r,o):!t.prototype||!t.prototype.isPureReactComponent||(!ln(i,n)||!ln(s,r))}function Gr(e,t,i){var n=!1,s=bs,r=t.contextType;return"object"==typeof r&&null!==r?r=Mr(r):(s=Rs(t)?ws:Ss.current,r=(n=null!=(n=t.contextTypes))?Ls(e,s):bs),t=new t(i,r),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=Fr,e.stateNode=t,t._reactInternals=e,n&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=r),t}function jr(e,t,i,n){e=t.state,"function"==typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(i,n),"function"==typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(i,n),t.state!==e&&Fr.enqueueReplaceState(t,t.state,null)}function Kr(e,t,i,n){var s=e.stateNode;s.props=i,s.state=e.memoizedState,s.refs=Hr,Lr(e);var r=t.contextType;"object"==typeof r&&null!==r?s.context=Mr(r):(r=Rs(t)?ws:Ss.current,s.context=Ls(e,r)),s.state=e.memoizedState,"function"==typeof(r=t.getDerivedStateFromProps)&&(Wr(e,t,r,i),s.state=e.memoizedState),"function"==typeof t.getDerivedStateFromProps||"function"==typeof s.getSnapshotBeforeUpdate||"function"!=typeof s.UNSAFE_componentWillMount&&"function"!=typeof s.componentWillMount||(t=s.state,"function"==typeof s.componentWillMount&&s.componentWillMount(),"function"==typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount(),t!==s.state&&Fr.enqueueReplaceState(s,s.state,null),Vr(e,i,s,n),s.state=e.memoizedState),"function"==typeof s.componentDidMount&&(e.flags|=4194308)}function zr(e,t,i){if(null!==(e=i.ref)&&"function"!=typeof e&&"object"!=typeof e){if(i._owner){if(i=i._owner){if(1!==i.tag)throw Error(r(309));var n=i.stateNode}if(!n)throw Error(r(147,e));var s=n,o=""+e;return null!==t&&null!==t.ref&&"function"==typeof t.ref&&t.ref._stringRef===o?t.ref:(t=function(e){var t=s.refs;t===Hr&&(t=s.refs={}),null===e?delete t[o]:t[o]=e},t._stringRef=o,t)}if("string"!=typeof e)throw Error(r(284));if(!i._owner)throw Error(r(290,e))}return e}function Zr(e,t){throw e=Object.prototype.toString.call(t),Error(r(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Yr(e){return(0,e._init)(e._payload)}function $r(e){function t(t,i){if(e){var n=t.deletions;null===n?(t.deletions=[i],t.flags|=16):n.push(i)}}function i(i,n){if(!e)return null;for(;null!==n;)t(i,n),n=n.sibling;return null}function n(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function s(e,t){return(e=Nd(e,t)).index=0,e.sibling=null,e}function o(t,i,n){return t.index=n,e?null!==(n=t.alternate)?(n=n.index)<i?(t.flags|=2,i):n:(t.flags|=2,i):(t.flags|=1048576,i)}function a(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,i,n){return null===t||6!==t.tag?((t=Bd(i,e.mode,n)).return=e,t):((t=s(t,i)).return=e,t)}function d(e,t,i,n){var r=i.type;return r===C?c(e,t,i.props.children,n,i.key):null!==t&&(t.elementType===r||"object"==typeof r&&null!==r&&r.$$typeof===R&&Yr(r)===t.type)?((n=s(t,i.props)).ref=zr(e,t,i),n.return=e,n):((n=kd(i.type,i.key,i.props,null,e.mode,n)).ref=zr(e,t,i),n.return=e,n)}function u(e,t,i,n){return null===t||4!==t.tag||t.stateNode.containerInfo!==i.containerInfo||t.stateNode.implementation!==i.implementation?((t=Hd(i,e.mode,n)).return=e,t):((t=s(t,i.children||[])).return=e,t)}function c(e,t,i,n,r){return null===t||7!==t.tag?((t=xd(i,e.mode,n,r)).return=e,t):((t=s(t,i)).return=e,t)}function h(e,t,i){if("string"==typeof t&&""!==t||"number"==typeof t)return(t=Bd(""+t,e.mode,i)).return=e,t;if("object"==typeof t&&null!==t){switch(t.$$typeof){case T:return(i=kd(t.type,t.key,t.props,null,e.mode,i)).ref=zr(e,null,t),i.return=e,i;case I:return(t=Hd(t,e.mode,i)).return=e,t;case R:return h(e,(0,t._init)(t._payload),i)}if(te(t)||k(t))return(t=xd(t,e.mode,i,null)).return=e,t;Zr(e,t)}return null}function p(e,t,i,n){var s=null!==t?t.key:null;if("string"==typeof i&&""!==i||"number"==typeof i)return null!==s?null:l(e,t,""+i,n);if("object"==typeof i&&null!==i){switch(i.$$typeof){case T:return i.key===s?d(e,t,i,n):null;case I:return i.key===s?u(e,t,i,n):null;case R:return p(e,t,(s=i._init)(i._payload),n)}if(te(i)||k(i))return null!==s?null:c(e,t,i,n,null);Zr(e,i)}return null}function _(e,t,i,n,s){if("string"==typeof n&&""!==n||"number"==typeof n)return l(t,e=e.get(i)||null,""+n,s);if("object"==typeof n&&null!==n){switch(n.$$typeof){case T:return d(t,e=e.get(null===n.key?i:n.key)||null,n,s);case I:return u(t,e=e.get(null===n.key?i:n.key)||null,n,s);case R:return _(e,t,i,(0,n._init)(n._payload),s)}if(te(n)||k(n))return c(t,e=e.get(i)||null,n,s,null);Zr(t,n)}return null}function g(s,r,a,l){for(var d=null,u=null,c=r,g=r=0,f=null;null!==c&&g<a.length;g++){c.index>g?(f=c,c=null):f=c.sibling;var m=p(s,c,a[g],l);if(null===m){null===c&&(c=f);break}e&&c&&null===m.alternate&&t(s,c),r=o(m,r,g),null===u?d=m:u.sibling=m,u=m,c=f}if(g===a.length)return i(s,c),sr&&Js(s,g),d;if(null===c){for(;g<a.length;g++)null!==(c=h(s,a[g],l))&&(r=o(c,r,g),null===u?d=c:u.sibling=c,u=c);return sr&&Js(s,g),d}for(c=n(s,c);g<a.length;g++)null!==(f=_(c,s,g,a[g],l))&&(e&&null!==f.alternate&&c.delete(null===f.key?g:f.key),r=o(f,r,g),null===u?d=f:u.sibling=f,u=f);return e&&c.forEach((function(e){return t(s,e)})),sr&&Js(s,g),d}function f(s,a,l,d){var u=k(l);if("function"!=typeof u)throw Error(r(150));if(null==(l=u.call(l)))throw Error(r(151));for(var c=u=null,g=a,f=a=0,m=null,v=l.next();null!==g&&!v.done;f++,v=l.next()){g.index>f?(m=g,g=null):m=g.sibling;var A=p(s,g,v.value,d);if(null===A){null===g&&(g=m);break}e&&g&&null===A.alternate&&t(s,g),a=o(A,a,f),null===c?u=A:c.sibling=A,c=A,g=m}if(v.done)return i(s,g),sr&&Js(s,f),u;if(null===g){for(;!v.done;f++,v=l.next())null!==(v=h(s,v.value,d))&&(a=o(v,a,f),null===c?u=v:c.sibling=v,c=v);return sr&&Js(s,f),u}for(g=n(s,g);!v.done;f++,v=l.next())null!==(v=_(g,s,f,v.value,d))&&(e&&null!==v.alternate&&g.delete(null===v.key?f:v.key),a=o(v,a,f),null===c?u=v:c.sibling=v,c=v);return e&&g.forEach((function(e){return t(s,e)})),sr&&Js(s,f),u}return function e(n,r,o,l){if("object"==typeof o&&null!==o&&o.type===C&&null===o.key&&(o=o.props.children),"object"==typeof o&&null!==o){switch(o.$$typeof){case T:e:{for(var d=o.key,u=r;null!==u;){if(u.key===d){if((d=o.type)===C){if(7===u.tag){i(n,u.sibling),(r=s(u,o.props.children)).return=n,n=r;break e}}else if(u.elementType===d||"object"==typeof d&&null!==d&&d.$$typeof===R&&Yr(d)===u.type){i(n,u.sibling),(r=s(u,o.props)).ref=zr(n,u,o),r.return=n,n=r;break e}i(n,u);break}t(n,u),u=u.sibling}o.type===C?((r=xd(o.props.children,n.mode,l,o.key)).return=n,n=r):((l=kd(o.type,o.key,o.props,null,n.mode,l)).ref=zr(n,r,o),l.return=n,n=l)}return a(n);case I:e:{for(u=o.key;null!==r;){if(r.key===u){if(4===r.tag&&r.stateNode.containerInfo===o.containerInfo&&r.stateNode.implementation===o.implementation){i(n,r.sibling),(r=s(r,o.children||[])).return=n,n=r;break e}i(n,r);break}t(n,r),r=r.sibling}(r=Hd(o,n.mode,l)).return=n,n=r}return a(n);case R:return e(n,r,(u=o._init)(o._payload),l)}if(te(o))return g(n,r,o,l);if(k(o))return f(n,r,o,l);Zr(n,o)}return"string"==typeof o&&""!==o||"number"==typeof o?(o=""+o,null!==r&&6===r.tag?(i(n,r.sibling),(r=s(r,o)).return=n,n=r):(i(n,r),(r=Bd(o,n.mode,l)).return=n,n=r),a(n)):i(n,r)}}var qr=$r(!0),Xr=$r(!1),Jr={},Qr=Os(Jr),eo=Os(Jr),to=Os(Jr);function io(e){if(e===Jr)throw Error(r(174));return e}function no(e,t){switch(ys(to,t),ys(eo,e),ys(Qr,Jr),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Ms(Qr),ys(Qr,t)}function so(){Ms(Qr),Ms(eo),Ms(to)}function ro(e){io(to.current);var t=io(Qr.current),i=le(t,e.type);t!==i&&(ys(eo,e),ys(Qr,i))}function oo(e){eo.current===e&&(Ms(Qr),Ms(eo))}var ao=Os(0);function lo(e){for(var t=e;null!==t;){if(13===t.tag){var i=t.memoizedState;if(null!==i&&(null===(i=i.dehydrated)||"$?"===i.data||"$!"===i.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(128&t.flags)return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var uo=[];function co(){for(var e=0;e<uo.length;e++)uo[e]._workInProgressVersionPrimary=null;uo.length=0}var ho=E.ReactCurrentDispatcher,po=E.ReactCurrentBatchConfig,_o=0,go=null,fo=null,mo=null,vo=!1,Ao=!1,Eo=0,To=0;function Io(){throw Error(r(321))}function Co(e,t){if(null===t)return!1;for(var i=0;i<t.length&&i<e.length;i++)if(!an(e[i],t[i]))return!1;return!0}function Oo(e,t,i,n,s,o){if(_o=o,go=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ho.current=null===e||null===e.memoizedState?aa:la,e=i(n,s),Ao){o=0;do{if(Ao=!1,Eo=0,25<=o)throw Error(r(301));o+=1,mo=fo=null,t.updateQueue=null,ho.current=da,e=i(n,s)}while(Ao)}if(ho.current=oa,t=null!==fo&&null!==fo.next,_o=0,mo=fo=go=null,vo=!1,t)throw Error(r(300));return e}function Mo(){var e=0!==Eo;return Eo=0,e}function yo(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===mo?go.memoizedState=mo=e:mo=mo.next=e,mo}function bo(){if(null===fo){var e=go.alternate;e=null!==e?e.memoizedState:null}else e=fo.next;var t=null===mo?go.memoizedState:mo.next;if(null!==t)mo=t,fo=e;else{if(null===e)throw Error(r(310));e={memoizedState:(fo=e).memoizedState,baseState:fo.baseState,baseQueue:fo.baseQueue,queue:fo.queue,next:null},null===mo?go.memoizedState=mo=e:mo=mo.next=e}return mo}function So(e,t){return"function"==typeof t?t(e):t}function Do(e){var t=bo(),i=t.queue;if(null===i)throw Error(r(311));i.lastRenderedReducer=e;var n=fo,s=n.baseQueue,o=i.pending;if(null!==o){if(null!==s){var a=s.next;s.next=o.next,o.next=a}n.baseQueue=s=o,i.pending=null}if(null!==s){o=s.next,n=n.baseState;var l=a=null,d=null,u=o;do{var c=u.lane;if((_o&c)===c)null!==d&&(d=d.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var h={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};null===d?(l=d=h,a=n):d=d.next=h,go.lanes|=c,Vl|=c}u=u.next}while(null!==u&&u!==o);null===d?a=n:d.next=l,an(n,t.memoizedState)||(Ea=!0),t.memoizedState=n,t.baseState=a,t.baseQueue=d,i.lastRenderedState=n}if(null!==(e=i.interleaved)){s=e;do{o=s.lane,go.lanes|=o,Vl|=o,s=s.next}while(s!==e)}else null===s&&(i.lanes=0);return[t.memoizedState,i.dispatch]}function wo(e){var t=bo(),i=t.queue;if(null===i)throw Error(r(311));i.lastRenderedReducer=e;var n=i.dispatch,s=i.pending,o=t.memoizedState;if(null!==s){i.pending=null;var a=s=s.next;do{o=e(o,a.action),a=a.next}while(a!==s);an(o,t.memoizedState)||(Ea=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),i.lastRenderedState=o}return[o,n]}function Lo(){}function Ro(e,t){var i=go,n=bo(),s=t(),o=!an(n.memoizedState,s);if(o&&(n.memoizedState=s,Ea=!0),n=n.queue,jo(ko.bind(null,i,n,e),[e]),n.getSnapshot!==t||o||null!==mo&&1&mo.memoizedState.tag){if(i.flags|=2048,Ho(9,No.bind(null,i,n,s,t),void 0,null),null===wl)throw Error(r(349));30&_o||Po(i,t,s)}return s}function Po(e,t,i){e.flags|=16384,e={getSnapshot:t,value:i},null===(t=go.updateQueue)?(t={lastEffect:null,stores:null},go.updateQueue=t,t.stores=[e]):null===(i=t.stores)?t.stores=[e]:i.push(e)}function No(e,t,i,n){t.value=i,t.getSnapshot=n,xo(t)&&Vo(e)}function ko(e,t,i){return i((function(){xo(t)&&Vo(e)}))}function xo(e){var t=e.getSnapshot;e=e.value;try{var i=t();return!an(e,i)}catch(n){return!0}}function Vo(e){var t=Dr(e,1);null!==t&&nd(t,e,1,-1)}function Bo(e){var t=yo();return"function"==typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:So,lastRenderedState:e},t.queue=e,e=e.dispatch=ia.bind(null,go,e),[t.memoizedState,e]}function Ho(e,t,i,n){return e={tag:e,create:t,destroy:i,deps:n,next:null},null===(t=go.updateQueue)?(t={lastEffect:null,stores:null},go.updateQueue=t,t.lastEffect=e.next=e):null===(i=t.lastEffect)?t.lastEffect=e.next=e:(n=i.next,i.next=e,e.next=n,t.lastEffect=e),e}function Wo(){return bo().memoizedState}function Fo(e,t,i,n){var s=yo();go.flags|=e,s.memoizedState=Ho(1|t,i,void 0,void 0===n?null:n)}function Uo(e,t,i,n){var s=bo();n=void 0===n?null:n;var r=void 0;if(null!==fo){var o=fo.memoizedState;if(r=o.destroy,null!==n&&Co(n,o.deps))return void(s.memoizedState=Ho(t,i,r,n))}go.flags|=e,s.memoizedState=Ho(1|t,i,r,n)}function Go(e,t){return Fo(8390656,8,e,t)}function jo(e,t){return Uo(2048,8,e,t)}function Ko(e,t){return Uo(4,2,e,t)}function zo(e,t){return Uo(4,4,e,t)}function Zo(e,t){return"function"==typeof t?(e=e(),t(e),function(){t(null)}):null!=t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Yo(e,t,i){return i=null!=i?i.concat([e]):null,Uo(4,4,Zo.bind(null,t,e),i)}function $o(){}function qo(e,t){var i=bo();t=void 0===t?null:t;var n=i.memoizedState;return null!==n&&null!==t&&Co(t,n[1])?n[0]:(i.memoizedState=[e,t],e)}function Xo(e,t){var i=bo();t=void 0===t?null:t;var n=i.memoizedState;return null!==n&&null!==t&&Co(t,n[1])?n[0]:(e=e(),i.memoizedState=[e,t],e)}function Jo(e,t,i){return 21&_o?(an(i,t)||(i=gt(),go.lanes|=i,Vl|=i,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Ea=!0),e.memoizedState=i)}function Qo(e,t){var i=At;At=0!==i&&4>i?i:4,e(!0);var n=po.transition;po.transition={};try{e(!1),t()}finally{At=i,po.transition=n}}function ea(){return bo().memoizedState}function ta(e,t,i){var n=id(e);if(i={lane:n,action:i,hasEagerState:!1,eagerState:null,next:null},na(e))sa(t,i);else if(null!==(i=Sr(e,t,i,n))){nd(i,e,n,td()),ra(i,t,n)}}function ia(e,t,i){var n=id(e),s={lane:n,action:i,hasEagerState:!1,eagerState:null,next:null};if(na(e))sa(t,s);else{var r=e.alternate;if(0===e.lanes&&(null===r||0===r.lanes)&&null!==(r=t.lastRenderedReducer))try{var o=t.lastRenderedState,a=r(o,i);if(s.hasEagerState=!0,s.eagerState=a,an(a,o)){var l=t.interleaved;return null===l?(s.next=s,br(t)):(s.next=l.next,l.next=s),void(t.interleaved=s)}}catch(d){}null!==(i=Sr(e,t,s,n))&&(nd(i,e,n,s=td()),ra(i,t,n))}}function na(e){var t=e.alternate;return e===go||null!==t&&t===go}function sa(e,t){Ao=vo=!0;var i=e.pending;null===i?t.next=t:(t.next=i.next,i.next=t),e.pending=t}function ra(e,t,i){if(4194240&i){var n=t.lanes;i|=n&=e.pendingLanes,t.lanes=i,vt(e,i)}}var oa={readContext:Mr,useCallback:Io,useContext:Io,useEffect:Io,useImperativeHandle:Io,useInsertionEffect:Io,useLayoutEffect:Io,useMemo:Io,useReducer:Io,useRef:Io,useState:Io,useDebugValue:Io,useDeferredValue:Io,useTransition:Io,useMutableSource:Io,useSyncExternalStore:Io,useId:Io,unstable_isNewReconciler:!1},aa={readContext:Mr,useCallback:function(e,t){return yo().memoizedState=[e,void 0===t?null:t],e},useContext:Mr,useEffect:Go,useImperativeHandle:function(e,t,i){return i=null!=i?i.concat([e]):null,Fo(4194308,4,Zo.bind(null,t,e),i)},useLayoutEffect:function(e,t){return Fo(4194308,4,e,t)},useInsertionEffect:function(e,t){return Fo(4,2,e,t)},useMemo:function(e,t){var i=yo();return t=void 0===t?null:t,e=e(),i.memoizedState=[e,t],e},useReducer:function(e,t,i){var n=yo();return t=void 0!==i?i(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=ta.bind(null,go,e),[n.memoizedState,e]},useRef:function(e){return e={current:e},yo().memoizedState=e},useState:Bo,useDebugValue:$o,useDeferredValue:function(e){return yo().memoizedState=e},useTransition:function(){var e=Bo(!1),t=e[0];return e=Qo.bind(null,e[1]),yo().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,i){var n=go,s=yo();if(sr){if(void 0===i)throw Error(r(407));i=i()}else{if(i=t(),null===wl)throw Error(r(349));30&_o||Po(n,t,i)}s.memoizedState=i;var o={value:i,getSnapshot:t};return s.queue=o,Go(ko.bind(null,n,o,e),[e]),n.flags|=2048,Ho(9,No.bind(null,n,o,i,t),void 0,null),i},useId:function(){var e=yo(),t=wl.identifierPrefix;if(sr){var i=Xs;t=":"+t+"R"+(i=(qs&~(1<<32-ot(qs)-1)).toString(32)+i),0<(i=Eo++)&&(t+="H"+i.toString(32)),t+=":"}else t=":"+t+"r"+(i=To++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},la={readContext:Mr,useCallback:qo,useContext:Mr,useEffect:jo,useImperativeHandle:Yo,useInsertionEffect:Ko,useLayoutEffect:zo,useMemo:Xo,useReducer:Do,useRef:Wo,useState:function(){return Do(So)},useDebugValue:$o,useDeferredValue:function(e){return Jo(bo(),fo.memoizedState,e)},useTransition:function(){return[Do(So)[0],bo().memoizedState]},useMutableSource:Lo,useSyncExternalStore:Ro,useId:ea,unstable_isNewReconciler:!1},da={readContext:Mr,useCallback:qo,useContext:Mr,useEffect:jo,useImperativeHandle:Yo,useInsertionEffect:Ko,useLayoutEffect:zo,useMemo:Xo,useReducer:wo,useRef:Wo,useState:function(){return wo(So)},useDebugValue:$o,useDeferredValue:function(e){var t=bo();return null===fo?t.memoizedState=e:Jo(t,fo.memoizedState,e)},useTransition:function(){return[wo(So)[0],bo().memoizedState]},useMutableSource:Lo,useSyncExternalStore:Ro,useId:ea,unstable_isNewReconciler:!1};function ua(e,t){try{var i="",n=t;do{i+=F(n),n=n.return}while(n);var s=i}catch(r){s="\nError generating stack: "+r.message+"\n"+r.stack}return{value:e,source:t,stack:s,digest:null}}function ca(e,t,i){return{value:e,source:null,stack:null!=i?i:null,digest:null!=t?t:null}}function ha(e,t){try{console.error(t.value)}catch(i){setTimeout((function(){throw i}))}}var pa="function"==typeof WeakMap?WeakMap:Map;function _a(e,t,i){(i=Pr(-1,i)).tag=3,i.payload={element:null};var n=t.value;return i.callback=function(){Kl||(Kl=!0,zl=n),ha(0,t)},i}function ga(e,t,i){(i=Pr(-1,i)).tag=3;var n=e.type.getDerivedStateFromError;if("function"==typeof n){var s=t.value;i.payload=function(){return n(s)},i.callback=function(){ha(0,t)}}var r=e.stateNode;return null!==r&&"function"==typeof r.componentDidCatch&&(i.callback=function(){ha(0,t),"function"!=typeof n&&(null===Zl?Zl=new Set([this]):Zl.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),i}function fa(e,t,i){var n=e.pingCache;if(null===n){n=e.pingCache=new pa;var s=new Set;n.set(t,s)}else void 0===(s=n.get(t))&&(s=new Set,n.set(t,s));s.has(i)||(s.add(i),e=yd.bind(null,e,t,i),t.then(e,e))}function ma(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function va(e,t,i,n,s){return 1&e.mode?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,i.flags|=131072,i.flags&=-52805,1===i.tag&&(null===i.alternate?i.tag=17:((t=Pr(-1,1)).tag=2,Nr(i,t,1))),i.lanes|=1),e)}var Aa=E.ReactCurrentOwner,Ea=!1;function Ta(e,t,i,n){t.child=null===e?Xr(t,null,i,n):qr(t,e.child,i,n)}function Ia(e,t,i,n,s){i=i.render;var r=t.ref;return Or(t,s),n=Oo(e,t,i,n,r,s),i=Mo(),null===e||Ea?(sr&&i&&er(t),t.flags|=1,Ta(e,t,n,s),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Ka(e,t,s))}function Ca(e,t,i,n,s){if(null===e){var r=i.type;return"function"!=typeof r||Pd(r)||void 0!==r.defaultProps||null!==i.compare||void 0!==i.defaultProps?((e=kd(i.type,null,n,t,t.mode,s)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=r,Oa(e,t,r,n,s))}if(r=e.child,!(e.lanes&s)){var o=r.memoizedProps;if((i=null!==(i=i.compare)?i:ln)(o,n)&&e.ref===t.ref)return Ka(e,t,s)}return t.flags|=1,(e=Nd(r,n)).ref=t.ref,e.return=t,t.child=e}function Oa(e,t,i,n,s){if(null!==e){var r=e.memoizedProps;if(ln(r,n)&&e.ref===t.ref){if(Ea=!1,t.pendingProps=n=r,!(e.lanes&s))return t.lanes=e.lanes,Ka(e,t,s);131072&e.flags&&(Ea=!0)}}return ba(e,t,i,n,s)}function Ma(e,t,i){var n=t.pendingProps,s=n.children,r=null!==e?e.memoizedState:null;if("hidden"===n.mode)if(1&t.mode){if(!(1073741824&i))return e=null!==r?r.baseLanes|i:i,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ys(Nl,Pl),Pl|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=null!==r?r.baseLanes:i,ys(Nl,Pl),Pl|=n}else t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ys(Nl,Pl),Pl|=i;else null!==r?(n=r.baseLanes|i,t.memoizedState=null):n=i,ys(Nl,Pl),Pl|=n;return Ta(e,t,s,i),t.child}function ya(e,t){var i=t.ref;(null===e&&null!==i||null!==e&&e.ref!==i)&&(t.flags|=512,t.flags|=2097152)}function ba(e,t,i,n,s){var r=Rs(i)?ws:Ss.current;return r=Ls(t,r),Or(t,s),i=Oo(e,t,i,n,r,s),n=Mo(),null===e||Ea?(sr&&n&&er(t),t.flags|=1,Ta(e,t,i,s),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Ka(e,t,s))}function Sa(e,t,i,n,s){if(Rs(i)){var r=!0;xs(t)}else r=!1;if(Or(t,s),null===t.stateNode)ja(e,t),Gr(t,i,n),Kr(t,i,n,s),n=!0;else if(null===e){var o=t.stateNode,a=t.memoizedProps;o.props=a;var l=o.context,d=i.contextType;"object"==typeof d&&null!==d?d=Mr(d):d=Ls(t,d=Rs(i)?ws:Ss.current);var u=i.getDerivedStateFromProps,c="function"==typeof u||"function"==typeof o.getSnapshotBeforeUpdate;c||"function"!=typeof o.UNSAFE_componentWillReceiveProps&&"function"!=typeof o.componentWillReceiveProps||(a!==n||l!==d)&&jr(t,o,n,d),wr=!1;var h=t.memoizedState;o.state=h,Vr(t,n,o,s),l=t.memoizedState,a!==n||h!==l||Ds.current||wr?("function"==typeof u&&(Wr(t,i,u,n),l=t.memoizedState),(a=wr||Ur(t,i,a,n,h,l,d))?(c||"function"!=typeof o.UNSAFE_componentWillMount&&"function"!=typeof o.componentWillMount||("function"==typeof o.componentWillMount&&o.componentWillMount(),"function"==typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"==typeof o.componentDidMount&&(t.flags|=4194308)):("function"==typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=l),o.props=n,o.state=l,o.context=d,n=a):("function"==typeof o.componentDidMount&&(t.flags|=4194308),n=!1)}else{o=t.stateNode,Rr(e,t),a=t.memoizedProps,d=t.type===t.elementType?a:fr(t.type,a),o.props=d,c=t.pendingProps,h=o.context,"object"==typeof(l=i.contextType)&&null!==l?l=Mr(l):l=Ls(t,l=Rs(i)?ws:Ss.current);var p=i.getDerivedStateFromProps;(u="function"==typeof p||"function"==typeof o.getSnapshotBeforeUpdate)||"function"!=typeof o.UNSAFE_componentWillReceiveProps&&"function"!=typeof o.componentWillReceiveProps||(a!==c||h!==l)&&jr(t,o,n,l),wr=!1,h=t.memoizedState,o.state=h,Vr(t,n,o,s);var _=t.memoizedState;a!==c||h!==_||Ds.current||wr?("function"==typeof p&&(Wr(t,i,p,n),_=t.memoizedState),(d=wr||Ur(t,i,d,n,h,_,l)||!1)?(u||"function"!=typeof o.UNSAFE_componentWillUpdate&&"function"!=typeof o.componentWillUpdate||("function"==typeof o.componentWillUpdate&&o.componentWillUpdate(n,_,l),"function"==typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(n,_,l)),"function"==typeof o.componentDidUpdate&&(t.flags|=4),"function"==typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!=typeof o.componentDidUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!=typeof o.getSnapshotBeforeUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=_),o.props=n,o.state=_,o.context=l,n=d):("function"!=typeof o.componentDidUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!=typeof o.getSnapshotBeforeUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),n=!1)}return Da(e,t,i,n,r,s)}function Da(e,t,i,n,s,r){ya(e,t);var o=!!(128&t.flags);if(!n&&!o)return s&&Vs(t,i,!1),Ka(e,t,r);n=t.stateNode,Aa.current=t;var a=o&&"function"!=typeof i.getDerivedStateFromError?null:n.render();return t.flags|=1,null!==e&&o?(t.child=qr(t,e.child,null,r),t.child=qr(t,null,a,r)):Ta(e,t,a,r),t.memoizedState=n.state,s&&Vs(t,i,!0),t.child}function wa(e){var t=e.stateNode;t.pendingContext?Ns(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Ns(0,t.context,!1),no(e,t.containerInfo)}function La(e,t,i,n,s){return pr(),_r(s),t.flags|=256,Ta(e,t,i,n),t.child}var Ra,Pa,Na,ka,xa={dehydrated:null,treeContext:null,retryLane:0};function Va(e){return{baseLanes:e,cachePool:null,transitions:null}}function Ba(e,t,i){var n,s=t.pendingProps,o=ao.current,a=!1,l=!!(128&t.flags);if((n=l)||(n=(null===e||null!==e.memoizedState)&&!!(2&o)),n?(a=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(o|=1),ys(ao,1&o),null===e)return dr(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(1&t.mode?"$!"===e.data?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(l=s.children,e=s.fallback,a?(s=t.mode,a=t.child,l={mode:"hidden",children:l},1&s||null===a?a=Vd(l,s,0,null):(a.childLanes=0,a.pendingProps=l),e=xd(e,s,i,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=Va(i),t.memoizedState=xa,e):Ha(t,l));if(null!==(o=e.memoizedState)&&null!==(n=o.dehydrated))return function(e,t,i,n,s,o,a){if(i)return 256&t.flags?(t.flags&=-257,Wa(e,t,a,n=ca(Error(r(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(o=n.fallback,s=t.mode,n=Vd({mode:"visible",children:n.children},s,0,null),(o=xd(o,s,a,null)).flags|=2,n.return=t,o.return=t,n.sibling=o,t.child=n,1&t.mode&&qr(t,e.child,null,a),t.child.memoizedState=Va(a),t.memoizedState=xa,o);if(!(1&t.mode))return Wa(e,t,a,null);if("$!"===s.data){if(n=s.nextSibling&&s.nextSibling.dataset)var l=n.dgst;return n=l,Wa(e,t,a,n=ca(o=Error(r(419)),n,void 0))}if(l=!!(a&e.childLanes),Ea||l){if(null!==(n=wl)){switch(a&-a){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}0!==(s=s&(n.suspendedLanes|a)?0:s)&&s!==o.retryLane&&(o.retryLane=s,Dr(e,s),nd(n,e,s,-1))}return fd(),Wa(e,t,a,n=ca(Error(r(421))))}return"$?"===s.data?(t.flags|=128,t.child=e.child,t=Sd.bind(null,e),s._reactRetry=t,null):(e=o.treeContext,nr=ds(s.nextSibling),ir=t,sr=!0,rr=null,null!==e&&(Zs[Ys++]=qs,Zs[Ys++]=Xs,Zs[Ys++]=$s,qs=e.id,Xs=e.overflow,$s=t),t=Ha(t,n.children),t.flags|=4096,t)}(e,t,l,s,n,o,i);if(a){a=s.fallback,l=t.mode,n=(o=e.child).sibling;var d={mode:"hidden",children:s.children};return 1&l||t.child===o?(s=Nd(o,d)).subtreeFlags=14680064&o.subtreeFlags:((s=t.child).childLanes=0,s.pendingProps=d,t.deletions=null),null!==n?a=Nd(n,a):(a=xd(a,l,i,null)).flags|=2,a.return=t,s.return=t,s.sibling=a,t.child=s,s=a,a=t.child,l=null===(l=e.child.memoizedState)?Va(i):{baseLanes:l.baseLanes|i,cachePool:null,transitions:l.transitions},a.memoizedState=l,a.childLanes=e.childLanes&~i,t.memoizedState=xa,s}return e=(a=e.child).sibling,s=Nd(a,{mode:"visible",children:s.children}),!(1&t.mode)&&(s.lanes=i),s.return=t,s.sibling=null,null!==e&&(null===(i=t.deletions)?(t.deletions=[e],t.flags|=16):i.push(e)),t.child=s,t.memoizedState=null,s}function Ha(e,t){return(t=Vd({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Wa(e,t,i,n){return null!==n&&_r(n),qr(t,e.child,null,i),(e=Ha(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Fa(e,t,i){e.lanes|=t;var n=e.alternate;null!==n&&(n.lanes|=t),Cr(e.return,t,i)}function Ua(e,t,i,n,s){var r=e.memoizedState;null===r?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:i,tailMode:s}:(r.isBackwards=t,r.rendering=null,r.renderingStartTime=0,r.last=n,r.tail=i,r.tailMode=s)}function Ga(e,t,i){var n=t.pendingProps,s=n.revealOrder,r=n.tail;if(Ta(e,t,n.children,i),2&(n=ao.current))n=1&n|2,t.flags|=128;else{if(null!==e&&128&e.flags)e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Fa(e,i,t);else if(19===e.tag)Fa(e,i,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(ys(ao,n),1&t.mode)switch(s){case"forwards":for(i=t.child,s=null;null!==i;)null!==(e=i.alternate)&&null===lo(e)&&(s=i),i=i.sibling;null===(i=s)?(s=t.child,t.child=null):(s=i.sibling,i.sibling=null),Ua(t,!1,s,i,r);break;case"backwards":for(i=null,s=t.child,t.child=null;null!==s;){if(null!==(e=s.alternate)&&null===lo(e)){t.child=s;break}e=s.sibling,s.sibling=i,i=s,s=e}Ua(t,!0,i,null,r);break;case"together":Ua(t,!1,null,null,void 0);break;default:t.memoizedState=null}else t.memoizedState=null;return t.child}function ja(e,t){!(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ka(e,t,i){if(null!==e&&(t.dependencies=e.dependencies),Vl|=t.lanes,!(i&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(r(153));if(null!==t.child){for(i=Nd(e=t.child,e.pendingProps),t.child=i,i.return=t;null!==e.sibling;)e=e.sibling,(i=i.sibling=Nd(e,e.pendingProps)).return=t;i.sibling=null}return t.child}function za(e,t){if(!sr)switch(e.tailMode){case"hidden":t=e.tail;for(var i=null;null!==t;)null!==t.alternate&&(i=t),t=t.sibling;null===i?e.tail=null:i.sibling=null;break;case"collapsed":i=e.tail;for(var n=null;null!==i;)null!==i.alternate&&(n=i),i=i.sibling;null===n?t||null===e.tail?e.tail=null:e.tail.sibling=null:n.sibling=null}}function Za(e){var t=null!==e.alternate&&e.alternate.child===e.child,i=0,n=0;if(t)for(var s=e.child;null!==s;)i|=s.lanes|s.childLanes,n|=14680064&s.subtreeFlags,n|=14680064&s.flags,s.return=e,s=s.sibling;else for(s=e.child;null!==s;)i|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=n,e.childLanes=i,t}function Ya(e,t,i){var n=t.pendingProps;switch(tr(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Za(t),null;case 1:case 17:return Rs(t.type)&&Ps(),Za(t),null;case 3:return n=t.stateNode,so(),Ms(Ds),Ms(Ss),co(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==e&&null!==e.child||(cr(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&!(256&t.flags)||(t.flags|=1024,null!==rr&&(ad(rr),rr=null))),Pa(e,t),Za(t),null;case 5:oo(t);var s=io(to.current);if(i=t.type,null!==e&&null!=t.stateNode)Na(e,t,i,n,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(null===t.stateNode)throw Error(r(166));return Za(t),null}if(e=io(Qr.current),cr(t)){n=t.stateNode,i=t.type;var o=t.memoizedProps;switch(n[hs]=t,n[ps]=o,e=!!(1&t.mode),i){case"dialog":Hn("cancel",n),Hn("close",n);break;case"iframe":case"object":case"embed":Hn("load",n);break;case"video":case"audio":for(s=0;s<kn.length;s++)Hn(kn[s],n);break;case"source":Hn("error",n);break;case"img":case"image":case"link":Hn("error",n),Hn("load",n);break;case"details":Hn("toggle",n);break;case"input":q(n,o),Hn("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!o.multiple},Hn("invalid",n);break;case"textarea":se(n,o),Hn("invalid",n)}for(var l in ve(i,o),s=null,o)if(o.hasOwnProperty(l)){var d=o[l];"children"===l?"string"==typeof d?n.textContent!==d&&(!0!==o.suppressHydrationWarning&&Jn(n.textContent,d,e),s=["children",d]):"number"==typeof d&&n.textContent!==""+d&&(!0!==o.suppressHydrationWarning&&Jn(n.textContent,d,e),s=["children",""+d]):a.hasOwnProperty(l)&&null!=d&&"onScroll"===l&&Hn("scroll",n)}switch(i){case"input":z(n),Q(n,o,!0);break;case"textarea":z(n),oe(n);break;case"select":case"option":break;default:"function"==typeof o.onClick&&(n.onclick=Qn)}n=s,t.updateQueue=n,null!==n&&(t.flags|=4)}else{l=9===s.nodeType?s:s.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=ae(i)),"http://www.w3.org/1999/xhtml"===e?"script"===i?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"==typeof n.is?e=l.createElement(i,{is:n.is}):(e=l.createElement(i),"select"===i&&(l=e,n.multiple?l.multiple=!0:n.size&&(l.size=n.size))):e=l.createElementNS(e,i),e[hs]=t,e[ps]=n,Ra(e,t,!1,!1),t.stateNode=e;e:{switch(l=Ae(i,n),i){case"dialog":Hn("cancel",e),Hn("close",e),s=n;break;case"iframe":case"object":case"embed":Hn("load",e),s=n;break;case"video":case"audio":for(s=0;s<kn.length;s++)Hn(kn[s],e);s=n;break;case"source":Hn("error",e),s=n;break;case"img":case"image":case"link":Hn("error",e),Hn("load",e),s=n;break;case"details":Hn("toggle",e),s=n;break;case"input":q(e,n),s=$(e,n),Hn("invalid",e);break;case"option":default:s=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},s=V({},n,{value:void 0}),Hn("invalid",e);break;case"textarea":se(e,n),s=ne(e,n),Hn("invalid",e)}for(o in ve(i,s),d=s)if(d.hasOwnProperty(o)){var u=d[o];"style"===o?fe(e,u):"dangerouslySetInnerHTML"===o?null!=(u=u?u.__html:void 0)&&ce(e,u):"children"===o?"string"==typeof u?("textarea"!==i||""!==u)&&he(e,u):"number"==typeof u&&he(e,""+u):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(a.hasOwnProperty(o)?null!=u&&"onScroll"===o&&Hn("scroll",e):null!=u&&A(e,o,u,l))}switch(i){case"input":z(e),Q(e,n,!1);break;case"textarea":z(e),oe(e);break;case"option":null!=n.value&&e.setAttribute("value",""+j(n.value));break;case"select":e.multiple=!!n.multiple,null!=(o=n.value)?ie(e,!!n.multiple,o,!1):null!=n.defaultValue&&ie(e,!!n.multiple,n.defaultValue,!0);break;default:"function"==typeof s.onClick&&(e.onclick=Qn)}switch(i){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Za(t),null;case 6:if(e&&null!=t.stateNode)ka(e,t,e.memoizedProps,n);else{if("string"!=typeof n&&null===t.stateNode)throw Error(r(166));if(i=io(to.current),io(Qr.current),cr(t)){if(n=t.stateNode,i=t.memoizedProps,n[hs]=t,(o=n.nodeValue!==i)&&null!==(e=ir))switch(e.tag){case 3:Jn(n.nodeValue,i,!!(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Jn(n.nodeValue,i,!!(1&e.mode))}o&&(t.flags|=4)}else(n=(9===i.nodeType?i:i.ownerDocument).createTextNode(n))[hs]=t,t.stateNode=n}return Za(t),null;case 13:if(Ms(ao),n=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(sr&&null!==nr&&1&t.mode&&!(128&t.flags))hr(),pr(),t.flags|=98560,o=!1;else if(o=cr(t),null!==n&&null!==n.dehydrated){if(null===e){if(!o)throw Error(r(318));if(!(o=null!==(o=t.memoizedState)?o.dehydrated:null))throw Error(r(317));o[hs]=t}else pr(),!(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Za(t),o=!1}else null!==rr&&(ad(rr),rr=null),o=!0;if(!o)return 65536&t.flags?t:null}return 128&t.flags?(t.lanes=i,t):((n=null!==n)!==(null!==e&&null!==e.memoizedState)&&n&&(t.child.flags|=8192,1&t.mode&&(null===e||1&ao.current?0===kl&&(kl=3):fd())),null!==t.updateQueue&&(t.flags|=4),Za(t),null);case 4:return so(),Pa(e,t),null===e&&Un(t.stateNode.containerInfo),Za(t),null;case 10:return Ir(t.type._context),Za(t),null;case 19:if(Ms(ao),null===(o=t.memoizedState))return Za(t),null;if(n=!!(128&t.flags),null===(l=o.rendering))if(n)za(o,!1);else{if(0!==kl||null!==e&&128&e.flags)for(e=t.child;null!==e;){if(null!==(l=lo(e))){for(t.flags|=128,za(o,!1),null!==(n=l.updateQueue)&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=i,i=t.child;null!==i;)e=n,(o=i).flags&=14680066,null===(l=o.alternate)?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=l.childLanes,o.lanes=l.lanes,o.child=l.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=l.memoizedProps,o.memoizedState=l.memoizedState,o.updateQueue=l.updateQueue,o.type=l.type,e=l.dependencies,o.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),i=i.sibling;return ys(ao,1&ao.current|2),t.child}e=e.sibling}null!==o.tail&&Xe()>Gl&&(t.flags|=128,n=!0,za(o,!1),t.lanes=4194304)}else{if(!n)if(null!==(e=lo(l))){if(t.flags|=128,n=!0,null!==(i=e.updateQueue)&&(t.updateQueue=i,t.flags|=4),za(o,!0),null===o.tail&&"hidden"===o.tailMode&&!l.alternate&&!sr)return Za(t),null}else 2*Xe()-o.renderingStartTime>Gl&&1073741824!==i&&(t.flags|=128,n=!0,za(o,!1),t.lanes=4194304);o.isBackwards?(l.sibling=t.child,t.child=l):(null!==(i=o.last)?i.sibling=l:t.child=l,o.last=l)}return null!==o.tail?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Xe(),t.sibling=null,i=ao.current,ys(ao,n?1&i|2:1&i),t):(Za(t),null);case 22:case 23:return hd(),n=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==n&&(t.flags|=8192),n&&1&t.mode?!!(1073741824&Pl)&&(Za(t),6&t.subtreeFlags&&(t.flags|=8192)):Za(t),null;case 24:case 25:return null}throw Error(r(156,t.tag))}function $a(e,t){switch(tr(t),t.tag){case 1:return Rs(t.type)&&Ps(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return so(),Ms(Ds),Ms(Ss),co(),65536&(e=t.flags)&&!(128&e)?(t.flags=-65537&e|128,t):null;case 5:return oo(t),null;case 13:if(Ms(ao),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(r(340));pr()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Ms(ao),null;case 4:return so(),null;case 10:return Ir(t.type._context),null;case 22:case 23:return hd(),null;default:return null}}Ra=function(e,t){for(var i=t.child;null!==i;){if(5===i.tag||6===i.tag)e.appendChild(i.stateNode);else if(4!==i.tag&&null!==i.child){i.child.return=i,i=i.child;continue}if(i===t)break;for(;null===i.sibling;){if(null===i.return||i.return===t)return;i=i.return}i.sibling.return=i.return,i=i.sibling}},Pa=function(){},Na=function(e,t,i,n){var s=e.memoizedProps;if(s!==n){e=t.stateNode,io(Qr.current);var r,o=null;switch(i){case"input":s=$(e,s),n=$(e,n),o=[];break;case"select":s=V({},s,{value:void 0}),n=V({},n,{value:void 0}),o=[];break;case"textarea":s=ne(e,s),n=ne(e,n),o=[];break;default:"function"!=typeof s.onClick&&"function"==typeof n.onClick&&(e.onclick=Qn)}for(u in ve(i,n),i=null,s)if(!n.hasOwnProperty(u)&&s.hasOwnProperty(u)&&null!=s[u])if("style"===u){var l=s[u];for(r in l)l.hasOwnProperty(r)&&(i||(i={}),i[r]="")}else"dangerouslySetInnerHTML"!==u&&"children"!==u&&"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(a.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in n){var d=n[u];if(l=null!=s?s[u]:void 0,n.hasOwnProperty(u)&&d!==l&&(null!=d||null!=l))if("style"===u)if(l){for(r in l)!l.hasOwnProperty(r)||d&&d.hasOwnProperty(r)||(i||(i={}),i[r]="");for(r in d)d.hasOwnProperty(r)&&l[r]!==d[r]&&(i||(i={}),i[r]=d[r])}else i||(o||(o=[]),o.push(u,i)),i=d;else"dangerouslySetInnerHTML"===u?(d=d?d.__html:void 0,l=l?l.__html:void 0,null!=d&&l!==d&&(o=o||[]).push(u,d)):"children"===u?"string"!=typeof d&&"number"!=typeof d||(o=o||[]).push(u,""+d):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&(a.hasOwnProperty(u)?(null!=d&&"onScroll"===u&&Hn("scroll",e),o||l===d||(o=[])):(o=o||[]).push(u,d))}i&&(o=o||[]).push("style",i);var u=o;(t.updateQueue=u)&&(t.flags|=4)}},ka=function(e,t,i,n){i!==n&&(t.flags|=4)};var qa=!1,Xa=!1,Ja="function"==typeof WeakSet?WeakSet:Set,Qa=null;function el(e,t){var i=e.ref;if(null!==i)if("function"==typeof i)try{i(null)}catch(n){Md(e,t,n)}else i.current=null}function tl(e,t,i){try{i()}catch(n){Md(e,t,n)}}var il=!1;function nl(e,t,i){var n=t.updateQueue;if(null!==(n=null!==n?n.lastEffect:null)){var s=n=n.next;do{if((s.tag&e)===e){var r=s.destroy;s.destroy=void 0,void 0!==r&&tl(t,i,r)}s=s.next}while(s!==n)}}function sl(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var i=t=t.next;do{if((i.tag&e)===e){var n=i.create;i.destroy=n()}i=i.next}while(i!==t)}}function rl(e){var t=e.ref;if(null!==t){var i=e.stateNode;e.tag,e=i,"function"==typeof t?t(e):t.current=e}}function ol(e){var t=e.alternate;null!==t&&(e.alternate=null,ol(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[hs],delete t[ps],delete t[gs],delete t[fs],delete t[ms])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function al(e){return 5===e.tag||3===e.tag||4===e.tag}function ll(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||al(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function dl(e,t,i){var n=e.tag;if(5===n||6===n)e=e.stateNode,t?8===i.nodeType?i.parentNode.insertBefore(e,t):i.insertBefore(e,t):(8===i.nodeType?(t=i.parentNode).insertBefore(e,i):(t=i).appendChild(e),null!=(i=i._reactRootContainer)||null!==t.onclick||(t.onclick=Qn));else if(4!==n&&null!==(e=e.child))for(dl(e,t,i),e=e.sibling;null!==e;)dl(e,t,i),e=e.sibling}function ul(e,t,i){var n=e.tag;if(5===n||6===n)e=e.stateNode,t?i.insertBefore(e,t):i.appendChild(e);else if(4!==n&&null!==(e=e.child))for(ul(e,t,i),e=e.sibling;null!==e;)ul(e,t,i),e=e.sibling}var cl=null,hl=!1;function pl(e,t,i){for(i=i.child;null!==i;)_l(e,t,i),i=i.sibling}function _l(e,t,i){if(rt&&"function"==typeof rt.onCommitFiberUnmount)try{rt.onCommitFiberUnmount(st,i)}catch(a){}switch(i.tag){case 5:Xa||el(i,t);case 6:var n=cl,s=hl;cl=null,pl(e,t,i),hl=s,null!==(cl=n)&&(hl?(e=cl,i=i.stateNode,8===e.nodeType?e.parentNode.removeChild(i):e.removeChild(i)):cl.removeChild(i.stateNode));break;case 18:null!==cl&&(hl?(e=cl,i=i.stateNode,8===e.nodeType?ls(e.parentNode,i):1===e.nodeType&&ls(e,i),Ut(e)):ls(cl,i.stateNode));break;case 4:n=cl,s=hl,cl=i.stateNode.containerInfo,hl=!0,pl(e,t,i),cl=n,hl=s;break;case 0:case 11:case 14:case 15:if(!Xa&&(null!==(n=i.updateQueue)&&null!==(n=n.lastEffect))){s=n=n.next;do{var r=s,o=r.destroy;r=r.tag,void 0!==o&&(2&r||4&r)&&tl(i,t,o),s=s.next}while(s!==n)}pl(e,t,i);break;case 1:if(!Xa&&(el(i,t),"function"==typeof(n=i.stateNode).componentWillUnmount))try{n.props=i.memoizedProps,n.state=i.memoizedState,n.componentWillUnmount()}catch(a){Md(i,t,a)}pl(e,t,i);break;case 21:pl(e,t,i);break;case 22:1&i.mode?(Xa=(n=Xa)||null!==i.memoizedState,pl(e,t,i),Xa=n):pl(e,t,i);break;default:pl(e,t,i)}}function gl(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var i=e.stateNode;null===i&&(i=e.stateNode=new Ja),t.forEach((function(t){var n=Dd.bind(null,e,t);i.has(t)||(i.add(t),t.then(n,n))}))}}function fl(e,t){var i=t.deletions;if(null!==i)for(var n=0;n<i.length;n++){var s=i[n];try{var o=e,a=t,l=a;e:for(;null!==l;){switch(l.tag){case 5:cl=l.stateNode,hl=!1;break e;case 3:case 4:cl=l.stateNode.containerInfo,hl=!0;break e}l=l.return}if(null===cl)throw Error(r(160));_l(o,a,s),cl=null,hl=!1;var d=s.alternate;null!==d&&(d.return=null),s.return=null}catch(u){Md(s,t,u)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)ml(t,e),t=t.sibling}function ml(e,t){var i=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(fl(t,e),vl(e),4&n){try{nl(3,e,e.return),sl(3,e)}catch(f){Md(e,e.return,f)}try{nl(5,e,e.return)}catch(f){Md(e,e.return,f)}}break;case 1:fl(t,e),vl(e),512&n&&null!==i&&el(i,i.return);break;case 5:if(fl(t,e),vl(e),512&n&&null!==i&&el(i,i.return),32&e.flags){var s=e.stateNode;try{he(s,"")}catch(f){Md(e,e.return,f)}}if(4&n&&null!=(s=e.stateNode)){var o=e.memoizedProps,a=null!==i?i.memoizedProps:o,l=e.type,d=e.updateQueue;if(e.updateQueue=null,null!==d)try{"input"===l&&"radio"===o.type&&null!=o.name&&X(s,o),Ae(l,a);var u=Ae(l,o);for(a=0;a<d.length;a+=2){var c=d[a],h=d[a+1];"style"===c?fe(s,h):"dangerouslySetInnerHTML"===c?ce(s,h):"children"===c?he(s,h):A(s,c,h,u)}switch(l){case"input":J(s,o);break;case"textarea":re(s,o);break;case"select":var p=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!o.multiple;var _=o.value;null!=_?ie(s,!!o.multiple,_,!1):p!==!!o.multiple&&(null!=o.defaultValue?ie(s,!!o.multiple,o.defaultValue,!0):ie(s,!!o.multiple,o.multiple?[]:"",!1))}s[ps]=o}catch(f){Md(e,e.return,f)}}break;case 6:if(fl(t,e),vl(e),4&n){if(null===e.stateNode)throw Error(r(162));s=e.stateNode,o=e.memoizedProps;try{s.nodeValue=o}catch(f){Md(e,e.return,f)}}break;case 3:if(fl(t,e),vl(e),4&n&&null!==i&&i.memoizedState.isDehydrated)try{Ut(t.containerInfo)}catch(f){Md(e,e.return,f)}break;case 4:default:fl(t,e),vl(e);break;case 13:fl(t,e),vl(e),8192&(s=e.child).flags&&(o=null!==s.memoizedState,s.stateNode.isHidden=o,!o||null!==s.alternate&&null!==s.alternate.memoizedState||(Ul=Xe())),4&n&&gl(e);break;case 22:if(c=null!==i&&null!==i.memoizedState,1&e.mode?(Xa=(u=Xa)||c,fl(t,e),Xa=u):fl(t,e),vl(e),8192&n){if(u=null!==e.memoizedState,(e.stateNode.isHidden=u)&&!c&&1&e.mode)for(Qa=e,c=e.child;null!==c;){for(h=Qa=c;null!==Qa;){switch(_=(p=Qa).child,p.tag){case 0:case 11:case 14:case 15:nl(4,p,p.return);break;case 1:el(p,p.return);var g=p.stateNode;if("function"==typeof g.componentWillUnmount){n=p,i=p.return;try{t=n,g.props=t.memoizedProps,g.state=t.memoizedState,g.componentWillUnmount()}catch(f){Md(n,i,f)}}break;case 5:el(p,p.return);break;case 22:if(null!==p.memoizedState){Il(h);continue}}null!==_?(_.return=p,Qa=_):Il(h)}c=c.sibling}e:for(c=null,h=e;;){if(5===h.tag){if(null===c){c=h;try{s=h.stateNode,u?"function"==typeof(o=s.style).setProperty?o.setProperty("display","none","important"):o.display="none":(l=h.stateNode,a=null!=(d=h.memoizedProps.style)&&d.hasOwnProperty("display")?d.display:null,l.style.display=ge("display",a))}catch(f){Md(e,e.return,f)}}}else if(6===h.tag){if(null===c)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(f){Md(e,e.return,f)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===e)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;null===h.sibling;){if(null===h.return||h.return===e)break e;c===h&&(c=null),h=h.return}c===h&&(c=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:fl(t,e),vl(e),4&n&&gl(e);case 21:}}function vl(e){var t=e.flags;if(2&t){try{e:{for(var i=e.return;null!==i;){if(al(i)){var n=i;break e}i=i.return}throw Error(r(160))}switch(n.tag){case 5:var s=n.stateNode;32&n.flags&&(he(s,""),n.flags&=-33),ul(e,ll(e),s);break;case 3:case 4:var o=n.stateNode.containerInfo;dl(e,ll(e),o);break;default:throw Error(r(161))}}catch(a){Md(e,e.return,a)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function Al(e,t,i){Qa=e,El(e,t,i)}function El(e,t,i){for(var n=!!(1&e.mode);null!==Qa;){var s=Qa,r=s.child;if(22===s.tag&&n){var o=null!==s.memoizedState||qa;if(!o){var a=s.alternate,l=null!==a&&null!==a.memoizedState||Xa;a=qa;var d=Xa;if(qa=o,(Xa=l)&&!d)for(Qa=s;null!==Qa;)l=(o=Qa).child,22===o.tag&&null!==o.memoizedState?Cl(s):null!==l?(l.return=o,Qa=l):Cl(s);for(;null!==r;)Qa=r,El(r,t,i),r=r.sibling;Qa=s,qa=a,Xa=d}Tl(e)}else 8772&s.subtreeFlags&&null!==r?(r.return=s,Qa=r):Tl(e)}}function Tl(e){for(;null!==Qa;){var t=Qa;if(8772&t.flags){var i=t.alternate;try{if(8772&t.flags)switch(t.tag){case 0:case 11:case 15:Xa||sl(5,t);break;case 1:var n=t.stateNode;if(4&t.flags&&!Xa)if(null===i)n.componentDidMount();else{var s=t.elementType===t.type?i.memoizedProps:fr(t.type,i.memoizedProps);n.componentDidUpdate(s,i.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;null!==o&&Br(t,o,n);break;case 3:var a=t.updateQueue;if(null!==a){if(i=null,null!==t.child)switch(t.child.tag){case 5:case 1:i=t.child.stateNode}Br(t,a,i)}break;case 5:var l=t.stateNode;if(null===i&&4&t.flags){i=l;var d=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":d.autoFocus&&i.focus();break;case"img":d.src&&(i.src=d.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var u=t.alternate;if(null!==u){var c=u.memoizedState;if(null!==c){var h=c.dehydrated;null!==h&&Ut(h)}}}break;default:throw Error(r(163))}Xa||512&t.flags&&rl(t)}catch(p){Md(t,t.return,p)}}if(t===e){Qa=null;break}if(null!==(i=t.sibling)){i.return=t.return,Qa=i;break}Qa=t.return}}function Il(e){for(;null!==Qa;){var t=Qa;if(t===e){Qa=null;break}var i=t.sibling;if(null!==i){i.return=t.return,Qa=i;break}Qa=t.return}}function Cl(e){for(;null!==Qa;){var t=Qa;try{switch(t.tag){case 0:case 11:case 15:var i=t.return;try{sl(4,t)}catch(l){Md(t,i,l)}break;case 1:var n=t.stateNode;if("function"==typeof n.componentDidMount){var s=t.return;try{n.componentDidMount()}catch(l){Md(t,s,l)}}var r=t.return;try{rl(t)}catch(l){Md(t,r,l)}break;case 5:var o=t.return;try{rl(t)}catch(l){Md(t,o,l)}}}catch(l){Md(t,t.return,l)}if(t===e){Qa=null;break}var a=t.sibling;if(null!==a){a.return=t.return,Qa=a;break}Qa=t.return}}var Ol,Ml=Math.ceil,yl=E.ReactCurrentDispatcher,bl=E.ReactCurrentOwner,Sl=E.ReactCurrentBatchConfig,Dl=0,wl=null,Ll=null,Rl=0,Pl=0,Nl=Os(0),kl=0,xl=null,Vl=0,Bl=0,Hl=0,Wl=null,Fl=null,Ul=0,Gl=1/0,jl=null,Kl=!1,zl=null,Zl=null,Yl=!1,$l=null,ql=0,Xl=0,Jl=null,Ql=-1,ed=0;function td(){return 6&Dl?Xe():-1!==Ql?Ql:Ql=Xe()}function id(e){return 1&e.mode?2&Dl&&0!==Rl?Rl&-Rl:null!==gr.transition?(0===ed&&(ed=gt()),ed):0!==(e=At)?e:e=void 0===(e=window.event)?16:qt(e.type):1}function nd(e,t,i,n){if(50<Xl)throw Xl=0,Jl=null,Error(r(185));mt(e,i,n),2&Dl&&e===wl||(e===wl&&(!(2&Dl)&&(Bl|=i),4===kl&&ld(e,Rl)),sd(e,n),1===i&&0===Dl&&!(1&t.mode)&&(Gl=Xe()+500,Hs&&Us()))}function sd(e,t){var i=e.callbackNode;!function(e,t){for(var i=e.suspendedLanes,n=e.pingedLanes,s=e.expirationTimes,r=e.pendingLanes;0<r;){var o=31-ot(r),a=1<<o,l=s[o];-1===l?a&i&&!(a&n)||(s[o]=pt(a,t)):l<=t&&(e.expiredLanes|=a),r&=~a}}(e,t);var n=ht(e,e===wl?Rl:0);if(0===n)null!==i&&Ye(i),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(null!=i&&Ye(i),1===t)0===e.tag?function(e){Hs=!0,Fs(e)}(dd.bind(null,e)):Fs(dd.bind(null,e)),os((function(){!(6&Dl)&&Us()})),i=null;else{switch(Et(n)){case 1:i=Qe;break;case 4:i=et;break;case 16:default:i=tt;break;case 536870912:i=nt}i=wd(i,rd.bind(null,e))}e.callbackPriority=t,e.callbackNode=i}}function rd(e,t){if(Ql=-1,ed=0,6&Dl)throw Error(r(327));var i=e.callbackNode;if(Cd()&&e.callbackNode!==i)return null;var n=ht(e,e===wl?Rl:0);if(0===n)return null;if(30&n||n&e.expiredLanes||t)t=md(e,n);else{t=n;var s=Dl;Dl|=2;var o=gd();for(wl===e&&Rl===t||(jl=null,Gl=Xe()+500,pd(e,t));;)try{Ad();break}catch(l){_d(e,l)}Tr(),yl.current=o,Dl=s,null!==Ll?t=0:(wl=null,Rl=0,t=kl)}if(0!==t){if(2===t&&(0!==(s=_t(e))&&(n=s,t=od(e,s))),1===t)throw i=xl,pd(e,0),ld(e,n),sd(e,Xe()),i;if(6===t)ld(e,n);else{if(s=e.current.alternate,!(30&n||function(e){for(var t=e;;){if(16384&t.flags){var i=t.updateQueue;if(null!==i&&null!==(i=i.stores))for(var n=0;n<i.length;n++){var s=i[n],r=s.getSnapshot;s=s.value;try{if(!an(r(),s))return!1}catch(a){return!1}}}if(i=t.child,16384&t.subtreeFlags&&null!==i)i.return=t,t=i;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(s)||(t=md(e,n),2===t&&(o=_t(e),0!==o&&(n=o,t=od(e,o))),1!==t)))throw i=xl,pd(e,0),ld(e,n),sd(e,Xe()),i;switch(e.finishedWork=s,e.finishedLanes=n,t){case 0:case 1:throw Error(r(345));case 2:case 5:Id(e,Fl,jl);break;case 3:if(ld(e,n),(130023424&n)===n&&10<(t=Ul+500-Xe())){if(0!==ht(e,0))break;if(((s=e.suspendedLanes)&n)!==n){td(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=ns(Id.bind(null,e,Fl,jl),t);break}Id(e,Fl,jl);break;case 4:if(ld(e,n),(4194240&n)===n)break;for(t=e.eventTimes,s=-1;0<n;){var a=31-ot(n);o=1<<a,(a=t[a])>s&&(s=a),n&=~o}if(n=s,10<(n=(120>(n=Xe()-n)?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Ml(n/1960))-n)){e.timeoutHandle=ns(Id.bind(null,e,Fl,jl),n);break}Id(e,Fl,jl);break;default:throw Error(r(329))}}}return sd(e,Xe()),e.callbackNode===i?rd.bind(null,e):null}function od(e,t){var i=Wl;return e.current.memoizedState.isDehydrated&&(pd(e,t).flags|=256),2!==(e=md(e,t))&&(t=Fl,Fl=i,null!==t&&ad(t)),e}function ad(e){null===Fl?Fl=e:Fl.push.apply(Fl,e)}function ld(e,t){for(t&=~Hl,t&=~Bl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var i=31-ot(t),n=1<<i;e[i]=-1,t&=~n}}function dd(e){if(6&Dl)throw Error(r(327));Cd();var t=ht(e,0);if(!(1&t))return sd(e,Xe()),null;var i=md(e,t);if(0!==e.tag&&2===i){var n=_t(e);0!==n&&(t=n,i=od(e,n))}if(1===i)throw i=xl,pd(e,0),ld(e,t),sd(e,Xe()),i;if(6===i)throw Error(r(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Id(e,Fl,jl),sd(e,Xe()),null}function ud(e,t){var i=Dl;Dl|=1;try{return e(t)}finally{0===(Dl=i)&&(Gl=Xe()+500,Hs&&Us())}}function cd(e){null!==$l&&0===$l.tag&&!(6&Dl)&&Cd();var t=Dl;Dl|=1;var i=Sl.transition,n=At;try{if(Sl.transition=null,At=1,e)return e()}finally{At=n,Sl.transition=i,!(6&(Dl=t))&&Us()}}function hd(){Pl=Nl.current,Ms(Nl)}function pd(e,t){e.finishedWork=null,e.finishedLanes=0;var i=e.timeoutHandle;if(-1!==i&&(e.timeoutHandle=-1,ss(i)),null!==Ll)for(i=Ll.return;null!==i;){var n=i;switch(tr(n),n.tag){case 1:null!=(n=n.type.childContextTypes)&&Ps();break;case 3:so(),Ms(Ds),Ms(Ss),co();break;case 5:oo(n);break;case 4:so();break;case 13:case 19:Ms(ao);break;case 10:Ir(n.type._context);break;case 22:case 23:hd()}i=i.return}if(wl=e,Ll=e=Nd(e.current,null),Rl=Pl=t,kl=0,xl=null,Hl=Bl=Vl=0,Fl=Wl=null,null!==yr){for(t=0;t<yr.length;t++)if(null!==(n=(i=yr[t]).interleaved)){i.interleaved=null;var s=n.next,r=i.pending;if(null!==r){var o=r.next;r.next=s,n.next=o}i.pending=n}yr=null}return e}function _d(e,t){for(;;){var i=Ll;try{if(Tr(),ho.current=oa,vo){for(var n=go.memoizedState;null!==n;){var s=n.queue;null!==s&&(s.pending=null),n=n.next}vo=!1}if(_o=0,mo=fo=go=null,Ao=!1,Eo=0,bl.current=null,null===i||null===i.return){kl=1,xl=t,Ll=null;break}e:{var o=e,a=i.return,l=i,d=t;if(t=Rl,l.flags|=32768,null!==d&&"object"==typeof d&&"function"==typeof d.then){var u=d,c=l,h=c.tag;if(!(1&c.mode||0!==h&&11!==h&&15!==h)){var p=c.alternate;p?(c.updateQueue=p.updateQueue,c.memoizedState=p.memoizedState,c.lanes=p.lanes):(c.updateQueue=null,c.memoizedState=null)}var _=ma(a);if(null!==_){_.flags&=-257,va(_,a,l,0,t),1&_.mode&&fa(o,u,t),d=u;var g=(t=_).updateQueue;if(null===g){var f=new Set;f.add(d),t.updateQueue=f}else g.add(d);break e}if(!(1&t)){fa(o,u,t),fd();break e}d=Error(r(426))}else if(sr&&1&l.mode){var m=ma(a);if(null!==m){!(65536&m.flags)&&(m.flags|=256),va(m,a,l,0,t),_r(ua(d,l));break e}}o=d=ua(d,l),4!==kl&&(kl=2),null===Wl?Wl=[o]:Wl.push(o),o=a;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t,xr(o,_a(0,d,t));break e;case 1:l=d;var v=o.type,A=o.stateNode;if(!(128&o.flags||"function"!=typeof v.getDerivedStateFromError&&(null===A||"function"!=typeof A.componentDidCatch||null!==Zl&&Zl.has(A)))){o.flags|=65536,t&=-t,o.lanes|=t,xr(o,ga(o,l,t));break e}}o=o.return}while(null!==o)}Td(i)}catch(E){t=E,Ll===i&&null!==i&&(Ll=i=i.return);continue}break}}function gd(){var e=yl.current;return yl.current=oa,null===e?oa:e}function fd(){0!==kl&&3!==kl&&2!==kl||(kl=4),null===wl||!(268435455&Vl)&&!(268435455&Bl)||ld(wl,Rl)}function md(e,t){var i=Dl;Dl|=2;var n=gd();for(wl===e&&Rl===t||(jl=null,pd(e,t));;)try{vd();break}catch(s){_d(e,s)}if(Tr(),Dl=i,yl.current=n,null!==Ll)throw Error(r(261));return wl=null,Rl=0,kl}function vd(){for(;null!==Ll;)Ed(Ll)}function Ad(){for(;null!==Ll&&!$e();)Ed(Ll)}function Ed(e){var t=Ol(e.alternate,e,Pl);e.memoizedProps=e.pendingProps,null===t?Td(e):Ll=t,bl.current=null}function Td(e){var t=e;do{var i=t.alternate;if(e=t.return,32768&t.flags){if(null!==(i=$a(i,t)))return i.flags&=32767,void(Ll=i);if(null===e)return kl=6,void(Ll=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}else if(null!==(i=Ya(i,t,Pl)))return void(Ll=i);if(null!==(t=t.sibling))return void(Ll=t);Ll=t=e}while(null!==t);0===kl&&(kl=5)}function Id(e,t,i){var n=At,s=Sl.transition;try{Sl.transition=null,At=1,function(e,t,i,n){do{Cd()}while(null!==$l);if(6&Dl)throw Error(r(327));i=e.finishedWork;var s=e.finishedLanes;if(null===i)return null;if(e.finishedWork=null,e.finishedLanes=0,i===e.current)throw Error(r(177));e.callbackNode=null,e.callbackPriority=0;var o=i.lanes|i.childLanes;if(function(e,t){var i=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<i;){var s=31-ot(i),r=1<<s;t[s]=0,n[s]=-1,e[s]=-1,i&=~r}}(e,o),e===wl&&(Ll=wl=null,Rl=0),!(2064&i.subtreeFlags)&&!(2064&i.flags)||Yl||(Yl=!0,wd(tt,(function(){return Cd(),null}))),o=!!(15990&i.flags),!!(15990&i.subtreeFlags)||o){o=Sl.transition,Sl.transition=null;var a=At;At=1;var l=Dl;Dl|=4,bl.current=null,function(e,t){if(es=jt,pn(e=hn())){if("selectionStart"in e)var i={start:e.selectionStart,end:e.selectionEnd};else e:{var n=(i=(i=e.ownerDocument)&&i.defaultView||window).getSelection&&i.getSelection();if(n&&0!==n.rangeCount){i=n.anchorNode;var s=n.anchorOffset,o=n.focusNode;n=n.focusOffset;try{i.nodeType,o.nodeType}catch(T){i=null;break e}var a=0,l=-1,d=-1,u=0,c=0,h=e,p=null;t:for(;;){for(var _;h!==i||0!==s&&3!==h.nodeType||(l=a+s),h!==o||0!==n&&3!==h.nodeType||(d=a+n),3===h.nodeType&&(a+=h.nodeValue.length),null!==(_=h.firstChild);)p=h,h=_;for(;;){if(h===e)break t;if(p===i&&++u===s&&(l=a),p===o&&++c===n&&(d=a),null!==(_=h.nextSibling))break;p=(h=p).parentNode}h=_}i=-1===l||-1===d?null:{start:l,end:d}}else i=null}i=i||{start:0,end:0}}else i=null;for(ts={focusedElem:e,selectionRange:i},jt=!1,Qa=t;null!==Qa;)if(e=(t=Qa).child,1028&t.subtreeFlags&&null!==e)e.return=t,Qa=e;else for(;null!==Qa;){t=Qa;try{var g=t.alternate;if(1024&t.flags)switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==g){var f=g.memoizedProps,m=g.memoizedState,v=t.stateNode,A=v.getSnapshotBeforeUpdate(t.elementType===t.type?f:fr(t.type,f),m);v.__reactInternalSnapshotBeforeUpdate=A}break;case 3:var E=t.stateNode.containerInfo;1===E.nodeType?E.textContent="":9===E.nodeType&&E.documentElement&&E.removeChild(E.documentElement);break;default:throw Error(r(163))}}catch(T){Md(t,t.return,T)}if(null!==(e=t.sibling)){e.return=t.return,Qa=e;break}Qa=t.return}g=il,il=!1}(e,i),ml(i,e),_n(ts),jt=!!es,ts=es=null,e.current=i,Al(i,e,s),qe(),Dl=l,At=a,Sl.transition=o}else e.current=i;if(Yl&&(Yl=!1,$l=e,ql=s),o=e.pendingLanes,0===o&&(Zl=null),function(e){if(rt&&"function"==typeof rt.onCommitFiberRoot)try{rt.onCommitFiberRoot(st,e,void 0,!(128&~e.current.flags))}catch(t){}}(i.stateNode),sd(e,Xe()),null!==t)for(n=e.onRecoverableError,i=0;i<t.length;i++)s=t[i],n(s.value,{componentStack:s.stack,digest:s.digest});if(Kl)throw Kl=!1,e=zl,zl=null,e;!!(1&ql)&&0!==e.tag&&Cd(),o=e.pendingLanes,1&o?e===Jl?Xl++:(Xl=0,Jl=e):Xl=0,Us()}(e,t,i,n)}finally{Sl.transition=s,At=n}return null}function Cd(){if(null!==$l){var e=Et(ql),t=Sl.transition,i=At;try{if(Sl.transition=null,At=16>e?16:e,null===$l)var n=!1;else{if(e=$l,$l=null,ql=0,6&Dl)throw Error(r(331));var s=Dl;for(Dl|=4,Qa=e.current;null!==Qa;){var o=Qa,a=o.child;if(16&Qa.flags){var l=o.deletions;if(null!==l){for(var d=0;d<l.length;d++){var u=l[d];for(Qa=u;null!==Qa;){var c=Qa;switch(c.tag){case 0:case 11:case 15:nl(8,c,o)}var h=c.child;if(null!==h)h.return=c,Qa=h;else for(;null!==Qa;){var p=(c=Qa).sibling,_=c.return;if(ol(c),c===u){Qa=null;break}if(null!==p){p.return=_,Qa=p;break}Qa=_}}}var g=o.alternate;if(null!==g){var f=g.child;if(null!==f){g.child=null;do{var m=f.sibling;f.sibling=null,f=m}while(null!==f)}}Qa=o}}if(2064&o.subtreeFlags&&null!==a)a.return=o,Qa=a;else e:for(;null!==Qa;){if(2048&(o=Qa).flags)switch(o.tag){case 0:case 11:case 15:nl(9,o,o.return)}var v=o.sibling;if(null!==v){v.return=o.return,Qa=v;break e}Qa=o.return}}var A=e.current;for(Qa=A;null!==Qa;){var E=(a=Qa).child;if(2064&a.subtreeFlags&&null!==E)E.return=a,Qa=E;else e:for(a=A;null!==Qa;){if(2048&(l=Qa).flags)try{switch(l.tag){case 0:case 11:case 15:sl(9,l)}}catch(I){Md(l,l.return,I)}if(l===a){Qa=null;break e}var T=l.sibling;if(null!==T){T.return=l.return,Qa=T;break e}Qa=l.return}}if(Dl=s,Us(),rt&&"function"==typeof rt.onPostCommitFiberRoot)try{rt.onPostCommitFiberRoot(st,e)}catch(I){}n=!0}return n}finally{At=i,Sl.transition=t}}return!1}function Od(e,t,i){e=Nr(e,t=_a(0,t=ua(i,t),1),1),t=td(),null!==e&&(mt(e,1,t),sd(e,t))}function Md(e,t,i){if(3===e.tag)Od(e,e,i);else for(;null!==t;){if(3===t.tag){Od(t,e,i);break}if(1===t.tag){var n=t.stateNode;if("function"==typeof t.type.getDerivedStateFromError||"function"==typeof n.componentDidCatch&&(null===Zl||!Zl.has(n))){t=Nr(t,e=ga(t,e=ua(i,e),1),1),e=td(),null!==t&&(mt(t,1,e),sd(t,e));break}}t=t.return}}function yd(e,t,i){var n=e.pingCache;null!==n&&n.delete(t),t=td(),e.pingedLanes|=e.suspendedLanes&i,wl===e&&(Rl&i)===i&&(4===kl||3===kl&&(130023424&Rl)===Rl&&500>Xe()-Ul?pd(e,0):Hl|=i),sd(e,t)}function bd(e,t){0===t&&(1&e.mode?(t=ut,!(130023424&(ut<<=1))&&(ut=4194304)):t=1);var i=td();null!==(e=Dr(e,t))&&(mt(e,t,i),sd(e,i))}function Sd(e){var t=e.memoizedState,i=0;null!==t&&(i=t.retryLane),bd(e,i)}function Dd(e,t){var i=0;switch(e.tag){case 13:var n=e.stateNode,s=e.memoizedState;null!==s&&(i=s.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(r(314))}null!==n&&n.delete(t),bd(e,i)}function wd(e,t){return Ze(e,t)}function Ld(e,t,i,n){this.tag=e,this.key=i,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Rd(e,t,i,n){return new Ld(e,t,i,n)}function Pd(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Nd(e,t){var i=e.alternate;return null===i?((i=Rd(e.tag,t,e.key,e.mode)).elementType=e.elementType,i.type=e.type,i.stateNode=e.stateNode,i.alternate=e,e.alternate=i):(i.pendingProps=t,i.type=e.type,i.flags=0,i.subtreeFlags=0,i.deletions=null),i.flags=14680064&e.flags,i.childLanes=e.childLanes,i.lanes=e.lanes,i.child=e.child,i.memoizedProps=e.memoizedProps,i.memoizedState=e.memoizedState,i.updateQueue=e.updateQueue,t=e.dependencies,i.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},i.sibling=e.sibling,i.index=e.index,i.ref=e.ref,i}function kd(e,t,i,n,s,o){var a=2;if(n=e,"function"==typeof e)Pd(e)&&(a=1);else if("string"==typeof e)a=5;else e:switch(e){case C:return xd(i.children,s,o,t);case O:a=8,s|=8;break;case M:return(e=Rd(12,i,t,2|s)).elementType=M,e.lanes=o,e;case D:return(e=Rd(13,i,t,s)).elementType=D,e.lanes=o,e;case w:return(e=Rd(19,i,t,s)).elementType=w,e.lanes=o,e;case P:return Vd(i,s,o,t);default:if("object"==typeof e&&null!==e)switch(e.$$typeof){case y:a=10;break e;case b:a=9;break e;case S:a=11;break e;case L:a=14;break e;case R:a=16,n=null;break e}throw Error(r(130,null==e?e:typeof e,""))}return(t=Rd(a,i,t,s)).elementType=e,t.type=n,t.lanes=o,t}function xd(e,t,i,n){return(e=Rd(7,e,n,t)).lanes=i,e}function Vd(e,t,i,n){return(e=Rd(22,e,n,t)).elementType=P,e.lanes=i,e.stateNode={isHidden:!1},e}function Bd(e,t,i){return(e=Rd(6,e,null,t)).lanes=i,e}function Hd(e,t,i){return(t=Rd(4,null!==e.children?e.children:[],e.key,t)).lanes=i,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Wd(e,t,i,n,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ft(0),this.expirationTimes=ft(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ft(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Fd(e,t,i,n,s,r,o,a,l){return e=new Wd(e,t,i,a,l),1===t?(t=1,!0===r&&(t|=8)):t=0,r=Rd(3,null,null,t),e.current=r,r.stateNode=e,r.memoizedState={element:n,isDehydrated:i,cache:null,transitions:null,pendingSuspenseBoundaries:null},Lr(r),e}function Ud(e){if(!e)return bs;e:{if(Ue(e=e._reactInternals)!==e||1!==e.tag)throw Error(r(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Rs(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(r(171))}if(1===e.tag){var i=e.type;if(Rs(i))return ks(e,i,t)}return t}function Gd(e,t,i,n,s,r,o,a,l){return(e=Fd(i,n,!0,e,0,r,0,a,l)).context=Ud(null),i=e.current,(r=Pr(n=td(),s=id(i))).callback=null!=t?t:null,Nr(i,r,s),e.current.lanes=s,mt(e,s,n),sd(e,n),e}function jd(e,t,i,n){var s=t.current,r=td(),o=id(s);return i=Ud(i),null===t.context?t.context=i:t.pendingContext=i,(t=Pr(r,o)).payload={element:e},null!==(n=void 0===n?null:n)&&(t.callback=n),null!==(e=Nr(s,t,o))&&(nd(e,s,o,r),kr(e,s,o)),o}function Kd(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function zd(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var i=e.retryLane;e.retryLane=0!==i&&i<t?i:t}}function Zd(e,t){zd(e,t),(e=e.alternate)&&zd(e,t)}Ol=function(e,t,i){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ds.current)Ea=!0;else{if(!(e.lanes&i||128&t.flags))return Ea=!1,function(e,t,i){switch(t.tag){case 3:wa(t),pr();break;case 5:ro(t);break;case 1:Rs(t.type)&&xs(t);break;case 4:no(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,s=t.memoizedProps.value;ys(mr,n._currentValue),n._currentValue=s;break;case 13:if(null!==(n=t.memoizedState))return null!==n.dehydrated?(ys(ao,1&ao.current),t.flags|=128,null):i&t.child.childLanes?Ba(e,t,i):(ys(ao,1&ao.current),null!==(e=Ka(e,t,i))?e.sibling:null);ys(ao,1&ao.current);break;case 19:if(n=!!(i&t.childLanes),128&e.flags){if(n)return Ga(e,t,i);t.flags|=128}if(null!==(s=t.memoizedState)&&(s.rendering=null,s.tail=null,s.lastEffect=null),ys(ao,ao.current),n)break;return null;case 22:case 23:return t.lanes=0,Ma(e,t,i)}return Ka(e,t,i)}(e,t,i);Ea=!!(131072&e.flags)}else Ea=!1,sr&&1048576&t.flags&&Qs(t,zs,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;ja(e,t),e=t.pendingProps;var s=Ls(t,Ss.current);Or(t,i),s=Oo(null,t,n,e,s,i);var o=Mo();return t.flags|=1,"object"==typeof s&&null!==s&&"function"==typeof s.render&&void 0===s.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Rs(n)?(o=!0,xs(t)):o=!1,t.memoizedState=null!==s.state&&void 0!==s.state?s.state:null,Lr(t),s.updater=Fr,t.stateNode=s,s._reactInternals=t,Kr(t,n,e,i),t=Da(null,t,n,!0,o,i)):(t.tag=0,sr&&o&&er(t),Ta(null,t,s,i),t=t.child),t;case 16:n=t.elementType;e:{switch(ja(e,t),e=t.pendingProps,n=(s=n._init)(n._payload),t.type=n,s=t.tag=function(e){if("function"==typeof e)return Pd(e)?1:0;if(null!=e){if((e=e.$$typeof)===S)return 11;if(e===L)return 14}return 2}(n),e=fr(n,e),s){case 0:t=ba(null,t,n,e,i);break e;case 1:t=Sa(null,t,n,e,i);break e;case 11:t=Ia(null,t,n,e,i);break e;case 14:t=Ca(null,t,n,fr(n.type,e),i);break e}throw Error(r(306,n,""))}return t;case 0:return n=t.type,s=t.pendingProps,ba(e,t,n,s=t.elementType===n?s:fr(n,s),i);case 1:return n=t.type,s=t.pendingProps,Sa(e,t,n,s=t.elementType===n?s:fr(n,s),i);case 3:e:{if(wa(t),null===e)throw Error(r(387));n=t.pendingProps,s=(o=t.memoizedState).element,Rr(e,t),Vr(t,n,null,i);var a=t.memoizedState;if(n=a.element,o.isDehydrated){if(o={element:n,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=La(e,t,n,i,s=ua(Error(r(423)),t));break e}if(n!==s){t=La(e,t,n,i,s=ua(Error(r(424)),t));break e}for(nr=ds(t.stateNode.containerInfo.firstChild),ir=t,sr=!0,rr=null,i=Xr(t,null,n,i),t.child=i;i;)i.flags=-3&i.flags|4096,i=i.sibling}else{if(pr(),n===s){t=Ka(e,t,i);break e}Ta(e,t,n,i)}t=t.child}return t;case 5:return ro(t),null===e&&dr(t),n=t.type,s=t.pendingProps,o=null!==e?e.memoizedProps:null,a=s.children,is(n,s)?a=null:null!==o&&is(n,o)&&(t.flags|=32),ya(e,t),Ta(e,t,a,i),t.child;case 6:return null===e&&dr(t),null;case 13:return Ba(e,t,i);case 4:return no(t,t.stateNode.containerInfo),n=t.pendingProps,null===e?t.child=qr(t,null,n,i):Ta(e,t,n,i),t.child;case 11:return n=t.type,s=t.pendingProps,Ia(e,t,n,s=t.elementType===n?s:fr(n,s),i);case 7:return Ta(e,t,t.pendingProps,i),t.child;case 8:case 12:return Ta(e,t,t.pendingProps.children,i),t.child;case 10:e:{if(n=t.type._context,s=t.pendingProps,o=t.memoizedProps,a=s.value,ys(mr,n._currentValue),n._currentValue=a,null!==o)if(an(o.value,a)){if(o.children===s.children&&!Ds.current){t=Ka(e,t,i);break e}}else for(null!==(o=t.child)&&(o.return=t);null!==o;){var l=o.dependencies;if(null!==l){a=o.child;for(var d=l.firstContext;null!==d;){if(d.context===n){if(1===o.tag){(d=Pr(-1,i&-i)).tag=2;var u=o.updateQueue;if(null!==u){var c=(u=u.shared).pending;null===c?d.next=d:(d.next=c.next,c.next=d),u.pending=d}}o.lanes|=i,null!==(d=o.alternate)&&(d.lanes|=i),Cr(o.return,i,t),l.lanes|=i;break}d=d.next}}else if(10===o.tag)a=o.type===t.type?null:o.child;else if(18===o.tag){if(null===(a=o.return))throw Error(r(341));a.lanes|=i,null!==(l=a.alternate)&&(l.lanes|=i),Cr(a,i,t),a=o.sibling}else a=o.child;if(null!==a)a.return=o;else for(a=o;null!==a;){if(a===t){a=null;break}if(null!==(o=a.sibling)){o.return=a.return,a=o;break}a=a.return}o=a}Ta(e,t,s.children,i),t=t.child}return t;case 9:return s=t.type,n=t.pendingProps.children,Or(t,i),n=n(s=Mr(s)),t.flags|=1,Ta(e,t,n,i),t.child;case 14:return s=fr(n=t.type,t.pendingProps),Ca(e,t,n,s=fr(n.type,s),i);case 15:return Oa(e,t,t.type,t.pendingProps,i);case 17:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:fr(n,s),ja(e,t),t.tag=1,Rs(n)?(e=!0,xs(t)):e=!1,Or(t,i),Gr(t,n,s),Kr(t,n,s,i),Da(null,t,n,!0,e,i);case 19:return Ga(e,t,i);case 22:return Ma(e,t,i)}throw Error(r(156,t.tag))};var Yd="function"==typeof reportError?reportError:function(e){console.error(e)};function $d(e){this._internalRoot=e}function qd(e){this._internalRoot=e}function Xd(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Jd(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Qd(){}function eu(e,t,i,n,s){var r=i._reactRootContainer;if(r){var o=r;if("function"==typeof s){var a=s;s=function(){var e=Kd(o);a.call(e)}}jd(t,o,e,s)}else o=function(e,t,i,n,s){if(s){if("function"==typeof n){var r=n;n=function(){var e=Kd(o);r.call(e)}}var o=Gd(t,n,e,0,null,!1,0,"",Qd);return e._reactRootContainer=o,e[_s]=o.current,Un(8===e.nodeType?e.parentNode:e),cd(),o}for(;s=e.lastChild;)e.removeChild(s);if("function"==typeof n){var a=n;n=function(){var e=Kd(l);a.call(e)}}var l=Fd(e,0,!1,null,0,!1,0,"",Qd);return e._reactRootContainer=l,e[_s]=l.current,Un(8===e.nodeType?e.parentNode:e),cd((function(){jd(t,l,i,n)})),l}(i,t,e,s,n);return Kd(o)}qd.prototype.render=$d.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(r(409));jd(e,t,null,null)},qd.prototype.unmount=$d.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;cd((function(){jd(null,e,null,null)})),t[_s]=null}},qd.prototype.unstable_scheduleHydration=function(e){if(e){var t=Ot();e={blockedOn:null,target:e,priority:t};for(var i=0;i<Pt.length&&0!==t&&t<Pt[i].priority;i++);Pt.splice(i,0,e),0===i&&Vt(e)}},Tt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var i=ct(t.pendingLanes);0!==i&&(vt(t,1|i),sd(t,Xe()),!(6&Dl)&&(Gl=Xe()+500,Us()))}break;case 13:cd((function(){var t=Dr(e,1);if(null!==t){var i=td();nd(t,e,1,i)}})),Zd(e,1)}},It=function(e){if(13===e.tag){var t=Dr(e,134217728);if(null!==t)nd(t,e,134217728,td());Zd(e,134217728)}},Ct=function(e){if(13===e.tag){var t=id(e),i=Dr(e,t);if(null!==i)nd(i,e,t,td());Zd(e,t)}},Ot=function(){return At},Mt=function(e,t){var i=At;try{return At=e,t()}finally{At=i}},Ie=function(e,t,i){switch(t){case"input":if(J(e,i),t=i.name,"radio"===i.type&&null!=t){for(i=e;i.parentNode;)i=i.parentNode;for(i=i.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<i.length;t++){var n=i[t];if(n!==e&&n.form===e.form){var s=Ts(n);if(!s)throw Error(r(90));Z(n),J(n,s)}}}break;case"textarea":re(e,i);break;case"select":null!=(t=i.value)&&ie(e,!!i.multiple,t,!1)}},Se=ud,De=cd;var tu={usingClientEntryPoint:!1,Events:[As,Es,Ts,ye,be,ud]},iu={findFiberByHostInstance:vs,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},nu={bundleType:iu.bundleType,version:iu.version,rendererPackageName:iu.rendererPackageName,rendererConfig:iu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:E.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ke(e))?null:e.stateNode},findFiberByHostInstance:iu.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var su=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!su.isDisabled&&su.supportsFiber)try{st=su.inject(nu),rt=su}catch(ue){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tu,t.createPortal=function(e,t){var i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Xd(t))throw Error(r(200));return function(e,t,i){var n=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:I,key:null==n?null:""+n,children:e,containerInfo:t,implementation:i}}(e,t,null,i)},t.createRoot=function(e,t){if(!Xd(e))throw Error(r(299));var i=!1,n="",s=Yd;return null!=t&&(!0===t.unstable_strictMode&&(i=!0),void 0!==t.identifierPrefix&&(n=t.identifierPrefix),void 0!==t.onRecoverableError&&(s=t.onRecoverableError)),t=Fd(e,1,!1,null,0,i,0,n,s),e[_s]=t.current,Un(8===e.nodeType?e.parentNode:e),new $d(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"==typeof e.render)throw Error(r(188));throw e=Object.keys(e).join(","),Error(r(268,e))}return e=null===(e=Ke(t))?null:e.stateNode},t.flushSync=function(e){return cd(e)},t.hydrate=function(e,t,i){if(!Jd(t))throw Error(r(200));return eu(null,e,t,!0,i)},t.hydrateRoot=function(e,t,i){if(!Xd(e))throw Error(r(405));var n=null!=i&&i.hydratedSources||null,s=!1,o="",a=Yd;if(null!=i&&(!0===i.unstable_strictMode&&(s=!0),void 0!==i.identifierPrefix&&(o=i.identifierPrefix),void 0!==i.onRecoverableError&&(a=i.onRecoverableError)),t=Gd(t,null,e,1,null!=i?i:null,s,0,o,a),e[_s]=t.current,Un(e),n)for(e=0;e<n.length;e++)s=(s=(i=n[e])._getVersion)(i._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[i,s]:t.mutableSourceEagerHydrationData.push(i,s);return new qd(t)},t.render=function(e,t,i){if(!Jd(t))throw Error(r(200));return eu(null,e,t,!1,i)},t.unmountComponentAtNode=function(e){if(!Jd(e))throw Error(r(40));return!!e._reactRootContainer&&(cd((function(){eu(null,null,e,!1,(function(){e._reactRootContainer=null,e[_s]=null}))})),!0)},t.unstable_batchedUpdates=ud,t.unstable_renderSubtreeIntoContainer=function(e,t,i,n){if(!Jd(i))throw Error(r(200));if(null==e||void 0===e._reactInternals)throw Error(r(38));return eu(e,t,i,!1,n)},t.version="18.2.0-next-9e3b772b8-20220608"},5338:(e,t,i)=>{"use strict";var n=i(40961);t.createRoot=n.createRoot,t.hydrateRoot=n.hydrateRoot},40961:(e,t,i)=>{"use strict";!function e(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=i(22551)},22799:(e,t)=>{"use strict";var i="function"==typeof Symbol&&Symbol.for,n=i?Symbol.for("react.element"):60103,s=i?Symbol.for("react.portal"):60106,r=i?Symbol.for("react.fragment"):60107,o=i?Symbol.for("react.strict_mode"):60108,a=i?Symbol.for("react.profiler"):60114,l=i?Symbol.for("react.provider"):60109,d=i?Symbol.for("react.context"):60110,u=i?Symbol.for("react.async_mode"):60111,c=i?Symbol.for("react.concurrent_mode"):60111,h=i?Symbol.for("react.forward_ref"):60112,p=i?Symbol.for("react.suspense"):60113,_=i?Symbol.for("react.suspense_list"):60120,g=i?Symbol.for("react.memo"):60115,f=i?Symbol.for("react.lazy"):60116,m=i?Symbol.for("react.block"):60121,v=i?Symbol.for("react.fundamental"):60117,A=i?Symbol.for("react.responder"):60118,E=i?Symbol.for("react.scope"):60119;function T(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case n:switch(e=e.type){case u:case c:case r:case a:case o:case p:return e;default:switch(e=e&&e.$$typeof){case d:case h:case f:case g:case l:return e;default:return t}}case s:return t}}}function I(e){return T(e)===c}t.AsyncMode=u,t.ConcurrentMode=c,t.ContextConsumer=d,t.ContextProvider=l,t.Element=n,t.ForwardRef=h,t.Fragment=r,t.Lazy=f,t.Memo=g,t.Portal=s,t.Profiler=a,t.StrictMode=o,t.Suspense=p,t.isAsyncMode=function(e){return I(e)||T(e)===u},t.isConcurrentMode=I,t.isContextConsumer=function(e){return T(e)===d},t.isContextProvider=function(e){return T(e)===l},t.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===n},t.isForwardRef=function(e){return T(e)===h},t.isFragment=function(e){return T(e)===r},t.isLazy=function(e){return T(e)===f},t.isMemo=function(e){return T(e)===g},t.isPortal=function(e){return T(e)===s},t.isProfiler=function(e){return T(e)===a},t.isStrictMode=function(e){return T(e)===o},t.isSuspense=function(e){return T(e)===p},t.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===r||e===c||e===a||e===o||e===p||e===_||"object"==typeof e&&null!==e&&(e.$$typeof===f||e.$$typeof===g||e.$$typeof===l||e.$$typeof===d||e.$$typeof===h||e.$$typeof===v||e.$$typeof===A||e.$$typeof===E||e.$$typeof===m)},t.typeOf=T},44363:(e,t,i)=>{"use strict";e.exports=i(22799)},21020:(e,t,i)=>{"use strict";var n=i(96540),s=Symbol.for("react.element"),r=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,a=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function d(e,t,i){var n,r={},d=null,u=null;for(n in void 0!==i&&(d=""+i),void 0!==t.key&&(d=""+t.key),void 0!==t.ref&&(u=t.ref),t)o.call(t,n)&&!l.hasOwnProperty(n)&&(r[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps)void 0===r[n]&&(r[n]=t[n]);return{$$typeof:s,type:e,key:d,ref:u,props:r,_owner:a.current}}t.Fragment=r,t.jsx=d,t.jsxs=d},15287:(e,t)=>{"use strict";var i=Symbol.for("react.element"),n=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),l=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),c=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),p=Symbol.iterator;var _={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},g=Object.assign,f={};function m(e,t,i){this.props=e,this.context=t,this.refs=f,this.updater=i||_}function v(){}function A(e,t,i){this.props=e,this.context=t,this.refs=f,this.updater=i||_}m.prototype.isReactComponent={},m.prototype.setState=function(e,t){if("object"!=typeof e&&"function"!=typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},m.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},v.prototype=m.prototype;var E=A.prototype=new v;E.constructor=A,g(E,m.prototype),E.isPureReactComponent=!0;var T=Array.isArray,I=Object.prototype.hasOwnProperty,C={current:null},O={key:!0,ref:!0,__self:!0,__source:!0};function M(e,t,n){var s,r={},o=null,a=null;if(null!=t)for(s in void 0!==t.ref&&(a=t.ref),void 0!==t.key&&(o=""+t.key),t)I.call(t,s)&&!O.hasOwnProperty(s)&&(r[s]=t[s]);var l=arguments.length-2;if(1===l)r.children=n;else if(1<l){for(var d=Array(l),u=0;u<l;u++)d[u]=arguments[u+2];r.children=d}if(e&&e.defaultProps)for(s in l=e.defaultProps)void 0===r[s]&&(r[s]=l[s]);return{$$typeof:i,type:e,key:o,ref:a,props:r,_owner:C.current}}function y(e){return"object"==typeof e&&null!==e&&e.$$typeof===i}var b=/\/+/g;function S(e,t){return"object"==typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function D(e,t,s,r,o){var a=typeof e;"undefined"!==a&&"boolean"!==a||(e=null);var l=!1;if(null===e)l=!0;else switch(a){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case i:case n:l=!0}}if(l)return o=o(l=e),e=""===r?"."+S(l,0):r,T(o)?(s="",null!=e&&(s=e.replace(b,"$&/")+"/"),D(o,t,s,"",(function(e){return e}))):null!=o&&(y(o)&&(o=function(e,t){return{$$typeof:i,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,s+(!o.key||l&&l.key===o.key?"":(""+o.key).replace(b,"$&/")+"/")+e)),t.push(o)),1;if(l=0,r=""===r?".":r+":",T(e))for(var d=0;d<e.length;d++){var u=r+S(a=e[d],d);l+=D(a,t,s,u,o)}else if(u=function(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=p&&e[p]||e["@@iterator"])?e:null}(e),"function"==typeof u)for(e=u.call(e),d=0;!(a=e.next()).done;)l+=D(a=a.value,t,s,u=r+S(a,d++),o);else if("object"===a)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function w(e,t,i){if(null==e)return e;var n=[],s=0;return D(e,n,"","",(function(e){return t.call(i,e,s++)})),n}function L(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var R={current:null},P={transition:null},N={ReactCurrentDispatcher:R,ReactCurrentBatchConfig:P,ReactCurrentOwner:C};t.Children={map:w,forEach:function(e,t,i){w(e,(function(){t.apply(this,arguments)}),i)},count:function(e){var t=0;return w(e,(function(){t++})),t},toArray:function(e){return w(e,(function(e){return e}))||[]},only:function(e){if(!y(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=m,t.Fragment=s,t.Profiler=o,t.PureComponent=A,t.StrictMode=r,t.Suspense=u,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=N,t.cloneElement=function(e,t,n){if(null==e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var s=g({},e.props),r=e.key,o=e.ref,a=e._owner;if(null!=t){if(void 0!==t.ref&&(o=t.ref,a=C.current),void 0!==t.key&&(r=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(d in t)I.call(t,d)&&!O.hasOwnProperty(d)&&(s[d]=void 0===t[d]&&void 0!==l?l[d]:t[d])}var d=arguments.length-2;if(1===d)s.children=n;else if(1<d){l=Array(d);for(var u=0;u<d;u++)l[u]=arguments[u+2];s.children=l}return{$$typeof:i,type:e.type,key:r,ref:o,props:s,_owner:a}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:a,_context:e},e.Consumer=e},t.createElement=M,t.createFactory=function(e){var t=M.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:d,render:e}},t.isValidElement=y,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:L}},t.memo=function(e,t){return{$$typeof:c,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=P.transition;P.transition={};try{e()}finally{P.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return R.current.useCallback(e,t)},t.useContext=function(e){return R.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return R.current.useDeferredValue(e)},t.useEffect=function(e,t){return R.current.useEffect(e,t)},t.useId=function(){return R.current.useId()},t.useImperativeHandle=function(e,t,i){return R.current.useImperativeHandle(e,t,i)},t.useInsertionEffect=function(e,t){return R.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return R.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return R.current.useMemo(e,t)},t.useReducer=function(e,t,i){return R.current.useReducer(e,t,i)},t.useRef=function(e){return R.current.useRef(e)},t.useState=function(e){return R.current.useState(e)},t.useSyncExternalStore=function(e,t,i){return R.current.useSyncExternalStore(e,t,i)},t.useTransition=function(){return R.current.useTransition()},t.version="18.2.0"},96540:(e,t,i)=>{"use strict";e.exports=i(15287)},74848:(e,t,i)=>{"use strict";e.exports=i(21020)},7463:(e,t)=>{"use strict";function i(e,t){var i=e.length;e.push(t);e:for(;0<i;){var n=i-1>>>1,s=e[n];if(!(0<r(s,t)))break e;e[n]=t,e[i]=s,i=n}}function n(e){return 0===e.length?null:e[0]}function s(e){if(0===e.length)return null;var t=e[0],i=e.pop();if(i!==t){e[0]=i;e:for(var n=0,s=e.length,o=s>>>1;n<o;){var a=2*(n+1)-1,l=e[a],d=a+1,u=e[d];if(0>r(l,i))d<s&&0>r(u,l)?(e[n]=u,e[d]=i,n=d):(e[n]=l,e[a]=i,n=a);else{if(!(d<s&&0>r(u,i)))break e;e[n]=u,e[d]=i,n=d}}}return t}function r(e,t){var i=e.sortIndex-t.sortIndex;return 0!==i?i:e.id-t.id}if("object"==typeof performance&&"function"==typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var a=Date,l=a.now();t.unstable_now=function(){return a.now()-l}}var d=[],u=[],c=1,h=null,p=3,_=!1,g=!1,f=!1,m="function"==typeof setTimeout?setTimeout:null,v="function"==typeof clearTimeout?clearTimeout:null,A="undefined"!=typeof setImmediate?setImmediate:null;function E(e){for(var t=n(u);null!==t;){if(null===t.callback)s(u);else{if(!(t.startTime<=e))break;s(u),t.sortIndex=t.expirationTime,i(d,t)}t=n(u)}}function T(e){if(f=!1,E(e),!g)if(null!==n(d))g=!0,P(I);else{var t=n(u);null!==t&&N(T,t.startTime-e)}}function I(e,i){g=!1,f&&(f=!1,v(y),y=-1),_=!0;var r=p;try{for(E(i),h=n(d);null!==h&&(!(h.expirationTime>i)||e&&!D());){var o=h.callback;if("function"==typeof o){h.callback=null,p=h.priorityLevel;var a=o(h.expirationTime<=i);i=t.unstable_now(),"function"==typeof a?h.callback=a:h===n(d)&&s(d),E(i)}else s(d);h=n(d)}if(null!==h)var l=!0;else{var c=n(u);null!==c&&N(T,c.startTime-i),l=!1}return l}finally{h=null,p=r,_=!1}}"undefined"!=typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var C,O=!1,M=null,y=-1,b=5,S=-1;function D(){return!(t.unstable_now()-S<b)}function w(){if(null!==M){var e=t.unstable_now();S=e;var i=!0;try{i=M(!0,e)}finally{i?C():(O=!1,M=null)}}else O=!1}if("function"==typeof A)C=function(){A(w)};else if("undefined"!=typeof MessageChannel){var L=new MessageChannel,R=L.port2;L.port1.onmessage=w,C=function(){R.postMessage(null)}}else C=function(){m(w,0)};function P(e){M=e,O||(O=!0,C())}function N(e,i){y=m((function(){e(t.unstable_now())}),i)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){g||_||(g=!0,P(I))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):b=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return n(d)},t.unstable_next=function(e){switch(p){case 1:case 2:case 3:var t=3;break;default:t=p}var i=p;p=t;try{return e()}finally{p=i}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var i=p;p=e;try{return t()}finally{p=i}},t.unstable_scheduleCallback=function(e,s,r){var o=t.unstable_now();switch("object"==typeof r&&null!==r?r="number"==typeof(r=r.delay)&&0<r?o+r:o:r=o,e){case 1:var a=-1;break;case 2:a=250;break;case 5:a=1073741823;break;case 4:a=1e4;break;default:a=5e3}return e={id:c++,callback:s,priorityLevel:e,startTime:r,expirationTime:a=r+a,sortIndex:-1},r>o?(e.sortIndex=r,i(u,e),null===n(d)&&e===n(u)&&(f?(v(y),y=-1):f=!0,N(T,r-o))):(e.sortIndex=a,i(d,e),g||_||(g=!0,P(I))),e},t.unstable_shouldYield=D,t.unstable_wrapCallback=function(e){var t=p;return function(){var i=p;p=t;try{return e.apply(this,arguments)}finally{p=i}}}},69982:(e,t,i)=>{"use strict";e.exports=i(7463)},2833:e=>{e.exports=function(e,t,i,n){var s=i?i.call(n,e,t):void 0;if(void 0!==s)return!!s;if(e===t)return!0;if("object"!=typeof e||!e||"object"!=typeof t||!t)return!1;var r=Object.keys(e),o=Object.keys(t);if(r.length!==o.length)return!1;for(var a=Object.prototype.hasOwnProperty.bind(t),l=0;l<r.length;l++){var d=r[l];if(!a(d))return!1;var u=e[d],c=t[d];if(!1===(s=i?i.call(n,u,c,d):void 0)||void 0===s&&u!==c)return!1}return!0}},92568:(e,t,i)=>{"use strict";i.r(t),i.d(t,{ServerStyleSheet:()=>Fe,StyleSheetConsumer:()=>re,StyleSheetContext:()=>se,StyleSheetManager:()=>ce,ThemeConsumer:()=>Pe,ThemeContext:()=>Re,ThemeProvider:()=>Ne,__PRIVATE__:()=>je,createGlobalStyle:()=>He,css:()=>Te,default:()=>Ke,isStyledComponent:()=>T,keyframes:()=>We,useTheme:()=>Ge,version:()=>C,withTheme:()=>Ue});var n=i(44363),s=i(96540),r=i(2833),o=i.n(r);const a=function(e){function t(e,n,l,d,h){for(var p,_,g,f,E,I=0,C=0,O=0,M=0,y=0,R=0,N=g=p=0,x=0,V=0,B=0,H=0,W=l.length,F=W-1,U="",G="",j="",K="";x<W;){if(_=l.charCodeAt(x),x===F&&0!==C+M+O+I&&(0!==C&&(_=47===C?10:47),M=O=I=0,W++,F++),0===C+M+O+I){if(x===F&&(0<V&&(U=U.replace(c,"")),0<U.trim().length)){switch(_){case 32:case 9:case 59:case 13:case 10:break;default:U+=l.charAt(x)}_=59}switch(_){case 123:for(p=(U=U.trim()).charCodeAt(0),g=1,H=++x;x<W;){switch(_=l.charCodeAt(x)){case 123:g++;break;case 125:g--;break;case 47:switch(_=l.charCodeAt(x+1)){case 42:case 47:e:{for(N=x+1;N<F;++N)switch(l.charCodeAt(N)){case 47:if(42===_&&42===l.charCodeAt(N-1)&&x+2!==N){x=N+1;break e}break;case 10:if(47===_){x=N+1;break e}}x=N}}break;case 91:_++;case 40:_++;case 34:case 39:for(;x++<F&&l.charCodeAt(x)!==_;);}if(0===g)break;x++}if(g=l.substring(H,x),0===p&&(p=(U=U.replace(u,"").trim()).charCodeAt(0)),64===p){switch(0<V&&(U=U.replace(c,"")),_=U.charCodeAt(1)){case 100:case 109:case 115:case 45:V=n;break;default:V=L}if(H=(g=t(n,V,g,_,h+1)).length,0<P&&(E=a(3,g,V=i(L,U,B),n,S,b,H,_,h,d),U=V.join(""),void 0!==E&&0===(H=(g=E.trim()).length)&&(_=0,g="")),0<H)switch(_){case 115:U=U.replace(T,o);case 100:case 109:case 45:g=U+"{"+g+"}";break;case 107:g=(U=U.replace(m,"$1 $2"))+"{"+g+"}",g=1===w||2===w&&r("@"+g,3)?"@-webkit-"+g+"@"+g:"@"+g;break;default:g=U+g,112===d&&(G+=g,g="")}else g=""}else g=t(n,i(n,U,B),g,d,h+1);j+=g,g=B=V=N=p=0,U="",_=l.charCodeAt(++x);break;case 125:case 59:if(1<(H=(U=(0<V?U.replace(c,""):U).trim()).length))switch(0===N&&(p=U.charCodeAt(0),45===p||96<p&&123>p)&&(H=(U=U.replace(" ",":")).length),0<P&&void 0!==(E=a(1,U,n,e,S,b,G.length,d,h,d))&&0===(H=(U=E.trim()).length)&&(U="\0\0"),p=U.charCodeAt(0),_=U.charCodeAt(1),p){case 0:break;case 64:if(105===_||99===_){K+=U+l.charAt(x);break}default:58!==U.charCodeAt(H-1)&&(G+=s(U,p,_,U.charCodeAt(2)))}B=V=N=p=0,U="",_=l.charCodeAt(++x)}}switch(_){case 13:case 10:47===C?C=0:0===1+p&&107!==d&&0<U.length&&(V=1,U+="\0"),0<P*k&&a(0,U,n,e,S,b,G.length,d,h,d),b=1,S++;break;case 59:case 125:if(0===C+M+O+I){b++;break}default:switch(b++,f=l.charAt(x),_){case 9:case 32:if(0===M+I+C)switch(y){case 44:case 58:case 9:case 32:f="";break;default:32!==_&&(f=" ")}break;case 0:f="\\0";break;case 12:f="\\f";break;case 11:f="\\v";break;case 38:0===M+C+I&&(V=B=1,f="\f"+f);break;case 108:if(0===M+C+I+D&&0<N)switch(x-N){case 2:112===y&&58===l.charCodeAt(x-3)&&(D=y);case 8:111===R&&(D=R)}break;case 58:0===M+C+I&&(N=x);break;case 44:0===C+O+M+I&&(V=1,f+="\r");break;case 34:case 39:0===C&&(M=M===_?0:0===M?_:M);break;case 91:0===M+C+O&&I++;break;case 93:0===M+C+O&&I--;break;case 41:0===M+C+I&&O--;break;case 40:if(0===M+C+I){if(0===p)if(2*y+3*R==533);else p=1;O++}break;case 64:0===C+O+M+I+N+g&&(g=1);break;case 42:case 47:if(!(0<M+I+O))switch(C){case 0:switch(2*_+3*l.charCodeAt(x+1)){case 235:C=47;break;case 220:H=x,C=42}break;case 42:47===_&&42===y&&H+2!==x&&(33===l.charCodeAt(H+2)&&(G+=l.substring(H,x+1)),f="",C=0)}}0===C&&(U+=f)}R=y,y=_,x++}if(0<(H=G.length)){if(V=n,0<P&&(void 0!==(E=a(2,G,V,e,S,b,H,d,h,d))&&0===(G=E).length))return K+G+j;if(G=V.join(",")+"{"+G+"}",0!=w*D){switch(2!==w||r(G,2)||(D=0),D){case 111:G=G.replace(A,":-moz-$1")+G;break;case 112:G=G.replace(v,"::-webkit-input-$1")+G.replace(v,"::-moz-$1")+G.replace(v,":-ms-input-$1")+G}D=0}}return K+G+j}function i(e,t,i){var s=t.trim().split(g);t=s;var r=s.length,o=e.length;switch(o){case 0:case 1:var a=0;for(e=0===o?"":e[0]+" ";a<r;++a)t[a]=n(e,t[a],i).trim();break;default:var l=a=0;for(t=[];a<r;++a)for(var d=0;d<o;++d)t[l++]=n(e[d]+" ",s[a],i).trim()}return t}function n(e,t,i){var n=t.charCodeAt(0);switch(33>n&&(n=(t=t.trim()).charCodeAt(0)),n){case 38:return t.replace(f,"$1"+e.trim());case 58:return e.trim()+t.replace(f,"$1"+e.trim());default:if(0<1*i&&0<t.indexOf("\f"))return t.replace(f,(58===e.charCodeAt(0)?"":"$1")+e.trim())}return e+t}function s(e,t,i,n){var o=e+";",a=2*t+3*i+4*n;if(944===a){e=o.indexOf(":",9)+1;var l=o.substring(e,o.length-1).trim();return l=o.substring(0,e).trim()+l+";",1===w||2===w&&r(l,1)?"-webkit-"+l+l:l}if(0===w||2===w&&!r(o,1))return o;switch(a){case 1015:return 97===o.charCodeAt(10)?"-webkit-"+o+o:o;case 951:return 116===o.charCodeAt(3)?"-webkit-"+o+o:o;case 963:return 110===o.charCodeAt(5)?"-webkit-"+o+o:o;case 1009:if(100!==o.charCodeAt(4))break;case 969:case 942:return"-webkit-"+o+o;case 978:return"-webkit-"+o+"-moz-"+o+o;case 1019:case 983:return"-webkit-"+o+"-moz-"+o+"-ms-"+o+o;case 883:if(45===o.charCodeAt(8))return"-webkit-"+o+o;if(0<o.indexOf("image-set(",11))return o.replace(y,"$1-webkit-$2")+o;break;case 932:if(45===o.charCodeAt(4))switch(o.charCodeAt(5)){case 103:return"-webkit-box-"+o.replace("-grow","")+"-webkit-"+o+"-ms-"+o.replace("grow","positive")+o;case 115:return"-webkit-"+o+"-ms-"+o.replace("shrink","negative")+o;case 98:return"-webkit-"+o+"-ms-"+o.replace("basis","preferred-size")+o}return"-webkit-"+o+"-ms-"+o+o;case 964:return"-webkit-"+o+"-ms-flex-"+o+o;case 1023:if(99!==o.charCodeAt(8))break;return"-webkit-box-pack"+(l=o.substring(o.indexOf(":",15)).replace("flex-","").replace("space-between","justify"))+"-webkit-"+o+"-ms-flex-pack"+l+o;case 1005:return p.test(o)?o.replace(h,":-webkit-")+o.replace(h,":-moz-")+o:o;case 1e3:switch(t=(l=o.substring(13).trim()).indexOf("-")+1,l.charCodeAt(0)+l.charCodeAt(t)){case 226:l=o.replace(E,"tb");break;case 232:l=o.replace(E,"tb-rl");break;case 220:l=o.replace(E,"lr");break;default:return o}return"-webkit-"+o+"-ms-"+l+o;case 1017:if(-1===o.indexOf("sticky",9))break;case 975:switch(t=(o=e).length-10,a=(l=(33===o.charCodeAt(t)?o.substring(0,t):o).substring(e.indexOf(":",7)+1).trim()).charCodeAt(0)+(0|l.charCodeAt(7))){case 203:if(111>l.charCodeAt(8))break;case 115:o=o.replace(l,"-webkit-"+l)+";"+o;break;case 207:case 102:o=o.replace(l,"-webkit-"+(102<a?"inline-":"")+"box")+";"+o.replace(l,"-webkit-"+l)+";"+o.replace(l,"-ms-"+l+"box")+";"+o}return o+";";case 938:if(45===o.charCodeAt(5))switch(o.charCodeAt(6)){case 105:return l=o.replace("-items",""),"-webkit-"+o+"-webkit-box-"+l+"-ms-flex-"+l+o;case 115:return"-webkit-"+o+"-ms-flex-item-"+o.replace(C,"")+o;default:return"-webkit-"+o+"-ms-flex-line-pack"+o.replace("align-content","").replace(C,"")+o}break;case 973:case 989:if(45!==o.charCodeAt(3)||122===o.charCodeAt(4))break;case 931:case 953:if(!0===M.test(e))return 115===(l=e.substring(e.indexOf(":")+1)).charCodeAt(0)?s(e.replace("stretch","fill-available"),t,i,n).replace(":fill-available",":stretch"):o.replace(l,"-webkit-"+l)+o.replace(l,"-moz-"+l.replace("fill-",""))+o;break;case 962:if(o="-webkit-"+o+(102===o.charCodeAt(5)?"-ms-"+o:"")+o,211===i+n&&105===o.charCodeAt(13)&&0<o.indexOf("transform",10))return o.substring(0,o.indexOf(";",27)+1).replace(_,"$1-webkit-$2")+o}return o}function r(e,t){var i=e.indexOf(1===t?":":"{"),n=e.substring(0,3!==t?i:10);return i=e.substring(i+1,e.length-1),N(2!==t?n:n.replace(O,"$1"),i,t)}function o(e,t){var i=s(t,t.charCodeAt(0),t.charCodeAt(1),t.charCodeAt(2));return i!==t+";"?i.replace(I," or ($1)").substring(4):"("+t+")"}function a(e,t,i,n,s,r,o,a,l,u){for(var c,h=0,p=t;h<P;++h)switch(c=R[h].call(d,e,p,i,n,s,r,o,a,l,u)){case void 0:case!1:case!0:case null:break;default:p=c}if(p!==t)return p}function l(e){return void 0!==(e=e.prefix)&&(N=null,e?"function"!=typeof e?w=1:(w=2,N=e):w=0),l}function d(e,i){var n=e;if(33>n.charCodeAt(0)&&(n=n.trim()),n=[n],0<P){var s=a(-1,i,n,n,S,b,0,0,0,0);void 0!==s&&"string"==typeof s&&(i=s)}var r=t(L,n,i,0,0);return 0<P&&(void 0!==(s=a(-2,r,n,n,S,b,r.length,0,0,0))&&(r=s)),D=0,b=S=1,r}var u=/^\0+/g,c=/[\0\r\f]/g,h=/: */g,p=/zoo|gra/,_=/([,: ])(transform)/g,g=/,\r+?/g,f=/([\t\r\n ])*\f?&/g,m=/@(k\w+)\s*(\S*)\s*/,v=/::(place)/g,A=/:(read-only)/g,E=/[svh]\w+-[tblr]{2}/,T=/\(\s*(.*)\s*\)/g,I=/([\s\S]*?);/g,C=/-self|flex-/g,O=/[^]*?(:[rp][el]a[\w-]+)[^]*/,M=/stretch|:\s*\w+\-(?:conte|avail)/,y=/([^-])(image-set\()/,b=1,S=1,D=0,w=1,L=[],R=[],P=0,N=null,k=0;return d.use=function e(t){switch(t){case void 0:case null:P=R.length=0;break;default:if("function"==typeof t)R[P++]=t;else if("object"==typeof t)for(var i=0,n=t.length;i<n;++i)e(t[i]);else k=0|!!t}return e},d.set=l,void 0!==e&&l(e),d};const l={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1};function d(e){var t=Object.create(null);return function(i){return void 0===t[i]&&(t[i]=e(i)),t[i]}}var u=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|fetchpriority|fetchPriority|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,c=d((function(e){return u.test(e)||111===e.charCodeAt(0)&&110===e.charCodeAt(1)&&e.charCodeAt(2)<91})),h=i(4146),p=i.n(h);function _(){return(_=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e}).apply(this,arguments)}var g=function(e,t){for(var i=[e[0]],n=0,s=t.length;n<s;n+=1)i.push(t[n],e[n+1]);return i},f=function(e){return null!==e&&"object"==typeof e&&"[object Object]"===(e.toString?e.toString():Object.prototype.toString.call(e))&&!(0,n.typeOf)(e)},m=Object.freeze([]),v=Object.freeze({});function A(e){return"function"==typeof e}function E(e){return e.displayName||e.name||"Component"}function T(e){return e&&"string"==typeof e.styledComponentId}var I="undefined"!=typeof process&&void 0!==process.env&&(process.env.REACT_APP_SC_ATTR||process.env.SC_ATTR)||"data-styled",C="5.3.9",O="undefined"!=typeof window&&"HTMLElement"in window,M=Boolean("boolean"==typeof SC_DISABLE_SPEEDY?SC_DISABLE_SPEEDY:"undefined"!=typeof process&&void 0!==process.env&&(void 0!==process.env.REACT_APP_SC_DISABLE_SPEEDY&&""!==process.env.REACT_APP_SC_DISABLE_SPEEDY?"false"!==process.env.REACT_APP_SC_DISABLE_SPEEDY&&process.env.REACT_APP_SC_DISABLE_SPEEDY:void 0!==process.env.SC_DISABLE_SPEEDY&&""!==process.env.SC_DISABLE_SPEEDY&&("false"!==process.env.SC_DISABLE_SPEEDY&&process.env.SC_DISABLE_SPEEDY))),y={};function b(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),n=1;n<t;n++)i[n-1]=arguments[n];throw new Error("An error occurred. See https://git.io/JUIaE#"+e+" for more information."+(i.length>0?" Args: "+i.join(", "):""))}var S=function(){function e(e){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=e}var t=e.prototype;return t.indexOfGroup=function(e){for(var t=0,i=0;i<e;i++)t+=this.groupSizes[i];return t},t.insertRules=function(e,t){if(e>=this.groupSizes.length){for(var i=this.groupSizes,n=i.length,s=n;e>=s;)(s<<=1)<0&&b(16,""+e);this.groupSizes=new Uint32Array(s),this.groupSizes.set(i),this.length=s;for(var r=n;r<s;r++)this.groupSizes[r]=0}for(var o=this.indexOfGroup(e+1),a=0,l=t.length;a<l;a++)this.tag.insertRule(o,t[a])&&(this.groupSizes[e]++,o++)},t.clearGroup=function(e){if(e<this.length){var t=this.groupSizes[e],i=this.indexOfGroup(e),n=i+t;this.groupSizes[e]=0;for(var s=i;s<n;s++)this.tag.deleteRule(i)}},t.getGroup=function(e){var t="";if(e>=this.length||0===this.groupSizes[e])return t;for(var i=this.groupSizes[e],n=this.indexOfGroup(e),s=n+i,r=n;r<s;r++)t+=this.tag.getRule(r)+"/*!sc*/\n";return t},e}(),D=new Map,w=new Map,L=1,R=function(e){if(D.has(e))return D.get(e);for(;w.has(L);)L++;var t=L++;return D.set(e,t),w.set(t,e),t},P=function(e){return w.get(e)},N=function(e,t){t>=L&&(L=t+1),D.set(e,t),w.set(t,e)},k="style["+I+'][data-styled-version="5.3.9"]',x=new RegExp("^"+I+'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)'),V=function(e,t,i){for(var n,s=i.split(","),r=0,o=s.length;r<o;r++)(n=s[r])&&e.registerName(t,n)},B=function(e,t){for(var i=(t.textContent||"").split("/*!sc*/\n"),n=[],s=0,r=i.length;s<r;s++){var o=i[s].trim();if(o){var a=o.match(x);if(a){var l=0|parseInt(a[1],10),d=a[2];0!==l&&(N(d,l),V(e,d,a[3]),e.getTag().insertRules(l,n)),n.length=0}else n.push(o)}}},H=function(){return i.nc},W=function(e){var t=document.head,i=e||t,n=document.createElement("style"),s=function(e){for(var t=e.childNodes,i=t.length;i>=0;i--){var n=t[i];if(n&&1===n.nodeType&&n.hasAttribute(I))return n}}(i),r=void 0!==s?s.nextSibling:null;n.setAttribute(I,"active"),n.setAttribute("data-styled-version","5.3.9");var o=H();return o&&n.setAttribute("nonce",o),i.insertBefore(n,r),n},F=function(){function e(e){var t=this.element=W(e);t.appendChild(document.createTextNode("")),this.sheet=function(e){if(e.sheet)return e.sheet;for(var t=document.styleSheets,i=0,n=t.length;i<n;i++){var s=t[i];if(s.ownerNode===e)return s}b(17)}(t),this.length=0}var t=e.prototype;return t.insertRule=function(e,t){try{return this.sheet.insertRule(t,e),this.length++,!0}catch(e){return!1}},t.deleteRule=function(e){this.sheet.deleteRule(e),this.length--},t.getRule=function(e){var t=this.sheet.cssRules[e];return void 0!==t&&"string"==typeof t.cssText?t.cssText:""},e}(),U=function(){function e(e){var t=this.element=W(e);this.nodes=t.childNodes,this.length=0}var t=e.prototype;return t.insertRule=function(e,t){if(e<=this.length&&e>=0){var i=document.createTextNode(t),n=this.nodes[e];return this.element.insertBefore(i,n||null),this.length++,!0}return!1},t.deleteRule=function(e){this.element.removeChild(this.nodes[e]),this.length--},t.getRule=function(e){return e<this.length?this.nodes[e].textContent:""},e}(),G=function(){function e(e){this.rules=[],this.length=0}var t=e.prototype;return t.insertRule=function(e,t){return e<=this.length&&(this.rules.splice(e,0,t),this.length++,!0)},t.deleteRule=function(e){this.rules.splice(e,1),this.length--},t.getRule=function(e){return e<this.length?this.rules[e]:""},e}(),j=O,K={isServer:!O,useCSSOMInjection:!M},z=function(){function e(e,t,i){void 0===e&&(e=v),void 0===t&&(t={}),this.options=_({},K,{},e),this.gs=t,this.names=new Map(i),this.server=!!e.isServer,!this.server&&O&&j&&(j=!1,function(e){for(var t=document.querySelectorAll(k),i=0,n=t.length;i<n;i++){var s=t[i];s&&"active"!==s.getAttribute(I)&&(B(e,s),s.parentNode&&s.parentNode.removeChild(s))}}(this))}e.registerId=function(e){return R(e)};var t=e.prototype;return t.reconstructWithOptions=function(t,i){return void 0===i&&(i=!0),new e(_({},this.options,{},t),this.gs,i&&this.names||void 0)},t.allocateGSInstance=function(e){return this.gs[e]=(this.gs[e]||0)+1},t.getTag=function(){return this.tag||(this.tag=(i=(t=this.options).isServer,n=t.useCSSOMInjection,s=t.target,e=i?new G(s):n?new F(s):new U(s),new S(e)));var e,t,i,n,s},t.hasNameForId=function(e,t){return this.names.has(e)&&this.names.get(e).has(t)},t.registerName=function(e,t){if(R(e),this.names.has(e))this.names.get(e).add(t);else{var i=new Set;i.add(t),this.names.set(e,i)}},t.insertRules=function(e,t,i){this.registerName(e,t),this.getTag().insertRules(R(e),i)},t.clearNames=function(e){this.names.has(e)&&this.names.get(e).clear()},t.clearRules=function(e){this.getTag().clearGroup(R(e)),this.clearNames(e)},t.clearTag=function(){this.tag=void 0},t.toString=function(){return function(e){for(var t=e.getTag(),i=t.length,n="",s=0;s<i;s++){var r=P(s);if(void 0!==r){var o=e.names.get(r),a=t.getGroup(s);if(o&&a&&o.size){var l=I+".g"+s+'[id="'+r+'"]',d="";void 0!==o&&o.forEach((function(e){e.length>0&&(d+=e+",")})),n+=""+a+l+'{content:"'+d+'"}/*!sc*/\n'}}}return n}(this)},e}(),Z=/(a)(d)/gi,Y=function(e){return String.fromCharCode(e+(e>25?39:97))};function $(e){var t,i="";for(t=Math.abs(e);t>52;t=t/52|0)i=Y(t%52)+i;return(Y(t%52)+i).replace(Z,"$1-$2")}var q=function(e,t){for(var i=t.length;i;)e=33*e^t.charCodeAt(--i);return e},X=function(e){return q(5381,e)};function J(e){for(var t=0;t<e.length;t+=1){var i=e[t];if(A(i)&&!T(i))return!1}return!0}var Q=X("5.3.9"),ee=function(){function e(e,t,i){this.rules=e,this.staticRulesId="",this.isStatic=(void 0===i||i.isStatic)&&J(e),this.componentId=t,this.baseHash=q(Q,t),this.baseStyle=i,z.registerId(t)}return e.prototype.generateAndInjectStyles=function(e,t,i){var n=this.componentId,s=[];if(this.baseStyle&&s.push(this.baseStyle.generateAndInjectStyles(e,t,i)),this.isStatic&&!i.hash)if(this.staticRulesId&&t.hasNameForId(n,this.staticRulesId))s.push(this.staticRulesId);else{var r=Ae(this.rules,e,t,i).join(""),o=$(q(this.baseHash,r)>>>0);if(!t.hasNameForId(n,o)){var a=i(r,"."+o,void 0,n);t.insertRules(n,o,a)}s.push(o),this.staticRulesId=o}else{for(var l=this.rules.length,d=q(this.baseHash,i.hash),u="",c=0;c<l;c++){var h=this.rules[c];if("string"==typeof h)u+=h;else if(h){var p=Ae(h,e,t,i),_=Array.isArray(p)?p.join(""):p;d=q(d,_+c),u+=_}}if(u){var g=$(d>>>0);if(!t.hasNameForId(n,g)){var f=i(u,"."+g,void 0,n);t.insertRules(n,g,f)}s.push(g)}}return s.join(" ")},e}(),te=/^\s*\/\/.*$/gm,ie=[":","[",".","#"];function ne(e){var t,i,n,s,r=void 0===e?v:e,o=r.options,l=void 0===o?v:o,d=r.plugins,u=void 0===d?m:d,c=new a(l),h=[],p=function(e){function t(t){if(t)try{e(t+"}")}catch(e){}}return function(i,n,s,r,o,a,l,d,u,c){switch(i){case 1:if(0===u&&64===n.charCodeAt(0))return e(n+";"),"";break;case 2:if(0===d)return n+"/*|*/";break;case 3:switch(d){case 102:case 112:return e(s[0]+n),"";default:return n+(0===c?"/*|*/":"")}case-2:n.split("/*|*/}").forEach(t)}}}((function(e){h.push(e)})),_=function(e,n,r){return 0===n&&-1!==ie.indexOf(r[i.length])||r.match(s)?e:"."+t};function g(e,r,o,a){void 0===a&&(a="&");var l=e.replace(te,""),d=r&&o?o+" "+r+" { "+l+" }":l;return t=a,i=r,n=new RegExp("\\"+i+"\\b","g"),s=new RegExp("(\\"+i+"\\b){2,}"),c(o||!r?"":r,d)}return c.use([].concat(u,[function(e,t,s){2===e&&s.length&&s[0].lastIndexOf(i)>0&&(s[0]=s[0].replace(n,_))},p,function(e){if(-2===e){var t=h;return h=[],t}}])),g.hash=u.length?u.reduce((function(e,t){return t.name||b(15),q(e,t.name)}),5381).toString():"",g}var se=s.createContext(),re=se.Consumer,oe=s.createContext(),ae=(oe.Consumer,new z),le=ne();function de(){return(0,s.useContext)(se)||ae}function ue(){return(0,s.useContext)(oe)||le}function ce(e){var t=(0,s.useState)(e.stylisPlugins),i=t[0],n=t[1],r=de(),a=(0,s.useMemo)((function(){var t=r;return e.sheet?t=e.sheet:e.target&&(t=t.reconstructWithOptions({target:e.target},!1)),e.disableCSSOMInjection&&(t=t.reconstructWithOptions({useCSSOMInjection:!1})),t}),[e.disableCSSOMInjection,e.sheet,e.target]),l=(0,s.useMemo)((function(){return ne({options:{prefix:!e.disableVendorPrefixes},plugins:i})}),[e.disableVendorPrefixes,i]);return(0,s.useEffect)((function(){o()(i,e.stylisPlugins)||n(e.stylisPlugins)}),[e.stylisPlugins]),s.createElement(se.Provider,{value:a},s.createElement(oe.Provider,{value:l},e.children))}var he=function(){function e(e,t){var i=this;this.inject=function(e,t){void 0===t&&(t=le);var n=i.name+t.hash;e.hasNameForId(i.id,n)||e.insertRules(i.id,n,t(i.rules,n,"@keyframes"))},this.toString=function(){return b(12,String(i.name))},this.name=e,this.id="sc-keyframes-"+e,this.rules=t}return e.prototype.getName=function(e){return void 0===e&&(e=le),this.name+e.hash},e}(),pe=/([A-Z])/,_e=/([A-Z])/g,ge=/^ms-/,fe=function(e){return"-"+e.toLowerCase()};function me(e){return pe.test(e)?e.replace(_e,fe).replace(ge,"-ms-"):e}var ve=function(e){return null==e||!1===e||""===e};function Ae(e,t,i,n){if(Array.isArray(e)){for(var s,r=[],o=0,a=e.length;o<a;o+=1)""!==(s=Ae(e[o],t,i,n))&&(Array.isArray(s)?r.push.apply(r,s):r.push(s));return r}return ve(e)?"":T(e)?"."+e.styledComponentId:A(e)?"function"!=typeof(d=e)||d.prototype&&d.prototype.isReactComponent||!t?e:Ae(e(t),t,i,n):e instanceof he?i?(e.inject(i,n),e.getName(n)):e:f(e)?function e(t,i){var n,s,r=[];for(var o in t)t.hasOwnProperty(o)&&!ve(t[o])&&(Array.isArray(t[o])&&t[o].isCss||A(t[o])?r.push(me(o)+":",t[o],";"):f(t[o])?r.push.apply(r,e(t[o],o)):r.push(me(o)+": "+(n=o,(null==(s=t[o])||"boolean"==typeof s||""===s?"":"number"!=typeof s||0===s||n in l?String(s).trim():s+"px")+";")));return i?[i+" {"].concat(r,["}"]):r}(e):e.toString();var d}var Ee=function(e){return Array.isArray(e)&&(e.isCss=!0),e};function Te(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),n=1;n<t;n++)i[n-1]=arguments[n];return A(e)||f(e)?Ee(Ae(g(m,[e].concat(i)))):0===i.length&&1===e.length&&"string"==typeof e[0]?e:Ee(Ae(g(e,i)))}new Set;var Ie=function(e,t,i){return void 0===i&&(i=v),e.theme!==i.theme&&e.theme||t||i.theme},Ce=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,Oe=/(^-|-$)/g;function Me(e){return e.replace(Ce,"-").replace(Oe,"")}var ye=function(e){return $(X(e)>>>0)};function be(e){return"string"==typeof e&&!0}var Se=function(e){return"function"==typeof e||"object"==typeof e&&null!==e&&!Array.isArray(e)},De=function(e){return"__proto__"!==e&&"constructor"!==e&&"prototype"!==e};function we(e,t,i){var n=e[i];Se(t)&&Se(n)?Le(n,t):e[i]=t}function Le(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),n=1;n<t;n++)i[n-1]=arguments[n];for(var s=0,r=i;s<r.length;s++){var o=r[s];if(Se(o))for(var a in o)De(a)&&we(e,o[a],a)}return e}var Re=s.createContext(),Pe=Re.Consumer;function Ne(e){var t=(0,s.useContext)(Re),i=(0,s.useMemo)((function(){return function(e,t){return e?A(e)?e(t):Array.isArray(e)||"object"!=typeof e?b(8):t?_({},t,{},e):e:b(14)}(e.theme,t)}),[e.theme,t]);return e.children?s.createElement(Re.Provider,{value:i},e.children):null}var ke={};function xe(e,t,i){var n=T(e),r=!be(e),o=t.attrs,a=void 0===o?m:o,l=t.componentId,d=void 0===l?function(e,t){var i="string"!=typeof e?"sc":Me(e);ke[i]=(ke[i]||0)+1;var n=i+"-"+ye("5.3.9"+i+ke[i]);return t?t+"-"+n:n}(t.displayName,t.parentComponentId):l,u=t.displayName,h=void 0===u?function(e){return be(e)?"styled."+e:"Styled("+E(e)+")"}(e):u,g=t.displayName&&t.componentId?Me(t.displayName)+"-"+t.componentId:t.componentId||d,f=n&&e.attrs?Array.prototype.concat(e.attrs,a).filter(Boolean):a,I=t.shouldForwardProp;n&&e.shouldForwardProp&&(I=t.shouldForwardProp?function(i,n,s){return e.shouldForwardProp(i,n,s)&&t.shouldForwardProp(i,n,s)}:e.shouldForwardProp);var C,O=new ee(i,g,n?e.componentStyle:void 0),M=O.isStatic&&0===a.length,y=function(e,t){return function(e,t,i,n){var r=e.attrs,o=e.componentStyle,a=e.defaultProps,l=e.foldedComponentIds,d=e.shouldForwardProp,u=e.styledComponentId,h=e.target,p=function(e,t,i){void 0===e&&(e=v);var n=_({},t,{theme:e}),s={};return i.forEach((function(e){var t,i,r,o=e;for(t in A(o)&&(o=o(n)),o)n[t]=s[t]="className"===t?(i=s[t],r=o[t],i&&r?i+" "+r:i||r):o[t]})),[n,s]}(Ie(t,(0,s.useContext)(Re),a)||v,t,r),g=p[0],f=p[1],m=function(e,t,i){var n=de(),s=ue();return t?e.generateAndInjectStyles(v,n,s):e.generateAndInjectStyles(i,n,s)}(o,n,g),E=i,T=f.$as||t.$as||f.as||t.as||h,I=be(T),C=f!==t?_({},t,{},f):t,O={};for(var M in C)"$"!==M[0]&&"as"!==M&&("forwardedAs"===M?O.as=C[M]:(d?d(M,c,T):!I||c(M))&&(O[M]=C[M]));return t.style&&f.style!==t.style&&(O.style=_({},t.style,{},f.style)),O.className=Array.prototype.concat(l,u,m!==u?m:null,t.className,f.className).filter(Boolean).join(" "),O.ref=E,(0,s.createElement)(T,O)}(C,e,t,M)};return y.displayName=h,(C=s.forwardRef(y)).attrs=f,C.componentStyle=O,C.displayName=h,C.shouldForwardProp=I,C.foldedComponentIds=n?Array.prototype.concat(e.foldedComponentIds,e.styledComponentId):m,C.styledComponentId=g,C.target=n?e.target:e,C.withComponent=function(e){var n=t.componentId,s=function(e,t){if(null==e)return{};var i,n,s={},r=Object.keys(e);for(n=0;n<r.length;n++)i=r[n],t.indexOf(i)>=0||(s[i]=e[i]);return s}(t,["componentId"]),r=n&&n+"-"+(be(e)?e:Me(E(e)));return xe(e,_({},s,{attrs:f,componentId:r}),i)},Object.defineProperty(C,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(t){this._foldedDefaultProps=n?Le({},e.defaultProps,t):t}}),Object.defineProperty(C,"toString",{value:function(){return"."+C.styledComponentId}}),r&&p()(C,e,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0,withComponent:!0}),C}var Ve=function(e){return function e(t,i,s){if(void 0===s&&(s=v),!(0,n.isValidElementType)(i))return b(1,String(i));var r=function(){return t(i,s,Te.apply(void 0,arguments))};return r.withConfig=function(n){return e(t,i,_({},s,{},n))},r.attrs=function(n){return e(t,i,_({},s,{attrs:Array.prototype.concat(s.attrs,n).filter(Boolean)}))},r}(xe,e)};["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","textPath","tspan"].forEach((function(e){Ve[e]=Ve(e)}));var Be=function(){function e(e,t){this.rules=e,this.componentId=t,this.isStatic=J(e),z.registerId(this.componentId+1)}var t=e.prototype;return t.createStyles=function(e,t,i,n){var s=n(Ae(this.rules,t,i,n).join(""),""),r=this.componentId+e;i.insertRules(r,r,s)},t.removeStyles=function(e,t){t.clearRules(this.componentId+e)},t.renderStyles=function(e,t,i,n){e>2&&z.registerId(this.componentId+e),this.removeStyles(e,i),this.createStyles(e,t,i,n)},e}();function He(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),n=1;n<t;n++)i[n-1]=arguments[n];var r=Te.apply(void 0,[e].concat(i)),o="sc-global-"+ye(JSON.stringify(r)),a=new Be(r,o);function l(e){var t=de(),i=ue(),n=(0,s.useContext)(Re),r=(0,s.useRef)(t.allocateGSInstance(o)).current;return t.server&&d(r,e,t,n,i),(0,s.useLayoutEffect)((function(){if(!t.server)return d(r,e,t,n,i),function(){return a.removeStyles(r,t)}}),[r,e,t,n,i]),null}function d(e,t,i,n,s){if(a.isStatic)a.renderStyles(e,y,i,s);else{var r=_({},t,{theme:Ie(t,n,l.defaultProps)});a.renderStyles(e,r,i,s)}}return s.memo(l)}function We(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),n=1;n<t;n++)i[n-1]=arguments[n];var s=Te.apply(void 0,[e].concat(i)).join(""),r=ye(s);return new he(r,s)}var Fe=function(){function e(){var e=this;this._emitSheetCSS=function(){var t=e.instance.toString();if(!t)return"";var i=H();return"<style "+[i&&'nonce="'+i+'"',I+'="true"','data-styled-version="5.3.9"'].filter(Boolean).join(" ")+">"+t+"</style>"},this.getStyleTags=function(){return e.sealed?b(2):e._emitSheetCSS()},this.getStyleElement=function(){var t;if(e.sealed)return b(2);var i=((t={})[I]="",t["data-styled-version"]="5.3.9",t.dangerouslySetInnerHTML={__html:e.instance.toString()},t),n=H();return n&&(i.nonce=n),[s.createElement("style",_({},i,{key:"sc-0-0"}))]},this.seal=function(){e.sealed=!0},this.instance=new z({isServer:!0}),this.sealed=!1}var t=e.prototype;return t.collectStyles=function(e){return this.sealed?b(2):s.createElement(ce,{sheet:this.instance},e)},t.interleaveWithNodeStream=function(e){return b(3)},e}(),Ue=function(e){var t=s.forwardRef((function(t,i){var n=(0,s.useContext)(Re),r=e.defaultProps,o=Ie(t,n,r);return s.createElement(e,_({},t,{theme:o,ref:i}))}));return p()(t,e),t.displayName="WithTheme("+E(e)+")",t},Ge=function(){return(0,s.useContext)(Re)},je={StyleSheet:z,masterSheet:ae};const Ke=Ve},24660:(e,t,i)=>{"use strict";var n=i(15215).Bx,s=i(15215).ut,r=i(15215).Cg;const o=i(43130),a=n(i(13538)),l=s(i(56750)),d=n(i(78868)),u=n(i(85673)),c=n(i(25638)),h=n(i(94776)),p=n(i(88045)),_=i(80116),g=n(i(73731)),f=n(i(14243));class m extends c.default{constructor(e,t,i,n){super(e,t,i),n&&(n.getClient||(n.getClient=function(){return this.client}),h.default.useInstance(n))}static create(e,t,i,n){return new m(e,t,i,n)}createChart(e,t){if(!this._tradingFactory){const{factory:e,user:t}=d.default.createIgTradingComponents();this._tradingFactory=e,this._tradingUser=t,this._storeOrders=e.getOrderStore(),this._storePositions=e.getPositionStore()}return super.createChart(e,t),this.controllers[e].withDealingComponents({factory:this._tradingFactory,user:this._tradingUser,positionStore:this._storePositions,orderStore:this._storeOrders}),this}_getConfig(e){if(void 0===e&&(p.default.warn("Chart created without explicit config; if standard chart is intended, pass DEFAULT identifier as second argument to .createChart()"),e=l.default.DEFAULT),(0,l.isConfigIdentifier)(e))return(0,_.modifyForTouchIfNeeded)(l.DesktopConfigurations[e],u.default.isTouch());throw new Error(`Invalid chart configuration; only the following values can be used: ${Object.keys(l.default).join(", ")}`)}_getAllPossibleConfigs(){return(0,o.values)(l.DesktopConfigurations).reduce(((e,t)=>(e.push(t,(0,_.modifyForTouchIfNeeded)(t,!0)),e)),[])}setSplitChartState(e,t){return this.controllers[e].publishToChart("api/in/splitchart/state",t),this}setTicketPreview(e,t){return this.controllers[e].publishToChart("preview/set",t),this}setQuickTrading(e){this._apiSettingsManager.hasAccountSettings()?this._setQuickTrading(e):this._apiSettingsManager.on(g.default.GLOBAL_SETTINGS_CHANGED,this._setQuickTrading.bind(this,e),this,{once:!0})}setTurbos(e,t){return this.controllers[e].publishToChart("api/in/turbos/set",t),this}setHoveredTurbo(e,t){return this.controllers[e].publishToChart("api/in/turbos/hovered",t),this}setSelectedTurbo(e,t){return this.controllers[e].publishToChart("api/in/turbos/selected",t),this}setAlternativeMarkets(e,t){return this.controllers[e].publishToChart("api/in/switcher/update",t),this}setWarrants(e,t,i){return this.controllers[e].publishToChart("api/in/warrants/set",t,i),this}setHoveredWarrant(e,t){return this.controllers[e].publishToChart("api/in/warrants/hovered",t),this}setSelectedWarrant(e,t){return this.controllers[e].publishToChart("api/in/warrants/selected",t),this}_setQuickTrading(e){this._apiSettingsManager.changeAccountSettings(f.default.DEALING,(function(t){const i=t.getDeviceSpecificSettings();return i.tradeConfirms=!e,t.setDeviceSpecificSettings(i),!0}),!1)}dismissChartContextMenu(){this._igMenu.hide()}}r([a.default.assertChart],m.prototype,"setSplitChartState",null),r([a.default.assertChart],m.prototype,"setTicketPreview",null),r([a.default.assertChart],m.prototype,"setTurbos",null),r([a.default.assertChart],m.prototype,"setHoveredTurbo",null),r([a.default.assertChart],m.prototype,"setSelectedTurbo",null),r([a.default.assertChart],m.prototype,"setAlternativeMarkets",null),r([a.default.assertChart],m.prototype,"setWarrants",null),r([a.default.assertChart],m.prototype,"setHoveredWarrant",null),r([a.default.assertChart],m.prototype,"setSelectedWarrant",null),t.A=m},56750:(e,t,i)=>{"use strict";var n=i(15215).Bx;Object.defineProperty(t,"__esModule",{value:!0}),t.isConfigIdentifier=t.DesktopConfigurations=void 0;const s=i(43130),r=n(i(96474)),o=n(i(94557));var a;!function(e){e.DEFAULT="DEFAULT",e.JAPANESE="JAPANESE"}(a||(a={})),t.default=a,t.DesktopConfigurations=Object.freeze({[a.DEFAULT]:r.default,[a.JAPANESE]:o.default}),t.isConfigIdentifier=function(e){return"string"==typeof e&&(0,s.includes)(a,e)}},94557:(e,t,i)=>{"use strict";var n=i(15215).Bx;Object.defineProperty(t,"__esModule",{value:!0});const s=i(43130),r=n(i(9094)),o=n(i(96474)),a=i(80116),l=n(i(21699)),d=n(i(20640)),u=n(i(39407)),c=n(i(63472)),h=n(i(46982)),p=n(i(53256)),_=n(i(2370)),g=n(i(3178)),f=n(i(95775)),m=n(i(44553)),v=n(i(57754)),A=n(i(11797));const E=(0,a.modifier)((function(e){return(0,s.each)(e,(e=>{(0,s.get)(e,"type")===v.default?e.properties=(0,s.merge)(e.properties||{},{axisBackground:!0}):((0,s.isArray)(e)||(0,s.isPlainObject)(e))&&E(e)})),e}));t.default=(0,a.modifyConfig)(o.default,{modules:{subViews:(0,s.set)({},"options.config.xaxis.renderers",{axisCap:{type:r.default,group:"xAxis",position:"xAxis",properties:{capWidth:o.default.view.rightMargin}},xTicks:{properties:{marginRight:o.default.view.rightMargin-12}}}),economicCalendar:(0,s.set)({},"options.subViews.htmloverlay.presentationControllers.economicCalendar.properties",{paddingOnAxis:o.default.view.rightMargin+8})}},{modules:{subViews:{options:{config:E}},indicators:{options:{indicators:E,subViews:E}}}},{view:{extraClasses:["japanese"]},modules:{menuApi:(0,s.set)({},"options.topMenu",{subMenus:function(e,...t){return(0,a.modifier)((i=>i.filter((i=>t.indexOf(i[e])>-1))))}("type",c.default,f.default)}),menuJapanese:{type:_.default,onByDefault:!0,options:{menus:[{type:l.default,visibleByDefault:!0},{type:m.default,visibleByDefault:!1},{type:u.default,visibleByDefault:!0},{type:d.default,visibleByDefault:!0},{type:h.default,visibleByDefault:!0},{type:g.default,visibleByDefault:!0},{type:A.default,visibleByDefault:!0},{type:p.default,visibleByDefault:!0}]}}}})},80116:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.modifyConfig=t.modifier=t.modifyForTouchIfNeeded=void 0;const n=i(43130);t.modifyForTouchIfNeeded=function(e,t){return t?(0,n.merge)({},e,{view:{captureZonePadding:10},modules:{overview:{options:{hoverMode:!1}}}}):e},t.modifier=function(e){return e.__modifier__=!0,e},t.modifyConfig=function(e,...t){return(0,n.mergeWith)({},e,...t,(function(e,t,i){if("function"==typeof(r=t)&&!0===r.__modifier__){const i=(s=e,(0,n.isArray)(s)?s.slice():(0,n.isPlainObject)(s)?Object.assign({},s):s),r=t(i);return void 0===r?i:r}var s,r}))}},9094:(e,t,i)=>{"use strict";var n=i(15215).Bx;Object.defineProperty(t,"__esModule",{value:!0});const s=n(i(85690)),r=n(i(86605)),o=n(i(73453)),a=i(61163);class l extends s.default{constructor(){super(...arguments),this._capWidth=0}withCapWidth(e){this._capWidth=e}initDom(){return this._dCapLine=this.dContainer.append("svg:polyline"),this._dCapLine.classed("xAxisCap",!0),this}startRedrawingBasedOnChangesInVisibleWindow(){this._visibleWindow.on(o.default.MOVED,this._handleVisibleWindowMoved,this)}stopRedrawingBasedOnChangesInVisibleWindow(){this._visibleWindow.un(o.default.MOVED,this)}render(){if(this._dCapLine){const e=this._visibleWindow.width(),t=e-this._capWidth;this._dCapLine.attr("points",[`${t},0`,`${t},${a.X_AXIS_HEIGHT}`,`${e},${a.X_AXIS_HEIGHT}`].join(" "))}}_handleVisibleWindowMoved(e){e&(r.default.INITIALISED|r.default.RESIZED)&&this.renderOnFrameEnd()}}t.default=l},25638:(e,t,i)=>{"use strict";var n=i(15215).Bx,s=i(15215).Cg;Object.defineProperty(t,"__esModule",{value:!0});const r=n(i(13538)),o=i(43130),a=n(i(92867)),l=n(i(82122)),d=n(i(95260)),u=n(i(94776)),c=i(92954),h=n(i(10644));class p extends r.default{constructor(e,t,i,n){super(e,t,i),this._theme=h.default.NWTP_LIGHT,this._apiSettingsManager=a.default.createFromConfigs(this._getAllPossibleConfigs()),this._igMenu=d.default.create()}createChart(e,...t){if(this.controllers[e])throw new Error(`Chart with container ID of "${e}" already exists`);return this.controllers[e]=l.default.create(e,this._getConfig(...t),this._apiSettingsManager).withMenuComponent(this._igMenu),this}subscribeToChart(e,t,i,n){this.controllers[e].subscribeToChart(`api/out/${t}`,i,n)}unsubscribeFromChart(e,t,i,n){this.controllers[e].unsubscribeFromChart(`api/out/${t}`,i,n)}getResolution(e,t){this.controllers[e].getResolutionWhenReady(t)}setResolution(e,t,i){this.controllers[e].setResolutionWhenReady(t,i)}setReferrer(e){return(0,o.invokeMap)(this.controllers,"setReferrer",e),this}disableStreaming(){u.default.disconnect()}reEnableStreaming(){u.default.connect()}showChart(e,t,i){return this.controllers[e].showChart(t,i).setTheme(this._theme),(0,c.logThemeChange)(this._theme,this.controllers,!0),this}hideChart(e,t){return this.controllers[e].hideChart(t),this}updateDimensions(e,t){return this.controllers[e].updateDimensions(t),this}blurChartFocus(e){return this.controllers[e].finishNonPersistentTasks(),this}setSettingsPolicy(e,t,i,n){return this.controllers[e].setSettingsPolicy(t,i,n),this}destroyChart(e){return this.controllers[e].destroyChart(),this._apiSettingsManager.removeSettings(e),delete this.controllers[e],this}destroy(){Object.keys(this.controllers).forEach((e=>this.destroyChart(e))),this._apiSettingsManager.un(null,this),this._apiSettingsManager.destroy(),this._igMenu.destroy(),delete this._apiSettingsManager,delete this._igMenu}}s([r.default.assertChart],p.prototype,"subscribeToChart",null),s([r.default.assertChart],p.prototype,"unsubscribeFromChart",null),s([r.default.assertChart],p.prototype,"getResolution",null),s([r.default.assertChart],p.prototype,"setResolution",null),s([r.default.assertChart],p.prototype,"showChart",null),s([r.default.assertChart],p.prototype,"hideChart",null),s([r.default.assertChart],p.prototype,"updateDimensions",null),s([r.default.assertChart],p.prototype,"blurChartFocus",null),s([r.default.assertChart],p.prototype,"setSettingsPolicy",null),s([r.default.assertChart],p.prototype,"destroyChart",null),t.default=p},2274:(e,t)=>{"use strict";var i;function n(e){return e===i.Term.BUY||e===i.Term.SELL}function s(e){return e===i.Sign.BUY||e===i.Sign.SELL}function r(e){return e===i.MTF.BUY||e===i.MTF.SELL}Object.defineProperty(t,"__esModule",{value:!0}),t.opposite=t.toMTF=t.toSign=t.toTerm=void 0,function(e){let t,i,n;!function(e){e.BUY="buy",e.SELL="sell"}(t=e.Term||(e.Term={})),function(e){e.BUY="+",e.SELL="-"}(i=e.Sign||(e.Sign={})),function(e){e.BUY="call",e.SELL="put"}(n=e.MTF||(e.MTF={}))}(i||(i={})),t.default=i,t.toTerm=function(e){return s(e)?e===i.Sign.BUY?i.Term.BUY:i.Term.SELL:r(e)?e===i.MTF.BUY?i.Term.BUY:i.Term.SELL:e},t.toSign=function(e){return n(e)?e===i.Term.BUY?i.Sign.BUY:i.Sign.SELL:r(e)?e===i.MTF.BUY?i.Sign.BUY:i.Sign.SELL:e},t.toMTF=function(e){return n(e)?e===i.Term.BUY?i.MTF.BUY:i.MTF.SELL:s(e)?e===i.Sign.BUY?i.MTF.BUY:i.MTF.SELL:e},t.opposite=function(e){let t;if(n(e))t=i.Term;else if(s(e))t=i.Sign;else{if(!r(e))throw new Error(`Unrecognised direction: ${e}`);t=i.MTF}return e===t.BUY?t.SELL:t.BUY}},71399:(e,t,i)=>{"use strict";var n=i(15215).Bx;const s=i(43130),r=n(i(70187)),o=n(i(27610)),a=n(i(14243)),l=n(i(17099));class d extends r.default{constructor(e,t,i,n,r){super(e,t,i,n),this._settingsManager=r,this._initialState=(0,s.clone)(this.getSettings())}static create(e,t,i,n,s){return new d(e,t,i,n,s)}getSettings(){return this._settingsManager.getGlobalSettings(a.default.COLOUR_CUSTOMISATION).getGridSettings(this._settingsManager.getThemeSettingsMode(),this._settingsManager.getTheme())}initDom(e){super.initDom(e);const t=this.getSettings();return this._gridStylingWidget=l.default.create(t,this._handleNewStyle.bind(this),this._taskManager,this._settingsManager).setCheckboxAvailable(!0).initDom(e,this._eventBus,this._captureZoneManager,this._dialog,o.default.get("showGrid"),["background","grid"],t.isVisible),this}save(){return this}resetToDefaults(){this._settingsManager.changeAccountSettings(a.default.COLOUR_CUSTOMISATION,(e=>(e.putGridSettings(null,this._settingsManager.getThemeSettingsMode()),!0)),!0),this._gridStylingWidget.setStyles(this.getSettings())}revertChanges(){this._settingsManager.changeAccountSettings(a.default.COLOUR_CUSTOMISATION,(e=>(e.putGridSettings(this._initialState,this._settingsManager.getThemeSettingsMode()),!0)),!0)}updateCaptureZones(){super.updateCaptureZones(),this._gridStylingWidget.updateCaptureZones()}destroy(){this._gridStylingWidget.destroy(),this._gridStylingWidget=null,super.destroy()}_handleNewStyle(e,t){const i=this._settingsManager.getThemeSettingsMode(),n=this.getSettings();n[e]=t,this._settingsManager.changeAccountSettings(a.default.COLOUR_CUSTOMISATION,(e=>(e.putGridSettings(n,i),!0)),!0)}}t.A=d},13538:(e,t,i)=>{"use strict";var n=i(15215).Bx,s=i(15215).Cg;Object.defineProperty(t,"__esModule",{value:!0});const r=i(43130),o=n(i(85673)),a=n(i(39842)),l=n(i(289)),d=n(i(17660)),u=n(i(65854)),c=i(92954),h=i(16207);class p extends l.default{static assertChart(e,t,i){const n=i.value;i.value=function(e,...t){if(!this.controllers[e])throw new Error(`No chart with container ID of "${e}"`);return n.call(this,e,...t)}}constructor(e,t,i){super(),this.controllers={},e&&this.setUserInfo(e),t&&this.setDeviceInfo(t),i&&this.setEnvironmentInfo(i)}setUserInfo(e){return(0,r.isEmpty)(e)||d.default.getInstance().setAccountId(e.accountId).setTrackingId(e.trackingId).setWebSiteId(e.webSiteId).setSiteType(e.webSiteType||e.siteType).setSsoToken(e.ssoToken).setCstToken(e.cstToken).setProductCode(e.productCode).setAssetClass(e.assetClass).setIgCompany(e.igCompany).setLocale(e.locale).setIsRetailAccount(e.isRetailAccount),this}setDeviceInfo(e){return o.default.getInstance().setDeviceInfo(e),this}setEnvironmentInfo(e){if((0,r.isEmpty)(e))return this;const t=a.default.getInstance();return t.setOrigin(e.origin).setDataAdaptor(e.dataAdaptor).setPath(e.path),e.chartsMiddleware&&t.setMiddlewareOrigin(e.chartsMiddleware),this}setFeatureFlags(e){u.default.getInstance().setFeatureFlags(e)}setTheme(e){this._theme=e,(0,c.logThemeChange)(e,this.controllers);for(const t in this.controllers)this.controllers[t].setTheme(e);return this}addFeature(e,t){return this.controllers[e].publishToChart(`api/in/chart/toggleFeature/${t}`,t,!0),this}removeFeature(e,t){return this.controllers[e].publishToChart(`api/in/chart/toggleFeature/${t}`,t,!1),this}hideFeatures(e,t){const i=this.controllers[e];return t.forEach(i.hideFeature,i),this}hideAllFeatures(e){return this.hideFeatures(e,Object.values(h.HIDE_OVERRIDES))}showFeatures(e,t){const i=this.controllers[e];return t.forEach(i.showFeature,i),this}showAllFeatures(e){return this.showFeatures(e,Object.values(h.HIDE_OVERRIDES))}setInstrument(e,t,i,n){let s=null;const o="string"==typeof i||"number"==typeof i,a="string"==typeof n||"number"==typeof n,l=!!i&&"object"==typeof i;if(!o&&!a||l)l&&(s=i);else{s={};for(const[e,t,r]of[[o,i,"version"],[a,n,"delay"]])if(e){const e=parseInt(t,10);Number.isNaN(e)||(s[r]=e)}}return this.controllers[e].setInstrument(t,s&&!(0,r.isEmpty)(s)?s:void 0),this}setAdditionalInstruments(e,t){return u.default.getInstance().getFlags().priceBelowEnabled&&this.controllers[e].setAdditionalInstruments(t),this}}s([p.assertChart],p.prototype,"addFeature",null),s([p.assertChart],p.prototype,"removeFeature",null),s([p.assertChart],p.prototype,"hideFeatures",null),s([p.assertChart],p.prototype,"showFeatures",null),s([p.assertChart],p.prototype,"setInstrument",null),s([p.assertChart],p.prototype,"setAdditionalInstruments",null),t.default=p},71503:(e,t,i)=>{"use strict";var n=i(15215).ut;Object.defineProperty(t,"__esModule",{value:!0});const s=i(43130),r=i(41943),o=i(54859),a=n(i(44513)),l=i(33236);class d{constructor(e){this._eventBus=e,this._indicatorNames=[],this._indicatorsConfig=Object.create(null),this._eventBus.subscribe("indicators/config",this._handleIndicatorsConfig,this,{once:!0}),this._eventBus.subscribe("styles/config",this._handleStylesConfig,this,{once:!0})}static create(e){return new d(e)}destroy(){this._eventBus.unsubscribeAll(this),delete this._indicatorsConfig,delete this._indicatorNames,delete this._eventBus}getConfig(e){return e?e===a.PricesIndicatorName.PRICES_RAW?a.default.PRICES_RAW:e===a.PricesIndicatorName.PRICES_RAW_DERIVATIVE?(0,s.merge)({},a.default.PRICES_RAW,{outputPointType:l.PointType.PRICES_RAW_DERIVATIVE,useUnderlyingInstrument:!1}):e.startsWith(a.PricesIndicatorName.PRICES_RAW)?a.default.PRICES_RAW:e===a.PricesIndicatorName.PRICES?(0,s.merge)({},this._pricesConfig,{study:"prices"}):e===a.PricesIndicatorName.PRICES_DERIVATIVE?(0,s.merge)({},a.default.PRICES,{inputPointType:l.PointType.PRICES_RAW_DERIVATIVE,outputPointType:l.PointType.PRICES_DERIVATIVE,useUnderlyingInstrument:!1}):e.startsWith(a.PricesIndicatorName.PRICES)?a.default.PRICES:this._indicatorsConfig[e]?this._indicatorsConfig[e]:null:null}getNames(){return Object.freeze((0,r.shallowCopy)(this._indicatorNames))}_handleIndicatorsConfig(e){this._indicatorNames=(0,r.unique)(this._indicatorNames.concat(Object.keys(e))),this._indicatorsConfig=e}_handleStylesConfig(e){if((0,r.contains)(this._indicatorNames,"PRICES"))return;const t=(0,s.merge)(this._pricesConfig,a.default.PRICES);for(const i in e.renderers)t.renderers&&(t.renderers[i]=(0,o.applyTo)({pointType:"prices"},e.renderers[i]));e.resolutionChooser&&(t.resolutionChooser=e.resolutionChooser),e.rendererChooser&&(t.rendererChooser=e.rendererChooser),this._indicatorNames.unshift("PRICES"),(0,o.recursiveFreeze)(t),this._pricesConfig=t}}t.default=d},71689:(e,t,i)=>{"use strict";var n=i(15215).Bx;Object.defineProperty(t,"__esModule",{value:!0});const s=i(43130),r=n(i(88080));class o{constructor(e,t,i,n,s,r){this._modules={},this._initialisedModuleNames=[],this._eventBus=e,this._subViewsConfigAggregator=t,this._settingsManager=i,this._containerProvider=n,this._priceStreamClock=s,this._taskManager=r}static create(e,t,i,n,s,r){return new o(e,t,i,n,s,r)}getInitialisedModules(){return this._initialisedModuleNames}loadModules(e){const t=new r.default(e),i=[];for(const n in e){const{type:e,options:s,onByDefault:r}=t.getConfig(n);this._modules[n]=new e(this._eventBus,s,this,this._subViewsConfigAggregator,this._settingsManager,this._containerProvider,this._priceStreamClock,this._taskManager),!0===r&&i.push(n)}return i.forEach(this.init,this),this}init(e){(0,s.includes)(this._initialisedModuleNames,e)||(this._initialisedModuleNames.push(e),this._modules[e].init(),this._eventBus.publish(`module/toggle/${e}`,[!0]))}destroy(e){(e?[e]:[...this._initialisedModuleNames]).forEach(this._destroy,this)}getModule(e){return this._modules[e]||null}_destroy(e){(0,s.includes)(this._initialisedModuleNames,e)&&((0,s.pull)(this._initialisedModuleNames,e),this._modules[e].destroy(),this._eventBus.publish(`module/toggle/${e}`,[!1]))}}t.default=o},88080:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=class{constructor(e){this._config=e}getNames(){return Object.keys(this._config)}getConfig(e){const t=this._config[e];if(!t)throw new Error(`there is no module called "${e}"`);return t}}},40245:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=i(43130),s=i(9525),r=i(54859),o=i(41943);class a{constructor(e){this._eventBus=e,this._configs=Object.create(null),e.subscribe("subViews/config",this._handleNewConfig,this),e.subscribe("subViews/removeConfig",this._handleRemoveConfig,this)}static create(e){return new a(e)}static getCoreProperties(e){const t={};for(const i in e)Object.prototype.hasOwnProperty.call(e,i)&&"renderers"!==i&&"presentationControllers"!==i&&(t[i]=e[i]);return t}getNames(){const e=Object.create(null);for(const t in this._configs){const i=this._configs[t];for(const t in i)e[t]=!0}return Object.keys(e)}getPersistentNames(){const e=Object.create(null);for(const t in this._configs){const i=this._configs[t];for(const t in i)i[t].isPersistent&&(e[t]=!0)}return Object.keys(e)}getConfig(e){const t=this._configsForSubView(e),i=t.map(a.getCoreProperties).filter(n.size);if(0===i.length)throw new Error(`Subview "${e}" has not been defined in config.`);if(i.length>1)throw new Error(`Core properties for "${e}" have been defined more than once`);const o=(0,r.deepCopyLiteral)({},i[0]);return o.renderers=t.map((0,s.plucker)("renderers")).reduce(r.deepCopyLiteral,{}),o.presentationControllers=t.map((0,s.plucker)("presentationControllers")).reduce(r.deepCopyLiteral,{}),o}getRendererConfigs(e){return this.getConfig(e).renderers}destroy(){this._eventBus.unsubscribeAll(this),delete this._eventBus,delete this._configs}_configsForSubView(e){return(0,n.values)(this._configs).filter((t=>(0,o.contains)(Object.keys(t),e))).map((t=>t[e]))}_handleNewConfig(e,t){if(this._configs[e])throw Error(`module subview config ${e} already set`);this._configs[e]=t}_handleRemoveConfig(e){if(!this._configs[e])throw Error(`attempted to delete subview config for ${e} which did not exist`);delete this._configs[e]}}t.default=a},47392:(e,t)=>{"use strict";var i;Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.ANNOTATION_TOOLBOX_TASK_ID="ANNOTATION_TOOLBOX_TASK_ID",e.EDIT_ANNOTATION_TASK_ID="EDIT_ANNOTATION_TASK_ID",e.CONCURRENT_DIALOG_TASK_ID="CONCURRENT_DIALOG_TASK_ID",e.DRAWINGS_TOOLBOX_TASK_ID="DRAWINGS_TOOLBOX_TASK_ID",e.NON_CONCURRENT_DIALOG_TASK_ID="NON_CONCURRENT_DIALOG_TASK_ID",e.RESIZE_SUBVIEW_TASK_ID="RESIZE_SUBVIEW_TASK_ID",e.TOOLTIP_MOBILE_TASK_ID="TOOLTIP_MOBILE_TASK_ID",e.TOOLTIP_DESKTOP_TASK_ID="TOOLTIP_DESKTOP_TASK_ID",e.DEAL_TICKET_TASK_ID="DEAL_TICKET_TASK_ID",e.DEAL_POSITION_TASK_ID="DEAL_POSITION_TASK_ID",e.MAIN_MENU_TASK_ID="MAIN_MENU_TASK_ID",e.MEASURE_TOOL_TASK_ID="MEASURE_TOOL_TASK_ID",e.MTF_SELECTION_TASK_ID="MTF_SELECTION_TASK_ID",e.GLOBAL_TASK_ID="GLOBAL_TASK_ID"}(i||(i={}));const n={DRAWINGS_EDIT:{ID:"DRAWINGS_EDIT"},DRAWINGS_ADDING:{ID:"DRAWINGS_ADDING"},DRAWINGS_ADDING_TOOLBOX:{ID:"DRAWINGS_ADDING_TOOLBOX"},EDIT_ANNOTATION:{ID:i.EDIT_ANNOTATION_TASK_ID},RESIZE_SUBVIEW:{ID:i.RESIZE_SUBVIEW_TASK_ID,concurrentTasks:[i.TOOLTIP_MOBILE_TASK_ID,i.TOOLTIP_DESKTOP_TASK_ID]},TOOLTIP_MOBILE:{ID:i.TOOLTIP_MOBILE_TASK_ID,concurrentTasks:[i.DEAL_TICKET_TASK_ID,i.RESIZE_SUBVIEW_TASK_ID]},TOOLTIP_DESKTOP:{ID:i.TOOLTIP_DESKTOP_TASK_ID,persistent:!0,concurrentTasks:[i.MAIN_MENU_TASK_ID]},BIJ_AXIS_HOVER:{ID:"BIJ_AXIS_HOVER",fullyConcurrent:!0,nonConcurrentTasks:[i.TOOLTIP_DESKTOP_TASK_ID]},DEAL_TICKET:{ID:i.DEAL_TICKET_TASK_ID,concurrentTasks:[i.TOOLTIP_MOBILE_TASK_ID,"SpreadTableWithLadderDialog_TASK","RecentTradesDialog_TASK"]},DEAL_POSITION:{ID:i.DEAL_POSITION_TASK_ID},MTF_SELECTION:{ID:i.MTF_SELECTION_TASK_ID,persistent:!0,fullyConcurrent:!0},MTF_INFO_TOOLTIP:{ID:"MTF_INFO_TOOLTIP",persistent:!1,concurrentTasks:[i.MTF_SELECTION_TASK_ID]},MAIN_MENU:{ID:i.MAIN_MENU_TASK_ID,persistent:!0,concurrentTasks:[i.TOOLTIP_DESKTOP_TASK_ID]},MEASURE_TOOL:{ID:i.MEASURE_TOOL_TASK_ID},CONCURRENT_DIALOG:{ID:i.CONCURRENT_DIALOG_TASK_ID,blockUnhandledHotkeys:!0,persistent:!0,fullyConcurrent:!0},ANNOTATION_TOOLBOX:{ID:i.ANNOTATION_TOOLBOX_TASK_ID,fullyConcurrent:!0,nonConcurrentTasks:[i.TOOLTIP_DESKTOP_TASK_ID]},DRAWINGS_TOOLBOX:{ID:i.DRAWINGS_TOOLBOX_TASK_ID,fullyConcurrent:!0,nonConcurrentTasks:[i.TOOLTIP_DESKTOP_TASK_ID]},NON_CONCURRENT_DIALOG:{ID:i.NON_CONCURRENT_DIALOG_TASK_ID,blockUnhandledHotkeys:!0,persistent:!0},GLOBAL:{ID:i.GLOBAL_TASK_ID,fullyConcurrent:!0,persistent:!0}};t.default=Object.freeze(n)},82122:(e,t,i)=>{"use strict";var n=i(15215).Bx;Object.defineProperty(t,"__esModule",{value:!0});const s=n(i(8153)),r=i(9525),o=n(i(289));class a extends o.default{constructor(e,t,i){super(),this.chartControllerCore=new s.default(e,t,i),this.chartControllerCore.on(s.default.INSTRUMENT_CHANGED,(0,r.bubbler)(a.INSTRUMENT_CHANGED),this),this.chartControllerCore.on(s.default.CHART_LOADED,(0,r.bubbler)(a.CHART_LOADED),this)}static create(e,t,i){return new a(e,t,i)}get eventBus(){return this.chartControllerCore.eventBus}get flavour(){return this.chartControllerCore.flavour}finishNonPersistentTasks(){this.chartControllerCore.finishNonPersistentTasks()}getCapabilities(){return this.chartControllerCore.getCapabilities()}setStyle(e,t){this.chartControllerCore.setStyle(e,t)}hideFeature(e){this.chartControllerCore.hideFeature(e)}showFeature(e){this.chartControllerCore.showFeature(e)}showBlankChartPrompt(e){this.chartControllerCore.showBlankChartPrompt(e)}getResolutionWhenReady(e){this.chartControllerCore.getResolutionWhenReady(e)}setResolutionWhenReady(e,t){this.chartControllerCore.setResolutionWhenReady(e,t)}publishToChart(e,...t){return this.chartControllerCore.publishToChart(e,...t),this}subscribeToChart(e,t,i){return this.chartControllerCore.subscribeToChart(e,t,i),this}unsubscribeFromChart(e,t,i){return this.chartControllerCore.unsubscribeFromChart(e,t,i),this}showChart(e,t){return this.chartControllerCore.showChart(e,t),this}hideChart(e){return this.chartControllerCore.hideChart(e),this}setInstrument(e,t){return this.chartControllerCore.setInstrument(e,t),this}setAdditionalInstruments(e){return this.chartControllerCore.setAdditionalInstruments(e),this}setTheme(e){return this.chartControllerCore.setTheme(e),this}withDealingComponents(e){return this.chartControllerCore.withDealingComponents(e),this}withMenuComponent(e){return this.chartControllerCore.withMenuComponent(e),this}updateDimensions(e){return this.chartControllerCore.updateDimensions(e),this}setSettingsPolicy(e,t,i){return this.chartControllerCore.setSettingsPolicy(e,t,i),this}destroyChart(){return this.chartControllerCore.un(null,this),this.chartControllerCore.destroyChart(),delete this.chartControllerCore,this}}a.CHART_LOADED="chartLoaded",a.INSTRUMENT_CHANGED="instrumentChanged",t.default=a},8153:(e,t,i)=>{"use strict";var n=i(15215).Bx;Object.defineProperty(t,"__esModule",{value:!0});const s=n(i(4739)),r=i(92867),o=n(i(38138)),a=n(i(40975)),l=n(i(35138)),d=n(i(67115)),u=n(i(33758)),c=n(i(45090)),h=n(i(77209)),p=n(i(71503)),_=n(i(73625)),g=i(80272),f=n(i(49029)),m=n(i(88045)),v=n(i(71689)),A=n(i(6195)),E=i(73731),T=n(i(16207)),I=n(i(14243)),C=n(i(40245)),O=n(i(289)),M=n(i(34175)),y=n(i(10644)),b=i(97292);class S extends O.default{constructor(e,t,i){super(),this._chartViews={},this._chartGuid=(0,b.getGuid)(),this._chartConfig=t,this._containerProvider=u.default.create(this._chartGuid),this.eventBus=c.default.create(),this._indicatorsConfigAggregator=p.default.create(this.eventBus),this._subViewsConfigAggregator=C.default.create(this.eventBus),this._settingsManager=T.default.create(e,i),this._taskManager=M.default.create(this._containerProvider.getRootContainer(),this.eventBus),this._loadChartCapabilities();const n=A.default.create();this._moduleLoader=v.default.create(this.eventBus,this._subViewsConfigAggregator,this._settingsManager,this._containerProvider,n,this._taskManager).loadModules(this._chartConfig.modules),this._animationPoller=s.default.create(),this._chartModel=this._createChartModel(n),this._chartFlavour=t.flavour,this._startPerformanceTracking(),this._startChartLoadingIndicator(),this._handleApiEvents(),this._settingsManager.on(r.SETTINGS_REQUEST_ERROR,this._forwardToEventBus.bind(this,h.default.REQUEST_ERROR),this)}get flavour(){return this._chartConfig.flavour}finishNonPersistentTasks(){this._taskManager.finishNonPersistentTasks()}getCapabilities(){return this._capabilities}_handleApiEvents(){this.eventBus.subscribe("api/in/chart/toggleFeature/*",this._toggleFeature,this),window.IG&&window.IG._featureFlagEnabled&&this.eventBus.subscribe("toggle/theme",(function(){this.setTheme(this._theme===y.default.IG?y.default.IG_DARK:y.default.IG)}),this)}_createChartModel(e){var t,i;return new o.default(this.eventBus,this._indicatorsConfigAggregator,this._settingsManager,this,e,this._animationPoller,null===(t=this._chartConfig.model)||void 0===t?void 0:t.restrictDuration,null===(i=this._chartConfig.model)||void 0===i?void 0:i.stickToPresent)}_startPerformanceTracking(){return this._chartModel.on(a.default.INSTRUMENT_CHANGED,this._handleInstrumentChanged,this),this._chartModel.on(a.default.CHART_LOADED,this._handleChartLoaded,this),this}_handleInstrumentChanged(e){this.fire(S.INSTRUMENT_CHANGED,e),this.eventBus.publish(`api/out/${S.INSTRUMENT_CHANGED}`,[e])}_handleChartLoaded(){Object.values(f.default.STAGE).forEach(this._trackLatency,this),this.eventBus.publish("api/out/chart/loaded"),this.fire(S.CHART_LOADED)}_trackLatency(e){f.default.stopMeasurement(this._chartGuid,e);null!==f.default.getMeasurement(this._chartGuid,e)&&(f.default.resetMeasurement(this._chartGuid,e),f.default.resetMeasurement(f.default.GLOBAL,e))}_loadChartCapabilities(){this.eventBus.subscribeMultiple(["capabilities/styles","capabilities/resolutions","capabilities/indicators"],this._handleChartCapabilities,this,{once:!0})}_handleChartCapabilities(e,t,i){this._capabilities={chartStyles:e[1],resolutions:t[1],indicators:i[1]}}publishToChart(e,...t){return this.eventBus.publish(e,t,{retrospective:!0}),this}setStyle(e,t){this._settingsManager.putStyleSettings(e,t)}hideFeature(e){this._settingsManager.addHideOverride(e)}showFeature(e){this._settingsManager.removeHideOverride(e)}showBlankChartPrompt(e){for(const t in this._chartViews)this._chartViews[t].showBlankChartPrompt(e)}subscribeToChart(e,t,i){return this.eventBus.subscribe(e,t,i),this}unsubscribeFromChart(e,t,i){return this.eventBus.unsubscribe(e,t,i),this}_startChartLoadingIndicator(){return this._chartModel.on(a.default.INSTRUMENT_RESOLUTION_CHANGE,this._showLoadingIndicators,this),this._chartModel.on(a.default.INSTRUMENT_RESOLUTION_LOADED,this._hideLoadingIndicators,this),this}_showLoadingIndicators(){for(const e in this._chartViews)this._chartViews[e].showLoadingIndicator()}_hideLoadingIndicators(){for(const e in this._chartViews)this._chartViews[e].hideLoadingIndicator()}showChart(e,t){f.default.startMeasurement(this._chartGuid,f.default.STAGE.VIEW),this._containerProvider.appendToDOM(t);const i=new d.default(l.default,this._moduleLoader,this._animationPoller,this._chartConfig.view,this._chartModel,this._indicatorsConfigAggregator,this._subViewsConfigAggregator);return this._chartViews[e]=i.create(e,this._containerProvider,this._settingsManager,this.eventBus,this._taskManager),this._theme&&this._chartViews[e].withTheme(this._theme),this._chartFlavour&&this._chartViews[e].withFlavour(this._chartFlavour),this}hideChart(e){return this._chartViews[e]&&(this._chartViews[e].destroy(),delete this._chartViews[e],this._containerProvider.detachFromDOM()),this}destroyChart(){f.default.deleteMeasurement(this._chartGuid),this._taskManager.destroy(),delete this._taskManager,this._moduleLoader.destroy(),delete this._moduleLoader,this._settingsManager.un(null,this),this._settingsManager.destroy(),delete this._settingsManager;for(const e in this._chartViews)this.hideChart(e);return delete this._chartViews,this._containerProvider.destroy(),delete this._containerProvider,this._chartModel.un(null,this),this._chartModel.destroy(),delete this._chartModel,this.eventBus.destroy(),delete this.eventBus,this._animationPoller.destroy(),delete this._animationPoller,this}_toggleFeature(e,t){t?this._moduleLoader.init(e):this._moduleLoader.destroy(e)}setSettingsPolicy(e,t,i){return this._settingsManager.setSettingsPolicy(e,t,i),this}setInstrument(e,t){var i,n;f.default.startMeasurement(this._chartGuid,f.default.STAGE.INSTRUMENT),(0,g.isEpic)(e)&&"null"!==e||(e=null),this._settingsManager.loadSettings(e);const s=null!==(i=null==t?void 0:t.delay)&&void 0!==i?i:null,r=null!==(n=null==t?void 0:t.version)&&void 0!==n?n:null,o=new _.default(this.eventBus,e,s,r,this._chartModel);return this._chartModel.setInstrument(o,t),this}setAdditionalInstruments(e){const t=null==(e=e||[])?void 0:e.reduce(((e,{epic:t,delay:i,version:n})=>((0,g.isEpic)(t)&&null!==t&&"null"!==t&&e.push(new _.default(this.eventBus,t,null!=i?i:null,null!=n?n:null,this._chartModel)),e)),[]);return this._chartModel.setAdditionalInstruments(t),this}getResolutionWhenReady(e){this._settingsManager.hasSettings()?e(this._settingsManager.getResolutionSettings()):this._settingsManager.on((0,E.getLayoutSettingsEvent)(I.default.CORE),this._getResolutionOnSettingsLoaded.bind(this,e),this)}_getResolutionOnSettingsLoaded(e){this._settingsManager.un((0,E.getLayoutSettingsEvent)(I.default.CORE),this),e(this._settingsManager.getResolutionSettings())}setResolutionWhenReady(e,t){this._settingsManager.hasSettings()?this._settingsManager.putResolutionSettings(e,t):this._settingsManager.on((0,E.getLayoutSettingsEvent)(I.default.CORE),this._setResolutionOnSettingsLoaded.bind(this,e,t),this)}_setResolutionOnSettingsLoaded(e,t){this._settingsManager.un((0,E.getLayoutSettingsEvent)(I.default.CORE),this),this._settingsManager.putResolutionSettings(e,t)}setTheme(e){this._theme=e,this._settingsManager.updateTheme(e);for(const t in this._chartViews)this._chartViews[t].withTheme(e);return this._moduleLoader.getModule("reactUI").theme=e,this}withDealingComponents(e){return this._moduleLoader.getModule("dealingCommon").withDealingComponents(e),this}withMenuComponent(e){return this._moduleLoader.getModule("menuApi").withMenuComponent(e),this}updateDimensions(e){if(e)e in this._chartViews?this._chartViews[e].updateDimensions():m.default.warn(`Attempted to update dimensions on non-existent chart view: ${e}`);else for(e in this._chartViews)this._chartViews[e].updateDimensions();return this}_forwardToEventBus(e,...t){this.eventBus.publish(e,t)}}S.CHART_LOADED="chartLoaded",S.INSTRUMENT_CHANGED="instrumentChanged",t.default=S},83639:(e,t,i)=>{"use strict";var n=i(15215).Bx;t.x=void 0;const s=n(i(74893)),r=n(i(28193)),o=n(i(4413)),a=n(i(42786));t.x=function(e){const t=e.resolution,i=new(t.id===s.default.values.TICK.id?a.default:o.default)(t.baseResolution);return t.synthetic?new r.default(i).withInstrumentResolution(e):i.withInstrumentResolution(e)}},28193:(e,t,i)=>{"use strict";var n=i(15215).Bx,s=i(15215).ut;Object.defineProperty(t,"__esModule",{value:!0});const r=n(i(77209)),o=s(i(17070)),a=s(i(46444)),l=n(i(38153)),d=n(i(54786)),u=n(i(65569)),c=n(i(289));function h(e,t,i){return new o.default(e.timestamp,t.value,i,e.artificial?t.highPrice:Math.max(e.highPrice,t.highPrice),e.artificial?t.lowPrice:Math.min(e.lowPrice,t.lowPrice),e.artificial?t.openPrice:e.openPrice,t.closePrice,e.artificial?e.lastRawPrice&&t.lastRawPrice?(0,a.retimePrice)(t.lastRawPrice,e.lastRawPrice.timestamp):t.lastRawPrice:function(e,t){return new a.default(new d.default(Math.max(e.high.bid,t.high.bid),Math.max(e.high.ask,t.high.ask),Math.max(e.high.ltp,t.high.ltp)),new d.default(Math.min(e.low.bid,t.low.bid),Math.min(e.low.ask,t.low.ask),Math.min(e.low.ltp,t.low.ltp)),e.open,t.close,e.timestamp,t.volume)}(e.lastRawPrice,t.lastRawPrice),e.artificial&&t.artificial)}class p extends c.default{constructor(e){super(),this._receivedFirstDataPoint=!1,this._unconsolidatedSource=e}withInstrumentResolution(e){return this._instRes&&this._instRes.un(null,this),this._instRes=e,this._periodIterator=e.resolution.getTimezoneOffsetIterator(),this._unconsolidatedSource.withInstrumentResolution(e),this._setConsolidationTimezoneOffset(e.info),this._consolidationTimezoneOffset||e.on(l.default.INFO_LOADED,this._setConsolidationTimezoneOffset,this,{once:!0}),this}_setConsolidationTimezoneOffset(e){e&&(this._consolidationTimezoneOffset=e.getConsolidationTimezoneOffset())}_setCurrentPoint(e){e&&(this._currentPoint=e)}usePriceCalculator(e,t){this._unconsolidatedSource.usePriceCalculator(e),delete this._currentPoint,this._instRes.on(`${l.default.CURRENT_DATA_POINT_CHANGED}-${t}`,this._setCurrentPoint,this,{once:!0})}startListening(e){return this._unconsolidatedSource.on(r.default.POINTS_LOADED,this._handleStreamedPoints,this),this._unconsolidatedSource.on(u.default.FIRST_BUFFERED_PRICE,this.fire.bind(this,u.default.FIRST_BUFFERED_PRICE),this),this._unconsolidatedSource.startListening(e),this}stopListening(){return this._unconsolidatedSource.un(null,this),this._unconsolidatedSource.stopListening(),this}getFirstBufferedPrice(){return this._unconsolidatedSource.getFirstBufferedPrice()}beginDataBuffering(){return this._unconsolidatedSource.beginDataBuffering(),this}flushDataBuffering(){return this._unconsolidatedSource.flushDataBuffering(),this}_handleStreamedPoints(e){if("number"!=typeof this._consolidationTimezoneOffset||!this._currentPoint||!e.length)return;const t=[];for(let i=0;i<e.length;i++)this._currentPoint=this._consolidate(this._currentPoint,e[i]),t.length&&t[t.length-1].timestamp===this._currentPoint.timestamp?t[t.length-1]=this._currentPoint:t.push(this._currentPoint);this.fire(r.default.POINTS_LOADED,t)}_consolidate(e,t){const i=this._consolidateTimestamp(t),n=i===e.timestamp;return this._receivedFirstDataPoint||(this._volumeConsolidationLastTimestamp=n?t.timestamp:i,this._volumeConsolidationLastVolume=n?t.volume:null,this._receivedFirstDataPoint=!0),n?h(e,t,this._consolidateVolume(e,t)):(0,o.retimePoint)(t,i)}_consolidateTimestamp(e){let t=this._instRes.getIntervalStartContainingDate(e.date),i=this._periodIterator.next(t,this._consolidationTimezoneOffset);for(;i<=e.date;)t=i,i=this._periodIterator.next(t,this._consolidationTimezoneOffset);return t.getTime()}_consolidateVolume(e,t){if("number"!=typeof e.volume)return this._volumeConsolidationLastTimestamp=t.timestamp,this._volumeConsolidationLastVolume=t.volume,t.volume;{let i=0;return t.timestamp===this._volumeConsolidationLastTimestamp?"number"==typeof t.volume?(i=t.volume-(this._volumeConsolidationLastVolume||0),this._volumeConsolidationLastVolume=t.volume):i=0:(i=t.volume||0,this._volumeConsolidationLastTimestamp=t.timestamp,this._volumeConsolidationLastVolume=t.volume),e.volume+i}}destroy(){this._unconsolidatedSource.destroy(),delete this._unconsolidatedSource,this._instRes&&(this._instRes.un(null,this),delete this._instRes),super.destroy()}}t.default=p},5935:(e,t)=>{"use strict";var i;Object.defineProperty(t,"__esModule",{value:!0}),t.valueOf=void 0,function(e){e.FOREX="FOREX",e.INDICES="INDICES",e.COMMODITIES="COMMODITIES",e.SHARES="SHARES",e.BONDS="BONDS",e.OTHER="OTHER",e.UNKNOWN="UNKNOWN"}(i||(i={})),t.valueOf=function(e){return"string"!=typeof e?i.UNKNOWN:i[e]||i.UNKNOWN},t.default=i},61568:(e,t)=>{"use strict";var i;Object.defineProperty(t,"__esModule",{value:!0}),t.keyName=t.normaliseKey=t.ResolutionShortcutKeys=void 0,function(e){e.DELETE="Delete",e.BACKSPACE="Backspace",e.D="D",e.E="E",e.O="O",e.P="P",e.T="T",e.K="K",e.I="I",e.ESCAPE="Escape",e.ENTER="Enter",e.SPACE=" ",e.UP="ArrowUp",e.RIGHT="ArrowRight",e.DOWN="ArrowDown",e.LEFT="ArrowLeft",e.ZERO="0",e.ONE="1",e.TWO="2",e.THREE="3",e.FOUR="4",e.FIVE="5",e.SIX="6",e.SEVEN="7",e.EIGHT="8",e.NINE="9",e.DOT="."}(i||(i={})),function(e){e.ONE="1",e.TWO="2",e.THREE="3",e.FOUR="4",e.FIVE="5"}(t.ResolutionShortcutKeys||(t.ResolutionShortcutKeys={})),t.normaliseKey=function(e){return"Up"!==e&&"Right"!==e&&"Down"!==e&&"Left"!==e||(e=`Arrow${e}`),1===e.length&&(e=e.toUpperCase()),e},t.keyName=function(e){return 1===e.length?e:e===i.DELETE?"Del":""},t.default=i},28896:(e,t)=>{"use strict";var i;Object.defineProperty(t,"__esModule",{value:!0}),t.valueOf=void 0,function(e){e.IG_JAPAN="igjp",e.UNKNOWN="UNKNOWN"}(i||(i={})),t.valueOf=function(e){for(const t in i)if(i[t]===e)return i[t];return i.UNKNOWN},t.default=i},74925:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i={UTM:"UTM",LTV:"LTV",FIDS:{BID:Object.freeze({OPEN:"BID_OPEN",CLOSE:"BID_CLOSE",HIGH:"BID_HIGH",LOW:"BID_LOW"}),OFFER:Object.freeze({OPEN:"OFR_OPEN",CLOSE:"OFR_CLOSE",HIGH:"OFR_HIGH",LOW:"OFR_LOW"}),LTP:Object.freeze({OPEN:"LTP_OPEN",CLOSE:"LTP_CLOSE",HIGH:"LTP_HIGH",LOW:"LTP_LOW"}),DAY:Object.freeze({HIGH:"DAY_HIGH",LOW:"DAY_LOW",NET_CHG_MID:"DAY_NET_CHG_MID",PERC_CHG_MID:"DAY_PERC_CHG_MID"})}};t.default=i},51684:(e,t)=>{"use strict";var i;(function(e){e.MOUSE="mouse",e.TOUCH="touch"})(i||(i={})),t.A=i},4395:(e,t)=>{"use strict";var i;Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.MID="MID",e.BID="BID",e.ASK="ASK",e.LTP="LAST_TRADED"}(i||(i={})),t.default=i},79113:(e,t)=>{"use strict";var i;Object.defineProperty(t,"__esModule",{value:!0}),t.valueOf=void 0,function(e){e.IGFUTOPT="IGFUTOPT",e.MTFTURBO="MTFTURBO",e.UNKNOWN="UNKNOWN"}(i||(i={})),t.valueOf=function(e){return"string"!=typeof e?i.UNKNOWN:i[e]||i.UNKNOWN},t.default=i},97535:(e,t)=>{"use strict";var i;Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.ABSOLUTE="ABSOLUTE",e.PERCENTAGE="PERCENTAGE"}(i||(i={})),t.default=i},14243:(e,t)=>{"use strict";var i;Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.DRAWINGS="userAnnotationModule",e.CORE="coreModule",e.INDICATORS="indicatorModule",e.CURRENT_PRICE_LINE_VISIBILITY="currentPriceLineVisibilityModule",e.DRAWINGS_VISIBILITY="annotationModule",e.HIGH_LOW_STATS_VISIBILITY="highLowStatsVisibilityModule",e.INDICATORS_VISIBILITY="indicatorsVisibilityModule",e.OVERVIEW_VISIBILITY="overviewChartModule",e.POSITION_PREVIEW_VISIBILITY="positionPreviewModule",e.WATERMARK_VISIBILITY="watermarkModule",e.COLOUR_CUSTOMISATION="colourCustomisationModule",e.CALENDAR="calendarEventsModule",e.DEALING="tradingModule",e.DRAWINGS_GLOBAL="globalAnnotationModule",e.INDICATORS_GLOBAL="globalIndicatorModule",e.STRIKES="turbosModule"}(i||(i={})),t.default=i},92896:(e,t,i)=>{"use strict";var n=i(15215).Bx;Object.defineProperty(t,"__esModule",{value:!0}),t.getSupportedStylesForResolution=void 0;const s=n(i(76040));var r;!function(e){e.CANDLE="CANDLE",e.HEIKINASHI="HEIKINASHI",e.LINE="LINE",e.HLOC="HLOC",e.MOUNTAIN="MOUNTAIN"}(r||(r={})),t.default=r,t.getSupportedStylesForResolution=function(e){return e===s.default.Enum.TICK?[r.LINE,r.MOUNTAIN]:Object.keys(r)}},10644:(e,t)=>{"use strict";var i;Object.defineProperty(t,"__esModule",{value:!0}),t.THEME_SETTINGS_MAP=t.THEME_SETTINGS_MODE=void 0,function(e){e.IG="ig",e.IG_DARK="igDark",e.IG_NAVY="igNavy",e.COMMSEC="commsec",e.CFDTRADER="cfdtrader",e.HARGREAVES="hargreaves",e.NWTP_LIGHT="nwtpLight",e.NWTP_DARK="nwtpDark",e.NWTP_NAVY="nwtpNavy",e.LSH_LIGHT="lshLight",e.LSH_DARK="lshDark"}(i||(i={})),t.default=i,function(e){e.default="default",e.dark="dark"}(t.THEME_SETTINGS_MODE||(t.THEME_SETTINGS_MODE={})),function(e){e.ig="default",e.igNavy="dark",e.igDark="dark",e.commsec="default",e.cfdtrader="default",e.hargreaves="default",e.nwtpLight="default",e.nwtpDark="dark",e.nwtpNavy="dark",e.lshLight="default",e.lshDark="dark"}(t.THEME_SETTINGS_MAP||(t.THEME_SETTINGS_MAP={}))},10520:(e,t)=>{"use strict";var i;Object.defineProperty(t,"__esModule",{value:!0}),function(e){e[e.MAX=999]="MAX",e[e.STOP_Y_FITTING=995]="STOP_Y_FITTING",e[e.COLOUR_PICKER_DIALOG_CONTROLS=900]="COLOUR_PICKER_DIALOG_CONTROLS",e[e.COLOUR_PICKER_DIALOG_BODY=897]="COLOUR_PICKER_DIALOG_BODY",e[e.COLOUR_PICKER_DIALOG_DISMISSAL_ZONE=895]="COLOUR_PICKER_DIALOG_DISMISSAL_ZONE",e[e.DIALOG_CONTROLS=890]="DIALOG_CONTROLS",e[e.DIALOG=800]="DIALOG",e[e.MENU_SCROLL_CHEVRONS=794]="MENU_SCROLL_CHEVRONS",e[e.MENU_SCROLL=793]="MENU_SCROLL",e[e.MENU_STICKY_SCROLLABLE=792]="MENU_STICKY_SCROLLABLE",e[e.MENU_STICKY_FIXED=791]="MENU_STICKY_FIXED",e[e.MENU=790]="MENU",e[e.MENU_BLOCK_INTERACTIONS=789]="MENU_BLOCK_INTERACTIONS",e[e.CLOSE_TOOLTIP_BUTTON=788]="CLOSE_TOOLTIP_BUTTON",e[e.MENU_TOOLS_BUTTON=787]="MENU_TOOLS_BUTTON",e[e.Y_AXIS_BLOCKING=783]="Y_AXIS_BLOCKING",e[e.OVERVIEW_HANDLE=782]="OVERVIEW_HANDLE",e[e.SCROLL_THUMB=781]="SCROLL_THUMB",e[e.OVERVIEW_CLOSE_ICON=780]="OVERVIEW_CLOSE_ICON",e[e.SCROLL_TRACK=779]="SCROLL_TRACK",e[e.DEAL_CONFIRMATION_BOX=682]="DEAL_CONFIRMATION_BOX",e[e.DEAL_TICKET_CONTROLS=681]="DEAL_TICKET_CONTROLS",e[e.DEAL_TICKET_BODY=680]="DEAL_TICKET_BODY",e[e.HINT_TOOLTIP=674]="HINT_TOOLTIP",e[e.TOOLTIP_CLOSE_ICON=657]="TOOLTIP_CLOSE_ICON",e[e.TOOLTIP_BODY=656]="TOOLTIP_BODY",e[e.UNDO_DELETE_ALL_ACTION=655]="UNDO_DELETE_ALL_ACTION",e[e.CALENDAR_DETAILS_PAGINATION=654]="CALENDAR_DETAILS_PAGINATION",e[e.CALENDAR_DETAILS_DETAILS=653]="CALENDAR_DETAILS_DETAILS",e[e.CALENDAR_SELECTION=652]="CALENDAR_SELECTION",e[e.TOOLTIP_ENABLED_SELECTION_LAYER=650]="TOOLTIP_ENABLED_SELECTION_LAYER",e[e.DRAWING_TOOLBOX_BUTTON=650]="DRAWING_TOOLBOX_BUTTON",e[e.DEAL_TICKET_DISMISSAL=649]="DEAL_TICKET_DISMISSAL",e[e.INTERACTIVE_DRAWING=649]="INTERACTIVE_DRAWING",e[e.ACTIVE_SUBVIEW=648]="ACTIVE_SUBVIEW",e[e.INDICATOR_LABELS_CLOSE=630]="INDICATOR_LABELS_CLOSE",e[e.INDICATOR_LABELS_SETTINGS=620]="INDICATOR_LABELS_SETTINGS",e[e.CALENDAR_DETAILS_DISMISS=612]="CALENDAR_DETAILS_DISMISS",e[e.STOP_OR_LIMIT_TEXT_BUBBLE=502]="STOP_OR_LIMIT_TEXT_BUBBLE",e[e.POSITION_CLOSE_BUTTONS=502]="POSITION_CLOSE_BUTTONS",e[e.POSITION_SELECT_BADGE_ON_POSITION_SELECTED=501]="POSITION_SELECT_BADGE_ON_POSITION_SELECTED",e[e.POSITION_SELECTED_LAYER=500]="POSITION_SELECTED_LAYER",e[e.COMMON_BUTTON=140]="COMMON_BUTTON",e[e.POSITION_PRICE_LINE=72]="POSITION_PRICE_LINE",e[e.POSITION_SELECTED_STOP_LIMIT_LINE=73]="POSITION_SELECTED_STOP_LIMIT_LINE",e[e.POSITION_SELECT_BADGE=90]="POSITION_SELECT_BADGE",e[e.RECTANGLE_ANCHORS=81]="RECTANGLE_ANCHORS",e[e.ANNOTATION_ANCHORS=74]="ANNOTATION_ANCHORS",e[e.STRIKE_TRADES_BADGE_INFO_ICON=73]="STRIKE_TRADES_BADGE_INFO_ICON",e[e.STRIKE_TRADES_CLOSE_BUTTON=73]="STRIKE_TRADES_CLOSE_BUTTON",e[e.STRIKE_TRADES_BACK_BUTTON=72]="STRIKE_TRADES_BACK_BUTTON",e[e.STRIKE_TRADES_BADGE=71]="STRIKE_TRADES_BADGE",e[e.STRIKE_TRADES_LINE=70]="STRIKE_TRADES_LINE",e[e.ANNOTATION_SELECTION=70]="ANNOTATION_SELECTION",e[e.SHARED_DISMISSAL_CAPTURE_ZONE=59]="SHARED_DISMISSAL_CAPTURE_ZONE",e[e.STRIKE_EXPANDED_STATE_DISMISSAL_ZONE=58]="STRIKE_EXPANDED_STATE_DISMISSAL_ZONE",e[e.TOOLTIP_SELECTION_LAYER=50]="TOOLTIP_SELECTION_LAYER",e[e.DELAY_BADGE=11]="DELAY_BADGE",e[e.Y_AXIS=10]="Y_AXIS",e[e.TROUBLESHOOTER_TRIGGER=5]="TROUBLESHOOTER_TRIGGER",e[e.BASE=0]="BASE"}(i||(i={})),t.default=i},45090:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=i(41943);class s{constructor(){this._topics={},this._pastEvents={}}static create(){return new s}_subscribe(e,t,i,n){this._topics=this._topics||Object.create(null),this._pastEvents=this._pastEvents||Object.create(null);const s=n.once,r="/*"===e.slice(-2);e=r?e.slice(0,e.length-2):e;const o=this._getPastValidTopics(e,r);this._topics[e]=this._topics[e]||[],this._topics[e].push({callback:t,context:i,once:s,_listenToChildren:r,_actualCallback:n._actualCallback,_relatedTopics:n._relatedTopics}),o&&o.length>0&&this._triggerPastEvents(o,e,t,i,s)}subscribe(e,t,i,n={once:!1}){this._subscribe(e,t,i,n)}_triggerPastEvents(e,t,i,n,s){let r,o;for(let a=0;a<e.length;a++){o=e[a];for(let e=0;e<o.length;e++)if(r=o[e],i.apply(n,r.args),s)return void this._topics[t].pop()}}subscribeMultiple(e,t,i,s={once:!1}){const r=[],o=s||{};let a,l,d=(0,n.shallowCopy)(e);function u(s){return function(...o){(0,n.remove)(d,s),r[e.indexOf(s)]=(0,n.shallowCopy)(o),0===d.length&&(t.apply(i,r),d=(0,n.shallowCopy)(e))}}for(let n=0;n<e.length;n++)a=e[n],l=u(a),o._actualCallback=t,o._relatedTopics=e.filter((function(e){return e!==a})),this._subscribe(a,l,i,o)}unsubscribe(e,t,i){const s=[];return this._topics&&this._topics[e]?(this._topics[e]=this._topics[e].filter(function(e,t,i){return function(s){return s._actualCallback===t&&s.context===i&&s._relatedTopics&&(0,n.inPlaceConcat)(e,s._relatedTopics),!((s.callback===t||s._actualCallback===t)&&s.context===i)}}(s,t,i)),s.length>0&&this._unsubscribeRelatedTopics(s,t,i),this):this}_unsubscribeRelatedTopics(e,t,i){let n;for(let s=0;s<e.length;s++)n=e[s],this._topics[n]=this._topics[n].filter((function(e){return!(e._actualCallback===t&&e.context===i)}))}unsubscribeAll(e){let t,i,n,s;for(t in this._topics){for(i=[],s=0;s<this._topics[t].length;s++)n=this._topics[t][s],n.context!==e&&i.push(n);this._topics[t]=i}return this}publish(e,t,i={retrospective:!1}){this._topics=this._topics||Object.create(null),this._pastEvents=this._pastEvents||Object.create(null);const n=i.retrospective,s=this._getSubscriptionsToTrigger(e);let r;if(n&&(this._pastEvents[e]=this._pastEvents[e]||[],this._pastEvents[e].push({args:t}),this._pastEvents[e].splice(0,this._pastEvents[e].length-1)),!(s&&s.length>0))return this;for(let o=0;o<s.length;o++)r=s[o],r.callback.apply(r.context,t);return this._topics&&this._topics[e]&&(this._topics[e]=this._topics[e].filter((function(e){return!e.once}))),this}_getPastValidTopics(e,t){const i=[];if(this._pastEvents[e]&&i.push(this._pastEvents[e]),t)for(const n in this._pastEvents)0===n.indexOf(`${e}/`)&&i.push(this._pastEvents[n]);return i}_getSubscriptionsToTrigger(e){const t=Object.keys(this._topics).filter((function(t){return 0===e.indexOf(`${t}/`)||t===e}));let i,n,s=[];for(let r=0;r<t.length;r++)if(i=t[r],n=this._topics[i],i===e)s=s.concat(n);else for(let e=0;e<n.length;e++)n[e]._listenToChildren&&s.push(n[e]);return s}flush(e){this._pastEvents[e]&&(this._pastEvents[e]=[])}destroy(){delete this._topics,delete this._pastEvents}}t.default=s},77209:(e,t)=>{"use strict";var i;Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.jsFrameEnd="jsFrameEnd",e.POINTS_LOADED="pointsLoaded",e.REQUEST_ERROR="request/error",e.TRADE_CONFIRMED="dealing/trade/confirmed",e.TRADE_REJECTED="dealing/trade/rejected",e.TRADE_INVALID="dealing/trade/invalid",e.TRADE_TIMEOUT="dealing/trade/timeout",e.TRADE_CLOSED_FROM_DIALOG="dealing/trade/closed-from-dialog"}(i||(i={})),t.default=i},289:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=i(43130);class s{static prepareInstance(e){return["on","un","fire","nullOutHandlers","cleanUpNulledHandlers"].forEach((function(t){e[t]=s.prototype[t]})),s._initialiseSubscribable(e),e}static _initialiseSubscribable(e){Object.prototype.hasOwnProperty.call(e,"__handlers")||Object.defineProperty(e,"__handlers",{configurable:!0,enumerable:!1,writable:!1,value:Object.create(null)}),Object.prototype.hasOwnProperty.call(e,"__eventsForCleanup")||Object.defineProperty(e,"__eventsForCleanup",{configurable:!0,enumerable:!1,writable:!1,value:Object.create(null)}),Object.prototype.hasOwnProperty.call(e,"__firingLevel")||Object.defineProperty(e,"__firingLevel",{configurable:!0,enumerable:!1,writable:!0,value:0})}on(e,t,i,n={}){if("string"!=typeof e)throw new Error("Event name must be a string");if("function"!=typeof t)throw new Error("Trying to subscribe without valid callback");if("object"!=typeof i||null===i&&"function"!=typeof t.resetBehavior)throw new Error("Trying to subscribe without valid context");s._initialiseSubscribable(this),(this.__handlers[e]||(this.__handlers[e]=[])).push([t,i,!!n.once])}un(e,t){let i;if(this.__handlers){if(e&&t)this.nullOutHandlers(e,t);else if(e)this.nullOutHandlers(e,null);else for(i in this.__handlers)this.nullOutHandlers(i,t||null);this.__firingLevel||this.cleanUpNulledHandlers()}}nullOutHandlers(e,t){const i=this.__handlers[e];let n;if(i&&i.length)for(n=0;n<i.length;n++)!i[n]||t&&i[n][1]!==t||(i[n]=null,this.__eventsForCleanup[e]=!0)}fire(e,...t){let i,n,s,r;if(this.__handlers&&(n=this.__handlers[e])){this.__firingLevel++;try{for(s=n.length,r=0;r<s;r++)(i=n[r])&&(i[2]&&(n[r]=null,this.__eventsForCleanup[e]=!0),i[0].apply(i[1],t))}catch(o){throw this.__firingLevel=1,o}finally{--this.__firingLevel||this.cleanUpNulledHandlers()}}}cleanUpNulledHandlers(){if(!this.__handlers)return;const e=Object.keys(this.__eventsForCleanup);let t,i;if(e.length)for(i=0;i<e.length;i++)t=(0,n.compact)(this.__handlers[e[i]]),t.length?this.__handlers[e[i]]=t:delete this.__handlers[e[i]],delete this.__eventsForCleanup[e[i]]}destroy(){this.un(null),delete this.__handlers}}s.create=()=>new s,t.default=s},84057:(e,t,i)=>{"use strict";var n=i(15215).Bx;Object.defineProperty(t,"__esModule",{value:!0}),t.DEFAULT_SHORT_LABEL=void 0;const s=i(43130),r=i(54859),o=n(i(289)),a=n(i(81009));t.DEFAULT_SHORT_LABEL="short";class l extends o.default{constructor(e,i,n=!0){super(),this.name=e,this.studyName=i,this.useUnderlyingInstrument=n,this.nameLabelType=null,this.shortLabelType=t.DEFAULT_SHORT_LABEL,this.outputPointTypes=[],this._indicatorAvailabilities=[],this._settingsContentClass=void 0,this._stylesMapping=null,this._visibilitySettings=null}setEpic(e){this._epic=e}get epic(){return this._epic}setResolution(e){e&&this._indicatorAvailabilities.forEach((t=>t.withResolution(e))),this._resolutionChooser&&(this._resolution=this._resolutionChooser.chooseResolution(this._settings,e))}get resolution(){return this._resolution}withIndicatorAvailability(e){return this._indicatorAvailabilities=e,this}withResolutionChooser(e){return this._resolutionChooser=e,this}withSettings(e){return this._settings=e,this}getSettings(){return(0,r.deepCopyLiteral)({},this._settings)}withSettingsConstraints(e){return this._settingsConstraints=e,this}getSettingsConstraints(){return this._settingsConstraints}getSettingsContentClass(){return this._settingsContentClass}setSettingsContentClass(e){return this._settingsContentClass=e,this}withStylesMapping(e){return this._stylesMapping=e,this}getMappedSettings(){return(0,s.map)(this._stylesMapping,"setting")}getStylesMappingForStyle(e){return(0,s.find)(this._stylesMapping,{style:e})}getStylesMappingForSetting(e){return(0,s.find)(this._stylesMapping,{setting:e})}withTooltipSettings(e){return this._tooltipSettings=e,this}getTooltipSettings(){return this._tooltipSettings}withVisibilitySettings(e){return this._visibilitySettings=e,this}getVisibilitySettings(){return this._visibilitySettings}get preferredHeight(){var e;return(null===(e=this._settings)||void 0===e?void 0:e.preferredHeight)||0}set preferredHeight(e){this._settings&&(this._settings.preferredHeight=e)}isAvailable(){return this._indicatorAvailabilities.every((e=>e.isAvailable()))}activateAvailability(){this._indicatorAvailabilities.forEach((e=>{e.initialiseIfNeeded(),e.on(a.default.CHANGED,this.handleAvailabilityChanged,this)}))}deactivateAvailability(){this._indicatorAvailabilities.forEach((e=>e.destroy()))}getUnavailabilityReason(){return this._indicatorAvailabilities.map((e=>e.getUnavailabilityReason())).find(Boolean)||null}}t.default=l},37479:(e,t,i)=>{"use strict";const n=(0,i(15215).Bx)(i(84057)),s=i(9525);class r extends n.default{constructor(e,t,i,n){super(e,t,i),this.indicators=n,this.outputPointTypes=n.map((e=>e.outputPointType))}handleAvailabilityChanged(){this.indicators.forEach((e=>e.handleAvailabilityChanged()))}getCurrentRendererNames(){return this.indicators.flatMap((e=>e.getCurrentRendererNames()))}isOutputShownOnTooltip(e){return this.indicators.some((t=>t.outputPointType===e&&t.isOutputShownOnTooltip()))}setEpic(e){super.setEpic(e),this.indicators.forEach((t=>t.setEpic(e)))}setResolution(e){super.setResolution(e),this.indicators.forEach((e=>e.setResolution(this.resolution)))}startCalculating(e,t,i){this.indicators.forEach((n=>n.startCalculating(e,t,i)))}stopCalculating(){this.indicators.forEach((e=>e.stopCalculating()))}recalculate(){this.indicators.forEach((e=>e.recalculate()))}on(e,t,i){(0,s.invokeCall)(this.indicators,"on",e,t,i)}un(e,t){(0,s.invokeCall)(this.indicators,"un",e,t)}}t.A=r},26242:(e,t,i)=>{"use strict";var n=i(15215).Bx,s=i(15215).ut;Object.defineProperty(t,"__esModule",{value:!0});const r=i(43130),o=n(i(85385)),a=s(i(84057)),l=n(i(54809)),d=n(i(38153)),u=i(54859),c=n(i(36757));class h extends a.default{constructor(e,t,i){super(e,t,i),this._calculatorArguments=[],this._shownOnTooltip=!0,this._initialOutput=!0}static getModifiableSettings(e){const t=(0,u.deepCopyLiteral)({},e);return(0,u.deleteProperties)(t,["preferredHeight"])}handleAvailabilityChanged(){this.fire(h.AVAILABILITY_CHANGED,this),this.isAvailable()&&this.fireRenderersChanged()}get outputPointType(){return this.outputPointTypes[0]}withOutputPointType(e){return this.outputPointTypes=[e],this}withInput(e){return this._input=e,this}withCalculator(e){return this._calculator=e,this}withCalculatorArguments(e){return this._calculatorArguments=e,this}withRendererChooser(e){return this._rendererChooser=e,this}withShownOnTooltip(e){return this._shownOnTooltip=e,this}isOutputShownOnTooltip(){return this._shownOnTooltip}setRendererChoice(e){this._rendererChooser.setChoice(e)}getCurrentRendererNames(){return this._rendererChooser.getCurrentRendererNames()}startCalculating(e,t,i){this._startNotifyingRendererChanges(e),this._startRequestingPoints(t),this._startCalculatingPointsForVisibleBlocks(i)}stopCalculating(){this._stopCalculatingPointsForVisibleBlocks(),this._stopRequestingPoints(),this._stopNotifyingRendererChanges()}withLabelTypes(e){return this._labelTypes=e,this}_startRequestingPoints(e){this.shortLabelType=a.DEFAULT_SHORT_LABEL,this.nameLabelType=null,this._instrumentResolution=e,this._input.startRequestingPointsVia(this._instrumentResolution),this._input.on(l.default.INDICATOR_INPUT,this._handleNewInput,this),this._instrumentResolution.info?this._handleInstrumentInfo(this._instrumentResolution.info):this._instrumentResolution.on(d.default.INFO_LOADED,this._handleInstrumentInfo,this,{once:!0})}_stopRequestingPoints(){this._input.un(null,this),this._instrumentResolution&&(this._input.stopRequestingPointsVia(this._instrumentResolution),this._instrumentResolution.un(null,this),this._instrumentResolution.hasBlocksLoaded()&&this._instrumentResolution.removeIndicatorPoints(this))}_handleInstrumentInfo(e){var t;const i=null===(t=this._instrumentResolution.instrumentModel.info)||void 0===t?void 0:t.instrumentType;this._labelTypes&&i&&this._labelTypes[i]&&(this.shortLabelType=this._labelTypes[i],this.nameLabelType=this._labelTypes[i],this.fire(h.LABEL_CHANGED)),this._calculator.isDisplaced&&(this._calculator.withDisplacementIterator(this._instrumentResolution.resolution.getTimezoneOffsetIterator()),this._calculator.withConsolidationTimezoneOffset(e.getConsolidationTimezoneOffset()))}recalculate(){const e=this._visibleDateRange.instrumentModelCollection.activeInstrumentResolution;this._instrumentResolution===e&&e.blocks&&(this._instrumentResolution.removeIndicatorPoints(this),this._input.recalculateBlocksWithEnoughTrailingPoints(e.blocks))}_startCalculatingPointsForVisibleBlocks(e){this._visibleDateRange=e,this._handleVisibleBlocksChanged(),e.on(c.default.VISIBLE_BLOCKS_CHANGED,this._handleVisibleBlocksChanged,this)}_stopCalculatingPointsForVisibleBlocks(){this._visibleDateRange&&this._visibleDateRange.un(null,this)}_startNotifyingRendererChanges(e){this._chartModel=e,this._rendererChooser.on(o.default.CHOICE_CHANGED,this.fireRenderersChanged,this),this._rendererChooser.startNotifyingRendererChanges(this._chartModel)}_stopNotifyingRendererChanges(){this._rendererChooser.stopNotifyingRendererChanges(this._chartModel),this._rendererChooser.un(null,this)}_handleVisibleBlocksChanged(){const e=this._visibleDateRange.getVisibleBlocks(this.epic,this.resolution);this._input.collatePointsForBlocks(e)}_handleNewInput(e,t,i){const n=this._instrumentResolution.getTimeline().intervals[0];let s=!1;e.length&&(t&&t.length&&t[0].isFirstOfInstrument()||e[0]&&e[0].date&&n.accStart&&e[0].accTime<=n.accEnd)&&(s=!0);const o=(0,r.isFunction)(this._calculatorArguments)?this._calculatorArguments(this):this._calculatorArguments,a=this._calculator.calculatePoints(e,o,t,s,i);this._handleNewOutput(a,t)}_handleNewOutput(e,t){this._instrumentResolution.addIndicatorPoints(this.outputPointType,e,t||null,this._calculator.isDisplaced,this._initialOutput),this._initialOutput=!1}fireRenderersChanged(){this.fire(h.RENDERERS_CHANGED)}}h.AVAILABILITY_CHANGED="availabilityChanged",h.RENDERERS_CHANGED="renderersChanged",h.LABEL_CHANGED="labelChanged",t.default=h},34015:(e,t,i)=>{"use strict";var n=i(15215).Bx;Object.defineProperty(t,"__esModule",{value:!0}),t.resizePriceIndicatorWithRemainingSpace=t.resizeIndicatorsOnIndicatorRemoved=t.resizeIndicatorsOnIndicatorAdded=void 0;const s=n(i(30070)),r=i(44513),o=e=>e.preferredHeight>0,a=e=>e.name!==r.PricesIndicatorName.PRICES;function l(e,t){return e+t.preferredHeight}t.resizeIndicatorsOnIndicatorAdded=function(e,t,i){const n=i.filter(o).filter(a),r=n.length*s.default.DEFAULT_RELATIVE_HEIGHT+1,l=s.default.DEFAULT_RELATIVE_HEIGHT/r;let d=l;return e.preferredHeight&&(n.forEach((e=>{e.preferredHeight=e.preferredHeight*(1-l),d+=e.preferredHeight})),e.preferredHeight=l,t.preferredHeight=1-d,t.preferredHeight<s.default.DEFAULT_PRICES_MIN_HEIGHT&&(t.preferredHeight=s.default.DEFAULT_PRICES_MIN_HEIGHT,e.preferredHeight=l*(1-s.default.DEFAULT_PRICES_MIN_HEIGHT)/d,n.forEach((e=>{e.preferredHeight=e.preferredHeight*(1-s.default.DEFAULT_PRICES_MIN_HEIGHT)/d})))),e},t.resizeIndicatorsOnIndicatorRemoved=function(e,t,i){const n=i.filter((t=>t.name!==e.name)).filter(o),s=n.reduce(l,0);let a=0;e.preferredHeight&&(n.forEach((e=>{e.name!==r.PricesIndicatorName.PRICES&&(e.preferredHeight=e.preferredHeight/s,a+=e.preferredHeight)})),t.preferredHeight=1-a)},t.resizePriceIndicatorWithRemainingSpace=function(e,t){let i=0;t.forEach((e=>{e.name!==r.PricesIndicatorName.PRICES&&e.preferredHeight>0&&(i+=e.preferredHeight)})),e.preferredHeight=1-i,e.preferredHeight<s.default.DEFAULT_PRICES_MIN_HEIGHT&&(e.preferredHeight=s.default.DEFAULT_PRICES_MIN_HEIGHT,t.forEach((e=>{o(e)&&a(e)&&(e.preferredHeight=e.preferredHeight*(1-s.default.DEFAULT_PRICES_MIN_HEIGHT)/i)})))}},31388:(e,t)=>{"use strict";t.u8=void 0;const i={AROON:"AROON",ATR:"AVERAGE_TRUE_RANGE",AWESOME:"AWESOME_OSCILLATOR",BOL:"BOLLINGER_BAND",BBW:"BOLLINGER_BANDWIDTH",BOLPCTB:"BOLLINGER_PERCENT_B",CCI:"CCI",CHAIKIN:"CHAIKIN_VOLATILITY",DERIVATIVE:"DERIVATIVE_PRICE",DPO:"DETRENDED_PRICE_OSCILLATOR",DMI:"DMI",DONCHIAN:"DONCHIAN_CHANNEL",EMA:"EMA",EOM:"EOM",ICHIMOKU:"ICHIMOKU",KDJ:"KDJ",KELTNER:"KELTNER_CHANNEL",VOLUME:"LAST_TRADE_VOLUME",MACD:"MACD",MOMENTUM:"MOMENTUM",MFI:"MONEY_FLOW_INDEX",MVAVG:"MOVING_AVERAGE",SAR:"PARABOLIC_SAR",PIVOT:"PIVOT_POINT",RCI:"RCI",ROC:"RATE_OF_CHANGE",RSI:"RSI",STDEV:"STANDARD_DEVIATION",STOCH:"STOCHASTIC",SUPERTREND:"SUPERTREND",WMA:"WMA",WILLR:"WILLIAMS_PERCENT_R",VWAP:"VOLUME_WEIGHTED_AVERAGE_PRICE",VWMA:"VOLUME_WEIGHTED_MOVING_AVERAGE"};function n(e){return i[e]||null}t.u8=n},54809:(e,t,i)=>{"use strict";var n=i(15215).Bx;Object.defineProperty(t,"__esModule",{value:!0});const s=n(i(289));class r extends s.default{constructor(e,t,i){super(),this._inputPointType=e,this._outputPointType=t,this._numberOfTrailingPoints=i}getInputPointType(){return this._inputPointType}}r.INDICATOR_INPUT="indicatorInput",t.default=r},8611:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.keenlyExpandNumberOfPointsToRequest=t.keenlyExpandBlocksList=void 0;const n=i(41943);t.keenlyExpandBlocksList=function(e){var t,i;if(0===e.length)return[];const s=(0,n.shallowCopy)(e),r=e.length;for(let o=0,a=null===(t=(0,n.firstOf)(s))||void 0===t?void 0:t.previous;o<r&&a;o++,a=a.previous)s.unshift(a);for(let o=0,a=null===(i=(0,n.lastOf)(s))||void 0===i?void 0:i.next;o<r&&a;o++,a=a.next)s.push(a);return s},t.keenlyExpandNumberOfPointsToRequest=function(e){return 2*e}},13836:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=i(43130);t.default=class{constructor(e,t){this.timestamp=e,(0,n.isFinite)(t)&&(this.volume=t)}}},62501:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=class{usePriceCalculator(e){return this.priceCalculator=e,this}}},23806:(e,t,i)=>{"use strict";var n=i(15215).Bx;Object.defineProperty(t,"__esModule",{value:!0});const s=i(41943),r=n(i(96541)),o=n(i(938)),a=i(9525),l=i(10094),d=i(40708),u=n(i(58146));var c;!function(e){e.NOT_STARTED="NOT_STARTED",e.QUEUED="QUEUED",e.LOADING="LOADING",e.UNPROCESSED="UNPROCESSED",e.LOADED="LOADED",e.STREAMING="STREAMING"}(c||(c={}));class h extends u.default{constructor(){super(...arguments),this.loading=h.LOADING_NOT_STARTED,this.points={}}static create(e,t){return new h(e,t)}static comparatorWithDate(e){return o.default.compareToRange(this.dateRange,e)}getHCDPreNeighbours(){return[]}getHCDPostNeighbours(){return[]}getLastPointOfTypeInRange(e,t){const i=this.points[t];if(i){const t=i.points.filter((t=>(0,d.inRange)(e,t.accTime))),n=(0,s.lastOf)(t);if(n)return n}return null}getLastPointsInRange(e){const t=Object.keys(this.points).reduce(((t,i)=>{const n=this.getLastPointOfTypeInRange(e,i);return n&&(t[i]=n),t}),{});return Object.keys(t).length<1?null:t}iterateBackward(e){!1!==e(this)&&this.previous&&this.previous.iterateBackward(e)}iterateForward(e){!1!==e(this)&&this.next&&this.next.iterateForward(e)}containsPoints(e){let t;e=e||Object.keys(this.points);for(let i=0;i<e.length;i++)if(t=this.points[e[i]],t&&t.points.length>0)return!0;return!1}setPoints(e,t){return t.forEach((e=>e.block=this)),this._insertIntoList(e,t)}removePoints(e){e.forEach((e=>{delete this.points[e]}))}findPointForTimestamp(e){if(!this.points.prices||e<this.start.getTime()||e>=this.end.getTime())return null;const t=this.points.prices.points;let i=null;for(let n=0;n<t.length;n++)e>=t[n].timestamp&&(i=t[n]);return i}findPreviousPointForTimestamp(e){if(!this.points.prices||e<this.start.getTime())return null;const t=this.points.prices.points;let i=null;if(e>=this.end.getTime())return t[t.length-1];for(let n=0;n<t.length;n++)e>=t[n].timestamp&&(i=n-1);return null===i||i<0?null:t[i]}_insertIntoList(e,t){const i=this.points[e];return i?i.insertPoints(t):(this.points[e]=new r.default(t),!0)}findPreviousBlocksUntilAccTime(e){if(e>=this.accStart)return[];const t=[];let i=this.previous;for(;i&&(t.unshift(i),!(i.accStart<=e&&e<=i.accEnd));)i=i.previous;return t}hasPointType(e){return this.loading.loaded&&!!this.points[e]}static blocksYDomainForAccRange(e,t=[],i){let n=1/0,s=-1/0;for(let r=0;r<e.length;r++){const o=e[r];for(let e=0;e<t.length;e++){const r=t[e],a=o.points[r];if(!a)continue;const d=a.points;if(d)for(let e=0;e<d.length;e++){const t=d[e];(0,l.between)(t.accTime,i[0],i[1])&&((0,l.isNumber)(t.lowPrice)&&t.lowPrice<n&&(n=t.lowPrice),(0,l.isNumber)(t.highPrice)&&t.highPrice>s&&(s=t.highPrice))}}}return n!==s?[n,s]:[.9*s,1.1*s]}isFirstOfInstrument(){return!this.previous}isLastOfInstrument(){var e,t,i;if(this.next){return!((null===(i=null===(t=null===(e=this.next.points)||void 0===e?void 0:e.prices)||void 0===t?void 0:t.points)||void 0===i?void 0:i.length)>0)&&"LOADED"===this.next.loading.status}return!0}initialiseUsingTimeline(e,t,i){this.previous=e||null,this.next=t||null,this.previous?(this.index=this.previous.index+1,this.preGap=this.start.getTime()-e.end.getTime()):(this.index=0,this.preGap=0),this.accStart=i.asAccTime(this.start)||0,this.accEnd=i.asAccTime(this.end)||0}reset(){delete this.lastFullPrice,delete this.lastPrice,delete this.lastPriceWithVolume}}h.PERIODS_PER_BLOCK=60,h.LOADING_NOT_STARTED=Object.freeze({status:c.NOT_STARTED,queued:!1,started:!1,loaded:!1,calculated:!1,streaming:!1}),h.QUEUED_FOR_LOADING=Object.freeze({status:c.QUEUED,queued:!0,started:!1,loaded:!1,calculated:!1,streaming:!1}),h.LOADING=Object.freeze({status:c.LOADING,queued:!0,started:!0,loaded:!1,calculated:!1,streaming:!1}),h.UNPROCESSED=Object.freeze({status:c.UNPROCESSED,queued:!0,started:!0,loaded:!0,calculated:!1,streaming:!1}),h.LOADED=Object.freeze({status:c.LOADED,queued:!0,started:!0,loaded:!0,calculated:!0,streaming:!1}),h.STREAMING=Object.freeze({status:c.STREAMING,queued:!0,started:!0,loaded:!0,calculated:!0,streaming:!0}),h.indexJoin=(0,a.plucker)("index"),t.default=h},38138:(e,t,i)=>{"use strict";var n=i(15215).Bx,s=i(15215).ut;Object.defineProperty(t,"__esModule",{value:!0});const r=i(43130),o=n(i(7631)),a=n(i(94352)),l=n(i(94776)),d=n(i(40975)),u=i(9525),c=n(i(26242)),h=n(i(63724)),p=i(34015),_=n(i(78725)),g=n(i(30992)),f=i(54859),m=s(i(44513)),v=n(i(74893)),A=s(i(73731)),E=n(i(14243)),T=n(i(289)),I=n(i(49621)),C=s(i(73036)),O=n(i(36757)),M=i(11173);function y(e){return"STREAMING"===e||"POLLING"===e||"CONNECTED"===e.substr(0,9)&&"CONNECTED:STREAM-SENSING"!==e}class b extends T.default{constructor(e,t,i,n,s,r,o=C.RESTRICT_DURATION.SCREEN,a=!1){super(),this._eventBus=e,this._settingsManager=i,this.chartControllerCore=n,this.priceStreamClock=s,this._animationPoller=r,this.restrictDuration=o,this._stickToPresent=a,this._indicatorsMap={},this._secondaryPricesIndicators=Object.create(null),this._currentStreamingStatus=!1,this._previouslyStreaming=!1,this._style=null,this._publishChartLoadedEvents=u.schedule.deferred((()=>{this.fire(d.default.CHART_LOADED,{instrumentResolutionGuid:this._instrumentModels.activeInstrumentResolutionGuid})})),this._instrumentModels=new _.default(this,this._eventBus),this._indicatorFactory=h.default.create(this._eventBus,t),this._settingsManager.on((0,A.getLayoutSettingsEvent)(E.default.CORE),this._handleCoreSettingsChanged,this),this._settingsManager.on((0,A.getLayoutSettingsEvent)(E.default.COLOUR_CUSTOMISATION),this._handleIndicatorsChanged,this),this._settingsManager.on((0,A.getLayoutSettingsEvent)(E.default.INDICATORS),this._handleIndicatorsChanged,this),this._settingsManager.on(A.default.LAYOUT_SETTINGS_IMPORTED,this._handleSettingsImported,this),this._previouslyStreaming=this._currentStreamingStatus=y(l.default.getStatus()),e.subscribe("chart/timeframe/change",this.setTimeFrame,this),e.subscribe("chart/resolution/change",this.setResolution,this),e.subscribe("chart/style/change",this._changeStyle,this),e.subscribe("chart/indicator/add",this.addIndicator,this),e.subscribe("chart/indicator/update",this.updateIndicator,this),e.subscribe("chart/indicator/updateSize",this._updateIndicatorsSize,this),e.subscribe("chart/indicator/remove",this.removeIndicator,this),this._startHandlingLightstreamerEvents(),this.setCandleWidth=u.schedule.debounce(this.setCandleWidth,b.CANDLE_WIDTH_DEBOUNCE_MILLIS)}get indicators(){const e=[];return Object.values(this._indicatorsMap).forEach((t=>{t&&e.push(t)})),e}getStreamingStatus(){return this._currentStreamingStatus}updateStreamingStatus(e){const t=this._currentStreamingStatus,i=y(e);return this._currentStreamingStatus=i,t!==i&&(this.fire(d.default.STREAMING_STATUS_CHANGED,i),this._previouslyStreaming&&i&&this._eventBus.publish(d.default.STREAMING_STATUS_RECONNECTED)),i&&(this._previouslyStreaming=!0),this}setResolution(e,t){this._settingsManager.putResolutionSettings(e,t)}setTimeFrame(e){if(!this.visibleDateRange)return;const t=a.default.create(this._instrumentModels,this.visibleDateRange,e.duration);e.resolution===v.default.valueOf(this._settingsManager.getResolutionSettings())?(this.visibleDateRange.setInitialDuration(t),this.visibleDateRange.setToLastPoint(),this._eventBus.publish("chart/yfitting/reset")):(this.setResolution(v.default.keyFor(e.resolution),!0),this.visibleDateRange.setInitialDuration(t))}setInstrument(e,t){var i;return delete this._underlyingInstrumentModelToLoad,this._clearAdditionalInstruments(),e.epic!==(null===(i=this._instrumentModels.underlyingInstrumentModel)||void 0===i?void 0:i.epic)&&this._eventBus.publish("chart/epic/changed",[t]),this._style=null,this._instrumentModels.underlyingInstrumentModel&&(this._deactivateInstrumentResolution(),this._instrumentModels.destroy(),this._instrumentModels=new _.default(this,this._eventBus)),this._instrumentModels.explicitAccountId=null==t?void 0:t.explicitAccountId,this._addIndicator(m.PricesIndicatorName.PRICES_RAW),this._addIndicator(m.PricesIndicatorName.PRICES,(0,r.merge)({preferredHeight:1},(0,r.mapValues)(m.default.PRICES.settings,(e=>e.defaultValue)))),e.epic?this._settingsManager.hasSettings()?this._loadInstrumentModels(v.default.valueOf(this._settingsManager.getResolutionSettings()),e):this._resolution?this._loadInstrumentModels(this._resolution,e):this._underlyingInstrumentModelToLoad=e:(this.fire(d.default.CHART_CLEARED),this._eventBus.publish("chart/cleared")),this.fire(d.default.INSTRUMENT_CHANGED,e.epic),this._settingsManager.hasSettings()&&(this._handleCoreSettingsChanged(),this._handleIndicatorsChanged()),this}setAdditionalInstruments(e){var t,i;return this._eventBus.publish("chart/instrument/additional/changed"),this._clearAdditionalInstruments(),e.length&&(null===(t=this._instrumentModels.underlyingInstrumentModel)||void 0===t?void 0:t.info)?(null===(i=this._instrumentModels.loadAdditionalMarkets(this._resolution,e))||void 0===i||i.then((()=>this._handleAdditionalMarketsLoaded())),this._addIndicator(m.PricesIndicatorName.PRICES_DERIVATIVE),this._addIndicator(m.PricesIndicatorName.PRICES_RAW_DERIVATIVE)):this._additionalInstrumentModelsToLoad=e,this}_handleAdditionalMarketsLoaded(){var e;(null===(e=this._settingsManager.getGlobalSettings(E.default.INDICATORS_GLOBAL))||void 0===e?void 0:e.hasDerivativeIndicatorBeenAdded)?this._handleIndicatorsChanged():(this.addIndicator(M.IndicatorName.DERIVATIVE,{},!0),this._settingsManager.changeAccountSettings(E.default.INDICATORS_GLOBAL,(e=>(e.hasDerivativeIndicatorBeenAdded=!0,!0)),!0))}_clearAdditionalInstruments(){return this._removeIndicator(m.PricesIndicatorName.PRICES_DERIVATIVE),this._removeIndicator(m.PricesIndicatorName.PRICES_RAW_DERIVATIVE),this._instrumentModels.derivativeEpic&&this._instrumentModels.removeInstrumentResolution(this._instrumentModels.derivativeEpic,this._resolution),this._instrumentModels.clearAdditionalMarkets(),this._settingsManager.hasSettings()&&this._handleIndicatorsChanged(),this}updateIndicator(e,t,i){return this._settingsManager.updateIndicatorsSettings([{id:e,settings:t}],i),this}addIndicator(e,t,i){this._pricesIndicator&&(0,p.resizeIndicatorsOnIndicatorAdded)(t,this._pricesIndicator,this.indicators),this._settingsManager.updateIndicatorsSettings([{id:e,settings:t}],i)}removeIndicator(e,t){const i=this._indicatorsMap[e];i&&(this._pricesIndicator&&(0,p.resizeIndicatorsOnIndicatorRemoved)(i,this._pricesIndicator,this.indicators),this._settingsManager.deleteIndicatorSettings(e,t))}getIndicatorWithName(e){return this._indicatorsMap[e]}get indicatorsInOrder(){return this._indicatorFactory.getNames().reduce(((e,t)=>{const i=this.getIndicatorWithName(t);return i&&e.push(i),e}),[])}hasInstrumentResolution(){return this._instrumentModels.hasActiveInstrumentResolutions}get currentInstrumentResolution(){return this._instrumentModels.activeInstrumentResolution}get underlyingInstrumentScalingFactor(){var e,t;return(null===(t=null===(e=this._instrumentModels.underlyingInstrumentModel)||void 0===e?void 0:e.info)||void 0===t?void 0:t.scalingFactor)||null}destroy(){super.destroy(),this._stopHandlingLightstreamerEvents(),this._deactivateInstrumentResolution(),this._instrumentModels.destroy(),this._settingsManager.un(null,this),this._eventBus.unsubscribeAll(this),this.setCandleWidth.cancel(),delete this._indicators,delete this._secondaryPricesIndicators,delete this.priceStreamClock}_startClock(){var e;this.priceStreamClock.withStreamingPointClient(null===(e=this._instrumentModels.activeInstrumentResolution)||void 0===e?void 0:e.streamingClient),this.priceStreamClock.startTicking()}_deactivateInstrumentResolution(){this.hasInstrumentResolution()&&(this._stopClock(),this._unwireIndicators(),this._instrumentModels.allInstrumentModels.forEach((({epic:e})=>{e&&this._instrumentModels.removeInstrumentResolution(e,this._resolution)})),this._instrumentModels.un(null,this),this._destroyVisibleDateRange(),this._eventBus.flush("chart/resolution/changed"))}_stopClock(){this.priceStreamClock.stopTicking(),this.priceStreamClock.withStreamingPointClient(null)}_setPriceType(e){var t;return this.priceType===e||(this.priceType=e,(null===(t=this.currentInstrumentResolution)||void 0===t?void 0:t.hasBlocksLoaded())&&this._instrumentModels.updatePriceType()),this}setCandleWidth(e){e=Math.round(e),this._settingsManager.changeTemplateSettings("coreModule",(t=>e!==t.candleWidth&&(t.candleWidth=e,!0)),!0)}get _pricesIndicator(){return this.getIndicatorWithName(m.PricesIndicatorName.PRICES)}get _activeInstrumentResolutionGuid(){return this._instrumentModels.underlyingInstrumentModel?this._instrumentModels.activeInstrumentResolutionGuid:null}_setResolution(e){var t,i;return this._resolution===e||((null===(t=this._instrumentModels.underlyingInstrumentModel)||void 0===t?void 0:t.epic)?(this._deactivateInstrumentResolution(),this._loadInstrumentModels(e)):(null===(i=this._underlyingInstrumentModelToLoad)||void 0===i?void 0:i.epic)?(this._loadInstrumentModels(e,this._underlyingInstrumentModelToLoad),delete this._underlyingInstrumentModelToLoad):this._resolution=e),this}_loadInstrumentModels(e,t){var i;this._resolution=e,t?null===(i=this._instrumentModels.loadUnderlyingMarket(e,t))||void 0===i||i.then((()=>{this._additionalInstrumentModelsToLoad&&(this.setAdditionalInstruments(this._additionalInstrumentModelsToLoad),delete this._additionalInstrumentModelsToLoad)})):this._instrumentModels.reloadMarkets(e),this._createVisibleDateRange(),this._startPerformanceTracking(),this._wireIndicators(),this._startClock(),this._eventBus.publish("chart/resolution/changed",[this._instrumentModels.activeInstrumentResolution],{retrospective:!0}),this.fire(d.default.INSTRUMENT_RESOLUTION_CHANGE)}_changeStyle(e){this._style=e}_createVisibleDateRange(){const e=this._resolution===v.default.values.TICK?I.default:C.default;this.visibleDateRange=new e(this._eventBus,this._instrumentModels,this.restrictDuration,this._stickToPresent,this._animationPoller),this._setInitialVisibleDateRange(),this.visibleDateRange.on(O.default.X_AXIS_READY,this._handleXAxisReady,this,{once:!0}),this.visibleDateRange.on(O.default.WIDTH_CHANGED,this.setCandleWidth,this)}_handleXAxisReady(){var e;null===(e=this.visibleDateRange)||void 0===e||e.setToLastPoint(),this.fire(d.default.INSTRUMENT_RESOLUTION_LOADED)}_destroyVisibleDateRange(){var e;return null===(e=this.visibleDateRange)||void 0===e||e.destroy(),delete this.visibleDateRange,this}_unwireIndicators(){this.indicators.forEach((e=>this._unwireIndicatorFromModel(e)))}_startPerformanceTracking(){this._instrumentModels.on(g.default.ACTIVE_RESOLUTION_LOADED,this._publishChartLoadedEvents,this)}_wireIndicators(){this.indicators.forEach((e=>this._wireIndicatorToModel(e)))}_wireIndicatorToModel(e){var t,i;e.setEpic(e.useUnderlyingInstrument?null===(t=this._instrumentModels.activeInstrumentResolution)||void 0===t?void 0:t.getEpic():this._instrumentModels.derivativeEpic),e.setResolution(null===(i=this._instrumentModels.activeInstrumentResolution)||void 0===i?void 0:i.resolution),e.activateAvailability(),e.on(c.default.AVAILABILITY_CHANGED,this._startCalculatingIndicator,this),this._startCalculatingIndicator(e)}_startCalculatingIndicator(e){if(!e.isAvailable())return;let t=this._instrumentModels.getInstrumentResolution(e.epic,e.resolution);t||(t=this._instrumentModels.addSecondaryInstrumentResolution(e.epic,e.resolution),t&&this._addSecondaryPricesIndicator(t)),t&&this.visibleDateRange&&e.startCalculating(this,t,this.visibleDateRange)}_addSecondaryPricesIndicator(e){if(!this._pricesIndicator||!this.visibleDateRange)return;const t=this._indicatorFactory.createIndicator(`${m.PricesIndicatorName.PRICES_RAW}-${e.getEpic()}-${e.resolution.id}`),i=this._indicatorFactory.createIndicator(`${m.PricesIndicatorName.PRICES}-${e.getEpic()}-${e.resolution.id}`,this._pricesIndicator.getSettings());i&&t&&(t.setEpic(e.getEpic()),t.setResolution(e.resolution),t.startCalculating(this,e,this.visibleDateRange),this._secondaryPricesIndicators[t.name]=t,i.setEpic(e.getEpic()),i.setResolution(e.resolution),i.startCalculating(this,e,this.visibleDateRange),this._secondaryPricesIndicators[i.name]=i,this.fire(d.default.INDICATOR_ADDED,i))}_unwireIndicatorFromModel(e){e.isAvailable()&&(e.stopCalculating(),this._removeSecondaryResolutionIfRedundant(e)),e.un(null,this),e.deactivateAvailability()}_removeSecondaryResolutionIfRedundant(e){const t=1===this.indicators.filter((t=>t.resolution===e.resolution)).length;e.resolution!==this._resolution&&t&&(this._removeSecondaryPricesIndicator(e.epic,e.resolution),this._instrumentModels.removeInstrumentResolution(e.epic,e.resolution))}_removeSecondaryPricesIndicator(e,t){const i=this._secondaryPricesIndicators[`${m.PricesIndicatorName.PRICES_RAW}-${e}-${null==t?void 0:t.id}`],n=this._secondaryPricesIndicators[`${m.PricesIndicatorName.PRICES}-${e}-${null==t?void 0:t.id}`];i&&(i.stopCalculating(),delete this._secondaryPricesIndicators[i.name],this.fire(d.default.INDICATOR_REMOVED,i)),n&&(n.stopCalculating(),delete this._secondaryPricesIndicators[n.name],this.fire(d.default.INDICATOR_REMOVED,n))}_updateIndicatorsSize(e){this._settingsManager.updateIndicatorsSettings(e,!0)}_handleIndicatorAdded(e,t,i){const n=this._addIndicator(e,t,i);n&&(this._eventBus.flush(`chart/indicator/removed/${e}`),this._eventBus.publish(`chart/indicator/added/${e}`,[n],{retrospective:!0}))}get _hasAdditionalInstruments(){return this._instrumentModels.allInstrumentModels.length>1}_addIndicator(e,t,i){const n=this._indicatorFactory.createIndicator(e,t,i,this._hasAdditionalInstruments);return n?(this._indicatorsMap[e]=n,this.hasInstrumentResolution()&&this._wireIndicatorToModel(n),this._pricesIndicator&&(0,p.resizePriceIndicatorWithRemainingSpace)(this._pricesIndicator,this.indicators),this.fire(d.default.INDICATOR_ADDED,n),n):null}_handleIndicatorRemoved(e){const t=this._removeIndicator(e);t&&(this._eventBus.flush(`chart/indicator/added/${e}`),this._eventBus.publish(`chart/indicator/removed/${e}`,[t],{retrospective:!0}))}_removeIndicator(e){const t=this.getIndicatorWithName(e);return t?(this.hasInstrumentResolution()&&this._unwireIndicatorFromModel(t),delete this._indicatorsMap[e],this.fire(d.default.INDICATOR_REMOVED,t),t):null}_handleIndicatorUpdated(e,t,i){const n=this._updateIndicator(e,t,i);n&&this._eventBus.publish(`chart/indicator/updated/${n.name}`,[n])}_updateIndicator(e,t,i){if(!(0,r.isEqual)(e.getSettings(),t)){this.hasInstrumentResolution()&&this._unwireIndicatorFromModel(e);const n=this._indicatorFactory.updateIndicator(e,t,i);n&&(e=n,this._indicatorsMap[e.name]=e,this.hasInstrumentResolution()&&this._wireIndicatorToModel(e),this.hasInstrumentResolution()&&(e.recalculate(),e===this._pricesIndicator&&(this._pricesIndicator.setRendererChoice(this._settingsManager.getStyleSettings()),this._updateSecondaryIndicators())))}return this.fire(d.default.INDICATOR_UPDATED,e),e}_updateSecondaryIndicators(){Object.values(this._secondaryPricesIndicators).forEach((e=>{if(e&&e.name.startsWith(m.PricesIndicatorName.PRICES)&&!e.name.startsWith(m.PricesIndicatorName.PRICES_RAW)){this._removeSecondaryPricesIndicator(e.epic,e.resolution);const t=this._instrumentModels.getInstrumentResolution(e.epic,e.resolution);t&&this._addSecondaryPricesIndicator(t),e.resolution&&this.indicators.forEach((t=>{t.resolution===e.resolution&&this._updateIndicator(t,t.getSettings(),t.getVisibilitySettings())}))}}))}_startHandlingLightstreamerEvents(){l.default.on(l.default.STATUS_CHANGE_EVENT,this.updateStreamingStatus,this)}_stopHandlingLightstreamerEvents(){l.default.un(null,this)}_handleCoreSettingsChanged(){var e;let t=null;const i=this._settingsManager.getResolutionSettings();i&&(t=v.default.valueOf(i));const n=v.default.valueOf("FIVE_MINUTES");(null===(e=this._instrumentModels.underlyingInstrumentModel)||void 0===e?void 0:e.delayTime)&&t&&t.period<n.period&&(t=n);const s=this._settingsManager.getPriceTypeSettings();s&&this._setPriceType(s),t&&this._setResolution(t);const r=this._settingsManager.getStyleSettings();r!==this._style&&this._eventBus.publish("chart/style/change",[r]),this._setInitialVisibleDateRange()}_handleSettingsImported(){this.visibleDateRange&&this.visibleDateRange.xAxisReady&&this.visibleDateRange.setToLastPoint()}_setInitialVisibleDateRange(){this.visibleDateRange&&this._settingsManager.hasSettings()&&this.visibleDateRange.setInitialDuration(o.default.create(this._instrumentModels,this.visibleDateRange,this._settingsManager))}_handleIndicatorsChanged(){const e=Object.keys(this._indicatorsMap),t=this._settingsManager.getColourCustomisationSettings();this._settingsManager.getIndicatorsSettings().forEach((({id:i,settings:n})=>{const s=this._indicatorsMap[i];s?(this._hasAdditionalInstruments||s.useUnderlyingInstrument)&&(e.splice(e.indexOf(i),1),((0,f.diff)(s.getSettings(),n)||(0,f.diff)(s.getVisibilitySettings(),t.indicators[i]))&&this._handleIndicatorUpdated(s,n,t.indicators[i])):this._handleIndicatorAdded(i,n,t.indicators[i])})),e.forEach((e=>{e.startsWith(m.PricesIndicatorName.PRICES)||this._handleIndicatorRemoved(e)}))}}b.CANDLE_WIDTH_DEBOUNCE_MILLIS=1e3,t.default=b},40975:(e,t)=>{"use strict";var i;Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.INSTRUMENT_RESOLUTION_CHANGE="instrumentResolutionChange",e.INSTRUMENT_RESOLUTION_LOADED="instrumentResolutionLoaded",e.INSTRUMENT_CHANGED="instrumentChanged",e.INDICATOR_ADDED="indicatorAdded",e.INDICATOR_REMOVED="indicatorRemoved",e.INDICATOR_UPDATED="indicatorUpdated",e.CHART_LOADED="CHART_LOADED",e.CHART_CLEARED="CHART_CLEARED",e.STREAMING_STATUS_CHANGED="streamingStatusChanged",e.STREAMING_STATUS_RECONNECTED="streamingStatusReconnected"}(i||(i={})),t.default=i},90309:(e,t,i)=>{"use strict";const n=(0,i(15215).Bx)(i(84228)),s=i(10094);class r extends n.default{constructor(e,t,i){super(e,(0,s.isNumber)(t)?t:i,0),this.valueA=t,this.valueB=i}static createVirtualIntersection(e,t){const i=new r(Date.now(),t,t);return i.accTime=e,i}isIntersection(){return this.valueA===this.valueB}toString(){return`CLOUD|${this.date.getTime()}|${this.valueA}|${this.valueB}`}valueEquals(e){return this.valueA===e.valueA&&this.valueB===e.valueB}}t.A=r},84228:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=i(9525);class s{constructor(e,t,i){if(this.volume=null,!e)throw new Error("invalid date");this.date=new Date(e),this.value=t,"number"==typeof i&&(this.volume=i)}static accTimeJoin(e){return e.accTime}static fromOtherPoint(e){return new s(e.timestamp,e.value,e.volume)}get highPrice(){return this.value}get lowPrice(){return this.value}get timestamp(){return this.date.getTime()}toString(){return`BASE|${this.date.getTime()}|${this.value}`}valueEquals(e){return this.value===e.value}}s.comparatorOnDateOldestToNewest=(0,n.ascendingFieldComparator)("date"),t.default=s},26363:(e,t)=>{"use strict";var i;Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.UP="up",e.DOWN="down",e.NO_MOVEMENT="noMovement"}(i||(i={})),t.default=i},17070:(e,t,i)=>{"use strict";var n=i(15215).Bx;Object.defineProperty(t,"__esModule",{value:!0}),t.retimePoint=void 0;const s=n(i(84228)),r=n(i(26363)),o=i(10094),a=i(46444);t.retimePoint=function(e,t){return new l(t,e.value,e.volume,e.highPrice,e.lowPrice,e.openPrice,e.closePrice,e.lastRawPrice?(0,a.retimePrice)(e.lastRawPrice,t):null,e.artificial)};class l extends s.default{constructor(e,t,i,n,s,r,o,a,l){super(e,t,i),this.artificial=!1,this.isZeroMovement=!1,this.rangeGoesOutsideOpenClose=!1,this.openPrice=r,this.closePrice=o,this.highPrice=n,this.lowPrice=s,this.lastRawPrice=a||null,this.artificial=l||!1,this._analyseHloc()}static fromOtherPoint(e){const t=(0,o.isNumber)(e.closePrice)?e.closePrice:e.value,i=(0,o.isNumber)(e.openPrice)?e.openPrice:t,n=(0,o.isNumber)(e.highPrice)?e.highPrice:Math.max(i,t),s=(0,o.isNumber)(e.lowPrice)?e.lowPrice:Math.min(i,t);return new l(e.timestamp,e.value,e.volume||0,n,s,i,t,e.lastRawPrice,e.artificial)}static verySmallMovement(e){return Math.abs(e)<1e-6}get highPrice(){return this._highPrice}set highPrice(e){this._highPrice=e}get lowPrice(){return this._lowPrice}set lowPrice(e){this._lowPrice=e}toString(){let e="HLOC";return e+="|",e+=this.date.getTime(),e+="|",e+=this.highPrice,e+="|",e+=this.lowPrice,e+="|",e+=this.openPrice,e+="|",e+=this.closePrice,e}valueEquals(e){const t=!(!this.lastRawPrice||!e.lastRawPrice),i=!this.lastRawPrice&&!e.lastRawPrice;return this.openPrice===e.openPrice&&this.closePrice===e.closePrice&&this.highPrice===e.highPrice&&this.lowPrice===e.lowPrice&&this.volume===e.volume&&(i||!!(t&&this.lastRawPrice.open.valueEquals(e.lastRawPrice.open)&&this.lastRawPrice.close.valueEquals(e.lastRawPrice.close)&&this.lastRawPrice.high.valueEquals(e.lastRawPrice.high)&&this.lastRawPrice.low.valueEquals(e.lastRawPrice.low)))}_analyseHloc(){const e=this.closePrice-this.openPrice;this.isZeroMovement=l.verySmallMovement(e),this.isZeroMovement?(this.direction=r.default.NO_MOVEMENT,this.highOpenClose=this.closePrice,this.lowOpenClose=this.openPrice):e>0?(this.direction=r.default.UP,this.highOpenClose=this.closePrice,this.lowOpenClose=this.openPrice):(this.direction=r.default.DOWN,this.highOpenClose=this.openPrice,this.lowOpenClose=this.closePrice),null===this.highPrice&&(this.highPrice=this.highOpenClose),null===this.lowPrice&&(this.lowPrice=this.lowOpenClose),this.rangeGoesOutsideOpenClose=this.highOpenClose!==this.highPrice||this.lowOpenClose!==this.lowPrice}}t.default=l},14399:(e,t,i)=>{"use strict";var n=i(15215).Bx;Object.defineProperty(t,"__esModule",{value:!0});const s=n(i(84228));class r extends s.default{constructor(e,t,i,n){super(e,t,i),this.lastRawPrice=n}}t.default=r},14443:(e,t,i)=>{"use strict";var n=i(15215).Bx;Object.defineProperty(t,"__esModule",{value:!0});const s=n(i(84228));class r extends s.default{constructor(e,t,i,n=null){super(e,t,i),this.upTrend=n}static createFromDataPoint(e){return new r(e.timestamp,e.value,e.volume,e.value>0)}static createFromDataPointUsingPreviousValue(e,t,i){let n,s;return 0===t?n=e.value>0:(s=i[--t].value,n=e.value>s),new r(e.timestamp,e.value,e.volume,n)}static createFromTickPointModel(e){return new r(e.timestamp,e.value,e.volume,void 0===e.upTrend||e.upTrend)}toString(){let e="TREND";return e+="|",e+=this.date.getTime(),e+="|",e+=this.value,e+="|",e+=this.upTrend?"up":"down",e}}r.createFromTimeSeriesConsolidatedPointModel=r.createFromTickPointModel,t.default=r},96541:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=class{constructor(e){this.high=-1/0,this.low=1/0,this.points=e,this._updateDomain()}_updateDomain(){let e=1/0,t=-1/0;for(let i=0;i<this.points.length;i++)e=Math.min(e,this.points[i].lowPrice),t=Math.max(t,this.points[i].highPrice);this.low=e,this.high=t}_insertPointAt(e,t,i){if(t){const t=this.points[e];if(i.valueEquals(t))return!1;this.points[e]=i}else this.points.splice(e,0,i);return this._updateDomain(),!0}insertPoints(e){const t=this.points;let i,n=!1,s=0;for(let r=0,o=e.length;r<o;r++){const o=e[r];for(;s<t.length&&(i=t[s].accTime)<o.accTime;)s++;n=this._insertPointAt(s,i===o.accTime,o)||n}return n}}},85673:(e,t,i)=>{"use strict";var n=i(15215).Bx;Object.defineProperty(t,"__esModule",{value:!0});const s=n(i(8330));class r{static getInstance(){return this._instance||(this._instance=new r),this._instance}static japanFxTicketsEnabled(){const e=r.getInstance().asJSON();return e&&void 0!==e.japanFxTickets?!!e.japanFxTickets:void 0}static japanTicketsEnabled(){const e=r.getInstance().asJSON();return e&&void 0!==e.japanTickets?!!e.japanTickets:void 0}static isMobile(){return!!r.getInstance().getMobileDeviceFamily()}static isTouch(){const e=r.getInstance().asJSON();return e&&void 0!==e.touch?e.touch:r.isMobile()}static isAndroid(){return"Android"===r.getInstance().getMobileDeviceFamily()}static isIOS(){const e=r.getInstance().getMobileDeviceFamily();return"iPhone"===e||"iPad"===e}static isPWA(){return"PWA_IG"===r.getInstance().asJSON().clientPlatform}static isWTP(){return"WTP"===r.getInstance().asJSON().clientPlatform}static get trackingPlatform(){return r.isPWA()?"pwa":r.isIOS()?"ios":r.isAndroid()?"android":r.isWTP()?"wtp":"other"}setDeviceInfo(e){return this._json=e,this}asJSON(){return this._json}getApplicationType(){return this._json&&this._json.applicationType?this._json.applicationType:"ig"}getClientPlatform(){return this._json&&this._json.clientPlatform&&this._json.clientVersion?this._json.clientPlatform:"HTML5_CHARTS"}getClientVersion(){return this._json&&this._json.clientPlatform&&this._json.clientVersion?this._json.clientVersion:s.default.version}getDeviceType(){return this._json&&this._json.deviceType?this._json.deviceType:null}getView(){return"chart"}static isMobileNativeWebViewHost(){return window.location.pathname.indexOf("htmlcharts")>-1}getMobileDeviceFamily(){const e=window.navigator.userAgent.toLowerCase(),t=this.asJSON();return e.match("iphone")?"iPhone":e.match("ipad")?"iPad":e.match("android")?"Android":e.match("windows phone")?"Windows Phone":e.match("windows nt")&&e.match("touch")&&t&&"Win8"===t.clientType?"Windows RT":null}}t.default=r},39842:(e,t,i)=>{"use strict";var n=i(15215).Bx;Object.defineProperty(t,"__esModule",{value:!0});const s=n(i(85994));class r{constructor(){this._origin="",this._dataAdaptor="CHARTS",this._path="deal"}static getInstance(){return this._instance||(this._instance=new r),this._instance}getOrigin(){return this._origin}setOrigin(e){return this._origin=e,this}getMiddlewareOrigin(){var e;if(null===(e=this._middleware)||void 0===e?void 0:e.length)return this._middleware;const t=this.getEnvironment();return s.default.ig[t||"dev"].chartsMiddleware}setMiddlewareOrigin(e){return this._middleware=e,this}getDataAdaptor(){return this._dataAdaptor}setDataAdaptor(e){return this._dataAdaptor=e,this}getPath(){return this._path}setPath(e){return this._path=e,this}getEnvironment(){var e;if(!(null===(e=this._origin)||void 0===e?void 0:e.length))return null;for(const t of Object.values(s.default))for(const[e,{rest:i}]of Object.entries(t))if("dev"!==e&&this._origin===i)return e;return null}}t.default=r},65854:(e,t,i)=>{"use strict";var n=i(15215).Bx;Object.defineProperty(t,"__esModule",{value:!0});const s=n(i(85673));class r{static getInstance(){return this._instance||(this._instance=new r,this._instance.setFeatureFlags({})),this._instance}setFeatureFlags(e){this._json=e}getFlags(){return Object.assign({japanTickets:s.default.japanTicketsEnabled(),japanFxTickets:s.default.japanFxTicketsEnabled(),showIndicativeCosts:!1,showIndicativeCosts2:!1,showIndicativeCostsSG:!1,priceBelowEnabled:!1,priceInSizeEnabled:!1,ignorePiSLadderAvailability:!1,usePriceSubscription:!1,limitsOnOptions:!1,newMobileMenu:!1},this._json)}}t.default=r},6927:(e,t,i)=>{"use strict";var n=i(15215).Bx;Object.defineProperty(t,"__esModule",{value:!0});const s=n(i(62501)),r=n(i(46444)),o=n(i(88045)),a=n(i(54786));class l extends s.default{static create(){return new l}static createFromHcdPoint(e){return new r.default(l.parseHcdMarketPrice(e.highPrice),l.parseHcdMarketPrice(e.lowPrice),l.parseHcdMarketPrice(e.openPrice),l.parseHcdMarketPrice(e.closePrice),e.timestamp,e.lastTradedVolume)}static parseHcdMarketPrice(e){return e?new a.default(e.bid,e.ask,e.lastTraded):new a.default}convertToDataPoints(e){const t=e.rawPriceData,i=[];let n,s;for(let a=0;a<t.length;a++){n=t[a];try{s=this.hcdJsonToDataPoint(n,e),!1!==s&&i.push(s)}catch(r){o.default.debug("Incomplete or unsupported data point",n,r.message)}}return delete e.lastPrice,i}hcdJsonToDataPoint(e,t){return this.priceCalculator.calculateDataPoint(l.createFromHcdPoint(e),t)}}t.default=l},15426:(e,t,i)=>{"use strict";var n=i(15215).Bx;const s=n(i(62501)),r=n(i(44769)),o=n(i(88045)),a=n(i(54786));class l extends s.default{static create(){return new l}static createFromTickPoint(e){return new r.default(l.parseHcdMarketPrice(e.tickPrice),e.timestamp,e.lastTradedVolume)}static parseHcdMarketPrice(e){return e?new a.default(e.bid,e.ask,e.lastTraded):new a.default}convertToDataPoints(e){const t=e.rawPriceData,i=[];let n,s;for(let a=0;a<t.length;a++){n=t[a];try{s=this.hcdJsonToDataPoint(n,e),!1!==s&&i.push(s)}catch(r){o.default.debug("Incomplete or unsupported data point",n,r.message)}}return delete e.lastPrice,i}hcdJsonToDataPoint(e,t){return this.priceCalculator.calculateDataPoint(l.createFromTickPoint(e),t)}}t.A=l},46444:(e,t,i)=>{"use strict";var n=i(15215).Bx;Object.defineProperty(t,"__esModule",{value:!0}),t.retimePrice=void 0;const s=i(43130),r=n(i(13836));t.retimePrice=function(e,t){return new o(e.high,e.low,e.open,e.close,t,e.volume)};class o extends r.default{constructor(e,t,i,n,s,r){super(s,r),this.high=e,this.low=t,this.open=i,this.close=n}hasPriceType(e){return(0,s.isFinite)(this.high[e])&&(0,s.isFinite)(this.low[e])&&(0,s.isFinite)(this.open[e])&&(0,s.isFinite)(this.close[e])}}t.default=o},49014:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=i(10094);t.default=class{constructor(e){this.isDelayed=!1,this.scaled=!1,this.volumePresent=!1,this.epic=e.epic,this.status=e.status,this.delay=parseInt(e.delay,10),this.isDelayed=this.delay>0,this.remappedEpic=e.remappedEpic,this.decimalPlaces=parseInt(e.decimalPlaces,10),this.scaled=e.scaled,this.scalingFactor=parseFloat(e.scalingFactor),this.name=e.name,this.prompt=e.prompt,this.volumePresent=e.volumePresent,this.version=(0,n.toInteger)(e.version),this.instrumentType=e.instrumentType}}},73625:(e,t,i)=>{"use strict";var n=i(15215).Bx;Object.defineProperty(t,"__esModule",{value:!0});const s=n(i(58827)),r=i(9525),o=n(i(49014)),a=n(i(30992)),l=n(i(35301)),d=n(i(38153)),u=n(i(34032)),c=i(10094),h=n(i(56398)),p=n(i(4395)),_=i(38523),g=n(i(74893)),f=n(i(289)),m=n(i(30860)),v=n(i(65056)),A=n(i(17660)),E=i(33236);function T(e){return e?E.PointType.PRICES_RAW:E.PointType.PRICES_RAW_DERIVATIVE}class I extends f.default{constructor(e,t,i,n,r){super(),this._eventBus=e,this.epic=t,this.delayTime=i,this.chartModel=r,this.isLtpAvailable=!1,this._instrumentResolutions={},this._blockFormatter=s.default.create(),this._instrumentVersion=n}get priceType(){return!this.chartModel.priceType||this.chartModel.priceType===p.default.LTP&&!this.isLtpAvailable||A.default.getInstance().isMTF()?p.default.MID:this.chartModel.priceType}get activeInstrumentResolution(){return this._activeResolutionId?this._instrumentResolutions[this._activeResolutionId]:null}get activeResolution(){var e;return(null===(e=this.activeInstrumentResolution)||void 0===e?void 0:e.resolution)||null}get activeInstrumentResolutionGuid(){var e;return(null===(e=this.activeInstrumentResolution)||void 0===e?void 0:e.instrumentResolutionGuid)||null}get nonActiveInstrumentResolutions(){return Object.entries(this._instrumentResolutions).reduce(((e,[t,i])=>(t!==this._activeResolutionId&&e.push(i),e)),[])}destroy(){super.destroy(),delete this.info,this._eventBus.publish("chart/instrument/destroy"),this._eventBus.flush("chart/instrument/info"),Object.keys(this._instrumentResolutions).forEach((e=>{this._instrumentResolutions[e].destroy(),delete this._instrumentResolutions[e]}))}getInstrumentResolution({id:e}){return this._instrumentResolutions[e]}getDataPointsAtAccTime(e){var t;const i=null===(t=this.activeInstrumentResolution)||void 0===t?void 0:t.getTimeline();return i?Object.values(this._instrumentResolutions).reduce(((t,n)=>{const s=n.getTimeline(),r=i.asDate(e);if(s&&r){const e=s.asAccTime(r);if(s.isAccTimeValid(e)){let i;i=this.activeInstrumentResolution===n?s.getAccRangeForAccTime(e,n.resolution.period):[s.asAccTime(n.resolution.getPeriodIterator().previous(r)),e];const o=n.getLastPointsInAccRange(i);o&&(n!==this.activeInstrumentResolution&&delete o.prices,Object.assign(t,o))}}return t}),{}):{}}addInstrumentResolution(e,t){return this._instrumentResolutions[e.id]||(this._instrumentResolutions[e.id]=(e===g.default.values.TICK?m.default:l.default).create(this,e,this._eventBus),this._instrumentResolutions[e.id].on(d.default.BLOCKS_POINTS_ADDED,(0,r.bubbler)(a.default.BLOCKS_POINTS_ADDED),this)),t&&(this._activeResolution=e),this._instrumentResolutions[e.id]}removeInstrumentResolution(e){this._instrumentResolutions[e.id]&&(this._instrumentResolutions[e.id].destroy(),delete this._instrumentResolutions[e.id],this.fire(a.default.RESOLUTION_REMOVED,this.epic,e)),this._activeResolutionId===e.id&&delete this._activeResolutionId}handleInstrumentData(e,t,i,n=!0){return this.info||(this.info=new o.default(t.instrumentInfoDto),!(0,c.isNumber)(this.instrumentVersion)&&(0,c.isNumber)(this.info.version)&&(this._instrumentVersion=this.info.version),!(0,c.isNumber)(this.delayTime)&&(0,c.isNumber)(this.info.delay)&&(this.delayTime=this.info.delay),this.fire(a.default.INFO_LOADED,this.info)),this._instrumentResolutions[e.id]&&this._handleIntervalData(e,t.intervalsDto,t.intervalsDataPointsDto,i,n),this.info}updatePriceType(e){const t=this.priceCalculator=this._createPriceCalculator();Object.values(this._instrumentResolutions).forEach((i=>i.withPriceCalculator(t,T(e))))}set _instrumentVersion(e){this.instrumentVersion=e,Object.values(this._instrumentResolutions).forEach((e=>e.withInstrumentVersion(this.instrumentVersion)))}set _activeResolution({id:e}){const t=this._instrumentResolutions[e];t.on(d.default.END_DATE_CHANGED,(0,r.bubbler)(a.default.END_DATE_CHANGED),this),t.on(d.default.NEW_CURRENT_DATA_POINT,(0,r.bubbler)(a.default.NEW_CURRENT_DATA_POINT),this),this._activeResolutionId=e}_handleIntervalData(e,t,i,n,s){var r;const o=u.default.createFromResolutionInfo(t);e.userTimeZone=o.getUserTimeZone(),null===(r=this.chartModel)||void 0===r||r.priceStreamClock.promptTimestamp(t.currentCandleTimestamp,e.period),e.id===this._activeResolutionId?this._initActiveInstrumentResolution(n,e,o,i,s):this._initOtherInstrumentResolution(n,e,o,i,s)}_initOtherInstrumentResolution(e,t,i,n,s){var r;const o=v.default.create();o.setIntervals(e),this._eventBus.publish("chart/instrument/info/intervals");const l=()=>this._initInstrumentResolution(o,e,t,i,n,s);(null===(r=this.timeline)||void 0===r?void 0:r.hasIntervals())?l():this.on(a.default.ACTIVE_RESOLUTION_LOADED,l,this,{once:!0})}_initActiveInstrumentResolution(e,t,i,n,s){this.priceCalculator=this._createPriceCalculator(n),this.timeline&&this._initInstrumentResolution(this.timeline,e,t,i,n,s),this.fire(a.default.ACTIVE_RESOLUTION_LOADED)}_initInstrumentResolution(e,t,i,n,s,r){const o=this._instrumentResolutions[i.id];this.priceCalculator&&o.withPriceCalculator(this.priceCalculator,T(r)),o.setTimeline(e,t,this._blockFormatter.formatToBlocks(e,t,i),n),this.fire(a.default.INTERVALS_LOADED,t),o.handleInitialDataPointsLoaded(s),this.info&&this._instrumentResolutions[i.id].startStreaming(this.info,r)}_createPriceCalculator(e){var t,i;if(e){const n=(0,_.percentageLtpAvailable)(e,this._activeResolutionId===g.default.values.TICK.id?"tickPrice":"closePrice")>.95,s=null===(t=this.info)||void 0===t?void 0:t.instrumentType.toLowerCase(),r=!(null===(i=this.info)||void 0===i?void 0:i.volumePresent)||"commodities"!==s&&"currencies"!==s;this.isLtpAvailable=n&&r}const n=this.priceType;return this._eventBus.publish("chart/pricetype/changed",[n,this.isLtpAvailable]),h.default.get(n)}}t.default=I},78725:(e,t,i)=>{"use strict";var n=i(15215).Bx;Object.defineProperty(t,"__esModule",{value:!0});const s=i(9525),r=n(i(30992)),o=n(i(47272)),a=n(i(39185)),l=n(i(74893)),d=n(i(289)),u=n(i(73197)),c=n(i(65056));class h extends d.default{constructor(e,t){super(),this.chartModel=e,this._eventBus=t,this._additionalInstrumentModels={},this._linearFormatter=o.default.create(),this._marketLoader=new a.default(t)}get activeResolution(){var e;return(null===(e=this.underlyingInstrumentModel)||void 0===e?void 0:e.activeResolution)||null}get activeInstrumentResolution(){var e;return(null===(e=this.underlyingInstrumentModel)||void 0===e?void 0:e.activeInstrumentResolution)||null}get allActiveInstrumentResolutions(){return this.allInstrumentModels.reduce(((e,{activeInstrumentResolution:t})=>(t&&e.push(t),e)),[])}get nonActiveInstrumentResolutions(){return this.allInstrumentModels.reduce(((e,{nonActiveInstrumentResolutions:t})=>(e.push(...t),e)),[])}get activeInstrumentResolutionGuid(){var e;return(null===(e=this.underlyingInstrumentModel)||void 0===e?void 0:e.activeInstrumentResolutionGuid)||null}get priceCalculator(){var e;return null===(e=this.underlyingInstrumentModel)||void 0===e?void 0:e.priceCalculator}get initialDuration(){const e=this.allActiveInstrumentResolutions.map((e=>e.initialDuration()));return Math.max(...e)}loadUnderlyingMarket(e,t){if(this._clearMarkets(),this.timeline=e===l.default.values.TICK?u.default.create():c.default.create(),t){this.underlyingInstrumentModel=t;const i=this._setupInstrumentModel(t,e);return new Promise((e=>this._marketLoader.load([i],(t=>{this._handleMarketsLoaded(t),e()}),this.explicitAccountId)))}}loadAdditionalMarkets(e,t){if(this.clearAdditionalMarkets(),t.length){const i=t.reduce(((t,i)=>{if(i.epic){this._additionalInstrumentModels[i.epic]=i;const n=this._setupInstrumentModel(i,e);t.push(n)}return t}),[]);return new Promise((e=>this._marketLoader.load(i,(t=>{this._handleMarketsLoaded(t),e()}),this.explicitAccountId)))}}clearAdditionalMarkets(){Object.entries(this._additionalInstrumentModels).forEach((([e,t])=>{t.destroy(),delete this._additionalInstrumentModels[e]}))}reloadMarkets(e){if(this._resetMarkets(),this.timeline=e===l.default.values.TICK?u.default.create():c.default.create(),this.allInstrumentModels.length){const t=this.allInstrumentModels.reduce(((t,i)=>{if(i.epic){const n=this._setupInstrumentModel(i,e);t.push(n)}return t}),[]);this._marketLoader.load(t,(e=>this._handleMarketsLoaded(e)),this.explicitAccountId)}}getInstrumentModelForEpic(e){var t;return(null===(t=this.underlyingInstrumentModel)||void 0===t?void 0:t.epic)===e?this.underlyingInstrumentModel:this._additionalInstrumentModels[e]}addSecondaryInstrumentResolution(e,t){var i;if(!e||!t)return null;const n=null===(i=this.getInstrumentModelForEpic(e))||void 0===i?void 0:i.addInstrumentResolution(t,!1);return n?(this._marketLoader.load([n],(e=>this._handleAllRequestedResolutionsAreLoaded(e)),this.explicitAccountId),n):null}removeInstrumentResolution(e,t){var i;if(!e||!t)return;const n=this.getInstrumentModelForEpic(e);n&&(this._marketLoader.abort([n.getInstrumentResolution(t)]),n.removeInstrumentResolution(t),this.allActiveInstrumentResolutions.length<1&&(null===(i=this.timeline)||void 0===i||i.destroy(),delete this.timeline))}get derivativeEpic(){var e;return(null===(e=Object.values(this._additionalInstrumentModels)[0])||void 0===e?void 0:e.epic)||void 0}get hasActiveInstrumentResolutions(){return this.allActiveInstrumentResolutions.length>0}getInstrumentResolution(e,t){var i;return e&&t&&(null===(i=this.getInstrumentModelForEpic(e))||void 0===i?void 0:i.getInstrumentResolution(t))||null}getDataPointsAtAccTime(e){return this.allInstrumentModels.reduce(((t,i)=>Object.assign(t,i.getDataPointsAtAccTime(e))),{})}updatePriceType(){this.allInstrumentModels.forEach((e=>e.updatePriceType(e===this.underlyingInstrumentModel)))}destroy(){super.destroy(),this._clearMarkets(),this.allInstrumentModels.forEach((e=>e.destroy())),this._marketLoader.destroy(),delete this._marketLoader,delete this._linearFormatter}get allInstrumentModels(){return this.underlyingInstrumentModel?[this.underlyingInstrumentModel,...Object.values(this._additionalInstrumentModels)]:[]}_resetMarkets(){this._marketLoader.abortAll(),this.timeline&&(this.timeline.destroy(),delete this.timeline),this.allInstrumentModels.forEach((e=>e.destroy()))}_clearMarkets(){this._resetMarkets(),delete this.underlyingInstrumentModel,this._additionalInstrumentModels={}}get _hasBlocksLoaded(){return this.allActiveInstrumentResolutions.reduce(((e,t)=>!!e&&t.hasBlocksLoaded()),!0)}_setupInstrumentModel(e,t){return e.timeline=this.timeline,this._subscribeToEvents(e),e.delayTime&&t.period<l.default.values.FIVE_MINUTES.period&&(t=l.default.values.FIVE_MINUTES),e.addInstrumentResolution(t,!0)}_handleMarketsLoaded(e){const t=e.find((e=>e.instrumentResolution.instrumentModel===this.underlyingInstrumentModel));t&&this.timeline&&!this.timeline.intervals&&this.timeline.setIntervals(t.intervals);const{underlyingInstrumentInfo:i,additionalInstrumentInfo:n}=this._handleAllRequestedResolutionsAreLoaded(e);i&&(this._eventBus.publish("chart/instrument/info",[i],{retrospective:!0}),this.fire(r.default.INFO_LOADED,i)),n.length&&this._eventBus.publish("chart/instrument/additional/info"),this._eventBus.publish("chart/instrument/info/intervals")}_handleAllRequestedResolutionsAreLoaded(e){return e.reduce(((e,t)=>{const i=t.instrumentResolution.instrumentModel===this.underlyingInstrumentModel,n=t.instrumentResolution.instrumentModel.handleInstrumentData(t.instrumentResolution.resolution,t.jsonInstrumentData,t.intervals,i);return i?e.underlyingInstrumentInfo=n:e.additionalInstrumentInfo.push(n),e}),{underlyingInstrumentInfo:null,additionalInstrumentInfo:[]})}_subscribeToEvents(e){e.un(null,this),e.on(r.default.ACTIVE_RESOLUTION_LOADED,(0,s.bubbler)(r.default.ACTIVE_RESOLUTION_LOADED),this),e.on(r.default.INTERVALS_LOADED,this._handleIntervalsLoaded,this),e.on(r.default.BLOCKS_POINTS_ADDED,this._fireBlocksPointsAdded,this),e.on(r.default.RESOLUTION_REMOVED,(0,s.bubbler)(r.default.RESOLUTION_REMOVED),this),e.on(r.default.END_DATE_CHANGED,(0,s.bubbler)(r.default.END_DATE_CHANGED),this),e.on(r.default.NEW_CURRENT_DATA_POINT,(0,s.bubbler)(r.default.NEW_CURRENT_DATA_POINT),this)}_handleIntervalsLoaded(){this._hasBlocksLoaded&&this.fire(h.ALL_INTERVALS_LOADED)}_fireBlocksPointsAdded(e,t,i,n){this.fire(`${r.default.BLOCKS_POINTS_ADDED}-${t}`,e,t,i,n),this.fire(r.default.BLOCKS_POINTS_ADDED,e,t,i,n)}}h.ALL_INTERVALS_LOADED="ALL_INTERVALS_LOADED",t.default=h},30992:(e,t)=>{"use strict";var i;Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.INFO_LOADED="instrumentInfoLoaded",e.ACTIVE_RESOLUTION_LOADED="ACTIVE_RESOLUTION_LOADED",e.BLOCKS_POINTS_ADDED="BLOCKS_POINTS_ADDED",e.INTERVALS_LOADED="INTERVALS_LOADED",e.RESOLUTION_REMOVED="RESOLUTION_REMOVED",e.END_DATE_CHANGED="END_DATE_CHANGED",e.NEW_CURRENT_DATA_POINT="NEW_CURRENT_DATA_POINT",e.STATUS_OK="OK",e.STATUS_DELAYED="DELAYED",e.STATUS_REMAPPED="REMAPPED"}(i||(i={})),t.default=i},38153:(e,t)=>{"use strict";var i;Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.HCD_DATA_POINTS_LOADED="hcdDataPointsLoaded",e.BLOCKS_POINTS_ADDED="blocksPointsAdded",e.END_DATE_CHANGED="endDateChanged",e.NEW_CURRENT_DATA_POINT="newCurrentDataPoint",e.CURRENT_DATA_POINT_CHANGED="currentDataPointChanged",e.INFO_LOADED="instrumentResolutionInfoLoaded"}(i||(i={})),t.default=i},34032:(e,t,i)=>{"use strict";var n=i(15215).Bx;Object.defineProperty(t,"__esModule",{value:!0});const s=n(i(88045)),r=n(i(76040));class o{static createFromResolutionInfo(e){return(new o).withChartServiceTimezone(e.chartServiceTimezone).withUserTimeZone(e.requestedTimeZone).withConsolidationTimezoneOffset(e.consolidationTimezoneOffset*r.default.Periods.HOUR)}getUserTimeZone(){return this._userTimeZone}getConsolidationTimezoneOffset(){return this._consolidationTimezoneOffset}getChartServiceTimezone(){return this._chartServiceTimezone}withUserTimeZone(e){try{Intl.DateTimeFormat(void 0,{timeZone:e}),this._userTimeZone=e}catch(t){this._userTimeZone="Etc/UTC",s.default.error(`Chart does not have the timezone information for identifier "${e}", using UTC instead`)}return this}withChartServiceTimezone(e){return this._chartServiceTimezone=e,this}withConsolidationTimezoneOffset(e){return this._consolidationTimezoneOffset=e,this}}t.default=o},57948:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.initialiseRelativeToNeighbours=t.normaliseEndTimestamp=void 0,t.normaliseEndTimestamp=function(e){return e+(e%1e3==999?1:0)},t.initialiseRelativeToNeighbours=function(e){for(let t=0;t<e.length;t++)e[t].initialiseRelativeToNeighbours(e[t-1],e[t+1]);return e};t.default=class{}},47272:(e,t,i)=>{"use strict";var n=i(15215).ut,s=i(15215).Bx;Object.defineProperty(t,"__esModule",{value:!0});const r=i(41943),o=n(i(57948)),a=i(9525),l=s(i(15579)),d=s(i(76040));class u extends o.default{static create(){return new u}formatToIntervals(e,t){return(0,o.initialiseRelativeToNeighbours)(this.invertIntervals(e.intervalsDto,t))}invertIntervals(e,t){const i=e.intervals,n=[];let s;if(i.length){s=this.getIntervalBeforeFirstNegative(e),s&&n.push(s);for(let e=0;e<i.length-1;e++)n.push(this.getIntervalBetweenNegatives(i[e],i[e+1]));n.push(this.getIntervalAfterLastNegative(e,t))}else n.push(this.getIntervalForWholeInstrument(e,t));return n}getIntervalBeforeFirstNegative(e){const t=e.startTimestamp,i=(0,r.firstOf)(e.intervals).startTimestamp;return t!==i?new l.default(new Date(t),new Date(i)):null}getIntervalBetweenNegatives(e,t){const i=(0,o.normaliseEndTimestamp)(e.endTimestamp),n=t.startTimestamp;return new l.default(new Date(i),new Date(n))}getIntervalAfterLastNegative(e,t){const i=new Date((0,o.normaliseEndTimestamp)((0,r.lastOf)(e.intervals).endTimestamp)),n=this._endOfAllData(e,t),s=Math.max(n.valueOf(),i.valueOf()+1);return new l.default(i,new Date(s))}getIntervalForWholeInstrument(e,t){const i=this._endOfAllData(e,t);let n;return n=e.startTimestamp?new Date(e.startTimestamp):new Date(i.getTime()-1),new l.default(n,i)}unifyOpenIntervals(e){const t=(0,r.flatten)(e).sort((0,a.ascendingFieldComparator)("start")),i=this.mergeSortedOpenIntervals(t).map((function(e){return new l.default(new Date(e.start),new Date(e.end))}));return(0,o.initialiseRelativeToNeighbours)(i)}mergeSortedOpenIntervals(e){const t=[];let i,n,s;if(e.length<=1)return e;s=e[0];for(let r=1;r<e.length;r++)i=e[r],s.end>=i.start?(n={start:s.start,end:Math.max(s.end,i.end)},s=n):(t.push(s),s=i);return t.push(s),t}_endOfAllData(e,t){const i=t.getTimezoneOffsetIterator(),n=new Date((0,o.normaliseEndTimestamp)(e.currentCandleTimestamp)),s=e.consolidationTimezoneOffset*d.default.Periods.HOUR;return i.next(n,s)}}t.default=u},31764:(e,t,i)=>{"use strict";var n=i(15215).ut,s=i(15215).Bx;Object.defineProperty(t,"__esModule",{value:!0});const r=i(41943),o=n(i(57948)),a=i(10094),l=s(i(98966));class d extends o.default{static create(){return new d}formatToIntervals(e,t){return this.removeIrrelevantIntervals(e),this.matchInitialPointsToIntervals(e),(0,o.initialiseRelativeToNeighbours)(e.intervalsDto.intervals.map(this.createIntervalModel,this))}createIntervalModel(e){const t=new l.default(new Date(e.startTimestamp),new Date((0,o.normaliseEndTimestamp)(e.endTimestamp)),e.numberTicks);return e.tickDates&&e.numberTicks&&t.withTickDates(e.tickDates,e.numberTicks-e.tickDates.length,e.tickDates.length),t}matchInitialPointsToIntervals(e){const t=e.intervalsDto.intervals,i=e.intervalsDataPointsDto.intervalsDataPoints,n=[];let s;if(!t.length||!i.length)return;const o=t[t.length-1].endTimestamp;for(let r=i.length-1;r>=0;r--)if(i[r].startTimestamp>o)i[r].dataPoints.length&&n.push(i[r].dataPoints);else for(let e=t.length-1;e>=0;e--)if(t[e].startTimestamp===i[r].startTimestamp&&t[e].endTimestamp===i[r].endTimestamp&&t[e].numberTicks===i[r].dataPoints.length){t[e].tickDates=i[r].dataPoints;break}if(n.length){const e=(0,r.flatten)(n);s=i[i.length-1].tickCount,(0,a.isNumber)(s)||(s=e.length),t.push({active:!0,startTimestamp:o+1,endTimestamp:e[e.length-1].timestamp+1,tickDates:e,numberTicks:s})}}removeIrrelevantIntervals(e){const t=e.intervalsDto.intervals;e.intervalsDto.intervals=t.filter((function(e){return!!e.numberTicks&&(e.active&&e.numberTicks>0)}))}}t.default=d},10695:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=class{constructor(e,t,i){t&&(this._eventBus=t),this._options=i||{},null!=e&&this.fromJSON(e)}isModified(){return!0}clone(){return new this.constructor(JSON.parse(JSON.stringify(this)),this._eventBus,this._options)}}},86598:(e,t,i)=>{"use strict";var n=i(15215).Bx;Object.defineProperty(t,"__esModule",{value:!0});const s=i(43130),r=n(i(10695)),o=n(i(4395)),a=n(i(74893)),l=n(i(97535)),d=n(i(48137)),u={dailyPriceIsVisible:!0,gridLineType:"BOTH",priceDataToolTip:!0,reticleType:"CIRCLE",showCurrentPrice:!0};class c extends r.default{constructor(e){super(e),this.resolution=this.resolution||a.default.valueOf(a.default.DEFAULT_RESOLUTION_NAME),this.style=this.style||d.default.get().rendererChooser.choices.initial[0],this.priceType=this.priceType||o.default.MID,this.scaleDisplayType=this.scaleDisplayType||l.default.ABSOLUTE,this.desktopTooltipEnabled=void 0===this.desktopTooltipEnabled||this.desktopTooltipEnabled}fromJSON(e){const t=d.default.get().renderers;if(e.resolution&&(this.resolution=a.default.getResolutionForScale(e.resolution.scale,parseInt(e.resolution.multiplier,10))),e.candleWidth&&(this.candleWidth=e.candleWidth),e.seriesType)for(const i in t)t[i].serverId===e.seriesType&&(this.style=i);e.priceType&&(this.priceType=e.priceType),e.scaleDisplayType&&(this.scaleDisplayType=e.scaleDisplayType),Object.prototype.hasOwnProperty.call(e,"desktopTooltipEnabled")&&(this.desktopTooltipEnabled=e.desktopTooltipEnabled)}toJSON(){return(0,s.merge)({resolution:{scale:this.resolution.periodUnit,multiplier:this.resolution.multiple},candleWidth:this.candleWidth,seriesType:d.default.get().renderers[this.style].serverId,priceType:this.priceType,scaleDisplayType:this.scaleDisplayType,desktopTooltipEnabled:this.desktopTooltipEnabled},u)}}t.default=c},52893:(e,t,i)=>{"use strict";var n=i(15215).Bx;Object.defineProperty(t,"__esModule",{value:!0});const s=i(43130),r=n(i(10695));class o extends r.default{constructor(e,t,i){super(e||{},null,Object.assign({isVisibleByDefault:!0},i))}fromJSON({isVisible:e}){"boolean"==typeof e?(this.isVisible=e,this.explicitlySet=!0):(this.explicitlySet=!1,Object.defineProperty(this,"isVisible",{configurable:!0,enumerable:!0,get:(0,s.constant)(this._options.isVisibleByDefault),set:e=>{this.explicitlySet=!0,Object.defineProperty(this,"isVisible",{configurable:!0,enumerable:!0,writable:!0,value:e})}}))}toJSON(){return(0,s.pick)(this,"isVisible")}isModified(){return this.explicitlySet}}t.default=o},91768:(e,t,i)=>{"use strict";var n=i(15215).Bx;Object.defineProperty(t,"__esModule",{value:!0});const s=i(43130),r=n(i(10695)),o=n(i(23585)),a=n(i(11173)),l=i(40708),d=n(i(15095)),u=n(i(44513)),c=Object.freeze({type:"PRICES",location:"STUDY",heikinashi:!1});class h extends r.default{constructor(e,t){super(e||{indicators:[]},t),this.indicators=this.indicators||[]}fromJSON(e){if(this.indicators||(this.indicators=[]),e.indicators){const t=e.indicators.map(this._makeIndicator,this).filter((e=>!!e));t.length&&this.indicators.push(...t),0===this.indicators.filter(this._isPricesIndicator).length&&this.indicators.push(this._makeIndicator(c))}}toJSON(){const e=(0,s.merge)({},a.default,u.default);return this.isModified()?{indicators:this.indicators.map((function(t){return e[t.id].serverSettings(t.settings)}))}:{indicators:[c]}}isModified(){return(1!==(0,s.get)(this,"indicators.length")||!this._isDefaultPricesIndicator(this.indicators[0]))&&!!(0,s.get)(this,"indicators.length")}addIndicators(e){e.forEach(this._addIndicator,this)}removeIndicator(e){(0,s.remove)(this.indicators,["id",e])}_addIndicator(e){"PRICES"===e.id&&delete e.settings.preferredHeight;const t=(0,s.find)(this.indicators,["id",e.id]);t?t.settings=e.settings:this.indicators.push((0,s.pick)(e,["id","settings"]))}_makeIndicator(e){return o.default.captureError((function(){let t=!0;const i=(0,s.merge)({},a.default,{PRICES:u.default.PRICES}),n=(0,s.find)(Object.keys(i),(t=>i[t].serverSettings({}).type===e.type)),r=(0,s.mapValues)(i[n].settings,(i=>{let n=i.serverValue(e);return void 0===n&&(n=i.defaultValue),i.type===d.default.NUMBER&&i.range&&(0,s.isNumber)(n)&&(0,s.isNumber)(i.range.min)&&(0,s.isNumber)(i.range.max)&&t&&(t=(0,l.inRange)([i.range.min,i.range.max],n)),n}));return t?{id:n,settings:r}:null}),(e=>(console.error(e),null)))}_isDefaultPricesIndicator(e){return this._isPricesIndicator(e)&&e.settings.heikinashi===c.heikinashi}_isPricesIndicator(e){return e.id===c.type}}t.default=h},60631:(e,t,i)=>{"use strict";var n=i(15215).Bx;Object.defineProperty(t,"__esModule",{value:!0});const s=n(i(10695));class r extends s.default{constructor(e){super(e),null===e&&(this._jsonPayload=null)}fromJSON(e){this._jsonPayload=e}toJSON(){return this._jsonPayload}}t.default=r},87587:(e,t,i)=>{"use strict";var n=i(15215).Bx;Object.defineProperty(t,"__esModule",{value:!0}),t.PRICES_UPDATED=t.STATUS_CHANGED=void 0;const s=i(43130),r=i(41943),o=i(61346),a=n(i(289)),l=n(i(65854));function d(e,t){e=(0,s.isNil)(e)?NaN:e;return((0,s.isString)(e)?parseFloat(e):e)*t}t.STATUS_CHANGED="marketStatusChanged",t.PRICES_UPDATED="marketPricesUpdated";class u extends a.default{constructor(e){super(),this._canCreateOpenPosition=!1,this._canCreateWorkingOrder=!1,this._editable=!1,this._instrument=null,this._isDelayed=!1,this._instrument=e,this._decimalPlaces=e.decimalPlacesFactor,this._epic=e.epic,this._isDelayed=e.isDelayed,this._marketStatus=e.marketStatus,this._scalingFactor=e.scalingFactor||1,l.default.getInstance().getFlags().limitsOnOptions?(this.isStopAllowed=e.stopAllowed,this.isLimitAllowed=e.limitAllowed):this.isStopAllowed=this.isLimitAllowed=e.stopAllowed&&e.limitAllowed,this._buyPrice=d(e.isKnockout?e.displayUnderlyingOffer:e.offer,e.scalingFactor),this._sellPrice=d(e.isKnockout?e.displayUnderlyingBid:e.bid,e.scalingFactor),this._buyMarketPrice=d(e.offer,e.scalingFactor),this._sellMarketPrice=d(e.bid,e.scalingFactor),this._processMarketStatus(this._marketStatus),this._buyPriceField=this.isKnockout()?"displayUnderlyingOffer":"offer",this._sellPriceField=this.isKnockout()?"displayUnderlyingBid":"bid",this._buyMarketPriceField="offer",this._sellMarketPriceField="bid",this._instrument.on("change",this._handleInstrumentChanges,this)}static create(e){return new u(e)}getDecimalPlaces(){return this._decimalPlaces}getEpic(){return this._epic}getInstrument(){return this._instrument}getBuyPrice(){return this._buyPrice}getSellPrice(){return this._sellPrice}getBuyMarketPrice(){return this._buyMarketPrice}getSellMarketPrice(){return this._sellMarketPrice}getScalingFactor(){return this._scalingFactor}getStatus(){return this._marketStatus}isDelayed(){return this._isDelayed}isKnockout(){return this._instrument.isKnockout}isOption(){return this._instrument.isOption}canCreateOtcTicket(){return this._instrument.canTradeOTC()}isEditable(){return this._editable}canCreateOpenPosition(){return this._canCreateOpenPosition}canCreateWorkingOrder(){return this._canCreateWorkingOrder}isAbleToTrade(){return this.canCreateOpenPosition()}setStatus(e){this._marketStatus!==e&&(this._processMarketStatus(e),this._marketStatus=e,this.fire(t.STATUS_CHANGED,this))}_processMarketStatus(e){this.isDelayed()||!this.canCreateOtcTicket()?this._canCreateOpenPosition=this._canCreateWorkingOrder=this._editable=!1:(this._canCreateOpenPosition=e===o.MarketStatus.TRADEABLE,this._canCreateWorkingOrder=e===o.MarketStatus.TRADEABLE||e===o.MarketStatus.AUCTION||e===o.MarketStatus.EDIT,this._editable=e===o.MarketStatus.TRADEABLE||e===o.MarketStatus.AUCTION||e===o.MarketStatus.EDIT)}_handleInstrumentChanges(e){((0,r.contains)(e,this._buyPriceField)||(0,r.contains)(e,this._sellPriceField)||(0,r.contains)(e,this._buyMarketPriceField)||(0,r.contains)(e,this._sellMarketPriceField))&&(this._buyPrice=(0,r.contains)(e,this._buyPriceField)?d(this._instrument[this._buyPriceField],this._scalingFactor):this._buyPrice,this._sellPrice=(0,r.contains)(e,this._sellPriceField)?d(this._instrument[this._sellPriceField],this._scalingFactor):this._sellPrice,this._buyMarketPrice=(0,r.contains)(e,this._buyMarketPriceField)?d(this._instrument[this._buyMarketPriceField],this._scalingFactor):this._buyMarketPrice,this._sellMarketPrice=(0,r.contains)(e,this._sellMarketPriceField)?d(this._instrument[this._sellMarketPriceField],this._scalingFactor):this._sellMarketPrice,this.fire(t.PRICES_UPDATED,this)),(0,r.contains)(e,"marketStatus")&&this.setStatus(this._instrument.marketStatus)}destroy(){var e;null===(e=this._instrument)||void 0===e||e.destroy(),delete this._instrument,super.destroy()}}t.default=u},54786:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=i(43130);t.default=class{constructor(e,t,i){(0,n.isFinite)(e)&&(this.bid=e),(0,n.isFinite)(t)&&(this.ask=t),(0,n.isFinite)(i)&&(this.ltp=i)}fillMissingPricesFrom(e){!(0,n.isFinite)(this.bid)&&(0,n.isFinite)(e.bid)&&(this.bid=e.bid),!(0,n.isFinite)(this.ask)&&(0,n.isFinite)(e.ask)&&(this.ask=e.ask),!(0,n.isFinite)(this.ltp)&&(0,n.isFinite)(e.ltp)&&(this.ltp=e.ltp)}valueEquals(e){return(0,n.isEqual)(this.bid,e.bid)&&(0,n.isEqual)(this.ask,e.ask)&&(0,n.isEqual)(this.ltp,e.ltp)}}},57568:(e,t)=>{"use strict";var i;Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.POINTS="A",e.CONTRACTS="C",e.SHARES="S"}(i||(i={})),t.default=i},58146:(e,t,i)=>{"use strict";var n=i(15215).Bx;Object.defineProperty(t,"__esModule",{value:!0}),t.comparatorWithDateIncludingPregap=t.comparatorWithAccTime=void 0;const s=n(i(938)),r=i(9525);t.comparatorWithAccTime=function(e){return s.default.compareToRange([this.accStart,this.accEnd],e)},t.comparatorWithDateIncludingPregap=function(e){const t=this.start.getTime()-(this.preGap||0);return s.default.compareToRange([t,this.end],e.getTime())};class o{constructor(e,t){this.accStart=0,this.accEnd=0,this.next=null,this.previous=null,e&&t&&(this.start=e,this.end=t,this.dateRange=[e,t],this.duration=t.getTime()-e.getTime())}get accDuration(){return this.accEnd-this.accStart}containsDate(e){return s.default.inRange([this.start,this.end],e)}expandToEndAt(e){const t=e.getTime()-this.end.getTime();return t>0&&(this.end=e,this.accEnd=this.accEnd+t,this.dateRange=[this.start,e]),this}contractToEndAt(e){const t=this.end.getTime()-e.getTime();return t>0&&(this.end=e,this.accEnd=this.accEnd-t,this.dateRange=[this.start,e]),this}}o.naturalOrder=(0,r.ascendingFieldComparator)("index"),t.default=o},6612:(e,t)=>{"use strict";var i;Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.TARGET="TARGET",e.SOURCE="SOURCE"}(i||(i={})),t.default=i},30911:(e,t)=>{"use strict";var i;Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.OTO="OTO",e.OCO="OCO"}(i||(i={})),t.default=i},18722:(e,t,i)=>{"use strict";var n=i(15215).Bx;Object.defineProperty(t,"__esModule",{value:!0});const s=n(i(17070)),r=n(i(46444)),o=n(i(54786)),a=i(10094),l=n(i(14399)),d=n(i(44769));function u(e,t,i){return(0,a.isNumber)(i)?(0,a.isNumber)(t)?e(i,t):i:t}function c(e,...t){const i=new o.default;for(let n=0;n<t.length;n++)i.bid=u(e,i.bid,t[n].bid),i.ask=u(e,i.ask,t[n].ask),i.ltp=u(e,i.ltp,t[n].ltp);return i}t.default=class{constructor(){this.allowPartialDataPoints=!1}_getLatestPriceData(e){if(e.lastPrice)return e.lastPrice;for(;e&&e.loading.loaded;){if(e.lastFullPrice)return e.lastFullPrice;e=e.previous}return null}getVolume(e){const t=parseInt(e,10);return isNaN(t)?null:t}calculateDataPoint(e,t){if(e instanceof r.default)return this._calculateHlocDataPoint(e,t);if(e instanceof d.default)return this._calculateTickDataPoint(e,t);throw new Error("Unexpected price type")}_fillOpenFromPreviousData(e,t,i){const n=i.findPointForTimestamp(e.timestamp),s=i.findPreviousPointForTimestamp(e.timestamp);n&&n.lastRawPrice&&n.lastRawPrice.open&&e.open.fillMissingPricesFrom(n.lastRawPrice.open),e.open.fillMissingPricesFrom(e.close),t&&e.open.fillMissingPricesFrom(t.close),s&&s.lastRawPrice&&e.open.fillMissingPricesFrom(s.lastRawPrice.close)}_fillCloseFromCurrentPoint(e,t){const i=t.findPointForTimestamp(e.timestamp);i&&i.lastRawPrice&&i.lastRawPrice.close&&e.close.fillMissingPricesFrom(i.lastRawPrice.close),e.close.fillMissingPricesFrom(e.open)}_fillHighFromCurrentPoint(e,t){const i=t.findPointForTimestamp(e.timestamp);let n=c(Math.max,e.high,e.low,e.open,e.close);i&&i.lastRawPrice&&(n=c(Math.max,n,i.lastRawPrice.high,i.lastRawPrice.low,i.lastRawPrice.open,i.lastRawPrice.close)),e.high.fillMissingPricesFrom(n)}_fillLowFromCurrentPoint(e,t){const i=t.findPointForTimestamp(e.timestamp);let n=c(Math.min,e.high,e.low,e.open,e.close);i&&i.lastRawPrice&&(n=c(Math.min,n,i.lastRawPrice.high,i.lastRawPrice.low,i.lastRawPrice.open,i.lastRawPrice.close)),e.low.fillMissingPricesFrom(n)}_fillVolumeFromPreviousData(e,t){const i=t.lastPriceWithVolume;!(0,a.isNumber)(e.volume)&&i&&i.timestamp===e.timestamp&&(e.volume=i.volume)}_fillFromLatestPrice(e,t,i){const n=i.findPointForTimestamp(e.timestamp),s=i.findPreviousPointForTimestamp(e.timestamp);n&&n.lastRawPrice&&n.lastRawPrice.value&&e.value.fillMissingPricesFrom(n.lastRawPrice.value),t&&e.value.fillMissingPricesFrom(t.value),s&&s.lastRawPrice&&e.value.fillMissingPricesFrom(s.lastRawPrice.value)}_calculateHlocDataPoint(e,t){let i,n=!1;return this._fillVolumeFromPreviousData(e,t),this.isCalculable(e)||(n=!0,i=this._getLatestPriceData(t),i&&i.timestamp<e.timestamp&&this._fillNewDataPointFromLastClose(e,i),this._isPriceIncomplete("open",e)&&this._fillOpenFromPreviousData(e,i,t),this._isPriceIncomplete("close",e)&&this._fillCloseFromCurrentPoint(e,t),this._isPriceIncomplete("high",e)&&this._fillHighFromCurrentPoint(e,t),this._isPriceIncomplete("low",e)&&this._fillLowFromCurrentPoint(e,t)),t.lastPrice=e,(0,a.isNumber)(e.volume)&&(t.lastPriceWithVolume=e),!(!this.isCalculable(e)&&!this.allowPartialDataPoints)&&(t.lastFullPrice=e,this._createHlocDataPoint(e,n))}_fillNewDataPointFromLastClose(e,t){this._isPriceIncomplete("open",e)&&e.open.fillMissingPricesFrom(t.close),this._isPriceIncomplete("close",e)&&e.close.fillMissingPricesFrom(e.open),this._isPriceIncomplete("high",e)&&e.high.fillMissingPricesFrom(e.open),this._isPriceIncomplete("low",e)&&e.low.fillMissingPricesFrom(e.open)}_createHlocDataPoint(e,t){const i=this.calculate(e.close);return(0,a.isNumber)(i)?new s.default(e.timestamp,this.calculate(e.close),this.getVolume(e.volume),this.calculate(e.high),this.calculate(e.low),this.calculate(e.open),i,e,t):null}_calculateTickDataPoint(e,t){let i,n;return this.isCalculable(e)||(i=this._getLatestPriceData(t),this._isPriceIncomplete("value",e)&&this._fillFromLatestPrice(e,i,t)),t.lastPrice=e,!(!this.isCalculable(e)&&!this.allowPartialDataPoints)&&(n=this.calculate(e.value),t.lastFullPrice=e,(0,a.isNumber)(n)?new l.default(e.timestamp,this.calculate(e.value),this.getVolume(e.volume),e):null)}_isPriceIncomplete(e,t){return!((0,a.isNumber)(t[e].bid)&&(0,a.isNumber)(t[e].ask)&&(0,a.isNumber)(t[e].ltp))}}},38459:(e,t,i)=>{"use strict";var n=i(15215).Bx;const s=i(43130),r=n(i(18722)),o=n(i(4395));class a extends r.default{constructor(){super(...arguments),this.type=o.default.ASK}calculate(e){if(!(0,s.isFinite)(e.ask))throw new Error("No ask price given");return e.ask}isCalculable(e){return e.hasPriceType("ask")}}t.A=a},74097:(e,t,i)=>{"use strict";var n=i(15215).Bx;const s=i(43130),r=n(i(18722)),o=n(i(4395));class a extends r.default{constructor(){super(...arguments),this.type=o.default.BID}calculate(e){if(!(0,s.isFinite)(e.bid))throw new Error("No bid marketPrice given");return e.bid}isCalculable(e){return e.hasPriceType("bid")}}t.A=a},99210:(e,t,i)=>{"use strict";var n=i(15215).Bx;const s=i(43130),r=n(i(18722)),o=n(i(4395));class a extends r.default{constructor(){super(...arguments),this.type=o.default.LTP}calculate(e){return(0,s.isFinite)(e.ltp)?e.ltp:null}isCalculable(e){return e.hasPriceType("ltp")}}t.A=a},60934:(e,t,i)=>{"use strict";var n=i(15215).Bx;Object.defineProperty(t,"__esModule",{value:!0});const s=i(43130),r=n(i(18722)),o=i(10094),a=n(i(4395));class l extends r.default{constructor(){super(...arguments),this.type=a.default.MID}calculate(e){return(0,s.isFinite)(e.ask)?(0,s.isFinite)(e.bid)?(0,o.roundFloatingPointError)((e.bid+e.ask)/2):e.ask:(0,s.isFinite)(e.bid)?e.bid:null}isCalculable(e){return e.hasPriceType("ask")&&e.hasPriceType("bid")}}t.default=l},70665:(e,t,i)=>{"use strict";var n=i(15215).Bx;Object.defineProperty(t,"__esModule",{value:!0});const s=n(i(70192)),r=n(i(76040)),o=i(65235),a=n(i(35533));t.default=class{constructor(e,t,i=1){this.id=e,this.periodUnit=t,this.multiple=i,this.period=r.default.Periods[t]*this.multiple,this.intervalSplitter=new s.default(this)}asSyntheticDerivedFrom(e){return this.synthetic=!0,this.baseResolution=e,this}asNatural(){return this.synthetic=!1,this.baseResolution=this,this}getPeriodIterator(){return(0,o.getIterator)(this.periodUnit,this.multiple,this.userTimeZone)}getTimezoneOffsetIterator(){let e=this.periodUnit,t=this.multiple;return this.periodUnit===r.default.Enum.TICK&&(e=r.default.Enum.SECOND,t=1),a.default.getIterator(e,t)}}},74893:(e,t,i)=>{"use strict";var n=i(15215).Bx;Object.defineProperty(t,"__esModule",{value:!0}),t.statisticsKeyFor=t.keyFor=void 0;const s=n(i(43130)),r=i(54859),o=n(i(70665)),a=n(i(76040)),l={};l.TICK=new o.default("t1",a.default.Enum.TICK).asNatural(),l.SECOND=new o.default("s1",a.default.Enum.SECOND).asNatural(),l.TEN_SECONDS=new o.default("s10",a.default.Enum.SECOND,10).asSyntheticDerivedFrom(l.SECOND),l.MINUTE=new o.default("m1",a.default.Enum.MINUTE).asNatural(),l.TWO_MINUTES=new o.default("m2",a.default.Enum.MINUTE,2).asSyntheticDerivedFrom(l.MINUTE),l.THREE_MINUTES=new o.default("m3",a.default.Enum.MINUTE,3).asSyntheticDerivedFrom(l.MINUTE),l.FIVE_MINUTES=new o.default("m5",a.default.Enum.MINUTE,5).asNatural(),l.TEN_MINUTES=new o.default("m10",a.default.Enum.MINUTE,10).asSyntheticDerivedFrom(l.FIVE_MINUTES),l.FIFTEEN_MINUTES=new o.default("m15",a.default.Enum.MINUTE,15).asSyntheticDerivedFrom(l.FIVE_MINUTES),l.THIRTY_MINUTES=new o.default("m30",a.default.Enum.MINUTE,30).asSyntheticDerivedFrom(l.FIVE_MINUTES),l.HOUR=new o.default("h1",a.default.Enum.HOUR).asNatural(),l.TWO_HOURS=new o.default("h2",a.default.Enum.HOUR,2).asSyntheticDerivedFrom(l.HOUR),l.THREE_HOURS=new o.default("h3",a.default.Enum.HOUR,3).asSyntheticDerivedFrom(l.HOUR),l.FOUR_HOURS=new o.default("h4",a.default.Enum.HOUR,4).asSyntheticDerivedFrom(l.HOUR),l.DAY=new o.default("d1",a.default.Enum.DAY).asNatural(),l.WEEK=new o.default("w1",a.default.Enum.WEEK).asSyntheticDerivedFrom(l.HOUR),l.MONTH=new o.default("M1",a.default.Enum.MONTH).asSyntheticDerivedFrom(l.HOUR),(0,r.recursiveFreeze)(l);const d={[l.TICK.id]:"TICK_1",[l.SECOND.id]:"SECOND_1",[l.TEN_SECONDS.id]:"SECOND_10",[l.MINUTE.id]:"MINUTE_1",[l.TWO_MINUTES.id]:"MINUTE_2",[l.THREE_MINUTES.id]:"MINUTE_3",[l.FIVE_MINUTES.id]:"MINUTE_5",[l.TEN_MINUTES.id]:"MINUTE_10",[l.FIFTEEN_MINUTES.id]:"MINUTE_15",[l.THIRTY_MINUTES.id]:"MINUTE_30",[l.HOUR.id]:"HOUR_1",[l.TWO_HOURS.id]:"HOUR_2",[l.THREE_HOURS.id]:"HOUR_3",[l.FOUR_HOURS.id]:"HOUR_4",[l.DAY.id]:"DAY_1",[l.WEEK.id]:"WEEK_1",[l.MONTH.id]:"MONTH_1"};function u(e){for(const t in l)if(e.id===l[t].id)return t;return null}function c(e){return d[e.id]||null}t.keyFor=u,t.statisticsKeyFor=c,t.default={DEFAULT_RESOLUTION_NAME:"FIVE_MINUTES",values:l,getResolutionForScale:function(e,t){let i;if(e===a.default.Enum.TICK&&1===t)i=l.TICK;else if(e===a.default.Enum.SECOND&&1===t)i=l.SECOND;else if(e===a.default.Enum.SECOND&&10===t)i=l.TEN_SECONDS;else if(e===a.default.Enum.MINUTE&&1===t)i=l.MINUTE;else if(e===a.default.Enum.MINUTE&&2===t)i=l.TWO_MINUTES;else if(e===a.default.Enum.MINUTE&&3===t)i=l.THREE_MINUTES;else if(e===a.default.Enum.MINUTE&&5===t)i=l.FIVE_MINUTES;else if(e===a.default.Enum.MINUTE&&10===t)i=l.TEN_MINUTES;else if(e===a.default.Enum.MINUTE&&15===t)i=l.FIFTEEN_MINUTES;else if(e===a.default.Enum.MINUTE&&30===t)i=l.THIRTY_MINUTES;else if(e===a.default.Enum.HOUR&&1===t)i=l.HOUR;else if(e===a.default.Enum.HOUR&&2===t)i=l.TWO_HOURS;else if(e===a.default.Enum.HOUR&&3===t)i=l.THREE_HOURS;else if(e===a.default.Enum.HOUR&&4===t)i=l.FOUR_HOURS;else if(e===a.default.Enum.DAY&&1===t)i=l.DAY;else if(e===a.default.Enum.WEEK&&1===t)i=l.WEEK;else{if(e!==a.default.Enum.MONTH||1!==t)throw new Error(`there is no resolution with scale "${e}" and multiplier "${t}"`);i=l.MONTH}return i},getSupportedResolutions:function(){return l},keyFor:u,statisticsKeyFor:c,statisticsKeys:function(){return s.default.values(d)},valueOf:function(e){const t=l[e];if(!t)throw new Error(`there is no resolution with id "${e}"`);return t}}},19552:(e,t)=>{"use strict";var i;Object.defineProperty(t,"__esModule",{value:!0}),t.valueOf=void 0,function(e){e.CFD="CFD",e.SPREADBET="SPREAD_BET",e.PHYSICAL="PHYSICAL",e.UNKNOWN="UNKNOWN"}(i||(i={})),t.valueOf=function(e){return"string"!=typeof e?i.UNKNOWN:i[e.toUpperCase().replace(/[^a-z]+/gi,"")]||i.UNKNOWN},t.default=i},42039:(e,t,i)=>{"use strict";var n=i(15215).Bx;Object.defineProperty(t,"__esModule",{value:!0});const s=n(i(62501)),r=n(i(46444)),o=n(i(54786));class a extends s.default{static createFromLightstreamerPoint(e){return new r.default(new o.default(parseFloat(e.BID_HIGH),parseFloat(e.OFR_HIGH),parseFloat(e.LTP_HIGH)),new o.default(parseFloat(e.BID_LOW),parseFloat(e.OFR_LOW),parseFloat(e.LTP_LOW)),new o.default(parseFloat(e.BID_OPEN),parseFloat(e.OFR_OPEN),parseFloat(e.LTP_OPEN)),new o.default(parseFloat(e.BID_CLOSE),parseFloat(e.OFR_CLOSE),parseFloat(e.LTP_CLOSE)),parseInt(e.UTM,10),parseFloat(e.LTV))}convertToDataPoints(e,t){const i=this.priceCalculator.calculateDataPoint(a.createFromLightstreamerPoint(t),e);if(!1===i)throw new Error("Data could not be converted to point.");return[i]}}t.default=a},85546:(e,t,i)=>{"use strict";var n=i(15215).Bx;Object.defineProperty(t,"__esModule",{value:!0});const s=n(i(62501)),r=n(i(54786)),o=n(i(44769));class a extends s.default{static createFromLightstreamerPoint(e){return new o.default(new r.default(parseFloat(e.BID),parseFloat(e.OFR),parseFloat(e.LTP)),parseInt(e.UTM,10),parseFloat(e.LTV))}convertToDataPoints(e,t){const i=this.priceCalculator.calculateDataPoint(a.createFromLightstreamerPoint(t),e);if(!1===i)throw new Error("Data could not be converted to point.");return[i]}}t.default=a},44769:(e,t,i)=>{"use strict";var n=i(15215).Bx;Object.defineProperty(t,"__esModule",{value:!0});const s=i(43130),r=n(i(13836));class o extends r.default{constructor(e,t,i){super(t,i),this.value=e}hasPriceType(e){return(0,s.isFinite)(this.value[e])}}t.default=o},73197:(e,t,i)=>{"use strict";var n=i(15215).ut,s=i(15215).Bx;Object.defineProperty(t,"__esModule",{value:!0});const r=i(41943),o=i(8697),a=n(i(8697)),l=s(i(98966)),d=s(i(65056));function u(e,t){for(let i=e.length-1;i>=0;i--){const n=e[i][t]();if(n)return n}return null}function c(e,t){return e.getTime()-(t?t.getTime():0)}class h extends d.default{static create(){return new h}static findFirstTickIndexWithDate(e,t,i){let n=a.find(e,t,i);for(;"number"==typeof n&&n>0&&t[n-1]&&t[n-1].getTime()===t[n].getTime();)n--;return n}endTickDate(){return u(this.intervals,"lastTickDate")}endTickAccTime(){return u(this.intervals,"lastTickAccTime")}asAccTime(e,t){if(!e)return null;const i=this._searchIntervalsForDate(e);let n=0;if((0,o.isSearchResult)(i)){if(i===a.BEFORE_START)return e.getTime()-this.startDate().getTime();if(i===a.AFTER_END)return t&&(n=e.getTime()-this.endDate().getTime()),this.accEnd()+n;throw new Error("Problem finding the acc time")}const s=this.intervals[i];return e.getTime()<=s.start.getTime()?s.accStart:e.getTime()===s.end.getTime()?s.accEnd:this._accTimeWithinInterval(s,e)}isAccTimeValid(e){if(isNaN(e))return!1;const t=this._intervalIndexContainingAccTime(e);return!(0,o.isSearchResult)(t)&&this.intervals[t].isLoaded()}asDate(e){if(!this.hasIntervals())return null;const t=this.endTickAccTime(),i=this._intervalIndexContainingAccTime(e);if(e===this.intervals[i].accStart)return this.intervals[i].start;if(e===this.intervals[i].accEnd)return this.intervals[i].end;if(e>t)return new Date((this.endTickDate()||this.endDate()).getTime()+(e-t));if(!this.intervals[i].isLoaded())return null;const n=this.intervals[i].tickDatesForAccTime,s=(e-this.intervals[i].accStart)/l.default.ACCTIME_INCREMENT,r=s-Math.floor(s);if(r){const e=n[Math.floor(s)];let t;if(s>n.length-1){if(!this.intervals[i+1])throw new Error("asDate past the last interval point, should not be reached");t=this.intervals[i+1].firstTickDate()}else t=n[Math.ceil(s)];return e?new Date(e.getTime()+(t.getTime()-e.getTime())*r):null}return n[s]}_accTimeWithinInterval(e,t){const i=e.tickDatesForAccTime;if(!e.isLoaded())return 0;let n=h.findFirstTickIndexWithDate(t,i,c);if(n===a.NOT_PRESENT){const e=n.lastMidIndex;n="number"==typeof e&&i[e-1]?e-1+(t.getTime()-i[e-1].getTime())/(i[e].getTime()-i[e-1].getTime()):e}else n===a.BEFORE_START?n=(t.getTime()-e.accStart)/(i[0].getTime()-e.accStart):n===a.AFTER_END&&(n=i.length-(e.accEnd-t.getTime())/(e.accEnd-i[i.length-1].getTime()));return"number"==typeof n?e.accStart+n*l.default.ACCTIME_INCREMENT:NaN}expandToEndAt(){throw new Error("Date-based interval expansion not supported on tick timeline")}expandToIncludePoints(e,t){(0,r.lastOf)(this.intervals).expandToIncludePoints(e,t),this._searchIntervalsForDate.invalidate()}}t.default=h},49621:(e,t,i)=>{"use strict";var n=i(15215).Bx;Object.defineProperty(t,"__esModule",{value:!0});const s=n(i(73036));class r extends s.default{moveToDate(e){var t;if(null===(t=this._timeline)||void 0===t?void 0:t.hasIntervals()){const t=this._timeline.asAccTime(this._timeline.closestIntervalForDate(e).start),i=this._timeline.asAccTime(this._timeline.closestIntervalForDate(e).end);this._updateXAxisDomain(t,i,!0)}}_expandToFuture(){}}t.default=r},65056:(e,t,i)=>{"use strict";var n=i(15215).ut,s=i(15215).Bx;Object.defineProperty(t,"__esModule",{value:!0}),t.searchIntervalsForDate=void 0;const r=i(41943),o=i(8697),a=n(i(8697)),l=i(9525),d=s(i(91882)),u=i(58146);class c{constructor(){this._searchIntervalsForDate=(0,l.cache)(h,(e=>e.getTime().toString()),c.MAX_DATE_CACHE_SIZE)}static create(){return new c}hasIntervals(){return(0,r.nonEmpty)(this.intervals)}setIntervals(e){return this.intervals=e,this._searchIntervalsForDate.invalidate(),this}asAccTime(e,t){if(!e)return null;const i=this._searchIntervalsForDate(e);if((0,o.isSearchResult)(i))return i===a.BEFORE_START?e.getTime()-this.startDate().getTime():t&&i===a.AFTER_END?this.accEnd()+(e.getTime()-this.endDate().getTime()):this.accEnd();const n=this.intervals[i];return e.getTime()<=n.start.getTime()?n.accStart:n.accStart+(e.getTime()-n.start.getTime())}isAccTimeValid(e){return!0}asDate(e){if(!this.hasIntervals())return null;const t=this._intervalIndexContainingAccTime(e),i=this.intervals[t],n=e-i.accStart;return new Date(i.start.getTime()+n)}closestIntervalForDate(e){const t=a.closestIndex(this._searchIntervalsForDate(e),this.intervals);return this.intervals[t]}stableMillisForAccTimeExtent(e){const t=d.default.calculateMeanOpenIntervalDuration(this.intervals),i=d.default.calculateMeanClosedIntervalDuration(this.intervals),n=e/t;return e+Math.max(0,n-2)*i}getAccRangeForAccTime(e,t){const i=t/2;return[e-i,e+i]}startAccTime(){return 0}accDuration(){return this.accEnd()-this.startAccTime()}accEnd(){return this.intervals?(0,r.lastOf)(this.intervals).accEnd:0}startDate(){return this.intervals[0].start}endDate(){return(0,r.lastOf)(this.intervals).end}expandToEndAt(e){(0,r.lastOf)(this.intervals).expandToEndAt(e),this._searchIntervalsForDate.invalidate()}contractToEndAt(e){(0,r.lastOf)(this.intervals).contractToEndAt(e),this._searchIntervalsForDate.invalidate()}destroy(){this._searchIntervalsForDate&&(this._searchIntervalsForDate.invalidate(),delete this._searchIntervalsForDate),delete this.intervals}_intervalIndexContainingAccTime(e){return a.findClosestIndex(e,this.intervals,u.comparatorWithAccTime)}}function h(e){return a.find(e,this.intervals,u.comparatorWithDateIncludingPregap)}c.MAX_DATE_CACHE_SIZE=30,t.default=c,t.searchIntervalsForDate=h},17660:(e,t,i)=>{"use strict";var n=i(15215).Bx,s=i(15215).ut;Object.defineProperty(t,"__esModule",{value:!0});const r=n(i(88045)),o=s(i(79113)),a=i(19552),l=i(80272),d=i(96285),u=n(i(289)),c=s(i(5935)),h=s(i(28896)),p=n(i(69787)),_=["zh_TW","zh_CN","ja_JP","ru_RU"],g="en_GB",f=/(nn|nb|no)_NO$/;class m extends u.default{constructor(){super(...arguments),this._productCode=o.default.UNKNOWN,this._assetClass=c.default.UNKNOWN,this._igCompany=h.default.UNKNOWN}static getInstance(){return this._instance||(this._instance=new m),this._instance}getAccountId(){return this._accountId}setAccountId(e){return this._accountId=e,this.fire(m.CHANGED,"accountId"),this}getWebSiteId(){return this._webSiteId}setWebSiteId(e){return this._webSiteId=e,this}getSiteType(){return this._siteType}setSiteType(e){return this._siteType=(0,a.valueOf)(e),this}getLocale(){return this._locale}getMiddlewareLocale(){return this._locale.match(f)?"no_NO":this._locale}getSanitisedLocale(){return this._locale.replace("_","-")}setLocale(e){return(0,l.isLocale)(e)||(r.default.warn(`Attempted to set invalid locale: ${e}. Defaulting to '${g}`),e=g),e.match(f)?e="nb_NO":"en_AU"===e&&(e=g),this._locale=e,d.Settings.defaultLocale=this.getSanitisedLocale(),this.fire(m.CHANGED,"locale"),this}getProductCode(){return this._productCode}setProductCode(e){return this._productCode=(0,o.valueOf)(e),this}getSsoToken(){return this._ssoToken}setSsoToken(e){return this._ssoToken=e,this}getCstToken(){return this._cstToken}setCstToken(e){return this._cstToken=e,this}getTrackingId(){return this._trackingId}setTrackingId(e){return this._trackingId=e,this}isLatinLang(){return!_.includes(this._locale)}isEnglishLang(){return this._locale.includes("en_")}isAnonymous(){return!this._accountId||"anonymous"===this._accountId.toLowerCase()}isOption(){return this._productCode===o.default.IGFUTOPT}isMTF(){return this._productCode===o.default.MTFTURBO}setAssetClass(e){return this._assetClass=(0,c.valueOf)(e),this}getAssetClass(){return this._assetClass}setIgCompany(e){return this._igCompany=(0,h.valueOf)(e),this}getIgCompany(){return this._igCompany}setIsRetailAccount(e){return this._isRetailAccount=e,this}getIsRetailAccount(){return this._isRetailAccount}getEnabledTests(){return p.default.getEnabledTests(this.getAccountId())}isTestEnabled(e){return p.default.isTestEnabled(this.getAccountId(),e)}}m.CHANGED="CHANGED",t.default=m},73036:(e,t,i)=>{"use strict";var n=i(15215).Bx;Object.defineProperty(t,"__esModule",{value:!0}),t.MIN_DATE=t.OPEN_CLOSE_PROPORTIONAL_WIDTH=t.PIXELS_PER_CANDLE=t.SCROLL_STATE=t.RESTRICT_DURATION=void 0;const s=i(43130),r=i(64089),o=i(41943),a=n(i(3019)),l=n(i(86605)),d=n(i(38712)),u=n(i(2928)),c=n(i(78725)),h=n(i(30992)),p=i(10094),_=i(40708),g=n(i(289)),f=n(i(36757)),m=i(70094);var v,A;!function(e){e.SCREEN="screen",e.DATA="data",e[e.NONE=0]="NONE"}(v=t.RESTRICT_DURATION||(t.RESTRICT_DURATION={})),function(e){e.PAST="PAST",e.PRESENT="PRESENT",e.FUTURE="FUTURE"}(A=t.SCROLL_STATE||(t.SCROLL_STATE={}));t.PIXELS_PER_CANDLE=1,t.OPEN_CLOSE_PROPORTIONAL_WIDTH=.7;t.MIN_DATE=new Date(1970,0,1);const E=new Date(2100,0,1);class T extends g.default{constructor(e,t,i,n,s){var r;super(),this._eventBus=e,this.instrumentModelCollection=t,this._restrictDuration=i,this._stickToPresent=n,this._visibleBlocks={},this._minDuration=-1/0,this._maxDuration=1/0,this._hasMinDurationCalculated=!1,this._outOfBounds=!1,this.rightMargin=0,this.xAxisReady=!1,this._timeline=t.timeline,this._x=this._createXAxis(s),(null===(r=this._timeline)||void 0===r?void 0:r.hasIntervals())?this._handleIntervalListLoaded():t.on(c.default.ALL_INTERVALS_LOADED,this._handleIntervalListLoaded,this,{once:!0})}getScale(){return this._x}getTimeline(){return this._timeline}hasTimelineIntervals(){var e;return(null===(e=this._timeline)||void 0===e?void 0:e.hasIntervals())||!1}setXAxisReady(e){const t=this.xAxisReady;return this.xAxisReady=e,e&&!t&&this.fire(f.default.X_AXIS_READY),this}getVisibleBlocks(e,t){var i;let n;if((0,s.isNil)(e)&&(0,s.isNil)(t))n=this.instrumentModelCollection.activeInstrumentResolution,e=n?n.getEpic():void 0,t=n?n.resolution:void 0;else{if((0,s.isNil)(e)||(0,s.isNil)(t))throw new Error("getVisibleBlocks expects either no arguments or both of them");n=this.instrumentModelCollection.getInstrumentResolution(e,t)}return n&&n.hasBlocksLoaded()&&e&&t&&(null===(i=this._visibleBlocks[e])||void 0===i?void 0:i[t.id])||[]}_createXAxis(e){const t=a.default.wrap((0,r.scaleLinear)(),u.default.ANIM_DURATION,u.default.ANIM_EASE,"vdrX").withAnimationPoller(e);return t.on(a.default.CHANGED,this._handleXDomainChange,this),t}withRightMargin(e){return this.rightMargin=e,this}width(){const e=this._x.range();return e[1]-e[0]}setWidth(e,i){this.instrumentModelCollection&&(this._maxDuration=this.pointAccDuration()*((e-(i.left||0)-(i.right||0))/t.PIXELS_PER_CANDLE)),this._x.range([i.left||0,e-(i.right||0)])}startPixels(){return this._x.range()[0]}startDate(){var e;const t=this._x.domain()[0];return(null===(e=this._timeline)||void 0===e?void 0:e.asDate(t))||null}endDate(){var e;const t=this._x.domain()[1];return(null===(e=this._timeline)||void 0===e?void 0:e.asDate(t))||null}dateRange(){var e,t,i;const n=this._x.domain();return[(null===(e=this._timeline)||void 0===e?void 0:e.asDate(n[0]))||(null===(t=this._timeline)||void 0===t?void 0:t.startDate())||null,(null===(i=this._timeline)||void 0===i?void 0:i.asDate(n[1]))||null]}accStart(){return this._x.domain()[0]}accEnd(){return this._x.domain()[1]}accRange(){return this._x.domain()}targetAccEnd(){return this._x.getTargetDomain()[1]}distanceOverLeftBound(){var e;return(null===(e=this._timeline)||void 0===e?void 0:e.hasIntervals())?Math.round(this.accTimeToPixel(0)-this.accTimeToPixel(this.targetAccEnd()-this.targetDuration())):0}distanceOverLeftScrollBoundary(e,t){return this._stickToPresent&&e===A.FUTURE&&Math.abs(t)>0?-this._getDistanceFromIdealLastCandleAccEndInPixels():this.distanceOverLeftBound()}distanceOverRightBound(){var e;return(null===(e=this._timeline)||void 0===e?void 0:e.hasIntervals())?Math.round(this.accTimeToPixel(this.targetAccEnd())-this.accTimeToPixel(this._timeline.accEnd()+this.marginAccDuration())):0}distanceOverRightScrollBoundary(e,t){return this._stickToPresent&&e===A.PAST&&Math.abs(t)>0?this._getDistanceFromIdealLastCandleAccEndInPixels():this.distanceOverRightBound()}getScrollState(){const e=this._getDistanceFromIdealLastCandleAccEndInPixels();return Math.abs(e)<10?A.PRESENT:e<0?A.PAST:A.FUTURE}pointAccDuration(){return this.instrumentModelCollection.activeResolution.period}maxAccDuration(){return this._getValidDuration(this._timeline.accDuration())}_halfCandleAccDuration(){return this.pointAccDuration()*t.OPEN_CLOSE_PROPORTIONAL_WIDTH*.5}marginAccDuration(){return this.pixelsToAccDuration(this.rightMargin)}isOutOfBounds(){return this._outOfBounds}_isOutOfBounds(){return this.distanceOverLeftBound()>0||this.distanceOverRightBound()>0}isOutOfScrollBounds(e,t){const i=Math.round(this.distanceOverLeftScrollBoundary(e,t)),n=Math.round(this.distanceOverRightScrollBoundary(e,t));return i>0||n>0}targetDuration(){return(0,_.rangeExtent)(this._x.getTargetDomain())}moveTo(e,t,i=!1){var n;if(null===(n=this._timeline)||void 0===n?void 0:n.hasIntervals()){const n=this._getValidDuration(t);this._updateXAxisDomain(e-n,e,i)}}moveToDate(e){var t;if(null===(t=this._timeline)||void 0===t?void 0:t.hasIntervals()){const t=this._timeline.asAccTime(e);if(null===t)return;const i=this.targetDuration(),n=t+(this._x.domain()[1]-this._x.domain()[0])/2;this._updateXAxisDomain(n-i,n,!0)}}zoomBy(e,t=.5,i=!1){var n;if(!(null===(n=this._timeline)||void 0===n?void 0:n.hasIntervals()))return;(0,p.isNumber)(t)||(t=.5);const s=(0,_.rangeExtent)(this._x.domain()),r=this._getValidDuration(s*e),o=this._getDistanceFromLastCandle();let a;s!==r&&(a=o>=0?this._getZoomRangeForFuture(r/s,r,o):this._getZoomRangeForPast(t,s,r),this._updateXAxisDomain(a.start,a.end,i))}_getZoomRangeForPast(e,t,i){const n=(t-i)*e,s=(t-i)*(1-e),r=this.accStart()+n,o=this.accEnd()-s,a=this._getIdealLastCandleAccEnd(i/t);return a<o?{start:a-i,end:a}:{start:r,end:o}}_getZoomRangeForFuture(e,t,i){const n=e>=1?5:3,s=this._getIdealLastCandleAccEnd(e),r=this.marginAccDuration(),o=this.marginAccDuration()*e,a=this.accEnd()-i/n-r+o,l=0===i?s:a;return{start:l-t,end:l}}_getLastPricesPoint(){var e;return null===(e=this.instrumentModelCollection.activeInstrumentResolution)||void 0===e?void 0:e.getLastPoint("prices")}getLeftmostCloseLevel(){var e;const t=null===(e=this.instrumentModelCollection.activeInstrumentResolution)||void 0===e?void 0:e.findLeftmostDataPoint(this.accStart());return t?t.value:this._getLastPricesPoint().value}_getDistanceFromLastCandle(){const e=this._getLastPricesPoint();return e?Math.round(this.accEnd()-this.marginAccDuration()-this._halfCandleAccDuration()-e.accTime):0}_getIdealLastCandleAccEnd(e){return e=e||1,this._getLastPricesPoint().accTime+this._halfCandleAccDuration()+this.marginAccDuration()*e}_getDistanceFromIdealLastCandleAccEndInPixels(){const e=this.accEnd()-this._getIdealLastCandleAccEnd();return this.accTimeToPixel(e)-this.accTimeToPixel(0)}resizeTo(e,t){if(this._timeline){const i=function(e,t,i,n,s){const r=e*((t[1]-t[0])/(i[1]-i[0]));let o=t[1],a=o-r;return a<n&&(o=o+n-a,a=n),o>s&&(o=s),[a,o]}(e-(t.left||0)-(t.right||0),this._x.domain(),this._x.range(),this._timeline.startAccTime(),this._timeline.accEnd()+this._halfCandleAccDuration()+this.marginAccDuration()),n=this._getValidDuration(i[1]-i[0]);this.setWidth(e,t),this._updateXAxisDomain(i[1]-n,i[1],!0)}}_updateXAxisDomain(e,t,i=!1){this._x.domain([e,t],i),this._expandToFuture()}_expandToFuture(){if(!this._timeline)return;const e=this._timeline.asDate(this.accStart()),t=this._timeline.asDate(this.accEnd());if(!e||!t)return;const i=this.pixelsToAccDuration(this.width()),n=this._timeline.accEnd()-(this.targetAccEnd()-this.marginAccDuration()),s=t.valueOf()-e.valueOf(),r=new Date(this._timeline.endDate().valueOf()+s);if(n<=i&&r.valueOf()<E.valueOf()){const e=this.instrumentModelCollection.activeInstrumentResolution;e&&e.expandForwardToContainDate(r)}}_getValidDuration(e){var t;e=e||this.instrumentModelCollection.initialDuration;let i=null;if(this._timeline){let e;const n=null===(t=this.instrumentModelCollection.activeInstrumentResolution)||void 0===t?void 0:t.getLastPoint();switch(e=n?n.accTime+this.marginAccDuration()-this._timeline.startAccTime():this._timeline.accDuration(),this._restrictDuration){case v.SCREEN:i=Math.min(e,this._maxDuration);break;case v.DATA:i=e}}return i||(i=e),e>i?e=i:e<this._minDuration&&(e=this._minDuration),e}moveByPixels(e,t=!1){this.moveTo(this.targetAccEnd()-this.pixelsToAccDuration(e),this.targetDuration(),t)}pixelsToAccDuration(e){return this._x.invert(e)-this._x.invert(0)}pixelsToAccTime(e){var t;return(null===(t=this._timeline)||void 0===t?void 0:t.hasIntervals())?this._x.invert(e):null}accTimeToPixel(e){return this._x(e)}accDurationToPixels(e){return this._x(e)-this._x(0)}_alignVisibleBlocksToAccStartAndAccEnd(e){if(!e||!e.hasBlocksLoaded())return;const t=e.period/2;this._updateVisibleBlocksList(e,this.accStart(),this.accEnd()+t)}_alignVisibleBlocksToActiveVisibleBlocks(e){var t;if(!e||!e.hasBlocksLoaded())return;const i=this.instrumentModelCollection.activeInstrumentResolution;if(!i)return;const n=(null===(t=this._visibleBlocks[i.getEpic()])||void 0===t?void 0:t[i.resolution.id])||[],s=e.getTimeline();this._updateVisibleBlocksList(e,s.asAccTime((0,o.firstOf)(n).start),s.asAccTime((0,o.lastOf)(n).end))}_handleXDomainChange(e){const t=this._outOfBounds;this.instrumentModelCollection.allActiveInstrumentResolutions.forEach(this._alignVisibleBlocksToAccStartAndAccEnd.bind(this)),this.instrumentModelCollection.nonActiveInstrumentResolutions.forEach(this._alignVisibleBlocksToActiveVisibleBlocks.bind(this)),this.fire(f.default.MOVED,e),this._outOfBounds=this._isOutOfBounds(),t&&!this._outOfBounds&&this.fire(f.default.MOVED_INTO_BOUNDS),(e&l.default.INITIALISED)!==l.default.INITIALISED&&(e&l.default.ZOOMED)===l.default.ZOOMED&&this.fire(f.default.WIDTH_CHANGED,this.getCandleWidth())}_updateVisibleBlocksList(e,t,i){if((0,s.isNil)(t)||(0,s.isNil)(i))return;const n=e.blocks,r=d.default.findBlockIndicesContainingAccRange(n,[t,i]);this._setVisibleBlocksList(e,r)}_setVisibleBlocksList(e,t){var i;const n=e.getEpic(),s=e.resolution.id,r=(null===(i=this._visibleBlocks[n])||void 0===i?void 0:i[s])||[],o=(0,m.visibleBlocksIndexRange)(r);if(!o||(0,_.pairDifferent)(t,o)){let i=this._visibleBlocks[n];i||(i=this._visibleBlocks[n]={}),i[s]=(e.blocks||[]).slice(t[0],t[1]+1);const r=!o||!(0,_.firstRangeContainedInSecond)(t,o);this.fire(f.default.VISIBLE_BLOCKS_CHANGED,r)}}_stableMillisShown(){var e;return(null===(e=this._timeline)||void 0===e?void 0:e.stableMillisForAccTimeExtent((0,_.rangeExtent)(this._x.domain())))||0}approxTimeDensity(){const e=(0,_.rangeExtent)(this._x.range());return this._stableMillisShown()/e}_handleIntervalListLoaded(){this.instrumentModelCollection.on(h.default.BLOCKS_POINTS_ADDED,this._handleBlocksPointsAdded,this),this.instrumentModelCollection.on(h.default.RESOLUTION_REMOVED,this._handleResolutionRemoved,this),this.instrumentModelCollection.on(h.default.END_DATE_CHANGED,this._handleEndDateChanged,this),this.instrumentModelCollection.on(h.default.NEW_CURRENT_DATA_POINT,this._handleNewCurrentDataPoint,this)}_setToAccTime(e){const t=this._getValidDuration(this._initialDuration&&this._initialDuration.getDuration(e)),i=t*(this.rightMargin/this.width());this.moveTo(e+i,t,!0)}setInitialDuration(e){return this._initialDuration=e,this}getCandleWidth(){return this.accDurationToPixels(this.instrumentModelCollection.activeInstrumentResolution.period)}setToLastPoint(){const e=this.instrumentModelCollection.activeInstrumentResolution.getLastPoint().accTime+this._halfCandleAccDuration();this._setToAccTime(e)}isLatestCandleInVisibleRange(){var e;const[t,i]=this._x.domain(),n=null===(e=this.instrumentModelCollection.activeInstrumentResolution)||void 0===e?void 0:e.getLastPoint(),s=n?n.accTime:i;return(0,_.inRange)([t,i],s)}_handleBlocksPointsAdded(e,t,i,n){var s;this.setXAxisReady(!0),this._updateMinDuration(),(null===(s=this._visibleBlocks[i])||void 0===s?void 0:s[n.id])||this._alignVisibleBlocksToActiveVisibleBlocks(this.instrumentModelCollection.getInstrumentResolution(i,n));const r=e.filter((e=>e.accEnd>this.accStart()&&e.accStart<this.accEnd()));0!==r.length&&(this._expandVisibleBlocksToInclude(i,n.id,r),this.fire(`${f.default.VISIBLE_BLOCKS_POINTS_ADDED}-${t}`,e,t),this.fire(`${f.default.VISIBLE_BLOCKS_POINTS_ADDED}-${t}-${n.id}`,e,t))}_updateMinDuration(){if(!this._hasMinDurationCalculated){const e=this.instrumentModelCollection.activeInstrumentResolution;if(e){const t=this.pointAccDuration();let i=e.numberOfLoadedPrices();i>=10?(this._hasMinDurationCalculated=!0,this._minDuration=10*t):(i>0&&i--,this._minDuration=i*t)}const t=(0,_.rangeExtent)(this._x.domain());this.moveTo(this.accEnd(),t)}}_expandVisibleBlocksToInclude(e,t,i){var n;const s=null===(n=this._visibleBlocks[e])||void 0===n?void 0:n[t];if(!s)return;const r=(0,o.lastOf)(i).index;let a=(0,o.lastOf)(s);for(;a.index<r;)a=a.next,s.push(a)}_handleEndDateChanged(e,t,i){if(i)return;const n=this.instrumentModelCollection.activeInstrumentResolution;if(!n)return;const s=n.getCurrentDataPoint("prices");s&&this._moveToEnd(s.accTime+n.resolution.period,e,t)}_maxDistanceRequiredToStick(){return 1.5*this.pointAccDuration()}_shouldFollow(){if(!this._timeline)return!1;const e=this.targetAccEnd()-this.marginAccDuration();return Math.abs(e-this._timeline.accEnd())<=this._maxDistanceRequiredToStick()}isLatestPriceFollowed(){var e;const t=null===(e=this.instrumentModelCollection.activeInstrumentResolution)||void 0===e?void 0:e.getCurrentDataPoint("prices");if(!t)return this._shouldFollow();const i=this.targetAccEnd()-this.marginAccDuration();return Math.abs(i-t.accTime)<=this._maxDistanceRequiredToStick()}_handleNewCurrentDataPoint(e){const t=this.instrumentModelCollection.activeInstrumentResolution;if(!t)return;const i=t.getCurrentDataPoint("prices");if(!i)return;const n=this._x.domain()[1]-this._x.domain()[0],s=this.marginAccDuration()+this._halfCandleAccDuration(),r=this.targetAccEnd()-this.marginAccDuration()+this.pointAccDuration()>=i.accTime,o=t.getLastPoint(),a=o&&o.accTime>this.targetAccEnd()-s;if(r&&(!o||a)){let t;if(this.isLatestPriceFollowed())t=e.accTime+this.marginAccDuration()+this._halfCandleAccDuration();else{const n=e.accTime-i.accTime;t=Math.min(this.targetAccEnd()+n,o.accTime+s)}this.moveTo(t,n)}}_moveToEnd(e,t,i){const n=this.targetAccEnd(),s=n-this.marginAccDuration(),r=this._x.domain()[1]-this._x.domain()[0];if(!(i>=t&&i<s)&&n>i){const e=this.instrumentModelCollection.activeInstrumentResolution;if(!e)return;this.moveTo(i-e.period+this._halfCandleAccDuration()+this.marginAccDuration(),r)}}_handleResolutionRemoved(e,t){const i=this._visibleBlocks[e];null==i||delete i[t.id],i&&!Object.keys(i).length&&delete this._visibleBlocks[e]}destroy(){super.destroy(),this._eventBus.unsubscribeAll(this),this.instrumentModelCollection.un(null,this),this._x&&this._x.un(null,this)}}t.default=T},36757:(e,t)=>{"use strict";var i;Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.MOVED="moved",e.X_AXIS_READY="xAxisReady",e.VISIBLE_BLOCKS_POINTS_ADDED="visibleBlocksPointsAdded",e.VISIBLE_BLOCKS_CHANGED="visibleBlocksChanged",e.MOVED_INTO_BOUNDS="movedIntoBounds",e.WIDTH_CHANGED="widthChanged"}(i||(i={})),t.default=i},81636:(e,t,i)=>{"use strict";var n=i(15215).Bx;Object.defineProperty(t,"__esModule",{value:!0}),t.applyHeaders=void 0;const s=i(43130),r=n(i(85673)),o=n(i(39842)),a=i(22690),l=i(97292),d=n(i(17660));function u(){const e=r.default.getInstance();return[["vendor","IG Group"],["applicationType",e.getApplicationType()],["platform",e.getClientPlatform()],["deviceType",e.getDeviceType()],["view",e.getView()],["version",e.getClientVersion()]].filter((([,e])=>null==e?void 0:e.length)).map((e=>e.join("="))).join(" | ")}function c(e,t){for(const[i,n]of t)(null==n?void 0:n.length)&&e.append(i,n)}t.applyHeaders=c;t.default=class{constructor(){this._requests=Object.create(null)}_endpointToURL(e){return new URL(e.replace(/^\//,""),`${o.default.getInstance().getMiddlewareOrigin().replace(/\/$/,"")}/`)}_makeRequest(e,t){const i=(null==t?void 0:t.hash)||e.href;return this._requests[i]&&(this._requests[i].abort.abort(new DOMException("Request replaced","AbortError")),delete this._requests[i]),this._requests[i]=(0,a.fetchEnhanced)(e,Object.assign(Object.assign({},(0,s.omit)(t,"hash")),{headers:this._generateHeaders(null==t?void 0:t.headers)})),this._requests[i].promise.finally((()=>delete this._requests[i]))}_generateHeaders(e){const t=new Headers(e),i=d.default.getInstance();return c(t,[["CST",i.getCstToken()],["X-SECURITY-TOKEN",i.getSsoToken()],["X-Transaction-Id",`htmlcharts_${(0,l.getGuid)()}`],["X-Device-User-Agent",u()]]),t.has("Accept")||t.append("Accept","application/json"),t}abort(e){var t;null===(t=this._requests[e])||void 0===t||t.abort.abort()}abortAll(){for(const{abort:e}of Object.values(this._requests))e.abort()}destroy(){this.abortAll()}}},23685:(e,t,i)=>{"use strict";var n=i(15215).Bx;Object.defineProperty(t,"__esModule",{value:!0});const s=i(96001),r=n(i(54364)),o=n(i(85673)),a=n(i(23585)),l=n(i(77209)),d=n(i(88045)),u=n(i(289));class c extends u.default{constructor(e){super(),this._pendingRequests={},this._eventBus=e}_executeRequest(e){const t=e,i=function(e){return e.hash||e.endpoint}(e);!function(e){const t=o.default.getInstance(),i=t.getApplicationType(),n=t.getClientPlatform(),r=t.getDeviceType(),a=t.getView(),l=t.getClientVersion(),d=r?"vendor=IG Group | applicationType={applicationType} | platform={platform} | deviceType={deviceType} | view={view} | version={version}":"vendor=IG Group | applicationType={applicationType} | platform={platform} | view={view} | version={version}";e.headers=e.headers||{},e.headers["x-device-user-agent"]=(0,s.merge)(d,{applicationType:i,platform:n,deviceType:r,view:a,version:l})}(t),t.complete=this._abortRequest.bind(this,i),t.success=this._wrapSuccessCallback.bind(this,t.success),t.error=this._wrapErrorCallback.bind(this,t.error),this._pendingRequests[i]&&this._abortRequest(i);const n=r.default.create(t);this._pendingRequests[i]=n,n.send()}abortAll(){Object.keys(this._pendingRequests).forEach(this._abortRequest,this)}destroy(){this.abortAll(),super.destroy()}_abortRequest(e){this._pendingRequests[e]&&(this._pendingRequests[e].abort(),delete this._pendingRequests[e])}_wrapSuccessCallback(e,t,i,n){a.default.captureError((()=>{e&&e(t,i,n)}),(e=>{d.default.error(t.getEndpoint(),e,i,n)}))}_wrapErrorCallback(e,t,i,n,s){const r=function(e,t){return e.error?e.error.toString():"string"==typeof e?e:t.responseText}(i,s);let o=!1;a.default.captureError((()=>{e&&!1===e(t,i,n,r)&&(o=!0)}),(e=>{d.default.error(t.getEndpoint(),e,r,n,"error_in_error_handler_callback")})),o||this._eventBus.publish(l.default.REQUEST_ERROR)}}t.default=c},72957:(e,t,i)=>{"use strict";var n=i(15215).Bx;Object.defineProperty(t,"__esModule",{value:!0});const s=i(10094),r=i(46623),o=n(i(23685)),a=n(i(938)),l=i(4862),d=n(i(17660));class u extends o.default{constructor(e,t,i,n){super(i),this._baseSnapshotEndpoint=[(0,l.getBaseEndpoint)(),e,t.multiple,t.periodUnit].join("/"),this._instrumentResolutionGuid=n}static create(e,t,i,n){return new u(e,t,i,n)}withVersion(e){return e?this._version=e:delete this._version,this}getDataFromDateRange(e,t,i,n){this._executeRequest({endpoint:this._getDataEndpoint(e,t),success:i,error:n,retry:!1})}_getDataEndpoint(e,t){const i=[this._baseSnapshotEndpoint,"batch","start",a.default.toUrlString(e),"end",a.default.toUrlString(t)].join("/"),n=d.default.getInstance(),o={format:"json",siteId:n.getWebSiteId(),locale:n.getMiddlewareLocale()};return(0,s.isNumber)(this._version)&&(o.version=this._version),(0,r.build)(i,o)}}t.default=u},17757:(e,t,i)=>{"use strict";var n=i(15215).Bx;Object.defineProperty(t,"__esModule",{value:!0}),t.expandNumberOfPointsToRequest=t.alignToResolutionMultiple=t.MIN_REQUEST_SIZE_BLOCKS=void 0;const s=n(i(23806));function r(e){const i=e[0];return i.isFirstOfInstrument()||i.index%t.MIN_REQUEST_SIZE_BLOCKS==0}function o(e){const i=e[e.length-1],n=t.MIN_REQUEST_SIZE_BLOCKS-1;return i.isLastOfInstrument()||i.index%t.MIN_REQUEST_SIZE_BLOCKS===n}t.MIN_REQUEST_SIZE_BLOCKS=5,t.alignToResolutionMultiple=function(e){if(!e.length)return e;for(;!r(e);)e.unshift(e[0].previous);for(;!o(e);)e.push(e[e.length-1].next);return e},t.expandNumberOfPointsToRequest=function(e){const i=t.MIN_REQUEST_SIZE_BLOCKS*s.default.PERIODS_PER_BLOCK;return Math.ceil(e/i)*i}},4862:(e,t,i)=>{"use strict";var n=i(15215).Bx;Object.defineProperty(t,"__esModule",{value:!0}),t.getBaseEndpoint=void 0;const s=i(10094),r=i(46623),o=n(i(23685)),a=n(i(17660)),l=n(i(76040));function d(){return(a.default.getInstance().isAnonymous()?"/public":"")+"/chart/snapshot"}function u(e,t){const i=function(e,t){const i=e.instrumentModel,n=(0,s.isNumber)(i.instrumentVersion)&&(0,s.isNumber)(i.delayTime);return[d(),e.getEpic(),e.resolution.multiple,e.resolution.periodUnit,n?"combined-cached":"combined",t].join("/")}(e,t),n=e.instrumentModel,o=a.default.getInstance(),l={format:"json",siteId:o.getWebSiteId(),locale:o.getMiddlewareLocale()};if((0,s.isNumber)(n.instrumentVersion)&&(l.version=n.instrumentVersion),(0,s.isNumber)(n.delayTime)&&(l.delay=n.delayTime),!l.siteId||!l.locale)throw new Error(`Not enough info to make call to combined service: ${JSON.stringify(l)}`);return(0,r.build)(i,l)}t.getBaseEndpoint=d;class c extends o.default{static create(e){return new c(e)}loadInstrumentData(e,t,i,n){const s={};n&&(s["EXPLICIT-ACCOUNT-ID"]=n),this._executeRequest({hash:e.instrumentResolutionGuid,endpoint:u(e,i),success:this._handleInstrumentData.bind(this,e,t),headers:s})}abort(e){this._abortRequest(e.instrumentResolutionGuid)}_handleInstrumentData(e,t,i,n){const s=e.resolution,r=n.instrumentInfoDto.delay*l.default.Periods.MINUTE,o=Math.floor(r/s.period)*s.period;n.intervalsDto.currentCandleTimestamp-=o,t(n)}}t.default=c},84247:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=class{constructor(e,t,i){this.instrumentResolution=e,this.intervals=t,this.jsonInstrumentData=i}}},39185:(e,t,i)=>{"use strict";var n=i(15215).Bx;Object.defineProperty(t,"__esModule",{value:!0});const s=i(17757),r=n(i(4862)),o=n(i(35301)),a=i(8611),l=n(i(47272)),d=n(i(84247)),u=n(i(74893)),c=n(i(31764)),h=(0,s.expandNumberOfPointsToRequest)((0,a.keenlyExpandNumberOfPointsToRequest)(o.default.INITIAL_NUMBER_OF_POINTS_SHOWN));t.default=class{constructor(e){this._combinedCallClient=r.default.create(e),this._pendingRequests=Object.create(null)}load(e,t,i){const n={callback:t,remainingResponses:e.length,responses:[]};e.forEach((e=>{this._pendingRequests[e.instrumentResolutionGuid]=n,this._requestData(e,i)}))}abort(e){e.forEach((e=>this._removePendingRequest(e)))}abortAll(){this._combinedCallClient.abortAll(),this._pendingRequests=Object.create(null)}destroy(){this._combinedCallClient&&(this._combinedCallClient.destroy(),delete this._combinedCallClient),delete this._pendingRequests}_removePendingRequest(e){const t=this._pendingRequests[e.instrumentResolutionGuid];this._combinedCallClient.abort(e),t&&(delete this._pendingRequests[e.instrumentResolutionGuid],(t.remainingResponses-=1)||t.callback(t.responses))}_requestData(e,t){this._combinedCallClient.loadInstrumentData(e,(t=>this._handleCombinedCallResponse(e,t)),h,t)}_handleCombinedCallResponse(e,t){const i=(e.resolution===u.default.values.TICK?c.default.create():l.default.create()).formatToIntervals(t,e.resolution),n=this._pendingRequests[e.instrumentResolutionGuid];delete this._pendingRequests[e.instrumentResolutionGuid],n.responses.push(new d.default(e,i,t)),(n.remainingResponses-=1)||n.callback(n.responses)}}},4215:(e,t,i)=>{"use strict";var n=i(15215).Bx;Object.defineProperty(t,"__esModule",{value:!0});const s=n(i(23806)),r=n(i(40975)),o=n(i(38153)),a=n(i(88045)),l=n(i(65569)),d=i(33236);class u{constructor(e){this._instrumentResolution=e}static create(e){return new u(e)}destroy(){try{this._instrumentResolution.streamingClient.flushDataBuffering()}catch(e){a.default.warn("Blocks have probably changed: ",e.message)}this.stopListening(),delete this._instrumentResolution}startListening(e){const t=e?d.PointType.PRICES:d.PointType.PRICES_DERIVATIVE,i=this._instrumentResolution.getCurrentDataPoint(t);this._instrumentResolution.streamingClient.beginDataBuffering(),i?this._fillDataGapFrom(i):this._instrumentResolution.on(`${o.default.CURRENT_DATA_POINT_CHANGED}-${t}`,this._fillDataGapFrom,this,{once:!0})}stopListening(){var e;this._instrumentResolution.un(null,this),this._instrumentResolution.streamingClient.un(null,this),null===(e=this._instrumentResolution.instrumentModel.chartModel)||void 0===e||e.un(null,this)}_fillDataGapFrom(e){if(e){const t=this._instrumentResolution.streamingClient,i=t.getFirstBufferedPrice();i?this._requestDataGap(e,i):t.on(l.default.FIRST_BUFFERED_PRICE,this._requestDataGap.bind(this,e),this,{once:!0})}}_requestDataGap(e,t){const i=this._instrumentResolution,n=e.date,s=new Date(parseInt(t.UTM,10));let r=[];s>n&&(i.expandForwardToContainDateAndNotify(s,[],!1),r=i.blocks.slice(i.findBlockContainingDate(n).index,i.findBlockContainingDate(s).index+1)),this._requestDataGapForBlocks(r)}_requestDataGapForBlocks(e){const t=this._instrumentResolution;let i;for(0===e.length&&this._handleDataGapFilled(),i=0;i<e.length;i++)e[i].loading=s.default.LOADING_NOT_STARTED;t.on(o.default.HCD_DATA_POINTS_LOADED,this._handleDataGapFilled,this,{once:!0}),t.hcdClient.loadDataForBlocks(e)}_handleDataGapFilled(){this._instrumentResolution.streamingClient.flushDataBuffering(),this._listenForSubsequentDataGaps()}_listenForSubsequentDataGaps(){var e;this._handleCurrentPriceChanged(this._instrumentResolution.getCurrentDataPoint("prices")),this._instrumentResolution.on(`${o.default.CURRENT_DATA_POINT_CHANGED}-prices`,this._handleCurrentPriceChanged,this),null===(e=this._instrumentResolution.instrumentModel.chartModel)||void 0===e||e.on(r.default.STREAMING_STATUS_CHANGED,this._handleStreamingStatusChanged,this)}_handleCurrentPriceChanged(e){this._lastPriceDataPoint=e}_handleStreamingStatusChanged(e){var t;e||(this._instrumentResolution.un(null,this),null===(t=this._instrumentResolution.instrumentModel.chartModel)||void 0===t||t.un(null,this),this._instrumentResolution.streamingClient.beginDataBuffering(),this._fillDataGapFrom(this._lastPriceDataPoint))}}t.default=u},18822:(e,t,i)=>{"use strict";var n=i(15215).Bx;t.f6=t.Xp=void 0;const s=i(43130),r=n(i(54364)),o=i(41943),a=n(i(23685)),l=n(i(72957)),d=n(i(23806)),u=n(i(38712)),c=i(9525),h=n(i(88045)),p=n(i(74893)),_=n(i(10091));function g(e,t){return e[0].index-t[0].index}t.Xp=100,t.f6="hcdDataPointsLoaded";class f extends a.default{constructor(e,i,n,s,o){super(o),this._cachableRequestPolicy=e=>e,this._ssoToken=e,this._resolution=n,this._instrumentResolutionGuid=s,this._batchDataClient=l.default.create(i,n,o,s),this._trailingPointClient=_.default.create(this._resolution),this._queuedLoadingCalls=[],this._deferredFlushQueue=c.schedule.throttle(this._flushQueue,t.Xp),this._deferredFlushQueueAfterError=c.schedule.debounce(this._flushQueue,r.default.getNextTryDelay)}static create(e,t,i,n,s){return new f(e,t,i,n,s)}withCacheableRequestPolicy(e){return this._cachableRequestPolicy=e,this}withVersion(e){return this._batchDataClient.withVersion(e),this}destroy(){this._deferredFlushQueue.cancel(),this._deferredFlushQueueAfterError.cancel(),this._batchDataClient.destroy(),super.destroy()}loadDataForBlocks(e){if(!e.length)return;const t=e.filter(this._canBeRequested,this);let i=u.default.chunkContiguousBlocks(t);i=i.map((e=>(e=this._cachableRequestPolicy(e),(0,o.firstOf)(e).getHCDPreNeighbours().concat(e).concat((0,o.lastOf)(e).getHCDPostNeighbours())))),i.forEach(this._loadDataForChunk,this)}loadTrailingPoints(e,t,i){const n=this._trailingPointClient.loadTrailingPoints(e,t,i);this.loadDataForBlocks(n)}requestMissingTrailingBlocks(){const e=this._trailingPointClient.getTrailingBlocks();this.loadDataForBlocks(e)}_loadDataForChunk(e){this._changeNotStartedBlocksState(e,d.default.QUEUED_FOR_LOADING),this._queuedLoadingCalls.push(e),this._deferredFlushQueue(),this._deferredFlushQueueAfterError.cancel()}_flushQueue(){this._queuedLoadingCalls.sort(g);this._mergeAdjacentChunks(this._queuedLoadingCalls).forEach(this._loadDataForContiguousBlocks,this),this._queuedLoadingCalls=[]}_mergeAdjacentChunks(e){const t=this._resolution!==p.default.values.TICK,{period:i}=this._resolution,n=[];if(e.length){let r,o,a,l=0;for(let d=0;d<e.length;d++)if(o=(0,s.first)(e[d]),a=(0,s.last)(e[d]),t){let e;if(!r||o.index>r[1].index+1?(r=[o,o],n.push(r),l=Math.floor((o.duration-1)/i),o!==a&&(e=o)):a.index>r[1].index&&(e=r[1]),e)for(;e=e.next;){const t=Math.floor(e.duration/i);if(l+t<=9e3?(l+=t,r[1]=e):(r=[e,e],n.push(r),l=t),e===a)break}}else!r||o.index>r[1].index+1?(r=[o,a],n.push(r)):a.index>r[1].index&&(r[1]=a)}return n}_changeNotStartedBlocksState(e,t){if(!e.length)return;const i=(0,o.lastOf)(e);let n=e[0];for(;n&&n.index<=i.index;)this._canBeRequested(n)&&(n.loading=t),n=n.next}_canBeRequested(e){return!e.loading.started}_loadDataForContiguousBlocks(e){this._changeNotStartedBlocksState(e,d.default.LOADING);const t=e[0],i=e[1],n=t.start,s=this._modelEndDateToServerEndDate(i.end);h.default.debug("requesting historic data in range",n,"to",s),this._batchDataClient.getDataFromDateRange(n,s,this._handleDataForContiguousBlocksLoaded.bind(this,t,i),this._handleDataForContiguousBlocksFailed.bind(this,t,i))}_handleDataForContiguousBlocksLoaded(e,i,n,s){this.fire(t.f6,s,e,i)}_handleDataForContiguousBlocksFailed(e,t,i,n,s,r){this._queuedLoadingCalls.push([e,t]),this._deferredFlushQueueAfterError()}_modelEndDateToServerEndDate(e){return new Date(e.getTime()-1)}}t.Ay=f},65569:(e,t,i)=>{"use strict";var n=i(15215).Bx;Object.defineProperty(t,"__esModule",{value:!0});const s=i(43130),r=n(i(94776)),o=i(41943),a=n(i(23585)),l=n(i(77209)),d=n(i(30992)),u=n(i(88045)),c=n(i(74893)),h=n(i(289)),p=n(i(39842));class _ extends h.default{constructor(e){super(),this._streamingRate=2.1,this._resolution=e,this._priceAdapter=this._createPriceAdapter()}withInstrumentResolution(e){return this._instrumentResolution=e,this}usePriceCalculator(e){this._priceAdapter.usePriceCalculator(e)}startListening(e){return this._lightStreamerSubscription=r.default.subscribe(this._subscriptionString(e),this._getFids(),"DISTINCT",this._handleUpdateFromLightstreamer.bind(this),this._streamingRate,p.default.getInstance().getDataAdaptor()),this}stopListening(){return this._lightStreamerSubscription&&(this._lightStreamerSubscription.unsubscribe(),this._lightStreamerSubscription=null),this}beginDataBuffering(){return this._dataBuffer||(this._dataBuffer=[]),this}flushDataBuffering(){if(this._dataBuffer){const e=this._dataBuffer;this._dataBuffer=null,this._processPointsWithReporting(e)}return this}getFirstBufferedPrice(){return this._dataBuffer&&this._dataBuffer.length?this._dataBuffer[0]:null}_subscriptionString(e){const t=[];return t.push(e.epic),t.push(this._resolution.periodUnit),t.push(this._resolution.multiple),e.status===d.default.STATUS_DELAYED?t.push(d.default.STATUS_DELAYED):t.push(""),this._resolution===c.default.values.DAY?t.push(this._instrumentResolution.info.getChartServiceTimezone()):t.push(""),`CHARTS|${t.join("|")}|${this._getFids().join("|")}`}_handleUpdateFromLightstreamer(e){const t=this._getFids(),i={UTM:null};let n;for(let r=0;r<t.length;r++)n=t[r],i[n]=e.getValue(n);const s=parseInt(i.UTM,10);isNaN(s)?u.default.warn("Cannot find matching block for Lightstreamer point: ",JSON.stringify(i)):(this._dataBuffer?(this._dataBuffer.push(i),1===this._dataBuffer.length&&this.fire(_.FIRST_BUFFERED_PRICE,i)):this._processPointsWithReporting([i]),this.fire(_.LS_UPDATE,e))}_processLightstreamerPoints(e){let t,i,n,r=[];for(n=0;n<e.length;n++){i=new Date(parseInt(e[n].UTM,10)),t=this._instrumentResolution.findBlockContainingDate(i);try{(0,o.inPlaceConcat)(r,this._priceAdapter.convertToDataPoints(t,e[n]))}catch(a){u.default.warn("Invalid point from lightstreamer: ",a.message,JSON.stringify(e[n]))}}r=r.filter(s.identity),r.length&&this.fire(l.default.POINTS_LOADED,r)}_processPointsWithReporting(e){a.default.captureError(this._processLightstreamerPoints.bind(this,e),this._reportError.bind(this,e))}_reportError(e,t){u.default.error(t,e)}}_.FIRST_BUFFERED_PRICE="firstBufferedPrice",_.LS_UPDATE="lsUpdate",t.default=_},43718:(e,t,i)=>{"use strict";var n=i(15215).Bx,s=i(15215).Cg;Object.defineProperty(t,"__esModule",{value:!0}),t.RESILIENCE_SETUP=t.getDeviceID=t.generateDeviceID=void 0;const r=i(43130),o=n(i(81636)),a=i(22690),l=n(i(85673)),d=n(i(65854)),u=i(4185),c=i(97292),h=i(96001),p=n(i(88045)),_=i(40423),g=n(i(92631)),f=n(i(17660));var m;function v(){const e=l.default.getInstance(),t=f.default.getInstance(),i=(0,h.hash)((0,r.compact)([t.getAccountId(),e.asJSON().clientType,e.getClientPlatform(),e.getClientVersion(),e.asJSON().osType,e.asJSON().osVersion]).join("|"));return(0,c.getGuid)(i)}function A(){return g.default.create("layout").get("deviceId")||"DESKTOP"}function E(e,t,i){const n=i.value;i.value=function(...e){return f.default.getInstance().isAnonymous()?Promise.resolve():n.apply(this,e)}}!function(e){e.LIST_SETTINGS="/settings?settingsType=LIST",e.GET_SETTINGS="/settings?settingsType=ALL",e.SET_SETTINGS="/settings?settingsType=CREATE_OR_UPDATE",e.DELETE_SETTINGS="/settings?settingsType=DELETE"}(m||(m={})),t.generateDeviceID=v,t.getDeviceID=A,t.RESILIENCE_SETUP=Object.freeze({timeout:1e4,retry:{retries:5,backOff:(0,a.exponentialBackoff)(1e3),validator:e=>404===e.status||(0,a.defaultValidator)(e)}});class T extends o.default{constructor(e,t,i,n){super(),this._eventBus=e,this._parsingMapAccount=t,this._parsingMapChart=i,this._parsingMapMarket=n,this._localStorage=g.default.create("layout")}static create(...e){return new T(...e)}loadCombinedSettings(e,t,i){return this._loadSettings({[_.SaveLevel.Account]:"",[_.SaveLevel.Chart]:e,[_.SaveLevel.Market]:t},i)}loadMarketSettings(e){return this._loadSettings({[_.SaveLevel.Market]:e})}loadChartSettings(e,t){return this._loadSettings({[_.SaveLevel.Chart]:e},t)}loadSavedChartSettings(e,t){return this._loadSettings({[_.SaveLevel.SavedChart]:e},!1,t)}loadAccountSettings(){return this._loadSettings({[_.SaveLevel.Account]:""})}listSavedChartSettings(){if(f.default.getInstance().isAnonymous())return Promise.resolve({list:[],fallback:!0});const e=this._endpointToURL(m.LIST_SETTINGS);return e.searchParams.set("settingKey",_.SaveLevel.SavedChart),e.searchParams.set("locale",f.default.getInstance().getLocale()),this._makeRequest(e,Object.assign({method:"GET",hash:`list|${_.SaveLevel.SavedChart}`},t.RESILIENCE_SETUP)).then((function(e){if(e.ok||304===e.status)return e.json();throw e})).then((e=>({fallback:!1,list:[{settingId:(0,u.getDefaultTemplateName)(),settings:{label:(0,u.getDefaultTemplateName)(),type:"SYSTEM"}},...e[_.SaveLevel.SavedChart].settings.map((({settingId:e})=>({settingId:e,settings:{label:e,type:"USER"}})))]}))).catch((e=>{let t=!0;if(e instanceof Error&&"AbortError"===(null==e?void 0:e.name))throw e;return e instanceof Response&&404===e.status&&(t=!1),{fallback:t,list:[{settingId:(0,u.getDefaultTemplateName)(),settings:{label:(0,u.getDefaultTemplateName)(),type:"SYSTEM"}}]}}))}saveMarketSettings(e,t){return this._saveSettings(_.SaveLevel.Market,e,t)}saveChartSettings(e,t){return this._saveSettings(_.SaveLevel.Chart,e,t,A())}saveSavedChartSettings(e,t){const i=e.trim();return e.length!==i.length&&(e=i,p.default.warn("Saved template name is being trimmed at service level; investigate and add trimming at source")),this._saveSettings(_.SaveLevel.SavedChart,e,t)}saveAccountSettings(e){return this._saveSettings(_.SaveLevel.Account,"",e)}deleteChartSettings(e){return this._deleteSettings(_.SaveLevel.Chart,e)}deleteSavedChartSettings(e){return this._deleteSettings(_.SaveLevel.SavedChart,e)}_endpointToURL(e){const t=super._endpointToURL(e),{forceMigratedSettings:i}=d.default.getInstance().getFlags();return void 0!==i&&t.searchParams.set("forceMigrated",`${i}`),t}_loadSettings(e,i,n){if(f.default.getInstance().isAnonymous())return Promise.resolve(this._parseServiceResponse(Object.keys(e),{fallback:!0}));l.default.isMobileNativeWebViewHost()&&l.default.isMobile()&&!this._localStorage.has("deviceId")&&this._localStorage.set("deviceId",v());const s=this._endpointToURL(m.GET_SETTINGS);for(const[t,o]of Object.entries(e))t===_.SaveLevel.Chart?s.searchParams.set(t,`${o}|${A()}`):s.searchParams.set(t,`${o}`);if(n)for(const[t,o]of Object.entries(n))s.searchParams.set(t,o);i&&s.searchParams.set("chartRetrieveLatestWithKey",A());const r=`load|${Object.entries(e).map((e=>e.join("="))).join("|")}`;return this._makeRequest(s,Object.assign({hash:r,method:"GET"},t.RESILIENCE_SETUP)).then((function(e){if(e.ok||304===e.status)return e.json().then((e=>Object.assign(e,{fallback:!1})));throw e})).catch((function(e){if(e instanceof Error&&"AbortError"===(null==e?void 0:e.name))throw e;return e instanceof Response&&404===e.status?{fallback:!1}:{fallback:!0}})).then((t=>this._parseServiceResponse(Object.keys(e),t)))}_parseServiceResponse(e,t){var i;const n={fallback:t.fallback};for(const r of e)try{n[r]=this._parseSettings(r,(null===(i=null==t?void 0:t[r])||void 0===i?void 0:i.settings)||(0,u.getDefaultSettings)(r))}catch(s){n[r]=this._parseSettings(r,(0,u.getDefaultSettings)(r)),n.fallback=!0}return n}_parseSettings(e,t){e===_.SaveLevel.SavedChart&&(e=_.SaveLevel.Chart);const i=`_parsingMap${e.charAt(0).toUpperCase()}${e.slice(1)}`;return(0,_.parseLayoutModules)(t,this[i],this._eventBus,!0)}_saveSettings(e,i,n,s){const r=e===_.SaveLevel.Chart?`${i}|${A()}`:`${i}`;try{const o=Object.assign({settingKey:e,saveLatestWithKey:s,settings:n},e!==_.SaveLevel.Account?{settingId:r}:{}),a=JSON.stringify(o);return this._makeRequest(this._endpointToURL(m.SET_SETTINGS),Object.assign({hash:`save|${e}=${i}`,method:"POST",body:a,headers:{"Content-Type":"application/json","Content-Length":a.length.toString()}},t.RESILIENCE_SETUP)).then((()=>{}))}catch(o){return Promise.reject(o)}}_deleteSettings(e,i){const n=this._endpointToURL(m.DELETE_SETTINGS);return n.searchParams.set(e,`${i}`),this._makeRequest(n,Object.assign({hash:`delete|${e}=${i}`,method:"DELETE"},t.RESILIENCE_SETUP)).then((()=>{}))}abort(e,t){if(t){const t=e.split("|");Object.keys(this._requests).filter((e=>t.every((t=>e.indexOf(t)>-1)))).forEach((e=>this.abort(e)))}else super.abort(e)}}s([E],T.prototype,"_saveSettings",null),s([E],T.prototype,"_deleteSettings",null),t.default=T},4413:(e,t,i)=>{"use strict";var n=i(15215).Bx;Object.defineProperty(t,"__esModule",{value:!0});const s=n(i(74925)),r=n(i(65569)),o=n(i(42039));class a extends r.default{_createPriceAdapter(){return new o.default}_getFids(){return[s.default.UTM,s.default.LTV,s.default.FIDS.BID.OPEN,s.default.FIDS.BID.CLOSE,s.default.FIDS.BID.HIGH,s.default.FIDS.BID.LOW,s.default.FIDS.OFFER.OPEN,s.default.FIDS.OFFER.CLOSE,s.default.FIDS.OFFER.HIGH,s.default.FIDS.OFFER.LOW,s.default.FIDS.LTP.OPEN,s.default.FIDS.LTP.CLOSE,s.default.FIDS.LTP.HIGH,s.default.FIDS.LTP.LOW,s.default.FIDS.DAY.NET_CHG_MID,s.default.FIDS.DAY.PERC_CHG_MID]}}t.default=a},42786:(e,t,i)=>{"use strict";var n=i(15215).Bx;Object.defineProperty(t,"__esModule",{value:!0});const s=n(i(65569)),r=n(i(85546));class o extends s.default{constructor(){super(...arguments),this._streamingRate=5}_createPriceAdapter(){return new r.default}_getFids(){return["UTM","LTV","BID","OFR","LTP"]}}t.default=o},72542:(e,t,i)=>{"use strict";const n=(0,i(15215).Bx)(i(4215));class s extends n.default{static create(e){return new s(e)}_listenForSubsequentDataGaps(){}}t.A=s},10091:(e,t,i)=>{"use strict";var n=i(15215).Bx;Object.defineProperty(t,"__esModule",{value:!0});const s=i(41943),r=n(i(38712)),o=n(i(58146)),a=n(i(74893)),l=n(i(98966)),d=1.5,u=10;function c(e){let t=e;for(;t.previous&&t.previous.loading.loaded;)t=t.previous;return t}function h(e,t,i){const n=r.default.getTrailingPoints(e,t,i);return Math.max(i-n.points.length,0)}function p(e,t){switch(e){case a.default.values.TICK:return t*l.default.ACCTIME_INCREMENT;case a.default.values.SECOND:return t*e.period*u;default:return t*e.period*d}}class _{constructor(e){this._indexToBlockAndTrailingPoints=Object.create(null),this._resolution=e}static create(e){return new _(e)}loadTrailingPoints(e,t,i){const n=this._indexToBlockAndTrailingPoints[e.index];return n&&n.numberOfTrailingPoints<i?n.numberOfTrailingPoints=i:this._indexToBlockAndTrailingPoints[e.index]={block:e,pointType:t,numberOfTrailingPoints:i},this.getTrailingBlocks()}getTrailingBlocks(){const e=[];for(const t in this._indexToBlockAndTrailingPoints){const i=this._indexToBlockAndTrailingPoints[t],n=h(i.block,i.pointType,i.numberOfTrailingPoints);if(n>0){const t=c(i.block),s=t.accStart-p(this._resolution,n);e.push(t.findPreviousBlocksUntilAccTime(s))}else delete this._indexToBlockAndTrailingPoints[t]}return(0,s.unique)((0,s.flatten)(e)).sort(o.default.naturalOrder)}}t.default=_},92867:(e,t,i)=>{"use strict";var n=i(15215).Bx,s=i(15215).ut,r=i(15215).Tt;Object.defineProperty(t,"__esModule",{value:!0}),t.DEFAULT_TEMPLATE_PARSING_MAP=t.SETTINGS_REQUEST_ERROR=void 0;const o=i(43130),a=n(i(86598)),l=n(i(45090)),d=n(i(77209)),u=i(9525),c=i(22690),h=n(i(91768)),p=s(i(43718)),_=n(i(73731)),g=n(i(18299)),f=n(i(81911)),m=n(i(289)),v=n(i(60631)),A=i(40423),E=n(i(17660));class T extends m.default{constructor(e){super(),this._settingsEpic={},this._settingsTemplate={},this._tempSettingsEpic={},this._tempSettingsTemplate={},this._persistenceAllowed=null,this._parsingMapEpic=O(e,"epic"),this._parsingMapAccount=O(e,"global"),this._parsingMapTemplate=(0,o.merge)({},t.DEFAULT_TEMPLATE_PARSING_MAP,O(e,"template")),this._settingsEventBus=l.default.create(),this._settingsclient=p.default.create(this._settingsEventBus,this._parsingMapAccount,this._parsingMapTemplate,this._parsingMapEpic),this._settingsEventBus.subscribe(d.default.REQUEST_ERROR,(0,u.bubbler)(t.SETTINGS_REQUEST_ERROR),this);const i=e=>{"accountId"===e&&null===this._persistenceAllowed&&(this._persistenceAllowed=!E.default.getInstance().isAnonymous(),E.default.getInstance().un(null,this))};E.default.getInstance().getAccountId()?i("accountId"):E.default.getInstance().on(E.default.CHANGED,i,this)}static create(e){return new T(e.modules)}static createFromConfigs(e){if(e&&1===e.length)return T.create(e[0]);const t=(0,o.map)(e,"modules"),i=(0,o.merge)({},...t);return function(e,t){for(const i of e)for(const e of Object.keys(i)){const n=i[e].settingsOptions,s=t[e].settingsOptions;if(n&&!(0,o.isEqual)((0,o.merge)({},n,s),(0,o.merge)({},s,n)))throw new Error("Settings options mismatch.")}}(t,i),new T(i)}getEpicSpecificSettings(e,t){return I(t,this._tempSettingsEpic[e],this._settingsEpic[e],this._parsingMapEpic,this._settingsEventBus)}getTemplateSettings(e,t){return I(t,this._tempSettingsTemplate[e],this._settingsTemplate[e],this._parsingMapTemplate,this._settingsEventBus)}getAccountSettings(e){return I(e,this._tempSettingsAccount,this._settingsAccount,this._parsingMapAccount,this._settingsEventBus)}changeEpicSpecificSettings(e,t,i,n,s){C(i,n,s,this.getEpicSpecificSettings(t,i),this._settingsEpic[t])&&(this._persistenceAllowed&&s&&this._settingsclient.saveMarketSettings(t,this._settingsEpic[t]).catch(c.ignoreAbort),this.notifyOfEpicChange(t,e))}changeTemplateSettings(e,t,i,n,s){C(t,i,!!n,this.getTemplateSettings(e,t),this._settingsTemplate[e])&&(this._persistenceAllowed&&n&&s!==f.default.DISABLED&&this._settingsclient.saveChartSettings(e,this._settingsTemplate[e]).catch(c.ignoreAbort),this._lastSavedChartSettings=this._settingsTemplate[e],this.notifyOfTemplateChange(e,t))}changeAccountSettings(e,t,i){C(e,t,i,this.getAccountSettings(e),this._settingsAccount)&&(this._persistenceAllowed&&i&&this._settingsclient.saveAccountSettings(this._settingsAccount),this.notifyOfAccountChange(e))}removeSettings(e){delete this._settingsTemplate[e],delete this._tempSettingsTemplate[e]}resetTemplateSettings(e,t){this._tempSettingsTemplate[e][t]&&(delete this._tempSettingsTemplate[e][t],this.notifyOfTemplateChange(e,t))}hasEpicSettings(e){return!!this._settingsEpic[e]}hasSettings(e){return!!this._settingsTemplate[e]}hasAccountSettings(){return!!this._settingsAccount}notifyOfEpicLoaded(e){this.hasEpicSettings(e)&&this.fire(_.default.EPIC_SETTINGS_LOADED,e)}notifyOfEpicChange(e,t){this.hasEpicSettings(e)&&this.fire(_.default.EPIC_SETTINGS_CHANGED,e,t)}notifyOfTemplateChange(e,t){this.hasSettings(e)&&this.fire(_.default.LAYOUT_SETTINGS_CHANGED,e,t)}notifyOfAccountChange(e){this._settingsAccount&&this.fire(_.default.GLOBAL_SETTINGS_CHANGED,e)}loadSettings(e,t,i,n,s={}){if(t)if(this.hasSettings(e))this.hasEpicSettings(t)?this._onEpicSettingsLoaded(t,this._settingsEpic[t]):this._settingsclient.loadMarketSettings(t).then((({market:e,fallback:i})=>{i&&this._updatePersistenceState(!1),this._onEpicSettingsLoaded(t,e)}),c.ignoreAbort);else{const r=n===f.default.DISABLED&&i===g.default.FROM_CACHE||n===f.default.ON_LOAD;i===g.default.FROM_CACHE&&this.hasAccountSettings()&&!!this._lastSavedChartSettings?this.hasEpicSettings(t)?this._onEpicSettingsLoadedWithCaching(t,this._settingsEpic[t],e,n):this._settingsclient.loadMarketSettings(t).then((({market:i,fallback:s})=>{s&&this._updatePersistenceState(!1),this._onEpicSettingsLoadedWithCaching(t,i,e,n)}),c.ignoreAbort):this._settingsclient.loadCombinedSettings(e,t,r).then((({account:n,chart:r,market:o,fallback:a})=>{const l=M(r);a&&this._updatePersistenceState(!1),s.chartSettingId?this._overrideLoadedSettings(e,s.chartSettingId,t,i,l,n,o):this._onSettingsLoaded(e,t,i,l,n,o)}),c.ignoreAbort)}else this._settingsclient.abort(`${A.SaveLevel.Chart}=${e}`,!0)}abortAll(e,t){this._settingsclient.abort(`${A.SaveLevel.Chart}=${e}${(null==t?void 0:t.length)?`|${A.SaveLevel.Market}=${t}`:""}`)}_onEpicSettingsLoaded(e,t){this._settingsEpic[e]=t,this._tempSettingsEpic[e]={},this.notifyOfEpicChange(e),this.notifyOfEpicLoaded(e)}_onEpicSettingsLoadedWithCaching(e,t,i,n){this._settingsTemplate[i]=Object.assign({},this._lastSavedChartSettings),this._tempSettingsTemplate[i]={},this._notifyOfTemplateSettingsLoaded(i),this._notifyOfAccountSettingsLoaded(),this._onEpicSettingsLoaded(e,t),n===f.default.ON_LOAD&&this._settingsclient.saveChartSettings(i,this._settingsTemplate[i]).catch(c.ignoreAbort)}copySettings(e,t,i){this._settingsclient.saveSavedChartSettings(e,this._settingsTemplate[t]).then(i,c.ignoreAbort)}_handleTemplateImported(e,t){this._settingsTemplate[e]=t,this._tempSettingsTemplate[e]={},this._notifyOfTemplateSettingsLoaded(e),this.fire(_.default.LAYOUT_SETTINGS_IMPORTED,e)}_onSettingsLoaded(e,t,i,n,s,r){this.hasAccountSettings()||(this._settingsAccount=s,this._tempSettingsAccount={}),i===g.default.FROM_CACHE&&(this._lastSavedChartSettings=n),this._settingsTemplate[e]=n,this._tempSettingsTemplate[e]={},this._notifyOfTemplateSettingsLoaded(e),this._notifyOfAccountSettingsLoaded(),this._onEpicSettingsLoaded(t,r)}_overrideLoadedSettings(e,t,i,n,s,r,o){this._settingsclient.loadChartSettings(t).then((({chart:t,fallback:a})=>{const l=M(t||s);a&&this._updatePersistenceState(!1),this._onSettingsLoaded(e,i,n,l,r,o)}))}_notifyOfTemplateSettingsLoaded(e){(0,o.each)(this._parsingMapTemplate,((t,i)=>{this.notifyOfTemplateChange(e,i)}))}_notifyOfAccountSettingsLoaded(){(0,o.each)(this._parsingMapAccount,((e,t)=>{this.notifyOfAccountChange(t)}))}_updatePersistenceState(e){const t=this._persistenceAllowed;this._persistenceAllowed=e,e!==t&&this.fire(_.default.PERSISTENCE_CHANGED,e)}getTemplateList(e){this._settingsclient.listSavedChartSettings().then((({list:t})=>e(t.map((e=>({id:e.settingId,label:e.settings.label,type:e.settings.type}))))),c.ignoreAbort)}exportToTemplate(e,t,i,n){this._persistenceAllowed?this._settingsclient.saveSavedChartSettings(t,Object.assign({containerId:`${e}|${(0,p.getDeviceID)()}`},M(this._settingsTemplate[e]))).then(i,c.ignoreAbort).catch(n):n()}importFromTemplate(e,t,i,n,s){this._settingsclient.loadSavedChartSettings(t,{templateId:`${t}`,systemTemplate:`${"SYSTEM"==i}`,locale:E.default.getInstance().getLocale(),containerId:`${e}|${(0,p.getDeviceID)()}`}).then((({saved_chart:t,fallback:i})=>{const s=M(t);i&&this._updatePersistenceState(!1),this._settingsclient.saveChartSettings(e,s).then((()=>{this._handleTemplateImported(e,s),n()}),c.ignoreAbort)}),c.ignoreAbort).catch(s)}deleteTemplate(e){this._settingsclient.deleteSavedChartSettings(e)}destroy(){E.default.getInstance().un(null,this),super.destroy(),this._settingsclient.destroy(),this._settingsEventBus.destroy();for(const e of["_parsingMapEpic","_parsingMapTemplate","_parsingMapAccount","_settingsEpic","_settingsTemplate","_settingsAccount","_tempSettingsEpic","_tempSettingsTemplate","_tempSettingsAccount","_settingsclient","_settingsEventBus"])delete this[e]}}function I(e,t,i,n,s){let r,o=(t=t||{})[e];return o||(i&&(r=i[e])?r instanceof v.default||(o=t[e]=r.clone()):n[e]&&(o=t[e]=new n[e].type(null,s,n[e].options),i&&(i[e]=new n[e].type(null,s,n[e].options)))),o||null}function C(e,t,i,n,s){let r=!1,o=!1;if(i&&!s)throw new Error("Settings not loaded yet!");if(!n)throw new Error(`Attempting to change settings in module ${e}", but no such module is handled`);if(r=t(n),"boolean"!=typeof r)throw new Error("Change function must return a boolean to indicate if something has changed");if(i&&(o=t(s[e]),"boolean"!=typeof o))throw new Error("Change function must return a boolean to indicate if something has changed");return r||o}function O(e,t){const i={};return(0,o.each)(e,(e=>{if(e.type.settingsParsers&&e.type.settingsParsers[t]){const n=e.type.settingsParsers[t];if(i[n.moduleName])throw new Error(`Parsing class for "${n.moduleName}" in ${t} map has already been set.`);i[n.moduleName]={type:n.parserClass,options:e.settingsOptions?e.settingsOptions[t]:void 0}}})),Object.freeze(i)}function M(e){const{global:t,isAutomaticTemplate:i,isDefault:n,label:s,type:o,description:a,deviceId:l}=e;return r(e,["global","isAutomaticTemplate","isDefault","label","type","description","deviceId"])}t.default=T,t.SETTINGS_REQUEST_ERROR="REQUEST_ERROR",t.DEFAULT_TEMPLATE_PARSING_MAP=Object.freeze({coreModule:Object.freeze({type:a.default}),indicatorModule:Object.freeze({type:h.default})})},23369:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getDefaultAccountSettings=void 0;const n=i(43130),s={tradingModule:{isOpenPositionEnabled:!0,isWorkingOrdersEnabled:!0}};t.getDefaultAccountSettings=function(){return(0,n.merge)({},s)}},14630:(e,t,i)=>{"use strict";var n=i(15215).Bx;Object.defineProperty(t,"__esModule",{value:!0}),t.getDefaultChartSettings=void 0;const s=i(43130),r=n(i(17660)),o={coreModule:{resolution:{scale:"DAY",multiplier:1},seriesType:"CANDLE_STICK",priceType:"LAST_TRADED",scaleDisplayPrice:"ABSOLUTE"},indicatorModule:{indicators:[]},overviewChartModule:{isOverviewVisible:!0}},a={coreModule:{seriesType:"MID"}},l={coreModule:{seriesType:"LAST_TRADED"}},d=["ao4","ats","auo","cnm","fdb","frf","frm","fxc","fxo","in4","inm","itf","itm","ke4","kem","lum","mon","nlf","nlm","sha","usm","zam"],u=["168","4ch","acc","act","ads","afa","alx","aml","anp","asr","at4","atf","atm","att","au4","auf","aui","auk","aum","aus","bak","bdf","bdi","bdx","be4","bem","ber","bfx","bg4","bgf","bgm","bin","bli","boo","bsl","bxm","cde","cen","cfd","cfo","cfr","cfs","cfz","cgt","ch4","cha","chf","chi","chm","chn","chr","chs","cid","cin","cmb","cmc","cn4","cnm","cps","csc","cse","cy4","cyf","cym","cz4","czf","czm","dac","das","dav","db4","dbi","dbm","dbs","de4","dee","def","dem","des","det","deu","dfx","dir","dk4","dkf","dkm","dkt","dmg","drm","dsc","ech","ede","ee4","en4","enf","eng","ent","es4","esf","esm","esp","est","etf","etm","fdf","fi4","fif","fii","fim","fin","fix","fn4","fnf","fnt","fr4","fra","frs","frt","frx","fut","gby","ge4","ggm","gha","gpp","gr4","grf","grm","gus","hdt","hlc","hls","hr4","hrf","hrm","hss","hu4","huf","hum","hyt","icm","ie4","ief","iei","iem","iet","ifr","igf","igi","igm","igs","inv","is4","isa","isf","ism","it4","itt","iyw","jic","kcp","kil","kin","ktb","ktm","l2i","lin","liv","lt4","ltf","ltm","lu4","lv4","lvf","lvm","mds","mei","mer","mes","mlf","mlm","mt4","mti","mtm","neo","net","nil","nl4","nls","nlt","no4","nof","nom","not","nov","nzm","one","plm","pof","por","pot","pr4","pro","prt","psl","pt4","ptm","qua","raf","rak","red","ro4","rof","rom","rot","rou","ru4","rum","saf","sam","sav","sdx","se4","sef","sef","sem","sem","set","sg4","sgx","shw","si4","sil","sim","sip","sk4","skf","skm","sla","slc","sld","sle","slf","slg","slh","slm","slp","slu","smp","sny","sp4","spr","svs","swi","tfe","tsi","twi","uln","us4","usa","usz","whi","wmt","wsc","wsp","xtr","zhd"];t.getDefaultChartSettings=function(){const e=r.default.getInstance().getWebSiteId(),t=d.includes(e)?a:u.includes(e)?l:null;return(0,s.merge)({},o,t)}},4185:(e,t,i)=>{"use strict";var n=i(15215).Bx;Object.defineProperty(t,"__esModule",{value:!0}),t.getDefaultTemplateName=t.getDefaultSettings=void 0;const s=n(i(60644)),r=i(23369),o=i(14630),a=i(53732),l=i(40423);t.getDefaultSettings=function(e){switch(e){case l.SaveLevel.Market:return(0,a.getDefaultMarketSettings)();case l.SaveLevel.Chart:case l.SaveLevel.SavedChart:return(0,o.getDefaultChartSettings)();case l.SaveLevel.Account:return(0,r.getDefaultAccountSettings)();default:throw new Error(`Requested defaults for unsupported save level: ${e}`)}},t.getDefaultTemplateName=function(){return s.default.get("STANDARD_RESET")}},53732:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getDefaultMarketSettings=void 0;const n=i(43130),s={userAnnotationModule:{userAnnotations:[]}};t.getDefaultMarketSettings=function(){return(0,n.merge)({},s)}},73731:(e,t)=>{"use strict";var i;Object.defineProperty(t,"__esModule",{value:!0}),t.getLayoutSettingsEvent=t.getGlobalSettingsEvent=void 0,function(e){e.LAYOUT_SETTINGS_CHANGED="settingsChanged",e.LAYOUT_SETTINGS_IMPORTED="layoutSettingsImported",e.GLOBAL_SETTINGS_CHANGED="globalSettingsChanged",e.EPIC_SETTINGS_LOADED="epicSettingsLoaded",e.EPIC_SETTINGS_CHANGED="epicSettingsChanged",e.PERSISTENCE_CHANGED="persistenceChanged",e.THEME_CHANGED="themeChanged"}(i||(i={})),t.default=i,t.getGlobalSettingsEvent=function(e){return`${i.GLOBAL_SETTINGS_CHANGED}-${e}`},t.getLayoutSettingsEvent=function(e){return`${i.LAYOUT_SETTINGS_CHANGED}-${e}`}},18299:(e,t)=>{"use strict";var i;Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.FROM_CACHE="FROM_CACHE",e.FROM_SERVICE="FROM_SERVICE"}(i||(i={})),t.default=i},16207:(e,t,i)=>{"use strict";var n=i(15215).Bx,s=i(15215).ut;Object.defineProperty(t,"__esModule",{value:!0}),t.HIDE_OVERRIDES=void 0;const r=i(43130),o=i(92867),a=n(i(74893)),l=s(i(73731)),d=n(i(18299)),u=n(i(81911)),c=n(i(92896)),h=n(i(289)),p=s(i(10644)),_=n(i(14243)),g=n(i(17660));class f extends h.default{constructor(e,t){super(),this._hideOverrides={},this._themeSettingsMode=p.THEME_SETTINGS_MODE.default,this._settingsSavingPolicy=u.default.ON_LOAD,this._settingsLoadingPolicy=d.default.FROM_SERVICE,this._settingsPolicyOptions={},this._containerId=e,this._apiSettingsManager=t,t.on(o.SETTINGS_REQUEST_ERROR,((...e)=>this.fire(o.SETTINGS_REQUEST_ERROR,...e)),this),t.on(l.default.LAYOUT_SETTINGS_CHANGED,this._handleTemplateSettingsChanged,this),t.on(l.default.LAYOUT_SETTINGS_IMPORTED,this._filterTemplateEvents.bind(this,l.default.LAYOUT_SETTINGS_IMPORTED),this),t.on(l.default.EPIC_SETTINGS_CHANGED,this._filterEpicEvents.bind(this,l.default.EPIC_SETTINGS_CHANGED),this),t.on(l.default.EPIC_SETTINGS_LOADED,this._filterEpicEvents.bind(this,l.default.EPIC_SETTINGS_LOADED),this),t.on(l.default.GLOBAL_SETTINGS_CHANGED,this._handleGlobalSettingsChanged,this),t.on(l.default.PERSISTENCE_CHANGED,((...e)=>this.fire(l.default.PERSISTENCE_CHANGED,...e)),this)}static create(e,t){return new f(e,t)}setSettingsPolicy(e,t,i){return this._settingsLoadingPolicy=e,this._settingsSavingPolicy=t,i&&(this._settingsPolicyOptions=i),this}loadSettings(e){this._epic=e,this._apiSettingsManager.loadSettings(this._containerId,this._epic,this._settingsLoadingPolicy,g.default.getInstance().isAnonymous()?u.default.DISABLED:this._settingsSavingPolicy,this._settingsPolicyOptions)}hasEpicSettings(){return this._apiSettingsManager.hasEpicSettings(this._epic)}getEpicSpecificSettings(e){return this._apiSettingsManager.getEpicSpecificSettings(this._epic,e)}changeEpicSpecificSettings(e,t,i){this._apiSettingsManager.changeEpicSpecificSettings(this._containerId,this._epic,e,t,i)}hasSettings(){return this._apiSettingsManager.hasSettings(this._containerId)}getTemplateSettings(e){return this._apiSettingsManager.getTemplateSettings(this._containerId,e)}changeTemplateSettings(e,t,i){this._apiSettingsManager.changeTemplateSettings(this._containerId,e,t,i,this._settingsSavingPolicy)}resetTemplateSettings(e){this._apiSettingsManager.resetTemplateSettings(this._containerId,e)}hasAccountSettings(){return this._apiSettingsManager.hasAccountSettings()}getGlobalSettings(e){return this._apiSettingsManager.getAccountSettings(e)}changeAccountSettings(e,t,i){this._apiSettingsManager.changeAccountSettings(e,t,i)}_filterEpicEvents(e,t,i){this._epic===t&&this._containerId!==i&&this.fire(e)}_filterTemplateEvents(e,t){this._containerId===t&&this.fire(e)}_handleTemplateSettingsChanged(e,t){this._containerId===e&&this.fire((0,l.getLayoutSettingsEvent)(t))}_handleGlobalSettingsChanged(e){this.fire((0,l.getGlobalSettingsEvent)(e))}getTemplateList(e){this._apiSettingsManager.getTemplateList(e)}exportToTemplate(e,t,i){this._apiSettingsManager.exportToTemplate(this._containerId,e,t,i)}importFromTemplate(e,t,i,n){this._apiSettingsManager.importFromTemplate(this._containerId,e,t,i,n)}deleteTemplate(e){this._apiSettingsManager.deleteTemplate(e)}getThemeSettingsMode(){return this._themeSettingsMode}getTheme(){return this._theme}getThemeForDependencies(){return this.getTheme()===p.default.NWTP_NAVY?"navy":this.getThemeSettingsMode()}updateTheme(e){const t=p.THEME_SETTINGS_MAP[e]||p.THEME_SETTINGS_MODE.default;this._theme=e,this._themeSettingsMode!==t&&(this._themeSettingsMode=t,this._apiSettingsManager.notifyOfTemplateChange(this._containerId,"colourCustomisationModule"),this.fire(l.default.THEME_CHANGED))}addHideOverride(e){const t=this._hideOverrides[e];this._hideOverrides[e]=!0,t||this._notifyOfHideOverrideChange(e)}removeHideOverride(e){const t=this._hideOverrides[e];delete this._hideOverrides[e],t&&this._notifyOfHideOverrideChange(e)}_notifyOfHideOverrideChange(e){let t,i;switch(e){case m.ANNOTATIONS:t=!1,i="annotationModule";break;case m.INDICATORS:t=!1,i="indicatorsVisibilityModule";break;case m.OVERVIEW:t=!1,i="overviewChartModule";break;case m.HIGH_LOW_STATS:t=!1,i="highLowStatsVisibilityModule";break;case m.OPEN_POSITIONS:case m.WORKING_ORDERS:t=!0,i="tradingModule";break;case m.CALENDAR_EVENTS:t=!0,i="calendarEventsModule";break;default:return}t?this._apiSettingsManager.notifyOfAccountChange(i):this._apiSettingsManager.notifyOfTemplateChange(this._containerId,i)}getResolutionSettings(){return a.default.keyFor(this.getTemplateSettings("coreModule").resolution)}putResolutionSettings(e,t){this.changeTemplateSettings("coreModule",(function(t){return v(t,"resolution",a.default.valueOf(e))}),t)}getStyleSettings(){const e=this.getTemplateSettings("coreModule").style;return"TICK"===this.getResolutionSettings()&&e!==c.default.LINE&&e!==c.default.MOUNTAIN?c.default.LINE:e}putStyleSettings(e,t){this.changeTemplateSettings("coreModule",(function(t){return v(t,"style",e)}),t),this.updateIndicatorsSettings([{id:"PRICES",settings:{heikinashi:e===c.default.HEIKINASHI,preferredHeight:1}}],!0)}getPriceTypeSettings(){return this.getTemplateSettings("coreModule").priceType}putPriceTypeSettings(e,t){this.changeTemplateSettings("coreModule",(function(t){return v(t,"priceType",e)}),t)}getScaleDisplayTypeSettings(){return this.getTemplateSettings("coreModule").scaleDisplayType}putScaleDisplayTypeSettings(e,t){this.changeTemplateSettings("coreModule",(function(t){return v(t,"scaleDisplayType",e)}),t)}getCandleWidth(){const e=this.getTemplateSettings("coreModule");return e&&e.candleWidth||null}getTooltipSettings(){return this.getTemplateSettings("coreModule").desktopTooltipEnabled}putTooltipSettings(e){this.changeTemplateSettings("coreModule",(function(t){return v(t,"desktopTooltipEnabled",e)}),!0)}getColourCustomisationSettings(){return this.getTemplateSettings("colourCustomisationModule").styles[this._themeSettingsMode]}putColourCustomisationSettings(e,t){this.changeTemplateSettings("colourCustomisationModule",(function(t){const i=t.styles[e.themeSettingsMode];return e!==i&&(0,r.merge)(i,e),!0}),t)}getIndicatorsSettings(){return this.getTemplateSettings("indicatorModule").indicators}updateIndicatorsSettings(e,t){e=JSON.parse(JSON.stringify(e)),this.changeTemplateSettings("indicatorModule",(function(t){return t.addIndicators(e),!0}),t)}deleteIndicatorSettings(e,t){this.changeTemplateSettings("indicatorModule",(function(t){const i=t.indicators.length;return t.removeIndicator(e),t.indicators.length!==i}),t)}getTradeConfirmsRequired(){return this.getGlobalSettings("tradingModule").getDeviceSpecificSettings().tradeConfirms}getDrawingsVisibilitySettings(){const e=this.getTemplateSettings("annotationModule");return!this._hideOverrides.annotations&&!(!e||!e.isVisible)}putDrawingsVisibilitySettings(e,t){this.changeTemplateSettings("annotationModule",(function(t){return v(t,"isVisible",e)}),t)}getDrawingsToolboxVisibility(){const e=this.getTemplateSettings("annotationModule");return!this._hideOverrides.annotations&&!(!e||!e.getToolboxVisibility())}putDrawingsToolboxVisibility(e){this.changeTemplateSettings("annotationModule",(function(t){return v(t,"isToolboxVisible",e)}),!0)}getIndicatorsVisibilitySettings(){return!this._hideOverrides.indicators&&this.getTemplateSettings(_.default.INDICATORS_VISIBILITY).isVisible}putIndicatorsVisibilitySettings(e,t){this.changeTemplateSettings(_.default.INDICATORS_VISIBILITY,(function(t){return v(t,"isVisible",e)}),t)}getCurrentPriceLineVisibilitySettings(){return!this._hideOverrides.currentPriceLine&&this.getTemplateSettings(_.default.CURRENT_PRICE_LINE_VISIBILITY).isVisible}putCurrentPriceLineVisibilitySettings(e,t){this.changeTemplateSettings(_.default.CURRENT_PRICE_LINE_VISIBILITY,(function(t){return v(t,"isVisible",e)}),t)}getHighLowStatsVisibilitySettings(){return!this._hideOverrides.highLowStats&&this.getTemplateSettings(_.default.HIGH_LOW_STATS_VISIBILITY).isVisible}putHighLowStatsVisibilitySettings(e,t){this.changeTemplateSettings(_.default.HIGH_LOW_STATS_VISIBILITY,(function(t){return v(t,"isVisible",e)}),t)}getOverviewVisibilitySettings(){return!this._hideOverrides.overview&&this.getTemplateSettings("overviewChartModule").isOverviewVisible}putOverviewVisibilitySettings(e,t){this.changeTemplateSettings("overviewChartModule",(function(t){return v(t,"isOverviewVisible",e)}),t)}getEconomicEventsVisibilitySettings(){return!this._hideOverrides.calendarEvents}getDealingOpenPositionsVisibility(){return!this._hideOverrides.openPositions&&this._apiSettingsManager.getAccountSettings("tradingModule").openPositionsVisible}putDealingOpenPositionsVisibility(e,t){this._apiSettingsManager.changeAccountSettings("tradingModule",(function(t){return v(t,"openPositionsVisible",e)}),t)}getDealingWorkingOrdersVisibility(){return!this._hideOverrides.workingOrders&&this._apiSettingsManager.getAccountSettings("tradingModule").workingOrdersVisible}putDealingWorkingOrdersVisibility(e,t){this._apiSettingsManager.changeAccountSettings("tradingModule",(function(t){return v(t,"workingOrdersVisible",e)}),t)}getPositionPreviewVisibilitySettings(){return this.getGlobalSettings(_.default.POSITION_PREVIEW_VISIBILITY).isVisible}putPositionPreviewVisibilitySettings(e,t){this._apiSettingsManager.changeAccountSettings(_.default.POSITION_PREVIEW_VISIBILITY,(function(t){return v(t,"isVisible",e)}),t)}getWatermarkVisibilitySettings(){const e=this._apiSettingsManager.getAccountSettings(_.default.WATERMARK_VISIBILITY);return!(!e||!e.isVisible)}putWatermarkVisibilitySettings(e,t){this._apiSettingsManager.changeAccountSettings(_.default.WATERMARK_VISIBILITY,(function(t){return v(t,"isVisible",e)}),t)}destroy(){super.destroy(),this._apiSettingsManager.un(null,this),this._apiSettingsManager.abortAll(this._containerId,this._epic);for(const e of["_apiSettingsManager","_containerId","_epic","_hideOverrides"])delete this[e]}}var m;function v(e,t,i){return e[t]!==i&&(e[t]=i,!0)}t.default=f,function(e){e.ANNOTATIONS="annotations",e.OPEN_POSITIONS="openPositions",e.WORKING_ORDERS="workingOrders",e.INDICATORS="indicators",e.CURRENT_PRICE_LINE="currentPriceLine",e.HIGH_LOW_STATS="highLowStats",e.OVERVIEW="overview",e.CALENDAR_EVENTS="calendarEvents"}(m=t.HIDE_OVERRIDES||(t.HIDE_OVERRIDES={}))},81911:(e,t)=>{"use strict";var i;Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.ON_LOAD="ON_LOAD",e.DISABLED="DISABLED"}(i||(i={})),t.default=i},40423:(e,t,i)=>{"use strict";var n=i(15215).Bx;Object.defineProperty(t,"__esModule",{value:!0}),t.parseLayoutModules=t.makeModuleMap=t.SaveLevel=void 0;const s=i(43130),r=n(i(60631));!function(e){e.Account="account",e.Chart="chart",e.Market="market",e.SavedChart="saved_chart"}(t.SaveLevel||(t.SaveLevel={}));const o={configurable:!1,enumerable:!1,writable:!1,value:function(){const e={};for(const t in this)this[t].isModified()&&(e[t]=this[t]);return e}};function a(e){return Object.defineProperty(e||{},"toJSON",o)}t.makeModuleMap=a,t.parseLayoutModules=function(e,t,i,n=!1){const o=a(),l=(0,s.clone)(t);for(const s in e)Object.prototype.hasOwnProperty.call(l,s)?(o[s]=new l[s].type(e[s],i,l[s].options),delete l[s]):o[s]=new r.default(e[s]);if(n)for(const s in l)o[s]=new l[s].type(null,i,l[s].options);return o}},30198:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=i(43130),s=i(61568);class r{constructor(e){this._isActive=!1,this._taskId=e.ID,this._persistent=!!e.persistent,this._fullyConcurrent=!!e.fullyConcurrent,this._blockUnhandledHotkeys=!!e.blockUnhandledHotkeys,this._concurrentTasks=e.concurrentTasks||[],this._nonConcurrentTasks=e.nonConcurrentTasks||[],this._onActivated=e.onActivated||n.noop,this._onDeactivated=e.onDeactivated||n.noop,this._onDestroyed=e.onDestroyed||n.noop,this._hotkeyMap=e.hotkeyMap||{}}static create(e){return new r(e)}getTaskId(){return this._taskId}isPersistent(){return this._persistent}blockUnhandledHotkeys(){return this._blockUnhandledHotkeys}isActive(){return this._isActive}activate(){return this._isActive||(this._isActive=!0,this._onActivated()),this}deactivate(){return this._isActive&&(this._isActive=!1,this._onDeactivated()),this}cleanup(){delete this._persistent,delete this._taskId,delete this._onActivated,delete this._onDeactivated,delete this._onDestroyed}destroy(){this.deactivate(),this._onDestroyed(),this.cleanup()}isTaskConcurrent(e){return this._fullyConcurrent&&-1===this._nonConcurrentTasks.indexOf(e)||this._concurrentTasks.indexOf(e)>=0}handleHotkey(e){const t=(0,s.normaliseKey)(e.key);return!!this._hotkeyMap[t]&&(this._hotkeyMap[t](),!0)}addHotkey(e,t){this._hotkeyMap[e]=t}}t.default=r},34175:(e,t,i)=>{"use strict";var n=i(15215).Bx;Object.defineProperty(t,"__esModule",{value:!0});const s=i(43130),r=i(41943),o=n(i(61568)),a=n(i(30198)),l=n(i(47392));class d{constructor(e,t){this._taskStack=[],this._dContainer=e,this._eventBus=t,this._handleKeyUp=this._handleKeyUp.bind(this),this._eventBus.subscribe("chart/view/ready",this._handleChartViewReady,this),this.startTask(l.default.GLOBAL)}static create(e,t){return new d(e,t)}static _isBackspaceAndNotTextField(e){return e.key===o.default.BACKSPACE&&e.target instanceof Element&&"input"!==e.target.tagName.toLowerCase()&&"textarea"!==e.target.tagName.toLowerCase()}startTask(e,t){const i=a.default.create((0,s.assign)({},e,t||{}));let n;this._taskStack.forEach((function(e){n=e.isTaskConcurrent(i.getTaskId())||i.isTaskConcurrent(e.getTaskId()),e.isActive()&&!n&&(e.isPersistent()?e.deactivate():this._removeAndDestroyTask(e))}),this),this._taskStack.push(i),i.activate()}finishTask(e){this._removeAndDestroyTaskIfExists(e),this._reactivatePersistentTasks()}_reactivatePersistentTasks(){let e,t,i;for(i=this._taskStack.length-1;i>=0;i--)t=this._taskStack[i],e&&!e.isTaskConcurrent(t.getTaskId())||(t.activate(),e=t)}finishNonPersistentTasks(){for(let t=this._taskStack.length-1;t>=0;t--)this._taskStack[t].isPersistent()||this._removeAndDestroyTaskIfExists(this._taskStack[t].getTaskId());const e=(0,r.lastOf)(this._taskStack);e&&e.activate()}isActive(e){const t=this._findTask(e);return!!t&&t.isActive()}taskExists(e){return!!this._findTask(e)}destroy(){let e;for(;e=this._taskStack.pop();)e.cleanup();this._dContainer.node().removeEventListener("keyup",this._handleKeyUp),this._dContainer.node().removeEventListener("keydown",this._handleKeyDown),this._eventBus.unsubscribe("chart/view/ready",this._handleChartViewReady,this)}registerGlobalHotKey(e,t){const i=this._findTask(l.default.GLOBAL.ID);i&&i.addHotkey(e,t)}_handleChartViewReady(){this._dContainer.node().addEventListener("keyup",this._handleKeyUp),this._dContainer.node().addEventListener("keydown",this._handleKeyDown)}_handleKeyUp(e){let t,i;for(i=this._taskStack.length-1;i>=0;i--){if(t=this._taskStack[i],t.isActive()&&t.handleHotkey(e)){e.preventDefault(),e.stopPropagation();break}if(t.blockUnhandledHotkeys())break}}_handleKeyDown(e){d._isBackspaceAndNotTextField(e)&&e.preventDefault()}_removeAndDestroyTaskIfExists(e){const t=this._findTask(e);t&&this._removeAndDestroyTask(t)}_removeAndDestroyTask(e){(0,r.remove)(this._taskStack,e),e.destroy()}_findTask(e){return(0,s.findLast)(this._taskStack,(t=>t.getTaskId()===e))}}t.default=d},6502:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=class{constructor(e,t){this._f=e,this._startTime=t}}},4739:(e,t,i)=>{"use strict";var n=i(15215).Bx;Object.defineProperty(t,"__esModule",{value:!0}),t.MS_FRAME_TIME=void 0;const s=n(i(77209)),r=n(i(52225)),o=n(i(18522)),a=n(i(61643)),l=n(i(289));t.MS_FRAME_TIME=16;class d extends l.default{constructor(){super(),this._taskCount=0,this._namespaces=Object.create(null),this._timeDeltaFrame=0,this._isFirstFrameInAnimation=!0,this._step=this._step.bind(this),this._timeCurrentFrame=this._timeLastFrame=d.timestamp(),o.default.on(s.default.jsFrameEnd,this.requestNextStep,this)}static create(){return new d}hasTasks(e){return!!this._namespaces[e]}killTasks(e){this._namespaces[e]&&(this._taskCount-=this._namespaces[e].length,delete this._namespaces[e])}newFixedTimeTask(e,t,i){const n=new r.default(t,d.timestamp(),i);return this._addTask(e,n),n}newOngoingTask(e,t){const i=new a.default(t,d.timestamp());return this._addTask(e,i),i}_addTask(e,t){this._taskCount++,this._getNamespaceTaskList(e).push(t),this.requestNextStep()}requestNextStep(){this._stepId||(this._stepId=d.requestFrame(this._step))}_step(){delete this._stepId;const e=this._timeCurrentFrame=d.timestamp();this._timeDeltaFrame=e-this._timeLastFrame;for(const t in this._namespaces)this._executeTasks(t);this.fire(d.TRIGGER_REPOSITION),this.fire(d.TRIGGER_RENDER),this._taskCount&&this.requestNextStep(),this._timeLastFrame=e,this._isFirstFrameInAnimation=!this._taskCount}destroy(){o.default.un(null,this),this._stepId&&(d.cancelFrame(this._stepId),delete this._stepId),this._taskCount=0,delete this._namespaces,delete this.frameRateMonitor,delete this._step,super.destroy()}_executeTasks(e){let t,i,n=this._getNamespaceTaskList(e);const s=n.slice();for(let r=0;r<s.length;r++)t=s[r],n.indexOf(t)>-1&&t.step(this._timeCurrentFrame,this._timeLastFrame,this._timeDeltaFrame)&&(n=this._getNamespaceTaskList(e),i=n.indexOf(t),i>-1&&(n.splice(i,1),this._taskCount--));this._getNamespaceTaskList(e).length||this.killTasks(e)}_getNamespaceTaskList(e){return this._namespaces[e]||(this._namespaces[e]=[]),this._namespaces[e]}}d.TRIGGER_REPOSITION="triggerReposition",d.TRIGGER_RENDER="triggerRender",d.requestFrame=(window.requestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFramefunction||function(e){return window.setTimeout(e,t.MS_FRAME_TIME)}).bind(window),d.cancelFrame=(window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.oCancelAnimationFrame||window.msCancelAnimationFrame||window.clearTimeout).bind(window),d.timestamp=window.performance&&window.performance.now?window.performance.now.bind(window.performance):Date.now.bind(Date),t.default=d},52225:(e,t,i)=>{"use strict";var n=i(15215).Bx;Object.defineProperty(t,"__esModule",{value:!0});const s=n(i(6502));class r extends s.default{constructor(e,t,i){super(e,t),this._duration=i}step(e,t,i){const n=e-this._startTime,s=0===this._duration?1:Math.min(n/this._duration,1);return this._f(s,n,e)||s>=1}}t.default=r},61643:(e,t,i)=>{"use strict";var n=i(15215).Bx;Object.defineProperty(t,"__esModule",{value:!0});const s=n(i(6502));class r extends s.default{step(e,t,i){const n=e-this._startTime;let s=Math.min(i,n);return s=Math.max(s,1),this._f(s,n,e)}}t.default=r},41943:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.move=t.partialPermutations=t.permutations=t.cartesianProductOf=t.range=t.equals=t.remove=t.find=t.containsAll=t.contains=t.inPlacePrecat=t.inPlaceConcat=t.groupBy=t.flatten=t.shallowCopy=t.subtraction=t.unique=t.empty=t.nonEmpty=t.lastOf=t.firstOf=t.edgeArray=t.lastNItems=t.firstNItems=t.arrayToHashMap=void 0;const n=i(43130);function s(e){return!(!e||!e.length)}function r(e){return!s(e)}function o(e,t){return(0,n.difference)(e,t)}function a(e,t,i,n){let s,r;for(i=i||[],r=0;r<t.length;r++)s=t.splice(r,1),(n||0===t.length)&&e.push(i.concat(s)),a(e,t.slice(),i.concat(s),n),t.splice(r,0,s[0]);return e}t.arrayToHashMap=function(e,t){const i=Object.create(null);for(const n of e)i[t(n)]=n;return i},t.firstNItems=function(e,t){return(0,n.take)(e,t)},t.lastNItems=function(e,t){return(0,n.takeRight)(e,t)},t.edgeArray=function(e,t,i){return t?i?((e=e.concat(i)).unshift(t),e):[t].concat(e):i?e.concat(i):e},t.firstOf=function(e){return(0,n.head)(e)},t.lastOf=function(e){return(0,n.last)(e)},t.nonEmpty=s,t.empty=r,t.unique=function(e){return(0,n.uniq)(e)},t.subtraction=o,t.shallowCopy=function(e,t){return Array.prototype.slice.call(e,t)},t.flatten=function(e){return(0,n.remove)(e,n.isUndefined),(0,n.flatten)(e)},t.groupBy=function(e,t){return(0,n.groupBy)(e,t)},t.inPlaceConcat=function(e,t){return Array.prototype.push.apply(e,t),e},t.inPlacePrecat=function(e,t){return Array.prototype.unshift.apply(e,t),e},t.contains=function(e,t){return-1!==e.indexOf(t)},t.containsAll=function(e,t){return r(o(e,t))},t.find=function(e,t){const i=(0,n.find)(e,t);return void 0!==i?i:null},t.remove=function(e,t){const i=e.indexOf(t);return i>-1&&e.splice(i,1),e},t.equals=function(e,t,i){let n;if(e.length!==t.length)return!1;for(n=0;n<e.length;n++)if(!i(e[n],t[n]))return!1;return!0},t.range=function(e){const t=[];for(let i=0;i<e;i++)t.push(i);return t},t.cartesianProductOf=function(...e){return Array.prototype.reduce.call(e,(function(e,t){const i=[];return e.forEach((function(e){t.forEach((function(t){i.push(e.concat([t]))}))})),i}),[[]])},t.permutations=function(e){return e.length<=1?[e]:a([],e,null,!1)},t.partialPermutations=function(e,t){if(e.length<=1)return[e];let i=a([],e,null,!0);return t&&(i=i.filter((function(e){return e.length<=t}))),i},t.move=function(e,t,i){t.indexOf(e)>-1&&((0,n.pull)(t,e),i.push(e))}},97481:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Blocker=void 0;t.Blocker=class{constructor(){this._prevent=!1}block(e,...t){try{return this._prevent=!0,e(...t)}finally{this._prevent=!1}}run(e,...t){if(!this._prevent)return e(...t)}}},8697:(e,t)=>{"use strict";function i(e){return"number"!=typeof e}function n(e,t,i){return s(e,t,i,0,t.length)}function s(e,i,n,r,o){const a=~~((o-r)/2+r);if(r===o){let e;return e=0===r?t.BEFORE_START:r===i.length?t.AFTER_END:t.NOT_PRESENT,e.lastMidIndex=a,e}const l=n.call(i[a],e,i[a],a,i);return l<0?s(e,i,n,r,a):l>0?s(e,i,n,a+1,o):a}function r(e,n){return i(e)?e===t.BEFORE_START?0:n.length-1:e}Object.defineProperty(t,"__esModule",{value:!0}),t.closestIndex=t.findClosestIndex=t.find=t.NOT_PRESENT=t.AFTER_END=t.BEFORE_START=t.isSearchResult=void 0,t.isSearchResult=i,t.BEFORE_START={fail:"item would be before start of array",lastMidIndex:-1},t.AFTER_END={fail:"item would be after end of array",lastMidIndex:-1},t.NOT_PRESENT={fail:"item is not in the array",lastMidIndex:-1},t.find=n,t.findClosestIndex=function(e,t,i){return r(n(e,t,i),t)},t.closestIndex=r},12990:(e,t)=>{"use strict";t.A={extend:function(e,t){const i=class extends t{constructor(...t){super(...e.__constructorTransform?e.__constructorTransform(...t):t);const i=e.apply(this,t);if(i&&i!==this)return i}};return i.superclass=t.prototype,i}}},32713:(e,t,i)=>{"use strict";var n=i(15215).Bx;Object.defineProperty(t,"__esModule",{value:!0}),t.setChartCursor=t.chartWideClassed=t.cssTranslateAttrX=void 0;const s=n(i(6182)),r=n(i(49483));function o(e,t,i){const n=r.default.getRootContainer(e);return void 0!==i?n.classed(t,i):n.classed(t)}t.cssTranslateAttrX=function(e,t=!1){const i=t?`translate3d(${function(e=0,t=0,i=0){return`${Math.round(e)}px,${Math.round(t)}px,${Math.round(i)}px`}(e)})`:`translateX(${Math.round(e)}px)`;return`-ms-${n="transform"}:${s=i};\n      -moz-${n}:${s};\n      -webkit-${n}:${s};\n      ${n}:${s};`;var n,s},t.chartWideClassed=o,t.setChartCursor=function(e,t){let i;for(const n in s.default)i=s.default[n],o(e,i,t===i&&t!==s.default.DEFAULT)}},24995:(e,t,i)=>{"use strict";var n=i(15215).Bx;Object.defineProperty(t,"__esModule",{value:!0}),t.convertLocaleToIntlFormat=t.formatCurrency=void 0;const s=n(i(17660));function r(e){const t=e.split("_");return t.length<2||t[0].toLowerCase()===t[1].toLowerCase()?t[0]:`${t[0]}-${t[1]}`}t.formatCurrency=function(e,t,i=!1){const n=r(s.default.getInstance().getLocale()),o="JPY"===t?0:2,a={style:"currency",currency:t,minimumFractionDigits:o,maximumFractionDigits:o};let l;try{l=new Intl.NumberFormat(n,a).format(e)}catch(d){l=e.toString()}return i?l:l.replace(/\.0*$/,"")},t.convertLocaleToIntlFormat=r},6182:(e,t)=>{"use strict";var i;Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.CROSSHAIR="cursorCrosshair",e.DEFAULT="default",e.GRAB="cursorGrab",e.GRABBING="cursorGrabbing",e.POINTER="cursorPointer",e.NS_RESIZE="cursorNSResize",e.EW_RESIZE="cursorEWResize",e.TEXT="cursorText",e.HEAD_AND_SHOULDERS_CROSSHAIR="cursorHeadAndShouldersCrosshair",e.HORIZONTAL_LINE_CROSSHAIR="cursorHorizontalLineCrosshair",e.VERTICAL_LINE_CROSSHAIR="cursorVerticalLineCrosshair",e.ARROW_CROSSHAIR="cursorArrowCrosshair",e.CHANNEL_CROSSHAIR="cursorChannelCrosshair",e.FIBONACCI_CROSSHAIR="cursorFibonacciCrosshair",e.FIBONACCI_EXTENSION_CROSSHAIR="cursorFibonacciExtensionCrosshair",e.GANN_FAN_CROSSHAIR="cursorGannFanCrosshair",e.GANN_LINE_CROSSHAIR="cursorGannLineCrosshair",e.RECTANGLE_CROSSHAIR="cursorRectangleCrosshair",e.TRIANGLE_CROSSHAIR="cursorTriangleCrosshair",e.OVAL_CROSSHAIR="cursorOvalCrosshair",e.POINT_TO_POINT_CROSSHAIR="cursorPointToPointCrosshair",e.TREND_CROSSHAIR="cursorTrendCrosshair",e.MEASURE_TOOL_CROSSHAIR="cursorMeasureToolCrosshair",e.PITCHFORK_CROSSHAIR="cursorPitchforkCrosshair",e.ELLIOTT_WAVE_CROSSHAIR="cursorElliottWave12345Crosshair",e.ELLIOTT_WAVE_ABC_CROSSHAIR="cursorElliottWaveABCCrosshair"}(i||(i={})),t.default=i},22690:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.fetchEnhanced=t.ignoreAbort=t.defaultValidator=t.exponentialBackoff=void 0;const n=i(43130);function s(e){return e.ok||304===e.status}t.exponentialBackoff=function(e){return function(t){return e*Math.pow(2,t)}},t.defaultValidator=s,t.ignoreAbort=function(e){if("AbortError"!==(null==e?void 0:e.name))throw e};class r{get signal(){if(!this._wrapped)throw new Error("Using wrapped abort controller before giving it an item to wrap");return this._wrapped.signal}abort(e){if(!this._wrapped)throw new Error("Using wrapped abort controller before giving it an item to wrap");this._wrapped.abort(e)}setWrapped(e){this._wrapped=e}}function o(e,t,i,r){i.setWrapped(new AbortController);let o,l=fetch(e,Object.assign(Object.assign({},(0,n.omit)(t,"retry","timeout")),{signal:i.signal}));return(null==t?void 0:t.timeout)&&(o=setTimeout((function(){i.abort(new DOMException(`Request timed out after ${t.timeout} milliseconds`,"TimeoutError"))}),t.timeout)),((null==t?void 0:t.timeout)||(null==t?void 0:t.retry))&&(l=l.then((null==t?void 0:t.retry)?function(n){var o;return!((null===(o=null==t?void 0:t.retry)||void 0===o?void 0:o.validator)||s)(n)&&(null==t?void 0:t.retry)&&r<t.retry.retries?a(e,t,i,r):n}:null,(function(n){if(o&&clearTimeout(o),"AbortError"!==(null==n?void 0:n.name)&&(null==t?void 0:t.retry)&&r<t.retry.retries)return a(e,t,i,r);throw n}))),l}function a(e,t,i,n){const s=t.retry.backOff(n);return new Promise((function(r,a){let l;const d=i.signal,u=()=>{l&&clearTimeout(l),a(d.reason)};d.addEventListener("abort",u,{once:!0}),l=setTimeout((function(){d.removeEventListener("abort",u),r(o(e,t,i,n+1))}),s)}))}function l(e,t){const i=new r;return{promise:o(e.toString(),t,i,0),abort:i}}t.fetchEnhanced=l,t.default=l},9525:(e,t,i)=>{"use strict";var n=i(15215).Bx;Object.defineProperty(t,"__esModule",{value:!0}),t.schedule=t.nonrecursive=t.delegate=t.observableSetter=t.bubbler=t.emptyChainable=t.ascendingFieldComparator=t.invokeApply=t.invokeCall=t.invoker=t.propertyComparator=t.identityComparator=t.composeBound=t.compose=t.partialComplete=t.throwError=t.setAttr=t.setter=t.getter=t.plucker=t.cache=void 0;const s=i(43130),r=n(i(50547));function o(e,t=function(...e){return Array.prototype.join.call(e,".")},i=1/0){let n={},s=0;const r=function(...r){const o=t.apply(this,r);let a;if(Object.prototype.hasOwnProperty.call(n,o))return n[o];if(s===i)for(a in n){delete n[a];break}else s++;return n[o]=e.apply(this,r)};return r.invalidate=()=>{n={},s=0},r}function a(e,...t){return function(...i){const n=t.length;let s,r;for(r=t[n-1].apply(e,i),s=n-2;s>=0;s--)r=t[s].call(e,r);return r}}function l(e,t,i){if(i)for(const n of e)n[t](...i);else for(const n of e)n[t]()}t.cache=o,t.plucker=o((function(e){return new Function("d",`return d.${e};`)}),(e=>e)),t.getter=o((function(...e){let t,i="";for(t=0;t<e.length;t++)i+="number"==typeof e[t]?`[${e[t]}]`:`["${e[t]}"]`;return new Function(`return this${i}`)})),t.setter=o((function(e){return new Function("v",`this.${e}= v; return this;`)}),(e=>e)),t.setAttr=function(e,t){return function(i){return i[e]=t,i}},t.throwError=o((function(e){return()=>{throw new Error(e)}})),t.partialComplete=function(e,...t){return function(...i){return e.apply(this,[...t,...i])}},t.compose=function(...e){return a.apply(null,[window,...e])},t.composeBound=a,t.identityComparator=function(e){return function(t){return t===e}},t.propertyComparator=function(e,t){return function(i){return i[e]===t}},t.invoker=o((function(e,...t){return function(i){return i[e](...t)}})),t.invokeCall=function(e,t,...i){l(e,t,i)},t.invokeApply=l,t.ascendingFieldComparator=function(e){return function(t,i){const n=t[e],s=i[e];return n===s?0:n<s?-1:1}},t.emptyChainable=function(){return this},t.bubbler=function(e){return function(...t){this.fire.apply(this,[e,...t])}},t.observableSetter=function(e,t){return function(i){return this[e]=i,this.fire(t,this),this}},t.delegate=function(e,t,...i){return function(...n){const s=[...i,...n],r=this[e];let o;return r&&(o=r[t](...s),o===r&&(o=this)),o}},t.nonrecursive=function(e,t,i){const n="string"==typeof t&&"function"==typeof(null==i?void 0:i.value),s="function"==typeof e&&!t&&!i,r=Symbol("methodEntered");if(!n&&!s)throw new Error("Non-recursion needs to be used on a function, or as method decorator");const o=s?{}:void 0,a=n?i.value:e,l=function(...e){if(!(o||this)[r])try{(o||this)[r]=!0,a.apply(this,e)}finally{delete(o||this)[r]}};if(s)return l;n&&(i.value=l)},t.schedule={debounce:function(e,t){let i,n,s,r;function o(){const a=i,l=n,d=Date.now()-r,u="function"==typeof t?t():t;d<u?s=window.setTimeout(o,u-d):(i=n=s=r=null,e.apply(l,a))}const a=function(...e){const a="function"==typeof t?t():t;n=this,i=e,r=Date.now(),s||(s=window.setTimeout(o,a))};return a.cancel=()=>{s&&(window.clearTimeout(s),i=n=r=s=null)},a},debounceMap:function(e,t,i){if(!i||!i.hash)return(0,s.debounce)(e,t,i);if("trailing"in i||"leading"in i||"maxWait"in i)throw new Error("Debounce map does not support lodash arguments used at the same time");const n={},r={},o={},a={};function l(i){const s=n[i],d=r[i],u=Date.now()-a[i];u<t?o[i]=window.setTimeout(l,t-u,i):(delete n[i],delete r[i],delete o[i],delete a[i],e.apply(d,s))}const d=function(...e){const s=i.hash.apply(this,e);n[s]=e,r[s]=this,a[s]=Date.now(),o[s]||(o[s]=window.setTimeout(l,t,s))};return d.cancel=function(e){for(const t of e?[e]:Object.keys(o))window.clearTimeout(o[t]),delete n[t],delete r[t],delete o[t],delete a[t]},d},deferred:function(e){return(...t)=>{r.default.defer(e,this,t)}},throttle:function(e,t,i=!1,n=!0){let s,r,o,a=null,l=0;function d(){l=i?(new Date).getTime():0,a=null,o=e.apply(s,r)}function u(...u){const c=(new Date).getTime();l||i||(l=c);const h=t-(c-l);return s=this,r=u,h<=0?(window.clearTimeout(a),a=null,l=c,o=e.apply(s,r)):!a&&n&&(a=window.setTimeout(d,h)),o}return u.cancel=()=>{a&&(window.clearTimeout(a),s=a=null)},u},throttledDeferred:function(e){function i(...e){i.scheduled||(i.scheduled=!0,r.default.defer(n,this,e))}function n(...t){i.scheduled&&(i.scheduled=!1,e.apply(this,t))}return i.scheduled=!1,i.cancel=(0,t.setter)("scheduled").bind(i,!1),i}}},23584:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.calculateBottomLeftAnchoringPointWithBoundaryConstraints=t.pointInOval=t.isPointInTriangle=t.isPointInRectangle=t.getLinearFunctionComponents=t.findNearestPoint=t.getVector=t.movePointBy=t.distancePointToPoint=t.distancePointToSegment=t.pointToPointLineRectangleIntersection=t.getIntersectRectangle=t.rectanglesIntersect=t.slopeInterceptLineRectangleIntersection=t.segmentIntersectsRectangle=t.lineSegmentAndLineIntersection=t.lineIntersection=t.lineSegmentsIntersection=void 0;const n=i(10094);function s(e,t,i,n,s,r,o,a){const l=I(e,t,i,n,s,r,o,a);return l.onLineOne&&l.onLineTwo&&l.x&&l.y?{x:l.x,y:l.y}:null}function r(e,t,i,n,s,r,o,a){const l=I(e,t,i,n,s,r,o,a);return l.x&&l.y?{x:l.x,y:l.y}:null}function o(e,t,i,n,s,r,o,a){const l=I(e,t,i,n,s,r,o,a);return l.onLineOne&&l.x&&l.y?{x:l.x,y:l.y}:null}function a(e,t,i,n,s,r,o,a){let l,d,u,c=Math.min(e,i),h=Math.max(e,i),p=t,_=n;const g=i-e;return h>o&&(h=o),c<s&&(c=s),!(c>h)&&(Math.abs(g)>1e-7&&(d=(n-t)/g,u=t-d*e,p=d*c+u,_=d*h+u),p>_&&(l=_,_=p,p=l),_>a&&(_=a),p<r&&(p=r),p<=_)}function l(e,t,i,s,r,o,a){const l=[],d=e*s+t,u=e*o+t,c=(r-t)/e,h=(a-t)/e;return(0,n.isNumber)(i)?(i>=s&&i<=o&&(l.push({x:i,y:r}),l.push({x:i,y:a})),l):(d>=r&&d<=a&&l.push({x:s,y:d}),u>=r&&u<=a&&l.push({x:o,y:u}),l.length<2&&c>=s&&c<=o&&l.push({x:c,y:r}),l.length<2&&h>=s&&h<=o&&l.push({x:h,y:a}),l)}function d(e,t){const i=e.x2<t.x1,n=e.x1>t.x2,s=e.y2<t.y1,r=e.y1>t.y2;return!(i||n||s||r)}function u(e,t){return d(e,t)?{x1:Math.max(e.x1,t.x1),y1:Math.max(e.y1,t.y1),x2:Math.min(e.x1+Math.abs(e.x2-e.x1),t.x1+Math.abs(t.x2-t.x1)),y2:Math.min(e.y1+Math.abs(e.y2-e.y1),t.y1+Math.abs(t.y2-t.y1))}:{x1:0,y1:0,x2:0,y2:0}}function c(e,t,i,n,s,r,o,a){let d=NaN,u=NaN,c=NaN;return 0===i-e?c=e:(d=(n-t)/(i-e),u=t-d*e),l(d,u,c,s,r,o,a)}function h(e,t,i,n,s,r){const o=s-i,a=r-n,l=((e-i)*o+(t-n)*a)/(o*o+a*a);let d,u;l<0||i===s&&n===r?(d=i,u=n):l>1?(d=s,u=r):(d=i+l*o,u=n+l*a);const c=e-d,h=t-u;return Math.sqrt(c*c+h*h)}function p(e,t,i,n){return Math.sqrt(Math.pow(i-e,2)+Math.pow(n-t,2))}function _(e,t){return{x:e.x+t.x,y:e.y+t.y}}function g(e,t){return{x:t.x-e.x,y:t.y-e.y}}function f(e,t,i){const n={point:null,distance:1/0};let s;return i.forEach((function(i){s=p(e,t,i.x,i.y),s<n.distance&&(n.distance=s,n.point=i)})),n}function m(e,t){const i=(t[1]-t[0])/(e[1]-e[0]);return{scale:i,translate:t[0]-i*e[0]}}function v(e,t,i,n,s,r){return e>=i&&e<=s&&t>=n&&t<=r}function A(e,t,i,n,s,r,o,a){const l=.5*(-r*o+n*(-s+o)+i*(r-a)+s*a),d=l<0?-1:1,u=(n*o-i*a+(a-n)*e+(i-o)*t)*d,c=(i*r-n*s+(n-r)*e+(s-i)*t)*d;return 0===l&&0===u&&0===c?!(e!==i||t!==n):u>=0&&c>=0&&u+c<=2*l*d}function E(e,t,i,n,s,r){return Math.pow(e-i,2)/Math.pow(s,2)+Math.pow(t-n,2)/Math.pow(r,2)<=1}function T(e,t,i){let n=e.y+e.height-i.y,s=e.x-i.x;const r=n+t.height,o=s+t.width,a=i.y+i.height,l=i.x+i.width;return r>a&&(n-=r-a),o>l&&(s-=o-l),{top:n,left:s}}function I(e,t,i,n,s,r,o,a){const l={x:null,y:null,onLineOne:!1,onLineTwo:!1},d=(a-r)*(i-e)-(o-s)*(n-t);if(0===d)return l;let u=t-r,c=e-s;const h=(i-e)*u-(n-t)*c;return u=((o-s)*u-(a-r)*c)/d,c=h/d,l.x=e+u*(i-e),l.y=t+u*(n-t),0<u&&u<1&&(l.onLineOne=!0),0<c&&c<1&&(l.onLineTwo=!0),l}t.lineSegmentsIntersection=s,t.lineIntersection=r,t.lineSegmentAndLineIntersection=o,t.segmentIntersectsRectangle=a,t.slopeInterceptLineRectangleIntersection=l,t.rectanglesIntersect=d,t.getIntersectRectangle=u,t.pointToPointLineRectangleIntersection=c,t.distancePointToSegment=h,t.distancePointToPoint=p,t.movePointBy=_,t.getVector=g,t.findNearestPoint=f,t.getLinearFunctionComponents=m,t.isPointInRectangle=v,t.isPointInTriangle=A,t.pointInOval=E,t.calculateBottomLeftAnchoringPointWithBoundaryConstraints=T,t.default={lineSegmentsIntersection:s,lineIntersection:r,lineSegmentAndLineIntersection:o,segmentIntersectsRectangle:a,slopeInterceptLineRectangleIntersection:l,rectanglesIntersect:d,getIntersectRectangle:u,pointToPointLineRectangleIntersection:c,distancePointToSegment:h,distancePointToPoint:p,movePointBy:_,getVector:g,findNearestPoint:f,getLinearFunctionComponents:m,isPointInRectangle:v,isPointInTriangle:A,pointInOval:E,calculateBottomLeftAnchoringPointWithBoundaryConstraints:T}},18522:(e,t,i)=>{"use strict";var n=i(15215).Bx;Object.defineProperty(t,"__esModule",{value:!0});const s=n(i(289));t.default=new s.default},69787:(e,t,i)=>{"use strict";var n=i(15215).Bx;Object.defineProperty(t,"__esModule",{value:!0});const s=n(i(83503));class r{static isTestEnabled(e,t){if(-1!=window.location.search.indexOf(`${t}=true`))return!0;const i=this.ACCOUNT_OVERRIDES[t];if(i&&e&&i[e.toUpperCase()])return!0;const n=this.TESTS_ADOPTION[t]||0;if(!n)return!1;const r=(0,s.default)(`${e}-${t}`).substring(0,4);return parseInt(r,16)/65536<n}static getEnabledTests(e){return Object.keys(this.TESTS_ADOPTION).filter((t=>this.isTestEnabled(e,t)))}}r.TESTS_ADOPTION=Object.freeze({FEATURE_A:.3,FEATURE_B:.5,FEATURE_C:.9}),r.ACCOUNT_OVERRIDES=Object.freeze({}),t.default=r},21788:(e,t)=>{"use strict";function i(e,t,i){return e+(t-e)*i}Object.defineProperty(t,"__esModule",{value:!0}),t.easedInterpolation=t.linearInterpolation=void 0,t.linearInterpolation=i,t.easedInterpolation=function(e,t,n,s){return i(t,n,e(s))}},9151:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=i(84039);t.default=function(e){return e instanceof n.selection}},23069:(e,t,i)=>{"use strict";var n=i(15215).Bx;Object.defineProperty(t,"__esModule",{value:!0});const s=i(96285),r=i(10094),o=n(i(76040));t.default=class{constructor(e,t=1,i="UTC"){if(this.unit=e,this.multiple=t,this._timezone=i,e===o.default.Enum.TICK)throw new Error("Cannot create time iterator for tick (ticks are not spaced out in linear fashion)");if(t<=0)throw new Error(`Negative multiples are not supported (attempted ${this.multiple})`);if(Math.floor(t)!==t)throw new Error(`Fractional multiples are not supported (attempted ${this.multiple})`);this.period=o.default.Periods[e]*t}static _isMidnight(e){return 0===e.hour&&0===e.minute&&0===e.second&&0===e.millisecond}next(e){const t=this.unit.toLowerCase(),i=s.DateTime.fromJSDate(e,{zone:this._timezone}).startOf(t),n=this._advanceUnit(i[t])-i[t];return i.plus({[`${t}s`]:n}).toJSDate()}previous(e){let t=s.DateTime.fromJSDate(e,{zone:this._timezone});const i=this.unit.toLowerCase(),n=t.startOf(i);return!t.equals(n)&&(t=n,this._isStop(t))?t.toJSDate():t.plus({[`${i}s`]:this._regressUnit(t[i])-t[i]}).toJSDate()}floor(e){const t=s.DateTime.fromJSDate(e,{zone:this._timezone});return this._isStop(t)?t.toJSDate():this.previous(e)}ceil(e){const t=s.DateTime.fromJSDate(e,{zone:this._timezone});return this._isStop(t)?t.toJSDate():this.next(e)}isStop(e){return this._isStop(s.DateTime.fromJSDate(e,{zone:this._timezone}))}_advanceUnit(e){return(0,r.floorToClosestMultiple)(e+this.multiple,this.multiple)}_regressUnit(e){return(0,r.floorToClosestMultiple)(e-this.multiple,-this.multiple)}iterateBetween(e,t){const i=e[0],n=e[1];let s;for(s=this.next(i);s<n;s=this.next(s)){const e=t(s);if(!1===e)return;s=e||s}}expandDateRangeToIteratorStops(e){return[this.previous(e[0]),this.next(e[1])]}toString(){return`[${this.constructor.name} : ${this.multiple} x ${this.unit}]`}}},61297:(e,t,i)=>{"use strict";var n=i(15215).Bx;Object.defineProperty(t,"__esModule",{value:!0});const s=n(i(23069)),r=n(i(76040));class o extends s.default{constructor(e,t){if(super(r.default.Enum.DAY,e,t),this._isStop=s.default._isMidnight,1!==this.multiple)throw new Error(`only multiple of 1 is supported but requested ${e}`)}_advanceUnit(e){return e+1}_regressUnit(e){return e-1}}t.default=o},80688:(e,t,i)=>{"use strict";var n=i(15215).Bx;Object.defineProperty(t,"__esModule",{value:!0});const s=n(i(23069)),r=i(96285),o=n(i(76040));class a extends s.default{constructor(e,t){if(super(o.default.Enum.HOUR,e,t),o.default.Periods.DAY%this.period)throw new Error(`multiple of ${e} hours does not align within a day`);if(this.period>=o.default.Periods.DAY)throw new Error("Using hour iterator to handle periods of day or bigger; use day iterator instead")}next(e){return this._adjustForDST(e,super.next(e))}previous(e){return this._adjustForDST(e,super.previous(e))}_isStop(e){return e.hour%this.multiple==0&&0===e.minute&&0===e.second&&0===e.millisecond}_adjustForDST(e,t){const[i,n]=[e,t].map((e=>r.DateTime.fromJSDate(e,{zone:this._timezone})));if(i.isInDST===n.isInDST||this._isStop(n))return t;let s=n.plus({minutes:i.offset-n.offset});return s.equals(i)&&(s=s.plus({hours:this.multiple})),s.toJSDate()}}t.default=a},50421:(e,t,i)=>{"use strict";var n=i(15215).Bx;Object.defineProperty(t,"__esModule",{value:!0});const s=n(i(23069)),r=n(i(76040));class o extends s.default{constructor(e,t){super(r.default.Enum.MILLISECOND,e,t)}next(e){return new Date(e.getTime()+this.period)}previous(e){return new Date(e.getTime()-this.period)}_isStop(e){return e.millisecond%this.multiple==0}}t.default=o},5126:(e,t,i)=>{"use strict";var n=i(15215).Bx;Object.defineProperty(t,"__esModule",{value:!0});const s=n(i(23069)),r=n(i(76040));class o extends s.default{constructor(e,t){if(super(r.default.Enum.MINUTE,e,t),this.period>=r.default.Periods.HOUR)throw new Error("Using minute iterator to handle periods of hour or bigger; use hour iterator instead");if(r.default.Periods.HOUR%this.period)throw new Error(`multiple of ${e} minutes does not align within an hour`)}_isStop(e){return e.minute%this.multiple==0&&0===e.millisecond&&0===e.second}}t.default=o},20034:(e,t,i)=>{"use strict";var n=i(15215).Bx;Object.defineProperty(t,"__esModule",{value:!0});const s=n(i(23069)),r=n(i(76040));class o extends s.default{constructor(e,t){if(super(r.default.Enum.MONTH,e,t),12%this.multiple)throw new Error(`multiple of ${e} months does not align within a year`);if(this.multiple>=12)throw new Error("Using month iterator to handle periods of year or bigger; use year iterator instead")}_isStop(e){return(e.month-1)%this.multiple==0&&1===e.day&&s.default._isMidnight(e)}_advanceUnit(e){return super._advanceUnit(e-1)+1}_regressUnit(e){return super._regressUnit(e-1)+1}}t.default=o},52258:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=class{constructor(){this.multiple=0,this.unit=null}expandDateRangeToIteratorStops(e){return e}iterateBetween(e,t){}next(e){return e}previous(e){return e}}},47666:(e,t,i)=>{"use strict";var n=i(15215).Bx;Object.defineProperty(t,"__esModule",{value:!0});const s=n(i(23069)),r=n(i(76040));class o extends s.default{constructor(e,t){if(super(r.default.Enum.SECOND,e,t),this.period>=r.default.Periods.MINUTE)throw new Error("Using second iterator to handle periods of minute or bigger; use minute iterator instead");if(r.default.Periods.MINUTE%this.period)throw new Error(`multiple of ${e} seconds does not align within a minute`)}_isStop(e){return e.second%this.multiple==0&&0===e.millisecond}}t.default=o},65235:(e,t,i)=>{"use strict";var n=i(15215).Bx;Object.defineProperty(t,"__esModule",{value:!0}),t.nullIterator=t.getIterator=void 0;const s=n(i(61297)),r=n(i(80688)),o=n(i(50421)),a=n(i(5126)),l=n(i(20034)),d=n(i(52258)),u=n(i(47666)),c=n(i(8730)),h=n(i(35307)),p=n(i(76040)),_={[p.default.Enum.MILLISECOND]:o.default,[p.default.Enum.TICK]:u.default,[p.default.Enum.SECOND]:u.default,[p.default.Enum.MINUTE]:a.default,[p.default.Enum.HOUR]:r.default,[p.default.Enum.DAY]:s.default,[p.default.Enum.WEEK]:c.default,[p.default.Enum.MONTH]:l.default,[p.default.Enum.YEAR]:h.default};t.getIterator=function(e,t,i){return new _[e](t,i)},t.nullIterator=function(){return new d.default}},8730:(e,t,i)=>{"use strict";var n=i(15215).Bx;Object.defineProperty(t,"__esModule",{value:!0});const s=n(i(23069)),r=i(96285),o=n(i(76040));class a extends s.default{constructor(e,t){if(super(o.default.Enum.WEEK,e,t),1!==this.multiple)throw new Error("only multiple of 1 is supported")}next(e){return r.DateTime.fromJSDate(e,{zone:this._timezone}).plus({days:7}).startOf("week").toJSDate()}previous(e){let t=r.DateTime.fromJSDate(e,{zone:this._timezone});return t=this._isStop(t)?t.minus({days:7}):t.startOf("week"),t.toJSDate()}_isStop(e){return 1===e.weekday&&s.default._isMidnight(e)}}t.default=a},35307:(e,t,i)=>{"use strict";var n=i(15215).Bx;Object.defineProperty(t,"__esModule",{value:!0});const s=n(i(23069)),r=n(i(76040));class o extends s.default{constructor(e,t){super(r.default.Enum.YEAR,e,t)}_isStop(e){return e.year%this.multiple==0&&1===e.month&&1===e.day&&s.default._isMidnight(e)}}t.default=o},94944:(e,t)=>{"use strict";function i(e,t){const i=[];if(e.length>0){i.push(e[0]);for(let n=1;n<e.length;n++)i.push(Math.max(e[n],i[n-1]+t))}return i}function n(e,t){const i=[];if(e.length>0){i.push(e[0]);for(let n=1;n<e.length;n++)i.push(Math.min(e[n],i[n-1]-t))}return i}Object.defineProperty(t,"__esModule",{value:!0}),t.spacePointsDownwards=t.spacePointsUpwards=t.spacePointsUpAndDown=void 0,t.spacePointsUpAndDown=function(e,t){const s=Math.floor(e.length/2),r=e.slice(s),o=e.slice(0,s+1),a=i(r,t);return n(o.reverse(),t).reverse().concat(a.slice(1))},t.spacePointsUpwards=i,t.spacePointsDownwards=n},10094:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.normaliseAngle=t.randomSeeded=t.roundToClosestMultiple=t.ceilToClosestMultiple=t.floorToClosestMultiple=t.rangeIntersection=t.between=t.radiansToDegrees=t.degreesToRadians=t.range=t.toInteger=t.logWithBase=t.mod=t.mean=t.sum=t.isNumber=t.enforceMinimumValue=t.toNumericPrecision=t.roundFloatingPointError=t.roundToDecimalPlaces=void 0;function i(e,t){const i=Math.pow(10,t);return Math.round(e*i)/i}function n(e){return i(e,Math.min(8,Math.floor(Math.log10(Number.MAX_SAFE_INTEGER)-Math.log10(Math.abs(e)))))}function s(e){return"number"==typeof e&&!isNaN(e)}function r(e){let t,i=0;for(t=0;t<e.length;t++)s(e[t])&&(i+=e[t]);return i}function o(e,t,i){return Math.min(t,i)<=e&&e<=Math.max(t,i)}function a(e,t,i){if(i=i||Math.round,0===t)return e;const s=n(e/t);return n(i(s)*t)}t.roundToDecimalPlaces=i,t.roundFloatingPointError=n,t.toNumericPrecision=function(e,t){return+e.toPrecision(t)},t.enforceMinimumValue=function(e,t){return Math.abs(e)<t&&(e=t*(e<0?-1:1)),e},t.isNumber=s,t.sum=r,t.mean=function(e){return n(r(e)/e.length)},t.mod=function(e,t){return(e%t+t)%t},t.logWithBase=function(e,t){return Math.log(t)/Math.log(e)},t.toInteger=function(e){if(e){const t=parseInt(e,10);return s(t)?t:null}return null},t.range=function(e){return e.length<=1?0:Math.max(...e)-Math.min(...e)},t.degreesToRadians=function(e){return e*Math.PI/180},t.radiansToDegrees=function(e){return 180*e/Math.PI},t.between=o,t.rangeIntersection=function(e,t){return o(e[0],t[0],t[1])||o(e[1],t[0],t[1])||o(t[0],e[0],e[1])||o(t[1],e[0],e[1])?[Math.max(e[0],t[0]),Math.min(e[1],t[1])]:[]},t.floorToClosestMultiple=function(e,t){return a(e,t,Math.floor)},t.ceilToClosestMultiple=function(e,t){return a(e,t,Math.ceil)},t.roundToClosestMultiple=a,t.randomSeeded=function(e){const t=1e4*Math.sin(e);return t-Math.floor(t)},t.normaliseAngle=function(e){return(e%=360)>180?e-=360:e<=-180&&(e+=360),e}},40708:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.rangeMinMax=t.clampInRange=t.reverseRange=t.inRange=t.firstRangeContainedInSecond=t.minimumExtent=t.scaleAboutMidpoint=t.midPoint=t.expandProportionally=t.rangeExtent=t.pairDifferent=t.pairSame=t.rangePair=void 0;const n=i(43130);function s(e,t){return e[0]===t[0]&&e[1]===t[1]}function r(e){return e[1]-e[0]}function o(e){return(e[0]+e[1])/2}t.rangePair=function(e){if(e.length<2)throw new Error("Array of more than one element expected");return 2===e.length?e:[e[0],e[1]]},t.pairSame=s,t.pairDifferent=function(e,t){return!s(e,t)},t.rangeExtent=r,t.expandProportionally=function(e,t){const i=r(t)*e*.5;return[t[0]-i,t[1]+i]},t.midPoint=o,t.scaleAboutMidpoint=function(e,t){const i=o(e),n=r(e)/2*t;return[i-n,i+n]},t.minimumExtent=function(e,t){if(Math.abs(r(t))>=e)return t;const i=o(t),n=e/2;return[i-n,i+n]},t.firstRangeContainedInSecond=function(e,t){const i=e[0],n=e[1],s=t[0],r=t[1];return i>=s&&i<=r&&n>=s&&n<=r},t.inRange=function(e,t){return e[0]<=t&&t<=e[1]},t.reverseRange=function(e){return[e[1],e[0]]},t.clampInRange=function(e,t){return(0,n.clamp)(e,t[0],t[1])},t.rangeMinMax=function(e){if(!e.length)throw new Error("at least 1 range pair must be provided");return e.reduce(((e,t)=>[Math.min(e[0],t[0]),Math.max(e[1],t[1])]),[1/0,-1/0])}},54859:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.importForeignObject=t.isDefined=t.deleteProperties=t.merge=t.diff=t.deepCopyLiteral=t.shallowClone=t.applyTo=t.recursiveFreeze=t.isLiteral=void 0;const n=i(43130);function s(e){return!(!e||!e.constructor||e.constructor!==Object)}function r(e,t,i){for(const n in t)"prototype"==n||"superclass"==n||i&&void 0!==e[n]||(e[n]=t[n]);return e}t.isLiteral=s,t.recursiveFreeze=function e(t){if(Object.freeze.shim)return t;let i,r;for(r in Object.freeze(t),t)i=t[r],(s(i)||(0,n.isArray)(i))&&e(i);return t},t.applyTo=r,t.shallowClone=function(e){return r({},e)},t.deepCopyLiteral=function e(t,i){let n;for(n in i)if(Object.prototype.hasOwnProperty.call(i,n)){if(Object.prototype.hasOwnProperty.call(t,n))throw new Error(`Property "${n}" is being overwritten.`);s(i[n])?t[n]=e({},i[n]):t[n]=i[n]}return t},t.diff=function e(t,i){let r,o;if((0,n.isArray)(t)&&(0,n.isArray)(i)){if(t.length!==i.length)return i.slice();for(let n=0;n<i.length;n++)if(o=e(t[n],i[n]),void 0!==o)return i.slice()}else if(s(t)&&s(i)){r={};for(const n in i)o=e(t[n],i[n]),void 0!==o&&(r[n]=o);if(!(0,n.isEmpty)(r))return r}else if((0,n.isNumber)(t)&&(0,n.isNumber)(i)){if(!(t===i||isNaN(t)&&isNaN(i)))return i}else if(t!==i)return i},t.merge=function(...e){return!0===e[e.length-1]&&e.pop()||e.unshift({}),(0,n.merge)(...e)},t.deleteProperties=function(e,t){for(let i=0;i<t.length;i++)Object.prototype.hasOwnProperty.call(e,t[i])&&delete e[t[i]];return e},t.isDefined=function(e){return void 0!==e},t.importForeignObject=function(e){return void 0===e?void 0:JSON.parse(JSON.stringify(e))}},38523:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.percentageLtpAvailable=t.flattenHcdJson=void 0;const n=i(43130);function s(e){const t=[];if(null==e?void 0:e.intervalsDataPoints)for(let i=0;i<e.intervalsDataPoints.length;i++){const n=e.intervalsDataPoints[i];for(let e=0;e<n.dataPoints.length;e++)t.push(n.dataPoints[e])}return t}t.flattenHcdJson=s,t.percentageLtpAvailable=function(e,t){t=t||"closePrice";const i=s(e),r=i.filter((0,n.property)([t,"lastTraded"])).length,o=i.length;return o?r/o:0}},92631:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});class i{constructor(e){this._namespace=e}static create(e){return new i(e)}has(e){return void 0!==this.get(e)}get(e){const t=window.localStorage.getItem(`${this._namespace}/${e}`);if(t&&"undefined"!==t)return JSON.parse(t)}set(e,t){return window.localStorage.setItem(`${this._namespace}/${e}`,JSON.stringify(t)),this}remove(e){return window.localStorage.removeItem(`${this._namespace}/${e}`),this}clear(){return this.keys().forEach(this.remove,this),this}keys(){const e=this._namespace.length+1;return Object.keys(window.localStorage).filter(RegExp.prototype.test.bind(new RegExp(`^${this._namespace}/`))).map((t=>t.slice(e)))}}t.default=i},96001:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.hash=t.merge=void 0;const n=i(43130);t.merge=function(e,t){return e=e||"",(0,n.isObjectLike)(t)||(t=[t]),e.replace(/\{([^}]+)\}/g,((e,i)=>void 0!==t[i]?t[i]:""))},t.hash=function(e){let t,i,n=0;if(e.length<=0)return n;for(i=0;i<e.length;i++)t=e.charCodeAt(i),n=(n<<5)-n+t,n|=0;return n}},71211:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getTextDimensions=void 0;const n=i(43130),s=i(9525);t.getTextDimensions=function(e,t,i){const r=e.split("\n"),o=(0,n.last)(r.sort((0,s.ascendingFieldComparator)("length")));return{height:Math.round(1.6*r.length*t),width:Math.round(o.length*t*.55*(i?1.1:1))}}},76040:(e,t)=>{"use strict";var i;Object.defineProperty(t,"__esModule",{value:!0}),function(e){let t;!function(e){e.MILLISECOND="MILLISECOND",e.TICK="TICK",e.SECOND="SECOND",e.MINUTE="MINUTE",e.HOUR="HOUR",e.DAY="DAY",e.WEEK="WEEK",e.MONTH="MONTH",e.YEAR="YEAR"}(t=e.Enum||(e.Enum={}));let i;!function(e){e[e.MILLISECOND=1]="MILLISECOND",e[e.TICK=1e3]="TICK",e[e.SECOND=1e3]="SECOND",e[e.MINUTE=6e4]="MINUTE",e[e.HOUR=36e5]="HOUR",e[e.DAY=864e5]="DAY",e[e.WEEK=6048e5]="WEEK",e[e.MONTH=2628e6]="MONTH",e[e.YEAR=31536e6]="YEAR"}(i=e.Periods||(e.Periods={}))}(i||(i={})),t.default=i},97292:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getGuid=t.getUid=void 0;const n=i(10094);let s=1;t.getUid=function(){return s++},t.getGuid=function(e){let t,i,s,r="",o=0;for(;o++<36;)t="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx"[o-1],i=16*("number"==typeof e?(0,n.randomSeeded)(e++):Math.random())|0,s="x"==t?i:3&i|8,r+="-"==t||"4"==t?t:s.toString(16);return r}},46623:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.build=void 0;const n=i(43130);t.build=function(e,t){const i=Object.keys((0,n.omitBy)(t,n.isNil)).map((e=>`${e}=${encodeURIComponent((0,n.toString)(t[e]))}`)).join("&"),s=-1===e.indexOf("?")?"?":"&";return i.length?`${e}${s}${i}`:e}},80272:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isEpic=t.isLocale=void 0;const i=/^([A-Z]+(\.[A-Z0-9_-]+)+|null)$/i,n=/^[A-Za-z]{2}(_[A-Z]{2})?$/;t.isLocale=function(e){return n.test(e)},t.isEpic=function(e){return!("string"==typeof e&&e.length>50)&&i.test(String(e))}},70094:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.visibleBlocksIndexRange=void 0;const n=i(41943);t.visibleBlocksIndexRange=function(e){return 0===e.length?null:[e[0].index,(0,n.lastOf)(e).index]}},78002:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=i(10094),s=i(40708);class r{constructor(e){this._visibleWindow=e}static create(e){return new r(e)}_getSpaceBetweenTicks(){const e=this._visibleWindow.height(),t=-6829e-8*e*e+.13675*e+7.4295;return Math.max(t,12)}generateTicks(e,{baseTickAtLeftmostCloseLevel:t=!1}){const i=Math.floor((0,s.rangeExtent)((0,s.rangePair)(e.range()))/this._getSpaceBetweenTicks()),r=function(e){const t=e.range();return[e.invert(t[0]+5),e.invert(t[1]-5)]}(e);let o,a,l,d,u=e.ticks(Math.max(1,i)),c=u.length;if(u.length){if(t&&(o=this._visibleWindow.getLeftmostCloseLevel(),o>e.domain()[1]&&o<e.domain()[0])){for(a=(e.domain()[0]-e.domain()[1])/i,l=[o],d=o-a;d>e.domain()[1];)l.push(d),d-=a;for(d=o+a;d<e.domain()[0];)l.push(d),d+=a;u=l.sort((function(e,t){return t-e}))}for(;c--&&u[c]<=r[1];)u.pop();for(;u.length&&u[0]>=r[0];)u.shift();for(let e=0;e<u.length;e++)u[e]=(0,n.roundToDecimalPlaces)(u[e],6)}return u}}t.default=r},3565:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=class{constructor(e){this._hotkeyMap=Object.create(null),this._eventBus=e}withSubView(e){return this._subView=e,this}withModuleLoader(e){return this._moduleLoader=e,this}withContainerProvider(e){return this._containerProvider=e,this}withSettingsManager(e){return this._settingsManager=e,this}withTaskManager(e){return this._taskManager=e,this}withPresentationModel(e){return this._presentationModel=e,this}startListening(e,t){return this._visibleWindow=e,this._instrumentModelCollection=t,this}stopListening(){var e,t;null===(e=this._visibleWindow)||void 0===e||e.un(null,this),delete this._visibleWindow,null===(t=this._eventBus)||void 0===t||t.unsubscribeAll(this)}getPresentationModel(){return this._presentationModel}getTaskManager(){return this._taskManager}destroy(){var e;this._visibleWindow?this.stopListening():this._eventBus&&this._eventBus.unsubscribeAll(this),null===(e=this._presentationModel)||void 0===e||e.destroy(),delete this._presentationModel,delete this._eventBus,delete this._hotkeyMap}}},86605:(e,t)=>{"use strict";function i(e){return parseInt(e,2)}var n;Object.defineProperty(t,"__esModule",{value:!0}),function(e){e[e.STATIC=i("0000")]="STATIC",e[e.MOVED=i("0001")]="MOVED",e[e.ZOOMED=i("0010")]="ZOOMED",e[e.INITIALISED=i("0100")]="INITIALISED",e[e.RESIZED=i("1000")]="RESIZED"}(n||(n={})),t.default=n},35138:(e,t,i)=>{"use strict";var n=i(15215).Bx,s=i(15215).ut;Object.defineProperty(t,"__esModule",{value:!0});const r=i(43130),o=n(i(40975)),a=n(i(85673)),l=i(58703),d=n(i(50951)),u=n(i(77209)),c=n(i(61568)),h=n(i(13365)),p=n(i(79227)),_=n(i(17945)),g=n(i(33130)),f=n(i(25322)),m=n(i(23708)),v=n(i(289)),A=n(i(78429)),E=s(i(83173)),T=i(73036),I=n(i(36757)),C=n(i(10520)),O=n(i(83154)),M=n(i(65854)),y="MAXIMIZED",b="touch";class S extends v.default{get dimensionOffsets(){return this._dimensionOffsets}constructor(e,t,i,n,s,o,l){super(),this._dimensionOffsets=Object.freeze({top:0,right:0,bottom:0,left:0}),this.rightMargin=0,this.lastCandleToYAxisGap=0,this._kinetic=!0,this.name=e,this._eventBus=i,this._containerProvider=t,this.animationPoller=o,this.subViewManager=A.default.create(n,s,i,o,t,this._dimensionOffsets,l),this.dContainer=this._containerProvider.getRootContainer().classed(b,a.default.isTouch()).classed("android",a.default.isAndroid()),this._loadingIndicator=this._createLoadingIndicator(),(0,r.each)(M.default.getInstance().getFlags(),((e,t)=>this.dContainer.classed(t,!!e))),l&&l.registerGlobalHotKey(c.default.SPACE,this._handleLatestCandleHotkey.bind(this))}static create(e,t,i,n,s,r,o){return new S(e,t,i,n,s,r,o)}getUniqueElementId(e){return`${this.name}-${e}`}addPersistentSubViews(){return this.subViewManager.addPersistentSubViews(this),this}withCaptureZoneManager(e){return this._captureZoneManager=e,this.subViewManager.withCaptureZoneManager(e),this}getHtmlOverlay(){return this._dHtmlContainer}withTheme(e){return this._theme&&this.dContainer.classed(this._theme,!1),this._theme=e,e&&this.dContainer.classed(e,!0),this}withFlavour(e){return this._flavour&&this.dContainer.classed(this._flavour,!1),this._flavour=e,e&&this.dContainer.classed(e,!0),this}withConfig(e){return this.rightMargin=e.rightMargin||0,this.lastCandleToYAxisGap=e.lastCandleToYAxisGap||0,void 0!==e.kinetic&&(this._kinetic=!!e.kinetic),e.extraClasses&&e.extraClasses.forEach((e=>this.dContainer.classed(e,!0))),this}withModel(e){if(this._chartModel)throw new Error("the chartModel should never be changed once set");return this._chartModel=e,this.subViewManager.withChartModel(e),e.hasInstrumentResolution()&&(this.subViewManager.recreateSubViewRenderers(),this.hideLoadingIndicator()),e.indicators.forEach((e=>this._setupRenderingOfIndicator(e))),e.on(o.default.INDICATOR_ADDED,this._setupRenderingOfIndicator,this),e.on(o.default.INDICATOR_REMOVED,this._handleIndicatorRemoved,this),e.on(o.default.INDICATOR_UPDATED,this._redraw,this),e.on(o.default.CHART_CLEARED,this._handleChartCleared,this),e.currentInstrumentResolution&&this._chartModel.visibleDateRange&&e.currentInstrumentResolution.hasBlocksLoaded()&&(this._chartModel.visibleDateRange.setXAxisReady(!0),this._createInputInterpreters()),this._eventBus.subscribe("chart/resolution/changed",this._handleInstrumentResolutionChange,this),this}initDom(){return this._createChartRenderingSpace()._createGlobalCaptureZone()._createPanAndZoomInput(),this.subViewManager.initSubViews(this._dSvgContainer,this._dHtmlContainer),this._eventBus.publish("chart/view/ready",[this,this._captureZoneManager,this._dHtmlContainer,this._dSvgContainer],{retrospective:!0}),this}moveToDate(e){var t;null===(t=this._chartModel.visibleDateRange)||void 0===t||t.moveToDate(e),this._eventBus.publish("chart/yfitting/reset")}getStartDate(){var e;if(this._chartModel){const t=null===(e=this._chartModel.visibleDateRange)||void 0===e?void 0:e.getTimeline();if(t)return t.startDate()}return T.MIN_DATE}getLevel(e,t){const i=this.subViewManager.getSubView(t);if(!i)return null;const n=i.getRelativeCursorPoint(e).y;return n<i.dimensions.height&&n>0&&null!==this._chartModel.underlyingInstrumentScalingFactor?i.visibleWindow.y.invert(n)/this._chartModel.underlyingInstrumentScalingFactor:null}withDimensionOffsets(e){const t=Object.freeze((0,r.merge)({},this._dimensionOffsets,e));return(0,r.isEqual)(this._dimensionOffsets,t)||(this._dimensionOffsets=t,this.updateDimensions()),this}moveTo(e,t,i){var n;this._scroller.stopMovement(),null===(n=this._chartModel.visibleDateRange)||void 0===n||n.moveTo(e,t,i)}moveToLatestCandle(e){var t,i,n;this._scroller.stopMovement(),e&&(null===(t=this._chartModel.visibleDateRange)||void 0===t||t.on(I.default.MOVED,(()=>this._reportLatestCandles(e)),this,{once:!0}));try{null===(i=this._chartModel.visibleDateRange)||void 0===i||i.setToLastPoint()}finally{e&&(null===(n=this._chartModel.visibleDateRange)||void 0===n||n.un(I.default.MOVED,this))}this._eventBus.publish("chart/yfitting/reset")}_reportLatestCandles(e){this._eventBus.publish("tracker/ga",[{interaction_type:l.GA_ACTION.LATEST_CANDLES,interaction_value:e}])}isLatestCandleInVisibleWindow(){return!this._chartModel||!this._chartModel.visibleDateRange||this._chartModel.visibleDateRange.isLatestCandleInVisibleRange()}updateDimensions(){const e=this._matchSvgWidthAndHeightToContainer();this._updateDimensions(e)}isMinimised(){return this.chartWidth()<=1&&this.chartHeight()<=1}newDefs(e){const t=this._dSvgRoot.insert("svg:defs",".topSvg");return e&&t.attr("id",e),t}removeDefs(e){this._dSvgRoot.select(`#${e}`).remove()}chartWidth(){return parseInt(this._dSvgRoot.attr("width"),10)}chartHeight(){return parseInt(this._dSvgRoot.attr("height"),10)}chartRect(){return this._dSvgRoot.node().getBoundingClientRect()}showLoadingIndicator(){this._loadingIndicator.show()}showBlankChartPrompt(e){this._loadingIndicator.hide(),this._blankChartPrompt.text(e)}hideLoadingIndicator(){this._loadingIndicator.hide(),this._blankChartPrompt.text("")}addRenderersBySubviewConfig(e){this.subViewManager&&this.subViewManager.addRenderersBySubviewConfig(e)}removeRenderersBySubviewConfig(e){this.subViewManager&&this.subViewManager.removeRenderersBySubviewConfig(e)}render(){this.subViewManager.render()}destroy(){this._eventBus.publish("chart/view/destroyed"),this._eventBus.flush("chart/view/ready"),this._eventBus.unsubscribe("chart/resolution/changed",this._handleInstrumentResolutionChange,this),this._chartModel&&(this._chartModel.visibleDateRange&&this._chartModel.visibleDateRange.setXAxisReady(!1),this._stopListeningToIndicators(),this._chartModel.un(null,this),delete this._chartModel),this._destroyScroller();for(const e of["_zoomer","_panAndZoomInput","globalCaptureZone","_chartMovementZone","_captureZoneManager","subViewManager","_loadingIndicator"])this[e]&&(this[e].destroy(),delete this[e]);if(this._eventBus.unsubscribeAll(this),this.dContainer)for(const e of Object.keys(M.default.getInstance().getFlags()).concat([this._theme,this._flavour,b,"android"]))e&&this.dContainer.classed(e,!1);this._blankChartPrompt&&(this._blankChartPrompt.remove(),delete this._blankChartPrompt),delete this._dHtmlContainer,delete this._dSvgContainer,delete this._dSvgRoot,delete this._blankChartPrompt,delete this.dContainer}_hasKineticMovement(){return this._kinetic}_handleLatestCandleHotkey(){this.moveToLatestCandle(l.EventOrigin.KEYBOARD)}_setupRenderingOfIndicator(e){if(!e.studyName)return;let t=this.subViewManager.studyViewForIndicator(e);t||(t=this.subViewManager.addSubView(this,e.studyName)),this._chartModel.hasInstrumentResolution()&&(t.addIndicator(e),this._redraw())}_handleIndicatorRemoved(e){if(e.studyName)if(this._chartModel.hasInstrumentResolution()){const t=this.subViewManager.studyViewForIndicator(e);t&&t.removeIndicator(e);this.subViewManager.removeDefunctStudyViews()&&this._redraw()}else this.subViewManager.removeDefunctStudyViews()}_handleInstrumentResolutionChange(){var e;this.subViewManager.recreateSubViewRenderers(),this.subViewManager.createRenderersForIndicators(),this.updateDimensions(),this._createInputInterpreters(),(null===(e=this._chartModel.currentInstrumentResolution)||void 0===e?void 0:e.hasBlocksLoaded())&&this.render()}_handleChartCleared(){this.subViewManager.removeSubViewRenderers()}_createInputInterpreters(){this._createScroller(),this._createZoomer()}_trackChartScroll(){this._eventBus.publish("tracker/ga",[{interaction_type:l.GA_ACTION.SCROLLING}])}_createScroller(){const e=this._chartModel.visibleDateRange,t=this.dContainer.attr("id");this._destroyScroller(),this._scrollerTouch=p.default.create(),this._scrollerPan=E.default.create({directions:E.DIRECTIONS.HORIZONTAL}),this._chartMovementZone.addGestureRecogniser(this._scrollerTouch),this._chartMovementZone.addGestureRecogniser(this._scrollerPan),this._scroller=m.default.create(t).withAnimationPoller(this.animationPoller).withFrictionCoefficient(m.default.LOW_FRICTION).startGettingInputFrom(this._scrollerPan).setKineticMovement(this._hasKineticMovement()).manageMovementIn(e).onDragEnd((()=>this._trackChartScroll())),this._scrollerTouch.withHandler(this._scroller.stopMovement,this._scroller)}_createZoomer(){this._zoomer&&this._zoomer.destroy(),this._zoomer=(new O.default).withEventBus(this._eventBus).manageMovementIn(this._chartModel.visibleDateRange).applyForcesWith(this._scroller).startListening()}_createChartRenderingSpace(){return this._dSvgRoot=this._containerProvider.getContainer("svg-root"),this._matchSvgWidthAndHeightToContainer(),this._dSvgContainer=this._containerProvider.getContainer("top-svg"),this._dHtmlContainer=this._containerProvider.getContainer("top-html"),this}_createGlobalCaptureZone(){return this._captureZoneManager.startListeningTo(this._containerProvider.getContainer("input-overlay").node()),this.globalCaptureZone=this._captureZoneManager.createZone(h.default,d.default.PROPAGATE_ALL,C.default.BASE),this._chartMovementZone=this._captureZoneManager.createZone(f.default,d.default.PROPAGATE_ALL,C.default.BASE),this}_createPanAndZoomInput(){return this._panAndZoomInput=g.default.create(this,this._chartMovementZone,this._eventBus,this._trackChartScroll),this}_redraw(){var e;this.subViewManager.renderSubViewsContainers(),this.updateDimensions(),(null===(e=this._chartModel.currentInstrumentResolution)||void 0===e?void 0:e.hasBlocksLoaded())&&this.render()}_updateDimensions(e){if(this._chartModel&&this._chartModel.hasInstrumentResolution()&&this._chartModel.visibleDateRange){const t=this.rightMargin+this.lastCandleToYAxisGap;this._chartModel.visibleDateRange.withRightMargin(t),this._chartModel.visibleDateRange.xAxisReady&&this._chartModel.visibleDateRange.width()>1?this._chartModel.visibleDateRange.resizeTo(this.chartWidth(),this._dimensionOffsets):this._chartModel.visibleDateRange.setWidth(this.chartWidth(),this._dimensionOffsets),this._chartModel.visibleDateRange.hasTimelineIntervals()&&e===y&&this.moveToLatestCandle()}this.subViewManager.updateDimensions(this.chartWidth(),this.chartHeight(),this._dimensionOffsets),this._captureZoneManager.invalidateOffset(),this._chartMovementZone.setDimensions({x:this._dimensionOffsets.left||0,y:this._dimensionOffsets.top||0,width:this.chartWidth()-(this._dimensionOffsets.left||0)-(this._dimensionOffsets.right||0),height:this.chartHeight()-(this._dimensionOffsets.top||0)-(this._dimensionOffsets.bottom||0)})}_matchSvgWidthAndHeightToContainer(){const e=Math.max(1,parseInt(this.dContainer.property("clientWidth"),10)),t=Math.max(1,parseInt(this.dContainer.property("clientHeight"),10)),i=this.isMinimised();return this._dSvgRoot.attrs({width:e,height:t}),this._eventBus.publish("chart/view/dimensions/changed",[e,t]),i&&!this.isMinimised()?y:"RESIZED"}_destroyScroller(){this._scroller&&(this._scroller.destroy(),delete this._scroller);for(const e of["_scrollerPan","_scrollerTouch"])this[e]&&(this._chartMovementZone&&this._chartMovementZone.removeGestureRecogniser(this[e]),this[e].destroy(),delete this[e])}_stopListeningToIndicators(){this._chartModel.indicators.forEach((e=>e.un(null,this)))}_createLoadingIndicator(){const e=_.default.create();return e.initDom(this.dContainer),this._blankChartPrompt=this.dContainer.append("span").classed("blankChartPrompt",!0),this._eventBus.subscribe(u.default.REQUEST_ERROR,this.hideLoadingIndicator,this),e}}t.default=S},66893:(e,t,i)=>{"use strict";var n=i(15215).ut,s=i(15215).Bx,r=i(15215).Tt;Object.defineProperty(t,"__esModule",{value:!0});const o=i(74848),a=n(i(92568)),l=s(i(48320)),d=a.default.div`
   display: flex;
   flex-direction: row;
   align-items: center;
`,u=a.default.input((({theme:{color:e,size:t}})=>a.css`
   accent-color: ${e.checkbox.active.background.value};
   border-color: ${e.checkbox.border.value};
   width: ${t.checkbox.medium.width.value};
   height: ${t.checkbox.medium.height.value};

   display: block!important; // TODO CHAR-4426 important to temporarily override unscoped platform styles
`)),c=a.default.p((({theme:{color:e}})=>a.css`
   color: ${e.text.secondary.value};
`));t.default=e=>{var{isChecked:t,onCheckboxChange:i,value:n,handleValueChange:s,disabled:a=!1}=e,h=r(e,["isChecked","onCheckboxChange","value","handleValueChange","disabled"]);return(0,o.jsxs)(d,Object.assign({},h,{children:[(0,o.jsx)(u,{type:"checkbox",checked:t,onChange:e=>{i(e.target.checked)},disabled:a}),(0,o.jsx)(l.default,{disabled:a,value:n,handleChange:s,hideLargeSpinners:!0,step:.1}),(0,o.jsx)(c,{children:"%"})]}))}},13585:(e,t,i)=>{"use strict";var n=i(15215).Bx;Object.defineProperty(t,"__esModule",{value:!0});const s=i(74848),r=n(i(66893)),o=n(i(92568)),a=i(82344),l=o.default.div`
   display: grid;
   grid-template-columns: 1fr;
   gap: ${({theme:{size:e}})=>e.spacers[2].value};

   @media${a.portraitTablet} {
      grid-template-columns: 1fr 1fr;
   }
`;t.default=({inputStates:e,onCheckboxChange:t,handleValueChange:i,disableAll:n})=>(0,s.jsx)(l,{children:e.map((({id:o,value:a,isChecked:l},d)=>(0,s.jsx)(r.default,{value:a,isChecked:l,onCheckboxChange:i=>((i,n)=>{null==t||t(i,n,e)})(d,i),handleValueChange:t=>((t,n)=>{null==i||i(t,n,e)})(d,t),disabled:n||e[d].disabled},o)))})},48320:(e,t,i)=>{"use strict";var n=i(15215).ut,s=i(15215).Bx;Object.defineProperty(t,"__esModule",{value:!0}),t.DealingTicketStrategy=void 0;const r=i(74848),o=i(96540),a=n(i(92568)),l=s(i(23117)),d=i(17061),u=i(59867),c=i(10094),h=a.default.div((({$labelPosition:e,$bottomSpacing:t,theme:{size:i}})=>a.css`

   display: flex;
   flex-direction: ${"left"===e?"row":"column"};

   ${"left"===e&&a.css`
      justify-content: space-between;
   `}

   ${t&&a.css`
      margin-bottom: ${i.spacers[2].value};
   `}
`)),p=a.default.label((({$labelPosition:e,theme:{size:t}})=>a.css`
   ${"left"===e&&a.css`
      line-height: ${t.numberInput.minHeight.value};
   `}

   ${"top"===e&&a.css`
      display: block;
      text-align: center;
      margin-bottom: ${t.spacers[1].value};
   `}
`)),_=a.default.div((({$labelPosition:e})=>a.css`
   display: flex;
   flex-direction: row;

   ${"left"===e&&a.css`
      justify-content: space-between;
   `}
`)),g=a.default.input((({$hideSpinners:e,theme:{size:t,color:i}})=>a.css`
   height: ${t.numberInput.minHeight.value};
   border-radius: ${t.numberInput.borderRadius.value};
   border: ${t.numberInput.border.value} solid ${i.numberInput.border.value};
   color: ${i.numberInput.text.value};
   background: ${i.numberInput.background.value};
   padding: 0 ${t.numberInput.paddingRight.value} 0 ${t.numberInput.paddingLeft.value};
   margin: 0 ${t.spacers[1].value};
   width: 100%;
   text-align: center;

   &[disabled] {
      opacity: ${.65};
      pointer-events: none;
   }

   // precedence boost to override existing, unnecessary, input spinner hiding in charts
   &&&::-webkit-inner-spin-button,
   &&&::-webkit-outer-spin-button {
      display: initial;
      opacity: 1; // ensure spinners always shown on Chrome (they are always shown by default on other browsers)

      ${e&&a.css`
         display: none;
      `};
   }
`)),f=a.default.button((({theme:{color:e}})=>a.css`
   background: none;
   border: none;
   padding: 0;

   &:not([disabled]) {
      cursor: pointer;
   }

   svg {
      width: 22px;
      height: 22px;
      fill: ${e.numberInput.spinner.icon.value};
   }

   &[disabled] {
      pointer-events: none;

      svg {
         fill: ${e.numberInput.spinner.disabled.icon.value};
      }
   }
`));t.DealingTicketStrategy=Object.freeze({increase(e){const t=e.valueAsNumber;if(Number.isNaN(t))e.stepUp();else{let i=parseFloat(e.step);Number.isNaN(i)&&(i=1);const n=Math.max(i,1);let s=(0,c.ceilToClosestMultiple)(t,n);s===t&&(s+=n),e.stepUp(Math.round((s-t)/i))}},decrease(e){var t;const i=e.valueAsNumber;if(Number.isNaN(i))(null===(t=e.value)||void 0===t?void 0:t.replace(/\s+/g,"").length)&&e.stepDown();else{if(i===parseFloat(e.min))e.value="";else{let t=parseFloat(e.step);Number.isNaN(t)&&(t=1);const n=Math.max(t,1);let s=(0,c.floorToClosestMultiple)(i,n);s===i&&(s-=n),e.stepDown(Math.round((i-s)/t))}}}});t.default=({label:e,labelPosition:t="top",disabled:i,value:n,handleChange:s,hideLargeSpinners:a=!1,placeholder:m,min:v,max:A,step:E,spinnerStrategy:T=null,bottomSpacing:I=!1,className:C,onClick:O,required:M})=>{const y=(0,o.useId)(),b=(0,o.useRef)(null),S=(0,o.useContext)(l.default)&&!a&&!!E,D=()=>null==O?void 0:O(),w=()=>{if(!b.current)return;const e=parseFloat(b.current.value);s(E?(0,c.floorToClosestMultiple)(e,E):e)};return(0,r.jsxs)(h,Object.assign({$bottomSpacing:I,$labelPosition:t,className:C,onClick:D,onKeyUp:e=>{"Enter"===e.key&&(e.stopPropagation(),D())},tabIndex:O?0:void 0},{children:[e?(0,r.jsx)(p,Object.assign({$labelPosition:t,htmlFor:y},{children:e})):null,(0,r.jsxs)(_,Object.assign({$labelPosition:t},{children:[S?(0,r.jsx)(f,Object.assign({onClick:()=>{b.current&&(T?T.decrease(b.current):b.current.stepDown(),w())},type:"button",disabled:i},{children:(0,r.jsx)(d.ReactComponent,{})})):null,(0,r.jsx)(g,{ref:b,id:y,type:"number",step:E,value:(0,c.isNumber)(n)?n:"",onInput:()=>w(),disabled:i,inputMode:"decimal",placeholder:m,min:v,max:A,$hideSpinners:S,required:M}),S?(0,r.jsx)(f,Object.assign({onClick:()=>{b.current&&(T?T.increase(b.current):b.current.stepUp(),w())},type:"button",disabled:i},{children:(0,r.jsx)(u.ReactComponent,{})})):null]}))]}))}},39121:(e,t,i)=>{"use strict";var n=i(15215).Bx;const s=i(41943),r=n(i(56463)),o=i(9525);t.A=class{_getButtonClass(){return null}getValues(){return this._currentValues}initDom(e){return this._dContainer=e.append("div").classed(this._getListClass(),!0),this}_createButton(e){return r.default.create().initDom(this._dContainer,this._getButtonClass()).setText(e.title).setId(e.value).setSelected(e.selected)}setData(e){return this._destroyButtons(),this._buttons=[],this._currentValues=[],e.forEach((function(e){this._buttons.push(this._createButton(e)),e.selected&&this._currentValues.push(e.value)}),this),this}startListening(e,t,i){return this._buttons&&this._buttons.forEach((function(n){n.startListening(e,function(){this._onButtonClick.call(this,n),t(n)}.bind(this,n),i)}),this),this}updateCaptureZones(){(0,o.invokeCall)(this._buttons||[],"updateCaptureZone")}_destroyButtons(){this._buttons&&((0,o.invokeCall)(this._buttons,"destroy"),delete this._buttons)}destroy(){this._destroyButtons(),this._dContainer.remove(),delete this._dContainer}enable(e){this._buttons&&this._buttons.forEach((function(t){(0,s.contains)(e,t.getId())&&t.enable()}))}disable(e){this._buttons&&this._buttons.forEach((function(t){(0,s.contains)(e,t.getId())&&t.disable()}))}enableAll(){this._buttons&&(0,o.invokeCall)(this._buttons,"enable")}disableAll(){this._buttons&&(0,o.invokeCall)(this._buttons,"disable")}selectAll(){this._buttons&&(0,o.invokeCall)(this._buttons,"setSelected",!0)}}},56463:(e,t,i)=>{"use strict";var n=i(15215).Bx;Object.defineProperty(t,"__esModule",{value:!0});const s=n(i(50951)),r=n(i(98760)),o=n(i(10520));class a{constructor(){this._selected=!1}static create(){return new a}getId(){return this._id}setId(e){return this._id=e,this._dContainer.attr("data-button-id",e),this}isSelected(){return this._selected}setSelected(e){return this._selected=e,this._dContainer.classed("selected",this._selected),this}setCoordinates(e){return this._coordinates=e,this}getRect(){return this._dContainer.node().getBoundingClientRect()}getContainer(){return this._dContainer}setTitle(e){return this._dContainer.attr("title",e),this}setText(e){return this._dButton.text(e),this}classed(e,t){return this._dContainer.classed(e,t),this}setHidden(e){return this._dContainer.classed("hidden",e),e?this.disable():this.enable(),this}enable(){return this._dContainer.classed("disabled",!1),this._captureZone&&this._captureZone.show(),this}disable(){return this._dContainer.classed("disabled",!0),this._captureZone&&this._captureZone.hide(),this}initDom(e,t){return this._dContainer=e.append("div").attr("class",t||"buttonContainer"),this._dButton=this._dContainer.append("div").attr("class","button"),this}startListening(e,t,i){return this._captureZone=e.create(s.default.BLOCK_ALL,i||o.default.COMMON_BUTTON),this._captureZone.addGesture(r.default,{fastTap:!0}).withHandler(this._clickHandler.bind(this,t)),(this._dContainer.classed("hidden")||this._dContainer.classed("disabled"))&&this._captureZone.hide(),this.updateCaptureZone(),this}updateCaptureZone(e){return this._captureZone&&(this._coordinates?this._captureZone.setDimensions(this._coordinates):this._captureZone.setDimensionsBasedOnElement(e||this._dContainer)),this}onHover(e){return this._captureZone&&this._captureZone.setHoverHandler(e),this}withCursorOnHover(e){return this._captureZone&&this._captureZone.withCursorOnHover(e),this}stopListening(){return this._captureZone&&(this._captureZone.destroy(),delete this._captureZone),this}destroy(){this.stopListening(),this._dContainer&&(this._dContainer.remove(),delete this._dContainer),delete this._id,delete this._selected,delete this._coordinates,delete this._dButton,delete this._captureZone}_clickHandler(e){return e(this._id)}}t.default=a},16802:(e,t,i)=>{"use strict";var n=i(15215).Bx;Object.defineProperty(t,"__esModule",{value:!0});const s=n(i(56463)),r=n(i(87529));class o extends s.default{initDom(e,t){return super.initDom(e,t),r.default.create().initDom(this._dContainer),this}showSpinner(){this._dContainer.classed("withSpinner",!0)}hideSpinner(){this._dContainer.classed("withSpinner",!1)}}t.default=o},74606:(e,t,i)=>{"use strict";var n=i(15215).Bx;const s=n(i(88933)),r=n(i(38328));class o extends s.default{constructor(e,t,i,n){super(e,t,n),this._maxChars=i}static create(e,t,i,n){return new o(e,t,i,n)}initDom(e){return super.initDom(e),this._dTextAreaContainer.classed("charLimitedTextAreaContainer",!0),this._initCharactersRemainingSectionDom(),this}_sanitizeValue(e){return(e=super._sanitizeValue(e)).length>this._maxChars&&(e=e.substring(0,this._maxChars)),e}_onChange(e,t,i){super._onChange(e,t,i),this._updateCharsRemaining()}_initCharactersRemainingSectionDom(){this._dCharactersRemainingContainer=this._dTextAreaContainer.append("div"),this._dCharactersRemainingContainer.append("span").classed("charsRemainingLabel",!0).text(`${r.default.get("CHARS_REMAINING")} `),this._dCharactersRemaining=this._dCharactersRemainingContainer.append("span").classed("charsRemainingNo",!0),this._updateCharsRemaining()}_updateCharsRemaining(){this._dCharactersRemaining.text(this._maxChars-this.value.length)}}t.A=o},64586:(e,t,i)=>{"use strict";var n=i(15215).Bx;Object.defineProperty(t,"__esModule",{value:!0});const s=n(i(56463));class r extends s.default{static create(){return new r}_clickHandler(e){!1!==super._clickHandler(e)&&this.setSelected(!this._selected)}}t.default=r},55974:(e,t,i)=>{"use strict";var n=i(15215).Bx;Object.defineProperty(t,"__esModule",{value:!0}),t.DEFAULT_CLOSE_ICON_SIZE=void 0;const s=n(i(17444)),r=n(i(6182)),o=n(i(50951));function a(e){var t;return"http://www.w3.org/2000/svg"===(null===(t=e.node())||void 0===t?void 0:t.namespaceURI)}t.DEFAULT_CLOSE_ICON_SIZE=8;t.default=class{constructor(e,i,n,r,l=o.default.BLOCK_ALL){this._dCloseIcon=function(e){return a(e)?e.svgFromString(s.default).classed("closeIcon",!0):e.append("span").classed("closeIcon",!0)}(e),i&&(this._captureZone=i.createTapZone(r,n,void 0,l).withAssociatedElement(this._dCloseIcon).withDefaultPadding()),a(e)&&(this._setSize(t.DEFAULT_CLOSE_ICON_SIZE),this.enforceHover()),this.updateCaptureZone()}enable(){var e;return null===(e=this._captureZone)||void 0===e||e.show(),this}disable(){var e;return null===(e=this._captureZone)||void 0===e||e.hide(),this}updateCaptureZone(e){var t;return null===(t=this._captureZone)||void 0===t||t.setDimensionsBasedOnAssociatedElement(e),this}propagateHover(){var e;return null===(e=this._captureZone)||void 0===e||e.propagateHover(),this}show(){return a(this._dCloseIcon)?this._dCloseIcon.attr("visibility","visible"):this._dCloseIcon.classed("hidden",!1),this.enable()}hide(){return a(this._dCloseIcon)?this._dCloseIcon.attr("visibility","hidden"):this._dCloseIcon.classed("hidden",!0),this.disable()}setPosition(e,t){return a(this._dCloseIcon)&&(this._dCloseIcon.attrs({x:e,y:t}),this.updateCaptureZone()),this}enforceHover(){var e,t;return null===(e=this._captureZone)||void 0===e||e.withCursorOnHover(r.default.POINTER),null===(t=this._captureZone)||void 0===t||t.setHoverHandler({in:()=>this._dCloseIcon.classed("hover",!0),out:()=>this._dCloseIcon.classed("hover",!1)}),this}destroy(){var e,t;null===(e=this._captureZone)||void 0===e||e.destroy(),null===(t=this._dCloseIcon)||void 0===t||t.remove();for(const i of["_captureZone","_dCloseIcon"])delete this[i]}_setSize(e){this._dCloseIcon.attrs({width:e,height:e})}}},92739:(e,t)=>{"use strict";const i=/^[0-9.]$/;class n{constructor(e){this._max=null,this._max=e||null}static create(e){return new n(e)}onKeyPressed(e,t){return i.test(e.key)}onKeyUp(e,t){return!0}}t.A=n},85077:(e,t,i)=>{"use strict";var n=i(15215).Bx;Object.defineProperty(t,"__esModule",{value:!0});const s=n(i(50951)),r=i(10094),o=n(i(61568)),a=n(i(56451)),l=n(i(289)),d=n(i(31362));class u extends l.default{constructor(e,t,i,n){super(),this._captureZoneManager=t,this._constraints=i,this._zIndex=n,this._dParentContainer=e.append("div").classed("setting-row",!0).append("div").classed("setting",!0),this._dControlsContainer=this._dParentContainer.append("span").classed("numberFieldContainer",!0),this._dDecreaseButton=this._dControlsContainer.append("span").classed("minusButton",!0).classed("decrease",!0),this._dNumberBox=a.default.create(this._constraints),this._dNumberBox.on(d.default.FOCUS,this._handleFocus,this),this._dNumberBox.on(d.default.BLUR,this._handleFocusOut,this),this._dNumberBox.on(d.default.INPUT,this._handleNewInput,this),this._dNumberBox.on(d.default.KEY_UP,this._handleNewInput,this),this._dNumberBox.initDom(this._dControlsContainer),this._dIncreaseButton=this._dControlsContainer.append("span").classed("plusButton",!0).classed("increase",!0),this._captureZoneDecrease=this._captureZoneManager.createTapZone(this._handleDecrease.bind(this),this._zIndex,10,s.default.BLOCK_ALL),this._captureZoneIncrease=this._captureZoneManager.createTapZone(this._handleIncrease.bind(this),this._zIndex,10,s.default.BLOCK_ALL),this.updateCaptureZones()}getConstraints(){return this._constraints}updateCaptureZones(){this._captureZoneDecrease.setDimensionsBasedOnElement(this._dDecreaseButton),this._captureZoneIncrease.setDimensionsBasedOnElement(this._dIncreaseButton),this._disabledCaptureZone&&this._disabledCaptureZone.setDimensionsBasedOnElement(this._dControlsContainer)}show(){this._dParentContainer.classed("hidden",!1),this._captureZoneDecrease.show(),this._captureZoneIncrease.show(),this._dNumberBox.show()}hide(){this._dParentContainer.classed("hidden",!0),this._captureZoneDecrease.hide(),this._captureZoneIncrease.hide()}setValue(e){this._dNumberBox.setValue(this._sanitiseValue(e)),this._onChangeCallback&&this._onChangeCallback(this.getValue())}forceValue(e){this._dNumberBox.setValue(e)}withPlaceholder(e){return this._dNumberBox.withPlaceholder(e),this}classed(e,t){return this._dParentContainer.classed(e,t),this}withLabel(e){return this._dLabel||(this._dLabel=this._dParentContainer.insert("span",":first-child").classed("settingName",!0)),this._dLabel.text(e),this}isValid(){return this._dNumberBox.isValid()}disable(e,t){this._dNumberBox.property("readOnly",!0).property("disabled",!0),this._dDecreaseButton.classed("disabled",!0),this._dIncreaseButton.classed("disabled",!0),this._captureZoneDecrease.hide(),this._captureZoneIncrease.hide(),e&&(this._disabledCaptureZone=this._captureZoneManager.createTapZone(e.bind(t),this._zIndex,void 0,s.default.BLOCK_ALL).setDimensionsBasedOnElement(this._dControlsContainer))}enable(){this._dNumberBox.property("readOnly",!1).property("disabled",!1),this._dDecreaseButton.classed("disabled",!1),this._dIncreaseButton.classed("disabled",!1),this._captureZoneDecrease.show(),this._captureZoneIncrease.show(),this._disabledCaptureZone&&(this._disabledCaptureZone.destroy(),delete this._disabledCaptureZone)}onChange(e){this._onChangeCallback=e}onFocus(e){this._onFocusCallback=e}clear(){this._dNumberBox.property("value","")}destroy(){this._disabledCaptureZone&&(this._disabledCaptureZone.destroy(),delete this._disabledCaptureZone),this._dLabel&&(this._dLabel.remove(),delete this._dLabel),this._captureZoneDecrease.destroy(),this._captureZoneIncrease.destroy(),this._dNumberBox.un(null,this),this._dNumberBox.destroy(),this._dParentContainer.remove();for(const e of["_constraints","_captureZoneManager","_captureZoneDecrease","_captureZoneIncrease","_dControlsContainer","_dParentContainer","_dDecreaseButton","_dIncreaseButton","_dNumberBox","_zIndex","_onFocusCallback","_onChangeCallback"])delete this[e];super.destroy()}_getStep(){return this._constraints.precision||this._constraints.step}getValue(){return this._dNumberBox.sanitizeValue(this._dNumberBox.getValue())}_handleFocus(){this._onFocusCallback&&this._onFocusCallback(this.getValue())}_handleFocusOut(){const e=this.getValue();isNaN(e)||this.setValue(e)}_handleNewInput(e){var t;if(e instanceof KeyboardEvent&&e.key===o.default.ENTER){const e=this.getValue();isNaN(e)||this.setValue(e)}null===(t=this._onChangeCallback)||void 0===t||t.call(this,this.getValue())}_handleIncrease(){const e=this.getValue();let t;e?this._constraints.max&&e>=this._constraints.max?t=this._constraints.max:(t=(0,r.floorToClosestMultiple)(e,this._constraints.step),t=(0,r.roundFloatingPointError)(t+this._constraints.step)):t=this._constraints.min?this._constraints.min:this._constraints.step,this.setValue(t)}_handleDecrease(){const e=this.getValue();if(e){let t;e===this._constraints.min?t=null:(t=(0,r.ceilToClosestMultiple)(e,this._constraints.step),t=(0,r.roundFloatingPointError)(t-this._constraints.step),t=t<=0?null:t),this.setValue(t)}}_sanitiseValue(e){const t=parseFloat(e),i=this._getStep(),n=t===this._constraints.min?t:(0,r.floorToClosestMultiple)(t,i);return n?n.toString():""}}t.default=u},31362:(e,t,i)=>{"use strict";var n=i(15215).Bx;Object.defineProperty(t,"__esModule",{value:!0});const s=n(i(289)),r=n(i(57308)),o=function(e,t,i){return function(n,s){return n&&s[e](t,i)}},a=["Focus","Blur","Input","Change","KeyPressed","KeyUp","Paste"];class l extends s.default{constructor(e){super(),this.strategies={},this._options=e||{},this._filters=[],a.forEach((e=>{this[`_on${e}`]=this[`_on${e}`].bind(this)})),this._forceBlur=this._forceBlur.bind(this)}static create(e){return new l(e)}setSanitizationStrategies(e,t){return this.strategies[e]=t,this}withPlaceholder(e){return this._dInput.property("placeholder",e),this}show(){this._evaluateValidity()}_evaluateValidity(){this._dInput.node().value=this._dInput.node().value}initDom(e){this._dInput=e.append("input"),this._dInput.property("type",this._options.type||"text"),this._dInput.attrs({id:this._options.id||null,maxlength:this._options.maxLength||10});const t=this._dInput.node();a.forEach((e=>{t.addEventListener("KeyPressed"===e?"keypress":e.toLowerCase(),this[`_on${e}`])})),t.ownerDocument.addEventListener("pointerdown",this._forceBlur),r.default.enableDefault(t)}_forceBlur(e){const t=this._dInput.node();t===e.target||t.contains(e.target)||this._onBlur(new FocusEvent(l.BLUR,{relatedTarget:t}))}classed(e,t){return void 0===t?this._dInput.classed(e):(this._dInput.classed(e,t),this)}property(e,t){return void 0===t?this._dInput.property(e):(this._dInput.property(e,t),this)}sanitizeValue(e){let t;const i=this._getValidity();if(""===e&&i.valid)return e;for(const n in i)if(t=this.strategies[n],i[n]&&"valid"!==n){if(!t)return e.toString();e=t.call(this,e)}return e.toString()}setValue(e){parseFloat(this.getValue())!==parseFloat(e)&&(this._dInput.node().value=e)}getValue(){return this._dInput.node().value}isValid(){const e=this._getValidity();return!e||e.valid}_getValidity(){return this._dInput.node().validity}addFilter(e){this._filters.push(e)}focus(){this._dInput.node().focus()}destroy(){const e=this._dInput.node();r.default.cancelScrolling(e),a.forEach((t=>{e.removeEventListener("KeyPressed"===t?"keypress":t.toLowerCase(),this[`_on${t}`])})),e.ownerDocument.removeEventListener("pointerdown",this._forceBlur),this._dInput.remove()}_onFocus(e){this.fire(l.FOCUS,e)}_onBlur(e){this.fire(l.BLUR,e)}_onChange(e){this.fire(l.CHANGE,e)}_onInput(e){this.fire(l.INPUT,e)}_onKeyPressed(e){this._filters.reduce(o("onKeyPressed",e,this),!0)||e.preventDefault()}_onKeyUp(e){this._filters.reduce(o("onKeyUp",e,this),!0)&&e.preventDefault(),this.fire(l.KEY_UP,e)}_onPaste(e){this.fire(l.PASTE,e)}}l.FOCUS="focus",l.BLUR="blur",l.CHANGE="change",l.INPUT="input",l.KEY_UP="keyUp",l.PASTE="paste",t.default=l},47292:(e,t,i)=>{"use strict";var n=i(15215).Bx;Object.defineProperty(t,"__esModule",{value:!0});const s=n(i(86605)),r=n(i(55974)),o=n(i(50547)),a=n(i(85673)),l=n(i(50951)),d=i(9525),u=n(i(61568)),c=n(i(13365)),h=n(i(25322)),p=n(i(289)),_=n(i(98760)),g=n(i(47392)),f=n(i(57308)),m=n(i(10520));function v(){this._dOverlay&&this._dOverlay.classed("fixScrollOniOS",!1),this.updateCaptureZones()}class A extends p.default{_getDialogClasses(){return""}constructor(e,t,i){super(),this._offset=0,this._eventBus=e,this._captureZoneManager=t,this._taskManager=i,this._hotkeyMap={[u.default.ESCAPE]:()=>this.close(),[u.default.ENTER]:()=>this.done()},this.updateCaptureZones=d.schedule.throttledDeferred(this.updateCaptureZones.bind(this)),this._fixScrollOniOS=d.schedule.throttledDeferred(this._fixScrollOniOS.bind(this))}getDialogContainer(){return this._dDialogContainer}initDom(e,t,i){return this._startTask(),this.dContainer=e,this._dOverlay=this._createOverlay(e,i),this._dDialogContainer=this._dOverlay.append("div").classed("dialogContainer",!0),this._dDialog=this._dDialogContainer.append("div").attr("class",this._getDialogClasses()).classed("dialog",!0),this._createHeader(this._dDialog),this.content=this._createContent(this._dDialog.append("div").classed("body",!0),t),this._eventBus.subscribe("chart/view/visibleWindow/moved/*",this._handleVisibleWindowMoved,this),function(e,t,i,n){let s=!1;e.subscribe(t,(()=>{s&&i.call(n)}),n),s=!0}(this._eventBus,"chart/resolution/changed",this.destroy,this),this._dialogDimensions=h.default.normaliseDimensions(this._dDialog.node().getBoundingClientRect()),this._handleVisibleWindowMoved(s.default.RESIZED,s.default.RESIZED),this}withDismissOnBackground(){return this._dialogCaptureZone=this._captureZoneManager.createZone(h.default,l.default.BLOCK_ALL,m.default.DIALOG+1).withAssociatedElement(this._dDialog),this._overlayCaptureZone.addGesture(_.default,{count:1,fastTap:!0,onGesture:function(){this.fire(A.CLOSE)},context:this}),this}destroy(){this._finishTask(),delete this.dContainer,this._eventBus.unsubscribeAll(this),this.updateCaptureZones.cancel(),this._fixScrollOniOS.cancel(),this.content&&(this.content.un(null,this),this.content.destroy(),delete this.content),this._destroyHeader(),this._dDialogContainer&&(this._overlayScrollHandler&&(f.default.cancelScrolling(this._dDialogContainer.node()),this._dDialogContainer.node().removeEventListener("scroll",this._overlayScrollHandler,!1),delete this._overlayScrollHandler),this._dDialogContainer.remove(),delete this._dDialogContainer,delete this._dDialog),this._destroyOverlay(),delete this._hotkeyMap,this._dialogCaptureZone&&(this._dialogCaptureZone.destroy(),delete this._dialogCaptureZone),super.destroy()}show(){return this._dDialogContainer.classed("hidden",!1),this.content.show(),this._closeIcon&&this._closeIcon.show(),this.updateCaptureZones(),this}hide(){return this._dDialogContainer.classed("hidden",!0),this.content.hide(),this._closeIcon&&this._closeIcon.hide(),this}enable(){return this.content.enable(),this._closeIcon&&this._closeIcon.enable(),this}disable(){return this.content.disable(),this._closeIcon&&this._closeIcon.disable(),this}close(){this.fire(A.CLOSE),this.destroy()}done(){this.fire(A.DONE),this.destroy()}updateCaptureZones(){return this._closeIcon&&this._closeIcon.updateCaptureZone(),this.content&&this.content.updateCaptureZones(),this._dialogCaptureZone&&this._dialogCaptureZone.setDimensionsBasedOnAssociatedElement(),this}_createHeader(e,t=!0){this._getDialogTitle()&&(this._dHeader=e.append("div").classed("title",!0),this._dHeader.append("span").text(this._getDialogTitle()),t&&(this._closeIcon=new r.default(this._dHeader,this._captureZoneManager,m.default.DIALOG_CONTROLS,(()=>this.close()))))}_destroyHeader(){this._dHeader&&(this._dHeader.remove(),delete this._dHeader),this._closeIcon&&(this._closeIcon.destroy(),delete this._closeIcon)}_getTaskConfig(){return g.default.CONCURRENT_DIALOG}_startTask(){this._taskManager.startTask(this._getTaskConfig(),{hotkeyMap:this._hotkeyMap})}_finishTask(){this._taskManager.finishTask(this._getTaskConfig().ID)}_createOverlay(e,t){let i=e.selectAll("div > .modalOverlay");return i.size()<=0&&(i=e.append("div").classed("modalOverlay",!0)),this._overlayCaptureZone=this._captureZoneManager.createZone(c.default,l.default.BLOCK_ALL,t||m.default.DIALOG),i}_destroyOverlay(){this._dOverlay&&(this._overlayCaptureZone.destroy(),delete this._overlayCaptureZone,this._dOverlay.selectAll(".dialog").size()<=0&&this._dOverlay.remove(),delete this._dOverlay)}_fixScrollOniOS(){a.default.isIOS()&&(this._dOverlay.classed("fixScrollOniOS",!0),o.default.defer(v,this))}_handleVisibleWindowMoved(e,t){let i,n;(e|t)&s.default.RESIZED&&(i=h.default.normaliseDimensions(this._captureZoneManager.getOffset()),this._allowFullscreen()&&(n=i.width<this._dialogDimensions.width||i.height<this._dialogDimensions.height,this._isFullscreen!==n&&(this._dDialog.classed("fullscreen",n),this._isFullscreen=n,this._shift())),this.updateCaptureZones()),t&s.default.RESIZED&&this._fixScrollOniOS()}isScrollable(){return this._dDialogContainer.classed("scrollable")}makeScrollable(){return this._dDialogContainer.classed("scrollable",!0),f.default.enableScrolling(this._dDialogContainer.node()),this._overlayScrollHandler=this.updateCaptureZones.bind(this),this._dDialogContainer.node().addEventListener("scroll",this._overlayScrollHandler,!1),this}removeScrollingBehaviour(){return this._dDialogContainer.classed("scrollable",!1),this._overlayScrollHandler&&(f.default.cancelScrolling(this._dDialogContainer.node()),this._dDialogContainer.node().removeEventListener("scroll",this._overlayScrollHandler,!1)),this}_allowFullscreen(){return!0}_setOffset(e){this._offset=e||0,this._shift()}_shift(){this._dDialog.style("margin-top",(this._isFullscreen?0:-this._offset)+"px"),this.updateCaptureZones()}}A.CLOSE="close",A.DONE="done",t.default=A},70187:(e,t,i)=>{"use strict";var n=i(15215).Bx;Object.defineProperty(t,"__esModule",{value:!0});const s=n(i(289));class r extends s.default{constructor(e,t,i,n){super(),this._dialog=e,this._captureZoneManager=i,this._eventBus=t,this._taskManager=n}enable(){return this}disable(){return this}initDom(e){return this.dContainer=e,this}updateCaptureZones(){}show(){return this.dContainer&&this.dContainer.classed("hidden",!1),this}hide(){return this.dContainer&&this.dContainer.classed("hidden",!0),this}}r.SIZE_CHANGED="sizeChanged",t.default=r},14358:(e,t,i)=>{"use strict";const n=i(41943),s=i(9525);class r{constructor(e,t,i,n){this.viewType="radio"===e?"RADIO":"TOGGLE",this.options=t,this.defaultValue=i,this._i18n=n}static createFrom(e){return new r(e.type,e.options,e.defaultValue,e.i18n)}getTextForValue(e){const t=(0,n.find)(this.options,(0,s.propertyComparator)("value",e));return this._i18n.get(t.localisationKey)}}t.A=r},37848:(e,t,i)=>{"use strict";var n=i(15215).Bx;const s=n(i(54107)),r=n(i(14474)),o=n(i(289)),a=n(i(10520));class l extends o.default{constructor(e,t,i,n,s){super(),this._valueMap={},this._i18n=e,this._indicatorName=t,this._setting=i,this._constraints=n,this._initialValue=s,this._radioButtonGroup=r.default.create(),this._constraints.options.forEach((e=>this._valueMap[e.localisationKey]=e.value))}static create(e,t,i,n,s){return new l(e,t,i,n,s)}withCaptureZoneManager(e){return this._captureZoneManager=e,this}initDom(e){const t=this._createButtonOptions(this._initialValue);return e=e.append("div").classed("setting",!0),this._i18n&&e.append("span").text(this._i18n.get(`${this._indicatorName}-${this._setting}`)).classed("settingName",!0),this._radioButtonGroup.initDom(e).setData(t).startListening(this._captureZoneManager,this._toggleOption.bind(this),a.default.DIALOG_CONTROLS),this._toggleOption(),this}updateCaptureZones(){return this._radioButtonGroup.updateCaptureZones(),this}reset(){const e=this._createButtonOptions(this._constraints.defaultValue);this._radioButtonGroup.setData(e).startListening(this._captureZoneManager,this._toggleOption.bind(this),a.default.DIALOG_CONTROLS),this.updateCaptureZones(),this._commitValue=this._constraints.defaultValue,this.commitSetting()}destroy(){super.destroy(),this._radioButtonGroup.destroy()}commitSetting(){this.fire(s.default.VALUE_CHANGED,this._setting,this._commitValue)}_createButtonOptions(e){const t=[];return this._constraints.options.forEach((i=>{t.push({title:this._i18n.get(i.localisationKey),value:i.localisationKey,selected:e===i.value})})),t}_toggleOption(){this._commitValue=this._valueMap[this._radioButtonGroup.getValue()],this.commitSetting()}}t.A=l},54107:(e,t)=>{"use strict";var i;Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.VALUE_CHANGED="VALUE_CHANGED",e.VALUE_ADDED="VALUE_ADDED"}(i||(i={})),t.default=i},16687:(e,t,i)=>{"use strict";var n=i(15215).Bx;Object.defineProperty(t,"__esModule",{value:!0});const s=i(43130),r=n(i(47292)),o=n(i(70187)),a=n(i(56463)),l=n(i(74059)),d=n(i(10520));class u extends o.default{get _buttons(){return(0,s.compact)([this._doneButton,this._resetButton,this._cancelButton])}initDom(e){return super.initDom(e),this._createContent(),this.updateCaptureZones(),this}updateCaptureZones(){(0,s.invokeMap)(this._buttons,"updateCaptureZone")}show(){return super.show(),(0,s.invokeMap)(this._buttons,"setHidden",!1),this._dButtonContainer&&this._dButtonContainer.classed("hidden",!1),this.enable(),this}hide(){return super.hide(),(0,s.invokeMap)(this._buttons,"setHidden",!0),this._dButtonContainer&&this._dButtonContainer.classed("hidden",!0),this.disable(),this}enable(){return(0,s.invokeMap)(this._buttons,"enable"),this}disable(){return(0,s.invokeMap)(this._buttons,"disable"),this}destroy(){this._dButtonContainer&&this._dButtonContainer.remove(),(0,s.invokeMap)(this._buttons,"destroy"),delete this._dButtonContainer,delete this._doneButton,delete this._cancelButton,delete this._resetButton,this._dialog.un(null,this)}_createDoneButton(e,t,i){this._doneButton=a.default.create().initDom(this._getButtonContainer(),"dialogButton doneButton").setText(t||l.default.get("done")).startListening(this._captureZoneManager,(()=>this._dialog.done()),i||d.default.DIALOG_CONTROLS),e&&this._dialog.on(r.default.DONE,e,this)}_createCancelButton(e,t,i){this._cancelButton=a.default.create().initDom(this._getButtonContainer(),"dialogButton cancelButton").setText(t||l.default.get("cancel")).startListening(this._captureZoneManager,(()=>this._dialog.close()),i||d.default.DIALOG_CONTROLS),e&&this._dialog.on(r.default.CLOSE,e,this)}_createResetButton(e,t,i){this._resetButton=a.default.create().initDom(this._getButtonContainer(),"dialogButton resetButton").setText(t||l.default.get("reset")).startListening(this._captureZoneManager,e.bind(this),i||d.default.DIALOG_CONTROLS)}_getButtonContainer(){return this._dButtonContainer||(this._dButtonContainer=this.dContainer.append("div").classed("actions",!0)),this._dButtonContainer}}t.default=u},38473:(e,t,i)=>{"use strict";var n=i(15215).Bx;const s=n(i(70187)),r=n(i(64586)),o=n(i(74059)),a=n(i(10520));class l extends s.default{constructor(e,t,i,n,s){super(e,t,i,n),this._settingsManager=s,this._initialVisibility=this._isWatermarkVisible()}static create(e,t,i,n,s){return new l(e,t,i,n,s)}_isWatermarkVisible(){return this._settingsManager.getWatermarkVisibilitySettings()}initDom(e){return super.initDom(e),this._dWatermarkContainer=e.append("div").classed("watermarkContainer",!0),this._checkbox=r.default.create(),this._checkbox.initDom(this._dWatermarkContainer,"checkbox").setSelected(this._isWatermarkVisible()),this._dWatermarkContainer.append("span").classed("watermarkTitle",!0).text(o.default.get("watermark")),this._checkbox.startListening(this._captureZoneManager,this._handleTap.bind(this),a.default.DIALOG_CONTROLS),this}save(){return this}resetToDefaults(){this._setWatermarkVisibility(!1),this._checkbox.setSelected(!1)}revertChanges(){this._setWatermarkVisibility(this._initialVisibility),this._checkbox.setSelected(this._initialVisibility)}updateCaptureZones(){super.updateCaptureZones(),this._checkbox.updateCaptureZone(this._dWatermarkContainer)}destroy(){this._checkbox.destroy(),this._checkbox=null,super.destroy()}_handleTap(){this._setWatermarkVisibility(!this._checkbox.isSelected())}_setWatermarkVisibility(e){this._settingsManager.putWatermarkVisibilitySettings(e,!0)}}t.A=l},93691:(e,t,i)=>{"use strict";var n=i(15215).Bx;Object.defineProperty(t,"__esModule",{value:!0});const s=n(i(18728)),r=n(i(50951)),o=i(9525),a=n(i(33456)),l=n(i(25322)),d=n(i(72873)),u=n(i(98760)),c=n(i(5068)),h=n(i(10520));t.default=class{constructor(e,t){this._recognisers={},this._wrapperGestureHandler=c.default.create(this),this.updateCaptureZone=o.schedule.throttledDeferred(this._updateCaptureZone),this._captureZoneManager=t,this._dContainer=e,this._initDom()}attr(e,t){return"string"==typeof e?t&&this._dComponent.attr(e,t):this._dComponent.attrs(e),this}classed(e,t){return this._dComponent.classed(e,t),this}getElement(){return this._dComponent}getDimensions(){return this._dComponent.node().getBoundingClientRect()}setCaptureZoneConstraints(e){return this._captureZoneConstraints=e,this._captureZone&&this.updateCaptureZone(),this}setCaptureZonePropagation(e){return this._captureZonePropagation=e,this._captureZone&&this._captureZone.withEventPropagation(e),this}withPadding(e){return this._getCaptureZone().withPadding(e),this}withDefaultPadding(){return this._getCaptureZone().withDefaultPadding(),this}_initDom(){}setVisible(e){return this._dComponent.classed("hidden",!e),e?this.showCaptureZone():this.hideCaptureZone(),this}isVisible(){return!this._dComponent.classed("hidden")}withCursorOnHover(e){return this._lastUsedHoverCursor=e,this._captureZone&&this._captureZone.withCursorOnHover(e),this}withoutCursorOnHover(){return this._captureZone&&this._captureZone.withoutCursorOnHover(),this}on(e,t){return this._wrapperGestureHandler.on(e,t),this}off(e,t){return this._wrapperGestureHandler.off(e,t),this}onHold(e,t){return this._recognisers.hold=this._recognisers.hold||this._getCaptureZone().addGesture(a.default),this._recognisers.hold.withHandler(e,t),this}onHover(e,t,i){return this._getCaptureZone().setHoverHandler({in:e,inContext:i,out:t,outContext:i}),this}onContextMenu(e,t){return this._recognisers.contextMenu=this._recognisers.contextMenu||this._getCaptureZone().addGesture(s.default),this._recognisers.contextMenu.withHandler(e,t),this}onTap(e,t){return this._recognisers.tap=this._recognisers.tap||this._getCaptureZone().addGesture(u.default,{fastTap:!0}),this._recognisers.tap.withHandler(e,t),this}onDoubleTap(e,t){return this._recognisers.doubleTap=this._recognisers.doubleTap||this._getCaptureZone().addGesture(u.default,{count:2,fastTap:!0}),this._recognisers.doubleTap.withHandler(e,t),this}render(){this.updateCaptureZone()}_createCaptureZone(){return this._captureZoneManager&&!this._captureZone&&(this._captureZone=this._captureZoneManager.create(this._captureZonePropagation||r.default.PROPAGATE_UNHANDLED,h.default.ANNOTATION_SELECTION)),this}removeCaptureZone(){var e;null===(e=this.updateCaptureZone)||void 0===e||e.cancel(),this._captureZone&&(this._captureZone.destroy(),delete this._captureZone)}_updateCaptureZone(){if(this._captureZone instanceof l.default)this._captureZone.setDimensionsBasedOnElement(this._dComponent,this._captureZoneConstraints);else if(this._captureZone)throw new Error("Capture zone must be of RectangleCaptureZone type or the subclass should override this method.");return this}showCaptureZone(){return this._captureZone&&this._captureZone.show(),this}hideCaptureZone(){return this._captureZone&&this._captureZone.hide(),this}updateCaptureZoneIndex(e,t){return this._captureZoneManager&&this._captureZone&&this._captureZone.zIndex!==e&&this._captureZoneManager.updateCaptureZoneZIndex(this._captureZone,e,t),this}setEditEnabled(e){return this._captureZone&&(e?this._captureZone.enableGesture(this._recognisers.hold):this._captureZone.disableGesture(this._recognisers.hold)),this}moveZoneToTop(){if(this._captureZoneManager){const e=this._getCaptureZone();this._captureZoneManager.updateCaptureZoneZIndex(e,e.zIndex)}}_getCaptureZone(){return this._captureZone||(this._createCaptureZone(),this.updateCaptureZone()),this._captureZone}setOffset(e){return this._dComponent.attr("transform",d.default.svgTranslateAttrXY(e.x,e.y)),this}destroy(){var e,t;let i;for(i in this._recognisers)this._recognisers[i]&&this._recognisers[i].destroy();delete this._recognisers,this.removeCaptureZone(),delete this.updateCaptureZone,null===(e=this._wrapperGestureHandler)||void 0===e||e.destroy(),delete this._wrapperGestureHandler,null===(t=this._dComponent)||void 0===t||t.remove(),delete this._dComponent}}},94643:(e,t,i)=>{"use strict";var n=i(15215).Bx;t.JF=void 0;const s=i(43130),r=n(i(93691)),o=n(i(72873));t.JF=31;class a extends r.default{constructor(){super(...arguments),this._translateRotate="",this._scale=""}static create(e,t){return new a(e,t)}_initDom(){this._dComponent=this._dContainer.append("path").classed("arrowHead",!0).attr("d","M0,0L13,13L13,6.5L31.2,6.5L31.2,-6.5L13,-6.5L13,-13L0,0")}withDefaultPadding(){return this}setCoordinateAndRotation(e,t,i){return this._translateRotate=`${o.default.svgTranslateAttrXY(e,t)} ${o.default.svgRotateAttr(i)}`,this._applyTransform(),this}setScale(e){return this._scale=o.default.svgScaleAttrXY(e,e),this._applyTransform(),this._getCaptureZone().withPadding(1===e?4:0),this}_applyTransform(){const e=(0,s.compact)([this._translateRotate,this._scale]).join(" ");this._dComponent.attr("transform",e)}}t.Ay=a},12636:(e,t,i)=>{"use strict";var n=i(15215).Bx;Object.defineProperty(t,"__esModule",{value:!0});const s=n(i(93691)),r=n(i(49483)),o=n(i(62983));class a extends s.default{static create(e,t,i){return new a(e,t,i)}constructor(e,t,i){super(e,i),this._padding=0,this._textMeasurer=t}showLoadingSpinner(e){this._dSpinner.classed("hidden",!e),this._dLabel.classed("hidden",e),e?this.hideCaptureZone():this.showCaptureZone()}get background(){return this._dBackground}set text(e){this._text=e,this._dLabel.text(e),this._updateWidth()}get text(){return this._text}setHeight(e){return this._dBackground.attr("height",e),this}setPadding(e){return this._padding=e,this._dLabel.attr("dx",e),this._updateWidth(),this}_updateWidth(){const e=this._textMeasurer.calculateTextWidth(this._text)+2*this._padding;this._dBackground.attr("width",e),this._dSpinner.attr("x",e/2-7.5)}_initDom(){super._initDom(),this._dComponent=this._dContainer.append("g"),this._dBackground=this._dComponent.append("rect").attrs({rx:2,ry:2}),this._dLabel=this._dComponent.append("text").attr("dy",14),this._dSpinner=this._dComponent.appendElement(r.default.elementFromText(o.default)),this._dSpinner.classed("hidden",!0),this._dSpinner.attrs({width:15,height:15,y:2})}}t.default=a},64437:(e,t,i)=>{"use strict";var n=i(15215).Bx;const s=n(i(93691)),r=n(i(50951)),o=n(i(72873)),a=n(i(10520));class l extends s.default{constructor(e,t,i,n){super(e,t);const s=i||9;this._captureZoneElement=n,this._dComponent.attrs({x:-s/2,y:-s/2,width:s,height:s,rx:9,ry:9})}static create(e,t,i,n){return new l(e,t,i,n)}_updateCaptureZone(){return this._captureZone&&(this._captureZone.setDimensionsBasedOnElement(this._captureZoneElement||this._dComponent,this._captureZoneConstraints),this.onHover(this.updateHovered.bind(this,!0),this.updateHovered.bind(this,!1),this),this._captureZone.propagateHover()),this}_initDom(){this._dComponent=this._dContainer.append("rect"),this.classed("editAnchor",!0),this._createCaptureZone(),this.withDefaultPadding(),this.updateCaptureZoneIndex(a.default.ANNOTATION_ANCHORS),this.setCaptureZonePropagation(r.default.BLOCK_ALL)}setPosition(e,t,i){return this._dComponent.attr("transform",`${o.default.svgTranslateAttrXY(e,t)} ${o.default.svgRotateAttr(i||0)}`),this.updateCaptureZone(),this}updateHovered(e){this._dComponent.classed("hovered",e)}}t.A=l},67881:(e,t,i)=>{"use strict";const n=(0,i(15215).Bx)(i(93691));class s extends n.default{constructor(e,t,i,n,s){super(e,t),this._dComponent.classed(i,!0),this._dIcon=this._dComponent.svgFromString(n),this._selectedClassName=s||"selected",this.onHover(this._enterHover,this._exitHover,this)}static create(e,t,i,n,r){return new s(e,t,i,n,r)}_initDom(){return this._dComponent=this._dContainer.append("g"),this.addBackground(),this}setDimensions(e){this._dIcon.attrs(e)}addBackground(){}enterSelectedState(){this._dComponent.classed(this._selectedClassName,!0)}exitSelectedState(){this._dComponent.classed(this._selectedClassName,!1)}_enterHover(){this._dComponent.classed("hover",!0),this._hoverEnterCallback&&this._hoverEnterCallback()}_exitHover(){this._dComponent.classed("hover",!1),this._hoverExitCallback&&this._hoverExitCallback()}setAdditionalHoverHandlers(e){this._hoverEnterCallback=e.onHoverEnter,this._hoverExitCallback=e.onHoverExit}getRect(){return this._dComponent.node().getBoundingClientRect()}}t.A=s},44258:(e,t,i)=>{"use strict";var n=i(15215).Bx;Object.defineProperty(t,"__esModule",{value:!0}),t.OFF_SCREEN_OFFSET=void 0;const s=n(i(93691)),r=n(i(95613)),o=n(i(50951)),a=n(i(67827)),l=n(i(10520));t.OFF_SCREEN_OFFSET=-100;class d extends s.default{constructor(){super(...arguments),this._x1=0,this._x2=0,this._y1=0,this._y2=0}static create(e,t){return new d(e,t)}_initDom(){this._dComponent=this._dContainer.append("line").classed("line",!0)}setLineCoordinates(e,i){let n,s,r,o,l,d;return r=o=l=d=t.OFF_SCREEN_OFFSET,isFinite(e.x1)&&isFinite(e.y1)&&isFinite(e.x2)&&isFinite(e.y2)&&(r=e.x1,o=e.y1,l=e.x2,d=e.y2,i&&(n=a.default.clipLineToRectangle({x:r,y:o},{x:l,y:d},{x:i.x,y:0},{x:i.x+i.width,y:i.height}),2===n.length?(r=n[0].x,o=n[0].y,l=n[1].x,d=n[1].y):r=o=l=d=t.OFF_SCREEN_OFFSET)),r===this._x1&&o===this._y1&&l===this._x2&&d===this._y2||(this._x1=r,this._y1=o,this._x2=l,this._y2=d,s={x1:r,y1:o,x2:l,y2:d},this._dComponent.attrs(s)),this}_createCaptureZone(){return this._captureZoneManager&&!this._captureZone&&(this._captureZone=this._captureZoneManager.createLineCaptureZone(o.default.PROPAGATE_UNHANDLED,l.default.ANNOTATION_SELECTION)),this}_updateCaptureZone(){if(this._captureZone){const e=this._dComponent.node(),t=e.ownerSVGElement,i=e.getCTM();let n=t.createSVGPoint();this._captureZone.setConstraints(this._captureZoneConstraints),n.x=this._x1,n.y=this._y1,n=n.matrixTransform(i),this._captureZone.setLineStart(n.x,n.y),n.x=this._x2,n.y=this._y2,n=n.matrixTransform(i),this._captureZone.setLineEnd(n.x,n.y)}return this}updateStyle(e){this._dComponent.attr("stroke-width",r.default.CSS_WIDTH[e.width]),this._dComponent.attr("stroke-dasharray",r.default.CSS_STYLE[e.style])}}t.default=d},35904:(e,t,i)=>{"use strict";var n=i(15215).Bx;const s=i(43130),r=n(i(93691)),o=n(i(50951)),a=n(i(89564)),l=n(i(10520));class d extends r.default{static create(e,t){return new d(e,t)}setCentre(e){this._centre=e,this.render()}setRadius(e,t){this._xRadius=e,this._yRadius=t,this.render()}_initDom(){this._dComponent=this._dContainer.append("ellipse").classed("oval",!0)}_createCaptureZone(){return this._captureZoneManager&&!this._captureZone&&(this._captureZone=this._captureZoneManager.createZone(a.default,this._captureZonePropagation||o.default.PROPAGATE_UNHANDLED,l.default.ANNOTATION_SELECTION)),this}render(){super.render(),this._centre&&this._dComponent.attrs({cx:this._centre.x,cy:this._centre.y,rx:this._xRadius,ry:this._yRadius})}_updateCaptureZone(){if(!(this._centre&&this._xRadius&&this._yRadius))return this;if(this._captureZone){const e=this._dComponent.node(),t=e.ownerSVGElement.createSVGPoint(),i=(0,s.assign)(t,this._centre).matrixTransform(e.getCTM());this._captureZone.setCoordinates(i.x,i.y,this._xRadius,this._yRadius,this._captureZoneConstraints)}return this}}t.A=d},36787:(e,t,i)=>{"use strict";var n=i(15215).Bx;const s=n(i(93691)),r=n(i(50951)),o=n(i(50721)),a=n(i(10520));class l extends s.default{constructor(){super(...arguments),this._captureZoneCoordinates=[{x:0,y:0},{x:0,y:0},{x:0,y:0},{x:0,y:0}]}static create(e,t){return new l(e,t)}static getPolygonAttrString(e){let t,i="";for(let n=0;n<e.length;n++)t=e[n],i=`${i}${t.x},${t.y} `;return i}_initDom(){this._dComponent=this._dContainer.append("polygon").classed("quadrilateral",!0)}_createCaptureZone(){return this._captureZoneManager&&!this._captureZone&&(this._captureZone=this._captureZoneManager.createZone(o.default,r.default.PROPAGATE_UNHANDLED,a.default.ANNOTATION_SELECTION)),this}_updateCaptureZone(){if(this._captureZone&&this._coordinates){const e=this._dComponent.node(),t=e.ownerSVGElement,i=e.getCTM();this._coordinates.forEach(((e,n)=>{let s=t.createSVGPoint();s.x=e.x,s.y=e.y,s=s.matrixTransform(i),this._captureZoneCoordinates[n].x=s.x,this._captureZoneCoordinates[n].y=s.y})),this._captureZone.setCoordinates(this._captureZoneCoordinates),this._captureZone.setConstraints(this._captureZoneConstraints)}return this}setCoordinates(e){if(!e||!e.length)return this;this._coordinates=e;const t=l.getPolygonAttrString(e);return this._dComponent.attr("points",t),this}}t.A=l},77786:(e,t,i)=>{"use strict";var n=i(15215).Bx;Object.defineProperty(t,"__esModule",{value:!0});const s=n(i(93691));class r extends s.default{static create(e,t){return new r(e,t)}_initDom(){this._dComponent=this._dContainer.append("rect").classed("rect",!0)}render(){super.render()}setRectCoordinates(e){return isFinite(e.x)&&(this._x=e.x,this.attr("x",e.x)),isFinite(e.y)&&(this._y=e.y,this.attr("y",e.y)),isFinite(e.height)&&(this._height=e.height,this.attr("height",e.height)),isFinite(e.width)&&(this._width=e.width,this.attr("width",e.width)),this.render(),this}}t.default=r},13227:(e,t,i)=>{"use strict";var n=i(15215).Bx;const s=i(43130),r=n(i(93691)),o=n(i(95613));function a(e){e.attr("x","0.1em").attr("dy","1em")}class l extends r.default{constructor(){super(...arguments),this._currentText=[]}static create(e,t){return new l(e,t)}_initDom(){this._dComponent=this._dContainer.append("g").classed("text",!0),this._dBackgroundRect=this._dComponent.append("rect").classed("background",!0),this._dText=this._dComponent.append("text").classed("label",!0)}setText(e,t){return(0,s.isEqual)(this._currentText,e)||(this._currentText=e,this._dText.selectAll("*").remove(),e.forEach(this._addTextLine,this),this._updateBackgroundSize()),(0,s.isEqual)(this._captureZoneConstraints,t)||this.setCaptureZoneConstraints(t),this}updateTextColour(e){this._dText.attr("fill",e.colour)}updateFontSize(e){this._currentFontSize=e,this._dText.attr("font-size",`${e}pt`),a(this._dText.selectAll("tspan")),this._updateBackgroundSize()}updateBold(e){this._dText.attr("font-weight",e?"bold":null),this._updateBackgroundSize()}updateItalic(e){this._dText.attr("font-style",e?"italic":null),this._updateBackgroundSize()}updateBackgroundStyles(e){this._currentBackgroundOpacity=e.isVisible?1:0,this._dBackgroundRect.attr("fill",e.isVisible?e.colour:null).attr("fill-opacity",this._currentBackgroundOpacity)}updateBorderStyles(e){this._dBackgroundRect.attr("stroke",e.isVisible?e.colour:null).attr("stroke-width",e.isVisible?o.default.CSS_WIDTH[e.width]:null).attr("stroke-dasharray",e.isVisible?o.default.CSS_STYLE[e.style]:null)}_addTextLine(e){a(this._dText.append("tspan").text(e))}_updateBackgroundSize(){const e=this._dText.node().getBoundingClientRect(),t=.1*this._currentFontSize||3;this._backgroundSize={width:e.width>0?e.width+2*t:0,height:e.height>0?e.height+2*t:0},this._dBackgroundRect.attr("width",this._backgroundSize.width).attr("height",this._backgroundSize.height)}}t.A=l},59856:(e,t,i)=>{"use strict";var n=i(15215).Bx;const s=n(i(93691)),r=n(i(50951)),o=n(i(72873)),a=n(i(57937)),l=n(i(10520));class d extends s.default{constructor(){super(...arguments),this._captureZoneCoordinates=[{x:0,y:0},{x:0,y:0},{x:0,y:0}]}static create(e,t){return new d(e,t)}_initDom(){this._dComponent=this._dContainer.append("polygon").classed("triangle",!0)}_createCaptureZone(){return this._captureZoneManager&&!this._captureZone&&(this._captureZone=this._captureZoneManager.createZone(a.default,r.default.PROPAGATE_UNHANDLED,l.default.ANNOTATION_SELECTION)),this}_updateCaptureZone(){if(this._captureZone&&this._coordinates){const e=this._dComponent.node(),t=e.ownerSVGElement,i=e.getCTM();this._coordinates.forEach(((e,n)=>{let s=t.createSVGPoint();s.x=e.x,s.y=e.y,s=s.matrixTransform(i),this._captureZoneCoordinates[n].x=s.x,this._captureZoneCoordinates[n].y=s.y})),this._captureZone.setCoordinates(this._captureZoneCoordinates[0].x,this._captureZoneCoordinates[0].y,this._captureZoneCoordinates[1].x,this._captureZoneCoordinates[1].y,this._captureZoneCoordinates[2].x,this._captureZoneCoordinates[2].y,this._captureZoneConstraints)}return this}setCoordinates(e,t){if(!e||!e.length)return this;this._coordinates=e;const i=o.default.getPolygonAttrString(e);return this._dComponent.attr("points",i),3===e.length&&this.setCaptureZoneConstraints(t),this}}t.A=d},5068:(e,t,i)=>{"use strict";var n=i(15215).Bx;Object.defineProperty(t,"__esModule",{value:!0});const s=i(43130),r=n(i(41185)),o=n(i(18728)),a=n(i(88045)),l=n(i(73142)),d=n(i(98760));class u{constructor(e){this._recognisers=[],this._wrapper=e}static create(e){return new u(e)}on(e,t){const{gestureType:i,options:n}=c(e,t),r=this._wrapper._getCaptureZone().addGesture(i,n),o=(0,s.find)(this._recognisers,r.equals.bind(r));return o?(a.default.info(`Adding another ${i.name} when one already exists, consider removing the previous gesture first`),this._wrapper._getCaptureZone().removeGesture(r),o.applyHandlers(n)):this._recognisers.push(r),this}off(e,t){const{gestureType:i,options:n}=c(e,t),r=i.create(n),o=(0,s.find)(this._recognisers,r.equals.bind(r));return r.destroy(),o&&((0,s.pull)(this._recognisers,o),this._wrapper._getCaptureZone().removeGesture(o)),this}destroy(){(0,s.invokeMap)(this._recognisers,"destroy"),delete this._recognisers,delete this._wrapper}}function c(e,t){if("string"==typeof e){if(!(0,s.has)(u.GESTURES,e))throw new Error(`Attempting to handle unknown gesture type: ${e}`);t=(0,s.assign)({},t,u.GESTURES[e][1]),e=u.GESTURES[e][0]}else if(!((0,s.get)(e,"prototype")instanceof r.default))throw new Error(`Attempting to handle gesture from something that's not gesture recogniser: ${e}`);return{gestureType:e,options:t}}u.GESTURES={tap:[d.default,{count:1}],doubleTap:[d.default,{count:2}],pan:[l.default,{}],contextMenu:[o.default,{}]},Object.seal(u),t.default=u},88933:(e,t,i)=>{"use strict";var n=i(15215).Bx;Object.defineProperty(t,"__esModule",{value:!0});const s=n(i(61568)),r=n(i(57308));function o(e){e.key===s.default.ENTER&&(e.preventDefault(),e.stopPropagation())}t.default=class{constructor(e,t,i,n=!1,s=!1){this._rows=e,this._cols=t,this._defaultValue=i,this._isReadonly=n,this._keepSelected=s}initDom(e){return this._dContainer=e,this._dTextAreaContainer=e.append("div").classed("textAreaContainer",!0),r.default.enableDefault(this._dTextAreaContainer.node()),this._dTextArea=this._dTextAreaContainer.append("textarea").attr("rows",this._rows).attr("cols",this._cols),this._isReadonly&&this._dTextArea.attr("readonly",!0),this._dTextArea.node().addEventListener("keyup",o,!1),this.value=this._defaultValue,this._dTextArea.on("input",this._onChange.bind(this)),this._dTextArea.on("blur",this._onChange.bind(this)),this._dTextArea.on("click",this._onClick.bind(this)),this}show(){return this._dTextAreaContainer.classed("hidden",!1),this}hide(){return this._dTextAreaContainer.classed("hidden",!0),this}select(){this._dTextArea.node().select()}destroy(){var e;null===(e=this._dTextArea.node())||void 0===e||e.removeEventListener("keyup",o,!1),this._dTextAreaContainer&&(r.default.cancelScrolling(this._dTextAreaContainer.node()),this._dTextAreaContainer.remove(),this._dTextAreaContainer=null)}get value(){return this._dTextArea.property("value").trim()}set value(e){this._dTextArea.property("value",this._sanitizeValue(e))}get dTextArea(){return this._dTextArea}_sanitizeValue(e){return e||""}_onChange(e,t,i){this.value=i[t].value}_onClick(){this._keepSelected&&window.setTimeout((()=>this.select()),1)}}},52835:(e,t,i)=>{"use strict";const n=(0,i(15215).ut)(i(38108));class s extends n.default{constructor(){super(...arguments),this.positions=[{name:"body",clipPathNeeded:!1}]}getPositionType(){return n.POSITION_TYPE.NO_OFFSET}initDom(){return super.initDom(),this._dBorder=this.dContainer.append("svg:rect"),this._dBorder.classed("outerBorder",!0),this}destroyDom(){return this._dBorder&&(this._dBorder.remove(),delete this._dBorder),super.destroyDom(),this}updateDimensions(e,t,i,n){super.updateDimensions(e,t,i,n),this._dBorder&&this._dBorder.attrs({width:e.width-1,height:e.height-1})}}t.A=s},69981:(e,t,i)=>{"use strict";var n=i(15215).Bx,s=i(15215).ut;const r=i(43130),o=n(i(86605)),a=s(i(38108)),l=n(i(73453));class d extends a.default{constructor(){super(...arguments),this.type=a.default.HTML_TYPE,this.positionTagName="div",this.rendererTagName="div",this._fullSpan=!1,this.positions=[{name:"xAxis"},{name:"body"}]}withProperties(e){return"boolean"==typeof e.fullSpan&&(this._fullSpan=e.fullSpan),this}getPositionType(){return this._fullSpan?a.POSITION_TYPE.NO_OFFSET:a.POSITION_TYPE.DEFAULT}setVisibleWindow(e){return super.setVisibleWindow(e),e.y.domain([0,1]),this}updateDimensions(e,t,i,n){const s=!this.dimensions||this.dimensions.height!==e.height;super.updateDimensions(e,t,i,n),this._getPositionDomContainer("body").styles({width:`${e.width}px`,height:`${e.height}px`});const a=this._getPositionDomContainer("xAxis"),d=(0,r.find)(t,(({name:e})=>"xaxis"===e)),u=parseInt(a.style("height"),10),c=d?Math.min(d.y-e.y,e.height):e.height;a.styles({width:`${e.width}px`,height:`${c}px`}),s||u===c||this.visibleWindow.fire(l.default.MOVED,o.default.STATIC,o.default.RESIZED)}}t.A=d},60102:(e,t,i)=>{"use strict";var n=i(15215).Bx;Object.defineProperty(t,"__esModule",{value:!0});const s=n(i(3565)),r=i(41943),o=n(i(86605)),a=i(90577),l=i(9525),d=i(73731),u=n(i(14243)),c=n(i(73453)),h=n(i(92896));class p extends s.default{startListening(e){const t=super.startListening(e);return this._presentationModel.subView=this._subView,this._visibleWindow.on(c.default.MOVED,this._handleVisibleWindowMoved,this),this._eventBus.subscribe("module/toggle/*",this._updateVisibility,this),this._eventBus.subscribe("chart/instrument/info",this._handleInstrumentInfo,this),this._eventBus.subscribe("chart/dealTicket/alignment/change",(0,l.delegate)("_presentationModel","setDealTicketAlignment"),this),this._eventBus.subscribe("commonui/offset/indicatorlabels",(0,l.delegate)("_presentationModel","setIndicatorLabelsOffset"),this),this._settingsManager.on((0,d.getLayoutSettingsEvent)(u.default.CORE),this._updateLayoutSettings,this),this._settingsManager.on((0,d.getLayoutSettingsEvent)(u.default.DRAWINGS_VISIBILITY),this._updateDrawingsVisibility,this),this._settingsManager.on((0,d.getLayoutSettingsEvent)(u.default.HIGH_LOW_STATS_VISIBILITY),this._updateHighLowStatsVisibility,this),this._settingsManager.on((0,d.getLayoutSettingsEvent)(u.default.INDICATORS_VISIBILITY),this._updateIndicatorsVisibility,this),this._updateLayoutSettings(),this._updateDrawingsVisibility(),this._updateHighLowStatsVisibility(),this._updateIndicatorsVisibility(),this._updateVisibility(),t}stopListening(){this._settingsManager.un(null,this),super.stopListening()}_updateLayoutSettings(){this._presentationModel.setHeikinAshiSelected(this._settingsManager.getStyleSettings()===h.default.HEIKINASHI)}_updateVisibility(){const e=this._moduleLoader.getInitialisedModules(),t=(0,r.contains)(e,"fullscreenButton"),i=(0,r.contains)(e,"dealingBuySellButtons");this._presentationModel&&(this._presentationModel.setFullscreenEnabled(t),this._presentationModel.setDealingFromChartEnabled(i))}_updateHighLowStatsVisibility(){const e=this._moduleLoader.getInitialisedModules(),t=this._moduleLoader.getModule("highLowStats"),i=(0,r.contains)(e,"highLowStats");this._presentationModel&&(this._presentationModel.setDailyStatsVisibility(i&&t.areDailyStatsAvailable()&&this._settingsManager.getHighLowStatsVisibilitySettings()),this._presentationModel.setVisibleStatsVisibility(i&&t.areVisibleRangeStatsAvailable()&&this._settingsManager.getHighLowStatsVisibilitySettings()))}_updateIndicatorsVisibility(){const e=this._moduleLoader.getInitialisedModules(),t=(0,r.contains)(e,"indicators"),i=(0,r.contains)(e,"indicatorLabels");this._presentationModel&&this._presentationModel.setIndicatorsVisibility(t&&i&&this._settingsManager.getIndicatorsVisibilitySettings())}_updateDrawingsVisibility(){this._presentationModel&&this._presentationModel.fire(a.COMMON_UI_CHANGED)}_handleInstrumentInfo(e){this._presentationModel.setDelayedMarket(e.isDelayed)}_handleVisibleWindowMoved(e,t){const i=this._presentationModel.bottomShiftThreshold;e&(o.default.RESIZED|o.default.INITIALISED)&&this._presentationModel.setBelowThreshold(this._visibleWindow.width()<i)}setIndicatorLabelsOffset(e){this._eventBus.publish("commonui/offset/indicatorlabels",[e])}}t.default=p},90577:(e,t,i)=>{"use strict";var n=i(15215).Bx;Object.defineProperty(t,"__esModule",{value:!0}),t.STATS_HEIGHT=t.NEUTRAL_Y_OFFSET=t.COMMON_UI_CHANGED=void 0;const s=n(i(48990)),r=n(i(29736)),o=n(i(50547));t.COMMON_UI_CHANGED="commonUiChanged",t.NEUTRAL_Y_OFFSET=8,t.STATS_HEIGHT=14;class a extends s.default{constructor(){super(...arguments),this._notifyScheduled=!1,this._belowThreshold=!1,this._isDelayedMarket=!1,this._dealTicketAlignment=r.default.NONE,this._isDealingFromChartEnabled=!1,this._isFullscreenEnabled=!1,this._isHeikinAshiSelected=!1,this._indicatorsVisibility=!1,this._dailyStatsVisibility=!1,this._visibleStatsVisibility=!1,this._indicatorLabelsOffset=0}setBelowThreshold(e){return this._switchAndNotify("_belowThreshold",e)}setDelayedMarket(e){return this._switchAndNotify("_isDelayedMarket",e)}setDealTicketAlignment(e){return this._switchAndNotify("_dealTicketAlignment",e)}setDealingFromChartEnabled(e){return this._switchAndNotify("_isDealingFromChartEnabled",e)}setFullscreenEnabled(e){return this._switchAndNotify("_isFullscreenEnabled",e)}setHeikinAshiSelected(e){return this._switchAndNotify("_isHeikinAshiSelected",e)}setIndicatorsVisibility(e){return this._switchAndNotify("_indicatorsVisibility",e)}setDailyStatsVisibility(e){return this._switchAndNotify("_dailyStatsVisibility",e)}setVisibleStatsVisibility(e){return this._switchAndNotify("_visibleStatsVisibility",e)}setIndicatorLabelsOffset(e){return this._switchAndNotify("_indicatorLabelsOffset",e)}getOffsets(e){switch(e){case"southWest":return{xOffset:0,yOffset:this._getBottomVerticalOffset()};case"marketInfo":return{xOffset:this._getHorizontalOffsetForMarketInfo(),yOffset:this._getTopVerticalOffsetForMarketInfo()};case"northWest":return{xOffset:this._getHorizontalOffset(),yOffset:this._getTopVerticalOffset()};case"northEast":return{xOffset:this._getRightMarginOffset(),yOffset:this._getTopVerticalOffset()};default:return{xOffset:0,yOffset:t.NEUTRAL_Y_OFFSET}}}getOffsetsForComponent(e){let i;switch(e){case"visiblestats":i=this.getOffsets("southWest"),i.yOffset-=this.getStatsLineWrapOffset();break;case"daystats":i=this.getOffsetsForComponent("visiblestats"),i.yOffset-=t.STATS_HEIGHT;break;case"indicatorslabels":i=this._getStatsOffset();break;case"annotationstoolbox":case"drawingstoolbox":i=this.getOffsetsForComponent("indicatorslabels"),i.yOffset-=this._getIndicatorLabelOffset();break;case"instrumentswitcher":i=this.getOffsetsForComponent("drawingstoolbox"),i.yOffset-=50}return i}isHeikinAshiSelected(){return this._isHeikinAshiSelected}_getHorizontalOffset(){return this._isFullscreenEnabled?this.fullscreenEnabledHorizontalOffset:0}_getRightMarginOffset(){return-this.subView.getChartView().rightMargin}_getTopVerticalOffset(){let e=t.NEUTRAL_Y_OFFSET;return this._areDealingButtonsVisible()&&this._belowThreshold&&(e=this.dealingButtonsEnabledVerticalOffset),e}_getHorizontalOffsetForMarketInfo(){return!this._isFullscreenEnabled||this._areDealingButtonsVisible()&&this._belowThreshold?0:this.fullscreenEnabledHorizontalOffset}_getTopVerticalOffsetForMarketInfo(){let e=t.NEUTRAL_Y_OFFSET;return this._isFullscreenEnabled&&this._areDealingButtonsVisible()&&this._belowThreshold&&this._dealTicketAlignment!==r.default.TOP&&(e=this.fullscreenEnabledVerticalOffset),e}_areDealingButtonsVisible(){return this._isDealingFromChartEnabled&&!this._isDelayedMarket}_getBottomVerticalOffset(){let e,t,i,n=0;return this.subView&&this.subView.dimensions&&(e=this.subView.getChartView().chartHeight(),t=this.subView.dimensions.height,i=e-this.axisOffset-t,n=Math.min(n+i,0)),this.subView.isLastStudyView()&&(n-=this.dataIsIndicativeOffset),n}_getIndicatorLabelOffset(){return this._indicatorLabelsOffset?this._indicatorLabelsOffset:0}getStatsLineWrapOffset(){return this._belowThreshold?this.statsLineWrap:0}_getStatsOffset(){let e;return this._dailyStatsVisibility||this._visibleStatsVisibility?(e=this._dailyStatsVisibility&&this._visibleStatsVisibility?this.getOffsetsForComponent("daystats"):this.getOffsetsForComponent("visiblestats"),e.yOffset-=t.STATS_HEIGHT,e):this.getOffsets("southWest")}_notifyOfLayoutChange(){this._notifyScheduled||(this._notifyScheduled=!0,o.default.defer(this._fireLayoutEvent,this))}_fireLayoutEvent(){this.fire(t.COMMON_UI_CHANGED),this._notifyScheduled=!1}_switchAndNotify(e,t){return this[e]!==t&&(this[e]=t,this._notifyOfLayoutChange()),this}}t.default=a},53621:(e,t,i)=>{"use strict";var n=i(15215).Bx;const s=n(i(3565)),r=n(i(77209));class o extends s.default{startListening(e){return super.startListening(e),this._eventBus.subscribe(r.default.TRADE_CONFIRMED,this._confirmation,this),this._eventBus.subscribe(r.default.TRADE_REJECTED,this._rejection,this),this._eventBus.subscribe(r.default.TRADE_INVALID,this._invalid,this),this._eventBus.subscribe("messagebox/ignore/validation",this._ignoreValidation,this),this}publishValidation(){this._eventBus.publish("messagebox/dismiss/validation")}_confirmation(e){this._presentationModel.handleConfirmation(e)}_rejection(e){this._presentationModel.handleRejection(e)}_invalid(e){this._presentationModel.handleInvalid(e)}_ignoreValidation(e){this._presentationModel.handleIgnoreValidation(e)}}t.A=o},55159:(e,t,i)=>{"use strict";var n=i(15215).Bx;const s=n(i(3565)),r=i(40708),o=n(i(14243)),a=i(73731),l=n(i(47392));class d extends s.default{dragAxisStart(e){this._lastDelta=e.deltaY}dragAxis(e){const t=e.startY>(0,r.midPoint)(this._visibleWindow.y.range())?-1:1,i=(e.deltaY-this._lastDelta)*t;this._lastDelta=e.deltaY,this._eventBus.publish("chart/zoom/drag/vertical",[i])}axisBackgroundFocus(){this._taskManager.taskExists(l.default.BIJ_AXIS_HOVER.ID)||this._taskManager.startTask(l.default.BIJ_AXIS_HOVER)}axisBackgroundBlur(){this._taskManager.finishTask(l.default.BIJ_AXIS_HOVER.ID)}startListening(e){return super.startListening(e),this._settingsManager.on((0,a.getLayoutSettingsEvent)(o.default.CORE),this._onScaleChanged,this),this._onScaleChanged(),this}stopListening(){super.stopListening(),this._settingsManager.un(null,this)}_onScaleChanged(){const e=this._settingsManager.getScaleDisplayTypeSettings();this._presentationModel.setScaleDisplayType(e)}}t.A=d},9012:(e,t,i)=>{"use strict";var n=i(15215).Bx;Object.defineProperty(t,"__esModule",{value:!0});const s=i(84039),r=n(i(69057));class o{static create(){return new o}setVisibleWindow(e){this._visibleWidow=e}render(e,t){const i=(0,s.select)(e),n=`${this._visibleWidow.valueAsPercentage(t).toFixed(2)}%`;i.selectAll("*").remove(),i.append("svg:text").attr("dx",-1*r.default.RIGHT_PADDING).attr("dy",4).classed("label",!0).text(n)}}t.default=o},48990:(e,t,i)=>{"use strict";var n=i(15215).Bx;Object.defineProperty(t,"__esModule",{value:!0});const s=n(i(289));class r extends s.default{}t.default=r},99428:(e,t,i)=>{"use strict";const n=(0,i(15215).Bx)(i(90577));class s extends n.default{handleConfirmation(e){this.fire(s.CONFIRMATION,e)}handleRejection(e){this.fire(s.REJECTION,e)}handleInvalid(e){this.fire(s.INVALID,e)}handleIgnoreValidation(e){this.fire(s.IGNORE_VALIDATION,e)}}s.CONFIRMATION="confirmation",s.REJECTION="rejection",s.INVALID="invalid",s.IGNORE_VALIDATION="ignore_validation",t.A=s},35950:(e,t,i)=>{"use strict";var n=i(15215).Bx;Object.defineProperty(t,"__esModule",{value:!0});const s=n(i(48990)),r=n(i(97535));class o extends s.default{setScaleDisplayType(e){e!==this._scaleDisplayType&&(this._scaleDisplayType=e,this.fire(o.SCALE_DISPLAY_TYPE_CHANGED))}showPercentageScale(){return this._scaleDisplayType===r.default.PERCENTAGE}}o.SCALE_DISPLAY_TYPE_CHANGED="SCALE_DISPLAY_TYPE_CHANGED",t.default=o},69057:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=i(43130),s=i(84039),r=i(10094),o=Object.freeze(["","K","M","B","T"]);function a(e){return 1e3**e}class l{constructor(){this.decimalPlaces=null,this.scalingFactor=1,this._suffixIndex=0}static create(){return new l}updateSuffix(...e){if(e.some((e=>"number"!=typeof e))){try{throw new Error}catch(n){console.error("Attempting to update suffix with non-numbers"),console.error(n.stack)}return this._suffixIndex=0,o[0]}let t=e.length?o.length-1:0,i=a(t);for(let s=0;s<e.length&&t;s++)for(;t&&e[s]/this.scalingFactor%i;)i=a(--t);return this._suffixIndex=t,o[t]}format(e){const t=this._suffixIndex?e/a(this._suffixIndex):e;return`${"number"==typeof this.decimalPlaces?(0,n.floor)(t/this.scalingFactor,this.decimalPlaces).toFixed(this.decimalPlaces):(0,r.roundFloatingPointError)(t/this.scalingFactor).toString(10)}${o[this._suffixIndex]}`}render(e,t){const i=(0,s.select)(e);i.selectAll("*").remove(),i.append("svg:text").attrs({dx:-1*l.RIGHT_PADDING,dy:4}).classed("label",!0).text(this.format(t))}}l.RIGHT_PADDING=10,t.default=l},19944:(e,t,i)=>{"use strict";var n=i(15215).Bx;Object.defineProperty(t,"__esModule",{value:!0});const s=n(i(289)),r=n(i(73453));class o extends s.default{set projectionArea(e){this._dContainer=e}set visibleWindow(e){this._visibleWindow=e}maintainBackwardsTransform(){return this._visibleWindow.on(r.default.MOVED,this._handleVisibleWindowMoved,this),this._visibleWindow.on(r.default.HIGH_LOW_CHANGED,this.positionContainer,this),this._visibleWindowDomainSet()&&this.positionContainer(),this}_handleVisibleWindowMoved(e,t){this._updateBackwardsTransformIfRequired(e,t),this._checkIfReplotRequired(e,t)}stopMaintainingBackwardsTransform(){this._visibleWindow.un(null,this)}}o.REPLOT_REQUIRED="replotRequired",t.default=o},75730:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=class{constructor(){this.forwardsUnchanging=!1,this.isRelative=!1}}},64754:(e,t,i)=>{"use strict";var n=i(15215).Bx;const s=n(i(75730)),r=n(i(86605)),o=i(10094),a=i(40708);class l extends s.default{constructor(){super(...arguments),this.name="InvertedScreenProjection",this.roundValue=Math.round}backwardsTransformNeedsUpdateOnChange(e){return!!(e&(r.default.ZOOMED|r.default.RESIZED))}getBackwardsTransformComponents(e,t){return{scale:-1,translate:-(0,a.rangeExtent)((0,a.rangePair)(t.range()))}}visibleRoundValue(e){return Math.round((0,o.enforceMinimumValue)(e,1))}getForwardsProjectionScale(e,t){return e=>(0,a.rangeExtent)((0,a.rangePair)(t.range()))-t(e)}contentsNeedReplottingAfterChange(e){return!!e}}t.A=l},70113:(e,t,i)=>{"use strict";const n=(0,i(15215).Bx)(i(48969));class s extends n.default{constructor(){super(...arguments),this.isRelative=!0}static create(){return new s}getBackwardsTransformComponents(e,t){const i=e.visibleDateRange.getVisibleBlocks();return{scale:1,translate:t(i.length?i[0].accStart:0)-t(e.visibleDateRange.accStart())}}}t.A=s},39634:(e,t,i)=>{"use strict";var n=i(15215).Bx;const s=i(64089),r=i(91933),o=n(i(38442));class a extends o.default{constructor(){super(...arguments),this.isRelative=!0,this._tempScale=(0,s.scaleLinear)()}static createForShowingTimeInX(e){return new a(r.roundForTimePlotting,(0,r.crossBrowserSafeRounding)(e))}getBackwardsTransformComponents(e,t){const i=e.visibleDateRange.getVisibleBlocks();if(i.length){const e=i[0].accStart,n=t.domain();t=this._tempScale.domain([n[0]-e,n[1]-e]).range(t.range())}return super.getBackwardsTransformComponents(e,t)}}t.A=a},33347:(e,t,i)=>{"use strict";const n=(0,i(15215).Bx)(i(75730)),s=i(10094);class r extends n.default{constructor(){super(...arguments),this.name="ScreenProjection",this.roundValue=Math.round}static create(){return new r}backwardsTransformNeedsUpdateOnChange(){return!1}getBackwardsTransformComponents(){return Object.freeze({scale:1,translate:0})}visibleRoundValue(e){return Math.round((0,s.enforceMinimumValue)(e,1))}getForwardsProjectionScale(e,t){return t}contentsNeedReplottingAfterChange(e){return!!e}}t.A=r},48969:(e,t,i)=>{"use strict";var n=i(15215).Bx;Object.defineProperty(t,"__esModule",{value:!0});const s=n(i(75730)),r=n(i(86605)),o=i(10094),a=Math.pow(10,-1);class l extends s.default{constructor(){super(...arguments),this.name="TimeOffsetProjection"}static create(){return new l}backwardsTransformNeedsUpdateOnChange(e){return!!e}getBackwardsTransformComponents(e,t){return{scale:1,translate:t(0)-t(e.visibleDateRange.accStart())}}getForwardsProjectionScale(e,t){return e=>{const i=t.domain()[0];return t(e+i)}}roundValue(e){return(0,o.roundToDecimalPlaces)(e,1)}visibleRoundValue(e){return(0,o.roundToDecimalPlaces)((0,o.enforceMinimumValue)(e,a),1)}contentsNeedReplottingAfterChange(e){return!!(e&(r.default.ZOOMED|r.default.RESIZED))}}t.default=l},38442:(e,t,i)=>{"use strict";var n=i(15215).Bx;Object.defineProperty(t,"__esModule",{value:!0});const s=n(i(75730)),r=i(91933),o=n(i(72873));class a extends s.default{static createForShowingTimeInX(e){const t=(0,r.crossBrowserSafeRounding)(e);return new a(r.roundForTimePlotting,t)}constructor(e,t){super(),this.name="XModelProjection",this._projectionScale=e=>e,this.forwardsUnchanging=!0,this.contentsNeedReplottingAfterChange=()=>!1,this.roundValue=this.visibleRoundValue=e,t&&(this._projectionScale=e=>e/t)}backwardsTransformNeedsUpdateOnChange(e){return!!e}getBackwardsTransformComponents(e,t){return o.default.linearAxisToSvgScaleAndTranslate(t,this._projectionScale,Object.seal({scale:0,translate:0}))}getForwardsProjectionScale(){return this._projectionScale}}t.default=a},47703:(e,t,i)=>{"use strict";var n=i(15215).Bx;const s=i(64089),r=n(i(75730)),o=n(i(86605)),a=n(i(23584)),l=i(40708),d=i(91933),u=n(i(73453));class c extends r.default{static createForShowingValueInY(e){return new c(d.roundForPricePlotting,e)}constructor(e,t){super(),this.name="YModelProjection",this.forwardsUnchanging=!1,this._isReplotNeeded=!1,this.roundValue=this.visibleRoundValue=e,this._projectionScale=this._projectionScale.bind(this),t.on(u.default.HIGH_LOW_CHANGED,this._highLowChanged,this),t.highLowValueRange&&this._highLowChanged(t.highLowValueRange)}_highLowChanged(e){this._scale||(this._scale=(0,s.scaleLinear)().range(c.INTERMEDIATE_SCALE)),this._isReplotNeeded=!0,this._scale.domain((0,l.reverseRange)(e))}getForwardsProjectionScale(){return this._projectionScale}contentsNeedReplottingAfterChange(){return!!this._isReplotNeeded&&(this._isReplotNeeded=!1,!0)}backwardsTransformNeedsUpdateOnChange(e){return!!(e&(o.default.MOVED|o.default.RESIZED|o.default.ZOOMED))}getBackwardsTransformComponents(e,t){let i=Object.seal({scale:1,translate:0});if(this._scale){const e=t.domain().map(this._scale);i=a.default.getLinearFunctionComponents(e,t.range()),i.translate=-e[0]}return i}_projectionScale(e){return this._scale?this._scale(e):e}}c.INTERMEDIATE_SCALE=[1e3,0],t.A=c},91933:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.crossBrowserSafeRounding=t.roundForGradientStops=t.roundForTimePlotting=t.roundForPricePlotting=void 0;const n=i(10094);t.roundForPricePlotting=function(e){return(0,n.toNumericPrecision)(e,7)},t.roundForTimePlotting=function(e){return(0,n.roundToDecimalPlaces)(e,6)},t.roundForGradientStops=function(e){return(0,n.toNumericPrecision)(e,6)},t.crossBrowserSafeRounding=function(e){const t=Math.ceil((0,n.logWithBase)(10,e));return Math.pow(10,Math.max(t-1,1))}},58634:(e,t,i)=>{"use strict";var n=i(15215).Bx;const s=n(i(19944)),r=n(i(86605)),o=n(i(72873));class a extends s.default{static create(e){return new a(e)}constructor(e){super(),this.inX=e}positionContainer(){const{scale:e,translate:t}=this.inX.getBackwardsTransformComponents(this._visibleWindow,this._visibleWindow.getXScale());this._dContainer.attr("transform",o.default.xTransform(e,t,this.inX.roundValue)),this.inX.contentsNeedReplottingAfterChange(r.default.RESIZED)&&this.fire(s.default.REPLOT_REQUIRED,!0,!1)}_visibleWindowDomainSet(){return this._visibleWindow.visibleDateRange.xAxisReady}_updateBackwardsTransformIfRequired(e){void 0!==e&&this.inX.backwardsTransformNeedsUpdateOnChange(e)&&this.positionContainer()}_checkIfReplotRequired(e){this.inX.contentsNeedReplottingAfterChange(e)&&this.fire(s.default.REPLOT_REQUIRED,!0,!1)}}t.A=a},41283:(e,t,i)=>{"use strict";var n=i(15215).Bx;const s=n(i(19944)),r=n(i(86605)),o=n(i(72873));class a extends s.default{constructor(e,t){super(),this.inX=e,this.inY=t}_visibleWindowDomainSet(){return this._visibleWindow.isReadyForRender()}_updateBackwardsTransformIfRequired(e,t){void 0!==e&&void 0!==t&&(this.inX.backwardsTransformNeedsUpdateOnChange(e)||this.inY.backwardsTransformNeedsUpdateOnChange(t))&&this.positionContainer()}positionContainer(){const e=this._visibleWindow,{scale:t,translate:i}=this.inX.getBackwardsTransformComponents(e,e.getXScale()),{scale:n,translate:a}=this.inY.getBackwardsTransformComponents(e,e.y),l=this.inX.contentsNeedReplottingAfterChange(r.default.RESIZED),d=this.inY.contentsNeedReplottingAfterChange(r.default.RESIZED);this._dContainer.attr("transform",o.default.xyTransform(t,i,this.inX.roundValue,n,a,this.inY.roundValue)),(l||d)&&this.fire(s.default.REPLOT_REQUIRED,l,d)}_checkIfReplotRequired(e,t){const i=this.inX.contentsNeedReplottingAfterChange(e),n=this.inY.contentsNeedReplottingAfterChange(t);(i||n)&&this.fire(s.default.REPLOT_REQUIRED,i,n)}}t.A=a},21121:(e,t,i)=>{"use strict";var n=i(15215).Bx;Object.defineProperty(t,"__esModule",{value:!0});const s=n(i(85690));class r extends s.default{constructor(){super(...arguments),this._renderMap=Object.create(null)}markForUpdate(e){this._renderMap[e]=!0,this.renderOnFrameEnd()}renderMarkedForUpdate(e,t){if(this._renderMap[e]||!(e in this._renderMap)){const i=t.call(this);this._renderMap[e]=void 0!==i&&!i}}forceRender(e,t){delete this._renderMap[e],this.renderMarkedForUpdate(e,t)}markAllForUpdate(){for(const e in this._renderMap)delete this._renderMap[e];this.renderOnFrameEnd()}destroy(){super.destroy(),delete this._renderMap}}t.default=r},59070:(e,t,i)=>{"use strict";var n=i(15215).Bx;const s=n(i(85690)),r=n(i(19944));class o extends s.default{setVisibleWindow(e){return super.setVisibleWindow(e),this._projection=this._createProjection(e),this._projection.projectionArea=this.dContainer,this._projection.visibleWindow=e,this}startRedrawingBasedOnChangesInVisibleWindow(){this._projection.maintainBackwardsTransform().on(r.default.REPLOT_REQUIRED,this._replot,this)}stopRedrawingBasedOnChangesInVisibleWindow(){this._visibleWindow.un(null,this),this._visibleWindow.visibleDateRange.un(null,this),this._projection.stopMaintainingBackwardsTransform(),this._projection.un(null,this)}updateRenderingSpace(){this._projection.positionContainer()}_getForwardsProjectionInX(){return this._projection.inX.getForwardsProjectionScale(this._visibleWindow,this._visibleWindow.getXScale())}_getForwardsProjectionInY(){const e=this._visibleWindow;return this._projection.inY.getForwardsProjectionScale(e,e.y)}}t.A=o},85690:(e,t,i)=>{"use strict";var n=i(15215).Bx;Object.defineProperty(t,"__esModule",{value:!0});const s=n(i(4739)),r=i(9525);class o{constructor(e,t,i,n,s){this.name=e,this.group=t,this._eventBus=i,this._captureZoneManager=n,this._reactUI=s,this.relativeWeighting=0,this.position="body",this._renderOnFrameEnd=!1}getSubView(){return this._subView}getClassNameForContainer(){return this.name}setContainer(e){return this.dContainer=e,this}setVisibleWindow(e){return this._visibleWindow=e,this}setInstrumentModel(e){return this._instrumentModel=e,this}withAnimationPoller(e){return this._animationPoller=e,this._animationPoller.on(s.default.TRIGGER_RENDER,this._handleRenderTrigger,this),this}withIndicator(e){return this._indicator=e,this}withPresentationController(e){return this._presentationController=e,this}withPresentationModel(e){return this._presentationModel=e,this}withPosition(e){return this.position=e,this}withRelativeWeighting(e){return this.relativeWeighting=e,this}withSubView(e){return this._subView=e,this}destroy(){this._visibleWindow&&this.stopRedrawingBasedOnChangesInVisibleWindow(),this._animationPoller&&this._animationPoller.un(null,this),this._eventBus&&this._eventBus.unsubscribeAll(this),this.dContainer&&this.dContainer.remove(),delete this._animationPoller,delete this.dContainer}initDom(){return this}startRedrawingBasedOnChangesInVisibleWindow(){}stopRedrawingBasedOnChangesInVisibleWindow(){}render(){}renderOnFrameEnd(){this._renderOnFrameEnd=!0,this._animationPoller&&this._animationPoller.requestNextStep()}updateRenderingSpace(){}_handleRenderTrigger(){this._renderOnFrameEnd&&(this._renderOnFrameEnd=!1,this.render())}}o.naturalOrder=(0,r.ascendingFieldComparator)("relativeWeighting"),t.default=o},4380:(e,t,i)=>{"use strict";var n=i(15215).Bx;Object.defineProperty(t,"__esModule",{value:!0});const s=n(i(85690)),r=n(i(86605)),o=n(i(2928)),a=i(9525),l=i(21788),d=n(i(72873)),u=n(i(73453));class c extends s.default{constructor(){super(...arguments),this._xHasMoved=!1}initDom(){return this.dContainer.classed("hidden",!0),this._dShading=this.dContainer.append("rect").attr("class","win").data([null]),this._dLine=this.dContainer.append("line").attr("class","line"),this}render(){this._handleXScaleChange(),this._updateTransform()}startRedrawingBasedOnChangesInVisibleWindow(){super.startRedrawingBasedOnChangesInVisibleWindow(),this._visibleWindow.on(u.default.MOVED,this._handleVisibleWindowMoved,this),this._subscribeToChanges(),this._updateDirection()}stopRedrawingBasedOnChangesInVisibleWindow(){super.stopRedrawingBasedOnChangesInVisibleWindow(),this._visibleWindow.un(null,this),this._unsubscribeFromChanges()}_handleVisibleWindowMoved(e,t){e&r.default.RESIZED&&this._handleXScaleChange(),!this._xHasMoved&&e&r.default.MOVED&&(this._xHasMoved=!0,this._handleXScaleChange()),t&&this._updateTransform(!0)}_resizeLineAndShading(e,t){this._dLine.attr("x2",e),this._dShading.attr("width",t)}_updateDirection(){this._directionTransformation=this._isAboveAreaShaded()?-1:1}_updateTransformStep(e){const t=this._getAreaHeight(e),i=Math.abs(this._isAboveAreaShaded()?e:t);this.dContainer.attr("transform",`${d.default.svgTranslateAttrY(e)} ${d.default.svgScaleAttrY(this._directionTransformation)}`),this._dShading.attr("height",i)}_getAreaHeight(e){return this._visibleWindow.height()-e}_updateTransform(e){const t=this._getBaseValue(),i=this._previousValue;let n;"number"==typeof t&&(this._animationPoller.killTasks(this._animationNamespace),i&&!e?(n=(0,a.composeBound)(this,this._updateTransformStep,(0,a.partialComplete)(l.easedInterpolation,o.default.ANIM_EASE,this._visibleWindow.y(i),this._visibleWindow.y(t))),this._animationPoller.newFixedTimeTask(this._animationNamespace,n,o.default.ANIM_DURATION)):this._updateTransformStep(this._visibleWindow.y(t)),this._previousValue=t)}destroy(){this._animationPoller.killTasks(this._animationNamespace),super.destroy()}}t.default=c},20669:(e,t,i)=>{"use strict";var n=i(15215).Bx;Object.defineProperty(t,"__esModule",{value:!0});const s=i(43130),r=n(i(85690)),o=n(i(86605)),a=i(90577),l=n(i(72873)),d=n(i(73453));class u extends r.default{constructor(){super(...arguments),this._visible=!0,this._verticalPadding=1,this._horizontalPadding=2,this._showBackground=!0}withMarginTop(e){return this._marginTop=e,this}withMarginBottom(e){return this._marginBottom=e,this}withMarginLeft(e){return this._marginLeft=e,this}withMarginRight(e){return this._marginRight=e,this}withShowBackground(e){return this._showBackground=e,this}_showText(){this._dText.text(this._text()),this._showBackground&&this._updateBackgroundRectSize()}_updateBackgroundRectSize(){const e=this._dText.node().getBBox();this._dRect.attrs({x:e.x-this._horizontalPadding,y:e.y-this._verticalPadding,width:e.width+2*this._horizontalPadding,height:e.height+2*this._verticalPadding})}startRedrawingBasedOnChangesInVisibleWindow(){super.startRedrawingBasedOnChangesInVisibleWindow(),this._presentationModel&&this._presentationModel.getOffsets&&(this._visibleWindow.on(d.default.MOVED,this._handleVisibleWindowMoved,this),this._presentationModel.on(a.COMMON_UI_CHANGED,this._update,this),this._updateTextPosition())}_handleVisibleWindowMoved(e,t){t&o.default.RESIZED&&this._updateTextPosition()}stopRedrawingBasedOnChangesInVisibleWindow(){super.stopRedrawingBasedOnChangesInVisibleWindow(),this._visibleWindow&&this._visibleWindow.un(null,this),this._presentationModel&&this._presentationModel.un(null,this)}_update(){this._showText(),this._updateTextPosition()}_updateTextPosition(){const e=this._presentationModel.getOffsets(this.position);this.dContainer.attr("transform",l.default.svgTranslateAttrXY(e.xOffset,e.yOffset))}initDom(){let e;return this._showBackground&&(this._dRect=this.dContainer.append("svg:rect").attr("class","labelBackground")),this._dText=e=this.dContainer.append("svg:text").attr("class","label"),(0,s.isNil)(this._marginTop)||e.attr("y",this._marginTop).attr("dy","1em"),(0,s.isNil)(this._marginBottom)||e.attr("y",-this._marginBottom),(0,s.isNil)(this._marginTop)&&(0,s.isNil)(this._marginBottom)&&e.attr("dy","0.5em"),(0,s.isNil)(this._marginLeft)||e.attr("x",this._marginLeft),(0,s.isNil)(this._marginRight)||e.attr("x",-this._marginRight),this._showText(),this}show(){this._toggle(!0)}hide(){this._toggle(!1)}_toggle(e){const t=e?"visible":"hidden";this._dText.style("visibility",t),this._showBackground&&this._dRect.style("visibility",t),this._visible=e}}t.default=u},49625:(e,t,i)=>{"use strict";var n=i(15215).Bx;Object.defineProperty(t,"__esModule",{value:!0});const s=n(i(85690)),r=i(90577),o=n(i(6182)),a=n(i(50951)),l=i(9525),d=n(i(98760));class u extends s.default{constructor(e,t,i,n){super(e,t,i,n),this._showCloseButton=!0,this._eventPropagation=a.default.BLOCK_ALL,this._debouncedHide=l.schedule.debounce(this._hide,4e3)}initDom(){return this.dContainer.classed("messageBox",!0),this.dContainer.classed("transparent",!0),this.dContainer.append("div").classed("icon",!0),this._dTextContainer=this.dContainer.append("div").classed("text",!0),this._showCloseButton&&(this._dCloseButton=this.dContainer.append("div"),this._dCloseButton.classed("closeIcon",!0)),this}startRedrawingBasedOnChangesInVisibleWindow(){this._presentationModel&&(this._presentationModel.on(r.COMMON_UI_CHANGED,this._updateCaptureZone,this),this._updateCaptureZone())}stopRedrawingBasedOnChangesInVisibleWindow(){this._eventBus.unsubscribeAll(this),this._presentationModel&&this._presentationModel.un(null,this)}destroy(){super.destroy(),this._debouncedHide&&(this._debouncedHide.cancel(),delete this._debouncedHide),this._captureZone&&(this._captureZone.destroy(),delete this._captureZone),delete this._dCloseButton,delete this._dTextContainer}_createCaptureZone(){this._captureZone=this._captureZoneManager.create(this._eventPropagation,this._zIndex).withCursorOnHover(o.default.POINTER),this._captureZone.addGesture(d.default,{fastTap:!0}).withHandler(this._hide,this),this._captureZone.setHoverHandler({in:this._handleMouseOver,inContext:this,out:this._handleMouseOut,outContext:this})}_updateCaptureZone(){this._captureZone&&this._captureZone.setDimensionsBasedOnElement(this.dContainer)}_show(e=!1){this.dContainer.classed("transparent",!1),this._eventBus.subscribe("chart/view/dimensions/changed",this._updateCaptureZone,this),this._captureZone||this._createCaptureZone(),this._updateCaptureZone(),e&&this._debouncedHide()}_hide(){this._debouncedHide.cancel(),this._eventBus.unsubscribe("chart/view/dimensions/changed",this._updateCaptureZone,this),this.dContainer.classed("transparent",!0),this._captureZone&&(this._captureZone.destroy(),delete this._captureZone)}_handleMouseOver(){this._debouncedHide.cancel(),this.dContainer.classed("hover",!0)}_handleMouseOut(){this.dContainer.classed("hover",!1),this._debouncedHide()}}t.default=u},5955:(e,t,i)=>{"use strict";var n=i(15215).Bx;Object.defineProperty(t,"__esModule",{value:!0});const s=n(i(4739));t.default=class{constructor(e,t){this._renderOnFrameEnd=!1,this._dContainer=e,this._animationPoller=t,this._animationPoller.on(s.default.TRIGGER_RENDER,this._handleRenderTrigger,this)}renderOnFrameEnd(){this._renderOnFrameEnd=!0,this._animationPoller.requestNextStep()}destroy(){this._animationPoller.un(null,this)}_handleRenderTrigger(){this._renderOnFrameEnd&&(this.render(),this._renderOnFrameEnd=!1)}}},70029:(e,t,i)=>{"use strict";var n=i(15215).Bx;const s=n(i(85690)),r=n(i(38108));class o extends s.default{withI18n(e){return this._bundle=e,this}withTextKey(e){return this._textKey=e,this}initDom(){const e=this._bundle.get(this._textKey);return this._subView.type===r.default.HTML_TYPE?(this._dText=this.dContainer,this._dText.node().appendChild(document.createTextNode(e))):(this._dText=this.dContainer.append("text"),this._dText.text(e)),this}}t.A=o},57754:(e,t,i)=>{"use strict";var n=i(15215).Bx,s=i(15215).ut;Object.defineProperty(t,"__esModule",{value:!0}),t.TEXT_MARGIN=void 0;const r=n(i(85690)),o=i(41943),a=n(i(6182)),l=s(i(14978)),d=n(i(50951)),u=i(9525),c=n(i(48950)),h=n(i(69057)),p=n(i(9012)),_=n(i(72873)),g=n(i(73453)),f=n(i(35950)),m=n(i(78002)),v=n(i(10520)),A=n(i(30992));t.TEXT_MARGIN=5;class E extends r.default{constructor(){super(...arguments),this._axisBackground=!1,this._draggingEnabled=!1,this._percentageRendererHelper=p.default.create(),this._priceRendererHelper=h.default.create()}getSubView(){return this._subView}withAxisBackground(e){return this._axisBackground=e,this}withFixedTicks(e){return this._fixedTicks=e,this}withDraggingEnabled(e){return this._draggingEnabled=e,this}initDom(){return(this._draggingEnabled||this._axisBackground)&&(this._captureZone=this._captureZoneManager.create(this._axisBackground?d.default.BLOCK_ALL:d.default.PROPAGATE_ALL,this._axisBackground?v.default.Y_AXIS_BLOCKING:v.default.Y_AXIS)),this._draggingEnabled&&(this._captureZone.withCursorOnHover(a.default.NS_RESIZE),this._captureZone.addGesture(l.default,{handleHold:!0,plane:l.PLANES.VERTICAL,onStart:this._presentationController.dragAxisStart,startContext:this._presentationController,onGesture:this._presentationController.dragAxis,context:this._presentationController})),this._axisBackground&&(this._captureZone.setHoverHandler({in(){this.axisBackgroundFocus()},inContext:this._presentationController,out(){this.axisBackgroundBlur()},outContext:this._presentationController}),this._dBackground=this.dContainer.append("svg:g"),this._dBackground.attr("class","axisBackground"),this._dBackground.append("svg:rect"),this._dBackground.append("svg:line")),this}startRedrawingBasedOnChangesInVisibleWindow(){if(this._subView.instrumentScaling&&this._visibleWindow.epic){const e=this._instrumentModel.getInstrumentModelForEpic(this._visibleWindow.epic);e&&(e.info?this._handleInstrumentInfoLoaded(e.info):e.on(A.default.INFO_LOADED,this._handleInstrumentInfoLoaded,this))}this._visibleWindow.on(g.default.MOVED,this._handleVisibleWindowMoved,this),this._percentageRendererHelper.setVisibleWindow(this._visibleWindow),this._switchLevelRenderer(),this._yTicksGenerator=m.default.create(this._visibleWindow),this._presentationModel&&this._presentationModel.on(f.default.SCALE_DISPLAY_TYPE_CHANGED,this._onScaleChanged,this)}stopRedrawingBasedOnChangesInVisibleWindow(){if(this._presentationModel&&this._presentationModel.un(null,this),this._visibleWindow.un(null,this),this._visibleWindow.epic){const e=this._instrumentModel.getInstrumentModelForEpic(this._visibleWindow.epic);null==e||e.un(null,this)}delete this._yTicksGenerator}ticks(e){if(this._fixedTicks)return c.default.resolveDynamicProperties(this._fixedTicks,this._indicator);const t=this._yTicksGenerator.generateTicks(e,{baseTickAtLeftmostCloseLevel:this._presentationModel&&this._presentationModel.showPercentageScale()});return c.default.resolveDynamicProperties(t)}render(){this._visibleWindow.y.domainSet&&(this._renderTicks(),this._renderBackground(),this._updateCaptureZone())}destroy(){this._captureZone&&(this._captureZone.destroy(),delete this._captureZone),this._dBackground&&(this._dBackground.remove(),delete this._dBackground),super.destroy()}_onScaleChanged(){this._switchLevelRenderer(),this.renderOnFrameEnd()}_switchLevelRenderer(){this._currentRendererHelper=this._presentationModel&&this._presentationModel.showPercentageScale()?this._percentageRendererHelper:this._priceRendererHelper}_updateCaptureZone(){this._captureZone&&this._captureZone.setDimensions({x:this._subView.dimensions.x+this._subView.dimensions.width-this._subView.getChartView().rightMargin,y:this._subView.dimensions.y||0,width:this._subView.getChartView().rightMargin,height:this._subView.dimensions.height})}_positionTicks(e,t){e.attr("transform",(e=>_.default.svgTranslateAttrY(Math.round(t(e.value)))))}_redrawTickContents(e){e.each(((e,t,i)=>{this._currentRendererHelper.render(i[t],e.value)}))}_renderTicks(){const e=this._visibleWindow.y,t=this.ticks(e),i=(0,o.unique)(t.map((({value:e})=>e))),n=this.dContainer.selectAll(".tick").data(t,(0,u.plucker)("value")),s=this._priceRendererHelper.updateSuffix(...i);n.exit().remove(),s!==this._currentSuffix&&this._redrawTickContents(n);const r=n.enter().append("svg:g").merge(n);this._positionTicks(r,e),this._redrawTickContents(r),r.attr("class",this._tickClass),this._currentSuffix=s}_renderBackground(){if(this._dBackground){const e=this._subView.getChartView().rightMargin,{height:t}=this._subView.getStudyViewDimensions();this._dBackground.select("rect").attrs({x:-e,y:0,width:e,height:t}),this._dBackground.select("line").attrs({x1:-e,y1:0,x2:-e,y2:t})}}_tickClass(e){let t=`tick ${`value-${e.name}`.replace(".","-")}`;return e.value<0&&(t=`${t} negative`),t}_handleInstrumentInfoLoaded(e){this._priceRendererHelper.decimalPlaces=e.decimalPlaces,this._priceRendererHelper.scalingFactor=e.scalingFactor}_handleVisibleWindowMoved(){this.renderOnFrameEnd()}}t.default=E},30070:(e,t)=>{"use strict";var i;Object.defineProperty(t,"__esModule",{value:!0}),function(e){e[e.MIN_RESIZABLE_RELATIVE_HEIGHT=.05]="MIN_RESIZABLE_RELATIVE_HEIGHT",e[e.MIN_LABEL_HEIGHT=32]="MIN_LABEL_HEIGHT",e[e.DEFAULT_RELATIVE_HEIGHT=.3]="DEFAULT_RELATIVE_HEIGHT",e[e.DEFAULT_PRICES_MIN_HEIGHT=.33]="DEFAULT_PRICES_MIN_HEIGHT"}(i||(i={})),t.default=i},38108:(e,t,i)=>{"use strict";var n=i(15215).Bx;Object.defineProperty(t,"__esModule",{value:!0}),t.POSITION_TYPE=void 0;const s=i(43130),r=i(64089),o=n(i(85690)),a=n(i(3019)),l=n(i(2928)),d=i(9525),u=n(i(289)),c=n(i(72873));var h;!function(e){e[e.DEFAULT=0]="DEFAULT",e[e.NO_OFFSET=1]="NO_OFFSET",e[e.RELATIVE=2]="RELATIVE",e[e.FIXED=3]="FIXED"}(h=t.POSITION_TYPE||(t.POSITION_TYPE={}));class p extends u.default{constructor(e,t){super(),this.type=p.SVG_TYPE,this.positionTagName="svg:g",this.rendererTagName="svg:g",this.relativeSize=0,this.isPersistent=!1,this.presentationControllers={},this.relativeWeighting=0,this.domainNicing=!0,this.minHeight=0,this.positions=[],this._renderers={},this._chartViewName=e,this.name=t}withEventBus(e){return this._eventBus=e,this}withChartView(e){return this._chartView=e,this}withContainer(e){return this.dContainer=e,this}withCaptureZoneManager(e){return this._captureZoneManager=e,this}withRelativeWeighting(e){return this.relativeWeighting=e,this}withDomainNicing(e){return this.domainNicing=e,this}withPersistence(e){return this.isPersistent=e,this}withAnimationPoller(e){return this._animationPoller=e,this}withRendererFactory(e){return this._rendererFactory=e,this}withMinHeight(e){return this.minHeight=e,this}withProperties(e){return this._properties=e,this}setVisibleWindow(e){return this.visibleWindow&&(this._invokeEachRenderer("stopRedrawingBasedOnChangesInVisibleWindow"),(0,s.invokeMap)(this.presentationControllers,"stopListening"),this.visibleWindow.destroy()),this.visibleWindow=e.withY(this._createYAxis()),this._invokeEachRenderer("setInstrumentModel",this.visibleWindow.visibleDateRange.instrumentModelCollection),this._invokeEachRenderer("setVisibleWindow",this.visibleWindow),this._invokeEachRenderer("startRedrawingBasedOnChangesInVisibleWindow"),(0,s.invokeMap)(this.presentationControllers,"startListening",e,this.visibleWindow.visibleDateRange.instrumentModelCollection),this}updateDimensions(e,t,i,n){this.visibleWindow&&this.visibleWindow.y.range([0,e.height]),this.type===p.SVG_TYPE?this.dContainer.attr("transform",c.default.svgTranslateAttrXY(e.x,e.y)):this.type===p.HTML_TYPE&&["-webkit-","-moz-","-ms-",""].forEach((t=>this.dContainer.style(`${t}transform`,`translate(${e.x}px,${e.y}px)`))),this.dimensions=e,this.fire(p.DIMENSIONS_CHANGED,e)}isLastStudyView(){return this._chartView.subViewManager.isNthStudyView(this,-1)}getStudyViewDimensions(){return{top:this.dimensions.y,height:this.dimensions.height,width:this.dimensions.width}}getRelativeCursorPoint(e){return{x:e.x-this.dimensions.x,y:e.y-this.dimensions.y}}getChartView(){return this._chartView}getPositionType(){return h.DEFAULT}getFixedHeight(){return(0,s.reduce)(this._renderers,((e,t)=>t.reduce(((e,t)=>{var i;return Math.max(e,(null===(i=t.heightRequired)||void 0===i?void 0:i.call(t))||0)}),e)),0)}getRelativeHeightFraction(){return 0}topMargin(){return 0}bottomMargin(){return 0}rightMargin(){return 0}uniquelyIdentifyPosition(e){return`${this._chartViewName}-${this.name}-${e}`}getPresentationControllerByName(e){return this.presentationControllers[e]}initDom(){return this.positions.forEach(this._createRendererPosition,this),this}render(){this._invokeEachRenderer("updateRenderingSpace"),this._invokeEachRenderer("render")}newDefs(e){return this._chartView.newDefs(e)}removeDefs(e){this._chartView.removeDefs(e)}addRenderer(e){const t=e.group;if(!t)throw new Error("renderer without a groupname");const i=this._renderersInGroup(t);return i.push(e),i.sort(o.default.naturalOrder),e.withSubView(this).withAnimationPoller(this._animationPoller).setContainer(this._createDomForRenderer(e,t)),this.visibleWindow&&e.setInstrumentModel(this.visibleWindow.visibleDateRange.instrumentModelCollection).setVisibleWindow(this.visibleWindow).initDom().startRedrawingBasedOnChangesInVisibleWindow(),this.dContainer.classed(this._prefixedGroupName(t),!0),this}addRenderers(e){for(let t=0;t<e.length;t++)this.addRenderer(e[t]);return this}addPresentationControllers(e){var t;for(const i in e)e[i].withSubView(this),this.visibleWindow&&e[i].startListening(this.visibleWindow,(null===(t=this.visibleWindow)||void 0===t?void 0:t.visibleDateRange.instrumentModelCollection)||null);(0,s.merge)(this.presentationControllers,e)}removePresentationControllers(e){this.presentationControllers&&e.forEach((e=>{const t=this.presentationControllers[e];t&&(t.stopListening(),t.destroy(),delete this.presentationControllers[e])}))}removeRenderers(){for(const e in this._renderers)this.removeGroupOfRenderers(e);return this}removeRenderer(e,t){if(!this._renderers)return;const i=this._renderers[t]||[];for(let n=0;n<i.length;n++)i[n].name===e&&(i[n].destroy(),i.splice(n,1),0===i.length&&this.dContainer.classed(this._prefixedGroupName(t),!1))}removeGroupOfRenderers(e){const t=this._renderers[e];if(!t)return this;for(let i=0;i<t.length;i++)t[i].destroy();return delete this._renderers[e],this.dContainer.classed(this._prefixedGroupName(e),!1),this}destroy(){super.destroy(),this._eventBus&&(this._eventBus.unsubscribeAll(this),delete this._eventBus),this.removeRenderers(),this.destroyDom(),(0,s.invokeMap)(this.presentationControllers,"destroy"),this.visibleWindow&&this.visibleWindow.destroy(),delete this.presentationControllers,delete this._renderers}destroyDom(){return this.positions.forEach(this._removeRendererPosition,this),this}_getPositionDomContainer(e){return this.dContainer.select(`.position.${e}`)}_getClipRectsForPosition(e){const t=this._positionClipPathId(e);return this._chartView.dContainer.select(`#${t}`).selectAll("rect")}_createRendererPosition(e){if(e.clipPathNeeded){const t=this._positionClipPathId(e.name);return this.newDefs(this._positionClipDefsId(e.name)).append("svg:clipPath").attr("id",t).append("svg:rect"),this.dContainer.append("svg:g").attr("class",`${e.name}Clipper`).style("clip-path",c.default.localUrlRef(t)).append("svg:g").attr("class",`${e.name} position`)}return this.dContainer.append(this.positionTagName).attr("class",`${e.name} position`)}_positionClipPathId(e){return`${this.uniquelyIdentifyPosition(e)}-clip`}_positionClipDefsId(e){return`${this.uniquelyIdentifyPosition(e)}-defs`}_removeRendererPosition(e){this.dContainer.select(`.${e.name}.position`).remove(),e.clipPathNeeded&&(this.dContainer.select(`.${e.name}Clipper`).remove(),this._chartView.removeDefs(this._positionClipDefsId(e.name)))}_createYAxis(){return a.default.wrap((0,r.scaleLinear)(),1.5*l.default.ANIM_DURATION,l.default.ANIM_EASE,`${this._chartViewName}-${this.name}-subviewY`).withDomainNicing(this.domainNicing).withAnimationPoller(this._animationPoller)}_invokeEachRenderer(e,...t){for(const i in this._renderers){const n=this._renderers[i];(0,s.invokeMap)(n,e,...t)}}_rendererContainerClasses(e,t){return`${this._prefixedGroupName(t)} ${e.getClassNameForContainer()} renderer`}_prefixedGroupName(e){return`group-${e}`}_createDomForRenderer(e,t){if(!e.position)throw new Error(`renderer ${e.name} must have a position set`);const i=this._getPositionDomContainer(e.position);if(i.empty())throw new Error(`There is no position ${e.position} defined in ${this.name} view`);const n=i.selectAll(".renderer").data();n.push(e),n.sort(o.default.naturalOrder);const s=`.renderer:nth-child(${n.indexOf(e)+1})`;return i.insert(this.rendererTagName,s).data([e]).classed(this._rendererContainerClasses(e,t),!0)}_renderersInGroup(e){return this._renderers[e]||(this._renderers[e]=[]),this._renderers[e]}}p.naturalOrder=(0,d.ascendingFieldComparator)("relativeWeighting"),p.SVG_TYPE="svg",p.HTML_TYPE="html",p.DIMENSIONS_CHANGED="SubViewDimensionsChanged",p._applyDimensions=Object.freeze({x:(0,s.property)("x"),y:(0,s.property)("y"),width:(0,s.property)("width"),height:(0,s.property)("height")}),t.default=p},78429:(e,t,i)=>{"use strict";var n=i(15215).Bx,s=i(15215).ut;Object.defineProperty(t,"__esModule",{value:!0});const r=i(43130),o=i(56214),a=n(i(55986)),l=n(i(7633)),d=s(i(38108)),u=n(i(47392)),c=n(i(73453));function h(e){return e.getPositionType()===d.POSITION_TYPE.RELATIVE}function p(e){const t=e.getMainIndicator();return{id:t.name,settings:t.getSettings()}}class _{constructor(e,t,i,n,s,r,o){this._resizeEnabled=!0,this._animationPoller=n,this._containerProvider=s,this._dimensionOffsets=r,this._eventBus=i,this._rendererFactory=e,this._subViewFactory=t,this._subViews=a.default.create(),this._taskManager=o,this._eventBus.subscribe("resizableStudyViews/enabled",this._handleResizableStudyViewsEnabled,this),this._eventBus.subscribe("chart/subview/toggle",this.toggleSubView,this)}static create(e,t,i,n,s,r,o){return new _(e,t,i,n,s,r,o)}withCaptureZoneManager(e){return this._captureZoneManager=e,this}withChartModel(e){return this._chartModel=e,this}getSubView(e){return this._subViews.getBy("name",e)}studyViewForIndicator(e){return this._subViews.getBy("name",e.studyName)}isNthStudyView(e,t){return!!h(e)&&(0,r.nth)(this._subViews.filter(h),t)===e}addSubView(e,t){const i=this._subViewFactory.createSubView(e,t,this._captureZoneManager,this._animationPoller,this._rendererFactory);return i.on(l.default.RESIZE,this._onSubViewResize,this),i.on(l.default.RESIZE_END,this._onSubViewResizeEnd,this),this._subViews.add(i).sort(d.default.naturalOrder),this._dSvgContainer&&this._dHtmlContainer&&(this.renderSubViewsContainers(),this._initSubView(i)),i}remove(e){(0,r.each)(e,(e=>{e.un(null,this),this._subViews.remove(e),e.destroy()}))}render(){this._chartModel.currentInstrumentResolution&&this._subViews.invokeApply("render")}addRenderersBySubviewConfig(e){(0,r.each)(e,(({presentationControllers:e,renderers:t},i)=>{const n=this.getSubView(i);n&&(this._subViewFactory.createPresentationControllersForSubView(n,e),n.addRenderers(this._rendererFactory.makeNewRenderers(n,t)))}))}removeRenderersBySubviewConfig(e){(0,r.each)(e,(({presentationControllers:e,renderers:t},i)=>{const n=this.getSubView(i);n&&((0,r.each)(t,(({group:e},t)=>{n.removeRenderer(t,e)})),(0,r.size)(e)&&n.removePresentationControllers(Object.keys(e)))}))}toggleSubView(e,t){this.getSubView(e).toggle(t),this._chartWidth&&this._chartHeight&&this.updateDimensions(this._chartWidth,this._chartHeight,this._dimensionOffsets)}addPersistentSubViews(e){for(const t of this._subViewFactory.getPersistentNames())this.addSubView(e,t)}initSubViews(e,t){this._dSvgContainer=e,this._dHtmlContainer=t,this.renderSubViewsContainers(),this._subViews.forEach(this._initSubView,this)}_initSubView(e){e instanceof l.default?e.initDom(this._resizeEnabled):e.initDom(),this._chartModel&&this._chartModel.hasInstrumentResolution()&&this._recreateSubViewRenderers(e)}renderSubViewsContainers(){this._subViews.forEach((e=>{e.withContainer(this._containerProvider.getContainer(e.name))}))}recreateSubViewRenderers(){this._subViews.forEach(this._recreateSubViewRenderers,this)}_recreateSubViewRenderers(e){if(this._chartModel.visibleDateRange){const t=this._chartModel.indicators.find((t=>t.studyName===e.name));e.removeRenderers().setVisibleWindow(c.default.create(e.name,this._chartModel.visibleDateRange,this._eventBus,this._animationPoller,null==t?void 0:t.epic)).addRenderers(this._rendererFactory.makeRenderersForSubView(e))}}createRenderersForIndicators(){this._chartModel.indicators.forEach((e=>{const t=this.studyViewForIndicator(e);t&&t.addIndicator(e)}))}removeSubViewRenderers(){this._subViews.invokeApply("removeRenderers")}removeDefunctStudyViews(){const e=(0,r.keyBy)(this._subViews.filter(h),(e=>e.name));return this._chartModel.indicators.forEach((t=>{delete e[t.studyName]})),this.remove(e),(0,r.size)(e)>0}updateDimensions(e,t,i){this._chartWidth=e,this._chartHeight=t,this._dimensionOffsets=i,this._updateResizableStudyViewsMinHeight(),this._updateSubViewsDimensions()}_updateResizableStudyViewsMinHeight(){const e=this._getResizableStudyViews();if(e.length){const t=(0,r.min)((0,r.map)(e,"minHeight")),i=(0,r.min)((0,r.invokeMap)(e,"getRelativeHeightFraction"));i<t&&e.forEach((e=>e.minHeight=i))}}_updateSubViewsDimensions(){const e=(0,o.getDimensionsForSubViews)(this._subViews,this._chartWidth,this._chartHeight,this._dimensionOffsets);for(let t=0;t<e.length;t++)this._subViews.get(t).updateDimensions(e[t],e,this._chartWidth,this._chartHeight)}_getResizableStudyViews(){const e=this._subViews.filter(h);return(0,r.remove)(e,["name","prices"]),e}_handleResizableStudyViewsEnabled(e){this._resizeEnabled=e,(0,r.invokeMap)(this._getResizableStudyViews(),"toggleResizeStatus",e),this._chartWidth&&this._chartHeight&&this.updateDimensions(this._chartWidth,this._chartHeight,this._dimensionOffsets)}_onSubViewResize(e,t){const i=this._subViews.filter(h),n=(e.dimensions.y-t.y)/this._chartHeight,s=i.indexOf(e);let r,o;this._taskManager.startTask(u.default.RESIZE_SUBVIEW),n>=0?(r=-n,o=i.slice(0,s+1).reverse()):(r=n,o=i.slice(s-1));const a=o.shift();o.forEach((e=>{r=e.updateRelativeSize(r)})),a.updateRelativeSize(n>=0?n+r:r-n),this._updateSubViewsDimensions()}_onSubViewResizeEnd(){this._taskManager.finishTask(u.default.RESIZE_SUBVIEW.ID),this._eventBus.publish("chart/indicator/updateSize",[this._getResizableStudyViews().map(p)])}destroy(){this._subViews&&(this._subViews.invokeApply("un",[null,this]),this._subViews.invokeApply("destroy"),this._subViews.clear()),this._eventBus&&this._eventBus.unsubscribeAll(this);for(const e of["_animationPoller","_containerProvider","_dimensionOffsets","_eventBus","_rendererFactory","_subViewFactory","_subViews","_taskManager"])delete this[e]}}t.default=_},56214:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getDimensionsForSubViews=void 0;const n=i(38108);t.getDimensionsForSubViews=function(e,t,i,s){const r=t-(s.left||0)-(s.right||0),o=i-(s.top||0)-(s.bottom||0),a=function(e,t){const i=Object.freeze({}),s=Object.freeze({});let r=t,o=1;const a=e.map((e=>{switch(e.getPositionType()){case n.POSITION_TYPE.NO_OFFSET:return null;case n.POSITION_TYPE.FIXED:return r-=e.getFixedHeight(),e.getFixedHeight();case n.POSITION_TYPE.RELATIVE:return"prices"!==e.name?(o-=e.getRelativeHeightFraction(),i):s;default:return t}}));for(let n=0;n<a.length;n++)a[n]===i?a[n]=Math.round(e.get(n).getRelativeHeightFraction()*r):a[n]===s&&(a[n]=Math.round(o*r));return a}(e,o);let l=s.top||0;return e.map(((e,d)=>{const u=e.getPositionType(),c=u!==n.POSITION_TYPE.NO_OFFSET,h=u===n.POSITION_TYPE.RELATIVE||u===n.POSITION_TYPE.FIXED,p={name:e.name,isRelative:h,x:c&&s.left||0,y:c?h?l:s.top||0:0,width:c?r:t,height:c?h?a[d]:o:i};return h&&(l+=a[d]),p}))}},45402:(e,t,i)=>{"use strict";var n=i(15215).ut,s=i(15215).Bx;const r=i(43130),o=n(i(38108)),a=s(i(72873));class l extends o.default{constructor(){super(...arguments),this.positions=[{name:"body",clipPathNeeded:!1},{name:"xAxis",clipPathNeeded:!1}]}bottomMargin(){return this._calculateHeightForPosition("xAxis")}_isRelativeView(e){return this.getChartView().subViewManager.getSubView(e).getPositionType()===o.POSITION_TYPE.RELATIVE}updateDimensions(e,t,i,n){super.updateDimensions(e,t,i,n),this._updateBackgrounds(t.filter((({name:e})=>this._isRelativeView(e))),e),this._getPositionDomContainer("xAxis").attr("transform",a.default.svgTranslateAttrY(e.height))}destroyDom(){return super.destroyDom(),this._dBackgrounds&&(this._dBackgrounds.remove(),delete this._dBackgrounds),this}_calculateHeightForPosition(e){let t=0;return(0,r.each)(this._renderers,(i=>{i.forEach((i=>{i.position===e&&i.heightRequired&&(t=Math.max(t,i.heightRequired()))}))})),t}_updateBackgrounds(e,t){this._dBackgrounds||(this._dBackgrounds=this.dContainer.select(".backgroundContainer").selectAll(".backgroundArea"));const i=this._dBackgrounds.data(e,(e=>e.name));i.exit().remove(),this._dBackgrounds=i.enter().append("svg:rect").attr("class",(e=>`backgroundArea ${e.name}`)).merge(i).attrs({x:e=>e.x-t.x,y:e=>e.y-t.y,width:e=>e.width,height:e=>e.height})}}t.A=l},31715:(e,t,i)=>{"use strict";var n=i(15215).Bx;Object.defineProperty(t,"__esModule",{value:!0});const s=i(43130),r=n(i(41185)),o=i(41943),a=i(10094),l=n(i(50951)),d=i(9525),u=n(i(88379)),c=n(i(10520));class h{constructor(e,t,i=l.default.PROPAGATE_ALL){this.visible=!0,this.zIndex=c.default.BASE,this._propagateHover=!1,this._padding=0,this._handlesMouseMove=!1,this._recognisers=[],this._disabledRecognisers=[],this._clientRecognisers=[],this.zoneId=t,this._manager=e,this._eventPropagation=i}getCursor(){return this._cursorOnHover}withCursorOnHover(e){return this._cursorOnHover=e,this}withoutCursorOnHover(){delete this._cursorOnHover}getEventPropagation(){return this._eventPropagation}withEventPropagation(e){return this._eventPropagation=e,this}getPadding(){return this._padding}hasHover(){return!!this._hoverHandler}hasMouseMoveHandler(){return this._handlesMouseMove}getHoverHandler(){return this._hoverHandler}propagateHover(){return this._propagateHover=!0,this}getPropagateHover(){return this._propagateHover}withPadding(e){if(!(0,a.isNumber)(e))throw new Error("Attempt to set an invalid value. Padding must be a number.");return this._padding=e,this}withDefaultPadding(){return this._padding=this._manager.getDefaultPadding(),this}withZIndex(e){return this.zIndex=e,this}destroy(){this.visible=!1,this._manager.remove(this),this.removeHoverHandler(),this._removeAllGestureRecognisers()}shouldNotPropagateHover(){return this.getEventPropagation()!==l.default.PROPAGATE_ALL&&!this.getPropagateHover()}setHoverHandler(e){return this.removeHoverHandler(),this._hoverHandler=u.default.create(e),this._hoverHandler}removeHoverHandler(){this._hoverHandler&&(this._hoverHandler.destroy(),delete this._hoverHandler)}setMouseMoveHandler(e){return this._handlesMouseMove=!0,this.setHoverHandler(e)}removeMouseMoveHandler(){this.removeHoverHandler(),this._handlesMouseMove=!1}addGesture(e,...t){const i=e.create(...t);return i.on(r.default.HANDLED,this._handleGestureHandled.bind(this,i),this),this._recognisers.push(i),i}removeGesture(e){this._recognisers=this._recognisers.filter((function(t){return t!==e||(t.destroy(),!1)}))}addGestureRecogniser(e){return(0,s.includes)(this._clientRecognisers,e)||(this._clientRecognisers.push(e),e.on(r.default.HANDLED,this._handleGestureHandled.bind(this,e),this)),this}removeGestureRecogniser(e){return(0,s.includes)(this._clientRecognisers,e)&&((0,s.pull)(this._clientRecognisers,e),e.reset(),e.un(null,this)),this}enableGesture(e){return(0,o.move)(e,this._disabledRecognisers,this._recognisers),this}disableGesture(e){return(0,o.move)(e,this._recognisers,this._disabledRecognisers),this}_handleGestureHandled(e){this._manager.gestureHandledBy(e)}handleEvent(e,t,i){const n=h._delegateEventToRecognisers(this._recognisers,e,t,i),s=h._delegateEventToRecognisers(this._clientRecognisers,e,t,i);return n||s}show(){return this.visible=!0,this}hide(){return this.visible=!1,this}reset(e){function t(t){t!==e&&t.reset()}this._recognisers.forEach(t),this._clientRecognisers.forEach(t),this._disabledRecognisers.forEach(t)}handleHoverIn(){this._hoverHandler&&this._hoverHandler.handleIn()}handleHoverMove(e){this._hoverHandler&&this._hoverHandler.handleMove(e)}handleHoverOut(){this._hoverHandler&&this._hoverHandler.handleOut()}_removeAllGestureRecognisers(){(0,d.invokeCall)(this._recognisers,"destroy"),(0,d.invokeCall)(this._disabledRecognisers,"destroy"),(0,d.invokeCall)(this._clientRecognisers,"reset"),(0,d.invokeCall)(this._clientRecognisers,"un",null,this),this._recognisers=[],this._clientRecognisers=[],this._disabledRecognisers=[]}static _delegateEventToRecognisers(e,t,i,n){let s,r=!1;for(s=0;s<e.length;s++)e[s]&&e[s].process(t,i,n)&&(r=!0);return r}}t.default=h},41185:(e,t,i)=>{"use strict";var n=i(15215).Bx;Object.defineProperty(t,"__esModule",{value:!0});const s=i(43130),r=n(i(289)),o=n(i(85673));class a extends r.default{constructor(e){super(),this._inProgress=!1,this._isRecognised=!1,this._options=e||{},this.applyHandlers(e)}static getGesturePrecision(){return o.default.isMobile()?this.GESTURE_PRECISION_MOBILE:this.GESTURE_PRECISION_DESKTOP}withHandler(e=()=>{},t){return this._handler=e,this._handlerContext=t||null,this}withStartHandler(e=()=>{},t){return this._startHandler=e,this._startHandlerContext=t||null,this}withEndHandler(e=()=>{},t){return this._endHandler=e,this._endHandlerContext=t||null,this}applyHandlers(e={}){(0,s.has)(e,"onGesture")&&this.withHandler(e.onGesture,e.context),(0,s.has)(e,"onStart")&&this.withStartHandler(e.onStart,e.startContext),(0,s.has)(e,"onEnd")&&this.withEndHandler(e.onEnd,e.endContext)}clearHandlers(){delete this._handler,delete this._startHandler,delete this._endHandler,delete this._handlerContext,delete this._startHandlerContext,delete this._endHandlerContext}equals(e){return this.constructor===e.constructor}process(e,t,i){return!!this[a._handlerMap[i.type]](e,t,i)}reset(){this._endGesture(),this._inProgress=!1}destroy(){this.reset(),this.clearHandlers(),super.destroy()}_callHandler(){if(this.fire(a.HANDLED),this._handler)return this._handler.call(this._handlerContext,this)}_startGesture(){if(!this._isRecognised&&(this._isRecognised=!0,this._startHandler))return this._startHandler.call(this._startHandlerContext,this)}_endGesture(){if(this._isRecognised&&(this._isRecognised=!1,this._endHandler))return this._endHandler.call(this._endHandlerContext,this)}_startProcessing(){this._inProgress||(this._inProgress=!0)}_endProcessing(){this._inProgress&&this.reset()}_handlePointerDown(e,t,i){}_handlePointerEnter(e,t,i){}_handlePointerMove(e,t,i){}_handlePointerUp(e,t,i){}_handlePointerLeave(e,t,i){}_handleContextMenu(e,t,i){}_handleMouseWheel(e,t,i){}}a.GESTURE_TIMEOUT=300,a.GESTURE_PRECISION_DESKTOP=5,a.GESTURE_PRECISION_MOBILE=20,a._handlerMap=Object.freeze({pointerenter:"_handlePointerEnter",pointerdown:"_handlePointerDown",pointermove:"_handlePointerMove",pointerup:"_handlePointerUp",pointerleave:"_handlePointerLeave",contextmenu:"_handleContextMenu",wheel:"_handleMouseWheel"}),a.HANDLED="gestureHandled",t.default=a},63186:(e,t,i)=>{"use strict";var n=i(15215).Bx;const s=i(41943),r=i(84039),o=n(i(49483)),a=n(i(50951)),l=n(i(77209)),d=i(9525),u=n(i(18522)),c=n(i(52351)),h=i(54859),p=n(i(25322)),_=n(i(98760)),g=i(97292),f=n(i(10520)),m=Object.freeze(["pointerdown","pointerenter","pointerleave","wheel","contextmenu"]),v=Object.freeze(["pointerup","pointermove","pointercancel"]);class A{constructor(e,t=4){this._pointsByZoneId=Object.create(null),this._zonesByPointerId=Object.create(null),this._zones=[],this._defaultPadding=t,this._hoverManager=e}static create(e,t){return new A(e,t)}getDefaultPadding(){return this._defaultPadding}getOffset(){return this._lastOffset||(this._lastOffset=this._el.node().getBoundingClientRect()),this._lastOffset}invalidateOffset(){delete this._lastOffset}createZone(e,t,i=f.default.BASE,...n){const s=e.create(this,(0,g.getUid)(),t,...n).withZIndex(i);return this._addCaptureZone(s),s}create(e,t){return this.createZone(p.default,e,t)}createLineCaptureZone(e,t){return this.createZone(c.default,e,t)}createTapZone(e,t,i,n){const s=this.createZone(p.default,n||a.default.PROPAGATE_UNHANDLED,t);return s.addGesture(_.default,{fastTap:!0,onGesture:e}),i&&s.withPadding(i),s}remove(e){let t,i;for(t in this._removeZoneFromZones(e),this._pointsByZoneId[e.zoneId])i=this._zonesByPointerId[t],i.length>1?i.splice(i.indexOf(e),1):delete this._zonesByPointerId[t];delete this._pointsByZoneId[e.zoneId],this._lastPointer&&this._hoverManager.resolveHoverCursor(this._getTargetZones(this._lastPointer).inside)}startListeningTo(e){return this._el=(0,r.select)(e),m.forEach((function(e){this._el.node().addEventListener(e,this)}),this),v.forEach((function(e){window.addEventListener(e,this)}),this),this}stopListening(){return this._el&&m.forEach((function(e){this._el.node().removeEventListener(e,this)}),this),v.forEach((function(e){window.removeEventListener(e,this)}),this),this}updateCaptureZoneZIndex(e,t,i=!1){let n;if(e.zIndex=t,n=this._zones.indexOf(e),-1!==n){if(this._zones.splice(n,1),i)for(n=0;n<this._zones.length&&!(this._zones[n].zIndex<e.zIndex);n++);else for(n=0;n<this._zones.length&&!(this._zones[n].zIndex<=e.zIndex);n++);this._zones.splice(n,0,e)}}gestureHandledBy(e){(0,d.invokeCall)(this._zones,"reset",e)}destroy(){this.stopListening(),(0,d.invokeCall)(this._zones,"destroy"),this._zones=[],this._pointsByZoneId=Object.create(null),this._zonesByPointerId=Object.create(null)}handleEvent(e){"pointerenter"===e.type&&this.invalidateOffset();const t=this._convertToRelativeSpace(e);switch(this._lastPointer=t,e.type){case"wheel":case"contextmenu":this._forwardEventToZones(this._getTargetZones(t).inside,e,t,!1);break;case"pointerdown":this._startTrackingPointer(t);case"pointerenter":this._forwardEventToTrackedZones(e,t);break;case"pointermove":o.default.updateCursorPosition(this._el,t.x,t.y);case"pointerleave":this._forwardEventToTrackedZones(e,t),this._hoverManager.resolveHover(this._getTargetZones(t),e,t);break;case"pointerup":this._forwardEventToTrackedZones(e,t);case"pointercancel":this._stopTrackingPointer(t),this._hoverManager.resolveHover(this._getTargetZones(t),e,t)}u.default.fire(l.default.jsFrameEnd)}_addCaptureZone(e){let t;for(t=0;t<this._zones.length&&!(this._zones[t].zIndex<=e.zIndex);t++);this._zones.splice(t,0,e),this._pointsByZoneId[e.zoneId]=Object.create(null),this._lastPointer&&this._hoverManager.resolveHoverCursor(this._getTargetZones(this._lastPointer).inside)}_convertToRelativeSpace(e){const t=this.getOffset();return Object.freeze({pointerId:e.pointerId,x:e.clientX-t.left,y:e.clientY-t.top})}_forwardEventToTrackedZones(e,t){let i=this._zonesByPointerId[e.pointerId]||[];return i=(0,s.shallowCopy)(i),this._forwardEventToZones(i,e,t,!0)}_forwardEventToZones(e,t,i,n){let s,r,o,l=!1,d=!1;for(o=0;o<e.length;o++)if(r=e[o],r.visible&&(n?(this._pointsByZoneId[r.zoneId][t.pointerId]=i,l=r.handleEvent(i,(0,h.shallowClone)(this._pointsByZoneId[r.zoneId]),t)):l=r.handleEvent(i,null,t),s=r.getEventPropagation(),d=d||l,s===a.default.BLOCK_ALL||l&&s===a.default.PROPAGATE_UNHANDLED))return!0;return d}_getTargetZones(e){const t=[],i=[];let n,s;for(s=0;s<this._zones.length;s++)n=this._zones[s],n.visible&&n.pointInCaptureZone(e.x,e.y)?i.push(n):t.push(n);return{inside:i,outside:t}}_isTrackedZone(e,t){const i=this._zonesByPointerId[t]||[];return(0,s.contains)(i,e)}_startTrackingPointer(e){const t=e.pointerId,i=this._getTargetZones(e).inside;for(let n=0;n<i.length;n++)this._zonesByPointerId[t]||(this._zonesByPointerId[t]=[]),this._isTrackedZone(i[n],t)||(this._zonesByPointerId[t].push(i[n]),this._pointsByZoneId[i[n].zoneId][t]=e);this._hoverManager.disable()}_stopTrackingPointer(e){const t=e.pointerId,i=this._zonesByPointerId[t];if(i){for(let e=0;e<i.length;e++)delete this._pointsByZoneId[i[e].zoneId][t];delete this._zonesByPointerId[t]}Object.keys(this._pointsByZoneId).forEach((function(e){delete this._pointsByZoneId[e][t]}),this),0===Object.keys(this._zonesByPointerId).length&&this._hoverManager.enable()}_removeZoneFromZones(e){const t=this._zones.indexOf(e);t>=0&&this._zones.splice(t,1)}}t.A=A},18728:(e,t,i)=>{"use strict";var n=i(15215).Bx;Object.defineProperty(t,"__esModule",{value:!0});const s=n(i(41185)),r=n(i(85673)),o=n(i(33456));class a extends s.default{constructor(e){if(a.isHold())return o.default.create(e);super(e)}static create(e){return new a(e)}static isHold(){return r.default.isMobile()}_handleContextMenu(e,t,i){return i.preventDefault(),this.x=e.x,this.y=e.y,this._callHandler(),this.reset(),!0}reset(){super.reset(),delete this.x,delete this.y}}t.default=a},14978:(e,t,i)=>{"use strict";var n=i(15215).Bx;Object.defineProperty(t,"__esModule",{value:!0}),t.PLANES=void 0;const s=n(i(73142));t.PLANES=Object.freeze({HORIZONTAL:function(e){this.deltaX=e.x-this.startX,this.deltaY=0},VERTICAL:function(e){this.deltaX=0,this.deltaY=e.y-this.startY}});class r extends s.default{constructor(e){if(super(e),"function"!=typeof this._options.plane)throw new Error("No plane function provided to the directional pan gesture recogniser");this._updateDeltas=this._options.plane}static create(e){return new r(e)}_updateMovementState(e){this.rawDeltaX=e.x-this.startX,this.rawDeltaY=e.y-this.startY,super._updateMovementState(e)}reset(){super.reset(),delete this.rawDeltaX,delete this.rawDeltaY}}t.default=r},22119:(e,t,i)=>{"use strict";var n=i(15215).Bx;Object.defineProperty(t,"__esModule",{value:!0});const s=n(i(41819));class r extends s.default{constructor(e){super(),this._isValidAngle=e}static create(e){return new r(e)}}t.default=r},50710:(e,t)=>{"use strict";var i;Object.defineProperty(t,"__esModule",{value:!0}),t.DIRECTIONS_MAP=t.Directions=void 0,function(e){e.DIAGONAL="DIAGONAL",e.HORIZONTAL="HORIZONTAL",e.VERTICAL="VERTICAL"}(i=t.Directions||(t.Directions={}));t.DIRECTIONS_MAP={[i.DIAGONAL]:function(e){return(e=Math.abs(e))>35&&e<67.5||e>112.5&&e<145},[i.HORIZONTAL]:function(e){return(e=Math.abs(e))<=35||e>=145},[i.VERTICAL]:function(e){return(e=Math.abs(e))>=67.5&&e<=112.5}}},50951:(e,t)=>{"use strict";var i;Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.BLOCK_ALL="blockAll",e.PROPAGATE_UNHANDLED="propagateUnhandled",e.PROPAGATE_ALL="propagateAll"}(i||(i={})),t.default=i},33456:(e,t,i)=>{"use strict";var n=i(15215).Bx;Object.defineProperty(t,"__esModule",{value:!0});const s=n(i(41185)),r=n(i(23584)),o=n(i(91638)),a=n(i(48893));class l extends o.default{constructor(e){super(e);const t=(null==e?void 0:e.time)||s.default.GESTURE_TIMEOUT;this._debouncedTimeout=a.default.debounce(this._timeout,t)}static create(e){return new l(e)}_handlePointerDown(e){this.reset(),this.x=e.x,this.y=e.y,this._startProcessing()}_handlePointerMove(e){if(this._inProgress){r.default.distancePointToPoint(this.x,this.y,e.x,e.y)>s.default.getGesturePrecision()&&this._endProcessing()}}_handlePointerUp(){this._endProcessing()}reset(){super.reset(),this._debouncedTimeout&&this._debouncedTimeout.cancel&&this._debouncedTimeout.cancel(),delete this.x,delete this.y}_startProcessing(){super._startProcessing(),this._debouncedTimeout()}_timeout(){this._inProgress&&(this._callHandler(),this._endProcessing())}destroy(){super.destroy(),delete this._debouncedTimeout}}l.LONG_HOLD_GESTURE_TIMEOUT=1100,t.default=l},88379:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=i(43130);class s{constructor(e){e=e||{},this._inHandler=e.in||n.noop,this._inContext=e.inContext,this._moveHandler=e.move||n.noop,this._moveContext=e.moveContext,this._outHandler=e.out||n.noop,this._outContext=e.outContext}static create(e){return new s(e)}getInHandler(){return this._inHandler}getInContext(){return this._inContext}getMoveHandler(){return this._moveHandler}getMoveContext(){return this._moveContext}getOutHandler(){return this._outHandler}getOutContext(){return this._outContext}handleIn(){this._inHandler.call(this._inContext)}handleMove(e){this._moveHandler.call(this._moveContext,e)}handleOut(){this._outHandler.call(this._outContext)}compare(e){return this._inHandler===e.getInHandler()&&this._inContext===e.getInContext()&&this._moveHandler===e.getMoveHandler()&&this._moveContext===e.getMoveContext()&&this._outHandler===e.getOutHandler()&&this._outContext===e.getOutContext()}destroy(){delete this._inHandler,delete this._inContext,delete this._moveHandler,delete this._moveContext,delete this._outHandler,delete this._outContext}}t.default=s},13365:(e,t,i)=>{"use strict";var n=i(15215).Bx;Object.defineProperty(t,"__esModule",{value:!0});const s=n(i(31715)),r=n(i(50951));class o extends s.default{constructor(e,t,i=r.default.PROPAGATE_ALL){super(e,t,i),this.x=0,this.y=0}static create(e,t,i=r.default.PROPAGATE_ALL){return new o(e,t,i)}pointInCaptureZone(){return!0}isSet(){return!1}}t.default=o},52351:(e,t,i)=>{"use strict";var n=i(15215).Bx;Object.defineProperty(t,"__esModule",{value:!0});const s=n(i(31715)),r=n(i(23584)),o=n(i(25322));class a extends s.default{constructor(e,t,i){super(e,t,i),this._x1=0,this._y1=0,this._x2=0,this._y2=0}static create(e,t,i){return new a(e,t,i)}setConstraints(e){return this._constraints=e,this}setLineStart(e,t){return this._x1=e,this._y1=t,this}setLineEnd(e,t){return this._x2=e,this._y2=t,this}pointInCaptureZone(e,t){return(this._x1>0||this._x2>0)&&(this._y1>0||this._y2>0)&&(!(this._constraints&&!o.default.prototype.pointInCaptureZone.call(this._constraints,e,t))&&this._padding>=r.default.distancePointToSegment(e,t,this._x1,this._y1,this._x2,this._y2))}isSet(){return!!(this._x1||this._x2||this._y1||this._y2)}}t.default=a},42946:(e,t,i)=>{"use strict";var n=i(15215).Bx;Object.defineProperty(t,"__esModule",{value:!0}),t.RETAIN_DEFAULT=void 0;const s=n(i(41185));t.RETAIN_DEFAULT=Object.freeze({});class r extends s.default{static create(e){return new r(e)}_handleMouseWheel(e,i,n){return this.x=e.x,this.y=e.y,this.deltaX=n.deltaX,this.deltaY=n.deltaY,this.shiftKey=n.shiftKey,this._callHandler()!==t.RETAIN_DEFAULT&&n.preventDefault(),!0}}t.default=r},33130:(e,t,i)=>{"use strict";var n=i(15215).Bx,s=i(15215).ut;Object.defineProperty(t,"__esModule",{value:!0});const r=n(i(22119)),o=i(50710),a=n(i(42946)),l=i(40708),d=n(i(98760)),u=s(i(83173)),c=Object.freeze([.999,1.001]);class h{constructor(e,t,i,n){this._lastGestureScale=1,this._lastDragXOffset=0,this._lastDragYOffset=0,this._chartView=e,this._captureZone=t,this._eventBus=i,this._panEndCallback=n,this._recognisers=this._initCaptureZone()}static create(e,t,i,n){return new h(e,t,i,n)}_initCaptureZone(){const e=[u.default.create({onGesture:this._handleDragMove,context:this,onStart:this._handleDragStart,startContext:this,onEnd:this._handleDragEnd,endContext:this,directions:u.DIRECTIONS.DIAGONAL|u.DIRECTIONS.VERTICAL}),r.default.create(o.DIRECTIONS_MAP.VERTICAL).withHandler(this._handlePinch.bind(this,o.Directions.VERTICAL),this).withEndHandler(this._handlePinchEnd,this),r.default.create(o.DIRECTIONS_MAP.HORIZONTAL).withHandler(this._handlePinch.bind(this,o.Directions.HORIZONTAL),this).withEndHandler(this._handlePinchEnd,this),r.default.create(o.DIRECTIONS_MAP.DIAGONAL).withHandler(this._handlePinch.bind(this,o.Directions.DIAGONAL),this).withEndHandler(this._handlePinchEnd,this),d.default.create({count:2,onGesture:this._handleDoubleTapGesture,context:this}),a.default.create().withHandler(this._handleMouseWheel,this)];return e.forEach((e=>this._captureZone.addGestureRecogniser(e))),e}destroy(){this._recognisers.forEach((e=>this._captureZone.removeGestureRecogniser(e))),delete this._recognisers,delete this._captureZone,delete this._chartView}_handlePinch(e,t){this._isNegligibleZoom(t)||(this._lastGestureScale=t.scale,e!==o.Directions.HORIZONTAL&&e!==o.Directions.DIAGONAL||this._eventBus.publish("chart/zoom/change/horizontal",[t.x1Start,t.x1End,t.x2Start,t.x2End]),e!==o.Directions.VERTICAL&&e!==o.Directions.DIAGONAL||this._eventBus.publish("chart/zoom/change/vertical",[t.y1Start,t.y1End,t.y2Start,t.y2End]))}_isNegligibleZoom(e){const t=Math.pow(e.scale/this._lastGestureScale,1.08);return(0,l.inRange)(c,t)}_handlePinchEnd(){this._lastGestureScale=1,this._eventBus.publish("chart/zoom/end")}_handleDoubleTapGesture(){this._eventBus.publish("chart/yfitting/reset")}_handleDragStart(){this._eventBus.publish("chart/pan/start")}_handleDragMove(e){let t,i;e.direction===u.DIRECTIONS.DIAGONAL&&(t=e.deltaX-this._lastDragXOffset,this._eventBus.publish("chart/pan/change/horizontal",[t]),this._lastDragXOffset=e.deltaX),e.direction!==u.DIRECTIONS.VERTICAL&&e.direction!==u.DIRECTIONS.DIAGONAL||(i=e.deltaY-this._lastDragYOffset,this._eventBus.publish("chart/pan/change/vertical",[i]),this._lastDragYOffset=e.deltaY)}_handleDragEnd(){var e;this._lastDragXOffset=0,this._lastDragYOffset=0,this._eventBus.publish("chart/pan/end"),null===(e=this._panEndCallback)||void 0===e||e.call(this)}_handleMouseWheel(e){const t=0!==e.deltaY||0!==e.deltaX,i=(e.deltaY||e.deltaX)>0?.1:-.1,n=(i>0?i:i/(Math.abs(i)+1))+1,s=Math.min(Math.max(e.x/this._chartView.chartWidth(),0),1);t&&(e.shiftKey?this._eventBus.publish("chart/zoom/wheel/vertical",[n]):this._eventBus.publish("chart/zoom/wheel/horizontal",[n,s]),this._eventBus.publish("chart/zoom/end"))}}t.default=h},73142:(e,t,i)=>{"use strict";var n=i(15215).Bx;Object.defineProperty(t,"__esModule",{value:!0});const s=n(i(41185)),r=n(i(23584)),o=n(i(91638)),a=n(i(48893)),l=i(43130);class d extends o.default{constructor(e){super(e),this._debouncedTimeout=l.noop,this._handlePointerUp=super._endProcessing,this._options.handleHold&&(this._debouncedTimeout=a.default.debounce(this._timeout,s.default.GESTURE_TIMEOUT))}static create(e){return new d(e)}get x(){return isFinite(this.startX)?this.startX+this.deltaX:void 0}get y(){return isFinite(this.startY)?this.startY+this.deltaY:void 0}get moveX(){return this.deltaX-this._oldDeltaX}get moveY(){return this.deltaY-this._oldDeltaY}_startProcessing(e){e&&!this._inProgress&&(this.startX=e.x,this.startY=e.y,this.deltaX=this.deltaY=0,super._startProcessing(),this._handlesHold()&&this._debouncedTimeout())}_startGesture(){this._oldDeltaX=this._oldDeltaY=0,this._handlesHold()&&this._debouncedTimeout.cancel(),super._startGesture()}_updateMovementState(e){if(this._isRecognised&&(this._oldDeltaX=this.deltaX,this._oldDeltaY=this.deltaY),this._updateDeltas(e),!this._isRecognised){r.default.distancePointToPoint(this.startX,this.startY,e.x,e.y)>s.default.getGesturePrecision()&&this._startGesture()}}_updateDeltas(e){this.deltaX=e.x-this.startX,this.deltaY=e.y-this.startY}_handlesHold(){return"function"==typeof this._debouncedTimeout.cancel}_timeout(){this._startGesture(),this._callHandler()}reset(){super.reset(),this._debouncedTimeout&&this._handlesHold()&&this._debouncedTimeout.cancel(),delete this.deltaX,delete this.deltaY,delete this.startX,delete this.startY,delete this._oldDeltaX,delete this._oldDeltaY}_handlePointerDown(e,t){if(window.IG&&window.IG._featureFlagEnabled){if(this._inProgress)throw new Error("Pan gesture recogniser handling pointer down when it is in progress");if(this._isRecognised)throw new Error("Pan gesture recogniser handling pointer down when it is recognised");if(!t||1!==Object.keys(t).length)throw new Error("Pan gesture recogniser doing pointer down with invalid amount of pointers!")}this._startProcessing(e)}_handlePointerMove(e,t){if(this._inProgress){if(window.IG&&window.IG._featureFlagEnabled&&(!t||1!==Object.keys(t).length))throw new Error("Pan gesture recogniser doing pointer move with invalid amount of pointers!");this._updateMovementState(e),this._isRecognised&&this._callHandler()}}destroy(){super.destroy(),delete this._debouncedTimeout}}t.default=d},41819:(e,t,i)=>{"use strict";var n=i(15215).Bx;Object.defineProperty(t,"__esModule",{value:!0});const s=i(43130),r=n(i(46393));class o extends r.default{constructor(){super(...arguments),this.type="pinch",this._isValidAngle=s.stubTrue}static create(e){return new o}_getDistance(e){const t=e[this._x2Index].x-e[this._x1Index].x,i=e[this._y2Index].y-e[this._y1Index].y;return Math.sqrt(t*t+i*i)}_handlePointerDown(e,t,i){this._isValidPinch(t)&&(super._startGesture(),this._isRecognised=!0,this._updatePointerDirections(t),this._pinchDistance=this._getDistance(t),this.x1Start=t[this._x1Index].x,this.x2Start=t[this._x2Index].x,this.y1Start=t[this._y1Index].y,this.y2Start=t[this._y2Index].y)}_handlePointerMove(e,t,i){(0,s.size)(t)>=2&&this._inProgress&&(this._updatePointerDirections(t),this.scale=this._getDistance(t)/this._pinchDistance,this.y1End=t[this._y1Index].y,this.y2End=t[this._y2Index].y,this.x1End=t[this._x1Index].x,this.x2End=t[this._x2Index].x,super._callHandler(),this.y1Start=this.y1End,this.y2Start=this.y2End,this.x1Start=this.x1End,this.x2Start=this.x2End)}_handlePointerUp(e,t,i){(0,s.size)(t)<=2&&this._inProgress&&(this._resetPointers(),super._endGesture(),this._isRecognised=!1)}_updatePointerDirections(e){const t=Object.keys(e);e[t[1]].y>e[t[0]].y?(this._y1Index=Number(t[1]),this._y2Index=Number(t[0])):(this._y1Index=Number(t[0]),this._y2Index=Number(t[1])),e[t[1]].x>e[t[0]].x?(this._x1Index=Number(t[1]),this._x2Index=Number(t[0])):(this._x1Index=Number(t[0]),this._x2Index=Number(t[1]))}_resetPointers(){this.y1Start=0,this.y2Start=0,this.y1End=0,this.y2End=0,this.x1Start=0,this.x2Start=0,this.x1End=0,this.x2End=0}_isValidPinch(e){if(!e)return!1;const t=Object.keys(e);if(t.length<2||this._inProgress)return!1;const i=e[t[1]].x-e[t[0]].x,n=e[t[1]].y-e[t[0]].y,s=180*Math.atan2(n,i)/Math.PI;return this._isValidAngle(s)}}t.default=o},91638:(e,t,i)=>{"use strict";var n=i(15215).Bx;Object.defineProperty(t,"__esModule",{value:!0});const s=n(i(41185));class r extends s.default{process(e,t,i){return!(!t||Object.keys(t).length<1)&&(Object.keys(t).length>1?(super._endGesture(),super._endProcessing(),!1):("mouse"!==i.pointerType||2!==i.button&&!i.ctrlKey)&&(!("mouse"!==i.pointerType&&!i.isPrimary)&&super.process(e,t,i)))}}t.default=r},25322:(e,t,i)=>{"use strict";var n=i(15215).Bx;Object.defineProperty(t,"__esModule",{value:!0});const s=i(43130),r=n(i(9151)),o=n(i(31715)),a=n(i(50547)),l=i(10094),d=i(54859);class u extends o.default{constructor(e,t,i){super(e,t,i),this.x=0,this.y=0,this.height=0,this.width=0}static create(e,t,i){return new u(e,t,i)}static normaliseDimensions(e){const t={};if((0,l.isNumber)(e.x)?t.x=e.x:(0,l.isNumber)(e.left)&&(t.x=e.left),(0,l.isNumber)(e.y)?t.y=e.y:(0,l.isNumber)(e.top)&&(t.y=e.top),(0,l.isNumber)(e.width)?t.width=e.width:(0,l.isNumber)(e.left)&&(0,l.isNumber)(e.right)&&(t.width=e.right-e.left),(0,l.isNumber)(e.height)?t.height=e.height:(0,l.isNumber)(e.top)&&(0,l.isNumber)(e.bottom)&&(t.height=e.bottom-e.top),!function(e,...t){for(let i=0;i<t.length;i++)if(!(0,l.isNumber)(e[t[i]]))return!1;return!0}(t,"x","y","width","height"))throw new Error(`Failed to normalise zone dimensions: ${JSON.stringify(e)} to ${JSON.stringify(t)}`);return t}static constrainZoneDimensions(e,t){const i=Object.create(null);return i.left=Math.max(e.x,t.x),i.top=Math.max(e.y,t.y),i.right=Math.min(e.x+e.width,t.x+t.width),i.bottom=Math.min(e.y+e.height,t.y+t.height),i.left>=i.right||i.top>=i.bottom?u.nullZoneDimensions:u.normaliseDimensions(i)}withAssociatedElement(e){return this._dAssociatedElement=e,this}getLocalCoordinates(e){const t={x:e.x-this.x,y:e.y-this.y};return t.x=Math.max(0,Math.min(this.width,t.x)),t.y=Math.max(0,Math.min(this.height,t.y)),t}pointInCaptureZone(e,t){return(this.width>0||this.height>0)&&e>=this.x&&e<=this.x+this.width&&t>=this.y&&t<=this.y+this.height}setDimensions(e,t){let i=u.normaliseDimensions(e);return i.x-=this._padding,i.y-=this._padding,i.width+=2*this._padding,i.height+=2*this._padding,t&&(i=u.constrainZoneDimensions(i,u.normaliseDimensions(t))),(0,d.applyTo)(this,i),this}setDimensionsBasedOnElement(e,t){return(0,r.default)(e)&&(e=e.node()),(0,s.isElement)(e)?a.default.defer(this._setDimensionsBasedOnElement,this,[e,t]):this._setDimensionsBasedOnElement(e,t),this}setDimensionsBasedOnAssociatedElement(e){if(this._dAssociatedElement)return this.setDimensionsBasedOnElement(this._dAssociatedElement,e);throw new Error("Setting zone dimensions without associated element!")}_setDimensionsBasedOnElement(e,t){const i=this._manager.getOffset(),n=u.normaliseDimensions((0,s.isElement)(e)?e.getBoundingClientRect():e);n.x-=i.left,n.y-=i.top,this.setDimensions(n,t)}isSet(){return!(!this.width&&!this.height)}destroy(){super.destroy(),a.default.cancel(this)}}u.nullZoneDimensions=Object.freeze({x:0,y:0,width:0,height:0}),t.default=u},66334:(e,t,i)=>{"use strict";var n=i(15215).Bx;const s=i(43130),r=n(i(41185));class o extends r.default{static create(e){return new o(e)}withHandler(){throw new Error("StopYFitting recogniser should not have a base handler, just start and end handlers")}reset(){}_handlePointerDown(e,t){this._isRecognised||1!==(0,s.size)(t)||this._startGesture()}_handlePointerUp(e,t){this._isRecognised&&1===(0,s.size)(t)&&this._endGesture()}}t.A=o},98760:(e,t,i)=>{"use strict";var n=i(15215).Bx;Object.defineProperty(t,"__esModule",{value:!0});const s=i(43130),r=n(i(41185)),o=n(i(23584)),a=n(i(91638)),l=n(i(48893));class d extends a.default{constructor(e){super(e),this._fastTap=!1,this._tapCount=1,this._timeout=s.noop,this._timeout=l.default.debounce(this._endProcessing,r.default.GESTURE_TIMEOUT),"number"==typeof this._options.count&&(this._tapCount=this._options.count),"boolean"==typeof this._options.fastTap&&(this._fastTap=this._options.fastTap)}static create(e){return new d(e)}equals(e){return super.equals(e)&&e instanceof d&&e._tapCount===this._tapCount}_startProcessing(e){e&&!this._inProgress&&(this.x=e.x,this.y=e.y,this._countLeft=this._tapCount,super._startProcessing())}_endProcessing(){0===this._countLeft&&this._callHandler(),super._endProcessing()}_handlePointerDown(e){this._inProgress||this._startProcessing(e),this._inProgress&&this._inRadiusElseEndProcessing(e)&&(this._countLeft-=.5,this._timeout())}_handlePointerMove(e){this._inProgress&&this._inRadiusElseEndProcessing(e)}_handlePointerUp(e){if(this._inProgress&&this._inRadiusElseEndProcessing(e)){if(this._countLeft-=.5,this._fastTap&&0===this._countLeft)return this._endProcessing(),!0;this._timeout()}}_inRadiusElseEndProcessing(e){return!(o.default.distancePointToPoint(this.x,this.y,e.x,e.y)>r.default.getGesturePrecision())||(this._endProcessing(),!1)}reset(){delete this.x,delete this.y,delete this._countLeft,this._timeout&&this._timeout.cancel&&this._timeout.cancel(),super.reset()}destroy(){super.destroy(),delete this._timeout}}t.default=d},57937:(e,t,i)=>{"use strict";var n=i(15215).Bx;Object.defineProperty(t,"__esModule",{value:!0});const s=n(i(31715)),r=n(i(23584)),o=n(i(25322));class a extends s.default{constructor(e,t,i){super(e,t,i),this._x1=0,this._y1=0,this._x2=0,this._y2=0,this._x3=0,this._y3=0}static create(e,t,i){return new a(e,t,i)}setCoordinates(e,t,i,n,s,r,o){return this._x1=e,this._y1=t,this._x2=i,this._y2=n,this._x3=s,this._y3=r,o?this._constraints=o:delete this._constraints,this}pointInCaptureZone(e,t){return(this._x1>0||this._x2>0||this._x3>0||this._y1>0||this._y2>0||this._y3>0)&&(!(this._constraints&&!o.default.prototype.pointInCaptureZone.call(this._constraints,e,t))&&(!!r.default.isPointInTriangle(e,t,this._x1,this._y1,this._x2,this._y2,this._x3,this._y3)||(this._padding>=r.default.distancePointToSegment(e,t,this._x1,this._y1,this._x2,this._y2)||(this._padding>=r.default.distancePointToSegment(e,t,this._x1,this._y1,this._x3,this._y3)||this._padding>=r.default.distancePointToSegment(e,t,this._x2,this._y2,this._x3,this._y3)))))}isSet(){return!!(this._x1||this._x2||this._x3||this._y1||this._y2||this._y3)}}t.default=a},83173:(e,t,i)=>{"use strict";var n=i(15215).ut,s=i(15215).Bx;Object.defineProperty(t,"__esModule",{value:!0}),t.DIRECTIONS=void 0;const r=i(43130),o=n(i(14978)),a=i(50710),l=s(i(73142));var d;!function(e){e[e.HORIZONTAL=1]="HORIZONTAL",e[e.VERTICAL=2]="VERTICAL",e[e.DIAGONAL=4]="DIAGONAL"}(d=t.DIRECTIONS||(t.DIRECTIONS={}));class u extends o.default{constructor(e){if(super(Object.assign(Object.assign({},e),{plane:l.default.prototype._updateDeltas})),this._acceptedDirections=d.HORIZONTAL|d.VERTICAL|d.DIAGONAL,this._options.handleHold)throw new Error("Tri-directional pan gesture recogniser cannot activate on timeout");"number"==typeof this._options.directions&&(this._acceptedDirections=this._options.directions)}static create(e){return new u(e)}_startGesture(){this._isRecognised||(this._determineDirection()?(this._updateDeltas({x:this.startX+this.deltaX,y:this.startY+this.deltaY}),super._startGesture()):this.reset())}_determineDirection(){const e=180*Math.atan2(this.deltaY,this.deltaX)/Math.PI;let t;return(0,r.some)(a.DIRECTIONS_MAP,((i,n)=>{if(i(e))return t=d[n],!0})),this.direction=t&this._acceptedDirections,this.direction===d.HORIZONTAL?this._updateDeltas=o.PLANES.HORIZONTAL:this.direction===d.VERTICAL?this._updateDeltas=o.PLANES.VERTICAL:this._updateDeltas=super._updateDeltas,!!this.direction}reset(){super.reset(),this._updateDeltas=super._updateDeltas,delete this.direction}}t.default=u},73453:(e,t,i)=>{"use strict";var n=i(15215).Bx;Object.defineProperty(t,"__esModule",{value:!0});const s=i(43130),r=n(i(4739)),o=n(i(3019)),a=n(i(86605)),l=n(i(30992)),d=n(i(41020)),u=i(10094),c=i(40708),h=n(i(289)),p=n(i(36757)),_=i(64089);class g extends h.default{constructor(e,t,i,n,s){super(),this.name=e,this.visibleDateRange=t,this._eventBus=i,this._animationPoller=n,this.epic=s,this.pointTypes={},this._isXAxisInitialised=!1,this._isYAxisInitialised=!1,this._dataHigh=Object.create(null),this._dataLow=Object.create(null),t.instrumentModelCollection.on(l.default.BLOCKS_POINTS_ADDED,this._handlePointsAdded,this)}static create(e,t,i,n,s){return new g(e,t,i,n,s)}getXScale(){return this.visibleDateRange.getScale()}addPointTypes(e,t,i){if(e===this.epic){let e=this.pointTypes[t.id];e||(e=this.pointTypes[t.id]=[]),e.push(...i)}this.visibleDateRange.instrumentModelCollection.allActiveInstrumentResolutions.forEach((e=>{e.blocks&&i.forEach((i=>this._handlePointsAdded(e.blocks||[],i,e.getEpic(),t)))})),this.fire(g.POINT_TYPES_CHANGED)}removePointTypes(e,t,i){var n;e===this.epic&&(this.pointTypes[t.id]=null===(n=this.pointTypes[t.id])||void 0===n?void 0:n.filter((e=>!i.includes(e))));const s=`${e}-${t.id}`;i.forEach((e=>{var t,i;this._dataHigh[s]&&(null===(t=this._dataHigh[s])||void 0===t||delete t[e]),this._dataLow[s]&&(null===(i=this._dataLow[s])||void 0===i||delete i[e])})),this._calculateHighLow(),this.fire(g.POINT_TYPES_CHANGED)}timestampToXCoordinate(e){const t=this.visibleDateRange.getTimeline(),i=this.getXScale();return Math.floor(i(null==t?void 0:t.asAccTime(e,!0)))}snapCoordinateToClosestPoint(e){const t=this.visibleDateRange.pixelsToAccTime(e);if(t){const e=this.visibleDateRange.instrumentModelCollection.getDataPointsAtAccTime(t);if(e){const t=Object.keys(e);if(t.length>0){return(e.prices||e[t[0]]).accTime}}}return null}snapCoordinateToClosestPointWithFallback(e){const t=this.visibleDateRange.instrumentModelCollection.activeInstrumentResolution;if(t){const i=this.visibleDateRange.pixelsToAccTime(e),n=this.snapCoordinateToClosestPoint(e);return t.info&&(!(0,u.isNumber)(n)||n&&Math.abs(n-i)>t.period/2)?this._snapToClosestResolutionMultiple(i,t.info.getConsolidationTimezoneOffset()):n}return null}_snapToClosestResolutionMultiple(e,t){var i;const n=this.visibleDateRange.getTimeline();if(!n)return null;const s=n.asDate(e);if(!s)return null;const r=null===(i=this.visibleDateRange.instrumentModelCollection.activeInstrumentResolution)||void 0===i?void 0:i.resolution.getTimezoneOffsetIterator();if(!r)return null;if(r.isStop(s,t))return e;const o=r.next(s,t),a=r.previous(s,t);return o.getTime()-s.getTime()>s.getTime()-a.getTime()?n.asAccTime(a,!0):n.asAccTime(o,!0)}_handlePointsAdded(e,t,i,n){var s;if(i!==this.epic||!(null===(s=this.pointTypes[n.id])||void 0===s?void 0:s.includes(t)))return;const r=e.map((e=>{var i;return null===(i=e.points[t])||void 0===i?void 0:i.high})).filter(isFinite),o=e.map((e=>{var i;return null===(i=e.points[t])||void 0===i?void 0:i.low})).filter(isFinite),a=`${i}-${n.id}`;let l=this._dataHigh[a];l?(0,u.isNumber)(l[t])&&r.push(l[t]):l=this._dataHigh[a]=[];let d=this._dataLow[a];d?(0,u.isNumber)(d[t])&&o.push(d[t]):d=this._dataLow[a]=[],r.length&&o.length&&(l[t]=Math.max(...r),d[t]=Math.min(...o),this._calculateHighLow())}_calculateHighLow(){const e=[],t=[];let i,n;for(n in this._dataHigh){const t=this._dataHigh[n];e.push(Math.max(...(0,s.values)(t)))}for(n in this._dataLow)t.push(Math.min(...(0,s.values)(this._dataLow[n])));const r=Math.max(...e),o=Math.min(...t);isFinite(o)&&isFinite(r)&&(i=[o,r],this.highLowValueRange&&(0,c.pairSame)(i,this.highLowValueRange)||(this.highLowValueRange=i,this.fire(g.HIGH_LOW_CHANGED,i)))}getLeftmostCloseLevel(){return this.visibleDateRange.getLeftmostCloseLevel()}valueAsPercentage(e){const t=this.getLeftmostCloseLevel();return(0,_.scaleLinear)().range([0,100]).domain([t,2*t])(e)}withY(e){return this.y=e,this._initAxisChangeHandling(),this}height(){const e=this.y.range();return e[1]-e[0]}width(){return this.visibleDateRange.width()}dimensions(){const e=this.visibleDateRange.startPixels(),t=this.y,i=this.visibleDateRange.width(),n=t.range();return{x:e,y:n[0],width:i,height:n[1]-n[0]}}greatestValueShown(){return this.y.domainSet?this.y.domain()[0]:void 0}leastValueShown(){return this.y.domainSet?this.y.domain()[1]:void 0}isReadyForRender(){return this._isXAxisInitialised&&this._isYAxisInitialised}zoom(e,t,i,n){e=this.y.invert(e),t=this.y.invert(t),i=this.y.invert(i),n=this.y.invert(n);const s=d.default.pointerTrackingZoom(this.y.domain(),e,t,i,n);s[1]<s[0]&&this.y.domain(s,!0,!0)}expandBy(e){const t=this.y.range()[0],i=this.y.domain();e=this.y.invert(t)-this.y.invert(t+e);const n=[i[0]+e,i[1]-e];n[1]<n[0]&&this.y.domain(n,!0,!0)}zoomByMultiple(e){const t=this.y.domain(),i=(0,c.scaleAboutMidpoint)(t,e);this.y.domain(i,!0,!0)}fitTo(e){const t=this.y.domain(),i=Math.abs(t[0]-t[1])/2;this.y.domain([e+i,e-i],!1,!0)}verticalPan(e){const t=this.y.domain(),i=t[0],n=t[1],s=this.y.invert(e)-this.y.invert(0);this.y.domain([i-s,n-s],!0,!0)}_initAxisChangeHandling(){let e,t;this._isXAxisReady()&&(e=a.default.INITIALISED),this.visibleDateRange.on(p.default.MOVED,(function(t){e|=t,this._animationPoller.requestNextStep()}),this),this.y.on(o.default.CHANGED,(function(e){t|=e,this._animationPoller.requestNextStep()}),this),this._animationPoller.on(r.default.TRIGGER_REPOSITION,(function(){(e||t)&&(this._updateAxisState(t),this.fire(g.MOVED,e,t),this._eventBus.publish(`chart/view/visibleWindow/moved/${this.name}`,[e,t])),e=a.default.STATIC,t=a.default.STATIC}),this)}_updateAxisState(e){this._isXAxisInitialised&&this._isYAxisInitialised||(e&&e&a.default.INITIALISED&&(this._isYAxisInitialised=!0),this._isXAxisInitialised=this._isXAxisReady(),this._isXAxisInitialised&&this._isYAxisInitialised&&this.fire(g.READY_FOR_RENDER))}destroy(){super.destroy(),this.visibleDateRange.instrumentModelCollection.un(null,this),this.visibleDateRange.un(null,this),this._animationPoller.un(null,this),this.y&&this.y.un(null,this)}_isXAxisReady(){return!!this.visibleDateRange&&this.visibleDateRange.xAxisReady}}g.MOVED="moved",g.READY_FOR_RENDER="readyForRender",g.POINT_TYPES_CHANGED="pointTypesChanged",g.HIGH_LOW_CHANGED="highLowChanged",t.default=g},61163:(e,t,i)=>{"use strict";var n=i(15215).ut,s=i(15215).Bx;Object.defineProperty(t,"__esModule",{value:!0}),t.X_AXIS_HEIGHT=void 0;const r=i(43130),o=n(i(38108)),a=s(i(72873));t.X_AXIS_HEIGHT=18;class l extends o.default{constructor(){super(...arguments),this.positions=[{name:"xAxis",clipPathNeeded:!1}],this._axisOffsets={}}getPositionType(){return o.POSITION_TYPE.FIXED}getFixedHeight(){return t.X_AXIS_HEIGHT}withEventBus(e){return super.withEventBus(e),e.subscribe("menu/size/changed",this._setAxisOffset.bind(this,"menu"),this),this}setVisibleWindow(e){return super.setVisibleWindow(e),e.y.domain([0,1]),this}_setAxisOffset(e,t){const i=this._axisOffsets[e];this._axisOffsets[e]=t,i!==t&&this._repositionAxis()}_repositionAxis(){if(this.dimensions){const e=this.getChartView().chartHeight()-(this.dimensions.y+this.dimensions.height),t=Math.max(Math.max(...(0,r.values)(this._axisOffsets))-e,0);this._getPositionDomContainer("xAxis").attr("transform",t>0?a.default.svgTranslateAttrY(-t):null)}}updateDimensions(e,t,i,n){super.updateDimensions(e,t,i,n),this._repositionAxis()}}t.default=l},42329:(e,t,i)=>{"use strict";var n=i(15215).Bx;Object.defineProperty(t,"__esModule",{value:!0});const s=i(43130),r=n(i(23806)),o=i(40708),a=n(i(36757)),l=n(i(73453)),d=i(33236);class u{constructor(){this._instantAnimation=!1,this._ignoreDomainNicing=!1}startProvidingFitForVisibleWindow(e){this._visibleWindow=e,this._subscribeToVisibleBlockEvents(),e.on(l.default.POINT_TYPES_CHANGED,(()=>{this._subscribeToVisibleBlockEvents(),this.fit()}),this)}stopProvidingFitForVisibleWindow(){this._visibleWindow.visibleDateRange.un(null,this),this._visibleWindow.un(null,this)}_subscribeToVisibleBlockEvents(){this._visibleWindow.visibleDateRange.un(null,this),this._visibleWindow.visibleDateRange.on(a.default.MOVED,this.fit,this),this._visibleWindow.visibleDateRange.on(a.default.MOVED_INTO_BOUNDS,this.fit,this);Object.values(this._visibleWindow.pointTypes).reduce(((e,t)=>(t&&e.push(...t),e)),[]).forEach((e=>this._visibleWindow.visibleDateRange.on(`${a.default.VISIBLE_BLOCKS_POINTS_ADDED}-${e}`,this.fit,this)))}fit(){const e=this._visibleBlocksValueRange;if(e&&this.isCapableOfFittingForRange(e)){const t=(0,o.reverseRange)(this.expandPriceRange(e));this._visibleWindow.y.domain(t,this._instantAnimation,this._ignoreDomainNicing)}}get _visibleBlocksValueRange(){if(!this._visibleWindow.epic)return null;const e=this._visibleWindow.visibleDateRange.instrumentModelCollection.activeResolution;if(!e)return null;const t=this._visibleWindow.visibleDateRange.getVisibleBlocks(this._visibleWindow.epic,e),i=this._getValueDomain(e.id,t);return(0,s.isFinite)(i[0])&&(0,s.isFinite)(i[1])?i:null}_getValueDomain(e,t){var i;const n=null===(i=this._visibleWindow.pointTypes[e])||void 0===i?void 0:i.filter(this._excludePointTypes,this);return r.default.blocksYDomainForAccRange(t,n,this._visibleWindow.visibleDateRange.accRange())}_excludePointTypes(e){return"prices"!==this._visibleWindow.name||e===d.PointType.PRICES}}u.PRICE_EXPAND_AMOUNT=.2,u.MINIMUM_PRICE_RANGE=1e-5,t.default=u},73223:(e,t,i)=>{"use strict";const n=(0,i(15215).Bx)(i(42329)),s=i(40708);class r extends n.default{constructor(){super(...arguments),this.min=0,this.max=0}expandPriceRange(e){const t=Math.min(e[0],this.min),i=Math.max(e[1],this.max),r=(0,s.expandProportionally)(n.default.PRICE_EXPAND_AMOUNT,[t,i]);return(0,s.minimumExtent)(n.default.MINIMUM_PRICE_RANGE,r)}isCapableOfFittingForRange(e){return!!e&&!this._visibleWindow.visibleDateRange.isOutOfBounds()}}t.A=r},26349:(e,t,i)=>{"use strict";const n=(0,i(15215).Bx)(i(42329)),s=i(10094),r=i(40708);class o extends n.default{constructor(){super(...arguments),this.extendBottom=!1,this.extendTop=!1}static _ensureMinimumExtent(e,t,i){const s=n.default.MINIMUM_PRICE_RANGE;if(Math.abs((0,r.rangeExtent)(e))<s){const n=(0,r.midPoint)(e);t?e[1]=n+s:i&&(e[0]=n-s)}return e}expandPriceRange(e){const t=(0,s.isNumber)(this.min),i=(0,s.isNumber)(this.max),a=[t?this.min:e[0],i?this.max:e[1]],l=(0,r.rangeExtent)(a)*n.default.PRICE_EXPAND_AMOUNT*.5;return a[0]-=this.extendBottom?l:0,a[1]+=this.extendTop?l:0,o._ensureMinimumExtent(a,t,i)}isCapableOfFittingForRange(e){return!!e&&!this._visibleWindow.visibleDateRange.isOutOfBounds()}}t.A=o},21325:(e,t,i)=>{"use strict";const n=(0,i(15215).Bx)(i(42329));class s extends n.default{startProvidingFitForVisibleWindow(e){e.y.domain([this.max,this.min])}stopProvidingFitForVisibleWindow(){}fit(){}expandPriceRange(){throw new Error("cannot expand the price range of a fixed fitter.")}isCapableOfFittingForRange(){return!1}}t.A=s},2174:(e,t,i)=>{"use strict";var n=i(15215).Bx;const s=i(64089),r=n(i(42329)),o=i(40708),a=i(43130);class l extends r.default{expandPriceRange(e){e=this._calculatePriceDomain(e);let t,i=0;if((0,a.isFinite)(this.verticalPadding)?i=this._calculateExpandAmount():(this.min||this.max)&&(i=60),i){const n=this._visibleWindow.y.range(),r=(0,s.scaleLinear)().domain(e).range([n[0]+i,n[1]-i]);t=[r.invert(n[0]),r.invert(n[1])]}else t=(0,o.expandProportionally)(r.default.PRICE_EXPAND_AMOUNT,e);return(0,o.minimumExtent)(r.default.MINIMUM_PRICE_RANGE,t)}_calculatePriceDomain(e){return[Math.min(this.min||1/0,e[0]),Math.max(this.max||-1/0,e[1])]}_calculateExpandAmount(){return Math.min(this.verticalPadding/2,this._visibleWindow.height()/4)}isCapableOfFittingForRange(e){return!!e&&!this._visibleWindow.visibleDateRange.isOutOfBounds()}}t.A=l},9836:(e,t,i)=>{"use strict";var n=i(15215).Bx;const s=n(i(52893)),r=n(i(3228)),o=n(i(17202)),a=i(73731),l=n(i(14243));class d{constructor(e,t,i,n,s){this._eventBus=e,this._options=t,this._settingsManager=s}getPointerWidth(){return this._options.pointerWidth}getRightPadding(){return isNaN(this._options.rightPadding)?4:this._options.rightPadding}getHasTrailingLine(){return this._options.trailingLine||!1}getHasScaledWidth(){return!Object.prototype.hasOwnProperty.call(this._options,"hasScaledWidth")||this._options.hasScaledWidth}hasRoundedCorners(){return!1!==this._options.roundedCorners}init(){this._currentPointLineVisible=!0,this._eventBus.subscribe("chart/view/ready",this._handleChartViewReady,this),this._eventBus.publish("subViews/config",["currentLine",r.default]),this._eventBus.publish("subViews/config",["currentPoint",o.default]),this._chartView&&(this._chartView.addRenderersBySubviewConfig(r.default),this._chartView.addRenderersBySubviewConfig(o.default)),this._settingsManager.on((0,a.getLayoutSettingsEvent)(l.default.CURRENT_PRICE_LINE_VISIBILITY),this._handleSettingsLoaded,this),this._settingsManager.hasSettings()&&this._handleSettingsLoaded()}destroy(){this._eventBus.unsubscribeAll(this),this._settingsManager.un(null,this),this._eventBus.publish("subViews/removeConfig",["currentPoint"]),this._currentPointLineVisible&&this._eventBus.publish("subViews/removeConfig",["currentLine"]),this._chartView&&(this._chartView.removeRenderersBySubviewConfig(r.default),this._chartView.removeRenderersBySubviewConfig(o.default)),delete this._chartView,delete this._currentPointLineVisible}_handleSettingsLoaded(){const e=this._settingsManager.getCurrentPriceLineVisibilitySettings(),t=void 0===e||e;t!==this._currentPointLineVisible&&(this._currentPointLineVisible=t,this._currentPointLineVisible?this._showCurrentPointLine():this._hideCurrentPointLine())}_showCurrentPointLine(){this._eventBus.publish("subViews/config",["currentLine",r.default]),this._chartView&&this._chartView.addRenderersBySubviewConfig(r.default)}_hideCurrentPointLine(){this._eventBus.publish("subViews/removeConfig",["currentLine"]),this._chartView&&this._chartView.removeRenderersBySubviewConfig(r.default)}_handleChartViewReady(e){return this._chartView=e,this}}d.settingsParsers=Object.freeze({template:{moduleName:l.default.CURRENT_PRICE_LINE_VISIBILITY,parserClass:s.default}}),t.A=d},67737:(e,t,i)=>{"use strict";var n=i(15215).Bx;const s=n(i(3565)),r=n(i(38153)),o=i(73731),a=i(33236),l=n(i(14243)),d=n(i(92896));class u extends s.default{startListening(e,t){super.startListening(e);const i=this._moduleLoader.getModule("currentPoint");if(this._presentationModel.pointerWidth=i.getPointerWidth(),this._presentationModel.hasScaledWidth=i.getHasScaledWidth(),this._presentationModel.rightPadding=i.getRightPadding(),this._presentationModel.hasRoundedCorners=i.hasRoundedCorners(),this._presentationModel.hasTrailingLine=i.getHasTrailingLine(),this._instrumentResolution=t.activeInstrumentResolution,this._instrumentResolution&&(this._instrumentResolution.on(`${r.default.CURRENT_DATA_POINT_CHANGED}-${a.PointType.PRICES}`,this._handleNewPoint,this),this._instrumentResolution.on(`${r.default.CURRENT_DATA_POINT_CHANGED}-${a.PointType.PRICES_RAW}`,this._handleRawPrices,this)),this._settingsManager.on((0,o.getLayoutSettingsEvent)(l.default.CORE),this._handleLayoutSettingsChanged,this),this._eventBus.subscribe("chart/instrument/info",this._handleInstrumentInfoLoaded,this,{once:!0}),this._handleLayoutSettingsChanged(),this._instrumentResolution){const e=this._instrumentResolution.getLastPoint(a.PointType.PRICES);e&&this._handleNewPoint(e);const t=this._instrumentResolution.getLastPoint(a.PointType.PRICES_RAW);t&&this._handleRawPrices(t)}return this}stopListening(){super.stopListening(),this._presentationModel.setCurrentValue(null,a.PointType.PRICES),this._presentationModel.setCurrentValue(null,a.PointType.PRICES_RAW),this._presentationModel.setInstrumentInfo(null),this._instrumentResolution&&this._instrumentResolution.un(null,this),this._settingsManager.un(null,this)}_handleNewPoint(e){this._presentationModel.setCurrentValue(e.value,a.PointType.PRICES)}_handleRawPrices(e){this._presentationModel.setCurrentValue(e.value,a.PointType.PRICES_RAW)}_handleInstrumentInfoLoaded(e){this._presentationModel.setInstrumentInfo(e)}_handleLayoutSettingsChanged(){this._presentationModel.setHeikinAshiSelected(this._settingsManager.getStyleSettings()===d.default.HEIKINASHI)}}t.A=u},33236:(e,t,i)=>{"use strict";var n=i(15215).Bx;Object.defineProperty(t,"__esModule",{value:!0}),t.PointType=void 0;const s=n(i(48990));var r;!function(e){e.PRICES="prices",e.PRICES_RAW="prices-raw",e.PRICES_DERIVATIVE="prices-derivative",e.PRICES_RAW_DERIVATIVE="prices-raw-derivative"}(r=t.PointType||(t.PointType={}));class o extends s.default{constructor(){super(...arguments),this.pointerWidth=80,this.hasScaledWidth=!0,this.rightPadding=0,this.hasRoundedCorners=!0,this.hasTrailingLine=!1,this._values={[r.PRICES]:null,[r.PRICES_RAW]:null,[r.PRICES_DERIVATIVE]:null,[r.PRICES_RAW_DERIVATIVE]:null},this._isHeikinAshiSelected=!1}get info(){return this._instrumentInfo||null}getCurrentValue(e){return this._values[e]}setCurrentValue(e,t){this._values[t]=e,this.fire(o.CURRENT_POINT_CHANGED)}isDelayBadgeVisible(e){return this._instrumentInfo&&this._instrumentInfo.delay>0&&(this._isHeikinAshiSelected&&e===r.PRICES||!this._isHeikinAshiSelected&&e===r.PRICES_RAW)}setHeikinAshiSelected(e){this._isHeikinAshiSelected=e,this.fire(o.VISIBILITY_CHANGED,this)}setInstrumentInfo(e){return this._instrumentInfo=e,this.fire(o.INSTRUMENT_INFO_LOADED,this),this}isBadgeVisible(e){return!(e===r.PRICES&&!this._isHeikinAshiSelected)}isLineVisible(e){return!(e===r.PRICES&&!this._isHeikinAshiSelected||e===r.PRICES_RAW&&this._isHeikinAshiSelected)}destroy(){}}o.CURRENT_POINT_CHANGED="CURRENT_POINT_CHANGED",o.INSTRUMENT_INFO_LOADED="INSTRUMENT_INFO_LOADED",o.VISIBILITY_CHANGED="VISIBILITY_CHANGED",t.default=o},99826:(e,t,i)=>{"use strict";var n=i(15215).Bx;const s=n(i(85690)),r=n(i(86605)),o=n(i(2928)),a=n(i(33236)),l=i(21788),d=n(i(72873)),u=n(i(73453));class c extends s.default{constructor(e,t,i,n,s,r){super(e,t,i,n),this._pointType=r,this._animationNamespace=`currentPoint-${this.name}-${this._pointType}`}startRedrawingBasedOnChangesInVisibleWindow(){this._presentationModel.hasTrailingLine&&(this._presentationModel.on(a.default.CURRENT_POINT_CHANGED,this.renderOnFrameEnd,this),this._visibleWindow.isReadyForRender()?this._handleReadyForRender():this._visibleWindow.on(u.default.READY_FOR_RENDER,this._handleReadyForRender,this,{once:!0}))}_handleReadyForRender(){this._redraw(),this.renderOnFrameEnd(),this._visibleWindow.on(u.default.MOVED,this._handleVisibleWindowMoved,this)}stopRedrawingBasedOnChangesInVisibleWindow(){this._presentationModel.un(null,this),this._visibleWindow.un(null,this)}_handleVisibleWindowMoved(e,t){e&r.default.RESIZED&&this._redraw(),t&(r.default.MOVED|r.default.RESIZED|r.default.ZOOMED)&&this.renderOnFrameEnd()}initDom(){return this.dContainer.classed("currentPointLineRenderer",!0),this._presentationModel.hasTrailingLine&&(this._dTrailingLine=this.dContainer.append("svg:line").attr("class","trailing")),this}render(){if(!this._presentationModel.hasTrailingLine)return;this.dContainer.classed("hidden",!this._presentationModel.isLineVisible(this._pointType));const e=this._previousPrice;this._moveFrom(e),this._previousPrice=this._presentationModel.getCurrentValue(this._pointType)}_moveFrom(e){const t=this._presentationModel.getCurrentValue(this._pointType);e&&t!==e?this._animateLine(e,t):this._move()}_move(){const e=this._translateYFunction(),t=this._outOfBoundsFunction();this._animationPoller.killTasks(this._animationNamespace),this._dTrailingLine.attr("transform",e(this._presentationModel.getCurrentValue(this._pointType))),this._dTrailingLine.classed("hidden",t(this._presentationModel.getCurrentValue(this._pointType)))}_redraw(){this._dTrailingLine.attrs({x1:0,x2:this._subView.dimensions.width-this._presentationModel.rightPadding,y1:0,y2:0})}_translateYFunction(){const e=this._visibleWindow.y;return function(t){return d.default.svgTranslateAttrY(Math.round(t?e(t):0))}}_outOfBoundsFunction(){const e=this._visibleWindow.y,t=this._visibleWindow.height();return function(i){const n=i?e(i):-1;return n<0||n>t}}_animateLine(e,t){const i=o.default.ANIM_EASE,n=this._dTrailingLine,s=this._translateYFunction(),r=this._outOfBoundsFunction();this._animationPoller.killTasks(this._animationNamespace),this._animationPoller.newFixedTimeTask(this._animationNamespace,(function(o){const a=(0,l.easedInterpolation)(i,e,t,o);n.attr("transform",s(a)),n.classed("hidden",r(a))}),o.default.ANIM_DURATION)}destroy(){this._animationPoller.killTasks(this._animationNamespace),super.destroy()}}t.A=c},23764:(e,t,i)=>{"use strict";var n=i(15215).Bx;t.br=void 0;const s=n(i(85690)),r=n(i(86605)),o=n(i(2928)),a=n(i(33236)),l=n(i(67468)),d=i(21788),u=i(40708),c=n(i(69057)),h=n(i(72873)),p=n(i(73453)),_=i(57754);t.br=9.5;class g extends s.default{constructor(e,t,i,n,s,r){super(e,t,i,n),this._widthHasBeenSet=!1,this._delayBadge=l.default.create(i,n),this._priceRendererHelper=new c.default,this._pointType=r,this._animationNamespace=`currentPoint-${this.name}-${this._pointType}`}startRedrawingBasedOnChangesInVisibleWindow(){this._presentationModel.on(a.default.INSTRUMENT_INFO_LOADED,this._handleInstrumentInfoLoaded,this),this._presentationModel.on(a.default.CURRENT_POINT_CHANGED,this.renderOnFrameEnd,this),this._presentationModel.on(a.default.VISIBILITY_CHANGED,this._handleVisibilityChanged,this),this._visibleWindow.on(p.default.MOVED,this._handleVisibleWindowMoved,this),this._presentationModel.info&&this._handleInstrumentInfoLoaded(),this._handleVisibilityChanged()}stopRedrawingBasedOnChangesInVisibleWindow(){this._presentationModel.un(null,this),this._visibleWindow.un(null,this)}_handleInstrumentInfoLoaded(){var e;this._priceRendererHelper.scalingFactor=this._presentationModel.info.scalingFactor,this._priceRendererHelper.decimalPlaces=this._presentationModel.info.decimalPlaces,this._delayBadge.setVisibility(this._presentationModel.isDelayBadgeVisible(this._pointType)),this._delayBadge.setText(`${null===(e=this._presentationModel.info)||void 0===e?void 0:e.delay}`)}_handleVisibilityChanged(){this.dContainer&&(this.dContainer.classed("hidden",!this._presentationModel.isBadgeVisible(this._pointType)),this._delayBadge.setVisibility(this._presentationModel.isDelayBadgeVisible(this._pointType)))}_handleVisibleWindowMoved(e,t){(e&r.default.RESIZED||t)&&this._move()}initDom(){const e=this._presentationModel.hasRoundedCorners?2:0;return this.dContainer.classed("currentPointRenderer",!0),this._dPointer=this.dContainer.append("svg:g").attr("transform",h.default.svgTranslateAttrY(-19)),this._dShape=this._dPointer.append("svg:g"),this._dRect=this._dShape.append("svg:rect").classed("shape",!0).attrs({height:19,y:-9.5,rx:e,ry:e}),this._dPrice=this._dPointer.append("g").attr("dy","0.4em").attr("x",_.TEXT_MARGIN),this._delayBadge.initDom(this._dPointer,e),this}render(){const e=this._getCurrentPriceValue();if(e){if(this._priceRendererHelper.render(this._dPrice.node(),e),!this._widthHasBeenSet){const e=h.default.getBBox(this.dContainer.select("text").node()).width+c.default.RIGHT_PADDING;this._dRect.attr("width",e).attr("x",-e-this._presentationModel.rightPadding),this._delayBadge.shiftToLeft(e+10),this._widthHasBeenSet=!0}this._moveFrom(this._renderedPointValue),this._renderedPointValue=e}}_getCurrentPriceValue(){return this._presentationModel.getCurrentValue(this._pointType)}_move(){this._animationPoller.killTasks(this._animationNamespace),this._dPointer.attr("transform",this._translateYFunction()(this._getCurrentPriceValue())),this._delayBadge.updateCaptureZone()}destroy(){return this._animationPoller.killTasks(this._animationNamespace),this._delayBadge&&(this._delayBadge.destroy(),delete this._delayBadge),super.destroy(),this}_translateYFunction(){const e=this._visibleWindow.y,i=t.br,n=[i,this._visibleWindow.height()-i];return function(t){let i;return i=t?(0,u.clampInRange)(e(t),n):-38,h.default.svgTranslateAttrXY(0,Math.round(i))}}_moveFrom(e){const t=this._getCurrentPriceValue();e&&t&&t!==e?this._animatePointer(e,t):this._move()}_animatePointer(e,t){const i=o.default.ANIM_EASE,n=this._dPointer,s=this._translateYFunction();this._animationPoller.killTasks(this._animationNamespace),this._animationPoller.newFixedTimeTask(this._animationNamespace,(function(r){n.attr("transform",s((0,d.easedInterpolation)(i,e,t,r)))}),o.default.ANIM_DURATION)}}t.Ay=g},67468:(e,t,i)=>{"use strict";var n=i(15215).Bx;Object.defineProperty(t,"__esModule",{value:!0});const s=n(i(50951)),r=n(i(27315)),o=n(i(13365)),a=n(i(72873)),l=n(i(98760)),d=i(73848),u=n(i(17660)),c=n(i(10520));class h{constructor(e,t){this._eventBus=e,this._captureZoneManager=t}updateCaptureZone(){this._captureZone.setDimensionsBasedOnElement(this._dDelayBadge)}static create(e,t){return new h(e,t)}setText(e){this._dDelayBadge.select("text").text(e)}setVisibility(e){this._dDelayBadge.classed("hidden",!e)}initDom(e,t){this._dDelayBadge=e.append("svg:g").classed("delayBadge",!0).classed("hidden",!0),this._dDelayBadge.append("svg:rect").attrs({width:19,height:19,y:-9.5,rx:t,ry:t}),this._dDelayBadge.append("svg:text").attrs({x:9.5,dy:"4"}),this._captureZone=this._captureZoneManager.create(s.default.PROPAGATE_UNHANDLED,c.default.DELAY_BADGE),this._captureZone.setHoverHandler({in:this._showTooltip.bind(this),out:this._hideTooltip.bind(this)}),this._captureZone.addGesture(l.default,{count:1,fastTap:!0,onGesture:this._showTooltip.bind(this,0)})}_showTooltip(e){const t="delayedPriceTooltip"+(u.default.getInstance().isAnonymous()?"Anonymous":""),i=Object.assign(document.createElement("p"),{innerHTML:r.default.get(t)}),n=this._dDelayBadge.node();this._eventBus.publish("hint-tooltip/hover/enter",[{itemId:"delayBadge",message:i,rect:n.getBoundingClientRect(),timeout:e,direction:d.TOOLTIP_APPEARANCE.ABOVE}]),this._dismissCaptureZone=this._captureZoneManager.createZone(o.default,s.default.PROPAGATE_UNHANDLED,c.default.DELAY_BADGE),this._dismissCaptureZone.addGesture(l.default,{count:1,fastTap:!0,onGesture:this._hideTooltip.bind(this)}),this._eventBus.subscribe("chart/view/visibleWindow/moved/*",this._hideTooltip,this,{once:!0}),clearTimeout(this._hideTooltipTimeoutId),this._hideTooltipTimeoutId=window.setTimeout(this._hideTooltip.bind(this),1e4)}_hideTooltip(){clearTimeout(this._hideTooltipTimeoutId),this._eventBus.unsubscribe("chart/view/visibleWindow/moved/*",this._hideTooltip,this),this._eventBus.publish("hint-tooltip/hover/exit",["delayBadge"]),this._dismissCaptureZone&&(this._dismissCaptureZone.destroy(),delete this._dismissCaptureZone)}shiftToLeft(e){this._dDelayBadge.attr("transform",a.default.svgTranslateAttrX(-(e+19)))}destroy(){clearTimeout(this._hideTooltipTimeoutId),this._eventBus.unsubscribeAll(this),this._captureZone&&(this._captureZone.destroy(),delete this._captureZone),this._dismissCaptureZone&&(this._dismissCaptureZone.destroy(),delete this._dismissCaptureZone),this._dDelayBadge&&(this._dDelayBadge.remove(),delete this._dDelayBadge)}}t.default=h},32796:(e,t,i)=>{"use strict";var n=i(15215).Bx;const s=i(43130),r=n(i(3565)),o=n(i(38712)),a=n(i(2928)),l=n(i(40016)),d=n(i(938)),u=n(i(77209)),c=n(i(74893)),h=n(i(92896));class p extends r.default{startListening(e){return super.startListening(e),this._module=this._moduleLoader.getModule("dateCue"),this._module.on(l.default.SHOW_CUE,this._prepCue,this),this._eventBus.subscribe("chart/resolution/changed",this._handleResolutionChanged,this),this._eventBus.subscribe("chart/resolution/info",this._handleResolutionInfoChanged,this),this._eventBus.subscribe("chart/view/ready",(e=>this._chartView=e),this),this}stopListening(){this._instrumentResolution&&this._instrumentResolution.un(null,this),this._module&&this._module.un(null,this),window.clearTimeout(this._entryTimeoutId),this._dismissCue(),super.stopListening()}_handleResolutionChanged(e){this._instrumentResolution=e}_handleResolutionInfoChanged(e){this._timeZone=e.getUserTimeZone()}_prepCue(e){var t;if(this._instrumentResolution.resolution===c.default.values.TICK)return;const i=null===(t=this._visibleWindow.visibleDateRange.getTimeline())||void 0===t?void 0:t.asAccTime(e,!0);o.default.findBlockContainingAccTime(this._instrumentResolution.blocks,i).loading.loaded?this._turnOnCue(e):this._instrumentResolution.on(u.default.POINTS_LOADED,this._turnOnCue.bind(this,e),this,{once:!0})}_turnOnCue(e){window.clearTimeout(this._entryTimeoutId),this._entryTimeoutId=window.setTimeout(this._showCue.bind(this,e),3*a.default.ANIM_DURATION)}_showCue(e){const t=this._instrumentResolution.resolution;this._eventBus.unsubscribe("chart/view/visibleWindow/moved/*",this._dismissCue,this),this._eventBus.publish("hint-tooltip/hover/enter",[{itemId:"cue",groupId:"cueGroup",message:d.default.format(e,this._timeZone,t),rect:(0,s.assign)({width:0,height:0},this._getCoordinatesAtDate(e)),style:"cue",timeout:0}]),this._exitTimeoutId=window.setTimeout(this._dismissCue.bind(this),4e3),this._eventBus.subscribe("chart/view/visibleWindow/moved/*",this._dismissCue,this,{once:!0})}_dismissCue(){window.clearTimeout(this._exitTimeoutId),this._eventBus.publish("hint-tooltip/hover/exit",["cue"])}_getCoordinatesAtDate(e){var t,i;const n=null===(t=this._visibleWindow.visibleDateRange.getTimeline())||void 0===t?void 0:t.asAccTime(e,!0),s=n?this._visibleWindow.visibleDateRange.instrumentModelCollection.getDataPointsAtAccTime(n):null,r=this._chartView.chartRect();let o,a;return(null===(i=null==s?void 0:s.prices)||void 0===i?void 0:i.date)&&s.prices.date.getTime()===e.getTime()?(o=this._visibleWindow.visibleDateRange.accTimeToPixel(s.prices.accTime)+r.left,a=this._visibleWindow.y(s.prices[this._getPriceKey()])+r.top):(o=this._visibleWindow.visibleDateRange.accTimeToPixel((this._visibleWindow.visibleDateRange.accEnd()+this._visibleWindow.visibleDateRange.accStart())/2)+r.left,a=(this._visibleWindow.y.range()[1]+this._visibleWindow.y.range()[0])/2+r.top),{top:a,left:o}}_getPriceKey(){return(0,s.includes)([h.default.MOUNTAIN,h.default.LINE],this._settingsManager.getStyleSettings())?"value":"highPrice"}}t.A=p},2297:(e,t,i)=>{"use strict";var n=i(15215).Bx;const s=n(i(40016)),r=n(i(12304)),o=n(i(289));class a extends o.default{constructor(e){super(),this._eventBus=e}init(){this._eventBus.subscribe("date-cue/show",this._show,this),this._eventBus.publish("subViews/config",["date-cue",r.default])}destroy(){super.destroy(),this._eventBus.unsubscribeAll(this)}_show(e){this.fire(s.default.SHOW_CUE,e)}}t.A=a},40016:(e,t)=>{"use strict";var i;Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.SHOW_CUE="SHOW_CUE"}(i||(i={})),t.default=i},35683:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.dealResultLabelFromAction=void 0;const n=i(58703);var s;!function(e){e.CONFIRMED="Trade confirmed",e.PARTIALLY_FILLED="Trade partially filled",e.REJECTED="Trade rejected"}(s||(s={}));t.dealResultLabelFromAction=e=>{switch(e){case n.GA_DEAL_ACTION.CONFIRMED:return s.CONFIRMED;case n.GA_DEAL_ACTION.PARTIALLY_FILLED:return s.PARTIALLY_FILLED;case n.GA_DEAL_ACTION.REJECTED:return s.REJECTED}},t.default=s},77884:(e,t)=>{"use strict";var i;Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.POSITION="position",e.ORDER="order"}(i||(i={})),t.default=i},33106:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.executionTypeForTicket=void 0;var i;!function(e){e.CURRENT_OR_BETTER="current_or_better",e.POINT_THROUGH_CURRENT="point_through_current",e.MARKET="market",e.ABSOLUTE_LEVEL="absolute_level",e.QUOTE="quote"}(i||(i={}));t.executionTypeForTicket=e=>e.marketOrder?i.MARKET:e.pointsThroughCurrentSelected&&e.pointsThroughCurrent?i.POINT_THROUGH_CURRENT:(e=>void 0!==e.triggerLevel)(e)?i.ABSOLUTE_LEVEL:i.CURRENT_OR_BETTER,t.default=i},23463:(e,t)=>{"use strict";var i;Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.CHARTS_OPEN_TICKET="charts_open_ticket",e.CHARTS_INLINE_CLOSE_TICKET="charts_inline_close_ticket",e.CHARTS_CONFIRM_CLOSE_TICKET="charts_confirm_close_ticket",e.CHARTS_DELETE_TICKET="charts_delete_ticket",e.CHARTS_DRAG_EDIT_TICKET="charts_drag_edit_ticket",e.CHARTS_DIALOG_EDIT_TICKET="charts_dialog_edit_ticket",e.CHARTS_INLINE_EDIT_TICKET="charts_inline_edit_ticket"}(i||(i={})),t.default=i},73828:(e,t)=>{"use strict";t.A=class{constructor(...e){this._subscriptions=e}add(e){for(const t of this._subscriptions)t.add(e)}remove(e){let t=!0;for(const i of this._subscriptions)t=i.remove(e)&&t;return t}removeAll(){for(const e of this._subscriptions)e.removeAll()}destroy(){for(const e of this._subscriptions)e.destroy()}}},64877:(e,t,i)=>{"use strict";var n=i(15215).Bx;const s=i(43130),r=n(i(20750)),o=n(i(88045)),a=n(i(6612)),l=n(i(30911)),d=n(i(19083));class u extends d.default{constructor(e,t,i,n,s,r){super(e,t,i,null,n,s,r),this._orders=[],this._notWorkingOrders={}}static create(...e){return new u(...e)}clearTrades(){Object.keys(this._notWorkingOrders).forEach(this._removeNotWorkingOrderChangeHandler,this),super.clearTrades(),this._orders=[]}destroy(){this.clearTrades(),super.destroy()}_handleTradeAdded(e){if(e.isWorking)return void this._createIGUSWorkingOrder(e);const t=this._handleNotWorkingOrderChange.bind(this,e);this._notWorkingOrders[e.dealId]={order:e,changeHandler:t},e.on("change",t,this),this._addToParentOrder(e)}_handleTradeRemoved(e){const t=(0,s.find)(this._orders,{dealId:e});if(t)return(0,s.pull)(this._orders,t),void this._callbackRemove(e);this._orders.forEach((t=>{t.removeStopOrLimit(e)})),this._removeNotWorkingOrderChangeHandler(e)}_createIGUSWorkingOrder(e){const t=r.default.create(e);this._orders.push(t),this._callbackAdd(t),this._addChildOrders(t)}_handleNotWorkingOrderChange(e,t){(0,s.includes)(t,"isWorking")&&e.isWorking&&(this._removeNotWorkingOrderChangeHandler(e.dealId),this._createIGUSWorkingOrder(e))}_getParentIGUSWorkingOrder(e){const t=(0,s.find)(e.relationships,{association:a.default.TARGET,instruction:l.default.OTO});if(t)return(0,s.find)(this._orders,{dealId:t.refOrderId});o.default.error("Non-working order has missing reference to parent working order.")}_addToParentOrder(e){const t=this._getParentIGUSWorkingOrder(e);t&&t.addStopOrLimit(e)}_addChildOrders(e){(0,s.filter)(this._getCurrentTrades(),{relationships:[{association:a.default.TARGET,instruction:l.default.OTO,refOrderId:e.dealId}]}).forEach(e.addStopOrLimit.bind(e))}_removeNotWorkingOrderChangeHandler(e){const{order:t,changeHandler:i}=this._notWorkingOrders[e];t.off("change",i,this),delete this._notWorkingOrders[e]}}t.A=u},10608:(e,t,i)=>{"use strict";var n=i(15215).Bx;t.oN=void 0;const s=i(43130),r=i(61346),o=n(i(45600)),a=n(i(19083));!function(e){e.DIRECTION="direction",e.KNOCKOUT_LEVEL="knockoutLevel"}(t.oN||(t.oN={}));class l extends a.default{constructor(e,t,i,n,s,r,o){super(e,t,i,null,n,s,r),this._aggregationProperty=o,this._aggregates={}}static create(...e){return new l(...e)}clearTrades(){Object.keys(this._aggregates).forEach((e=>this._destroyAggregateAndDomain(e))),super.clearTrades()}destroy(){this.clearTrades(),super.destroy()}_handleTradeAdded(e){const t=String(e[this._aggregationProperty]),i=this._aggregates[t];if(i)return void i.aggregate.addPosition(e);const n=new r.AggregatePosition([e],!0);n.dealId=t,this._aggregates[t]={aggregate:n,openPosition:o.default.create(n)},this._callbackAdd(this._aggregates[t].openPosition)}_handleTradeRemoved(e){(0,s.forEach)(this._aggregates,(t=>{const i=(0,s.find)(t.aggregate.positions,["dealId",e]);i&&(t.aggregate.removePosition(i),t.aggregate.positions.length||(this._callbackRemove(t.openPosition.dealId),this._destroyAggregateAndDomain(t.openPosition.dealId)))}))}_destroyAggregateAndDomain(e){const t=this._aggregates[e];t.openPosition.destroy(),t.aggregate.destroy(),delete this._aggregates[e]}}t.Ay=l},72157:(e,t,i)=>{"use strict";var n=i(15215).Bx;const s=n(i(19083)),r=n(i(97454));class o extends s.default{constructor(e,t,i,n,s,r){super(e,t,i,null,n,s,r)}static create(...e){return new o(...e)}_handleTradeAdded(e){this._callbackAdd(r.default.create(e))}_handleTradeRemoved(e){this._callbackRemove(e)}}t.A=o},44640:(e,t,i)=>{"use strict";var n=i(15215).Bx;const s=n(i(45600)),r=n(i(19083));class o extends r.default{static create(...e){return new o(...e)}_handleTradeAdded(e){this._callbackAdd(s.default.create(e))}_handleTradeRemoved(e){this._callbackRemove(e)}}t.A=o},13167:(e,t,i)=>{"use strict";var n=i(15215).Bx;const s=i(43130),r=i(41943),o=n(i(77209)),a=i(9525),l=n(i(12488)),d=i(45690),u=i(69600),c=i(91238);function h(e){return!!e._data&&!e.isComplete}class p{constructor(e){this._eventBus=e,this._transactions=[]}static create(e){return new p(e)}submit(e,t,i,n){i=i||s.noop;const r=e.submit(),o=this._handleTransactionStateChange.bind(this,r,e,t||s.noop,i,n||s.noop);return this._transactions.push(r),r.on("change",o,this),r.start(),this._timeoutTimerId=window.setTimeout(this._handleTransactionTimeout.bind(this,r,i,o),15e3),r}abort(){this._transactions=this._transactions.filter(h),this._timeoutTimerId&&clearTimeout(this._timeoutTimerId),this._transactions.length&&(this._transactions.forEach((0,a.invoker)("abort")),this._transactions.forEach((0,a.invoker)("destroy")),this._transactions=[],this._publishDealResolved())}destroy(){this.abort()}_handleTransactionStateChange(e,t,i,n,s,a=[]){if(!(0,r.contains)(a,"state"))return;let p;switch(e.state){case u.TransactionState.STARTED:this._publishDealPending();break;case u.TransactionState.PENDING:s(e.details,t);break;case u.TransactionState.CONFIRMED:case u.TransactionState.CANCELLED:this._eventBus.publish(o.default.TRADE_CONFIRMED,[(0,d.parseConfirmation)(e.details.content.reportData),e.details.content.reportType]),this._eventBus.publish("tracker/ga",[(0,c.getDealConfirmedTrackingPayload)(t,e.details)]),i(e.details,t);break;case u.TransactionState.REJECTED:case u.TransactionState.FAILED:case u.TransactionState.UNVERIFIED:e.state===u.TransactionState.REJECTED?(p=(0,d.parseRejection)(e.details.content.reportData),this._eventBus.publish("tracker/ga",[(0,c.getDealRejectedTrackingPayload)(t,e.details)])):p={isError:!0,data:[{key:"",value:l.default.get("unableToProcessDeal")}]},this._eventBus.publish(o.default.TRADE_REJECTED,[p]),n(e.details,t)}this._transactions=this._transactions.filter(h),this._transactions.length||this._publishDealResolved()}_handleTransactionTimeout(e,t,i){this._transactions.length&&(e.off("change",i,this),e.destroy(),t(),this._publishDealResolved(),this._eventBus.publish(o.default.TRADE_TIMEOUT))}_publishDealPending(){this._eventBus.publish("api/out/deal/progress",["PENDING"])}_publishDealResolved(){this._eventBus.publish("api/out/deal/progress",["COMPLETED"])}}t.A=p},19083:(e,t,i)=>{"use strict";var n=i(15215).Bx;Object.defineProperty(t,"__esModule",{value:!0});const s=n(i(33913));t.default=class{constructor(e,t,i,n,r,o,a){this._tradesManager=s.default.create(e,t,i,n,r,o,a)}getTrades(e,t,i){return this._callbackAdd=t,this._callbackRemove=i,this._tradesManager.getTrades(e,this._handleTradeAdded.bind(this),this._handleTradeRemoved.bind(this))}reload(){this._tradesManager.reload()}clearTrades(){this._tradesManager.clearTrades()}destroy(){this._tradesManager.destroy()}_getCurrentTrades(){return this._tradesManager.getCurrentTrades()}}},33913:(e,t,i)=>{"use strict";var n=i(15215).Bx;Object.defineProperty(t,"__esModule",{value:!0});const s=i(43130),r=i(61346),o=i(41943),a=n(i(88045));class l{constructor(e,t,i,n,s,r,o){this._subscriptionGroupTrade=t,this._subscriptionGroupInstrument=i,this._rdwSubscriptionGroup=n,this._store=s||r.call(this,e),this._isSDKOwned=!s,o&&(this._isTradeShown=o)}static create(e,t,i,n,s,r,o){return new l(e,t,i,n,s,r,o)}getCurrentTrades(){return this._currentTrades}getTrades(e,t,i){const n=this._handleTradeAdd.bind(this,t||s.noop),o=this._handleTradeRemove.bind(this,i||s.noop);return this._currentEpic=e,this._tradesAddedCallback=n,this._tradesRemovedCallback=o,this.clearTrades(),this._store.getTrades().then((e=>{this._store&&(n(e),this._store.on(r.ServiceEvents.ADDED,n,this),this._store.on(r.ServiceEvents.REMOVED,o,this))}),(e=>a.default.error(e)))}reload(){this._store.update()}clearTrades(){this._store&&(this._store.off(r.ServiceEvents.ADDED,this._tradesAddedCallback,this),this._store.off(r.ServiceEvents.REMOVED,this._tradesRemovedCallback,this)),this._currentTrades&&this._currentTrades.forEach(this._removeSubs,this),this._currentTrades=[]}destroy(){this.clearTrades(),this._store&&(this._store.off(r.ServiceEvents.ADDED,this._tradesAddedCallback,this),this._store.off(r.ServiceEvents.REMOVED,this._tradesRemovedCallback,this),this._isSDKOwned&&this._store.destroy());for(const e of["_currentEpic","_tradesAddedCallback","_tradesRemovedCallback","_store","_isTradeShown","_subscriptionGroupInstrument","_subscriptionGroupTrade"])delete this[e]}_handleTradeAdd(e,t){t.filter(this._isTradeShown,this).forEach((t=>{this._addSubs(t),this._currentTrades.push(t),e(t)}))}_handleTradeRemove(e,t){t.filter(this._isTradeShown,this).forEach((t=>{this._removeSubs(t),(0,o.remove)(this._currentTrades,t),e(t.dealId)}))}_addSubs(e){var t;this._subscriptionGroupTrade.add(e),this._subscriptionGroupInstrument.add(e.market),null===(t=this._rdwSubscriptionGroup)||void 0===t||t.add(e)}_removeSubs(e){var t;this._subscriptionGroupTrade.remove(e),this._subscriptionGroupInstrument.remove(e.market),null===(t=this._rdwSubscriptionGroup)||void 0===t||t.remove(e)}_isTradeShown(e){var t;return void 0===this._currentEpic||(null===(t=null==e?void 0:e.market)||void 0===t?void 0:t.epic)===this._currentEpic}}t.default=l},91238:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getDealRejectedTrackingPayload=t.getDealConfirmedTrackingPayload=t.getDealDeleteTrackingPayload=t.getDealUpdateTrackingPayload=t.getDealSubmitTrackingPayload=void 0;const n=i(69600),s=i(58703),r=i(33106),o=e=>e&&e.map((({key:e})=>e)).join(",")||null;t.getDealSubmitTrackingPayload=(e,t)=>({event_action:s.GA_DEAL_ACTION.SUBMIT,ui_ticket_type:t,deal_reference:e.dealReference,submitted_direction:e.direction,submitted_execution_type:(0,r.executionTypeForTicket)(e),submitted_deal_size:e.size,validation_submission_error:null});t.getDealUpdateTrackingPayload=(e,t,i)=>({event_action:s.GA_DEAL_ACTION.UPDATE,ui_ticket_type:t,deal_reference:e.dealReference,submitted_direction:null,submitted_execution_type:null,submitted_deal_size:null,validation_submission_error:o(i)});t.getDealDeleteTrackingPayload=(e,t)=>({event_action:s.GA_DEAL_ACTION.DELETE,ui_ticket_type:t,deal_reference:e.dealReference,submitted_direction:null,submitted_execution_type:null,submitted_deal_size:null,validation_submission_error:null});const a=({content:{reportData:{orderLevel:{value:e}}}})=>"string"==typeof e?+e.split(" ")[0]:e;t.getDealConfirmedTrackingPayload=(e,t)=>{if(t.content.reportType===n.TransactionReportType.PARTIAL_FILL)return{event_action:s.GA_DEAL_ACTION.PARTIALLY_FILLED,deal_reference:e.dealReference,deal_result:`${t.content.status}_${t.content.reportType}`,resulting_price_level:a(t),rejection_reason:null};{let i;switch(t.content.reportType){case n.TransactionReportType.CANCELED:case n.TransactionReportType.EDIT:case n.TransactionReportType.FULL_FILL:i=`${t.content.status}_${t.content.reportType}`}return{event_action:s.GA_DEAL_ACTION.CONFIRMED,deal_reference:e.dealReference,deal_result:i,resulting_price_level:a(t),rejection_reason:null}}};t.getDealRejectedTrackingPayload=(e,t)=>({event_action:s.GA_DEAL_ACTION.REJECTED,deal_reference:e.dealReference,deal_result:t.content.reportType,resulting_price_level:null,rejection_reason:t.content.reportData.rejectionMessage.rejectionReason})},84210:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=i(10094),s=i(61346);class r{constructor(e){this._instrument=e}static create(e){return new r(e)}getClosestPositionLimitLevel(e,t){const i=e?this._getSellPrice():this._getBuyPrice();return this.getClosestLimitLevel(i,t)}getClosestLimitLevel(e,t){return(0,n.roundToDecimalPlaces)(e,this._instrument.decimalPlacesFactor)*t}getClosestStopLevel(e,t,i,n,s,r=!1){const o=this.getMinimumStopDistance(i);return o?this._getStopLevelForRules(e,t,i,o,null,n,r)*s:void 0}getMinimumStopDistance(e){const t=this._getDealingRules();return e===s.Stop.Type.GUARANTEED&&Object.prototype.hasOwnProperty.call(t,"minControlledRiskStopDistance")?t.minControlledRiskStopDistance:e!==s.Stop.Type.GUARANTEED&&Object.prototype.hasOwnProperty.call(t,"minNormalStopOrLimitDistance")?t.minNormalStopOrLimitDistance:void 0}getMaximumStopDistance(){return this._getDealingRules().maxStopOrLimitDistance}getFarthestStopLevel(e,t,i,n,s,r,o=!1){const a=this.getMaximumStopDistance();return a?this._getStopLevelForRules(e,t,i,a,n,s,o)*r:void 0}_getStopLevelForRules(e,t,i,n,r,o,a=!1){const l=t?-1:1,d=this._instrument.scalingFactor;e=e||(!a===t?this._getSellPrice():this._getBuyPrice());const u=s.Stop.getMinimumDistanceRuleInPoints(s.Level.Type.ABSOLUTE,i,n,e,d,o);if(r){const t=r/d;u.value=Math.min(u.value,Math.abs(t-e))}return e+l*u.value}_getDealingRules(){return this._instrument.dealingRules}_getSellPrice(){return this._instrument.bid}_getBuyPrice(){return this._instrument.offer}}t.default=r},7517:(e,t,i)=>{"use strict";var n=i(15215).Bx;Object.defineProperty(t,"__esModule",{value:!0}),t.getRejectionFromTicket=t.getMarketUnitTranslationKey=t.formatProfitLoss=t.formatMargin=t.hasMargin=t.formatNotionalValue=t.formatPremium=t.hasPremium=t.formatCommission=t.hasCommission=void 0;const s=i(24995),r=i(10094),o=n(i(57568)),a=i(69600),l=i(96001),d=n(i(12488));t.hasCommission=function(e){return!(!e.market.commissionsRateType&&!(0,r.isNumber)(e.market.commissionsCharge))},t.formatCommission=function(e){var t;if(null===e.commission)return"";const i=e.market.commissionsCurrencyIsoCode||(null===(t=e.currency)||void 0===t?void 0:t.name);return i?(0,s.formatCurrency)(e.commission,i,!0):""},t.hasPremium=function(e){return e.isOption()},t.formatPremium=function(e){return null!==e.position&&null!==e.position.positionValue&&e.position.currency?(0,s.formatCurrency)(e.position.positionValue,e.position.currency.name,!0):""},t.formatNotionalValue=function(e){return null!==e.notionalValue&&e.currency?(0,s.formatCurrency)(e.notionalValue,e.currency.name,!1):""},t.hasMargin=function(e,t){return!(e.market.isKnockout&&t.isOption())},t.formatMargin=function(e){return(0,s.formatCurrency)(Math.abs(e.amount),e.currencyCode,!0)},t.formatProfitLoss=function(e,t){return(t>0?"+":"")+(0,s.formatCurrency)(t,e,!0)},t.getMarketUnitTranslationKey=function(e){switch(e){case o.default.POINTS:return"pts";case o.default.SHARES:return"shares";case o.default.CONTRACTS:default:return"contracts"}},t.getRejectionFromTicket=function(e){const t=e.errors.snapshot();return["direction","expiryTime","limit","marketStatus","marketDealable","size","stop","triggerLevel"].reduce(((e,i)=>{const n=t[i];if(n){let t=n.key;t===a.ErrorReason.INVALID_LEVEL&&(t=`${t}_${i.toUpperCase()}`),e.data.push({key:t,value:(0,l.merge)(d.default.get(t),n.data)})}return e}),{isError:!0,data:[]})}},91859:(e,t,i)=>{"use strict";var n=i(15215).Bx;Object.defineProperty(t,"__esModule",{value:!0});const s=i(54859),r=n(i(33298)),o=n(i(14277)),a=n(i(78415)),l=n(i(74952)),d=n(i(8270)),u=n(i(64334)),c=n(i(96814)),h=n(i(59437)),p=(0,s.recursiveFreeze)({absoluteoverlay:{presentationControllers:{dealingDialogsPresentationController:{type:r.default,presentationModel:{type:o.default}}},renderers:{closePositionDialogRenderer:{type:a.default,group:"dialog",presentationController:"dealingDialogsPresentationController",properties:{dialogClass:l.default}},positionAlreadyClosedDialogRenderer:{type:a.default,group:"dialog",presentationController:"dealingDialogsPresentationController",properties:{dialogClass:u.default}},spreadTableDialogRenderer:{type:a.default,group:"dialog",presentationController:"dealingDialogsPresentationController",properties:{dialogClass:d.default}},spreadTableWithLadderDialogRenderer:{type:a.default,group:"dialog",presentationController:"dealingDialogsPresentationController",properties:{dialogClass:c.default}},recentTradesDialogRenderer:{type:a.default,group:"dialog",presentationController:"dealingDialogsPresentationController",properties:{dialogClass:h.default}}}}});t.default=p},9960:(e,t,i)=>{"use strict";const n=(0,i(15215).Bx)(i(91859));t.A=class{constructor(e){this._eventBus=e}init(){this._eventBus.subscribe("chart/view/ready",this._handleChartViewReady,this),this._eventBus.subscribe("chart/view/destroyed",this._handleChartViewDestroyed,this),this._eventBus.publish("subViews/config",["dealing-dialogs",n.default]),this._chartView&&this._chartView.addRenderersBySubviewConfig(n.default)}destroy(){this._eventBus.publish("subViews/removeConfig",["dealing-dialogs"]),this._chartView&&(this._chartView.removeRenderersBySubviewConfig(n.default),this._handleChartViewDestroyed()),this._eventBus.unsubscribeAll(this)}_handleChartViewReady(e){this._chartView=e}_handleChartViewDestroyed(){delete this._chartView}}},92354:(e,t,i)=>{"use strict";var n=i(15215).ut,s=i(15215).Bx;Object.defineProperty(t,"__esModule",{value:!0});const r=i(74848),o=i(96540),a=n(i(92568)),l=s(i(55137)),d=s(i(9772)),u=s(i(23117)),c=i(33734),h=s(i(35111)),p=s(i(74327)),_=s(i(32850)),g=s(i(12488)),f=i(45592),m=a.default.div((({theme:{color:e,size:t}})=>a.css`
   display: flex;
   flex-direction: column;
   background: ${e.priceLadder.background.value};
   padding: ${t.spacers[1].value};
   border-radius: ${t.priceLadder.borderRadius.value};
   gap: ${t.spacers[1].value};
`)),v=a.default.div((({theme:{size:e},$bottomSpacing:t})=>a.css`
   display: flex;
   flex-direction: row;
   justify-content: space-between;
   align-items: center;

   ${!t&&a.css`
      border-bottom: 1px solid #E2ECED;
      padding-bottom: ${e.spacers[1].value};
   `};
`)),A=a.default.div`
   display: flex;
   flex-direction: row;
   align-items: center;
   gap: 4px;
   margin-right: 4px;
`,E=a.default.p`
   color: grey;
`,T=a.default.p`
   //TODO CHAR-4426 overwrite for WTP globals
   margin: 0;
`,I=(0,a.default)(c.ReactComponent)((({$flipDown:e,theme:{color:t}})=>a.css`
   cursor: pointer;
   transform-origin: center;
   transform: translate(-3px) rotate(${e?-90:90}deg);
   fill: ${t.priceLadder.chevron.value};
`));t.default=({ladderData:e,highlightedColumn:t,showSpreadTableWithLadderDialog:i,showRecentTradesDialog:n,ticket:s})=>{const[a,c]=(0,o.useState)(!(0,f.hasRDW)(s)),{size:C,spread:O}=e[t],M=(0,o.useContext)(u.default);return(0,r.jsxs)(m,{children:[(0,r.jsxs)(v,Object.assign({$bottomSpacing:a},{children:[(0,r.jsxs)(A,{children:[(0,r.jsx)(l.default,Object.assign({handleShowMobileDialog:i},{children:(0,r.jsx)(p.default,{})})),(0,r.jsx)(T,{children:g.default.get("spreadTable")}),M||a?null:(0,r.jsxs)(E,{children:[g.default.get("upTo")," ",C," = ",g.default.get("spread")," ",O]})]}),(0,r.jsx)(I,{$flipDown:a,onClick:()=>{c((e=>!e))}})]})),a?(0,r.jsx)(d.default,{ladderData:e,highlightedColumn:t}):null,(0,r.jsx)(h.default,Object.assign({ticket:s,handleShowMobileDialog:n},{children:(0,r.jsx)(_.default,{})}))]})}},9772:(e,t,i)=>{"use strict";var n=i(15215).ut,s=i(15215).Bx;Object.defineProperty(t,"__esModule",{value:!0});const r=i(74848),o=n(i(92568)),a=s(i(12488)),l=o.default.tr((({theme:{color:e}})=>o.css`
   &:first-child {
      border-bottom: 1px solid ${e.table.border.value};
   }
`)),d=({heading:e,highlightedColumn:t,ladderData:i,dataKey:n,lastEntrySuffix:s})=>(0,r.jsxs)(l,{children:[(0,r.jsx)(h,{children:e}),i.map(((e,o)=>(0,r.jsx)(c,Object.assign({$highlighted:o===t,$length:i.length},{children:o===i.length-1?`${e[n]}${s||""}`:e[n]}),`ladder-row-${n}-${o}`)))]}),u=o.default.table((({theme:{color:e,size:t}})=>o.css`
   background: ${e.priceLadder.background.value};
   border: 1px solid ${e.table.border.value};
   border-radius: ${t.priceLadder.borderRadius.value};
   overflow-x: auto;
   font-size: 13px;
`)),c=o.default.td((({$highlighted:e,$length:t,theme:{color:i,size:n}})=>o.css`
   padding: ${n.spacers[1].value};
   width: calc(100% / (${t} + 1));

   &:not(:first-child) {
      text-align: center;
   }

   ${e&&o.css`
      background: ${i.table.highlightedCell.value};
      font-weight: bold;
   `};
`)),h=o.default.th((({theme:{color:e,size:t}})=>o.css`
   position: sticky;
   left: 0;
   padding: ${t.spacers[1].value};
   background: ${e.table.headerCell.value};
   border-right: 1px solid ${e.table.border.value};
   //TODO CHAR-4426 overwrite for WTP globals
   font-weight: normal;
`));t.default=({ladderData:e,highlightedColumn:t})=>(0,r.jsx)(u,{children:(0,r.jsxs)("tbody",{children:[(0,r.jsx)(d,{heading:a.default.get("upTo"),highlightedColumn:t,ladderData:e,dataKey:"size",lastEntrySuffix:"+"}),(0,r.jsx)(d,{heading:a.default.get("spread"),highlightedColumn:t,ladderData:e,dataKey:"spread"})]})})},61034:(e,t,i)=>{"use strict";var n=i(15215).Bx,s=i(15215).ut;Object.defineProperty(t,"__esModule",{value:!0});const r=i(74848),o=i(96540),a=n(i(48320)),l=n(i(92354)),d=s(i(92568)),u=n(i(89022)),c=n(i(84811)),h=i(69600),p=n(i(65854)),_=n(i(23117)),g=i(16941),f=n(i(8270)),m=n(i(59437)),v=i(74952),A=(0,d.default)(a.default)((({$preferMobileControls:e})=>d.css`
   ${!e&&d.css`
      input {
         width: 80px;
         text-align: left;
      }
   `}
`)),E=d.default.div`
   display: flex;
   flex-direction: row;
   justify-content: space-between;
`,T=d.default.div((({$isProfit:e,theme:{color:t}})=>d.css`
   color: ${e?t.dialog.closePosition.positiveMarginColour.value:t.dialog.closePosition.negativeMarginColour.value};
`)),I=d.default.div`
   display: flex;
   flex-direction: column;
   font-size: 12px;
`,C=d.default.div`
   font-style: italic;
   display: flex;
   flex-direction: row;
   justify-content: space-between;
`,O=d.default.div((({theme:{color:e}})=>d.css`
   display: flex;
   flex-direction: column;
   background-color: ${e.dialog.closePosition.iccDisplayBackground.value};
   margin-top: 16px;
   padding: 4px;
   font-size: 13px;
`)),M=d.default.a((({$enabled:e,theme:{color:t}})=>d.css`
   color: ${t.dialog.closePosition.iccDisplayLinkDisabled.value};
   cursor: inherit;

   ${e&&d.css`
      color: ${t.dialog.closePosition.iccDisplayLink.value};
      cursor: pointer;

      &:hover {
         text-decoration: underline;
      }
   `}
`)),y=d.default.div`
   font-size: 12px;
`,b=d.default.a((({$enabled:e,theme:{color:t,size:i}})=>d.css`

   color: ${t.dialog.closePosition.iccDisplayLinkDisabled.value};
   cursor: inherit;
   margin-left: ${i.spacers[1].value};
   text-decoration: none;

   ${e&&d.css`
      color: ${t.dialog.closePosition.iccDisplayLink.value};
      cursor: pointer;

      &:hover {
         text-decoration: underline;
      }
   `}
`)),S=d.default.form((({theme:{size:e}})=>d.css`
   display: flex;
   flex-direction: column;
   justify-content: space-between;
   gap: ${e.spacers[2].value};
   overflow-y: auto;
`)),D=({model:e,controller:t})=>{const i=e.stateFor(D)===g.DialogState.PENDING,n=()=>t.onIccLinkClick(p.default.getInstance().getFlags().showIndicativeCosts2?h.IccInfoKeysEnum.CLOSE:h.IccInfoKeysEnum.TOTAL_CLOSING,null),s=(0,o.useContext)(_.default);return(0,r.jsxs)(S,Object.assign({onSubmit:i=>{i.preventDefault(),(0,v.isTradeSubmittable)(e)&&t.closePosition()},id:"closePositionForm","data-testid":"closePositionForm"},{children:[(0,r.jsx)(A,{$preferMobileControls:s,disabled:i,handleChange:e=>t.updateClosePositionDialogSizeValue(e),label:e.buySellLabel,labelPosition:"left",value:e.dealSize,step:e.sizePrecision,min:0,max:e.maxSize,required:!0}),e.isPriceInSizeEnabled&&e.isSizeAboveMinimumTier?(0,r.jsx)(l.default,{ladderData:e.ladder,highlightedColumn:e.highlightedColumn,showSpreadTableWithLadderDialog:()=>t.openDialog(f.default),showRecentTradesDialog:()=>t.openDialog(m.default),ticket:e.ticket}):null,(0,r.jsxs)(E,{children:[(0,r.jsx)("span",{children:u.default.get("closingPlTitle")}),(0,r.jsx)(T,Object.assign({$isProfit:e.isProfit},{children:e.formattedProfitLoss}))]}),e.hasMargin?(0,r.jsxs)(I,{children:[(0,r.jsxs)(E,{children:[(0,r.jsx)("span",{children:u.default.get("marginReturnedTitle")}),(0,r.jsx)("span",Object.assign({className:"marginValue"},{children:e.marginValue}))]}),e.hasDifferentCurrencies?(0,r.jsxs)(C,Object.assign({className:"optionalMarginInfo"},{children:[(0,r.jsx)("span",{children:e.differentCurrenciesText}),(0,r.jsx)("span",Object.assign({className:"marginTradeCurrencyValue"},{children:e.differentCurrenciesValue}))]})):null]}):null,e.hasCommission?(0,r.jsxs)(E,Object.assign({className:"commission"},{children:[(0,r.jsx)("span",Object.assign({className:"commissionTitle"},{children:e.commissionTitle})),(0,r.jsx)("span",Object.assign({className:"commissionValue"},{children:e.commissionValue}))]})):null,e.hasPremium?(0,r.jsxs)(E,Object.assign({className:"premium"},{children:[(0,r.jsx)("span",{children:e.premiumLabel}),(0,r.jsx)("span",Object.assign({className:"premiumValue"},{children:e.premiumValue}))]})):null,e.iccSGEnabled?(0,r.jsx)(y,{children:(0,r.jsxs)("span",{children:[c.default.get("iccSGLinkTitle"),(0,r.jsx)(b,Object.assign({$enabled:e.iccLinkEnabled,onClick:n},{children:c.default.get("iccSGLink")}))]})}):null,e.iccEnabled?(0,r.jsxs)(O,{children:[(0,r.jsxs)(E,{children:[(0,r.jsx)("span",{children:c.default.get("totalIndicativeClosingCostsTitle")}),(0,r.jsx)("span",{children:e.iccValue})]}),(0,r.jsx)(M,Object.assign({$enabled:e.iccLinkEnabled,onClick:n},{children:c.default.get("indicativeCostsDetailsLink")}))]}):null]}))};t.default=D},32850:(e,t,i)=>{"use strict";var n=i(15215).Bx;Object.defineProperty(t,"__esModule",{value:!0});const s=i(74848),r=n(i(12488));t.default=()=>(0,s.jsx)("span",{children:r.default.get("recentTradesTooltip")})},74327:(e,t,i)=>{"use strict";var n=i(15215).Bx;Object.defineProperty(t,"__esModule",{value:!0});const s=i(74848),r=n(i(12488));t.default=()=>(0,s.jsx)("span",{children:r.default.get("spreadTableTooltip")})},48391:(e,t,i)=>{"use strict";var n=i(15215).Bx;Object.defineProperty(t,"__esModule",{value:!0});const s=i(74848),r=n(i(9772)),o=n(i(12488));t.default=({ladderData:e,highlightedColumn:t})=>(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("span",{children:o.default.get("spreadTableTooltip")}),(0,s.jsx)(r.default,{ladderData:e,highlightedColumn:t})]})},74952:(e,t,i)=>{"use strict";var n=i(15215).Bx;Object.defineProperty(t,"__esModule",{value:!0}),t.isTradeSubmittable=void 0;const s=i(74848),r=n(i(92568)),o=n(i(21371)),a=n(i(61034)),l=n(i(48185)),d=n(i(12488)),u=i(16941),c=(0,r.default)(o.default)`
   &, > .body, > .body > form {
      overflow-x: visible;
      overflow-y: visible;
   }
`;t.isTradeSubmittable=function(e){return e.isSubmittable&&(e.stateFor(h)===u.DialogState.OPEN||e.stateFor(h)===u.DialogState.FAILED)};const h=({model:e,controller:t})=>{const i=()=>t.closeDialog(h),n=e.stateFor(h)===u.DialogState.PENDING;return(0,s.jsxs)(c,Object.assign({handleClose:i,title:d.default.get("closePosition")},{children:[(0,s.jsx)(a.default,{model:e,controller:t}),(0,s.jsx)(l.default,{submitButtonDetails:{label:d.default.get("ticketSubmit"),loading:n},cancelButtonDetails:{label:d.default.get("ticketCancel"),onClick:i},isCommit:!0,formFor:"closePositionForm"})]}))};t.default=h},64334:(e,t,i)=>{"use strict";var n=i(15215).Bx;Object.defineProperty(t,"__esModule",{value:!0});const s=i(74848),r=n(i(21371)),o=n(i(48185)),a=n(i(12488)),l=({controller:e})=>{const t=()=>e.closeDialog(l);return(0,s.jsxs)(r.default,Object.assign({handleClose:t,title:a.default.get("closePosition")},{children:[(0,s.jsx)("span",{children:a.default.get("openPositionRemoved")}),(0,s.jsx)(o.default,{submitButtonDetails:{label:a.default.get("closeConfirmationButton"),onClick:t}})]}))};t.default=l},59437:(e,t,i)=>{"use strict";var n=i(15215).Bx;Object.defineProperty(t,"__esModule",{value:!0});const s=i(74848),r=n(i(21371)),o=n(i(32850)),a=n(i(12488)),l=({controller:e})=>(0,s.jsx)(r.default,Object.assign({handleClose:()=>e.closeDialog(l),title:a.default.get("recentTrades")},{children:(0,s.jsx)(o.default,{})}));t.default=l},8270:(e,t,i)=>{"use strict";var n=i(15215).Bx;Object.defineProperty(t,"__esModule",{value:!0});const s=i(74848),r=n(i(21371)),o=n(i(74327)),a=n(i(12488)),l=({controller:e})=>(0,s.jsx)(r.default,Object.assign({handleClose:()=>e.closeDialog(l),title:a.default.get("spreadTable")},{children:(0,s.jsx)(o.default,{})}));t.default=l},96814:(e,t,i)=>{"use strict";var n=i(15215).Bx;Object.defineProperty(t,"__esModule",{value:!0});const s=i(74848),r=n(i(12488)),o=n(i(21371)),a=n(i(48391)),l=({model:e,controller:t})=>(0,s.jsx)(o.default,Object.assign({handleClose:()=>t.closeDialog(l),title:r.default.get("spreadTable")},{children:(0,s.jsx)(a.default,{ladderData:e.ladder,highlightedColumn:e.highlightedColumn})}));t.default=l},9964:(e,t,i)=>{"use strict";var n=i(15215).ut;Object.defineProperty(t,"__esModule",{value:!0}),t.RECENT_TRADES_TIMER_BARS_COUNT=void 0;const s=i(74848),r=n(i(92568));t.RECENT_TRADES_TIMER_BARS_COUNT=10;const o=r.default.div`
   display: flex;
   flex-direction: row;
`,a=r.default.div((({theme:{color:e},$active:t})=>r.css`
   background: ${e.priceLadder.recentTrades.timer.value};
   width: 3px;
   border-radius: 1px;
   margin-right: 2px;

   ${!t&&r.css`
      opacity: .3;
   `};
`)),l=r.default.div((({theme:{color:e,size:t}})=>r.css`
   background: ${e.priceLadder.recentTrades.timer.value};
   border-radius: ${t.priceLadder.borderRadius.value};
   color: ${e.text.inverted.value};
   font-weight: bold;
   padding: 2px 4px;

   /* The counter space is expected to handle both two and three characters;
    * in order to avoid the bars shifting, we enforce the fixed layout by applying
    * the minimum width of three digits altogether (two numbers and an "s").
    */
   min-width: 3ch;
   text-align: right;
`));t.default=({timeRemainingSecs:e})=>{const i=Math.floor((30-e)/30*t.RECENT_TRADES_TIMER_BARS_COUNT)-1;return(0,s.jsxs)(o,{children:[Array.from({length:t.RECENT_TRADES_TIMER_BARS_COUNT}).map(((e,t)=>(0,s.jsx)(a,{$active:t>i},`timer-bar-${t}`))),(0,s.jsxs)(l,{children:[e,"s"]})]})}},35111:(e,t,i)=>{"use strict";var n=i(15215).ut,s=i(15215).Bx;Object.defineProperty(t,"__esModule",{value:!0});const r=i(74848),o=n(i(92568)),a=s(i(9964)),l=s(i(12488)),d=s(i(55137)),u=i(45592),c=o.default.span((({theme:{color:e}})=>o.css`
  color: ${e.priceLadder.recentTrades.size.text.value};
`)),h=o.default.div`
   display: flex;
   flex-direction: row;
   justify-content: space-between;
   align-items: center;
   font-size: 11px;
`,p=o.default.div((({theme:{size:e}})=>o.css`
   display: flex;
   flex-direction: row;
   margin-right: ${e.spacers[2].value};
   align-items: center;
   gap: 4px;
`)),_=o.default.p((({theme:{color:e}})=>o.css`
   color: ${e.priceLadder.recentTrades.text.value};
   margin: 0; // TODO CHAR-4426 override for WTP global style
   line-height: normal; // TODO CHAR-4426 override for WTP global style
`));t.default=({ticket:e,handleShowMobileDialog:t,children:i})=>{const{color:n}=(0,o.useTheme)(),[s,g]=(0,u.useRDW)(e);return s>0?(0,r.jsxs)(h,{children:[(0,r.jsxs)(p,{children:[(0,r.jsx)(d.default,Object.assign({iconFill:n.priceLadder.recentTrades.text.value,handleShowMobileDialog:t},{children:i})),(0,r.jsxs)(_,{children:[l.default.get("recentTrades")," ",(0,r.jsx)(c,{children:g<0?g:`+${g}`})]})]}),(0,r.jsx)(a.default,{timeRemainingSecs:s})]}):null}},45592:(e,t,i)=>{"use strict";var n=i(15215).Bx;Object.defineProperty(t,"__esModule",{value:!0}),t.useRDW=t.hasRDW=t.SIZE=t.COUNTDOWN=void 0;const s=i(96540),r=i(61346),o=n(i(289));t.COUNTDOWN="COUNTDOWN",t.SIZE="SIZE";class a extends o.default{get secondsLeft(){var e;return"number"==typeof(null===(e=this._expiry)||void 0===e?void 0:e.expiryFurthest)?Math.max(Math.ceil((this._expiry.expiryFurthest-Date.now()-100)/1e3),0):0}get size(){var e;return(null===(e=this._expiry)||void 0===e?void 0:e.size)||0}get _msUntilTick(){var e;if("number"!=typeof(null===(e=this._expiry)||void 0===e?void 0:e.expiryFurthest)||this._expiry.expiryFurthest-Date.now()<=0)return null;let t=(this._expiry.expiryFurthest-Date.now())%1e3;return t<=0&&(t+=1e3),t}constructor(e){super(),this._expiry=e,e.on("change",this._handleChange,this),this._tick=this._tick.bind(this),this._tick()}static create(e){return new a(e)}_handleChange(e){e.includes("expiryFurthest")&&this._tick(),e.includes("size")&&this.fire(t.SIZE,this.size)}_tick(){this._nextTimeoutID&&(clearTimeout(this._nextTimeoutID),delete this._nextTimeoutID),this.fire(t.COUNTDOWN,this.secondsLeft);const e=this._msUntilTick;e&&(this._nextTimeoutID=setTimeout(this._tick,e))}destroy(){var e;clearTimeout(this._nextTimeoutID),delete this._nextTimeoutID,null===(e=this._expiry)||void 0===e||e.off("change",this._handleChange,this),delete this._expiry,super.destroy()}}t.default=a,t.hasRDW=function(e){const t=e.isBuy?e.rdwOffer:e.isSell?e.rdwBid:null;return!(!t||!t.expiryFurthest)&&t.expiryFurthest-Date.now()>0},t.useRDW=function(e){const[i,n]=(0,s.useState)(0),[o,l]=(0,s.useState)(0);return(0,s.useEffect)((()=>{let i=null;const s=Object.freeze({}),o=o=>{(o.includes("direction")||e.isBuy&&o.includes("rdwOffer")||e.isSell&&o.includes("rdwBid"))&&(null==i||i.destroy(),i=function(e){switch(!0){case e.isBuy&&e.rdwOffer instanceof r.Model:return a.create(e.rdwOffer);case e.isSell&&e.rdwBid instanceof r.Model:return a.create(e.rdwBid);default:return null}}(e),i?(i.on(t.COUNTDOWN,n,s),i.on(t.SIZE,l,s),n(i.secondsLeft),l(i.size)):(n(0),l(0)))};return o(["direction"]),e.on("change",o,s),()=>e.off("change",o,s)}),[e]),[i,o]}},33298:(e,t,i)=>{"use strict";var n=i(15215).Bx;Object.defineProperty(t,"__esModule",{value:!0});const s=n(i(74952)),r=n(i(55986)),o=n(i(64334)),a=n(i(23463)),l=i(91238),d=n(i(59437)),u=n(i(96814)),c=n(i(77209)),h=i(16941),p=n(i(18346));class _ extends p.default{startListening(e,t){return super.startListening(e,t),this._dealingModule=this._moduleLoader.getModule("dealingCommon"),this._eventBus.subscribe("dealing/positions/close-dialog/open",this._handleCloseDialogOpen,this),this._eventBus.subscribe("dealing/ticket/recent-trades",this._handleRecentTradesDialogOpen,this),this._eventBus.subscribe("dealing/ticket/spread-table",this._handleSpreadTableDialogOpen,this),this._eventBus.subscribe("dealing/market/change",this._handleMarketChanged,this),this}stopListening(){var e;null===(e=this._positionCollection)||void 0===e||e.un(null,this),delete this._positionCollection,super.stopListening()}_openForPosition(e){var t,i,n;return(null===(t=null==this?void 0:this._presentationModel)||void 0===t?void 0:t.stateFor(s.default))!==h.DialogState.CLOSED&&(null===(n=null===(i=null==this?void 0:this._presentationModel)||void 0===i?void 0:i.ticket)||void 0===n?void 0:n.position)===e}_handleMarketChanged(){var e;this._presentationModel.isPriceInSizeEnabled=this._dealingModule.isPriceInSizeEnabled(),null===(e=this._positionCollection)||void 0===e||e.un(null,this),this._positionCollection=this._dealingModule.getOpenPositions(),this._positionCollection.on(r.default.REMOVE,this._handlePositionRemoval,this)}_handlePositionRemoval(e){if(this._openForPosition(e.trade)){const e=this._presentationModel.stateFor(s.default)!==h.DialogState.PENDING;this.closeAllDialogs(),e&&this.openDialog(o.default)}}_handleClosureResolution(e){this._openForPosition(e)&&(this._eventBus.publish(c.default.TRADE_CLOSED_FROM_DIALOG),this.closeDialog(s.default),this.closeDialog(o.default))}_handleClosureRejection(e){this._openForPosition(e)&&this._presentationModel.setStateFor(s.default,h.DialogState.FAILED)}_handleCloseDialogOpen(e){this._presentationModel.ticket=e.closeTicket,this._presentationModel.dealSize=e.getDealSize(),this.openDialog(s.default)}_handleRecentTradesDialogOpen(e){this._presentationModel.ticket=e,this.openDialog(d.default)}_handleSpreadTableDialogOpen(e){this._presentationModel.ticket=e,this.openDialog(u.default)}closeDialog(e){e===s.default&&this._presentationModel.stateFor(s.default)!==h.DialogState.CLOSED&&this._eventBus.publish("dealing/positions/closeDialog/closed"),super.closeDialog(e)}updateClosePositionDialogSizeValue(e){this._presentationModel.dealSize=e}onIccLinkClick(e,t){var i;(null===(i=this._presentationModel.ticket)||void 0===i?void 0:i.indicativeCostsAndCharges)&&this._eventBus.publish("api/out/chart/requestIndicativeCostsModal",[this._presentationModel.ticket.indicativeCostsAndCharges,e,t])}closePosition(){var e;if(!(null===(e=this._presentationModel)||void 0===e?void 0:e.ticket))throw new Error("Attempting to close the position without position or close ticket");const t=this._presentationModel.ticket.position;this._presentationModel.setStateFor(s.default,h.DialogState.PENDING),this._dealingModule.submitTicket(this._presentationModel.ticket,(()=>this._handleClosureResolution(t)),(()=>this._handleClosureRejection(t))),this._eventBus.publish("tracker/ga",[(0,l.getDealSubmitTrackingPayload)(this._presentationModel.ticket,a.default.CHARTS_CONFIRM_CLOSE_TICKET)])}}t.default=_},14277:(e,t,i)=>{"use strict";var n=i(15215).Bx,s=i(15215).ut;Object.defineProperty(t,"__esModule",{value:!0});const r=n(i(84811)),o=i(10094),a=i(69600),l=i(7517),d=n(i(17660)),u=n(i(65854)),c=i(24995),h=n(i(89022)),p=s(i(16941));class _ extends p.default{get ticket(){return this._ticket}set ticket(e){var t;null===(t=this._ticket)||void 0===t||t.off("change",this._handleTicketChange,this),e?(this._ticket=e,this._ticket.on("change",this._handleTicketChange,this)):delete this._ticket}_handleTicketChange(e){["profitLoss","margin","commission","isSubmittable","indicativeCostsAndCharges","indicativeCostsAndChargesState"].some((t=>e.includes(t)))&&this.fire(p.DIALOG_UPDATED)}setStateFor(e,t){super.setStateFor(e,t),Array.from(this.dialogState.values()).some((e=>e!==p.DialogState.CLOSED))||(this.ticket=null)}get buySellLabel(){return this._ticket.isBuy?r.default.get("labelBuy"):r.default.get("labelSell")}get dealSize(){return this._ticket.size}set dealSize(e){this._ticket.set("size",e)}get sizePrecision(){return(0,o.roundFloatingPointError)(Math.pow(10,-this._ticket.dealSizeDecimalPlaces))}get maxSize(){return this._ticket.maxSize}get ladder(){return this._ticket.ladder}get highlightedColumn(){return Number.isFinite(this._ticket.tierOrdinal)?this._ticket.tierOrdinal-1:0}get isSizeAboveMinimumTier(){return this._ticket.isSizeAboveMinimumTier}get isProfit(){return this._ticket.profitLoss>0}get formattedProfitLoss(){return 0===this._ticket.size?"":(0,l.formatProfitLoss)(this._ticket.currency.name,this._ticket.profitLoss)}get hasMargin(){return(0,l.hasMargin)(this._ticket,d.default.getInstance())}get marginValue(){return this._ticket.margin?(0,l.formatMargin)(this._ticket.margin.depositDeltaAccountCcy):""}get hasDifferentCurrencies(){var e;return!!(null===(e=this._ticket)||void 0===e?void 0:e.margin)&&this._ticket.margin.depositDeltaAccountCcy.currencyCode!==this._ticket.margin.depositDeltaTradeCcy.currencyCode}get differentCurrenciesText(){return`(${this._ticket.margin.depositDeltaTradeCcy.currencyCode})`}get differentCurrenciesValue(){return(0,l.formatMargin)(this._ticket.margin.depositDeltaTradeCcy)}get hasCommission(){return(0,l.hasCommission)(this._ticket)}get commissionTitle(){return null!==this._ticket.commission?h.default.get("commissionTitle"):h.default.get("commissionApplied")}get commissionValue(){return(0,l.formatCommission)(this._ticket)}get hasPremium(){return(0,l.hasPremium)(d.default.getInstance())}get premiumLabel(){return this._ticket.market.isKnockout?h.default.get("premiumReceived"):"buy"===this._ticket.direction?h.default.get("premium"):h.default.get("premiumReceived")}get premiumValue(){return(0,l.formatPremium)(this._ticket)}get iccEnabled(){return u.default.getInstance().getFlags().showIndicativeCosts||!1}get iccSGEnabled(){return u.default.getInstance().getFlags().showIndicativeCostsSG||!1}get iccValue(){const e=this._ticket.indicativeCostsAndCharges;return e?(0,c.formatCurrency)(e.close[a.IccInfoKeysEnum.TOTAL_CLOSING]||e.close,e.currencyCodeISO):""}get iccLinkEnabled(){return!!this._ticket.indicativeCostsAndCharges&&this._ticket.indicativeCostsAndChargesState===a.ICC_API_STATES.FETCHED}get isSubmittable(){return this._ticket.isSubmittable}destroy(){super.destroy(),this.ticket=null}}t.default=_},82634:(e,t,i)=>{"use strict";var n=i(15215).Bx;const s=i(43130),r=n(i(13365)),o=n(i(50951)),a=n(i(19552)),l=n(i(17660)),d=n(i(10520));t.A=class{constructor(e,t,i,n,s,r,o,a){this._eventBus=e,this._moduleLoader=i}init(){this._eventBus.subscribe("chart/view/ready",this._handleChartViewReady,this),this._eventBus.subscribe("contextmenu/triggered",this._handleContextMenuTriggered,this)}destroy(){this._eventBus.publish("menu/item/switch",["desktopDealing",!1]),this._eventBus.unsubscribeAll(this),this._hoverZone&&this._hoverZone.destroy()}_handleContextMenuTriggered(){const e=this._getLastHoveredLevel("prices");this._eventBus.publish("menu/dealing/level",[e]),this._eventBus.publish("menu/item/switch",["desktopDealing",null!==e])}_getLastHoveredLevel(e){if(this._lastHover&&this._isMenuAvailable()){const t=this._chartView.getLevel(this._lastHover,e);if(t)return(0,s.floor)(t,this._market.getDecimalPlaces()).toFixed(this._market.getDecimalPlaces())}return null}_handleChartViewReady(e,t){this._chartView=e,this._captureZoneManager=t,this._hoverZone=this._captureZoneManager.createZone(r.default,o.default.PROPAGATE_ALL,d.default.MAX),this._hoverZone.setHoverHandler({move:this._hover,moveContext:this}),this._eventBus.subscribe("dealing/market/change",this._onMarketChange,this)}_onMarketChange(e){this._market=e}_hover(e){this._lastHover=e}_isMenuAvailable(){const e=this._moduleLoader.getModule("dealingPositionsAndOrders");return!(!e||!e.isEnabled())&&this._market.canCreateWorkingOrder()&&!this._market.isOption()&&!this._market.isKnockout()&&!l.default.getInstance().isMTF()&&!l.default.getInstance().isOption()&&l.default.getInstance().getSiteType()!==a.default.PHYSICAL}}},55847:(e,t,i)=>{"use strict";var n=i(15215).Bx;const s=n(i(48202)),r=i(96001),o=n(i(50870)),a=n(i(66250)),l=n(i(2274));class d extends a.default{constructor(e,t,i,n,s,r,o){super(e,t,i,n,o),this.id="desktopDealing",this._eventBus.subscribe("menu/dealing/level",this._updateLevel,this)}static create(e,t,i,n,s,r,o){return new d(e,t,i,n,s,r,o)}_updateLevel(e){this._level=e,this._createModel()}_createModel(){this.withModel([{label:(0,r.merge)(s.default.get("orderBuy"),['<span class="ig-menu__buy-label">',"</span>",this._level]),allowHTML:!0,actionListener:new o.default(this._buyOrder.bind(this)),data:{id:"buy-order"}},{label:(0,r.merge)(s.default.get("orderSell"),['<span class="ig-menu__sell-label">',"</span>",this._level]),allowHTML:!0,actionListener:new o.default(this._sellOrder.bind(this)),data:{id:"sell-order"}}])}_buyOrder(){this._eventBus.publish("api/out/dealing/copyToOrderTicket",[{level:this._level,direction:l.default.Term.BUY}])}_sellOrder(){this._eventBus.publish("api/out/dealing/copyToOrderTicket",[{level:this._level,direction:l.default.Term.SELL}])}}t.A=d},59136:(e,t,i)=>{"use strict";var n=i(15215).Bx;Object.defineProperty(t,"__esModule",{value:!0}),t.DesktopSubViewsConfig=t.MobileSubViewsConfig=void 0;const s=i(43130),r=n(i(44455)),o=n(i(62320)),a=i(54859),l=n(i(97798)),d=n(i(81577)),u=n(i(8887)),c=n(i(54404)),h=n(i(60268)),p=(0,a.recursiveFreeze)({prices:{presentationControllers:{positionsPresenter:{type:d.default,presentationModel:{type:c.default}}},renderers:{minimumOrderBanding:{type:o.default,group:"studyOverlay",position:"studyOverlay",presentationController:"positionsPresenter",properties:{relativeWeighting:900}},maximumStopOrderBanding:{type:r.default,group:"studyOverlay",position:"studyOverlay",presentationController:"positionsPresenter",properties:{relativeWeighting:900}},positions:{type:u.default,group:"studyOverlay",position:"studyOverlay",presentationController:"positionsPresenter",properties:{relativeWeighting:998}},positionSelectedPriceLevel:{type:l.default,group:"yAxis",position:"yAxis",presentationController:"positionsPresenter",properties:{relativeWeighting:2}}}},htmloverlay:{renderers:{pendingIccMessageBox:{type:h.default,group:"body",presentationController:"commonUi",properties:{relativeWeighting:1}}}}});t.default=p,t.MobileSubViewsConfig=(0,s.merge)({},p,{prices:(0,s.set)({},"presentationControllers.positionsPresenter.properties",{indicativeCostsForcedConfirms:!0})}),t.DesktopSubViewsConfig=p},99842:(e,t,i)=>{"use strict";const n=(0,i(15215).Bx)(i(59136)),s=i(58167);t.A=class{constructor(e,t){this._eventBus=e,this._options=t}init(){this._eventBus.subscribe("chart/view/ready",this._handleChartViewReady,this),this._eventBus.subscribe("chart/view/destroyed",this._handleChartViewDestroyed,this),this._eventBus.publish("subViews/config",["dealing-positions-and-orders",this._options.subViews||n.default]),this._chartView&&this._chartView.addRenderersBySubviewConfig(this._options.subViews||n.default)}destroy(){this._eventBus.publish("subViews/removeConfig",["dealing-positions-and-orders"]),this._chartView&&(this._chartView.removeRenderersBySubviewConfig(this._options.subViews||n.default),this._handleChartViewDestroyed()),this._eventBus.unsubscribeAll(this)}isEnabled(){return!!this._chartView}getEnhancedDragging(){return this._options.enhancedDragging}getPriceWidth(){return this._options.priceWidth}setFadeOut(e){this._eventBus.publish("dealing/positions/fade-out",[e])}_handleChartViewReady(e){this._chartView=e;for(const t of[s.VisibilityMenuOption.POSITIONS,s.VisibilityMenuOption.WORKING_ORDERS])this._eventBus.publish("menu/item/switch",[t,!0])}_handleChartViewDestroyed(){for(const e of[s.VisibilityMenuOption.POSITIONS,s.VisibilityMenuOption.WORKING_ORDERS])this._eventBus.publish("menu/item/switch",[e,!1]);delete this._chartView}}},33943:(e,t,i)=>{"use strict";var n=i(15215).Bx;Object.defineProperty(t,"__esModule",{value:!0}),t.CHANGED=void 0;const s=n(i(8247)),r=n(i(289)),o=i(69600);t.CHANGED="AttachedOrderChanged";class a extends r.default{constructor(e,t,i,n){super(),this.type=t,this.scalingFactor=i,this.subType=n,this.setPriceLevel(e)}static create(e,t,i,n){return new a(e,t,i,n)}static flipType(e){switch(e){case s.default.LIMIT:return s.default.STOP;case s.default.STOP:return s.default.LIMIT;default:return null}}getScaledPrice(){return this.priceLevel?this.priceLevel/this.scalingFactor:null}setPriceLevel(e){this.priceLevel!==e&&(this.priceLevel=e,this.fire(t.CHANGED))}isStop(){return this.type===s.default.STOP}isKnockout(){return this.type===s.default.KNOCKOUT}isNonGuaranteed(){return!this.subType||this.subType===o.StopType.NON_GUARANTEED}}t.default=a},8247:(e,t)=>{"use strict";var i;Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.LIMIT="Limit",e.STOP="Stop",e.KNOCKOUT="Knockout",e.STRIKE_LINE="StrikeLine"}(i||(i={})),t.default=i},20750:(e,t,i)=>{"use strict";var n=i(15215).Bx;Object.defineProperty(t,"__esModule",{value:!0});const s=i(43130),r=n(i(33943)),o=n(i(88045)),a=n(i(98572)),l=n(i(71037)),d=n(i(289)),u=n(i(98886)),c=n(i(53344)),h=i(97454),p=n(i(8247));class _ extends d.default{constructor(e){super(),this.dealId=e.dealId,this.openLevel=c.default.parseOpenLevelForOrder(e),this.trade=e,this.trade.on("change",this._handleOrderChanges,this),this._handleStopOrderChanges=this._handleStopOrLimitOrderChanges.bind(this,"stop","_stopOrder"),this._handleLimitOrderChanges=this._handleStopOrLimitOrderChanges.bind(this,"limit","_limitOrder")}static create(e){return new _(e)}addStopOrLimit(e){const t=c.default.parseOpenLevelForOrder(e);switch(e.orderType){case a.default.STOP_ORDER:this.stop=r.default.create(t,p.default.STOP,this.trade.market.scalingFactor),this._stopOrder=e,this._stopOrder.on("change",this._handleStopOrderChanges,this),this.fire(l.default.ATTACHED_ORDER_ADDED,this.stop);break;case a.default.LIMIT_ORDER:this.limit=r.default.create(t,p.default.LIMIT,this.trade.market.scalingFactor),this._limitOrder=e,this._limitOrder.on("change",this._handleLimitOrderChanges,this),this.fire(l.default.ATTACHED_ORDER_ADDED,this.limit);break;default:o.default.error("Unknown order type.")}}removeStopOrLimit(e){let t;this._stopOrder&&this._stopOrder.dealId===e?(this._stopOrder.off("change",this._handleStopOrderChanges,this),this._stopOrder=null,t=this.stop,this.stop=null,this.fire(l.default.ATTACHED_ORDER_REMOVED,t)):this._limitOrder&&this._limitOrder.dealId===e&&(this._limitOrder.off("change",this._handleLimitOrderChanges,this),this._limitOrder=null,t=this.limit,this.limit=null,this.fire(l.default.ATTACHED_ORDER_REMOVED,t))}getCreatedDate(){return this.trade.createdDate}getScaledPrice(){return this.getOpenLevel()/this.getMarketScalingFactor()}getStopType(){var e;return(null===(e=this.stop)||void 0===e?void 0:e.subType)||null}isAggregated(){return!1}canClose(){return this.trade.canClose()}canEdit(){return this.trade.canEdit()}getDealId(){return this.trade.dealId}getLimit(){return this.limit}getStop(){return this.stop}getOrderType(){return this.trade.orderType}getOpenLevel(){return this.openLevel}getCurrencyCodeISO(){return this.trade.currencyCodeISO}getDealSize(){return this.trade.dealSize}getDirection(){return this.trade.direction}getEpic(){return this.trade.epic}getLotSize(){return(0,s.get)(this.trade,"market.lotSize")}getMarketScalingFactor(){return(0,s.get)(this.trade,"market.scalingFactor")}getMarketDecimalPlacesFactor(){return(0,s.get)(this.trade,"market.decimalPlacesFactor")}getMinStopDistance(){return{unit:"pts",value:0}}hasGuaranteedStop(){return!1}isBuy(){return"+"===this.trade.direction}isControlledRisk(){return(0,s.get)(this.trade,"market.controlledRisk")}get isStopAllowed(){return!1}get isLimitAllowed(){return!1}getGoodTill(){return this.trade.goodTill}getFormattedGoodTill(e){return(0,h.formatGoodTill)(this.getGoodTill(),e)}getTimeInForce(){return u.default.UNKNOWN}cancelledBy(){return this.trade.cancelledBy}getKnockout(){return null}isConfirmable(){return!1}getInstrument(){return this.trade.market}getStopLevel(){var e;return(null===(e=this.stop)||void 0===e?void 0:e.priceLevel)||null}getLimitLevel(){var e;return(null===(e=this.limit)||void 0===e?void 0:e.priceLevel)||null}createCloseTicket(){return this._module.createDeleteOrderTicket(this.trade)}createEditTicket(){return(0,h.normaliseGoodTill)(this),this._module.createEditOrderTicket(this.trade)}submitTicket(e,t){this._module.submitTicket(e,t,t)}withModule(e){return this._module=e,this}destroy(){this.trade.off("change",this._handleOrderChanges,this),this._stopOrder&&this._stopOrder.off("change",this._handleStopOrderChanges,this),this._limitOrder&&this._limitOrder.off("change",this._handleLimitOrderChanges,this),super.destroy()}_handleOrderChanges(e){((0,s.includes)(e,"dealSize")||(0,s.includes)(e,"goodTill"))&&this.fire(l.default.CHANGE,this),(0,s.includes)(e,"openLevel")&&this._orderUpdateHandler()}_orderUpdateHandler(){const e=this.openLevel;this.openLevel=c.default.parseOpenLevelForOrder(this.trade),this.fire(l.default.CHANGE,this),this.fire(l.default.PRICE_LEVEL_CHANGED,this.openLevel,e)}_handleStopOrLimitOrderChanges(e,t,i){if((0,s.includes)(i,"openLevel")){const i=c.default.parseOpenLevelForOrder(this[t]);this[e].setPriceLevel(i),this.fire(l.default.CHANGE,this)}}}t.default=_},45600:(e,t,i)=>{"use strict";var n=i(15215).Bx;Object.defineProperty(t,"__esModule",{value:!0});const s=i(43130),r=i(41943),o=i(61346),a=n(i(33943)),l=n(i(8247)),d=n(i(71037)),u=n(i(24493));function c(e,t){return(0,s.isFinite)(e)?e*(t||1):null}class h extends u.default{constructor(e){super(e),this._knockout=null,this.openLevel=c(e.openLevel,this.getMarketScalingFactor()),e.stopLevel&&(this.stop=a.default.create(c(e.stopLevel,this.getMarketScalingFactor()),l.default.STOP,this.getMarketScalingFactor(),e.stopType),this.stop.trailingStopDistance=e.stopTrailingDistance||null,this.stop.trailingStopIncrement=e.stopStep||null),e.limitLevel&&(this.limit=a.default.create(c(e.limitLevel,this.getMarketScalingFactor()),l.default.LIMIT,this.getMarketScalingFactor())),e.knockoutLevel&&(this._knockout=a.default.create(c(e.knockoutLevel,this.getMarketScalingFactor()),l.default.KNOCKOUT,this.getMarketScalingFactor()))}static create(e){return new h(e)}isAggregated(){return!!this.trade.positions}isConfirmable(){return!0}getProfitAndLoss(){return this.trade.profitLoss}getClosePrice(){return this.trade.latest}getDisplayOpenLevel(){return this.trade.epicOpenLevel}getKnockout(){return this._knockout}getKnockoutLevel(){var e;return(null===(e=this._knockout)||void 0===e?void 0:e.priceLevel)||null}createCloseTicket(){return this._module.createClosePositionTicket(this.trade)}createEditTicket(){return this._module.createEditPositionTicket(this.trade)}_handleChanges(e){if((0,r.contains)(e,"openLevel")){const e=this.openLevel;this.openLevel=c(this.trade.openLevel,this.getMarketScalingFactor()),this.fire(d.default.PRICE_LEVEL_CHANGED,this.openLevel,e)}((0,r.contains)(e,"dealSize")||(0,r.contains)(e,"profitLoss"))&&this.fire(d.default.CHANGE,this),super._handleChanges(e)}_attachedOrderHandler(e){const t=e.toLowerCase(),i=this.trade[(0,s.camelCase)(`${t} level`)],n=(e===l.default.STOP?this.trade.stopLevelType:this.trade.limitType)||o.Level.Type.ABSOLUTE,r=this.trade.stopType,u=this.trade.stopStep,h=this.trade.stopTrailingDistance;let p=null;if(n!==o.Level.Type.ABSOLUTE)throw new Error(`Unknown attached order level type! ${n}`);if(p=c(i,this.getMarketScalingFactor()),!this[t]&&p)this[t]=a.default.create(p,e,this.getMarketScalingFactor()),e===l.default.STOP&&(this[t].subType=r,this[t].trailingStopDistance=h||null,this[t].trailingStopIncrement=u||null),this.fire(d.default.ATTACHED_ORDER_ADDED,this[t]);else if(this[t]&&!p){const e=this[t];this[t]=null,this.fire(d.default.ATTACHED_ORDER_REMOVED,e)}else this[t]&&(this[t].setPriceLevel(p),e===l.default.STOP&&(this[t].subType=r,this[t].trailingStopDistance=h||null,this[t].trailingStopIncrement=u||null),this.fire(d.default.ATTACHED_ORDER_CHANGED,this[t]))}}t.default=h},87697:(e,t)=>{"use strict";var i;Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.ADDED="positionAdded",e.DELETED="positionDeleted",e.SELECTED="positionSelected",e.DESELECTED="positionDeselected",e.EDIT_START="positionEditStart",e.EDITED="positionEdited",e.EDIT_TICKET_SUBMIT_START="positionEditTicketSubmitStart",e.INVALID="attachedOrderPlacedAtInvalidLevel",e.TRADE_CONFIRMS_REQUIRED_CHANGED="tradeConfirmsRequired"}(i||(i={})),t.default=i},98886:(e,t)=>{"use strict";var i;Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.DAY="0",e.GTC="1",e.EXECUTE_AND_ELIMINATE="2",e.FILL_OR_KILL="4",e.DAY_ALL_SESSIONS="X",e.UNKNOWN="UNKNOWN"}(i||(i={})),t.default=i},24493:(e,t,i)=>{"use strict";var n=i(15215).Bx;Object.defineProperty(t,"__esModule",{value:!0});const s=i(43130),r=i(41943),o=n(i(8247)),a=n(i(71037)),l=n(i(289)),d=i(69600),u=n(i(65854));class c extends l.default{constructor(e){super(),this.limit=null,this.stop=null,this.trade=e,this.trade.on("change",this._handleChanges,this),this.trade.market.on("change",this._handleMarketChanges,this),this.dealId=e.dealId,this.isDMA=e.isDMA}withModule(e){return this._module=e,this}getInstrument(){return this.trade.market}canClose(){return this.trade.canClose()}canEdit(){return this.trade.canEdit()}getDealId(){return this.dealId}getLimit(){return this.limit}getStop(){return this.stop}getOpenLevel(){return this.openLevel}getCurrencySymbol(){return this.trade.currencySymbol}getCurrencyCodeISO(){return this.trade.currencyCodeISO}getDealSize(){return this.trade.dealSize}getDirection(){return this.trade.direction}getEpic(){return this.trade.epic}getLotSize(){return(0,s.get)(this.trade,"market.lotSize")}getMarketScalingFactor(){return(0,s.get)(this.trade,"market.scalingFactor")}getMarketDecimalPlacesFactor(){return(0,s.get)(this.trade,"market.decimalPlacesFactor")}isBuy(){return"+"===this.trade.direction}isControlledRisk(){return(0,s.get)(this.trade,"market.controlledRisk")}getMinStopDistance(){const e=this.hasGuaranteedStop()||this.isDMA?"minControlledRiskStopDistance":"minNormalStopOrLimitDistance";return(0,s.get)(this,`trade.market.dealingRules.${e}`)}get isStopAllowed(){return u.default.getInstance().getFlags().limitsOnOptions?this.trade.market.stopAllowed:this.trade.market.stopAllowed&&this.trade.market.limitAllowed}get isLimitAllowed(){return u.default.getInstance().getFlags().limitsOnOptions?this.trade.market.limitAllowed:this.isStopAllowed}getScaledPrice(){return this.getOpenLevel()/this.getMarketScalingFactor()}getStopLevel(){var e;return(null===(e=this.stop)||void 0===e?void 0:e.priceLevel)||null}getLimitLevel(){var e;return(null===(e=this.limit)||void 0===e?void 0:e.priceLevel)||null}getCreatedDate(){return this.trade.createdDate}submitTicket(e,t){this._module.submitTicket(e,t,t)}_handleChanges(e){(0,r.contains)(e,"limitLevel")&&this._attachedOrderHandler(o.default.LIMIT),(0,r.contains)(e,"stopLevel")&&this._attachedOrderHandler(o.default.STOP),(0,r.contains)(e,"stopType")&&this._updateStopType(),(0,r.contains)(e,"stopTrailingDistance")&&this._updateTrailingStopDistance(),(0,r.contains)(e,"stopStep")&&this._updateTrailingStopStep()}_handleMarketChanges(e){(0,r.contains)(e,"dealingRules")&&this.fire(a.default.DEALING_RULES_LOADED)}_updateTrailingStopDistance(){this.stop&&(this.stop.trailingStopDistance=this.trade.stopTrailingDistance||null)}_updateTrailingStopStep(){this.stop&&(this.stop.trailingStopIncrement=this.trade.stopStep||null)}_updateStopType(){this.stop&&(this.stop.subType=this.trade.stopType)}hasGuaranteedStop(){return!!this.stop&&this.stop.subType===d.StopType.GUARANTEED}getStopType(){var e;return(null===(e=this.stop)||void 0===e?void 0:e.subType)||null}destroy(){this.trade&&(this.trade.off("change",this._handleChanges,this),this.trade.market&&this.trade.market.off("change",this._handleMarketChanges,this)),super.destroy()}}t.default=c},97454:(e,t,i)=>{"use strict";var n=i(15215).Bx;Object.defineProperty(t,"__esModule",{value:!0}),t.normaliseGoodTill=t.formatGoodTill=void 0;const s=i(41943),r=n(i(33943)),o=n(i(8247)),a=i(96285),l=n(i(12488)),d=i(61346),u=n(i(71037)),c=n(i(24493)),h=n(i(53344)),p=n(i(98886)),_="dd/MM/yy HH:mm";function g(e,t){try{const i=a.DateTime.fromFormat(e,l.default.get("good-till-received-format"));if(i.isValid)return i.toFormat(t)}catch(i){}return e}function f(e){"GTC"!==e.getGoodTill()&&l.default.get("good-till-received-format")!==_&&e.trade.set("normalisedGoodTill",e.getFormattedGoodTill(_))}t.formatGoodTill=g,t.normaliseGoodTill=f;class m extends c.default{constructor(e){if(super(e),this.openLevel=h.default.parseLevel(e.openLevel,e.market.scalingFactor),e.stopLevel){const t=d.Level.distanceFrom(e.stopLevel,e.stopLevelType,this.getOpenLevel(),this.getMarketDecimalPlacesFactor());this.stop=r.default.create(h.default.calculateStopLevel(this.getOpenLevel(),t,this.getDirection()),o.default.STOP,this.getMarketScalingFactor(),e.stopType),this.stop.trailingStopDistance=e.stopTrailingDistance||null,this.stop.trailingStopIncrement=e.stopStep||null}if(e.limitLevel){const t=d.Level.distanceFrom(e.limitLevel,e.limitType,this.getOpenLevel(),this.getMarketDecimalPlacesFactor());this.limit=r.default.create(h.default.calculateLimitLevel(this.getOpenLevel(),t,this.getDirection()),o.default.LIMIT,this.getMarketScalingFactor())}}static create(e){return new m(e)}isAggregated(){return!1}isConfirmable(){return!1}getGoodTill(){return this.trade.goodTill}getFormattedGoodTill(e){return g(this.getGoodTill(),e)}getTimeInForce(){return this.isDMA?this.trade.dmaTimeInForce:p.default.UNKNOWN}cancelledBy(){return this.trade.cancelledBy}getOrderType(){return this.trade.orderType}createCloseTicket(){return this._module.createDeleteOrderTicket(this.trade)}createEditTicket(){return f(this),this._module.createEditOrderTicket(this.trade)}_handleChanges(e){((0,s.contains)(e,"dealSize")||(0,s.contains)(e,"goodTill"))&&this.fire(u.default.CHANGE,this),(0,s.contains)(e,"openLevel")&&this._orderUpdateHandler(),super._handleChanges(e)}_orderUpdateHandler(){const e=this.openLevel;let t,i,n,s;this.openLevel=h.default.parseLevel(this.trade.openLevel,this.trade.market.scalingFactor),this.stop&&(n=d.Level.distanceFrom(this.trade.stopLevel,this.trade.stopLevelType,this.getOpenLevel(),this.getMarketDecimalPlacesFactor()),s=h.default.calculateStopLevel(this.getOpenLevel(),n,this.getDirection()),this.stop.setPriceLevel(s)),this.limit&&(t=d.Level.distanceFrom(this.trade.limitLevel,this.trade.limitType,this.getOpenLevel(),this.getMarketDecimalPlacesFactor()),i=h.default.calculateLimitLevel(this.getOpenLevel(),t,this.getDirection()),this.limit.setPriceLevel(i)),this.fire(u.default.CHANGE,this),this.fire(u.default.PRICE_LEVEL_CHANGED,this.openLevel,e)}_attachedOrderHandler(e){const t=e.toLowerCase(),i=this.trade.stopType,n=this.trade.stopStep||null,s=this.trade.stopTrailingDistance||null,a=this.trade[`${t}Level`],l=e===o.default.STOP?h.default.calculateStopLevel(this.getOpenLevel(),a,this.getDirection()):h.default.calculateLimitLevel(this.getOpenLevel(),a,this.getDirection());let d;!this[t]&&l?(this[t]=r.default.create(l,e,this.getMarketScalingFactor()),e===o.default.STOP&&(this[t].subType=i,this[t].trailingStopDistance=s,this[t].trailingStopIncrement=n),this.fire(u.default.ATTACHED_ORDER_ADDED,this[t])):this[t]&&!a?(d=this[t],this[t]=null,this.fire(u.default.ATTACHED_ORDER_REMOVED,d)):(this[t].setPriceLevel(l),e===o.default.STOP&&(this[t].subType=i,this[t].trailingStopDistance=s,this[t].trailingStopIncrement=n),this.fire(u.default.ATTACHED_ORDER_CHANGED,this[t]))}}t.default=m},45690:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseRejection=t.parseConfirmation=void 0,t.parseConfirmation=function(e){const t=[];return t.push({key:e.orderLevel.label,value:e.orderLevel.value}),t.push({key:e.quantity.label,value:e.quantity.value}),e.limitLevel&&t.push({key:e.limitLevel.label,value:e.limitLevel.value}),e.stopLevel&&t.push({key:e.stopLevel.label,value:e.stopLevel.value}),e.limitDistance&&t.push({key:e.limitDistance.label,value:e.limitDistance.value}),e.stopDistance&&t.push({key:e.stopDistance.label,value:e.stopDistance.value}),t.push({key:e.status.label,value:e.status.value}),{isError:!1,data:t}},t.parseRejection=function(e){return{isError:!0,data:[{key:e.rejectionMessage.title,value:e.rejectionMessage.body}]}}},49026:(e,t,i)=>{"use strict";var n=i(15215).Bx;Object.defineProperty(t,"__esModule",{value:!0});const s=n(i(47292)),r=n(i(86605)),o=n(i(37897)),a=n(i(12488)),l=n(i(77209)),d=n(i(23625));class u extends s.default{constructor(e,t,i,n,s,r){super(e,t,i),this._positionViewModel=n,this._positionsPresenter=s,this._ticket=r,this._deselectOnClose=!0,this._presentationModel=this._positionViewModel.presentationModel}submitTrade(){this.disable(),this._deselectOnClose=!1,this._eventBus.subscribe(l.default.TRADE_TIMEOUT,this._handleFinished,this,{once:!0}),this._eventBus.subscribe(l.default.TRADE_CONFIRMED,this._handleFinished,this,{once:!0}),this._eventBus.subscribe(l.default.TRADE_REJECTED,this.destroy,this,{once:!0}),this._eventBus.subscribe(l.default.TRADE_INVALID,this._handleTransactionInvalid,this,{once:!0}),this._eventBus.publish("messagebox/ignore/validation",[!0])}done(){this.fire(s.default.DONE)}destroy(){this._eventBus.publish("messagebox/ignore/validation",[!1]),this._presentationModel.un(null,this),this._deselectOnClose&&this._positionsPresenter.deselectPosition(),this._errorDialog&&(this._errorDialog.destroy(),delete this._errorDialog),super.destroy()}_handleFinished(){this._presentationModel.deselect(),this.destroy()}_handleTransactionInvalid(e){this._errorDialog=d.default.create(this._eventBus,this._captureZoneManager,this._taskManager,this._getDialogTitle(),e),this.content.updateOnChange(),this.hide(),this._errorDialog.on(s.default.CLOSE,this._handleErrorDismissed,this,{once:!0}),this._errorDialog.on(s.default.DONE,this._handleErrorDismissed,this,{once:!0}),this._errorDialog.initDom(this.dContainer)}_handleErrorDismissed(){delete this._errorDialog,this._deselectOnClose=!0,this.enable(),this.show()}_handlePositionDeselected(e){const t=e===this._positionViewModel,i=!this._presentationModel.positions.find((t=>t===e));t&&!i&&this.close()}_handlePositionDeleted(e){e===this._positionViewModel&&(this._presentationModel.un(null,this),delete this._positionViewModel,this.content.destroy(),this.content=o.default.create(this,this._eventBus,this._captureZoneManager).setText(e.getDealRemovedLabel()).setType("error").withDoneButton(a.default.get("closeConfirmationButton"),this.destroy.bind(this)).initDom(this._dDialogContainer.select(".body")),this._handleVisibleWindowMoved(r.default.RESIZED,r.default.RESIZED))}}t.default=u},2747:(e,t,i)=>{"use strict";var n=i(15215).Bx;Object.defineProperty(t,"__esModule",{value:!0});const s=n(i(47292)),r=n(i(16687)),o=n(i(16802)),a=n(i(85077)),l=n(i(10520)),d=i(69600),u=n(i(84811)),c=n(i(31940)),h=i(24995);class p extends r.default{constructor(e,t,i,n,s,r,o){super(e,t,i,n),this._positionViewModel=s,this._positionsPresenter=r,this._ticket=o,this._triggerUpdateTicketKeys=[],this._controls=[],this._iccDisplays=[],this._ticket.on("change",this._onTicketChange,this)}show(){return this._controls.forEach((e=>e.show())),super.show()}enable(){return this._controls.forEach((e=>e.enable())),this._doneButton.hideSpinner(),super.enable()}disable(){return this._controls.forEach((e=>e.disable())),this._doneButton.showSpinner(),super.disable()}hide(){return this._controls.forEach((e=>e.hide())),this._dButtonContainer.classed("hidden",!0),super.hide()}updateCaptureZones(){this._controls.forEach((e=>e.updateCaptureZones())),super.updateCaptureZones()}destroy(){this._eventBus.unsubscribeAll(this),this._positionViewModel.un(null,this),this._ticket&&(this._ticket.off("change",this._onTicketChange,this),delete this._ticket),this._dButtonContainer&&(this._controls.forEach((e=>e.destroy())),delete this._controls,this._iccDisplays.forEach((({dContainer:e})=>e.remove())),delete this._iccDisplays),super.destroy()}_update(){const e=this._ticket.indicativeCostsAndCharges;this._iccDisplays.forEach((({dValue:t,dLink:i,iccInfoKey:n})=>{this._ticket.indicativeCostsAndChargesState===d.ICC_API_STATES.FETCHED&&e&&e[n]?(t.text((0,h.formatCurrency)(e[n][d.IccInfoKeysEnum.TOTAL_CLOSING]||e[n],e.currencyCodeISO)),i.classed("disabled",!1)):(t.text("-"),i.classed("disabled",!0))}))}_onTicketChange(e){[...this._triggerUpdateTicketKeys,"indicativeCostsAndCharges","indicativeCostsAndChargesState"].some((t=>e.includes(t)))&&this._update()}_createContent(){this._controls=this._createControls(this.dContainer),this._createDoneButton(),this._createCancelButton(),this._update()}_createDoneButton(){this._doneButton=(new o.default).initDom(this._getButtonContainer(),"dialogButton doneButton").setText(this._positionViewModel.getEditTicketLabel()).startListening(this._captureZoneManager,this._dialog.done.bind(this._dialog),l.default.DIALOG_CONTROLS),this._dialog.on(s.default.DONE,this._handleDoneButtonPressed,this)}_createControl(e,t,i,n,s){const r=new a.default(e,this._captureZoneManager,n,l.default.DIALOG_CONTROLS).classed(s,!0).withLabel(t);return i&&r.setValue(i),r.onChange(this.updateOnChange.bind(this)),r}_createIccDisplay(e){const t=this.dContainer.append("div").classed("icc-display-container",!0).html(c.default);t.select(".js-icc-title").text(u.default.get(this._iccTitleI18nKey));const i=t.select(".js-icc-link").text(u.default.get("indicativeCostsDetailsLink")).on("click",((t,i,n)=>{n[i].classList.contains("disabled")||this._handleClickIccLink(e)})),n={dContainer:t,dValue:t.select(".js-icc-value"),dLink:i,iccInfoKey:e};return this._iccDisplays.push(n),n}_handleDoneButtonPressed(){this.updateOnChange(),this._dialog.submitTrade()}_getIccModalLevel(e){return null}_handleClickIccLink(e){this._ticket.indicativeCostsAndCharges&&this._eventBus.publish("api/out/chart/requestIndicativeCostsModal",[this._ticket.indicativeCostsAndCharges,e,this._getIccModalLevel(e)])}}t.default=p},43800:(e,t,i)=>{"use strict";var n=i(15215).Bx;const s=n(i(64586)),r=n(i(6801)),o=n(i(65854)),a=n(i(12488)),l=n(i(14243)),d=n(i(16687)),u=n(i(10520));class c extends d.default{constructor(e,t,i,n,s){super(e,t,i,n),this._settingsManager=s}static create(e,t,i,n,s){return new c(e,t,i,n,s)}_createContent(){[this._dRowTradeConfirms,this._checkboxTradeConfirms]=this._createToggle("tradeConfirms"),o.default.getInstance().getFlags().showIndicativeCosts&&(this._checkboxTradeConfirms.disable(),this._dRowTradeConfirms.classed("disabled",!0),this._dTradeConfirmsForcedMessage=this.dContainer.append("div"),this._dTradeConfirmsForcedMessage.node().innerHTML=a.default.get("indicativeForcedDialogContent"))}_createToggle(e){const t=s.default.create(),i=this.dContainer.append("label").classed("setting-row",!0),n=this._settingsManager.getGlobalSettings(l.default.DEALING).getDeviceSpecificSettings();return t.initDom(i,"checkbox").setId(e).setSelected(!!n[e]),t.startListening(this._captureZoneManager,this._handleCheckboxTap.bind(this,t),u.default.DIALOG_CONTROLS),i.appendElement(document.createTextNode(a.default.get(`${e}Label`))),[i,t]}enable(){var e;return o.default.getInstance().getFlags().showIndicativeCosts||null===(e=this._checkboxTradeConfirms)||void 0===e||e.enable(),super.enable()}disable(){var e;return o.default.getInstance().getFlags().showIndicativeCosts||null===(e=this._checkboxTradeConfirms)||void 0===e||e.disable(),super.enable()}show(){var e,t;return null===(e=this._checkboxTradeConfirms)||void 0===e||e.setHidden(!1),o.default.getInstance().getFlags().showIndicativeCosts&&(null===(t=this._checkboxTradeConfirms)||void 0===t||t.disable()),super.show()}hide(){var e;return null===(e=this._checkboxTradeConfirms)||void 0===e||e.setHidden(!0),super.hide()}updateCaptureZones(){var e;null===(e=this._checkboxTradeConfirms)||void 0===e||e.updateCaptureZone(this._dRowTradeConfirms),super.updateCaptureZones()}_handleCheckboxTap(e,t){if("tradeConfirms"!==t)throw new Error(`Dealing setting ${t} not handled yet`);return e.isSelected()?(this._warningDialog=r.default.create(this._eventBus,this._captureZoneManager,this._taskManager,t,(i=>{var n;i&&this._toggleCheckbox(e,t,!1),null===(n=this._warningDialog)||void 0===n||n.destroy(),delete this._warningDialog,this._dialog.show()})).initDom(this._dialog.dContainer),this._dialog.hide()):this._toggleCheckbox(e,t,!0),!1}_toggleCheckbox(e,t,i){e.setSelected(i),this._settingsManager.changeAccountSettings(l.default.DEALING,(function(e){const n=e.getDeviceSpecificSettings();return n[t]=i,e.setDeviceSpecificSettings(n),!0}),!0)}destroy(){var e,t,i;null===(e=this._warningDialog)||void 0===e||e.destroy(),null===(t=this._checkboxTradeConfirms)||void 0===t||t.destroy(),null===(i=this._dRowTradeConfirms)||void 0===i||i.remove(),delete this._warningDialog,delete this._checkboxTradeConfirms,delete this._dRowTradeConfirms,super.destroy()}}t.A=c},96609:(e,t,i)=>{"use strict";var n=i(15215).Bx;const s=n(i(12488)),r=n(i(16687)),o=n(i(17660));class a extends r.default{constructor(e,t,i,n,s){super(e,t,i,n),this._propertyName=s}static create(e,t,i,n,s){return new a(e,t,i,n,s)}_createContent(){this._dWarningContainer=this.dContainer.append("div").classed("copy",!0),this._dWarningContainer.html(s.default.get(`${this._propertyName}WarningContent${o.default.getInstance().isOption()?"Options":""}`)),this._createDoneButton(void 0,s.default.get(`${this._propertyName}WarningConfirm`)),this._createCancelButton(void 0,s.default.get("noThanks"))}destroy(){this._dWarningContainer&&(this._dWarningContainer.remove(),delete this._dWarningContainer),super.destroy()}}t.A=a},21026:(e,t,i)=>{"use strict";var n=i(15215).Bx;Object.defineProperty(t,"__esModule",{value:!0});const s=n(i(2747)),r=n(i(84811)),o=n(i(17668)),a=n(i(23463)),l=i(69600),d=n(i(65854));class u extends s.default{constructor(e,t,i,n,s,r,o){super(e,t,i,n,s,r,o),this._dialog=e,this._positionViewModel=s,this._ticket=o,this._iccTitleI18nKey="totalIndicativeClosingCostsTitle"}updateOnChange(){this._limitControl&&this._positionsPresenter.setLimitLevel(this._positionViewModel,this._limitControl.getValue()*this._positionViewModel.getMarketScalingFactor()),this._stopControl&&this._positionsPresenter.setStopLevel(this._positionViewModel,this._stopControl.getValue()*this._positionViewModel.getMarketScalingFactor()),this._positionViewModel.updateEditTicket(this._ticket)}_createControls(e){var t,i;const n=[],s=(new o.default).withStep(1).withMin(0).withPrecision(1/Math.pow(10,this._positionViewModel.getMarketDecimalPlacesFactor()));return this._positionViewModel.isStopAllowed&&(this._stopControl=this._createControl(e,r.default.get("labelStop"),(null===(t=this._positionViewModel.getStopViewModel())||void 0===t?void 0:t.getScaledPriceLevel())||null,s,"stop").withPlaceholder(r.default.get("labelLevel")),n.push(this._stopControl),d.default.getInstance().getFlags().showIndicativeCosts2&&this._createIccDisplay(l.IccInfoKeysEnum.STOP)),this._positionViewModel.isLimitAllowed&&(this._limitControl=this._createControl(e,r.default.get("labelLimit"),(null===(i=this._positionViewModel.getLimitViewModel())||void 0===i?void 0:i.getScaledPriceLevel())||null,s,"limit").withPlaceholder(r.default.get("labelLevel")),n.push(this._limitControl),d.default.getInstance().getFlags().showIndicativeCosts2&&(this._createIccDisplay(l.IccInfoKeysEnum.LIMIT),e.append("div").classed("icc-info-box",!0).append("span").text(r.default.get("iccInfoBox")))),n}_getIccModalLevel(e){return e===l.IccInfoKeysEnum.STOP?this._ticket.stopLevel:this._ticket.limitLevel}_handleDoneButtonPressed(){super._handleDoneButtonPressed(),this._positionsPresenter.handleSubmit(a.default.CHARTS_DIALOG_EDIT_TICKET,this._ticket)}}t.default=u},65640:(e,t,i)=>{"use strict";var n=i(15215).Bx;Object.defineProperty(t,"__esModule",{value:!0});const s=n(i(2747)),r=n(i(12488)),o=n(i(84811)),a=n(i(89022)),l=n(i(17668)),d=i(96001),u=n(i(23463)),c=i(69600),h=n(i(65854));class p extends s.default{constructor(e,t,i,n,s,r,o){super(e,t,i,n,s,r,o),this._dialog=e,this._positionViewModel=s,this._ticket=o,this._iccTitleI18nKey="totalIndicativeOpeningCostsTitle"}updateOnChange(){this._positionsPresenter.setPriceLevel(this._positionViewModel,this._levelControl.getValue()*this._positionViewModel.getMarketScalingFactor()),this._positionViewModel.isStopOrLimitEditable()&&(this._positionsPresenter.setStopPointsAway(this._positionViewModel,this._stopControl.getValue()),this._positionsPresenter.setLimitPointsAway(this._positionViewModel,this._limitControl.getValue())),this._positionViewModel.updateEditTicket(this._ticket)}_createControls(e){const t=1/Math.pow(10,this._positionViewModel.getMarketDecimalPlacesFactor());if(this._levelControl=this._createControl(e,r.default.get("labelOrderLevel"),this._positionViewModel.getFormattedPrice(),(new l.default).withStep(t).withMin(0).withPrecision(t),"level"),h.default.getInstance().getFlags().showIndicativeCosts2&&this._createIccDisplay(c.IccInfoKeysEnum.TOTAL_OPENING),this._positionViewModel.isStopOrLimitEditable()){const t=this._positionViewModel.model.getMinStopDistance(),i="pts"===t.unit?t.value:0,n=.1;return this._stopControl=this._createControl(e,o.default.get("labelStop")+("pts"===t.unit?` (${(0,d.merge)(a.default.get("ticketMin"),{minimum:i})})`:""),this._positionViewModel.getStopPointsAway(),(new l.default).withStep(1).withMin(i).withPrecision(n),"stop").withPlaceholder(o.default.get("labelPointsAway")),this._limitControl=this._createControl(e,o.default.get("labelLimit"),this._positionViewModel.getLimitPointsAway(),(new l.default).withStep(1).withMin(0).withPrecision(n),"limit").withPlaceholder(o.default.get("labelPointsAway")),[this._levelControl,this._stopControl,this._limitControl]}return[this._levelControl]}_handleDoneButtonPressed(){super._handleDoneButtonPressed(),this._positionsPresenter.handleSubmit(u.default.CHARTS_DIALOG_EDIT_TICKET,this._ticket)}}t.default=p},28952:(e,t,i)=>{"use strict";var n=i(15215).Bx;const s=n(i(16687)),r=n(i(12488));class o extends s.default{static create(e,t,i,n){return new o(e,t,i,n)}_createContent(){this.dContainer.append("div").classed("copy",!0).html(r.default.get("enableDealing")),this._createDoneButton(void 0,r.default.get("enable")),this._createCancelButton(void 0,r.default.get("noThanks"))}}t.A=o},62310:(e,t,i)=>{"use strict";var n=i(15215).Bx;Object.defineProperty(t,"__esModule",{value:!0});const s=n(i(70187)),r=n(i(56463)),o=n(i(64586)),a=n(i(12488)),l=n(i(10520));class d extends s.default{get dismissal(){return this._checkbox?this._checkbox.isSelected():null}static create(e,t,i,n){return new d(e,t,i,n)}initDom(e){super.initDom(e),this.dContainer.node().innerHTML=a.default.get("indicativeForcedDialogContent"),this._dLabel=this.dContainer.append("label");const t=this.dContainer.append("div").classed("actions",!0);return this._checkbox=o.default.create().initDom(this._dLabel,"checkbox").setSelected(!1).startListening(this._captureZoneManager,(function(){}),l.default.DIALOG_CONTROLS),this._dLabel.appendElement(document.createTextNode(a.default.get("indicativeForcedDialogCheckbox"))),this._doneButton=r.default.create().initDom(t,"dialogButton doneButton").setText(a.default.get("indicativeForcedDialogConfirm")).startListening(this._captureZoneManager,(()=>this._dialog.done()),l.default.DIALOG_CONTROLS),this}enable(){var e,t;return super.enable(),null===(e=this._checkbox)||void 0===e||e.enable(),null===(t=this._doneButton)||void 0===t||t.enable(),this}disable(){var e,t;return super.disable(),null===(e=this._checkbox)||void 0===e||e.disable(),null===(t=this._doneButton)||void 0===t||t.disable(),this}show(){var e,t;return super.show(),null===(e=this._checkbox)||void 0===e||e.setHidden(!1),null===(t=this._doneButton)||void 0===t||t.setHidden(!1),this}hide(){var e,t;return super.hide(),null===(e=this._checkbox)||void 0===e||e.setHidden(!0),null===(t=this._doneButton)||void 0===t||t.setHidden(!0),this}updateCaptureZones(){var e,t;super.updateCaptureZones(),null===(e=this._checkbox)||void 0===e||e.updateCaptureZone(this._dLabel),null===(t=this._doneButton)||void 0===t||t.updateCaptureZone()}destroy(){var e,t;null===(e=this._checkbox)||void 0===e||e.destroy(),null===(t=this._doneButton)||void 0===t||t.destroy(),delete this._checkbox,delete this._dLabel,delete this._doneButton,super.destroy()}}t.default=d},20840:(e,t,i)=>{"use strict";var n=i(15215).Bx;Object.defineProperty(t,"__esModule",{value:!0});const s=n(i(49026)),r=n(i(40975)),o=n(i(87697));class a extends s.default{constructor(e,t,i,n,s,r){super(e,t,i,n,s,r),this._ticket=r}destroy(){this._ticket&&(this._ticket.destroy(),delete this._ticket),super.destroy()}_getDialogTitle(){return this._positionViewModel.getEditDialogTitle()}_getDialogClasses(){return this._positionViewModel.getPositionCssClass()}_createContent(e){const t=this._positionViewModel.getEditDialogContentClass();return this._eventBus.subscribe(r.default.STREAMING_STATUS_RECONNECTED,this.close,this,{once:!0}),this._presentationModel.on(o.default.DESELECTED,this._handlePositionDeselected,this),this._presentationModel.on(o.default.DELETED,this._handlePositionDeleted,this),new t(this,this._eventBus,this._captureZoneManager,this._taskManager,this._positionViewModel,this._positionsPresenter,this._ticket).initDom(e)}}t.default=a},29545:(e,t,i)=>{"use strict";var n=i(15215).Bx;Object.defineProperty(t,"__esModule",{value:!0});const s=n(i(47292)),r=n(i(62310)),o=n(i(61568)),a=n(i(12488));class l extends s.default{constructor(e,t,i){super(e,t,i),delete this._hotkeyMap[o.default.ESCAPE]}static create(e,t,i){return new l(e,t,i)}_getDialogTitle(){return a.default.get("indicativeForcedDialogTitle")}_getDialogClasses(){return"indicativeCosts forced"}_createHeader(e){super._createHeader(e,!1)}_createContent(e){return r.default.create(this,this._eventBus,this._captureZoneManager,this._taskManager).initDom(e)}}t.default=l},62415:(e,t,i)=>{"use strict";var n=i(15215).Bx;Object.defineProperty(t,"__esModule",{value:!0});const s=n(i(1074)),r=i(73848),o=i(84039),a=n(i(84811)),l=n(i(50951)),d=n(i(10520)),u=n(i(6182)),c=i(69600),h=i(24995),p=n(i(55974)),_=!!s.default.passiveeventlisteners&&{passive:!0,capture:!1};t.default=class{constructor(e,t,i,n,s=!1,r){this._captureZoneManager=e,this._eventBus=t,this._title=i,this._iccInfoKey=n,this._hideAfterTimeout=s,this._docInteractionHandler=()=>this.hide(!1),this._latestIccInfo=null,this._latestIccState=c.ICC_API_STATES.NOT_FETCHED,this._latestAttachedOrderLevel=null,this._isShown=!1,this._id="indicativeCostsTooltip"+(r?`-${r}`:""),document.addEventListener("mousedown",this._docInteractionHandler,_),document.addEventListener("keydown",this._docInteractionHandler,_),document.addEventListener("wheel",this._docInteractionHandler,_),this._initContentDom()}set data(e){(null==e?void 0:e.state)!==this._latestIccState&&(this._latestIccState=e?e.state:c.ICC_API_STATES.NOT_FETCHED,this._latestIccInfo=null==e?void 0:e.info,this._latestAttachedOrderLevel=(null==e?void 0:e.attachedOrderLevel)||null,this._updateContent())}show(e){this._eventBus.publish("hint-tooltip/hover/enter",[{groupId:"indicativeCostsTooltips",itemId:this._id,style:"iccTooltip",message:this._content,rect:e,direction:r.TOOLTIP_APPEARANCE.ABOVE,timeout:0,persistWhileHovering:!0,lifecycle:{show:()=>{this._isShown=!0,this._updateCaptureZones(!0),this._hideAfterTimeout&&(this._hideTimeout=window.setTimeout((()=>this.hide()),2e4))},showContext:this,hide:()=>{this._isShown=!1,this._updateCaptureZones(!1),window.clearTimeout(this._hideTimeout),delete this._hideTimeout,this.data=void 0},hideContext:this}}])}hide(e=!1){this._eventBus.publish("hint-tooltip/hover/exit",[this._id,{overridePersistWhileHovering:e,exitTimeout:this._hideAfterTimeout?0:void 0}])}destroy(){var e;document.removeEventListener("mousedown",this._docInteractionHandler,_),document.removeEventListener("keydown",this._docInteractionHandler,_),document.removeEventListener("wheel",this._docInteractionHandler,_),this.hide(!0),null===(e=this._closeIcon)||void 0===e||e.destroy(),this._linkCaptureZone.destroy(),delete this._linkCaptureZone}_updateContent(){this._latestIccState===c.ICC_API_STATES.FETCHED&&this._latestIccInfo&&this._latestIccInfo[this._iccInfoKey]?(this._dValue.text((0,h.formatCurrency)(this._latestIccInfo[this._iccInfoKey].totalClosing||this._latestIccInfo[this._iccInfoKey],this._latestIccInfo.currencyCodeISO,!0)),this._dLinkContainer.classed("disabled",!1),this._dLoading.classed("hidden",!0),this._dMainContent.classed("active",!0),this._updateCaptureZones(!0)):this._latestIccState&&this._latestIccState!==c.ICC_API_STATES.NOT_FETCHED&&this._latestIccState!==c.ICC_API_STATES.FETCHING?(this._dValue.text("-"),this._dLinkContainer.classed("disabled",!0),this._dLoading.classed("hidden",!0),this._dMainContent.classed("active",!0),this._updateCaptureZones(!1)):(this._dMainContent.classed("active",!1),this._dLoading.classed("hidden",!1),this._updateCaptureZones(!1)),this._eventBus.publish("hint-tooltip/update")}_updateCaptureZones(e){e?this._linkCaptureZone.setDimensionsBasedOnAssociatedElement().show():this._linkCaptureZone&&this._linkCaptureZone.hide(),this._closeIcon&&this._closeIcon.updateCaptureZone()}_initContentDom(){const e=(0,o.select)(document.createElement("div")).classed("icc-tooltip-content",!0);if(this._hideAfterTimeout){const t=e.append("div").classed("iccCloseIconContainer",!0);this._closeIcon=new p.default(t,this._captureZoneManager,d.default.HINT_TOOLTIP,(()=>this.hide(!0))).enforceHover()}this._dLoading=e.append("span").classed("iccLoading",!0).text(a.default.get("loadingIndicativeCosts")),this._dMainContent=e.append("div").classed("iccContent",!0);const t=this._dMainContent.append("div").classed("iccInnerContent",!0),i=t.append("div").classed("iccTitleAndValue",!0);i.append("span").classed("iccTitle",!0).text(this._title),this._dValue=i.append("span").classed("iccValue",!0).text("-"),this._dLinkContainer=t.append("div").classed("iccLinkContainer",!0);const n=this._dLinkContainer.append("span").classed("iccLink",!0).text(a.default.get("indicativeCostsDetailsLink"));this._linkCaptureZone=this._captureZoneManager.createTapZone(this._handleClickLink.bind(this),d.default.HINT_TOOLTIP,0,l.default.PROPAGATE_UNHANDLED).withCursorOnHover(u.default.POINTER).withAssociatedElement(n).hide(),this._content=e.node(),this._updateContent()}_handleClickLink(){this._latestIccInfo&&this._eventBus.publish("api/out/chart/requestIndicativeCostsModal",[this._latestIccInfo,this._iccInfoKey,this._latestAttachedOrderLevel])}}},74790:(e,t,i)=>{"use strict";var n=i(15215).Bx,s=i(15215).ut;Object.defineProperty(t,"__esModule",{value:!0});const r=n(i(93691)),o=s(i(55974)),a=n(i(6182)),l=n(i(50951));class d extends r.default{constructor(e,t,i){super(e,t),this._zIndex=i,this._initCaptureZone()}_initDom(){return this._dComponent=this._dContainer.append("g").classed("hidden",!0).classed("closeStopLoss",!0),this._dComponent.append("rect").classed("closeIconBorder",!0).attrs({width:24,height:19,rx:2,ry:2}),this._closeIcon=new o.default(this._dComponent),this._closeIcon.setPosition((24-o.DEFAULT_CLOSE_ICON_SIZE)/2,(19-o.DEFAULT_CLOSE_ICON_SIZE)/2),this}_initCaptureZone(){this._createCaptureZone(),this.setCaptureZonePropagation(l.default.BLOCK_ALL),this.onHover((()=>this._dComponent.classed("hovered",!0)),(()=>this._dComponent.classed("hovered",!1)),this).withCursorOnHover(a.default.POINTER).updateCaptureZoneIndex(this._zIndex)}destroy(){this._closeIcon.destroy(),super.destroy()}}t.default=d},38731:(e,t,i)=>{"use strict";var n=i(15215).Bx;Object.defineProperty(t,"__esModule",{value:!0}),t.CONNECTION_RECT_SIZE=t.UPDATE=t.TYPE_CHANGED=void 0;const s=i(33943),r=n(i(8247)),o=i(24995),a=n(i(84811)),l=n(i(12488)),d=i(96001),u=n(i(289)),c=i(16377),h=n(i(10520)),p=i(69600),_=i(10094);function g(e){const t=l.default.get(1===e.value?"point":"points");return"pct"===e.unit?`${e.value}%`:`${e.value} ${t}`}t.TYPE_CHANGED="typeChanged",t.UPDATE="update",t.CONNECTION_RECT_SIZE=15;class f extends u.default{constructor(e,t,i){super(),this._positionViewModel=e,this._attachedOrder=t,this._visibleWindow=i,this._valid=!0,this._markedForRemoval=!1,this._isDragged=!1,t?(t.on(s.CHANGED,this._handleAttachedOrderChange,this),this.restoreFromDomain()):(this.setPriceLevel(e.getOpenPriceLevel()),this._instantiateType())}static getCssClassForType(e){return e||""}static create(e,t,i){return new f(e,t,i)}getTrailingStopDistance(){let e=null;return this._attachedOrder&&!this._markedForRemoval&&(e=this._attachedOrder.trailingStopDistance),e}getTrailingStopIncrement(){let e=null;return this._attachedOrder&&!this._markedForRemoval&&(e=this._attachedOrder.trailingStopIncrement),e}isDraggable(){return this._positionViewModel.isSelected()&&this._positionViewModel.isStopOrLimitEditable()}isValidAndNotMarkedForRemoval(){return this._valid&&!this._markedForRemoval}setIsDragged(e){this._isDragged=e}isDragged(){return this._isDragged}isMarkedForRemoval(){return this._markedForRemoval}isValid(){return this._valid}getPriceLevel(){return this._priceLevel}getDisplayPriceLevel(){return this._priceLevel}getType(){return this._type}getAttachedOrder(){return this._attachedOrder}getSubType(){var e;return(null===(e=this._attachedOrder)||void 0===e?void 0:e.subType)||null}getLastSelectedPriceLevel(){return this._lastSelectedPriceLevel}isStop(){return this._type===r.default.STOP}getScaledPriceLevel(){const e=this.getDisplayPriceLevel();return e?e/this._positionViewModel.model.getMarketScalingFactor():null}getTypeCssClass(){return f.getCssClassForType(this._type)}getPointsAway(){const e=this.getDisplayPriceLevel();return e?(0,_.roundToDecimalPlaces)(Math.abs(e-this._positionViewModel.getPriceLevel()),1):null}setPointsAway(e){if(!e||e<=0)throw new Error("Attempting to set non-positive points away on attached order view model");this._positionViewModel.isTradeLong()===this.isStop()&&(e*=-1),this.setPriceLevel(this._positionViewModel.getPriceLevel()+e)}showLevelBadge(){return!0}setPriceLevel(e){this._markedForRemoval=!1,this._priceLevel!==e&&(this._priceLevel=e,this.notifyOfUpdate())}getProfitLoss(e=!1){let t=this.getPointsDifference()*this._positionViewModel.getDealSize()*this._positionViewModel.getLotSize();return t=this._positionViewModel.isTradeLong()?t:-t,(t>0?"+":"")+(0,o.formatCurrency)(t,this._positionViewModel.model.getCurrencyCodeISO(),e)}getAttachedOrderInfoText(){return this.getPointsDifference()+l.default.get("points")}getAttachedOrderBubbleText(){var e;const t=this._positionViewModel.isSmallWidth();let i;if(this._invalidReason===p.ErrorReason.STOP_TOO_CLOSE){if(t)return l.default.get("bubbleAbbrvStop");if(i=this._positionViewModel.getMinimumStopDistance(this),i)return(0,d.merge)(l.default.get("bubbleStopTooClose"),{distance:g(i)})}else if(this._invalidReason===p.ErrorReason.STOP_TOO_FAR){if(t)return l.default.get("bubbleAbbrvStop");if(this._positionViewModel.getKnockoutLevel){const t=this._positionViewModel.model.getMarketDecimalPlacesFactor();return(0,d.merge)(l.default.get(this._positionViewModel.isTradeLong()?"bubbleKnockoutBull":"bubbleKnockoutBear"),{level:null===(e=this._positionViewModel.getFarthestStopLevel())||void 0===e?void 0:e.toFixed(t)})}if(i=this._positionViewModel.getMaximumStopDistance(),i)return(0,d.merge)(l.default.get("bubbleStopTooFar"),{distance:g(i)})}return this.isStop()?this._getStopTypeLabel():a.default.get("labelLimit")}_getStopTypeLabel(){const e=this._positionViewModel.isSmallWidth();if(this._attachedOrder)switch(this._attachedOrder.subType){case p.StopType.GUARANTEED:return e?l.default.get("abbrStopLevelGuaranteed"):a.default.get("labelGuaranteedStop");case p.StopType.TRAILING:return e?l.default.get("abbrStopLevelTrailing"):a.default.get("labelTrailingStop")}return a.default.get("labelStop")}getPointsDifference(){const e=this.getDisplayPriceLevel();return e?(0,_.roundToDecimalPlaces)(e-this._positionViewModel.getPriceLevel(),this._positionViewModel.model.getMarketDecimalPlacesFactor()):null}hasLastSelectedValues(){return!!this._lastSelectedPriceLevel}setType(e){let i;return this._type!==e&&(i=this._type,this._type=e,this.fire(t.TYPE_CHANGED,i,this._type)),this}_instantiateType(){const e=this._positionViewModel.getAttachedOrdersViewModels();let t=!1,i=!1;e.forEach((e=>{e.getType()===r.default.STOP?t=!0:e.getType()===r.default.LIMIT&&(i=!0)}),this),t&&!i?this.setType(r.default.LIMIT):this._positionViewModel.isStopAllowed?this.setType(r.default.STOP):this.setType(r.default.LIMIT)}getYPositionOnScreen(){return this._visibleWindow.y(this.getDisplayPriceLevel()||this._positionViewModel.getPriceLevel())}getFormattedPriceLevel(){return(0,c.scaleAndRoundPrice)(this.getPriceLevel()/this._positionViewModel.model.getMarketScalingFactor(),1,this._positionViewModel.model.getMarketDecimalPlacesFactor())}getConnectionRectBoxDimensions(){const e=this._positionViewModel.getCloseButtonDimensions().x+this._positionViewModel.getCloseButtonDimensions().width;return{x:e+(this._positionViewModel.getFullPositionWidth()-this._positionViewModel.getStopLimitIndicatorBoxDimensions().width-this._positionViewModel.getPriceBoxDimensions().width-e)/2,y:this.getYPositionOnScreen(),height:t.CONNECTION_RECT_SIZE,width:t.CONNECTION_RECT_SIZE}}notifyOfUpdate(){this.fire(t.UPDATE,this)}restoreToLastSelected(){this.setPriceLevel(this._lastSelectedPriceLevel),this.validateType()}updateLastSelectedPriceLevel(){this._lastSelectedPriceLevel=this.getDisplayPriceLevel()}restoreFromDomain(){this._valid=!0,this._markedForRemoval=!1,this._attachedOrder&&(this._priceLevel=this._attachedOrder.priceLevel,this.updateLastSelectedPriceLevel(),this.setType(this._attachedOrder.type))}updateDomain(){this.isValidAndNotMarkedForRemoval()&&this._attachedOrder&&(this._attachedOrder.setPriceLevel(this.getDisplayPriceLevel()),this._attachedOrder.type=this._type)}markForRemoval(){this._markedForRemoval=!0,this.notifyOfUpdate()}validatePriceLevel(){const e=parseFloat(this.getFormattedPriceLevel())*this._positionViewModel.model.getMarketScalingFactor();this.setPriceLevel(e)}validate(){const e=this._positionViewModel.isTradeLong(),t=this.getDisplayPriceLevel(),i=this._positionViewModel.getClosestStopLevel(),n=this._positionViewModel.getFarthestStopLevel(),s=this._positionViewModel.getClosestLimitLevel(),o=this._positionViewModel.getOppositeAttachedOrderViewModel(this);let a=null,l=!0;this._invalidReason===p.ErrorReason.STOP_WRONG_SIDE||this._invalidReason===p.ErrorReason.LIMIT_WRONG_SIDE||!(null==o?void 0:o.isDragged())&&(null==o?void 0:o.getType())===this._type?this._valid=!1:(this.isStop()?e&&t>i||!e&&t<i?(l=!1,a=p.ErrorReason.STOP_TOO_CLOSE):(e&&t<n||!e&&t>n)&&(l=!1,a=p.ErrorReason.STOP_TOO_FAR):this._type===r.default.LIMIT&&(e&&t<s||!e&&t>s)&&(l=!1,a=p.ErrorReason.LIMIT_WRONG_SIDE),this._invalidReason=l?null:this._invalidReason||a,this._valid=l)}_stopToLimitSwitchAllowed(){return!this._attachedOrder||this._attachedOrder.isNonGuaranteed()}validateType(){const e=this._positionViewModel.isTradeLong(),t=this.getDisplayPriceLevel(),i=this._positionViewModel.getClosestLimitLevel(),n=this._positionViewModel.getOppositeAttachedOrderViewModel(this);let s=null;this.isStop()?(e&&t>=i||!e&&t<=i)&&this._stopToLimitSwitchAllowed()&&this._positionViewModel.isLimitAllowed&&(s=r.default.LIMIT):(e&&t<i||!e&&t>i)&&this._positionViewModel.isStopAllowed&&(s=r.default.STOP),this._invalidReason=null,s&&(n&&n.getType()===s?this._invalidReason=p.ErrorReason[`${this._type.toUpperCase()}_WRONG_SIDE`]:this.setType(s)),this.validate(),this.notifyOfUpdate()}destroy(){var e;null===(e=this._attachedOrder)||void 0===e||e.un(null,this)}_handleAttachedOrderChange(){var e;this.setPriceLevel((null===(e=this._attachedOrder)||void 0===e?void 0:e.priceLevel)||null)}getRemoveButtonZIndex(){return h.default.POSITION_SELECT_BADGE_ON_POSITION_SELECTED}isRemoveButtonVisible(){return!!this._attachedOrder&&!(this._attachedOrder.subType===p.StopType.GUARANTEED&&this._positionViewModel.isControlledRisk())&&this._positionViewModel.isSelected()&&this._positionViewModel.isStopOrLimitEditable()&&!this._markedForRemoval&&this._valid}isConnectionLineVisible(){return this._positionViewModel.isSelected()&&!this._markedForRemoval&&this._valid}}t.default=f},54116:(e,t,i)=>{"use strict";var n=i(15215).ut,s=i(15215).Bx;Object.defineProperty(t,"__esModule",{value:!0}),t.TICKET_ICC_KEYS=t.LEVEL_EDIT_END=t.LEVEL_EDIT_IN_PROGRESS=t.LEVEL_EDIT_START=t.ATTACHED_ORDER_EDITING_ENDED=t.ATTACHED_ORDER_EDITING_STARTED=t.EDIT_TICKET_ICC_CHANGED=t.CLOSE_TICKET_ICC_CHANGED=void 0;const r=i(43130),o=i(41943),a=n(i(38731)),l=i(9525),d=s(i(84811)),u=s(i(12488)),c=s(i(67827)),h=s(i(57568)),p=s(i(71037)),_=s(i(87697)),g=s(i(84210)),f=i(96001),m=s(i(289)),v=s(i(16377)),A=s(i(23463)),E=s(i(65854)),T=s(i(8247));t.CLOSE_TICKET_ICC_CHANGED="CloseTicketIccChanged",t.EDIT_TICKET_ICC_CHANGED="EditTicketIccChanged",t.ATTACHED_ORDER_EDITING_STARTED="attachedOrderEditingStarted",t.ATTACHED_ORDER_EDITING_ENDED="attachedOrderEditingEnded",t.LEVEL_EDIT_START="levelEditStart",t.LEVEL_EDIT_IN_PROGRESS="levelEditInProgress",t.LEVEL_EDIT_END="levelEditEnd",t.TICKET_ICC_KEYS=["indicativeCostsAndCharges","indicativeCostsAndChargesState"];class I extends m.default{constructor(e,t){super(),this.badgeVisible=!1,this.attachedOrdersVisible=!1,this._cachedLinePoints=[],this._cachedEntireLinePoints=[],this._pixelPositionBadge=null,this._levelEditInProgress=!1,this._highlighted=!1,this._isEnabled=!0,this.notifyOfUpdate=l.schedule.throttledDeferred((()=>{this.fire(I.UPDATED,this),(0,l.invokeCall)(this.getAttachedOrdersViewModels(),"notifyOfUpdate")})),this.model=e,this._attachedOrderViewModels=[],this.presentationModel=t,this.presentationModel.on(_.default.SELECTED,(0,l.bubbler)(_.default.SELECTED),this),this.presentationModel.on(_.default.TRADE_CONFIRMS_REQUIRED_CHANGED,(0,l.bubbler)(_.default.TRADE_CONFIRMS_REQUIRED_CHANGED),this),this.model.getLimit()&&this._addAttachedOrderViewModel(this.model.getLimit()),this.model.getStop()&&this._addAttachedOrderViewModel(this.model.getStop()),this.model.on(p.default.CHANGE,this._handlePositionChange,this),this.model.on(p.default.PRICE_LEVEL_CHANGED,this._handlePriceLevelChanged,this),this.model.on(p.default.ATTACHED_ORDER_ADDED,this._handleAttachedOrderAdded,this),this.model.on(p.default.ATTACHED_ORDER_REMOVED,this._handleAttachedOrderRemoved,this),this.model.on(p.default.ATTACHED_ORDER_CHANGED,this._handleAttachedOrderChanged,this),this.model.on(p.default.DEALING_RULES_LOADED,this._handleDealingRulesLoaded,this),this._currentPriceLevel=this.model.getOpenLevel(),this._valueFormatter=new v.default,this._stopLimitUtil=g.default.create(e.getInstrument())}get _maxNumberOfAttachedOrders(){return[this.isStopAllowed,this.isLimitAllowed].filter((e=>e)).length}set closeTicket(e){this._closeTicket&&this._closeTicket.off("change",this._handleCloseTicketChange,this),this._closeTicket=e,this._closeTicket&&(this._closeTicket.on("change",this._handleCloseTicketChange,this),this.fire(t.CLOSE_TICKET_ICC_CHANGED))}get closeTicket(){return this._closeTicket}get closingIcc(){if(this._closeTicket)return{state:this._closeTicket.indicativeCostsAndChargesState,info:this._closeTicket.indicativeCostsAndCharges}}updateEditTicket(e){const t=Object.assign({},e);return this._updateEditTicket(e),Object.keys(e).filter((i=>e[i]!==t[i]))}getMinimumStopDistance(e){return this._stopLimitUtil.getMinimumStopDistance(e.getSubType())}getMaximumStopDistance(){return this._stopLimitUtil.getMaximumStopDistance()}setVisible(e,t){return this.badgeVisible!==e&&(this.badgeVisible=e,this.notifyOfUpdate()),this.attachedOrdersVisible!==t&&(this.attachedOrdersVisible=t,this.notifyOfUpdate()),this}getPositionInfoBoxWidth(){return this._boxWidths.positionInfoBox}getSizeBoxWidth(){return this._boxWidths.positionSizeBox}getLinePoints(){return this._cachedLineGetter("_cachedLinePoints")}getLinePointsPast(){return[]}getEntireLinePoints(){return this._cachedLineGetter("_cachedEntireLinePoints")}getEntryPointPosition(){return null}getPriceLevel(){return this._currentPriceLevel}setPriceLevel(e){return isNaN(e)&&(e=0),e!==this._currentPriceLevel&&(this._currentPriceLevel=e,this.fire(I.PRICE_LEVEL_UPDATED,e),this.notifyOfUpdate()),this}getAttachedOrdersViewModels(){return this._attachedOrderViewModels}getPricePositionOnScreen(){return this._pixelPositionPrice}getBadgePositionOnScreen(){return this._pixelPositionBadge}setBadgePositionOnScreen(e){return this._pixelPositionBadge!==e&&(this._pixelPositionBadge=e,this.notifyOfUpdate()),this}isLevelEditInProgress(){return this._levelEditInProgress}setLevelEditInProgress(e){return this._levelEditInProgress!==e&&(this._levelEditInProgress=e,this.fire(t.LEVEL_EDIT_IN_PROGRESS),this.fire(this._levelEditInProgress?t.LEVEL_EDIT_START:t.LEVEL_EDIT_END)),this}isHighlighted(){return this._highlighted}setIsHighlighted(e){return this._highlighted=e,this.fire(I.UPDATED,this),this}isEnabled(){return this._isEnabled}setEnabled(e){return this._isEnabled=e,this.fire(I.ENABLED_OR_DISABLED),this}setConfirmationButtonLabelWidth(e){this._confirmationButtonLabelWidth=e}updatePositionsOnScreen(){this._cachedLinePoints.length&&this._calculatePositionCoordinates();const e=(0,this.presentationModel.visibleWindow.y)(this.getPriceLevel());return this._pixelPositionPrice!==e&&(this._pixelPositionPrice=e,this.notifyOfUpdate()),this}getFullPositionWidth(){var e,t;const i=null===(t=null===(e=this.presentationModel)||void 0===e?void 0:e.subview)||void 0===t?void 0:t.dimensions;return i?i.width:1}isSmallWidth(){return this.getFullPositionWidth()<=375}isTradeLong(){return this.model.isBuy()}getDirectionCssClass(){return this.model.isBuy()?"long":"short"}getOppositeDirectionCssClass(){return this.model.isBuy()?"short":"long"}getSizeCssClass(){return this.model.isBuy()?"positiveValue":"negativeValue"}isControlledRisk(){return this.model.isControlledRisk()}getOpenPriceLevel(){return this.model.getOpenLevel()}getDealSize(){return this.model.getDealSize()}getDirection(){return this.model.getDirection()}getLotSize(){return this.model.getLotSize()}getMarketScalingFactor(){return this.model.getMarketScalingFactor()}getMarketDecimalPlacesFactor(){return this.model.getMarketDecimalPlacesFactor()}getSizeText(){return(0,f.merge)("{direction} {sizeAndUnit}",{direction:this.model.getDirection(),sizeAndUnit:this._getSizeAndUnit(this.model)})}getScaledPrice(){return this.getPriceLevel()/this.getMarketScalingFactor()}canAddAttachedOrders(){return this.isSelected()&&this.getAttachedOrdersViewModels().length<this._maxNumberOfAttachedOrders&&this.badgeVisible}createAttachedOrderViewModel(){return this._addAttachedOrderViewModel(null)}removeAttachedOrderViewModel(e){e.getAttachedOrder()?(e.restoreFromDomain(),e.markForRemoval()):this._removeAttachedOrderViewModel(e)}getAttachedOrderViewModel(e){return(0,o.find)(this.getAttachedOrdersViewModels(),(t=>(null==t?void 0:t.getType())===e))}findAttachedOrderViewModel(e){const t=this._attachedOrderViewModels.filter((function(t){return t.getAttachedOrder()===e}));return t.length?t[0]:null}getOppositeAttachedOrderViewModel(e){if(e.getType()===T.default.KNOCKOUT)return null;const t=this._attachedOrderViewModels.filter((function(t){return t!==e&&t.getType()!==T.default.KNOCKOUT}));return t.length?t[0]:null}getLimitViewModel(){return this.getAttachedOrderViewModel(T.default.LIMIT)}getStopViewModel(){return this.getAttachedOrderViewModel(T.default.STOP)}hasLimitAndAttachedOrder(){return!(!this.getStopViewModel()||!this.getLimitViewModel())}getLimitPriceLevel(){return this._getAttachedOrderPriceLevel(this.getLimitViewModel())}getStopPriceLevel(){return this._getAttachedOrderPriceLevel(this.getStopViewModel())}getStopPointsAway(){const e=this.getStopViewModel();return this.getStopPriceLevel()&&e?e.getPointsAway():null}getLimitPointsAway(){const e=this.getLimitViewModel();return this.getLimitPriceLevel()&&e?e.getPointsAway():null}getStopLevel(){return this.model.getStopLevel()}getLimitLevel(){return this.model.getLimitLevel()}getMinMaxAttachedOrderLevels(){const e=(0,r.compact)([this.getStopLevel(),this.getLimitLevel()]);return{min:Math.min(...e),max:Math.max(...e)}}hasValidRiskRewardRatioRequirements(){var e,t;return this.hasLimitAndAttachedOrder()&&(null===(e=this.getStopViewModel())||void 0===e?void 0:e.isValidAndNotMarkedForRemoval())&&(null===(t=this.getLimitViewModel())||void 0===t?void 0:t.isValidAndNotMarkedForRemoval())||!1}getFormattedPrice(){return this._formatPrice(this.getPriceLevel())}setInterfaceMeasurements(e){return JSON.stringify(this._boxWidths)!==JSON.stringify(e)&&(this._boxWidths=e,this.notifyOfUpdate()),this}getRiskRewardRatio(){const e=this.isSmallWidth()?u.default.get("abbrRiskRewardRatio"):u.default.get("riskRewardRatio");let t,i=this._calculateRiskRewardRatio();return i?i<1?(i=(0,r.round)(1/i,1),t=` ${i}:1`):(i=(0,r.round)(i,1),t=` 1:${i}`):t=" -",e+t}alignWithOthers(){return!0}showPositionLevelBadge(){return!0}isCloseButtonAvailable(){return!0}areInteractionsEnabled(){return!0}getEditTicketLabel(){return u.default.get("ticketSubmit")}isOCO(){return!1}getCancelledBy(){return null}editStopLimit(e,i){const n=!this._editedAttachedOrderViewModel,s=Math.max(0,Math.min(this.presentationModel.visibleWindow.height(),i-this.presentationModel.subview.dimensions.y));this._editedAttachedOrderViewModel=e,e.setPriceLevel(this._calculateNewAttachedOrderLevel(s)),e.validatePriceLevel(),e.validateType(),n&&(e.setIsDragged(!0),this.fire(t.ATTACHED_ORDER_EDITING_STARTED,this),this.presentationModel.fire(_.default.EDIT_START))}endEditStopLimit(e){null!=this._editedAttachedOrderViewModel&&(this._editedAttachedOrderViewModel=null,e.setIsDragged(!1),e.validatePriceLevel(),e.validateType(),this.fire(t.ATTACHED_ORDER_EDITING_ENDED,e),e.isValid()?(e.updateLastSelectedPriceLevel(),this.presentationModel.fire(_.default.EDITED,A.default.CHARTS_DRAG_EDIT_TICKET)):this.presentationModel.fire(_.default.INVALID,this,e))}markForRemoval(e){e.markForRemoval(),this.presentationModel.fire(_.default.EDITED,A.default.CHARTS_INLINE_EDIT_TICKET)}isAttachedOrderLineCropped(e){return this.isSelected()&&e.isValid()}getPositionConfirmationCloseTextOffset(){return(this.getCloseConfirmationButtonDimensions().width-this._confirmationButtonLabelWidth)/2}getSeparatorPosition(){return I.MARGIN+this.getPositionInfoBoxWidth()}getVisibleWindowDimensions(){return{top:this.presentationModel.visibleWindow.y.range()[0],bottom:this.presentationModel.visibleWindow.y.range()[1],left:0,right:this.getFullPositionWidth()}}getPositionBorderBoxDimensions(){return{x:I.MARGIN,y:0,width:this.getSizeBoxWidth()+this.getPositionInfoBoxWidth(),height:I.BOX_HEIGHT}}getPositionInfoBoxDimensions(){return{x:I.MARGIN,y:0,width:this.getPositionInfoBoxWidth(),height:I.BOX_HEIGHT}}getSizeBoxDimensions(){return{x:I.MARGIN+this.getPositionInfoBoxWidth(),y:0,width:this.getSizeBoxWidth(),height:I.BOX_HEIGHT}}getCloseButtonDimensions(){return{x:I.MARGIN+this.getSizeBoxWidth()+this.getPositionInfoBoxWidth()+3,y:this.getBadgePositionOnScreen()||0,height:I.BOX_HEIGHT,width:this.getCloseButtonBoxWidth()}}getCloseConfirmationButtonDimensions(){return{x:I.MARGIN+this.getSizeBoxWidth()+this.getPositionInfoBoxWidth()+3,y:this.getBadgePositionOnScreen()||0,height:I.BOX_HEIGHT,width:this.getCloseButtonBoxWidth()}}getPriceBoxDimensions(){return{x:-this.presentationModel.priceIndicatorWidth,y:-I.BOX_HEIGHT/2,width:this.presentationModel.priceIndicatorWidth-I.MARGIN,height:I.BOX_HEIGHT}}getStopLimitIndicatorBoxDimensions(){return{x:-this.presentationModel.priceIndicatorWidth-20,y:-I.TEXT_VERTICAL_OFFSET/2,width:20,height:I.TEXT_VERTICAL_OFFSET}}getConnectionRectBoxDimensions(){return this._getConnectionRectBoxDimensions(this.getPricePositionOnScreen())}currentPriceLevelDoesNotEqualOpenLevel(){return this.getPriceLevel()!==this.model.getOpenLevel()}showClosingIndicativeCosts(){return E.default.getInstance().getFlags().showIndicativeCosts||!1}showOpeningIndicativeCosts(){return E.default.getInstance().getFlags().showIndicativeCosts2||!1}get isStopAllowed(){return this.model.isStopAllowed}get isLimitAllowed(){return this.model.isLimitAllowed}destroy(){this._closeTicket&&this._closeTicket.destroy(),this.notifyOfUpdate.cancel(),this._attachedOrderViewModels.slice().forEach((e=>this._removeAttachedOrderViewModel(e))),this.model.un(null,this),this.presentationModel.un(null,this),delete this.presentationModel}_formatPrice(e){return this._valueFormatter.scaleAndRoundPrice(e,this.model.getMarketScalingFactor(),this.model.getMarketDecimalPlacesFactor())}_calculateNewAttachedOrderLevel(e){return this.presentationModel.visibleWindow.y.invert(e)}_createAttachedOrderViewModel(e){return a.default.create(this,e,this.presentationModel.visibleWindow)}_addAttachedOrderViewModel(e){const t=this._createAttachedOrderViewModel(e);return t&&(this._attachedOrderViewModels.push(t),this.fire(I.ATTACHED_ORDER_ADDED,t)),t}_getSizeAndUnit(e){const t=e.getDealSize();switch(e.getInstrument().unit){case h.default.POINTS:return`${t} / ${u.default.get("point")}`;case h.default.SHARES:return`${t} ${d.default.get(1===t?"share":"shares")}`;case h.default.CONTRACTS:default:return`${t} ${d.default.get(1===t?"contract":"contracts")}`}}_calculatePositionCoordinates(){const e=this._calculateLinePixelRange(),t=this._calculateLinePoints(e),{width:i,height:n}=this.presentationModel.visibleWindow.dimensions(),s=c.default.clipPathToRectangle(t,{x:0,y:0},{x:i,y:n});this._cachedLinePoints=s,this._cachedEntireLinePoints=s.slice().reverse()}_calculateLinePixelRange(){return[this.getSizeBoxWidth()+this.getPositionInfoBoxWidth()+I.MARGIN,this.getFullPositionWidth()]}_calculateLinePoints(e){const t=this.getBadgePositionOnScreen(),i=this.getPricePositionOnScreen();if(t&&i){const n=t+I.BOX_HEIGHT/2,s=.25*this.presentationModel.visibleWindow.width(),r=6+this.getCloseButtonBoxWidth()+2;return[{x:e[1],y:i},{x:e[0]+s,y:i},{x:e[0]+r,y:n},{x:e[0],y:n}]}return[]}restore(){this.setPriceLevel(this.model.getOpenLevel()),this._clearEmptyViewModels(),this.getAttachedOrdersViewModels().forEach((function(e){e.restoreFromDomain()}),this)}_handlePriceLevelChanged(e){this.setPriceLevel(e)}_handleAttachedOrderAdded(e){this._clearEmptyViewModels(),this._addAttachedOrderViewModel(e)}_cachedLineGetter(e){return this._cachedGetter(e)}_cachedEntryPointGetter(e){return this._cachedGetter(e)}_getRiskPtsAwayForRiskReward(){return this.getStopPointsAway()}_handleCloseTicketChange(e){t.TICKET_ICC_KEYS.some((t=>e.includes(t)))&&this.fire(t.CLOSE_TICKET_ICC_CHANGED)}_cachedGetter(e){return!this._cachedLinePoints.length&&this._boxWidths&&this._calculatePositionCoordinates(),this[e]}_clearEmptyViewModels(){this._attachedOrderViewModels.filter((e=>!e.getAttachedOrder())).forEach((e=>this._removeAttachedOrderViewModel(e)))}_removeAttachedOrderViewModel(e){if(e){const t=this._attachedOrderViewModels.indexOf(e);e.destroy(),this._attachedOrderViewModels.splice(t,1),this.fire(I.ATTACHED_ORDER_REMOVED,e)}}_getAttachedOrderPriceLevel(e){return e&&!e.isMarkedForRemoval()?parseFloat(e.getFormattedPriceLevel()):null}_calculateRiskRewardRatio(){if(!this.hasValidRiskRewardRatioRequirements())return null;const e=this.getLimitPointsAway(),t=this._getRiskPtsAwayForRiskReward();return(0,r.isFinite)(t)&&e&&0!==t?e/t:null}_getConnectionRectBoxDimensions(e){const t=this.getCloseButtonDimensions().x+this.getCloseButtonDimensions().width;return{x:t+(this.getFullPositionWidth()-this.getStopLimitIndicatorBoxDimensions().width-this.getPriceBoxDimensions().width-t)/2,y:e||0,height:a.CONNECTION_RECT_SIZE,width:a.CONNECTION_RECT_SIZE}}_handleAttachedOrderChanged(e){this._clearEmptyViewModels();const t=this.findAttachedOrderViewModel(e);t&&(t.restoreFromDomain(),this.fire(I.ATTACHED_ORDER_CHANGED))}_handleDealingRulesLoaded(){this.fire(I.DEALING_RULES_LOADED)}_handleAttachedOrderRemoved(e){const t=this.findAttachedOrderViewModel(e);this._removeAttachedOrderViewModel(t)}_handlePositionChange(){this._editedAttachedOrderViewModel&&this._editedAttachedOrderViewModel.validateType(),this.notifyOfUpdate()}}I.BOX_HEIGHT=19,I.BOX_PADDING=10,I.TEXT_PADDING=8,I.MARGIN=4,I.TEXT_VERTICAL_OFFSET=14,I.UPDATED="positionUpdated",I.PRICE_LEVEL_UPDATED="positionPriceLevelUpdated",I.ENABLED_OR_DISABLED="positionEnabledOrDisabled",I.ATTACHED_ORDER_ADDED="addAttachedOrder",I.ATTACHED_ORDER_REMOVED="removeAttachedOrder",I.ATTACHED_ORDER_CHANGED="changeAttachedOrder",I.DEALING_RULES_LOADED="dealingRulesLoaded",t.default=I},9966:(e,t,i)=>{"use strict";var n=i(15215).Bx;const s=n(i(300)),r=n(i(98886)),o=n(i(12488));class a extends s.default{static create(e,t){return new a(e,t)}getPositionInfoText(){return this.model.getTimeInForce()===r.default.DAY?o.default.get("dmaTimeInForceDay"):this.model.getTimeInForce()===r.default.GTC?o.default.get("dmaTimeInForceGTC"):super.getPositionInfoText()}}t.A=a},994:(e,t,i)=>{"use strict";var n=i(15215).Bx;const s=n(i(90642)),r=n(i(8247));class o extends s.default{constructor(e,t){super(e,t)}static create(e,t){return new o(e,t)}get isStopAllowed(){return!1}get isLimitAllowed(){return!1}isStopOrLimitEditable(){return!1}isEditable(){return!1}isAttachedOrderTextBubbleVisible(e){return this.isSelected()&&e.getType()===r.default.KNOCKOUT}}t.A=o},58364:(e,t,i)=>{"use strict";const n=(0,i(15215).Bx)(i(300));class s extends n.default{static create(e,t){return new s(e,t)}isStopOrLimitEditable(){return!1}_updateEditTicket(e){e.setProperties({triggerLevel:parseFloat(this.getFormattedPrice())})}}t.A=s},90642:(e,t,i)=>{"use strict";var n=i(15215).Bx;Object.defineProperty(t,"__esModule",{value:!0});const s=i(43130),r=n(i(38731)),o=n(i(12488)),a=i(61346),l=i(10094),d=n(i(754)),u=i(96001),c=n(i(2610)),h=n(i(8247));class p extends c.default{constructor(e,t){super(e,t),this._currentPriceLevel=this.model.getDisplayOpenLevel(),this.model.getKnockout()&&this._addAttachedOrderViewModel(this.model.getKnockout())}static create(e,t){return new p(e,t)}get _maxNumberOfAttachedOrders(){return 3}showPositionLevelBadge(){return!1}isTradeLong(){return(0,s.get)(this.model.getInstrument(),"knockoutType")!==a.KNOCKOUT_TYPES.BEAR}getKnockoutLevel(){return this.model.getKnockout()?this.model.getKnockoutLevel():null}getKnockoutPointsAway(){var e;return(null===(e=this.getKnockoutViewModel())||void 0===e?void 0:e.getPointsAway())||null}getKnockoutViewModel(){return this.getAttachedOrderViewModel(h.default.KNOCKOUT)}getFarthestStopLevel(){return this._stopLimitUtil.getFarthestStopLevel(null,this.isTradeLong(),this.model.getStopType(),this.getKnockoutLevel(),void 0,this.model.getMarketScalingFactor())}getMinMaxAttachedOrderLevels(){const{min:e,max:t}=super.getMinMaxAttachedOrderLevels(),i=this.getKnockoutLevel();return i?{min:Math.min(e,i),max:Math.max(t,i)}:{min:e,max:t}}restore(){super.restore(),this.setPriceLevel(this.model.getDisplayOpenLevel())}hasLimitAndAttachedOrder(){return!(!this.getKnockoutViewModel()&&!this.getStopViewModel()||!this.getLimitViewModel())}hasValidRiskRewardRatioRequirements(){var e,t;return this.hasLimitAndAttachedOrder()&&(this.getKnockoutViewModel()||(null===(e=this.getStopViewModel())||void 0===e?void 0:e.isValidAndNotMarkedForRemoval())||!1)&&((null===(t=this.getLimitViewModel())||void 0===t?void 0:t.isValidAndNotMarkedForRemoval())||!1)}getPositionCloseText(){return(0,u.merge)(o.default.get("closeAt"),{price:this.model.getClosePrice()})}alignWithOthers(){return!this.isSelected()}_calculateNewAttachedOrderLevel(e){const t=super._calculateNewAttachedOrderLevel(e),i=(this.isTradeLong()?1:-1)*(t-this.model.getKnockoutLevel());return(0,l.roundFloatingPointError)(i)}_getRiskPtsAwayForRiskReward(){return(0,s.min)([super._getRiskPtsAwayForRiskReward(),this.getKnockoutPointsAway()])}_createAttachedOrderViewModel(e){return(null==e?void 0:e.type)===h.default.KNOCKOUT?r.default.create(this,e,this.presentationModel.visibleWindow):d.default.create(this,e,this.presentationModel.visibleWindow)}_handlePriceLevelChanged(){this._currentPriceLevel=this.model.getDisplayOpenLevel()}_getSizeAndUnit(e){let t=super._getSizeAndUnit(e);return this.isSelected()&&(t=(0,u.merge)(o.default.get("currentSizeAt"),{price:this._formatPrice(this.model.getOpenLevel()),size:t})),t}}t.default=p},2610:(e,t,i)=>{"use strict";var n=i(15215).Bx;Object.defineProperty(t,"__esModule",{value:!0});const s=i(43130),r=i(24995),o=n(i(21026)),a=n(i(12488)),l=i(61346),d=n(i(23584)),u=n(i(67827)),c=i(10094),h=n(i(17690)),p=n(i(23463));function _(e,{width:t,height:i}){return u.default.clipPathToRectangle(e,{x:0,y:0},{x:t,y:i})}class g extends h.default{constructor(){super(...arguments),this._cachedPastLinePoints=null,this._cachedEntryPoint=null}static create(e,t){return new g(e,t)}getEditDialogTitle(){return a.default.get("openPositionDialogTitle")}getEditDialogContentClass(){return o.default}getDealRemovedLabel(){return a.default.get("openPositionRemoved")}isDraggable(){return!1}getPositionCloseText(){return a.default.get("closeButton")}getPositionConfirmationCloseText(){return this.isTradeLong()?a.default.get("closeConfirmationSellButton"):a.default.get("closeConfirmationBuyButton")}getPositionCssClass(){return"op"}getPositionInfoCssClass(){return this.model.getProfitAndLoss()>=0?"positiveValue":"negativeValue"}getPositionInfoText(){const e=this.model.getProfitAndLoss();return(0,c.isNumber)(e)?(e>0?"+":"")+(0,r.formatCurrency)(e,this.model.getCurrencyCodeISO(),!0):"-"}getCloseButtonGradient(){return this.isConfirmable()&&this.presentationModel.tradeConfirmsRequired?"gradient-button-white":"gradient-button-close"}getConfirmationButtonGradient(){return"long"===this.getDirectionCssClass()?"gradient-button-red":"gradient-button-blue"}getCloseButtonBoxWidth(){return this._boxWidths.positionCloseButtonText}getCloseButtonTrackingOrigin(){return p.default.CHARTS_INLINE_CLOSE_TICKET}getLinePointsPast(){return this._cachedLineGetter("_cachedPastLinePoints")}getEntryPointPosition(){return this._cachedEntryPointGetter("_cachedEntryPoint")}getClosestStopLevel(){return this._stopLimitUtil.getClosestStopLevel(null,this.isTradeLong(),this.model.getStopType(),this.model.trade,this.model.getMarketScalingFactor())}getClosestLimitLevel(){return this._stopLimitUtil.getClosestPositionLimitLevel(this.isTradeLong(),this.model.getMarketScalingFactor())}getFarthestStopLevel(){return this._stopLimitUtil.getFarthestStopLevel(null,this.isTradeLong(),this.model.getStopType(),null,void 0,this.model.getMarketScalingFactor())}showOpeningIndicativeCosts(){return!1}isSelected(){return this.presentationModel.selectedViewModel===this}_updateEditTicket(e){const t=this.getStopViewModel();e.setProperties({size:this.model.getDealSize(),stopLevel:this.getStopPriceLevel(),stopLevelType:l.Level.Type.ABSOLUTE,limitLevel:this.getLimitPriceLevel(),limitType:l.Level.Type.ABSOLUTE,stopTrailingDistance:t?t.getTrailingStopDistance():null,stopStep:t?t.getTrailingStopIncrement():null})}_calculatePositionCoordinates(){if(this.model.isAggregated())this._cachedEntryPoint=null,this._cachedEntireLinePoints=[],this._cachedPastLinePoints=[],super._calculatePositionCoordinates();else{const e=this._calculateLinePixelRange(),t=this._calculateLinePoints(e),i=this._splitPositionLine(t,e),n=this.presentationModel.visibleWindow.dimensions();this._cachedLinePoints=_(i.future,n),this._cachedPastLinePoints=_(i.past,n),this._cachedEntryPoint=function(e,{width:t,height:i}){return e&&d.default.isPointInRectangle(e.x,e.y,0,0,t,i)?e:null}(i.entryPoint,n),this._cachedEntireLinePoints=_(t.slice().reverse(),n)}}_splitPositionLine(e,t){const i=this.presentationModel.visibleWindow.visibleDateRange,n=i.getTimeline();if(!(null==n?void 0:n.hasIntervals())||!e||e.length<2)return{future:e,past:[],entryPoint:null};const r=n.asAccTime(this.model.getCreatedDate()),o=i.getScale()(r)-this.presentationModel.visibleWindow.dimensions().x;return o<=t[0]?{future:e,past:[],entryPoint:null}:o>=t[1]?{future:[],past:e,entryPoint:null}:function(e,t){const i={future:[t[0]],past:[],entryPoint:null};let n,r,o,a;for(n=t.map((e=>e.y)),n=[Math.min(...n)-1,Math.max(...n)+1],a=1;a<t.length;a++)i.entryPoint?i.past.push(t[a]):(r=d.default.lineSegmentsIntersection(t[a-1].x,t[a-1].y,t[a].x,t[a].y,e,n[0],e,n[1]),r?(i.entryPoint=r,1===a&&(r=(0,s.clone)(r),o=i.future[0].x-r.x,o=(0,c.floorToClosestMultiple)(o,10),r.x=i.future[0].x-o),i.future.push(r),i.past.push(r,t[a])):i.future.push(t[a]));return i}(o,e)}}t.default=g},754:(e,t,i)=>{"use strict";var n=i(15215).Bx;Object.defineProperty(t,"__esModule",{value:!0});const s=n(i(38731)),r=i(10094),o=n(i(90642));class a extends s.default{constructor(e,t,i){super(e,t,i)}static create(e,t,i){return new a(e,t,i)}getPriceLevel(){return this._optionPriceLevel||null}getScaledPriceLevel(){return this._optionPriceLevel}setPriceLevel(e){const t=this._positionViewModel.isTradeLong()?1:-1;let i;if(this._markedForRemoval=!1,this._positionViewModel instanceof o.default){const n=this._positionViewModel.model.getKnockoutLevel();e&&this._optionPriceLevel!==e&&n&&(i=n+t*e,this._priceLevel=(0,r.roundFloatingPointError)(i),this._optionPriceLevel=e,this.notifyOfUpdate())}}restoreFromDomain(){if(super.restoreFromDomain(),this._positionViewModel instanceof o.default){const e=this._positionViewModel.model.getKnockoutLevel();if(this._attachedOrder&&e&&this._attachedOrder.priceLevel){const t=e+(this._positionViewModel.isTradeLong()?1:-1)*this._attachedOrder.priceLevel;this._priceLevel=(0,r.roundFloatingPointError)(t),this._optionPriceLevel=this._attachedOrder.priceLevel}}}getAttachedOrderInfoText(){return this.getFormattedPriceLevel()}showLevelBadge(){return!1}validate(){super.validate(),this._valid&&this.isStop()&&this._optionPriceLevel&&this._optionPriceLevel<0&&(this._valid=!1)}}t.default=a},54404:(e,t,i)=>{"use strict";var n=i(15215).Bx;Object.defineProperty(t,"__esModule",{value:!0});const s=n(i(48990)),r=n(i(55986)),o=n(i(87697)),a=n(i(17690)),l=n(i(56396)),d=i(43130);class u extends s.default{set positionsEditable(e){this._positionsEditable!==e&&(this._positionsEditable=e,e||this._cancelEditMode(),this.notifyOfUpdate())}set positionsLayoutSolver(e){this._positionsLayoutSolver=e}get positions(){return this._positions}get selectedViewModel(){return this._selectedViewModel}getSelectedViewModel(){return this._selectedViewModel}set fadeOut(e){this._fadeOut=e,this.fire(u.FADE_OUT,e)}get fadeOut(){return this._fadeOut}constructor(){super(),this.editingFeaturesEnabled=!1,this._positionsEditable=!1,this.priceIndicatorWidth=0,this.isButtonLoading=!1,this.isPriceInSizeEnabled=!1,this.closePositionDialogOpen=!1,this._positions=r.default.create(),this._updateLayoutDebounced=(0,d.debounce)(this._updateLayout,10)}static comparatorFunc(e,t){return e.getPriceLevel()-t.getPriceLevel()}notifyOfUpdate(){this._positions.forEach((e=>e.notifyOfUpdate()))}updateLayout(){this._positions.length()>10?this._updateLayoutDebounced():this._updateLayout()}clear(){this.deselect(),this._clearPositionsCollections()}_createOpenPositionViewModelsFromDomain(){var e,t,i;null===(e=this._openPositionsCollection)||void 0===e||e.on(r.default.ADD,this._addPosition,this),null===(t=this._openPositionsCollection)||void 0===t||t.on(r.default.REMOVE,this._deletePosition,this),null===(i=this._openPositionsCollection)||void 0===i||i.forEach((e=>this._addPosition(e)),this)}_createWorkingOrdersViewModelsFromDomain(){var e,t,i;null===(e=this._workingOrdersCollection)||void 0===e||e.on(r.default.ADD,this._addPosition,this),null===(t=this._workingOrdersCollection)||void 0===t||t.on(r.default.REMOVE,this._deletePosition,this),null===(i=this._workingOrdersCollection)||void 0===i||i.forEach((e=>this._addPosition(e)),this)}select(e){this._cancelEditMode(),this._selectedViewModel=e,this._positionsLayoutSolver.verifyBoxesWidth(e),this.fire(o.default.SELECTED,e)}deselect(){const e=this._selectedViewModel;this._selectedViewModel&&(delete this._selectedViewModel,this.fire(o.default.DESELECTED,e))}_cancelEditMode(){this._selectedViewModel&&(this._selectedViewModel.restore(),this.deselect())}toggleOpenPositions(e){this._openPositionsCollection&&(e?this._createOpenPositionViewModelsFromDomain():(this._openPositionsCollection.un(null,this),this._openPositionsCollection.forEach((e=>this._deletePosition(e)))),this._updatePositionsVisibility())}toggleWorkingOrders(e){this._workingOrdersCollection&&(e?this._createWorkingOrdersViewModelsFromDomain():(this._workingOrdersCollection.un(null,this),this._workingOrdersCollection.forEach((e=>this._deletePosition(e)))),this._updatePositionsVisibility())}reset(e,t){this._clearPositionsCollections(),this._openPositionsCollection=e,this._workingOrdersCollection=t}getViewModelByDealId(e){return this._positions.find((t=>t.getDealId()===e))}destroy(){this._updateLayoutDebounced.cancel(),this._clearPositionsCollections(),super.destroy()}_addPosition(e){const t=l.default.createPositionViewModel(e,this);return t.on(a.default.UPDATED,this._updatePosition,this),t.on(a.default.PRICE_LEVEL_UPDATED,this._positions.sort.bind(this._positions,u.comparatorFunc),this),this._positionsLayoutSolver.solveLayoutForPosition(t,this._positions),this._positions.add(t,u.comparatorFunc),this.fire(o.default.ADDED,t),t}_deletePosition(e){const t=this._positions.find((t=>t.model===e)),i=this._selectedViewModel===t;t&&(this._positions.remove((t=>t.model===e)),this.fire(o.default.DELETED,t,i),t.un(null,this),t.destroy(),this.updateLayout())}_updatePosition(e){this._positionsLayoutSolver.verifyBoxesWidth(e),this.updateLayout()}_updatePositionsVisibility(){this._positions.forEach((e=>this._positionsLayoutSolver.updateVisibility(e)))}_clearPositionsCollections(){this._openPositionsCollection&&(this._openPositionsCollection.un(null,this),delete this._openPositionsCollection),this._workingOrdersCollection&&(this._workingOrdersCollection.un(null,this),delete this._workingOrdersCollection),this._positions.forEach((e=>e.destroy())),this._positions.clear()}_updateLayout(){var e;null===(e=this._positionsLayoutSolver)||void 0===e||e.updatePositionsLayouts(this._positions)}}u.FADE_OUT="FADE_OUT",t.default=u},81577:(e,t,i)=>{"use strict";var n=i(15215).Bx;Object.defineProperty(t,"__esModule",{value:!0});const s=n(i(47292)),r=n(i(3565)),o=n(i(8247)),a=n(i(86605)),l=n(i(78868)),d=n(i(31347)),u=n(i(95158)),c=n(i(89022)),h=n(i(20840)),p=n(i(77209)),_=n(i(65854)),g=n(i(29545)),f=n(i(61568)),m=i(87587),v=n(i(87697)),A=n(i(55926)),E=n(i(54404)),T=n(i(14243)),I=n(i(47392)),C=n(i(23463)),O=n(i(73453)),M=i(73731),y=i(91238),b=i(7517),S=i(54116),D=i(69600),w=i(43130);class L extends r.default{static create(e){return new L(e)}startListening(e){return super.startListening(e),this._visibleWindow.on(O.default.MOVED,this._handleVisibleWindowMoved,this),this._presentationModel.subview=this._subView,this._presentationModel.visibleWindow=e,this._settingsManager.on((0,M.getGlobalSettingsEvent)(T.default.DEALING),this._handleDealingVisibilityChange,this),this._eventBus.subscribe("dealing/positions/fade-out",this._handleFadeOut,this),this._eventBus.subscribe("dealing/market/change",this._handleMarketChanged,this),this._eventBus.subscribe("dealing/positions/closeDialog/closed",this._presentationModel.deselect,this._presentationModel),this._eventBus.subscribe("chart/view/ready",this._handleChartViewReady,this),this._eventBus.subscribe(p.default.TRADE_REJECTED,this._handleTradeRejected,this),this._eventBus.subscribe(p.default.TRADE_CLOSED_FROM_DIALOG,this._handleTradeClosedFromDialog,this),this._hotkeyMap[f.default.E]=()=>this.openEditDialog(this._presentationModel.selectedViewModel),this._hotkeyMap[f.default.ESCAPE]=()=>this.deselectPosition(),this}stopListening(){this._moduleEditButtons&&this._moduleEditButtons.un(null,this),this._market&&this._market.un(null,this),this._presentationModel&&(this._presentationModel.clear(),this._presentationModel.un(null,this)),delete this._captureZoneManager,this._settingsManager.un(null,this),super.stopListening()}destroy(){this.deselectPosition(),["_editDialog","_dialogForcedConfirm","_dealingSettingsManager"].forEach((e=>{this[e]&&(this[e].destroy(),delete this[e])})),super.destroy()}openEditDialog(e){const t=this._presentationModel.selectedViewModel,i=this._moduleLoader.getModule("dealingCommon");t&&e&&t.model.createEditTicket().then((e=>{_.default.getInstance().getFlags().showIndicativeCosts2&&i.initTicketIndicativeCostsService(e),this._editDialog=new h.default(this._eventBus,this._captureZoneManager,this._taskManager,t,this,e).initDom(this._chartView.getHtmlOverlay())}))}deselectPosition(){this._taskManager.finishTask(I.default.DEAL_POSITION.ID)}getUniqueElementId(e){return this._chartView.getUniqueElementId(e)}getEnhancedDragging(){return this._moduleLoader.getModule("dealingPositionsAndOrders").getEnhancedDragging()}getPremiumLabel(e){return e.market.isKnockout?c.default.get("premiumReceived"):"buy"===e.direction?c.default.get("premium"):c.default.get("premiumReceived")}setPriceLevel(e,t){e.setPriceLevel(t)}setLimitPointsAway(e,t){this._setAttachedOrderDetails(e,o.default.LIMIT,"setPointsAway",t)}setStopPointsAway(e,t){this._setAttachedOrderDetails(e,o.default.STOP,"setPointsAway",t)}setLimitLevel(e,t){this._setAttachedOrderDetails(e,o.default.LIMIT,"setPriceLevel",t)}setStopLevel(e,t){this._setAttachedOrderDetails(e,o.default.STOP,"setPriceLevel",t)}onPiSInfoIconHover(e,t){this._eventBus.publish("hint-tooltip/hover/enter",[{itemId:"closeButtonInfoIcon",message:e,rect:t,timeout:0,persistWhileHovering:!0,style:"positionBadgeTooltip"}])}onPiSInfoIconHoverExit(){this._eventBus.publish("hint-tooltip/hover/exit",["closeButtonInfoIcon"])}_setAttachedOrderDetails(e,t,i,n){const s=e.getAttachedOrderViewModel(t),r=!s&&(!!n||(0,w.isNaN)(n)),o=!!s&&!n&&!(0,w.isNaN)(n),a=!!s&&(!!n||(0,w.isNaN)(n));r?e.createAttachedOrderViewModel().setType(t)[i](n):o?e.removeAttachedOrderViewModel(s):a&&s[i](n)}_handleFadeOut(e){this._presentationModel.fadeOut=e,this._presentationModel.fire(E.default.FADE_OUT)}_handleMarketChanged(e){const t=this._moduleLoader.getModule("dealingCommon");this._presentationModel.isPriceInSizeEnabled=t.isPriceInSizeEnabled(),this._market&&this._market.un(null,this),this._market=e,this._market.on(m.STATUS_CHANGED,this._setEditable,this),this._market.isDelayed()||l.default.isShowingMultipleMarkets()||(this._presentationModel.priceIndicatorWidth=this._moduleLoader.getModule("dealingPositionsAndOrders").getPriceWidth(),this._initialiseViewModel(t.getOpenPositions(),t.getWorkingOrders()))}_initialiseViewModel(e,t){this._restoreEditButtonsHandling(),this._restorePositionsLayoutSolver(),this._presentationModel.reset(e,t),this._presentationModel.toggleOpenPositions(this._showOpenPositions),this._presentationModel.toggleWorkingOrders(this._showWorkingOrders),this._presentationModel.on(v.default.INVALID,this._handleInvalid,this),this._presentationModel.on(v.default.EDIT_START,this._destroyPrevEditTicket,this),this._presentationModel.on(v.default.EDITED,this.handleSubmit,this),this._presentationModel.on(v.default.DELETED,this._handleDeleted,this),this._handleDealingVisibilityChange()}_handleDealingVisibilityChange(){const e=this._settingsManager.getDealingOpenPositionsVisibility()!==this._showOpenPositions,t=this._settingsManager.getDealingWorkingOrdersVisibility()!==this._showWorkingOrders;this._showOpenPositions=this._settingsManager.getDealingOpenPositionsVisibility(),this._showWorkingOrders=this._settingsManager.getDealingWorkingOrdersVisibility(),e&&this._presentationModel.toggleOpenPositions(this._showOpenPositions),t&&this._presentationModel.toggleWorkingOrders(this._showWorkingOrders),this._presentationModel.tradeConfirmsRequired=this.getTradeConfirmsRequired(),this._presentationModel.fire(v.default.TRADE_CONFIRMS_REQUIRED_CHANGED)}_restoreEditButtonsHandling(){this._moduleEditButtons&&this._moduleEditButtons.un(null,this),this._moduleEditButtons=this._moduleLoader.getModule("dealingEditButtons"),this._moduleEditButtons&&this._moduleEditButtons.on(d.default.TOGGLED,this._setEditable,this),this._setEditable()}_restorePositionsLayoutSolver(){var e;null===(e=this._positionsLayoutSolver)||void 0===e||e.destroy(),this._positionsLayoutSolver=A.default.create(this._containerProvider,this._visibleWindow),this._presentationModel.positionsLayoutSolver=this._positionsLayoutSolver}_setEditable(){if(!this._market||!this._dealingSettingsManager)return;const e=this._moduleLoader.getModule("dealingEditButtons").showEditButtons,t=this._dealingSettingsManager.isDealingEnabled(),i=this._market.isEditable(),n=e&&i&&t;this._presentationModel.editingFeaturesEnabled=e&&t,this._presentationModel.positionsEditable=n,this._eventBus.publish("menu/item/switch",["dealing",e])}_handleVisibleWindowMoved(e,t){t&(a.default.MOVED|a.default.ZOOMED|a.default.RESIZED)&&this._presentationModel.updateLayout(),e&(a.default.MOVED|a.default.ZOOMED|a.default.RESIZED)&&this._presentationModel.notifyOfUpdate()}handleSubmit(e,t){const i=this._presentationModel.selectedViewModel;i&&this._submitChanges(i,e,t)}_handleInvalid(e,t){t.hasLastSelectedValues()?t.restoreToLastSelected():e.removeAttachedOrderViewModel(t)}_handleEditTicketChange(e,t,i,n){S.TICKET_ICC_KEYS.some((e=>n.includes(e)))&&(e.fire(S.EDIT_TICKET_ICC_CHANGED,i,i===o.default.STOP?t.stopLevel:i===o.default.LIMIT?t.limitLevel:null,{state:t.indicativeCostsAndChargesState,info:t.indicativeCostsAndCharges}),t.indicativeCostsAndChargesState!==D.ICC_API_STATES.FETCHED&&t.indicativeCostsAndChargesState!==D.ICC_API_STATES.ERROR||this._destroyPrevEditTicket())}_destroyPrevEditTicket(){this._prevSubmittedEditTicket&&(this._prevSubmittedEditTicket.destroy(),delete this._prevSubmittedEditTicket)}_updateAndSubmitEditTicket(e,t,i,n=!0){const s=t.model,r=t.updateEditTicket(e);if(e.isSubmittable)t.fire(v.default.EDIT_TICKET_SUBMIT_START,r,i),s.submitTicket(e,(()=>{if(_.default.getInstance().getFlags().showIndicativeCosts2&&(e.stopLevel&&r.includes("stopLevel")||e.limitLevel&&r.includes("limitLevel")||r.includes("triggerLevel"))){const i=r.includes("triggerLevel")?null:r.includes("stopLevel")&&e.stopLevel?o.default.STOP:o.default.LIMIT;this._prevSubmittedEditTicket=e,e.on("change",(n=>this._handleEditTicketChange(t,e,i,n)),this),this._moduleLoader.getModule("dealingCommon").initTicketIndicativeCostsService(e)}else e.destroy()})),this._eventBus.publish("tracker/ga",[(0,y.getDealUpdateTrackingPayload)(e,i)]);else{const t=(0,b.getRejectionFromTicket)(e);this._revertChanges(),this._eventBus.publish(p.default.TRADE_INVALID,[Object.assign(Object.assign({},t),{showLabel:!1})]),t.data.length&&this._eventBus.publish("tracker/ga",[(0,y.getDealUpdateTrackingPayload)(e,i,t.data)]),n&&e.destroy()}}_submitChanges(e,t,i){this._destroyPrevEditTicket(),i?this._updateAndSubmitEditTicket(i,e,t,!1):e.model.createEditTicket().then((i=>{this._updateAndSubmitEditTicket(i,e,t)}))}_revertChanges(){var e;null===(e=this._presentationModel.selectedViewModel)||void 0===e||e.restore()}_handleDeleted(e,t){t&&this.deselectPosition()}initCloseTicketIcc(){const e=this._presentationModel.selectedViewModel;if(null==e?void 0:e.closeTicket){this._moduleLoader.getModule("dealingCommon").initTicketIndicativeCostsService(e.closeTicket)}}_initCloseTicketMargin(){const e=this._presentationModel.selectedViewModel;if(null==e?void 0:e.closeTicket){this._moduleLoader.getModule("dealingCommon").initTicketMarginService(e.closeTicket)}}selectPosition(e){const t=this._dealingSettingsManager.isDealingEnabled(),i=e.model.canEdit()||e.model.canClose();this._moduleLoader.getModule("dealingEditButtons").showEditButtons&&!t&&i?this._dealingSettingsManager.showDialog((()=>this._selectPosition(e))):this._selectPosition(e)}_selectPosition(e){var t;this._moduleLoader.getModule("dealingCommon").loadDealingRules(e.model.getInstrument()),null===(t=this._presentationModel.selectedViewModel)||void 0===t||t.restore(),e.closeTicket||e.model.createCloseTicket().then((t=>{e.closeTicket=t})),this._taskManager.startTask(I.default.DEAL_POSITION,{onActivated:()=>this._onTaskActivated(e),onDeactivated:()=>this._onTaskDeactivated(),hotkeyMap:this._hotkeyMap})}_handleTradeClosedFromDialog(){var e;const t=this._presentationModel.selectedViewModel;t&&(null===(e=t.closeTicket)||void 0===e||e.destroy(),t.closeTicket=void 0,this._presentationModel.deselect())}tryClose(e,t){this.getTradeConfirmsRequired()?this._openPositionClosingDialogs(e):this._closeWithoutConfirm(e,t)}_closeWithoutConfirm(e,t){e.closeTicket&&(e.setFullCloseSize(),e.setEnabled(!1),e.model.submitTicket(e.closeTicket,(()=>{var t;null===(t=e.closeTicket)||void 0===t||t.destroy()})),this._eventBus.publish("tracker/ga",[t===C.default.CHARTS_DELETE_TICKET?(0,y.getDealDeleteTrackingPayload)(e.closeTicket,t):(0,y.getDealSubmitTrackingPayload)(e.closeTicket,t)]),e.closeTicket=void 0)}_openClosePositionDialog(e){this.initCloseTicketIcc(),this._initCloseTicketMargin(),e.closeTicket&&this._eventBus.publish("dealing/positions/close-dialog/open",[e])}_handleDialogForcedConfirm(e){if(this._dialogForcedConfirm){const e=this._dialogForcedConfirm.content.dismissal;e&&this._settingsManager.changeAccountSettings("tradingModule",(t=>(t.indicativeCostsConfirmsDismissed=e,!0)),!0),this._dialogForcedConfirm.destroy(),delete this._dialogForcedConfirm}this._openClosePositionDialog(e)}_openPositionClosingDialogs(e){_.default.getInstance().getFlags().showIndicativeCosts&&this.indicativeCostsForcedConfirms&&!this._settingsManager.getTradeConfirmsRequired()&&!this._settingsManager.getGlobalSettings("tradingModule").indicativeCostsConfirmsDismissed?(this._dialogForcedConfirm=g.default.create(this._eventBus,this._captureZoneManager,this._taskManager).initDom(this._chartView.getHtmlOverlay()),this._dialogForcedConfirm.on(s.default.DONE,(()=>this._handleDialogForcedConfirm(e)),this)):this._openClosePositionDialog(e)}moveLevelTo(e,t){const i=t-e.getPriceLevel();e.setPriceLevel(t),e.getAttachedOrdersViewModels().forEach((e=>{const t=e.getPriceLevel();e.setPriceLevel(t?t+i:null)}),this)}getTradeConfirmsRequired(){const e=this._presentationModel.selectedViewModel,t=_.default.getInstance().getFlags().showIndicativeCosts&&this.indicativeCostsForcedConfirms||this._settingsManager.getTradeConfirmsRequired();return e?e.isConfirmable()&&t:t}_handleTradeRejected(){var e;null===(e=this._presentationModel.selectedViewModel)||void 0===e||e.setEnabled(!0)}withModuleLoader(e){return super.withModuleLoader(e),this._menuApi=e.getModule("menuApi"),this}_handleChartViewReady(e,t){this._chartView=e,this._captureZoneManager=t,this._dealingSettingsManager=u.default.create(this._eventBus,this._captureZoneManager,this._containerProvider,this._settingsManager,this._taskManager),this._restoreEditButtonsHandling()}_onTaskActivated(e){this._setEditable(),this._presentationModel.select(e),this._changeOCOFadeOut(!0),e.on(S.ATTACHED_ORDER_EDITING_STARTED,(()=>{this._eventBus.publish("dealing/positions/attached-order/edit/start",[e])}),this),e.on(S.ATTACHED_ORDER_EDITING_ENDED,(()=>{this._eventBus.publish("dealing/positions/attached-order/edit/end")}),this),e.on(S.LEVEL_EDIT_START,(()=>{this._eventBus.publish("dealing/positions/level/edit/start",[e])}),this),e.on(S.LEVEL_EDIT_END,(()=>{this._eventBus.publish("dealing/positions/level/edit/end")}),this)}_onTaskDeactivated(){const e=this._presentationModel.selectedViewModel;this._revertChanges(),this._changeOCOFadeOut(!1),e&&(e.un(S.ATTACHED_ORDER_EDITING_STARTED,this),e.un(S.ATTACHED_ORDER_EDITING_ENDED,this),e.un(S.LEVEL_EDIT_START,this),e.un(S.LEVEL_EDIT_END,this)),this._presentationModel.deselect()}_changeOCOFadeOut(e){var t;const i=this._presentationModel.selectedViewModel;i&&i.isOCO()&&(i.setIsHighlighted(e),i.getCancelledBy()&&(null===(t=i.getCancelledBy())||void 0===t||t.setIsHighlighted(e)),this._handleFadeOut(e))}openEditDialogIfEditable(e){e.isEditable()?this.openEditDialog(e):this.deselectPosition()}}t.default=L},17690:(e,t,i)=>{"use strict";var n=i(15215).Bx;Object.defineProperty(t,"__esModule",{value:!0});const s=n(i(54116));class r extends s.default{setFullCloseSize(){this.closeTicket&&this.model.getDealSize()!==this.closeTicket.size&&this.closeTicket.set("size",this.model.getDealSize())}getDealId(){return this.model.getDealId()}isConfirmable(){return this.model.isConfirmable()}isEditable(){return this.presentationModel.editingFeaturesEnabled&&this.model.canEdit()}isStopOrLimitEditable(){return this.isEditable()}isAttachedOrderTextBubbleVisible(e){return this.isEditable()&&this.isStopOrLimitEditable()&&this.isSelected()&&!e.isMarkedForRemoval()}isCloseButtonVisible(){return this.isSelected()&&this.presentationModel.editingFeaturesEnabled&&this.model.canClose()&&!this.isLevelEditInProgress()}areConnectionRectsVisible(){return this.isSelected()&&this.isEditable()&&this.isStopOrLimitEditable()&&(this.isStopAllowed||this.isLimitAllowed)&&!this.isLevelEditInProgress()}}t.default=r},300:(e,t,i)=>{"use strict";var n=i(15215).Bx;Object.defineProperty(t,"__esModule",{value:!0});const s=n(i(65640)),r=i(61346),o=n(i(12488)),a=n(i(17690)),l=n(i(23463));class d extends a.default{static create(e,t){return new d(e,t)}isDraggable(){return this.isSelected()&&this.presentationModel.editingFeaturesEnabled&&!this.model.trade.isDMA}isEditable(){return super.isEditable()&&!this.model.trade.isDMA}isCloseButtonVisible(){return super.isCloseButtonVisible()&&!this.model.trade.isDMA}getEditDialogContentClass(){return s.default}getEditDialogTitle(){return o.default.get("workingOrderDialogTitle")}getDealRemovedLabel(){return o.default.get("workingOrderRemoved")}getPositionCloseText(){return o.default.get("deleteButton")}getPositionConfirmationCloseText(){return""}getPositionCssClass(){return"wo"}getPositionInfoCssClass(){return"neutral"}getPositionInfoText(){return this.model.cancelledBy()?this.isSmallWidth()?"US"===this.model.getOrderType()?o.default.get("oneCancelsOtherStopMobile"):o.default.get("oneCancelsOtherLimitMobile"):"US"===this.model.getOrderType()?o.default.get("oneCancelsOtherStop"):o.default.get("oneCancelsOtherLimit"):this.model.getFormattedGoodTill(o.default.get("good-till-format"))}getCloseButtonGradient(){return"gradient-button-white"}getConfirmationButtonGradient(){return""}getCloseButtonBoxWidth(){return this._boxWidths.positionCloseButtonText}getCloseButtonTrackingOrigin(){return l.default.CHARTS_DELETE_TICKET}_updateEditTicket(e){const t=this.getStopViewModel();e.setProperties({triggerLevel:parseFloat(this.getFormattedPrice()),stopLevel:this.getStopPointsAway(),stopLevelType:r.Level.Type.RELATIVE,limitLevel:this.getLimitPointsAway(),limitType:r.Level.Type.RELATIVE,stopTrailingDistance:t?t.getTrailingStopDistance():null,stopStep:t?t.getTrailingStopIncrement():null})}getClosestStopLevel(){return this._stopLimitUtil.getClosestStopLevel(this.getScaledPrice(),this.isTradeLong(),this.model.getStopType(),void 0,this.model.getMarketScalingFactor())}getFarthestStopLevel(){return this._stopLimitUtil.getFarthestStopLevel(this.getScaledPrice(),this.isTradeLong(),this.model.getStopType(),null,void 0,this.model.getMarketScalingFactor())}getClosestLimitLevel(){return this._stopLimitUtil.getClosestLimitLevel(this.getScaledPrice(),this.model.getMarketScalingFactor())}isOCO(){return!!this.model.cancelledBy()}getCancelledBy(){return this.presentationModel.getViewModelByDealId(this.model.cancelledBy())}showClosingIndicativeCosts(){return!1}isSelected(){return this.presentationModel.selectedViewModel===this}}t.default=d},73281:(e,t,i)=>{"use strict";var n=i(15215).Bx;Object.defineProperty(t,"__esModule",{value:!0});const s=n(i(4380)),r=n(i(87697)),o=n(i(17690)),a=i(54116);class l extends s.default{constructor(){super(...arguments),this._shouldDrawBanding=!1}initDom(){return super.initDom(),this.dContainer.classed("attachedOrderBanding",!0),this}render(){var e;this._shouldDrawBanding&&!(null===(e=this._presentationModel.getSelectedViewModel())||void 0===e?void 0:e.isLevelEditInProgress())?(this.dContainer.classed("hidden",!1),this._updateTransform(!0)):this.dContainer.classed("hidden",!0)}_subscribeToChanges(){this._presentationModel.on(r.default.SELECTED,this._handleViewModelSelected,this),this._presentationModel.on(r.default.DESELECTED,this._handleViewModelDeselected,this);const e=this._presentationModel.getSelectedViewModel();e&&this._handleViewModelSelected(e)}_unsubscribeFromChanges(){this._presentationModel.un(null,this);const e=this._presentationModel.getSelectedViewModel();e&&this._handleViewModelDeselected(e)}_handleViewModelSelected(e){e.on(a.ATTACHED_ORDER_EDITING_STARTED,this._startDrawingBanding,this,{once:!0}),e.on(a.LEVEL_EDIT_IN_PROGRESS,this.renderOnFrameEnd,this),e.on(o.default.DEALING_RULES_LOADED,this._dealingRulesUpdated,this)}_startDrawingBanding(e){this._shouldDrawBanding=e.isStopAllowed,e.on(o.default.UPDATED,this._updateTransform.bind(this,!1),this),this.renderOnFrameEnd()}_dealingRulesUpdated(){this._updateTransform(!0)}_handleViewModelDeselected(e){this._shouldDrawBanding=!1,e.un(null,this),this.renderOnFrameEnd()}_isAboveAreaShaded(){return!1}_handleXScaleChange(){this._resizeLineAndShading(0,this._visibleWindow.width())}}t.default=l},77957:(e,t,i)=>{"use strict";var n=i(15215).Bx;Object.defineProperty(t,"__esModule",{value:!0}),t.DEFAULT_RIGHT_PADDING=t.BOX_PADDING=void 0;const s=n(i(5955)),r=n(i(72873)),o=i(71211);t.BOX_PADDING=4;t.DEFAULT_RIGHT_PADDING=10;class a extends s.default{constructor(e,t,i){super(e,t),this._visibleWindow=i}initDom(){const e=this._getType();this._dBadgeContainer=this._dContainer.append("g").classed(`${e}PriceLevel`,!0).classed("hidden",!0),this._dBadgeBox=this._dBadgeContainer.append("rect").classed(`${e}LevelBox`,!0).attrs(Object.assign(Object.assign({},this._getPriceBoxDimensions()),{rx:2,ry:2})),this._dLabel=this._dBadgeContainer.append("text").classed("text",!0)}render(){let e;this._dBadgeContainer&&(this._renderContainer(),this._dLabel.attrs({x:-this._rightPadding,dy:t.BOX_PADDING}).text(this._getFormattedPriceLevel()),this._dBadgeBox.attrs(this._getPriceBoxDimensions()),e=(0,o.getTextDimensions)(this._getFormattedPriceLevel(),11,!1),this._getPriceBoxDimensions().width<=e.width+t.BOX_PADDING&&this._dBadgeBox.attr("width",e.width+t.BOX_PADDING).attr("x",-(e.width+this._rightPadding)))}destroy(){super.destroy(),this._dBadgeContainer&&(this._dBadgeContainer.remove(),delete this._dBadgeContainer)}get _rightPadding(){return t.DEFAULT_RIGHT_PADDING}_renderContainer(){const e=this._getPriceLevelPosition(),t=this._getPriceBoxDimensions().height;e<t/2||e+t/2>this._visibleWindow.height()?this._dBadgeContainer.classed("hidden",!0):this._dBadgeContainer.classed("hidden",!1).attr("transform",r.default.svgTranslateAttrXY(0,e))}}t.default=a},51837:(e,t,i)=>{"use strict";var n=i(15215).Bx,s=i(15215).ut;const r=i(43130),o=n(i(77957)),a=s(i(38731)),l=n(i(6182)),d=n(i(10520));class u extends o.default{constructor(e,t,i,n,s,r,o){super(e,t,i),this._positionViewModel=n,this._attachedOrderViewModel=s,this._presentationController=r,this._captureZoneManager=o,this._attachedOrderViewModel.on(a.TYPE_CHANGED,this._handleAttachedOrderTypeChanged,this),this._attachedOrderViewModel.on(a.UPDATE,this.renderOnFrameEnd,this)}static create(e,t,i,n,s,r,o){return new u(e,t,i,n,s,r,o)}getAttachedOrderViewModel(){return this._attachedOrderViewModel}initDom(){super.initDom(),this._createCaptureZone()}render(){super.render(),this._updateCaptureZone()}destroy(){super.destroy(),this._attachedOrderViewModel.un(null,this),this._captureZone&&(this._captureZone.destroy(),delete this._captureZone)}_renderContainer(){super._renderContainer(),this._dBadgeContainer.classed("invalid",!this._attachedOrderViewModel.isValid()).classed("markedForRemoval",this._attachedOrderViewModel.isMarkedForRemoval())}_getPriceBoxDimensions(){return this._positionViewModel.getPriceBoxDimensions()}_getPriceLevelPosition(){return this._attachedOrderViewModel.getYPositionOnScreen()}_getFormattedPriceLevel(){return this._attachedOrderViewModel.getFormattedPriceLevel()}_getType(){return(0,r.camelCase)(this._attachedOrderViewModel.getTypeCssClass())}_handleAttachedOrderTypeChanged(e,t){const i=(0,r.camelCase)(a.default.getCssClassForType(e)),n=(0,r.camelCase)(a.default.getCssClassForType(t));this._dBadgeContainer.classed(`${i}PriceLevel`,!1).classed(`${n}PriceLevel`,!0),this._dBadgeContainer.select(`rect.${i}LevelBox`).classed(`${i}LevelBox`,!1).classed(`${n}LevelBox`,!0)}_createCaptureZone(){this._captureZone=this._captureZoneManager.createTapZone(this._presentationController.openEditDialogIfEditable.bind(this._presentationController,this._positionViewModel),d.default.POSITION_SELECT_BADGE,4).withCursorOnHover(l.default.POINTER)}_updateCaptureZone(){this._captureZone&&this._captureZone.setDimensionsBasedOnElement(this._dBadgeBox)}}t.A=u},51660:(e,t,i)=>{"use strict";var n=i(15215).Bx;Object.defineProperty(t,"__esModule",{value:!0});const s=n(i(5955)),r=n(i(6182)),o=n(i(50951)),a=n(i(87529)),l=n(i(17690)),d=i(54116),u=n(i(87697)),c=n(i(72873)),h=n(i(98760)),p=n(i(10520)),_=i(69600),g=n(i(62415)),f=n(i(84811)),m=n(i(65854));class v extends s.default{constructor(e,t,i,n,s,r){super(e,t),this._captureZoneManager=i,this._positionViewModel=n,this._presentationController=s,this._initDom(),this._iccTooltip=new g.default(this._captureZoneManager,r,f.default.get("totalIndicativeClosingCostsTitle"),m.default.getInstance().getFlags().showIndicativeCosts2?_.IccInfoKeysEnum.CLOSE:_.IccInfoKeysEnum.TOTAL_CLOSING),this.render(),this._positionViewModel.on(d.CLOSE_TICKET_ICC_CHANGED,this._handleCloseTicketIccChange,this)}render(){if(this._positionViewModel.isCloseButtonVisible()){const{width:e,x:t,y:i}=this._positionViewModel.getCloseButtonDimensions();this._dCloseButton.classed("selected",this._positionViewModel.isSelected()).classed("hidden",!1).attr("transform",c.default.svgTranslateAttrXY(t,i)),this._dCloseButtonBackground.attrs({width:e}),this._dCloseButton.select("text").text(this._positionViewModel.getPositionCloseText()),this._updateIccTooltipContent(),this._enableOrDisable()}else this._dCloseButton.classed("hidden",!0),this._updateCaptureZone()}destroy(){super.destroy(),this._captureZone&&(this._captureZone.destroy(),delete this._captureZone),this._positionViewModel&&(this._positionViewModel.un(null,this),delete this._positionViewModel),this._iccTooltip&&(this._iccTooltip.destroy(),delete this._iccTooltip),this._dCloseButton&&(this._dCloseButton.remove(),delete this._dCloseButton)}_getGradient(){return`url(#${this._presentationController.getUniqueElementId(this._positionViewModel.getCloseButtonGradient())})`}_initDom(){const{x:e,y:t,width:i,height:n}=this._positionViewModel.getCloseButtonDimensions(),s=this._positionViewModel.getPositionCssClass();this._dCloseButton=this._dContainer.append("g").classed("closeButton",!0).classed(s,!0).classed("hidden",!0).attr("transform",c.default.svgTranslateAttrXY(e,t)),this._dCloseButtonBackground=this._dCloseButton.append("rect").classed("background",!0).classed(s,!0).attrs({fill:this._getGradient(),width:i,height:n,x:0,y:0,rx:2,ry:2}),this._dCloseButton.append("text").classed("label",!0).classed(s,!0).attr("dx",8).attr("dy",14),this._dCloseButton.selectAll(".border").attrs({rx:2,ry:2,width:i,height:n}),this._captureZone=this._captureZoneManager.create(o.default.BLOCK_ALL,p.default.POSITION_CLOSE_BUTTONS).withCursorOnHover(r.default.POINTER),this._captureZone.addGesture(h.default,{fastTap:!0}).withHandler(this._handleTap.bind(this)).withStartHandler((()=>this._dCloseButton.classed("pressed",!0))).withEndHandler((()=>this._dCloseButton.classed("pressed",!1))),this._captureZone.setHoverHandler({in:this._handleHoverIn,inContext:this,out:this._handleHoverOut,outContext:this}),this._positionViewModel.on(l.default.ENABLED_OR_DISABLED,this._enableOrDisable,this),this._positionViewModel.on(u.default.TRADE_CONFIRMS_REQUIRED_CHANGED,this._updateGradient,this)}_handleCloseTicketIccChange(){this._showClosingIndicativeCosts&&(this._presentationController.initCloseTicketIcc(),this._updateIccTooltipContent())}_updateIccTooltipContent(){this._iccTooltip.data=this._positionViewModel.closingIcc}_updateGradient(){this._dCloseButton&&this._dCloseButton.select("rect").attr("fill",this._getGradient())}_createLoadingSpinner(){a.default.create().initDom(this._dCloseButton).attrs({x:17,y:0,width:l.default.BOX_HEIGHT-4,height:l.default.BOX_HEIGHT})}_removeLoadingSpinner(){this._dCloseButton.select(".loadingSpinner").remove()}_updateCaptureZone(){this._positionViewModel.isCloseButtonVisible()?(this._captureZone.setDimensionsBasedOnElement(this._dCloseButton,this._positionViewModel.presentationModel.subview.dimensions),this._captureZone.show()):this._captureZone.hide()}_enableOrDisable(){this._removeLoadingSpinner(),this._positionViewModel.isEnabled()?this._dCloseButton.classed("disabled",!1):(this._dCloseButton.classed("disabled",!0),this._createLoadingSpinner()),this._updateCaptureZone()}_handleTap(){this._positionViewModel.isEnabled()&&this._presentationController.tryClose(this._positionViewModel,this._positionViewModel.getCloseButtonTrackingOrigin())}get _showClosingIndicativeCosts(){return this._positionViewModel.showClosingIndicativeCosts()&&!this._presentationController.getTradeConfirmsRequired()}_handleHoverIn(){this._dCloseButton.classed("hover",!0),this._showClosingIndicativeCosts&&(this._updateIccTooltipContent(),this._presentationController.initCloseTicketIcc(),this._iccTooltip.show(this._dCloseButton.node().getBoundingClientRect()))}_handleHoverOut(){this._dCloseButton.classed("hover",!1),this._iccTooltip.hide()}}t.default=v},31074:(e,t,i)=>{"use strict";var n=i(15215).Bx;const s=i(43130),r=n(i(98185)),o=n(i(12488)),a=n(i(10520)),l=n(i(8247));class d extends r.default{static create(e,t,i,n,s,r,o,a){return new d(e,t,i,n,s,r,o,a)}_getBubbleText(){return o.default.get((0,s.camelCase)(this._attachedOrderViewModel.getType()||""))}_initialiseTextBubble(){this._textBubble.classed(`ig${this._attachedOrderViewModel.getType()}TextBubble`,!0).withZIndex(a.default.STOP_OR_LIMIT_TEXT_BUBBLE).showCues(!1)}_renderContainer(){return super._renderContainer().classed(`ig${this._attachedOrderViewModel.getType()}`,!0)}_handleTap(){this._positionViewModel.isSelected()?this._presentationController.deselectPosition():this._presentationController.selectPosition(this._positionViewModel)}_renderProfitLoss(){this._attachedOrderViewModel.getType()===l.default.STRIKE_LINE?this._profitLossBubble.hide():super._renderProfitLoss()}_setProfitLossText(){this._attachedOrderViewModel.getType()!==l.default.STRIKE_LINE&&this._profitLossBubble.setText(this._attachedOrderViewModel.getProfitLoss())}}t.A=d},30150:(e,t,i)=>{"use strict";var n=i(15215).Bx;Object.defineProperty(t,"__esModule",{value:!0});const s=n(i(5955)),r=n(i(6182)),o=n(i(17690)),a=n(i(72873)),l=n(i(10520)),d=i(69600),u=n(i(62415)),c=i(54116),h=n(i(87697)),p=n(i(84811)),_=n(i(23463)),g=n(i(81758)),f=i(84039),m=n(i(85673)),v=n(i(12488));class A extends s.default{constructor(e,t,i,n,s,r,o){super(e,t),this._captureZoneManager=i,this._subView=n,this._positionViewModel=s,this._presentationController=r,this._eventBus=o,this._initDom(),this.render(),this._positionViewModel.showOpeningIndicativeCosts()&&(this._iccTooltip=new u.default(this._captureZoneManager,o,p.default.get("totalIndicativeOpeningCostsTitle"),d.IccInfoKeysEnum.TOTAL_OPENING,!0),this._positionViewModel.on(c.EDIT_TICKET_ICC_CHANGED,this._onEditTicketIccChanged,this),this._positionViewModel.on(h.default.EDIT_TICKET_SUBMIT_START,this._onEditTicketSubmitStart,this))}render(){this._dPositionContainer.attr("class","").classed("igPosition",!0).classed("highlighted",this._positionViewModel.isHighlighted()).classed(this._positionViewModel.getPositionCssClass(),!0).classed(this._positionViewModel.getDirectionCssClass(),!0),this._dBadgeContainer.attr("transform",a.default.svgTranslateAttrY(this._positionViewModel.getBadgePositionOnScreen())),this._dPositionContainer.classed("hidden",!this._positionViewModel.getDealSize()).classed("selected",this._positionViewModel.isSelected()).classed("unselected",!!this._positionViewModel.presentationModel.selectedViewModel&&!this._positionViewModel.isSelected()).attr("data-deal-id",this._positionViewModel.getDealId()),this._dBorderRect.attrs(this._positionViewModel.getPositionBorderBoxDimensions()),this._renderSizeElements(),this._renderPositionInfo(),this._renderSeparator(),this._updateCaptureZone()}destroy(){super.destroy(),this._positionViewModel.un(null,this),this._captureZone&&(this._captureZone.destroy(),delete this._captureZone),this._iccTooltip&&(this._iccTooltip.destroy(),delete this._iccTooltip),this._dPositionContainer.remove(),delete this._dPositionContainer}_onEditTicketIccChanged(e,t,i){this._iccTooltip&&!e&&(this._iccTooltip.data=i)}_onEditTicketSubmitStart(e,t){t!==_.default.CHARTS_DRAG_EDIT_TICKET||!this._iccTooltip||e.includes("stopLevel")||e.includes("limitLevel")||(this._iccTooltip.data=void 0,this._iccTooltip.show(this._dBadgeContainer.node().getBoundingClientRect()))}_renderSizeElements(){const e=this._positionViewModel.getSizeBoxDimensions();this._infoIcon&&(this._presentationController.getTradeConfirmsRequired()?this._infoIcon.setVisible(!1):this._infoIcon.setVisible(!0).attr("x",e.x+o.default.TEXT_PADDING).updateCaptureZone()),this._dSizeText.text(this._positionViewModel.getSizeText()).attrs(e).attr("x",e.x+e.width-o.default.TEXT_PADDING)}_renderPositionInfo(){const e=this._positionViewModel.getPositionInfoBoxDimensions();this._dPositionInfoText.attr("class","").attrs(e).attr("x",e.x+e.width-o.default.TEXT_PADDING).text(this._positionViewModel.getPositionInfoText()).classed("positionInfoText",!0).classed(this._positionViewModel.getPositionInfoCssClass(),!0)}_renderSeparator(){var e;null===(e=this._dSeparator)||void 0===e||e.attr("x1",this._positionViewModel.getSeparatorPosition()).attr("y1",3).attr("x2",this._positionViewModel.getSeparatorPosition()).attr("y2",this._positionViewModel.getPositionBorderBoxDimensions().height-3)}_initDom(){this._dPositionContainer=this._dContainer.append("g"),this._dBadgeContainer=this._dPositionContainer.append("g"),this._dBorderRect=this._dBadgeContainer.append("rect").classed("border",!0).attr("rx",2).attr("ry",2),this._positionViewModel.getPositionInfoText()&&(this._dSeparator=this._dBadgeContainer.append("line").classed("separator",!0)),this._initSizeDom(),this._initProfitLossDom(),this._positionViewModel.areInteractionsEnabled()&&this._createCaptureZone()}_onInfoIconHoverEnter(){this._infoIcon&&this._infoIconTooltip&&this._presentationController.onPiSInfoIconHover(this._infoIconTooltip.node(),this._infoIcon.getDimensions())}_initSizeDom(){this._dSizeContainer=this._dBadgeContainer.append("g"),this._presentationController.getPresentationModel().isPriceInSizeEnabled&&(this._infoIcon=new g.default(this._dSizeContainer,this._captureZoneManager).attr({y:3,height:14}),m.default.isMobile()||(this._infoIcon.onHover(this._onInfoIconHoverEnter,this._presentationController.onPiSInfoIconHoverExit,this).updateCaptureZoneIndex(l.default.POSITION_CLOSE_BUTTONS),this._infoIconTooltip=(0,f.select)(document.createElement("div")),this._infoIconTooltip.append("p").classed("priceLadderTooltip",!0).text(v.default.get("spreadTableTooltip")))),this._dSizeText=this._dSizeContainer.append("text").attr("dy",o.default.TEXT_VERTICAL_OFFSET).style("text-anchor","end").classed("sizeText",!0).classed(this._positionViewModel.getSizeCssClass(),!0)}_initProfitLossDom(){this._dPositionInfoContainer=this._dBadgeContainer.append("g"),this._dPositionInfoText=this._dPositionInfoContainer.append("text").attr("dy",o.default.TEXT_VERTICAL_OFFSET).style("text-anchor","end").classed("positionInfoText",!0).classed(this._positionViewModel.getPositionInfoCssClass(),!0)}_createCaptureZone(){this._captureZone=this._captureZoneManager.createTapZone(this._handleTap.bind(this),l.default.POSITION_SELECT_BADGE).withDefaultPadding(),this._captureZone.withCursorOnHover(r.default.POINTER)}_handleTap(){this._positionViewModel.isSelected()?this._presentationController.openEditDialogIfEditable(this._positionViewModel):this._presentationController.selectPosition(this._positionViewModel)}_updateCaptureZone(){if(this._captureZone){const e=this._positionViewModel.presentationModel.selectedViewModel?l.default.POSITION_SELECT_BADGE_ON_POSITION_SELECTED:l.default.POSITION_SELECT_BADGE;this._captureZoneManager.updateCaptureZoneZIndex(this._captureZone,e,!!this._captureZone.zIndex),this._captureZone.setDimensionsBasedOnElement(this._dPositionContainer,this._subView.dimensions)}}}t.default=A},93857:(e,t,i)=>{"use strict";var n=i(15215).Bx;const s=n(i(5955)),r=n(i(51660)),o=n(i(30150));class a extends s.default{constructor(e,t,i,n,s,a,l){super(e,t),this._positionViewModel=s,this._subView=n,this._presentationController=a,this._badgeHelper=new o.default(e,this._animationPoller,i,this._subView,this._positionViewModel,this._presentationController,l),this._positionViewModel.isCloseButtonAvailable()&&(this._closeHelper=new r.default(e,this._animationPoller,i,this._positionViewModel,this._presentationController,l)),this.render()}static create(e,t,i,n,s,r,o){return new a(e,t,i,n,s,r,o)}render(){var e;this._badgeHelper.render(),null===(e=this._closeHelper)||void 0===e||e.render()}destroy(){super.destroy(),this._badgeHelper.destroy(),delete this._badgeHelper,this._closeHelper&&(this._closeHelper.destroy(),delete this._closeHelper)}}t.A=a},80309:(e,t,i)=>{"use strict";var n=i(15215).Bx;const s=n(i(77957)),r=n(i(6182)),o=n(i(73142)),a=n(i(87697)),l=n(i(17690)),d=n(i(72873)),u=n(i(10520)),c=n(i(23463));class h extends s.default{constructor(e,t,i,n,s,r,o){super(e,t,r.visibleWindow),this._isEditable=!1,this._captureZoneManager=i,this._positionViewModel=s,this._presentationModel=r,this._presentationController=o,this._subView=n}static create(e,t,i,n,s,r,o){return new h(e,t,i,n,s,r,o)}static _initTriangle(e,t){const i=t?-1:1;return e.append("polygon").classed("dragCue",!0).attr("points","0,0 20,0 10,"+10*i)}initDom(){super.initDom(),this._initPriceLevelDom(),this._initEditLevelDom(),this._tapZone=this._captureZoneManager.createTapZone(this._presentationController.openEditDialogIfEditable.bind(this._presentationController,this._positionViewModel),u.default.POSITION_SELECTED_LAYER,4),this._panGestureRecogniser=o.default.create({handleHold:!0}).withStartHandler(this._handlePanStart,this).withHandler(this._handlePan,this).withEndHandler(this._handlePanEnd,this)}_initPriceLevelDom(){this._dBadgeContainer.classed(this._positionViewModel.getDirectionCssClass(),!0).classed(this._positionViewModel.getPositionCssClass(),!0),this._dBadgeBox.classed("priceBox",!0)}_initEditLevelDom(){const e=this._positionViewModel.getPriceBoxDimensions().width;this._dPriceEditContainer=this._dBadgeContainer.append("g").classed("positionDragged",!0).classed("hidden",!0).attr("transform",d.default.svgTranslateAttrX(-20-this._presentationModel.priceIndicatorWidth)),this._dPriceEditBox=this._dPriceEditContainer.append("rect").classed("editBox",!0).attr("height",19).attr("x",-e-l.default.BOX_PADDING).attr("y",-9.5).attr("rx",2).attr("ry",2),this._dPriceEditLabel=this._dPriceEditContainer.append("text").classed("editLevel",!0).attr("x",-e).attr("dy","0.4em")}render(){super.render(),this._dBadgeContainer.classed(this._positionViewModel.getOppositeDirectionCssClass(),!1).classed(this._positionViewModel.getDirectionCssClass(),!0),this._dPriceEditLabel.text(this._getFormattedPriceLevel()),this._dPriceEditBox.attr("width",this._presentationModel.priceIndicatorWidth),this._updateEditableElements(),this._tapZone.setDimensionsBasedOnElement(this._dBadgeBox,this._subView.dimensions)}_updateEditableElements(){const e=this._positionViewModel.isStopOrLimitEditable()&&this._positionViewModel.isEditable()&&this._positionViewModel.isDraggable()&&this._presentationController.getEnhancedDragging();!this._isEditable&&e?(h._initTriangle(this._dBadgeContainer,!0).attr("transform",d.default.svgTranslateAttrXY(-this._presentationModel.priceIndicatorWidth/2-7,-this._positionViewModel.getPriceBoxDimensions().height/2-3)),h._initTriangle(this._dBadgeContainer,!1).attr("transform",d.default.svgTranslateAttrXY(-this._presentationModel.priceIndicatorWidth/2-7,this._positionViewModel.getPriceBoxDimensions().height/2+3)),this._tapZone.addGestureRecogniser(this._panGestureRecogniser),this._tapZone.withCursorOnHover(r.default.NS_RESIZE)):this._isEditable&&!e&&(this._dBadgeContainer.selectAll(".dragCue").remove(),this._tapZone.removeGestureRecogniser(this._panGestureRecogniser),this._tapZone.withoutCursorOnHover()),this._isEditable=e}_handlePanStart(){this._positionViewModel.setLevelEditInProgress(!0),this._dPriceEditContainer.classed("hidden",!1)}_handlePan(e){const t=e.y?Math.min(this._presentationModel.visibleWindow.height(),e.y):this._presentationModel.visibleWindow.height(),i=Math.max(0,t),n=this._presentationModel.visibleWindow.y.invert(i);this._presentationController.moveLevelTo(this._positionViewModel,n)}_handlePanEnd(){this._positionViewModel.currentPriceLevelDoesNotEqualOpenLevel()&&this._presentationModel.fire(a.default.EDITED,c.default.CHARTS_DRAG_EDIT_TICKET),this._dPriceEditContainer.classed("hidden",!0),this._positionViewModel.setLevelEditInProgress(!1)}_getFormattedPriceLevel(){return this._positionViewModel.getFormattedPrice()}_getPriceBoxDimensions(){return this._positionViewModel.getPriceBoxDimensions()}_getPriceLevelPosition(){return this._positionViewModel.getPricePositionOnScreen()}_getType(){return"positionSelected"}destroy(){super.destroy(),this._panGestureRecogniser&&(this._positionViewModel.setLevelEditInProgress(!1),this._panGestureRecogniser.withEndHandler(),this._panGestureRecogniser.destroy(),delete this._panGestureRecogniser),this._tapZone&&(this._tapZone.destroy(),delete this._tapZone)}}t.A=h},68987:(e,t,i)=>{"use strict";var n=i(15215).Bx;const s=n(i(98185)),r=n(i(6182)),o=n(i(72873)),a=n(i(17690)),l=i(54116),d=n(i(74790)),u=n(i(10520)),c=n(i(62415)),h=n(i(84811)),p=i(69600),_=n(i(65854)),g=n(i(8247));class f extends s.default{constructor(e,t,i,n,s,r,o,a,d){if(super(e,t,i,n,s,r,o,a),this._positionViewModel.showClosingIndicativeCosts()&&_.default.getInstance().getFlags().showIndicativeCosts2){const e=this._attachedOrderViewModel.getAttachedOrder();e&&(this._iccTooltip=new c.default(this._captureZoneManager,d,h.default.get("totalIndicativeClosingCostsTitle"),e.type===g.default.STOP?p.IccInfoKeysEnum.STOP:p.IccInfoKeysEnum.LIMIT,!0,e.type),this._positionViewModel.on(l.EDIT_TICKET_ICC_CHANGED,this._onEditTicketIccChanged,this),this._onEditTicketIccChanged(e.type,e.priceLevel),this._positionViewModel.isSelected()&&this._showIccTooltip(),this._positionViewModel.on(l.ATTACHED_ORDER_EDITING_ENDED,this._onAttachedOrderEditingEnded,this))}}static create(e,t,i,n,s,r,o,a,l){return new f(e,t,i,n,s,r,o,a,l)}render(){var e;const t=super.render();return this._renderRemoveButton(),this._positionViewModel.isSelected()||null===(e=this._iccTooltip)||void 0===e||e.hide(!0),t}destroy(){super.destroy(),this._removeBtn&&(this._removeBtn.destroy(),delete this._removeBtn),this._positionViewModel.un(l.ATTACHED_ORDER_EDITING_ENDED,this),this._positionViewModel.un(l.EDIT_TICKET_ICC_CHANGED,this),this._iccTooltip&&(this._iccTooltip.destroy(),delete this._iccTooltip)}_initialiseTextBubble(){this._textBubble.classed("igStop igLimit",!1).classed(`ig${this._attachedOrderViewModel.getTypeCssClass()}`,!0).withHandler(this._handlePan,this).withEndHandler(this._handleEndPan,this).withZIndex(u.default.STOP_OR_LIMIT_TEXT_BUBBLE).showCues(this._presentationController.getEnhancedDragging())}_renderContainer(){return super._renderContainer().classed("invalid",!this._attachedOrderViewModel.isValid()).classed("markedForRemoval",this._attachedOrderViewModel.isMarkedForRemoval()).classed("igStop igLimit",!1).classed(`ig${this._attachedOrderViewModel.getTypeCssClass()}`,!0)}_renderSelectedLine(e){super._renderSelectedLine(e),this._selectedLine.classed("markedForRemoval",this._attachedOrderViewModel.isMarkedForRemoval())}_applyAttachedOrderClasses(e){e.classed("igStop igLimit",!1),super._applyAttachedOrderClasses(e),e.classed("invalid",!this._attachedOrderViewModel.isValid())}_getBubbleText(){return this._attachedOrderViewModel.getAttachedOrderBubbleText()}_setLinePosition(){const e=this._positionViewModel.presentationModel.subview.dimensions,t=this._positionViewModel.isSelected(),i=this._attachedOrderViewModel.getYPositionOnScreen(),n=this._positionViewModel.getFullPositionWidth();this._positionViewModel.areInteractionsEnabled()&&(this._line.setEditEnabled(t),this._line.showCaptureZone(),this._line.updateCaptureZoneIndex(t?u.default.POSITION_SELECTED_STOP_LIMIT_LINE:u.default.ANNOTATION_SELECTION));const s={x1:this._getInitialXPosition(),x2:n-(t?a.default.MARGIN:0),y1:i,y2:i};for(const r of[this._line,this._selectedLine])r.setLineCoordinates(s),r.setCaptureZoneConstraints(e);this._attachedOrderViewModel.isMarkedForRemoval()&&this._line.hideCaptureZone()}_getInitialXPosition(){let e=0;return this._positionViewModel.isAttachedOrderLineCropped(this._attachedOrderViewModel)&&(e+=a.default.MARGIN+this._profitLossBubble.getWidth(),e+=this._attachedOrderViewModel.isRemoveButtonVisible()?12:0),e}_handleTap(){this._positionViewModel.isSelected()?(this._line.withCursorOnHover(r.default.POINTER),this._presentationController.deselectPosition()):(this._line.withCursorOnHover(r.default.NS_RESIZE),this._presentationController.selectPosition(this._positionViewModel))}_addCloseButton(){const e=this._attachedOrderViewModel.getRemoveButtonZIndex();this._removeBtn=new d.default(this._dRectContainer,this._captureZoneManager,e).onTap(this._handleRemoveStopLimit.bind(this),this)}_renderRemoveButton(){if(this._attachedOrderViewModel.isRemoveButtonVisible()){const e=this._profitLossBubble.getWidth()+7,t=this._attachedOrderViewModel.getYPositionOnScreen()-9.5;this._removeBtn.classed("hidden",!1),this._removeBtn.attr("transform",o.default.svgTranslateAttrXY(e,t)),this._removeBtn.showCaptureZone(),this._removeBtn.updateCaptureZone(),this._removeBtn.setCaptureZoneConstraints(this._positionViewModel.presentationModel.subview.dimensions)}else this._removeBtn.classed("hidden",!0),this._removeBtn.hideCaptureZone();this._removeBtn.classed("close closeLimit closeStop",!1),this._removeBtn.classed(`close${this._attachedOrderViewModel.getTypeCssClass()}`,!0)}_handlePan(e){var t;this._attachedOrderViewModel.isDraggable()&&(this._positionViewModel.editStopLimit(this._attachedOrderViewModel,e.y),null===(t=this._iccTooltip)||void 0===t||t.hide(!0))}_handleEndPan(){this._attachedOrderViewModel.isDraggable()&&this._positionViewModel.endEditStopLimit(this._attachedOrderViewModel)}_handleRemoveStopLimit(){this._positionViewModel.markForRemoval(this._attachedOrderViewModel)}_onEditTicketIccChanged(e,t,i){var n;this._iccTooltip&&(null===(n=this._attachedOrderViewModel.getAttachedOrder())||void 0===n?void 0:n.type)===e&&(this._iccTooltip.data=i?Object.assign(Object.assign({},i),{attachedOrderLevel:t}):void 0)}_onAttachedOrderEditingEnded(e){e===this._attachedOrderViewModel&&e.isValid()&&e.getLastSelectedPriceLevel()!==e.getPriceLevel()&&this._showIccTooltip()}_showIccTooltip(){var e;null===(e=this._iccTooltip)||void 0===e||e.show(this._profitLossBubble.getBoundingClientRect())}}t.A=f},44455:(e,t,i)=>{"use strict";var n=i(15215).Bx;Object.defineProperty(t,"__esModule",{value:!0});const s=n(i(73281));class r extends s.default{constructor(e,t,i,n){super(e,t,i,n),this._animationNamespace="maximumBanding"}_getBaseValue(){const e=this._shouldDrawBanding?this._presentationModel.getSelectedViewModel():void 0,t=this._visibleWindow.y.domain()[0];let i=null;return e&&(i=e.isTradeLong()&&e.getFarthestStopLevel()||t),i}_getAreaHeight(){const e=this._shouldDrawBanding?this._presentationModel.getSelectedViewModel():void 0,t=this._visibleWindow.y.domain()[0],i=this._visibleWindow.y.domain()[1];let n,s=0;if(e){if(n=e.getFarthestStopLevel(),void 0===n)return 0;s=e.isTradeLong()?this._visibleWindow.y(i)-this._visibleWindow.y(n):this._visibleWindow.y(n)-this._visibleWindow.y(t)}return s>0?s:0}}t.default=r},62320:(e,t,i)=>{"use strict";var n=i(15215).Bx;Object.defineProperty(t,"__esModule",{value:!0});const s=n(i(73281));class r extends s.default{constructor(e,t,i,n){super(e,t,i,n),this._animationNamespace="minimumBanding"}_getBaseValue(){const e=this._shouldDrawBanding?this._presentationModel.getSelectedViewModel():void 0;let t=null;return e&&(t=Math.max(e.getClosestStopLevel()||0,e.getClosestLimitLevel()||0)),t}_getAreaHeight(){const e=this._shouldDrawBanding?this._presentationModel.getSelectedViewModel():void 0;let t=0;return e&&(t=Math.abs(this._visibleWindow.y(e.getClosestStopLevel()||0)-this._visibleWindow.y(e.getClosestLimitLevel()||0))),t}}t.default=r},60268:(e,t,i)=>{"use strict";var n=i(15215).Bx;Object.defineProperty(t,"__esModule",{value:!0});const s=n(i(49625)),r=n(i(12488)),o=n(i(65854));class a extends s.default{constructor(){super(...arguments),this._showCloseButton=!1}startRedrawingBasedOnChangesInVisibleWindow(){super.startRedrawingBasedOnChangesInVisibleWindow(),this._eventBus.subscribe("dealing/positions/attached-order/edit/start",this._handleEditAttachedOrder,this),this._eventBus.subscribe("dealing/positions/attached-order/edit/end",this._handleEditEnd,this),this._eventBus.subscribe("dealing/positions/level/edit/start",this._handleEditLevel,this),this._eventBus.subscribe("dealing/positions/level/edit/end",this._handleEditEnd,this)}initDom(){return super.initDom(),this.dContainer.classed("info pendingIcc",!0),this.dContainer.select(".icon").classed("iconInfo",!0),this._dTextContainer.append("span").text(r.default.get("setLevelForIcc")),this}destroy(){super.destroy(),this._eventBus.unsubscribe("dealing/positions/attached-order/edit/start",this._handleEditAttachedOrder,this),this._eventBus.unsubscribe("dealing/positions/attached-order/edit/end",this._handleEditEnd,this),this._eventBus.unsubscribe("dealing/positions/level/edit/start",this._handleEditLevel,this),this._eventBus.unsubscribe("dealing/positions/level/edit/end",this._handleEditEnd,this)}_handleEditAttachedOrder(e){e.showClosingIndicativeCosts()&&o.default.getInstance().getFlags().showIndicativeCosts2&&this._show()}_handleEditLevel(e){e.showOpeningIndicativeCosts()&&this._show()}_handleEditEnd(){this._hide()}}t.default=a},17490:(e,t,i)=>{"use strict";var n=i(15215).Bx;const s=n(i(43735)),r=n(i(52412)),o=n(i(52893)),a=i(73731),l=n(i(30623)),d=n(i(63846)),u=n(i(14243)),c=n(i(289)),h=i(58167);class p extends c.default{constructor(e,t,i,n,s){super(),this._editable=!0,this._menuVisible=!1,this._renderersAdded=!1,this._eventBus=e,this._moduleLoader=i,this._settingsManager=s,t&&"boolean"==typeof t.editable&&(this._editable=t.editable)}isEditable(){return this._editable}getEnhancedDragging(){return this._moduleLoader.getModule("dealingPositionsAndOrders").getEnhancedDragging()}init(){this._eventBus.subscribe("chart/view/ready",this._handleChartViewReady,this),this._eventBus.subscribe("chart/view/destroyed",this._handleChartViewDestroyed,this),this._eventBus.subscribe("preview/set",this._handlePreviewUpdate,this),this._eventBus.subscribe("chart/epic/changed",this._clearPreviewOnEpicChange,this),this._eventBus.subscribe("dealing/market/change",this._handleMarketChanged,this),this._changePreviewVisibility();for(const e of[u.default.DEALING,u.default.POSITION_PREVIEW_VISIBILITY])this._settingsManager.on((0,a.getGlobalSettingsEvent)(e),this._changePreviewVisibility,this)}destroy(){this._eventBus.unsubscribeAll(this),this._settingsManager.un(null,this),this._changePreviewVisibility(!1),this._clearPreviewOnEpicChange(),this._handleChartViewDestroyed()}_handleChartViewReady(e){this._chartView=e,this._changeMenuVisibility(),this._settingsManager.on((0,a.getGlobalSettingsEvent)(u.default.DEALING),this._changeMenuVisibility,this)}_handleChartViewDestroyed(){this._settingsManager.un((0,a.getGlobalSettingsEvent)(u.default.DEALING),this),this._changeMenuVisibility(!1),delete this._chartView}_changePreviewVisibility(e){"boolean"!=typeof e&&(e=this._settingsManager.getPositionPreviewVisibilitySettings()&&!this._settingsManager.getGlobalSettings(u.default.DEALING).getAggregateSetting()),e&&!this._renderersAdded?(this._eventBus.publish("subViews/config",["dealing-preview",r.default]),this._chartView&&this._chartView.addRenderersBySubviewConfig(r.default)):!e&&this._renderersAdded&&(this._eventBus.publish("subViews/removeConfig",["dealing-preview"]),this._chartView&&this._chartView.removeRenderersBySubviewConfig(r.default)),this._renderersAdded=e}_changeMenuVisibility(e){"boolean"!=typeof e&&(e=!!this._chartView&&!this._settingsManager.getGlobalSettings(u.default.DEALING).getAggregateSetting()),e&&!this._menuVisible?this._eventBus.publish("menu/item/switch",[h.VisibilityMenuOption.POSITION_PREVIEW,!0]):!e&&this._menuVisible&&this._eventBus.publish("menu/item/switch",[h.VisibilityMenuOption.POSITION_PREVIEW,!1]),this._menuVisible=e}getPreviewModel(){return this._previewModel||null}_handlePreviewUpdate(e){e&&(d.default.areValidProperties(e)||l.default.areValidProperties(e))?this._currentMarket?this._previewModel?this._previewModel instanceof d.default&&d.default.areValidProperties(e)||this._previewModel instanceof l.default&&l.default.areValidProperties(e)?this._previewModel.update(e):(this._removePreview(),this._createPreview(e)):this._createPreview(e):this._tempProperties=e:this._previewModel&&this._removePreview()}_createPreview(e){d.default.areValidProperties(e)?this._previewModel=d.default.create(e,this._currentMarket):l.default.areValidProperties(e)&&(this._previewModel=l.default.create(e,this._currentMarket)),this.fire(s.default.POSITION_PREVIEW_TOGGLED,this._previewModel)}_removePreview(){this._previewModel&&(this._previewModel.destroy(),delete this._previewModel,this.fire(s.default.POSITION_PREVIEW_TOGGLED,null))}_clearPreviewOnEpicChange(){this._removePreview(),delete this._currentMarket,delete this._tempProperties}_handleMarketChanged(e){this._currentMarket!==e&&(this._currentMarket=e,this._tempProperties&&(this._handlePreviewUpdate(this._tempProperties),delete this._tempProperties))}}p.settingsParsers={global:{moduleName:u.default.POSITION_PREVIEW_VISIBILITY,parserClass:o.default}},t.A=p},30623:(e,t,i)=>{"use strict";var n=i(15215).Bx;Object.defineProperty(t,"__esModule",{value:!0});const s=n(i(77884)),r=n(i(65429)),o=i(69600);class a extends r.default{static create(e,t){return new a(e,t)}static areValidProperties(e){return!(!e||!e.dealingPreviewDirection||e.dealingPreviewType!==s.default.ORDER||e.dealingPreviewOrderType!==o.ShareDealingOrderTypes.MARKET&&!e.dealingPreviewOrderLevel||!e.dealingPreviewOrderGoodTill)}update(e){return super.update(e)}get useMarketPrice(){return this._orderType===o.ShareDealingOrderTypes.MARKET}get isLimitAllowed(){return!this._limitDisabled}getOpenLevel(){return this.useMarketPrice?super.getOpenLevel():this._orderLevel*this._market.getScalingFactor()}setOrderLevel(e){this._orderLevel=e}getGoodTill(){return this._goodTill}_setGoodTill(e){this._goodTill=e}getState(){return Object.assign(Object.assign({},this._getState()),{dealingPreviewType:s.default.ORDER,dealingPreviewOrderGoodTill:this._goodTill,dealingPreviewOrderLevel:this._orderLevel})}_update(e){this._limitDisabled=e.dealingPreviewLimitDisabled,this._orderType=e.dealingPreviewOrderType,this.setOrderLevel(e.dealingPreviewOrderLevel),super._update(e),this._setGoodTill(e.dealingPreviewOrderGoodTill)}}t.default=a},63846:(e,t,i)=>{"use strict";var n=i(15215).Bx;Object.defineProperty(t,"__esModule",{value:!0});const s=i(43130),r=n(i(77884)),o=i(87587),a=n(i(71037)),l=n(i(66719)),d=n(i(65429)),u=n(i(8247));class c extends d.default{constructor(e,t){super(e,t),this._market.on(o.PRICES_UPDATED,this._onMarketPriceUpdate,this)}static create(e,t){return new c(e,t)}static areValidProperties(e){return!(!e||!e.dealingPreviewDirection||e.dealingPreviewType!==r.default.POSITION)}isKnockout(){return!!this._strikeLine||super.isKnockout()}_setAttachedOrderLevel(e,t){!this[e]&&t?(this[e]=l.default.create(this,"_strikeLine"===e?u.default.STRIKE_LINE:u.default.KNOCKOUT,this.getMarketScalingFactor()),this[e].priceLevel=t,this.fire(a.default.ATTACHED_ORDER_ADDED,this[e])):this[e]&&t?(this[e].priceLevel=t,this.fire(a.default.ATTACHED_ORDER_CHANGED,this[e])):this[e]&&(this.fire(a.default.ATTACHED_ORDER_REMOVED,this[e]),this[e].destroy(),delete this[e]),this.fire(a.default.CHANGE)}getKnockout(){return this._ko||null}getKnockoutLevel(){var e;return(null===(e=this._ko)||void 0===e?void 0:e.priceLevel)||null}setKnockoutLevel(e){this._setAttachedOrderLevel("_ko",e)}getStrikeLine(){return this._strikeLine||null}getStrikeLineLevel(){var e;return(null===(e=this._strikeLine)||void 0===e?void 0:e.priceLevel)||null}setStrikeLineLevel(e){this._setAttachedOrderLevel("_strikeLine",e)}getMaximumLoss(){return this._maximumLoss||null}getState(){const e=this.getStrikeLineLevel(),t=this.getMaximumLoss();return Object.assign(Object.assign(Object.assign(Object.assign({},this._getState()),{dealingPreviewType:r.default.POSITION,dealingPreviewKnockoutLevel:this.getKnockoutLevel()}),(0,s.isFinite)(e)?{dealingPreviewStrikeLineLevel:e}:{}),"string"==typeof t?{dealingPreviewMaximumLoss:t}:{})}_update(e){super._update(e),this.setKnockoutLevel(e.dealingPreviewKnockoutLevel),this.setStrikeLineLevel(e.dealingPreviewStrikeLineLevel);const t=e.dealingPreviewMaximumLoss;this._maximumLoss="string"==typeof t?t:null}_onMarketPriceUpdate(){this.fire(a.default.PRICE_LEVEL_CHANGED,this.getOpenLevel())}}t.default=c},65429:(e,t,i)=>{"use strict";var n=i(15215).Bx;Object.defineProperty(t,"__esModule",{value:!0});const s=i(33943),r=i(61346),o=n(i(2274)),a=n(i(71037)),l=n(i(66719)),d=n(i(289)),u=i(69600),c=n(i(8247));function h(e,t){t.type===r.Level.Type.RELATIVE?e.setDistance(t.value):e.setScaledPriceLevel(t.value)}class p extends d.default{constructor(e,t){super(),this._market=t,this.update(e)}getDirection(){return this._direction}getDealSize(){return this._dealSize}getCurrencyCodeISO(){return this._currencyCodeISO}getStop(){return this._stop||null}getStopType(){var e;return(null===(e=this._stop)||void 0===e?void 0:e.subType)||null}getLimit(){return this._limit||null}isBuy(){return this._direction===o.default.Sign.BUY}getOpenLevel(){if(this.isKnockout())return this.isBuy()?this._market.getBuyMarketPrice():this._market.getSellMarketPrice();const e=this.isBuy()?this._offer:this._bid;return Number.isFinite(e)?e:this.isBuy()?this._market.getBuyPrice():this._market.getSellPrice()}getScaledPrice(){return this.getOpenLevel()/this.getMarketScalingFactor()}getStopLevel(){var e;return(null===(e=this._stop)||void 0===e?void 0:e.priceLevel)||null}getLimitLevel(){var e;return(null===(e=this._limit)||void 0===e?void 0:e.priceLevel)||null}get isStopAllowed(){return this._market.isStopAllowed}get isLimitAllowed(){return this._market.isLimitAllowed}hasGuaranteedStop(){var e;return(null===(e=this._stop)||void 0===e?void 0:e.subType)===u.StopType.GUARANTEED}getInstrument(){return this._market.getInstrument()}getMarketScalingFactor(){return this._market.getScalingFactor()}getMarketDecimalPlacesFactor(){return this._market.getDecimalPlaces()}getLotSize(){return this.getInstrument().lotSize}isKnockout(){return this.getInstrument().isKnockout}isBearKnockout(){return this.getInstrument().knockoutType===r.KNOCKOUT_TYPES.BEAR}isControlledRisk(){return this.getInstrument().controlledRisk}update(e){this._update(e),this.fire(a.default.CHANGE)}setStop(e){(null==e?void 0:e.type)===r.Level.Type.RELATIVE&&this._stop&&!this._stop.isRelative()&&(this.fire(a.default.ATTACHED_ORDER_REMOVED,this._stop),this._stop.un(null,this),this._stop.destroy(),this._stop=null),!this._stop&&e?(this._stop=l.default.create(this,c.default.STOP,this.getMarketScalingFactor(),this._stopType),h(this._stop,e),this._stop.on(s.CHANGED,this.fire.bind(this,a.default.CHANGE),this),this.fire(a.default.ATTACHED_ORDER_ADDED,this._stop)):e&&this._stop?(h(this._stop,e),this.fire(a.default.ATTACHED_ORDER_CHANGED,this._stop)):this._stop&&(this.fire(a.default.ATTACHED_ORDER_REMOVED,this._stop),this._stop.destroy(),this._stop=null),this.fire(a.default.CHANGE)}setLimit(e){(null==e?void 0:e.type)===r.Level.Type.RELATIVE&&this._limit&&!this._limit.isRelative()&&(this.fire(a.default.ATTACHED_ORDER_REMOVED,this._limit),this._limit.un(null,this),this._limit.destroy(),this._limit=null),!this._limit&&e?(this._limit=l.default.create(this,c.default.LIMIT,this.getMarketScalingFactor()),h(this._limit,e),this._limit.on(s.CHANGED,this.fire.bind(this,a.default.CHANGE),this),this.fire(a.default.ATTACHED_ORDER_ADDED,this._limit)):e&&this._limit?(h(this._limit,e),this.fire(a.default.ATTACHED_ORDER_CHANGED,this._limit)):this._limit&&(this.fire(a.default.ATTACHED_ORDER_REMOVED,this._limit),this._limit.destroy(),this._limit=null),this.fire(a.default.CHANGE)}swapAttachedOrders(){const e=this._stop;this._stop=this._limit,this._limit=e,this._stop&&(this._stop.subType=this._stopType),this._limit&&(this._limit.subType=null)}removeAttachedOrder(e){e===c.default.STOP?this.setStop(null):this.setLimit(null)}createAbsoluteAttachedOrder(e){e===c.default.STOP?this.setStop({type:r.Level.Type.ABSOLUTE,value:null}):this.setLimit({type:r.Level.Type.ABSOLUTE,value:null})}destroy(){this._market.un(null,this)}_getState(){var e,t,i;return{dealingPreviewDirection:this._direction===o.default.Sign.BUY?o.default.Term.BUY:o.default.Term.SELL,dealingPreviewStopType:(null===(e=this._stop)||void 0===e?void 0:e.subType)||null,dealingPreviewStop:(null===(t=this._stop)||void 0===t?void 0:t.getAttachedOrderState())||null,dealingPreviewLimit:(null===(i=this._limit)||void 0===i?void 0:i.getAttachedOrderState())||null,dealingPreviewSize:this._dealSize,dealingPreviewCurrency:this._currencyCodeISO}}_update(e){const t=!e.dealingPreviewStop&&this._stop&&0===(this._stop.priceLevel||0),i=!e.dealingPreviewLimit&&this._limit&&0===(this._limit.priceLevel||0);this._setDirection(e.dealingPreviewDirection===o.default.Term.BUY?o.default.Sign.BUY:o.default.Sign.SELL),this._setDealSize(e.dealingPreviewSize||0),this._setCurrency(e.dealingPreviewCurrency||"GBP"),t||(this.setStop(e.dealingPreviewStop),this._setStopType(e.dealingPreviewStopType||u.StopType.NON_GUARANTEED)),i||this.setLimit(e.dealingPreviewLimit),this._setBidAndOffer(e.dealingPreviewBidPrice,e.dealingPreviewOfferPrice)}_setDirection(e){this._direction=e}_setDealSize(e){this._dealSize=e}_setCurrency(e){this._currencyCodeISO=e}_setStopType(e){this._stopType=e,this._stop&&(this._stop.subType=this._stopType,this.fire(a.default.ATTACHED_ORDER_CHANGED,this._stop))}_setBidAndOffer(e,t){Number.isFinite(e)?this._bid=e:delete this._bid,Number.isFinite(t)?this._offer=t:delete this._offer}}t.default=p},4560:(e,t,i)=>{"use strict";var n=i(15215).Bx;const s=n(i(21335)),r=n(i(90345)),o=n(i(39160)),a=n(i(8247));class l extends o.default{static create(e,t){return new l(e,t)}constructor(e,t){super(e,t);const i=this.model.getKnockout(),n=this.model.getStrikeLine();i&&this._addAttachedOrderViewModel(i),n&&this._addAttachedOrderViewModel(n)}get _maxNumberOfAttachedOrders(){return 3}isTradeLong(){return!this.model.isBearKnockout()}canSwapAttachedOrder(){if(!this.model.isKnockout())return!1;const e=this.getAttachedOrdersViewModels();if(2!==e.length)return!1;let t=!1,i=!1,n=null;for(const s of e)s.getType()===a.default.KNOCKOUT?t=!0:s.getType()!==a.default.LIMIT&&s.getType()!==a.default.STOP||(i=!0,n=this._canSwapLimitOrderToStop(s));return t&&i&&!1!==n}getKnockoutLevel(){return this.model.getKnockout()?this.model.getKnockoutLevel():null}getMaximumLoss(){return"function"==typeof this.model.getMaximumLoss?this.model.getMaximumLoss():null}get isStopAllowed(){return!this.model.getStrikeLine()&&super.isStopAllowed}get isLimitAllowed(){return!this.model.getStrikeLine()&&super.isLimitAllowed}getMinMaxAttachedOrderLevels(){const e=this.model.getStrikeLineLevel();let{min:t,max:i}=super.getMinMaxAttachedOrderLevels();return"number"==typeof e&&(t=Math.min(t,e),i=Math.max(i,e)),{min:t,max:i}}_createAttachedOrderViewModel(e){return!e||e.type!==a.default.KNOCKOUT&&e.type!==a.default.STRIKE_LINE?s.default.create(this,e,this.presentationModel.visibleWindow):r.default.create(this,e,this.presentationModel.visibleWindow)}}t.A=l},74975:(e,t,i)=>{"use strict";const n=(0,i(15215).Bx)(i(26949)),s=i(43130);class r extends n.default{static create(e,t){return new r(e,t)}getPositionCssClass(){return"wo"}getPositionInfoCssClass(){return"neutral"}getPositionInfoText(){return"GTC"===this.model.getGoodTill()?"GTC":"GTD"}isDraggable(){return!this.model.useMarketPrice}setPriceLevel(e){return this.model.setOrderLevel((0,s.round)(e/this.getMarketScalingFactor(),this.getMarketDecimalPlacesFactor())),super.setPriceLevel(e),this.fire(n.default.EDITED),this}getClosestStopLevel(){return this._stopLimitUtil.getClosestStopLevel(this.getScaledPrice(),this.isTradeLong(),this.model.getStopType(),void 0,this.model.getMarketScalingFactor(),!0)}getFarthestStopLevel(){return this._stopLimitUtil.getFarthestStopLevel(this.getScaledPrice(),this.isTradeLong(),this.model.getStopType(),null,void 0,this.model.getMarketScalingFactor(),!0)}}t.A=r},39160:(e,t,i)=>{"use strict";var n=i(15215).Bx;Object.defineProperty(t,"__esModule",{value:!0});const s=i(43130),r=n(i(54116)),o=n(i(26949));class a extends o.default{static create(e,t){return new a(e,t)}getPositionCssClass(){return"op"}getPositionInfoCssClass(){return"positiveValue"}getPositionInfoText(){return""}isDraggable(){return!1}showPositionLevelBadge(){return!1}getKnockoutLevel(){return this.model.getKnockout()?this.model.getKnockoutLevel():null}getMinMaxAttachedOrderLevels(){const{min:e,max:t}=super.getMinMaxAttachedOrderLevels(),i=this.getKnockoutLevel();return i?{min:Math.min(e,i),max:Math.max(t,i)}:{min:e,max:t}}getClosestStopLevel(){return this._stopLimitUtil.getClosestStopLevel(null,this.isTradeLong(),this.model.getStopType(),void 0,this.model.getMarketScalingFactor(),!0)}getFarthestStopLevel(){return this._stopLimitUtil.getFarthestStopLevel(null,this.isTradeLong(),this.model.getStopType(),this.getKnockoutLevel(),void 0,this.model.getMarketScalingFactor(),!0)}getMinimumStopDistance(e){const t=Math.abs(this.getClosestStopLevel()-this.getClosestLimitLevel());return Number.isFinite(t)?{unit:"pts",value:(0,s.round)(t,this.model.getMarketDecimalPlacesFactor())}:super.getMinimumStopDistance(e)}getSizeBoxDimensions(){return{x:r.default.MARGIN,y:0,width:this.getSizeBoxWidth(),height:r.default.BOX_HEIGHT}}}t.default=a},26949:(e,t,i)=>{"use strict";var n=i(15215).Bx,s=i(15215).Cg;Object.defineProperty(t,"__esModule",{value:!0});const r=n(i(54116)),o=i(9525),a=n(i(90345)),l=n(i(8247));class d extends r.default{constructor(){super(...arguments),this.attachedOrdersVisible=!0}getDealId(){return"POSITION_PREVIEW"}isEditable(){return this.presentationModel.positionsEditable}areConnectionRectsVisible(){return this.isEditable()&&(this.isStopAllowed||this.isLimitAllowed)}isCloseButtonAvailable(){return!1}getPositionCloseText(){return""}getPositionConfirmationCloseText(){return""}getCloseButtonBoxWidth(){return 0}getCloseButtonGradient(){return"gradient-button-white"}isAttachedOrderTextBubbleVisible(){return!0}isAttachedOrderLineCropped(){return!1}areInteractionsEnabled(){return this.presentationModel.positionsEditable}getPriceLevel(){return this.model.getOpenLevel()}canSwapAttachedOrder(){const e=this.getAttachedOrdersViewModels();return 1===e.length&&!1!==this._canSwapLimitOrderToStop(e[0])}_canSwapLimitOrderToStop(e){var t,i,n,s;return e.getType()===l.default.STOP&&(null===(t=e.getAttachedOrder())||void 0===t?void 0:t.type)===l.default.LIMIT?(i=this.getClosestStopLevel(),n=e.getPriceLevel(),s=this.getClosestLimitLevel(),!("number"==typeof i&&"number"==typeof s&&n>Math.min(i,s)&&n<Math.max(i,s))):null}isStopOrLimitEditable(){return!0}getConfirmationButtonGradient(){return""}getDealRemovedLabel(){return""}isCloseButtonVisible(){return!1}isConfirmable(){return!1}_updateEditTicket(){}showClosingIndicativeCosts(){return!1}showOpeningIndicativeCosts(){return!1}_handlePositionChange(){super._handlePositionChange();for(const e of this.getAttachedOrdersViewModels())e.recalculatePriceLevelChange()}_handlePriceLevelChanged(e){super._handlePriceLevelChanged(e);for(const t of this.getAttachedOrdersViewModels())t.recalculatePriceLevelChange()}_calculateLinePixelRange(){return[0,this.getFullPositionWidth()]}getProfitProjectionBox(){const e=this.getPricePositionOnScreen(),t=this.getAttachedOrderViewModel(l.default.LIMIT),i=this.presentationModel.visibleWindow.dimensions();let n;return e<=0&&this.isTradeLong()||e>=i.height&&!this.isTradeLong()||t&&!t.isValid()?null:(n=t?t.getYPositionOnScreen():this.isTradeLong()?0:i.height,{x:0,y:this.isTradeLong()?n:e,width:"100%",height:Math.abs(e-n)})}getLossProjectionBox(){const e=this.getPricePositionOnScreen(),t=this.getAttachedOrderViewModel(l.default.STOP);if(!t||t&&!t.isValid())return null;const i=t.getYPositionOnScreen();return{x:0,y:this.isTradeLong()?e:i,width:"100%",height:Math.abs(e-i)}}getProfitGradient(){return this.getAttachedOrderViewModel(l.default.LIMIT)?null:`gradient-profit-${this.isTradeLong()?"long":"short"}-projection`}getClosestLimitLevel(){return this._stopLimitUtil.getClosestLimitLevel(this.model.getScaledPrice(),this.model.getMarketScalingFactor())}editStopLimit(e,t){const i=e.isDragged();try{i&&e.setIsDragged(!1),super.editStopLimit(e,t)}finally{i&&e.setIsDragged(!0)}this.fire(d.EDITED)}isSelected(){return!0}_createAttachedOrderViewModel(e){return a.default.create(this,e,this.presentationModel.visibleWindow)}_handleAttachedOrderAdded(e){this.getAttachedOrdersViewModels().some((function(t){return!t.getAttachedOrder()&&(t.setAttachedOrder(e),!0)}))||this._addAttachedOrderViewModel(e)}}d.EDITED="TRADE_PREVIEW_EDITED",s([o.nonrecursive],d.prototype,"_handlePositionChange",null),t.default=d},29736:(e,t)=>{"use strict";var i;Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.NONE="NONE",e.TOP="TOP",e.RIGHT="RIGHT"}(i||(i={})),t.default=i},92954:(e,t,i)=>{"use strict";var n=i(15215).Bx;Object.defineProperty(t,"__esModule",{value:!0}),t.logThemeChange=void 0;const s=i(58703),r=n(i(88045));t.logThemeChange=function(e,t,i=!1){const n=Object.values(t);i&&1===n.length||!i&&n.length>0?n[0].publishToChart("tracker/ga",{interaction_type:s.GA_ACTION.THEMING,interaction_value:n[0].flavour,chart_theme:e}):!i&&n.length<=0&&r.default.warn("Attempted to log the theme change, but no chart controllers are available")}},17425:(e,t)=>{"use strict";var i;(function(e){e.ARROW="ARROW",e.CHANNEL="CHANNEL",e.ELLIOTT_WAVE="ELLIOTT_WAVE",e.ELLIOTT_WAVE_ABC="ELLIOTT_WAVE_ABC",e.FIBONACCI="FIBONACCI",e.FIBONACCI_EXTENSION="FIBONACCI_EXTENSION",e.GANN_FAN="GANN_FAN",e.GANN_LINE="GANN_LINE",e.HEAD_AND_SHOULDERS="HEAD_AND_SHOULDERS",e.HORIZONTAL_LINE="HORIZONTAL_LINE",e.MEASURE_TOOL="MEASURE_TOOL",e.OVAL="OVAL",e.PITCHFORK="PITCHFORK",e.POINT_TO_POINT="POINT_TO_POINT",e.RECTANGLE="RECTANGLE",e.TEXT="TEXT",e.TREND_LINE="TREND_LINE",e.TRIANGLE="TRIANGLE",e.VERTICAL_LINE="VERTICAL_LINE"})(i||(i={})),t.A=i},74725:(e,t)=>{"use strict";var i;(function(e){e[e.HANDLE=0]="HANDLE",e[e.BAR=1]="BAR",e[e.TINE_CENTER=2]="TINE_CENTER",e[e.TINE_2ND_ANCHOR=3]="TINE_2ND_ANCHOR",e[e.TINE_3RD_ANCHOR=4]="TINE_3RD_ANCHOR",e[e.TINE_NEAR_2ND_ANCHOR=5]="TINE_NEAR_2ND_ANCHOR",e[e.TINE_NEAR_3RD_ANCHOR=6]="TINE_NEAR_3RD_ANCHOR"})(i||(i={})),t.A=i},28194:(e,t)=>{"use strict";var i;(function(e){e.DRAWINGS_SET="DRAWINGS_SET",e.DRAWINGS_DELETED="DRAWINGS_DELETED",e.SELECTED="SELECTED",e.DESELECTED="DESELECTED",e.DRAGGED="DRAGGED",e.STYLE_OR_ATTRIBUTE_CHANGED="STYLE_OR_ATTRIBUTE_CHANGED",e.DELETED="DELETED",e.ADDED="ADDED",e.PENDING_ADDED="PENDING_ADDED",e.PENDING_DELETED="PENDING_DELETED",e.LOCKED_DRAWING_TYPE_CHANGED="LOCKED_DRAWING_TYPE_CHANGED"})(i||(i={})),t.A=i},53300:(e,t,i)=>{"use strict";var n=i(15215).Bx;const s=n(i(70187)),r=i(9525),o=n(i(60644)),a=i(54859),l=n(i(73731)),d=n(i(17099));class u extends s.default{constructor(e,t,i,n,s,r){super(e,t,i,n),this._settingsManager=s,this._drawingPresentationModel=r,this._initialStyles=(0,a.shallowClone)(this._drawingPresentationModel.getStyle()||{}),this._initialTheme=s.getThemeSettingsMode()}static create(e,t,i,n,s,r){return new u(e,t,i,n,s,r)}initDom(e){const t=this._drawingPresentationModel.getStyle()||{};return this._stylingWidget=d.default.create(t,this._handleNewStyle.bind(this),this._taskManager,this._settingsManager).initDom(e,this._eventBus,this._captureZoneManager,this._dialog,o.default.get("STYLE")),this._settingsManager.on(l.default.THEME_CHANGED,(0,r.delegate)("_dialog","close"),this),this}resetToDefaults(){this._drawingPresentationModel.setStyle((0,a.shallowClone)(this._drawingPresentationModel.getDefaultStyle())),this._stylingWidget.setStyles((0,a.shallowClone)(this._drawingPresentationModel.getDefaultStyle()))}revertChanges(){this._drawingPresentationModel.setStyle((0,a.shallowClone)(this._initialStyles),this._initialTheme)}save(){return this}updateCaptureZones(){super.updateCaptureZones(),this._stylingWidget.updateCaptureZones()}destroy(){this._settingsManager.un(null,this),delete this._settingsManager,this._stylingWidget.destroy(),delete this._stylingWidget,super.destroy()}_handleNewStyle(e,t){const i=this._drawingPresentationModel.getStyle();i[e]=t,this._drawingPresentationModel.setStyle(i)}}t.A=u},74437:(e,t,i)=>{"use strict";var n=i(15215).Bx;const s=n(i(70187)),r=n(i(60644)),o=n(i(13585)),a=i(17125);class l extends s.default{constructor(e,t,i,n,s,r,o){super(e,t,i,s),this._drawingPresentationModel=r,this._reactUI=o,this._initialRatioSettings=[...r.getRatioSettings()]}static create(e,t,i,n,s,r,o){return new l(e,t,i,n,s,r,o)}initDom(e){return super.initDom(e),this._dCheckboxListContainer=e.append("div").classed("checkboxListContainer",!0),this._dCheckboxListContainer.append("text").classed("checkboxListLabel",!0).text(r.default.get("LEVELS")),this._createCheckboxWithNumberInputListComponent(),this}save(){return this}revertChanges(){this._drawingPresentationModel.updateAllRatios(this._initialRatioSettings)}resetToDefaults(){if(this._drawingPresentationModel.resetToDefault(),this._checkboxWithNumberInputListComponent){const e=this._drawingPresentationModel.getDefaultRatioValues(),t=this._checkboxWithNumberInputListComponent.recentProps.inputStates.map((t=>(t.value=e[t.id],t.isChecked=!0,t)));this._checkboxWithNumberInputListComponent.render({inputStates:t})}}enable(){var e;return null===(e=this._checkboxWithNumberInputListComponent)||void 0===e||e.render({disableAll:void 0}),super.enable()}disable(){var e;return null===(e=this._checkboxWithNumberInputListComponent)||void 0===e||e.render({disableAll:!0}),super.disable()}destroy(){this._checkboxWithNumberInputListComponent&&(this._checkboxWithNumberInputListComponent.unmount(),delete this._checkboxWithNumberInputListComponent),this._dCheckboxListContainer&&this._dCheckboxListContainer.remove(),super.destroy()}_sortCheckboxesData(e){const t=a.COMPULSORY_RATIO_INDICES[1],i=[];for(let n=0;n<t;n++){i.push(e[n]);const s=t+n;e[s]&&i.push(e[s])}return i}_updateCheckboxWithNumberInputListComponent(e,t,i){var n;const s=[...e];Object.assign(s[t],i),null===(n=this._checkboxWithNumberInputListComponent)||void 0===n||n.render({inputStates:s})}_handleCheckboxChange(e,t,i){this._drawingPresentationModel.changeLineVisibility(i[e].id,t),this._updateCheckboxWithNumberInputListComponent(i,e,{isChecked:t})}_handleValueChange(e,t,i){const n=isNaN(t)?null:Math.floor(10*t)/10;this._drawingPresentationModel.updateRatio(i[e].id,n),this._updateCheckboxWithNumberInputListComponent(i,e,{value:n})}_createCheckboxWithNumberInputListComponent(){const e=this._dCheckboxListContainer,t=this._drawingPresentationModel.getRatioSettings();this._checkboxWithNumberInputListComponent=this._reactUI.newComponent(o.default,{inputStates:this._sortCheckboxesData(t.map((({value:e,isVisible:t,disabled:i},n)=>({id:n,isChecked:t,disabled:i,value:e})))),onCheckboxChange:(e,t,i)=>this._handleCheckboxChange(e,t,i),handleValueChange:(e,t,i)=>this._handleValueChange(e,t,i)},e.node(),null),this._checkboxWithNumberInputListComponent.render().then((()=>this._dialog.updateCaptureZones()))}}t.A=l},35529:(e,t,i)=>{"use strict";var n=i(15215).Bx;const s=i(43130),r=n(i(70187)),o=n(i(64586)),a=n(i(38328)),l=n(i(14243)),d=n(i(10520));class u extends r.default{constructor(e,t,i,n,s,r){super(e,t,i,n),this._drawingPresentationModel=r,this._settingsManager=s}static create(e,t,i,n,s,r){return new u(e,t,i,n,s,r)}initDom(e){return this._checkbox=o.default.create().initDom(e,"checkbox").setText(a.default.get("SAVE_SETTINGS")).setId("SAVE_SETTINGS_DRAWING_CHECKBOX").setSelected(!0).startListening(this._captureZoneManager,s.noop,d.default.DIALOG_CONTROLS),super.initDom(e)}save(){const e=this._drawingPresentationModel.getType(),t=this._settingsManager.getGlobalSettings(l.default.DRAWINGS_GLOBAL).annotationsSettings[e],i=(0,s.cloneDeep)(this._drawingPresentationModel.getGlobalDrawingSettings());!(0,s.isEqual)(i,t)&&this._checkbox.isSelected()&&this._settingsManager.changeAccountSettings(l.default.DRAWINGS_GLOBAL,this._updateGlobalSettings.bind(this,e,i),!0)}_updateGlobalSettings(e,t,i){const n=this._settingsManager.getThemeSettingsMode();return i.annotationsSettings[e]?(i.annotationsSettings[e].styles[n]=t.styles[n],i.annotationsSettings[e].attributes=t.attributes):i.annotationsSettings[e]=t,!0}updateCaptureZones(){super.updateCaptureZones(),this._checkbox.updateCaptureZone()}resetToDefaults(){}revertChanges(){}destroy(){this._checkbox.destroy(),super.destroy()}}t.A=u},47203:(e,t,i)=>{"use strict";var n=i(15215).Bx;const s=n(i(70187)),r=n(i(77143)),o=n(i(54107)),a=n(i(55699)),l=n(i(60644)),d=n(i(17668)),u=n(i(80535)),c=i(54859),h=n(i(32477));class p extends s.default{constructor(e,t,i,n,s,r){super(e,t,i,n),this._drawingPresentationModel=r,this._settingsManager=s,this._initialStyles=(0,c.shallowClone)(this._drawingPresentationModel.getStyle());const o=(0,c.shallowClone)(this._drawingPresentationModel.getAttributes());this._initialFontSize=o.fontSize,this._initialBold=o.bold,this._initialItalic=o.italic}static create(e,t,i,n,s,r){return new p(e,t,i,n,s,r)}initDom(e){super.initDom(e);const t=this._drawingPresentationModel.getStyle(),i=this._drawingPresentationModel.getAttributes(),n=e.append("div").classed("stylesWidget setting-row",!0),s=n.append("div").classed("leftColumn withSettingTitle",!0),c=n.append("div").classed("rightColumn",!0);return s.append("div").classed("settingTitleContainer",!0).append("span").classed("settingTitle",!0).text(l.default.get("STYLE")),this._colourWidget=r.default.create(this._eventBus,this._captureZoneManager,this._taskManager,this._settingsManager,this._dialog,t.font.colour,l.default.get("STYLE"),this._handleNewFontColour.bind(this)).initDom(c),this._numericSettingControl=u.default.create(null,null,"fontsize",(new d.default).withMin(8).withMax(96).withStep(1),i.fontSize).withCaptureZoneManager(this._captureZoneManager).initDom(c),this._numericSettingControl.on(o.default.VALUE_CHANGED,this._handleNewFontSize,this),this._fontWidget=a.default.create(this._captureZoneManager,i.bold,i.italic,this._drawingPresentationModel.setBold.bind(this._drawingPresentationModel),this._drawingPresentationModel.setItalic.bind(this._drawingPresentationModel)).initDom(c),this}save(){}resetToDefaults(){const e=this._drawingPresentationModel.getDefaultStyle();this._drawingPresentationModel.setStyle(e),this._drawingPresentationModel.setAttributes({fontSize:h.default.DEFAULT_FONT_SIZE,bold:h.default.DEFAULT_FONT_BOLD,italic:h.default.DEFAULT_FONT_ITALIC}),this._colourWidget.setColour(e.font.colour),this._numericSettingControl.updateInputField(h.default.DEFAULT_FONT_SIZE),this._fontWidget.setBold(h.default.DEFAULT_FONT_BOLD),this._fontWidget.setItalic(h.default.DEFAULT_FONT_ITALIC)}revertChanges(){this._drawingPresentationModel.setStyle((0,c.shallowClone)(this._initialStyles)),this._drawingPresentationModel.setAttributes({fontSize:this._initialFontSize,bold:this._initialBold,italic:this._initialItalic})}updateCaptureZones(){super.updateCaptureZones(),this._colourWidget.updateCaptureZone(),this._fontWidget.updateCaptureZone(),this._numericSettingControl.updateCaptureZones()}destroy(){this._colourWidget.destroy(),delete this._colourWidget,this._fontWidget.destroy(),delete this._fontWidget,this._numericSettingControl.un(null,this),this._numericSettingControl.destroy(),delete this._numericSettingControl,super.destroy()}_handleNewFontColour(e){const t=this._drawingPresentationModel.getStyle();t.font.colour=e,this._drawingPresentationModel.setStyle(t)}_handleNewFontSize(e,t){this._drawingPresentationModel.setFontSize(t)}}t.A=p},51211:(e,t,i)=>{"use strict";var n=i(15215).Bx;const s=n(i(70187)),r=i(9525),o=n(i(60644)),a=i(54859),l=n(i(73731)),d=n(i(17099));class u extends s.default{constructor(e,t,i,n,s,r){super(e,t,i,n),this._drawingPresentationModel=r,this._settingsManager=s,this._initialStyles=(0,a.shallowClone)(this._drawingPresentationModel.getStyle()||{})}static create(e,t,i,n,s,r){return new u(e,t,i,n,s,r)}initDom(e){const t=this._drawingPresentationModel.getStyle();return this._borderStylingWidget=d.default.create(t.border,this._handleBorderChange.bind(this),this._taskManager,this._settingsManager).setCheckboxAvailable(!0).initDom(e,this._eventBus,this._captureZoneManager,this._dialog,o.default.get("BORDER"),null,t.border.isVisible),this._backgroundStylingWidget=d.default.create(t.background,this._handleBackgroundStyle.bind(this),this._taskManager,this._settingsManager).setCheckboxAvailable(!0).initDom(e,this._eventBus,this._captureZoneManager,this._dialog,o.default.get("BACKGROUND"),null,t.background.isVisible),this._settingsManager.on(l.default.THEME_CHANGED,(0,r.delegate)("_dialog","close"),this),this}save(){}resetToDefaults(){this._drawingPresentationModel.setStyle((0,a.shallowClone)(this._drawingPresentationModel.getDefaultStyle())),this._borderStylingWidget.setStyles((0,a.shallowClone)(this._drawingPresentationModel.getDefaultStyle().border)),this._backgroundStylingWidget.setStyles((0,a.shallowClone)(this._drawingPresentationModel.getDefaultStyle().background))}revertChanges(){this._drawingPresentationModel.setStyle((0,a.shallowClone)(this._initialStyles))}updateCaptureZones(){super.updateCaptureZones(),this._borderStylingWidget.updateCaptureZones(),this._backgroundStylingWidget.updateCaptureZones()}destroy(){this._settingsManager.un(null,this),delete this._settingsManager,delete this._drawingPresentationModel,delete this._initialStyles,this._borderStylingWidget.destroy(),this._backgroundStylingWidget.destroy(),delete this._borderStylingWidget,delete this._backgroundStylingWidget,super.destroy()}_handleBackgroundStyle(e,t){const i=this._drawingPresentationModel.getStyle();i.background[e]=t,this._drawingPresentationModel.setStyle(i)}_handleBorderChange(e,t){const i=this._drawingPresentationModel.getStyle();i.border[e]=t,this._drawingPresentationModel.setStyle(i)}}t.A=u},45231:(e,t,i)=>{"use strict";var n=i(15215).Bx;t.Ug=void 0;const s=n(i(92791)),r=n(i(41447)),o=n(i(86119)),a=n(i(91016)),l=n(i(36476)),d=i(54859);t.Ay=(0,d.recursiveFreeze)({htmloverlay:{presentationControllers:{economicCalendar:{type:r.default,presentationModel:{type:s.default}}},renderers:{economicCalendarRenderer:{type:o.default,position:"xAxis",group:"body",presentationController:"economicCalendar"}}}}),t.Ug=(0,d.recursiveFreeze)({htmloverlay:{renderers:{eventsDetailsRenderer:{type:a.default,position:"xAxis",group:"body",presentationController:"economicCalendar"}}}}),(0,d.recursiveFreeze)({htmloverlay:{renderers:{eventsDetailsRenderer:{type:l.default,position:"xAxis",group:"body",presentationController:"economicCalendar"}}}})},86616:(e,t)=>{"use strict";var i;Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.COMPANY_EARNINGS="COMPANY_EARNINGS",e.DIVIDEND_PAYMENTS="DIVIDEND_PAYMENTS",e.STOCK_SPLITS="STOCK_SPLITS",e.IPOS="IPOS"}(i||(i={})),t.default=i},7144:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getEconomicEventsByCountryId=t.ECONOMIC_EVENTS=void 0;const n=i(43130);t.ECONOMIC_EVENTS=Object.freeze({US:Object.freeze({ADP_NATIONAL_EMPLOYMENT:1984,CONSUMER_CONFIDENCE:1916,CPI:1930,DURABLE_GOODS_ORDERS:1979,FOMC_RATE_DECISION:1945,GDP_FINAL_QUARTERLY:1919,HOUSING_STARTS:1956,NONFARM_PAYROLLS:1940,RETAIL_SALES:1996,UNEMPLOYMENT_RATE:2001}),GB:Object.freeze({BOE_RATE_DECISION:1901,CONSUMER_CONFIDENCE:1818,GDP_FINAL_QUARTERLY:1808,GDP_FINAL_ANNUAL:1807,CPI_MONTHLY:1783,CPI_ANNUAL:1803,UNEMPLOYMENT:1829,RETAIL_SALES_MONTHLY:1905,RETAIL_SALES_ANNUAL:1906,TRADE_BALANCE:1909}),AU:Object.freeze({CONSUMER_SENTIMENT:1031,EMPLOYMENT:1047,GDP_QUARTERLY:1028,GDP_ANNUAL:1029,INFLATION_QUARTERLY:1033,INFLATION_ANNUAL:1034,RETAIL_SALES:1067,UNEMPLOYMENT:1048}),CA:Object.freeze({BOC_RATE_DECISION:1150,EMPLOYMENT_CHANGE:1172,GDP_MONTHLY:1170,GDP_QUARTERLY:1169,INFLATION_MONTHLY:1147,INFLATION_ANNUAL:1148,RETAIL_SALES:1179,UNEMPLOYMENT_RATE:1176}),CN:Object.freeze({CONSUMER_PRICE_INDEX:1110,GDP:1136,RETAIL_SALES:1140}),DE:Object.freeze({CPI_FINAL_MONTHLY:1070,CPI_FINAL_ANNUAL:1071,GDP_DETAILED_QUARTERLY:1085,GDP_DETAILED_ANNUAL:1084,GDP_ANNUAL:1088,RETAIL_SALES_MONTHLY:1094,RETAIL_SALES_ANNUAL:1095,UNEMPLOYMENT_TOTAL_NSA:1099,UNEMPLOYMENT_TOTAL_SA:1097}),ES:Object.freeze({CPI_MONTHLY:1273,CPI_ANNUAL:1275,GDP_QUARTERLY:1277,GDP_ANNUAL:1278,RETAIL_SALES_ANNUAL:1280,UNEMPLOYMENT_SURVEY:1281}),EU:Object.freeze({CONSUMER_SENTIMENT:1257,EBC_RATE_DECISION:1282,GDP_REVISED_QUARTERLY:1243,GDP_REVISED_ANNUAL:1244,RETAIL_SALES_MONTHLY:1249,RETAIL_SALES_ANNUAL:1250,UNEMPLOYMENT_RATE:1251}),FR:Object.freeze({CONSUMER_CONFIDENCE:1305,GDP_DETAILED_QUARTERLY:1316,CPI_EUNORM_FINAL_MONTHLY:1306,CPI_EUNORM_FINAL_ANNUAL:1310,NONFARM_PAYROLLS_QUARTERLY:1346}),HK:Object.freeze({CONSUMER_PRICE_INDEX:1349,GDP_QUARTERLY:1350,GDP_ANNUAL:1352,RETAIL_SALES:1353,UNEMPLOYMENT:1356}),IT:Object.freeze({CONSUMER_CONFIDENCE:1400,GDP_QUARTERLY:1406,GDP_ANNUAL:1407,CPI_EUNORM_FINAL_MONTHLY:1404,CPI_EUNORM_FINAL_ANNUAL:1405,RETAIL_SALES_SA_MONTHLY:1449,RETAIL_SALES_NSA_ANNUAL:1450}),JP:Object.freeze({CPI_OVERALL_NATIONWIDE:1463,CPI_OVERALL_TOKYO:1465,GDP_QUARTERLY:1471,GDP_ANNUALISED_QUARTERLY:1470,HOUSING_STARTS:1475,RETAIL_SALES:1488,UNEMPLOYMENT_RATE:1498}),NZ:Object.freeze({CONSUMER_PRICE_INDEX:1518,UNEMPLOYMENT_RATE:1525,GDP_ANNUAL:1527,RETAIL_SALES_QUARTERLY:1534,RETAIL_SALES_NSA_ANNUAL:1532,EMPLOYMENT_GROWTH:1523}),ZA:Object.freeze({CPI_MONTHLY:1539,CPI_ANNUAL:1540,GDP_QUARTERLY:1637,GDP_ANNUAL:1633,RETAIL_SALES_ANNUAL:1657,UNEMPLOYMENT_TOTAL:1664})}),t.getEconomicEventsByCountryId=function(e){return(0,n.values)(t.ECONOMIC_EVENTS[e])}},52134:(e,t,i)=>{"use strict";var n=i(15215).Bx;Object.defineProperty(t,"__esModule",{value:!0});const s=n(i(39038));t.default=class{constructor(e,t,i,n=s.default.UNKNOWN){this.headline=e,this.timestamp=t,this.country=i,this.type=n}}},39038:(e,t)=>{"use strict";var i;Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.COMPANY_CALENDAR="COMPANY_CALENDAR",e.ECONOMIC_CALENDAR="ECONOMIC_CALENDAR",e.UNKNOWN="UNKNOWN"}(i||(i={})),t.default=i},10627:(e,t,i)=>{"use strict";var n=i(15215).Bx;Object.defineProperty(t,"__esModule",{value:!0});const s=n(i(52134)),r=n(i(39038)),o=n(i(86616));class a extends s.default{constructor(e,t,i,n){if(super(e,t,i,r.default.COMPANY_CALENDAR),!(n in o.default))throw new Error(`Cannot create company event with unrecognised company event type '${n}'.`);this.companyEventType=n}static create(e,t,i,n){return new a(e,t,i,n)}static fromJSON(e){if(e.type!==r.default.COMPANY_CALENDAR)throw new Error(`Attempting to create company event from non-company JSON: ${JSON.stringify(e)}`);return a.create(e.headline.trim(),new Date(e.timestamp),e.countryCode,e.eventTypeData.companyEventType)}}t.default=a},96624:(e,t,i)=>{"use strict";var n=i(15215).Bx;t.Op=void 0;const s=i(43130),r=i(9525),o=n(i(63785)),a=n(i(39038)),l=n(i(88045)),d=n(i(74893)),u=n(i(36757)),c=d.default.values.FIFTEEN_MINUTES,h=c.getPeriodIterator(),p=(0,r.ascendingFieldComparator)("timestamp");t.Op=250;class _{constructor(e,i,n,r){this._dateRange=[1/0,-1/0],this._events=[],this._eventTypesCompany=[],this._eventTypesEconomic=[],this._type=a.default.UNKNOWN,this.epic=e,this._eventBus=i,this._belowThreshold=r.period<=c.period,this._checkForNewEvents=(0,s.debounce)(this._checkForNewEvents,t.Op),this._vdr=n,this._vdr.on(u.default.VISIBLE_BLOCKS_CHANGED,this._checkForNewEvents,this),this._vdr.on(`${u.default.VISIBLE_BLOCKS_POINTS_ADDED}-prices`,this._checkForNewEvents,this)}static create(e,t,i,n){return new _(e,t,i,n)}withCalendarType(e){return e!==this._type&&(this._events.length=0,this._client&&this._client.destroy(),this._type=e,this._client=o.default.create(this.epic,e,this._eventBus),this._checkForNewEvents()),this}withCompanyEventSettings(e){return this._withEventSettings("_eventTypesCompany",e),this}withEconomicEventSettings(e){return this._withEventSettings("_eventTypesEconomic",e),this}_withEventSettings(e,t){(0,s.isEqual)(this[e],t)||(this[e]=t,("_eventTypesCompany"===e&&this._type===a.default.COMPANY_CALENDAR||"_eventTypesEconomic"===e&&this._type===a.default.ECONOMIC_CALENDAR)&&(this._dateRange=[1/0,-1/0],this._events=[],this._client&&this._client.abortAll(),this._eventBus.flush("calendar/events/updated"),this._eventBus.publish("calendar/events/updated"),this._checkForNewEvents()))}destroy(){this._eventBus&&this._eventBus.flush("calendar/events/updated"),this._client&&this._client.destroy(),this._vdr&&this._vdr.un(null,this),this._checkForNewEvents.cancel&&(this._checkForNewEvents.cancel(),delete this._checkForNewEvents);for(const e in["epic","_belowThreshold","_client","_dateRange","_eventBus","_events","_type","_vdr"])delete this[e]}_checkForNewEvents(){if(!this._client)return;const e=this._getDateRangeForRequests();if(e){const{dateRange:t,clearPrevious:i}=e;i&&(this._events=[],this._client.abortAll()),this._dateRange=[new Date(Math.min(t[0],this._dateRange[0])),new Date(Math.max(t[1],this._dateRange[1]))],this._retrieveEvents(t)}}_getDateRangeForRequests(){const e=function(e){const t=e.getVisibleBlocks();if(!t.length)return null;try{return[new Date(t[0].start),new Date(t[t.length-1].end)]}catch(i){return l.default.log("Error thrown when getting date range for new calendar events (happens for unloaded blocks on tick), aborting retrieval"),null}}(this._vdr);return e?(this._belowThreshold&&(e[1]=h.ceil(e[1])),e[0]<this._dateRange[0]&&e[1]>this._dateRange[1]?{dateRange:e,clearPrevious:!0}:e[0]<this._dateRange[0]?{dateRange:[e[0],this._dateRange[0]],clearPrevious:!1}:e[1]>this._dateRange[1]?{dateRange:[this._dateRange[1],e[1]],clearPrevious:!1}:null):null}_retrieveEvents(e){const t=this._type===a.default.COMPANY_CALENDAR?this._eventTypesCompany:this._eventTypesEconomic;t.length&&this._client.getCalendarEvents(e[0],e[1],t,this._handleNewEvents.bind(this))}_handleNewEvents(e){e.length&&(this._events.push(...e),this._events.sort(p),this._eventBus.publish("calendar/events/updated",[this._events],{retrospective:!0}))}}t.Ay=_},89503:(e,t,i)=>{"use strict";var n=i(15215).Bx;Object.defineProperty(t,"__esModule",{value:!0});const s=n(i(52134)),r=n(i(39038)),o=i(7144),a=i(10094);class l extends s.default{constructor(e,t,i,n,s,l){if(super(e,t,i,r.default.ECONOMIC_CALENDAR),!(this.country in o.ECONOMIC_EVENTS))throw new Error(`Creating economic event with unrecognised country "${i}"`);null!==n&&(0,a.isNumber)(parseFloat(n))&&(this.actualValue=n),null!==s&&(0,a.isNumber)(parseFloat(s))&&(this.expectedValue=s),null!==l&&(0,a.isNumber)(parseFloat(l))&&(this.previousValue=l)}static create(e,t,i,n,s,r){return new l(e,t,i,n,s,r)}static fromJSON(e){if(e.type!==r.default.ECONOMIC_CALENDAR)throw new Error(`Attempting to create economic event from non-economic JSON: ${JSON.stringify(e)}`);return l.create(e.headline?e.headline.trim():"",new Date(e.timestamp),e.countryCode,e.eventTypeData.actualValue,e.eventTypeData.expectedValue,e.eventTypeData.previousValue)}}t.default=l},63785:(e,t,i)=>{"use strict";var n=i(15215).Bx;Object.defineProperty(t,"__esModule",{value:!0});const s=i(96001),r=i(46623),o=n(i(23685)),a=n(i(39038)),l=n(i(10627)),d=n(i(89503)),u=n(i(17660));class c extends o.default{constructor(e,t,i){super(i),this._epic=e,this._ssoToken=u.default.getInstance().getSsoToken(),this._type=t}static create(e,t,i){return new c(e,t,i)}getCalendarEvents(e,t,i,n){this._executeRequest({endpoint:this._getCalendarEndpoint(e,t,i),success:this._handleEventRetrieval.bind(this,n)})}_getCalendarEndpoint(e,t,i){let n=(0,r.build)((0,s.merge)("/chartscalendar/events/{epic}/from/{startTimestamp}/to/{endTimestamp}/",{epic:this._epic,startTimestamp:e.getTime(),endTimestamp:t.getTime()}),{ssoToken:this._ssoToken,locale:u.default.getInstance().getMiddlewareLocale(),eventType:this._type});return this._type===a.default.ECONOMIC_CALENDAR?i.forEach((function(e){n+=`&economicEventCode=${e}`})):this._type===a.default.COMPANY_CALENDAR&&i.forEach((function(e){n+=`&companyEventType=${e}`})),n}_handleEventRetrieval(e,t,i){e(i.reduce(this._deserialiseEvent.bind(this),[]))}_deserialiseEvent(e,t){try{return e.concat(this._type===a.default.COMPANY_CALENDAR?l.default.fromJSON(t):d.default.fromJSON(t))}catch(i){console.error(`Failed to parse JSON. Reason: "${i.message}". JSON: ${JSON.stringify(t)}`)}return e}}t.default=c},13164:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});class i{constructor(e){this._event=e}static create(e){return new i(e)}static identifier(e){return e?`${e.accTime}|${e.country}|${e.headline}`:null}get country(){return this._event.country}get headline(){return this._event.headline}get timestamp(){return this._event.timestamp}get type(){return this._event.type}get companyEventType(){return this._event.companyEventType}get actualValue(){return this._event.actualValue}get expectedValue(){return this._event.expectedValue}get previousValue(){return this._event.previousValue}withAccTime(e){return this.accTime=e,this}}t.default=i},67329:(e,t,i)=>{"use strict";const n=(0,i(15215).Bx)(i(13164)),s=i(9525),r=i(10094);class o{constructor(e){this.events=[],this.events.push(e)}static create(e){return new o(e)}static identifier(e){return e?e.events.map(n.default.identifier).sort().join("||"):null}getAccTime(){return(0,r.mean)(this.events.map((0,s.plucker)("accTime")))}addEvent(e){this.events.push(e)}}t.A=o},80245:(e,t,i)=>{"use strict";var n=i(15215).Bx;const s=n(i(85690)),r=n(i(86605)),o=n(i(92791)),a=i(32713),l=n(i(73453));class d extends s.default{constructor(){super(...arguments),this._currentEventGroup=null}initDom(e){if("string"!=typeof e)throw new Error("Initialising DOM of calendar details renderer without a template");return super.initDom(),this.dContainer.classed("hidden",!0).node().innerHTML=e,this._dDetailsContainer=this.dContainer.select(".eventDetailsContainer"),this._eventTemplateCompany=this._dDetailsContainer.select(".event.company").remove().node(),this._eventTemplateEconomic=this._dDetailsContainer.select(".event.economic").remove().node(),this}startRedrawingBasedOnChangesInVisibleWindow(){super.startRedrawingBasedOnChangesInVisibleWindow(),this._presentationModel.on(o.default.SHOWN_DETAILS_CHANGED,this._handleChangesToShownEvents,this),this._visibleWindow.on(l.default.MOVED,this._handleVisibleWindowMoved,this),this._presentationModel.getInstrumentResolutionInfo()&&this._handleInstrumentResolutionInfoLoaded(this._presentationModel.getInstrumentResolutionInfo()),this._presentationModel.on(o.default.RESOLUTION_INFO_LOADED,this._handleInstrumentResolutionInfoLoaded,this)}stopRedrawingBasedOnChangesInVisibleWindow(){super.stopRedrawingBasedOnChangesInVisibleWindow(),this._eventBus.unsubscribeAll(this),this._presentationModel.un(null,this),this._visibleWindow.un(null,this),this._instrumentModel.un(null,this)}destroy(){this.dContainer&&this.dContainer.selectAll("*").remove(),delete this._userTimeZone,delete this._dDetailsContainer,delete this._eventTemplateCompany,delete this._eventTemplateEconomic,super.destroy()}_handleChangesToShownEvents(e){this._currentEventGroup=e&&e.events.length?e:null,this._handleShownDetailsChanged(this._currentEventGroup)}_handleShownDetailsChanged(e){e?(this.dContainer.classed("hidden",!1),this._handleVisibleWindowMoved(r.default.MOVED,r.default.STATIC)):this.dContainer.classed("hidden",!0)}_handleVisibleWindowMoved(e,t){if(this._currentEventGroup&&e){const e=this._visibleWindow.getXScale()(this._currentEventGroup.getAccTime())-this._subView.dimensions.x;this._dDetailsContainer.attr("style",(0,a.cssTranslateAttrX)(e))}}_updateContainerCaptureZone(){this._zoneDetails.setDimensionsBasedOnAssociatedElement(this._subView.dimensions)}_handleInstrumentResolutionInfoLoaded(e){this._userTimeZone=e.getUserTimeZone()}}t.A=d},43602:(e,t,i)=>{"use strict";const n=(0,i(15215).Bx)(i(27898)),s="heikinAshiLabel";t.A=class{constructor(e,t,i,n,s,r,o){this._eventBus=e,this._options=t}init(){this._eventBus.publish("subViews/config",[s,{prices:{renderers:{heikinAshiLabel:{type:n.default,group:"body",position:"northWest",presentationController:"commonUi",properties:{marginLeft:this._options.marginLeft,marginTop:this._options.marginTop}}}}}])}destroy(){this._eventBus.publish("subViews/removeConfig",[s])}}},27898:(e,t,i)=>{"use strict";var n=i(15215).Bx;Object.defineProperty(t,"__esModule",{value:!0});const s=n(i(20669)),r=n(i(5949)),o=n(i(92896)),a=n(i(72873));class l extends s.default{_text(){return this._presentationModel.isHeikinAshiSelected()?r.default.get(o.default.HEIKINASHI):""}_updateTextPosition(){const e=this._presentationModel.getOffsets("marketInfo");this.dContainer.attr("transform",a.default.svgTranslateAttrXY(e.xOffset,e.yOffset))}}t.default=l},84301:(e,t)=>{"use strict";var i;Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.DAILY_STATS_UPDATED="dailyStatsUpdated",e.DAILY_STATS_HIDDEN="dailyStatsHidden",e.VISIBLE_RANGE_STATS_UPDATED="visibleRangeStatsUpdated",e.VISIBLE_RANGE_STATS_HIDDEN="visibleRangeStatsHidden",e.VISIBILITY_CHANGED="visibilityChanged",e.RESOLUTION_INFO_LOADED="resolutionInfoLoaded"}(i||(i={})),t.default=i},42626:(e,t,i)=>{"use strict";var n=i(15215).Bx;const s=n(i(52893)),r=n(i(84301)),o=n(i(74893)),a=i(73731),l=n(i(14243)),d=n(i(44545)),u=n(i(78406)),c=n(i(289)),h=i(58167);class p extends c.default{constructor(e,t,i,n,s){super(),this._isVisible=!1,this._eventBus=e,this._options=t,this._settingsManager=s}areDailyStatsAvailable(){return this._options.dailyStats}areVisibleRangeStatsAvailable(){return this._options.visibleStats}getInstrumentResolutionInfo(){return this._instrumentResolutionInfo}init(){var e,t;this._settingsManager.on((0,a.getLayoutSettingsEvent)(l.default.HIGH_LOW_STATS_VISIBILITY),this._handleSettingsLoaded,this),this._options.dailyStats?(this._streamingDayStatsClient=u.default.create(this._eventBus),this._eventBus.subscribe("chart/resolution/changed",this._handleResolutionChanged,this),this._eventBus.subscribe("chart/instrument/info",this._handleInstrumentInfo,this),this._eventBus.subscribe("chart/instrument/destroy",this._handleStreamingStop,this)):this._eventBus.subscribe("chart/resolution/changed",this._handleResolutionChanged,this),(null===(t=null===(e=this._instrumentModel)||void 0===e?void 0:e.activeInstrumentResolution)||void 0===t?void 0:t.info)&&this._handleResolutionInfoChanged(this._instrumentModel.activeInstrumentResolution.info),this._eventBus.subscribe("chart/resolution/info",this._handleResolutionInfoChanged,this),this._eventBus.subscribe("chart/view/ready",this._handleChartViewReady,this),this._eventBus.publish("subViews/config",["highLowStats",(0,d.default)(this._options)]),this._chartView&&(this._chartView.addRenderersBySubviewConfig((0,d.default)(this._options)),this._setMenuItemVisibility(!0)),this._handleSettingsLoaded()}destroy(){this._eventBus.publish("subViews/removeConfig",["highLowStats"]),this._chartView&&this._chartView.removeRenderersBySubviewConfig((0,d.default)(this._options)),this._setVisibility(!1),this._setMenuItemVisibility(!1),this._streamingDayStatsClient&&this._streamingDayStatsClient.destroy(),delete this._instrumentInfo,delete this._currentEpic,delete this._instrumentResolutionInfo,delete this._instrumentModel,this._settingsManager.un((0,a.getLayoutSettingsEvent)(l.default.HIGH_LOW_STATS_VISIBILITY),this),this._eventBus.unsubscribeAll(this)}_handleChartViewReady(e){this._chartView=e,this._setMenuItemVisibility(!0)}_handleResolutionChanged(e){const t=e.instrumentModel;this._instrumentModel!==t&&(this._eventBus.publish("chart/pricetype/changed",[t.priceType,t.isLtpAvailable]),this._instrumentModel=t)}_handleResolutionInfoChanged(e){this._instrumentResolutionInfo=e,this.fire(r.default.RESOLUTION_INFO_LOADED,e),this._startStreamer()}_handleInstrumentInfo(e){this._currentEpic=e.epic,this._instrumentInfo=e,this._startStreamer()}_handleStreamingStop(){this._streamingDayStatsClient.stopListening(),delete this._instrumentInfo,delete this._currentEpic,delete this._instrumentResolutionInfo}_startStreamer(){var e,t;if(this._currentEpic&&this._instrumentResolutionInfo&&this._instrumentInfo){this._streamingDayStatsClient.stopListening();const i=null===(e=this._instrumentModel)||void 0===e?void 0:e.activeInstrumentResolution,n=(null===(t=null==i?void 0:i.resolution)||void 0===t?void 0:t.id)===o.default.values.DAY.id?i.streamingClient:null;this._streamingDayStatsClient.startListening(this._currentEpic,this._instrumentResolutionInfo,this._instrumentInfo,n,this._handleNewStats.bind(this))}}_handleSettingsLoaded(){this._setVisibility(this._settingsManager.getHighLowStatsVisibilitySettings())}_setMenuItemVisibility(e){this._eventBus.publish("menu/item/switch",[h.VisibilityMenuOption.HIGHLOW_STATS,e])}_setVisibility(e){this._isVisible!==e&&(this._isVisible=e,this.fire(r.default.VISIBILITY_CHANGED,e),this._options.dailyStats&&(e?this._startStreamer():this._streamingDayStatsClient.stopListening()))}_handleNewStats(e){this.fire(r.default.DAILY_STATS_UPDATED,e)}}p.settingsParsers={template:{moduleName:l.default.HIGH_LOW_STATS_VISIBILITY,parserClass:s.default}},t.A=p},75346:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=i(43130);t.default=class{constructor(){this.high=null,this.low=null,this.netChange=null,this.percentChange=null}withHigh(e){return this.high=e,this}withLow(e){return this.low=e,this}withNet(e){return this.netChange=e,this}withPercent(e){return this.percentChange=e,this}hasValidData(){return(0,n.isFinite)(this.high)||(0,n.isFinite)(this.low)||(0,n.isFinite)(this.netChange)||(0,n.isFinite)(this.percentChange)}}},78406:(e,t,i)=>{"use strict";var n=i(15215).Bx;Object.defineProperty(t,"__esModule",{value:!0});const s=n(i(39842)),r=n(i(30992)),o=n(i(94776)),a=n(i(74925)),l=n(i(89900)),d=i(10094),u=n(i(56398)),c=n(i(65569)),h=n(i(74893)),p=n(i(42039)),_=n(i(75346)),g=[a.default.UTM,a.default.FIDS.BID.OPEN,a.default.FIDS.BID.CLOSE,a.default.FIDS.BID.HIGH,a.default.FIDS.BID.LOW,a.default.FIDS.OFFER.OPEN,a.default.FIDS.OFFER.CLOSE,a.default.FIDS.OFFER.HIGH,a.default.FIDS.OFFER.LOW,a.default.FIDS.LTP.OPEN,a.default.FIDS.LTP.CLOSE,a.default.FIDS.LTP.HIGH,a.default.FIDS.LTP.LOW,a.default.FIDS.DAY.NET_CHG_MID,a.default.FIDS.DAY.PERC_CHG_MID];class f{constructor(e){this._todayNetChange=null,this._todayPercentChange=null,this._eventBus=e,this._eventBus.subscribe("chart/pricetype/changed",this._handlePriceTypeChanged,this)}static create(e){return new f(e)}startListening(e,t,i,n,a){this._successCallback=a,this._streamingPointsClient=n,this._resetTodayStats(),this._streamingPointsClient?this._streamingPointsClient.on(c.default.LS_UPDATE,this._handleUpdateFromLightstreamer,this):this._lightStreamerSubscription=o.default.subscribe(function(e,t,i){const n=i.status===r.default.STATUS_DELAYED?r.default.STATUS_DELAYED:"";return`CHARTS|${e}|${h.default.values.DAY.periodUnit}|${h.default.values.DAY.multiple}|${n}|${t.getChartServiceTimezone()}|${g.join("|")}`}(e,t,i),g,"DISTINCT",this._handleUpdateFromLightstreamer.bind(this),2,s.default.getInstance().getDataAdaptor())}stopListening(){return delete this._todayHlocPrice,this._lightStreamerSubscription?(this._lightStreamerSubscription.unsubscribe(),delete this._lightStreamerSubscription):this._streamingPointsClient&&this._streamingPointsClient.un(null,this),this}destroy(){this.stopListening(),this._eventBus.unsubscribeAll(this)}_handleUpdateFromLightstreamer(e){const t=l.default.processUpdate(e,g),i=t[a.default.FIDS.DAY.NET_CHG_MID],n=t[a.default.FIDS.DAY.PERC_CHG_MID];this._priceCalculator&&(this._todayHlocPrice=p.default.createFromLightstreamerPoint(t),this._updateStats(i,n))}_handlePriceTypeChanged(e){this._priceCalculator=u.default.get(e),this._updateStats()}_updateStats(e,t){if(this._todayHlocPrice){const i=this._getPrice(this._todayHlocPrice.high),n=this._getPrice(this._todayHlocPrice.low);(0,d.isNumber)(e)&&(this._todayNetChange=e),(0,d.isNumber)(t)&&(this._todayPercentChange=t),(0,d.isNumber)(i)&&this._stats.withHigh(i),(0,d.isNumber)(n)&&this._stats.withLow(n),this._stats.withNet(this._todayNetChange).withPercent(this._todayPercentChange),this._stats.hasValidData()&&(this._eventBus.publish("highlowstats/update",[this._stats]),this._successCallback(this._stats))}}_getPrice(e){try{return this._priceCalculator.calculate(e)}catch(t){return null}}_resetTodayStats(){this._stats=new _.default,delete this._todayHlocPrice,this._todayNetChange=null,this._todayPercentChange=null,this._eventBus.publish("highlowstats/update",[this._stats]),this._successCallback(this._stats)}}t.default=f},7587:(e,t,i)=>{"use strict";var n=i(15215).Bx;Object.defineProperty(t,"__esModule",{value:!0});const s=n(i(85690)),r=n(i(86605)),o=i(90577),a=i(9525),l=n(i(13858)),d=i(10094),u=n(i(72873)),c=n(i(16377)),h=n(i(73453)),p=n(i(30992)),_="hidden";class g extends s.default{constructor(e,t,i,n,s){super(e,t,i,n,s),this._formatterPercentage=(new c.default).withDecimalPlaces(2),this._formatterPoint=new c.default,this._dimensions=Object.seal({textSpacing:0,marginBottom:0,marginLeft:0,horizontalPadding:2,verticalPadding:1}),this._layoutStats=a.schedule.throttledDeferred(this._layoutStats)}withMarginBottom(e){return this._dimensions.marginBottom=e,this}withMarginLeft(e){return this._dimensions.marginLeft=e,this}withTextSpacing(e){return this._dimensions.textSpacing=e,this}render(){this._areStatsVisible()?(this._dText||this._showStats(),this._updateStats(this._getStats())):this._dText&&this._hideStats()}startRedrawingBasedOnChangesInVisibleWindow(){super.startRedrawingBasedOnChangesInVisibleWindow(),this._instrumentModel.on(p.default.INFO_LOADED,this._handleInstrumentInfoLoaded,this,{once:!0}),this._visibleWindow.on(h.default.MOVED,this._handleVisibleWindowMoved,this),this._presentationModel.on(o.COMMON_UI_CHANGED,this.render,this)}stopRedrawingBasedOnChangesInVisibleWindow(){this._presentationModel.un(null,this),this._visibleWindow.un(null,this),this._instrumentModel.un(null,this),super.stopRedrawingBasedOnChangesInVisibleWindow()}destroy(){this._hideStats(),super.destroy()}_showStats(){this._dBackground=this.dContainer.append("rect").classed("labelBackground",!0).attrs({rx:2,ry:2}),this._dText=this.dContainer.append("g").classed("label",!0),this._dLabelHigh=this._dText.append("text").classed("high",!0).classed(_,!0),this._dLabelLow=this._dText.append("text").classed("low",!0).classed(_,!0),this._dLabelNetChange=this._dText.append("text").classed("netChange",!0).classed(_,!0),this._dLabelPercentChange=this._dText.append("text").classed("percentChange",!0).classed(_,!0),this._dLabelTitle=this._dText.append("text").classed("title",!0)}_updateStats(e){if(!e)return;let t=e.high;(0,d.isNumber)(t)?this._dLabelHigh.classed(_,!1).text(l.default.get("high")+this._formatterPoint.scaleAndRoundPrice(t)):this._dLabelHigh.classed(_,!0),t=e.low,(0,d.isNumber)(t)?this._dLabelLow.classed(_,!1).text(l.default.get("low")+this._formatterPoint.scaleAndRoundPrice(t)):this._dLabelLow.classed(_,!0),t=e.netChange,(0,d.isNumber)(t)?this._dLabelNetChange.classed(_,!1).classed("increase",t>=0).classed("decrease",t<0).text(this._formatterPoint.scaleAndRoundPrice(t)):this._dLabelNetChange.classed(_,!0),t=e.percentChange,(0,d.isNumber)(t)?this._dLabelPercentChange.classed(_,!1).classed("increase",t>=0).classed("decrease",t<0).text(this._formatterPercentage.scaleAndRoundPrice(t)+l.default.get("percentage")):this._dLabelPercentChange.classed(_,!0),this._dLabelTitle.text(this._getStatsLabel()),this._layoutStats()}_layoutStats(){const e=this._presentationModel.getStatsTranslations(),t=[],i=[this._dLabelNetChange,this._dLabelPercentChange,this._dLabelHigh,this._dLabelLow,this._dLabelTitle];let n,s=0;for(let r=0;r<i.length;r++)i[r].classed(_)?t.push(0):(s=Math.max(s,e[r]||0),t.push(s),n=i[r].attr("transform",u.default.svgTranslateAttrX(s)).node(),s+=u.default.getBBox(n).width+this._dimensions.textSpacing);this._presentationModel.addStatsTranslations(this.name,t),this._positionContainer(this._getOffsets())}_positionContainer(e){this.dContainer.attr("transform",u.default.svgTranslateAttrXY(e.xOffset+this._dimensions.marginLeft,e.yOffset-this._dimensions.marginBottom+this._subView.dimensions.height)),this._updateBackground()}_updateBackground(){const e=u.default.getBBox(this._dText.node());this._dBackground.attrs({x:e.x-this._dimensions.horizontalPadding,y:e.y-this._dimensions.verticalPadding,width:e.width+2*this._dimensions.horizontalPadding,height:e.height+2*this._dimensions.verticalPadding})}_hideStats(){this._layoutStats.cancel(),this.dContainer&&this.dContainer.selectAll("*").remove(),delete this._dBackground,delete this._dText,delete this._dLabelHigh,delete this._dLabelLow,delete this._dLabelNetChange,delete this._dLabelPercentChange,delete this._dLabelTitle}_handleVisibleWindowMoved(e,t){t&r.default.RESIZED&&this._areStatsVisible()&&this._layoutStats()}_handleInstrumentInfoLoaded(e){this._formatterPoint.withScalingFactor(e.scalingFactor).withDecimalPlaces(e.decimalPlaces)}}t.default=g},21815:(e,t,i)=>{"use strict";var n=i(15215).Bx;const s=n(i(7587)),r=n(i(84301)),o=n(i(13858));class a extends s.default{startRedrawingBasedOnChangesInVisibleWindow(){super.startRedrawingBasedOnChangesInVisibleWindow(),this._presentationModel.on(r.default.DAILY_STATS_UPDATED,this.renderOnFrameEnd,this),this._presentationModel.on(r.default.DAILY_STATS_HIDDEN,this.renderOnFrameEnd,this)}_areStatsVisible(){return this._presentationModel.areDailyStatsVisible()}_getStats(){return this._presentationModel.getDailyStats()}_getOffsets(){return this._presentationModel.getOffsetsForComponent("daystats")}_getStatsLabel(){return o.default.get("today")}}t.A=a},12796:(e,t,i)=>{"use strict";var n=i(15215).Bx;const s=n(i(7587)),r=i(96285),o=n(i(84301)),a=n(i(13858)),l=n(i(74893)),d=n(i(72873)),u=n(i(76040));class c extends s.default{constructor(e,t,i,n,s){super(e,t,i,n,s),this._timeFormats={[u.default.Enum.MONTH]:a.default.get("date-format-coarser"),[u.default.Enum.WEEK]:a.default.get("date-format-coarse"),[u.default.Enum.DAY]:a.default.get("date-format-coarse"),[u.default.Enum.HOUR]:a.default.get("date-format-fine"),[u.default.Enum.MINUTE]:a.default.get("date-format-fine"),[u.default.Enum.SECOND]:a.default.get("date-format-finer"),[u.default.Enum.TICK]:a.default.get("date-format-finer")}}startRedrawingBasedOnChangesInVisibleWindow(){super.startRedrawingBasedOnChangesInVisibleWindow(),this._presentationModel.on(o.default.VISIBLE_RANGE_STATS_UPDATED,this.renderOnFrameEnd,this),this._presentationModel.on(o.default.VISIBLE_RANGE_STATS_HIDDEN,this.renderOnFrameEnd,this),this._presentationModel.getInstrumentResolutionInfo()&&this._handleTimezoneData(this._presentationModel.getInstrumentResolutionInfo()),this._presentationModel.on(o.default.RESOLUTION_INFO_LOADED,this._handleTimezoneData,this)}_areStatsVisible(){return this._presentationModel.areVisibleRangeStatsVisible()}_getStats(){return this._presentationModel.getVisibleRangeStats()}_getOffsets(){return this._presentationModel.getOffsetsForComponent("visiblestats")}_getStatsLabel(){const e=this._instrumentModel.activeResolution;let t=this._visibleWindow.visibleDateRange.startDate(),i=this._visibleWindow.visibleDateRange.endDate();if(e&&t&&i&&e!==l.default.values.TICK){const n=e.getPeriodIterator();t=n.next(t),i=n.previous(i)}return`${this._formatDate(t,e)} - ${this._formatDate(i,e)}`}_formatDate(e,t){return this._userTimeZone&&e&&t?r.DateTime.fromJSDate(e,{zone:this._userTimeZone}).toFormat(this._timeFormats[t.periodUnit]):""}_layoutStats(){super._layoutStats();const e=this._presentationModel.getStatsLineWrapOffset();e>0&&(this._dLabelTitle.attr("transform",d.default.svgTranslateAttrY(e)),this._updateBackground())}_handleTimezoneData(e){this._userTimeZone=e.getUserTimeZone()}}t.A=c},69218:(e,t,i)=>{"use strict";var n=i(15215).Bx;t.vV=t.BR=void 0;const s=i(43130),r=n(i(3565)),o=i(72444);t.BR=1e3,t.vV=100;class a extends r.default{constructor(){super(...arguments),this._isHovering=!1,this._closeOnUnHover=!1}startListening(e){return super.startListening(e),this._eventBus.subscribe("hint-tooltip/hover/enter",this._handleEnter,this),this._eventBus.subscribe("hint-tooltip/update",this._handleUpdate,this),this._eventBus.subscribe("hint-tooltip/hover/exit",this._handleExit,this),this}handleHoverIn(){this._isHovering=!0}handleHoverOut(){this._isHovering=!1,this._presentationModel.persistWhileHovering&&this._closeOnUnHover&&(this._presentationModel.setConfig(null),this._closeOnUnHover=!1)}_handleEnter(e){const i=this._presentationModel,n=i.isVisible&&i.groupId===e.groupId?0:(0,s.isFinite)(e.timeout)?e.timeout:t.BR;this._clearTimeout("_pendingExitId"),this._clearTimeout("_pendingEnterId"),n<=0?this._presentationModel.setConfig(e):this._pendingEnterId=window.setTimeout((()=>this._presentationModel.setConfig(e)),n)}_handleUpdate(){this._presentationModel.fire(o.TOOLTIP_UPDATED)}_handleExit(e,i){this._clearTimeout("_pendingEnterId"),this._presentationModel.isVisible&&this._presentationModel.id===e&&(this._clearTimeout("_pendingExitId"),this._pendingExitId=window.setTimeout((()=>{this._presentationModel.persistWhileHovering&&!(null==i?void 0:i.overridePersistWhileHovering)&&this._isHovering?this._closeOnUnHover=!0:this._presentationModel.setConfig(null)}),void 0!==(null==i?void 0:i.exitTimeout)?i.exitTimeout:t.vV))}_clearTimeout(e){this[e]&&(window.clearTimeout(this[e]),delete this[e])}destroy(){this._clearTimeout("_pendingEnterId"),this._clearTimeout("_pendingExitId"),super.destroy()}}t.Ay=a},73848:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TOOLTIP_APPEARANCE=void 0,function(e){e.ABOVE="above",e.BELOW="below",e.LEFT_OF="leftOf",e.RIGHT_OF="rightOf"}(t.TOOLTIP_APPEARANCE||(t.TOOLTIP_APPEARANCE={}))},66601:(e,t,i)=>{"use strict";const n=(0,i(15215).Bx)(i(11743));t.A=class{constructor(e){this._eventBus=e}init(){this._eventBus.subscribe("chart/view/ready",this._handleChartViewReaady,this),this._eventBus.publish("subViews/config",["hint-tooltip",n.default]),this._chartView&&this._chartView.addRenderersBySubviewConfig(n.default)}destroy(){this._eventBus.unsubscribeAll(this),this._eventBus.publish("subViews/removeConfig",["hint-tooltip"]),this._chartView&&(this._chartView.removeRenderersBySubviewConfig(n.default),delete this._chartView)}_handleChartViewReaady(e){this._chartView=e}}},72444:(e,t,i)=>{"use strict";var n=i(15215).Bx;Object.defineProperty(t,"__esModule",{value:!0}),t.TOOLTIP_UPDATED=void 0;const s=n(i(48990)),r=n(i(25322)),o=i(73848);t.TOOLTIP_UPDATED="tooltipUpdated";class a extends s.default{constructor(){super(...arguments),this._visible=!1}get id(){return this._id}get direction(){return this._direction||o.TOOLTIP_APPEARANCE.BELOW}get groupId(){return this._groupId}get message(){return this._message}get style(){return this._style}get rect(){return this._rect}get isVisible(){return this._visible}get persistWhileHovering(){return this._persistWhileHovering||!1}setConfig(e){this._visible&&this._lifecycle&&this._lifecycle.hide.call(this._lifecycle.hideContext,this._message,this._groupId,e&&e.groupId||void 0),delete this._id,delete this._groupId,delete this._rect,delete this._style,delete this._message,delete this._lifecycle,e?(this._id=e.itemId,this._groupId=e.groupId,this._style=e.style,this._message="string"==typeof e.message?document.createTextNode(e.message):e.message,this._direction=e.direction,this._lifecycle=e.lifecycle,this._rect=r.default.normaliseDimensions(e.rect),this._persistWhileHovering=e.persistWhileHovering,this._visible=!0,this.fire(t.TOOLTIP_UPDATED),this._lifecycle&&this._lifecycle.show.call(this._lifecycle.showContext,this._message)):(this._visible&&(this._visible=!1,this.fire(t.TOOLTIP_UPDATED)),delete this._id,delete this._groupId,delete this._message,delete this._style,delete this._direction,delete this._lifecycle,delete this._rect,delete this._persistWhileHovering)}}t.default=a},14776:(e,t,i)=>{"use strict";var n=i(15215).Bx;const s=n(i(85690)),r=i(72444),o=i(73848),a=n(i(25322)),l=n(i(50951)),d=n(i(10520)),u={[o.TOOLTIP_APPEARANCE.BELOW]:[o.TOOLTIP_APPEARANCE.ABOVE,o.TOOLTIP_APPEARANCE.RIGHT_OF,o.TOOLTIP_APPEARANCE.LEFT_OF],[o.TOOLTIP_APPEARANCE.ABOVE]:[o.TOOLTIP_APPEARANCE.BELOW,o.TOOLTIP_APPEARANCE.RIGHT_OF,o.TOOLTIP_APPEARANCE.LEFT_OF],[o.TOOLTIP_APPEARANCE.RIGHT_OF]:[o.TOOLTIP_APPEARANCE.LEFT_OF,o.TOOLTIP_APPEARANCE.BELOW,o.TOOLTIP_APPEARANCE.ABOVE],[o.TOOLTIP_APPEARANCE.LEFT_OF]:[o.TOOLTIP_APPEARANCE.RIGHT_OF,o.TOOLTIP_APPEARANCE.BELOW,o.TOOLTIP_APPEARANCE.ABOVE]};class c extends s.default{initDom(){return super.initDom(),this._dTooltip=this.dContainer.append("div").classed("container",!0),this._dChevron=this._dTooltip.append("div").classed("chevron",!0),this._dBody=this._dTooltip.append("div").classed("body",!0),this._captureZone=this._captureZoneManager.createZone(a.default,l.default.BLOCK_ALL,d.default.HINT_TOOLTIP).withAssociatedElement(this._dBody).hide(),this._captureZone.setHoverHandler({in:this._presentationController.handleHoverIn,inContext:this._presentationController,out:this._presentationController.handleHoverOut,outContext:this._presentationController}),this.dContainer.classed("hidden",!0),this}startRedrawingBasedOnChangesInVisibleWindow(){this._presentationModel.on(r.TOOLTIP_UPDATED,this.renderOnFrameEnd,this)}stopRedrawingBasedOnChangesInVisibleWindow(){this._presentationModel.un(null,this)}render(){const{isVisible:e,message:t,style:i,persistWhileHovering:n}=this._presentationModel;if(e){if(t!==this._content){const e=this._dBody.node();this._content&&e.removeChild(this._content),this._content=t,e.appendChild(this._content)}i!==this._customClass&&(this._customClass&&(this.dContainer.classed(this._customClass,!1),delete this._customClass),i&&(this._customClass=i,this.dContainer.classed(this._customClass,!0))),this.dContainer.classed("hidden",!1),this._positionTooltip(),n?this._captureZone.setDimensionsBasedOnAssociatedElement().show():this._captureZone.hide()}else this.dContainer.classed("hidden",!0),this._content&&(this._content.parentNode.removeChild(this._content),delete this._content),this._customClass&&(this.dContainer.classed(this._customClass,!1),delete this._customClass),this._captureZone.hide()}_positionTooltip(){this.dContainer.style("top",null).style("left",null);const{rect:e,direction:t}=this._presentationModel,i=this._captureZoneManager.getOffset();[t].concat(u[t],[t]).reduce(((t,n)=>{if(t)return!0;this._dBody.style("margin",null),Object.values(o.TOOLTIP_APPEARANCE).forEach((e=>this._dTooltip.classed(e,e===n)));const[s,r]=function(e,t){const i=[NaN,NaN];return e===o.TOOLTIP_APPEARANCE.BELOW||e===o.TOOLTIP_APPEARANCE.ABOVE?i[0]=t.x+t.width/2:e===o.TOOLTIP_APPEARANCE.RIGHT_OF?i[0]=t.x+t.width:i[0]=t.x,e===o.TOOLTIP_APPEARANCE.LEFT_OF||e===o.TOOLTIP_APPEARANCE.RIGHT_OF?i[1]=t.y+t.height/2:e===o.TOOLTIP_APPEARANCE.BELOW?i[1]=t.y+t.height:i[1]=t.y,i}(n,e);this.dContainer.style("top",`${Math.round(r-i.top)}px`).style("left",`${Math.round(s-i.left)}px`);const a=this._dBody.node().getBoundingClientRect(),l=this._dChevron.node().getBoundingClientRect();if(u=i,!((d=l).top>=u.top&&d.right<=u.right&&d.bottom<=u.bottom&&d.left>=u.left)||n===o.TOOLTIP_APPEARANCE.BELOW&&a.bottom>i.bottom||n===o.TOOLTIP_APPEARANCE.ABOVE&&a.top<i.top||n===o.TOOLTIP_APPEARANCE.LEFT_OF&&a.left<i.left||n===o.TOOLTIP_APPEARANCE.RIGHT_OF&&a.right>i.right)return!1;var d,u;let c=0;const h=[o.TOOLTIP_APPEARANCE.ABOVE,o.TOOLTIP_APPEARANCE.LEFT_OF].includes(n)?-1:1;return n===o.TOOLTIP_APPEARANCE.ABOVE||n===o.TOOLTIP_APPEARANCE.BELOW?a.left<i.left?(c=Math.round(i.left-a.left+8)*h,this._dBody.style("margin",`0 ${-c}px 0 ${c}px`)):a.right>i.right&&(c=Math.round(a.right-i.right+8)*h,this._dBody.style("margin",`0 ${c}px 0 ${-c}px`)):n!==o.TOOLTIP_APPEARANCE.LEFT_OF&&n!==o.TOOLTIP_APPEARANCE.RIGHT_OF||(a.top<i.top?(c=Math.round(i.top-a.top+8)*h,this._dBody.style("margin",`${c}px 0 ${-c}px`)):a.bottom>i.bottom&&(c=Math.round(a.bottom-i.bottom+8)*h,this._dBody.style("margin",`${-c}px 0 ${c}px`))),!0}),!1)}destroy(){this._dTooltip&&(this._dChevron.remove(),this._dBody.remove(),this._dTooltip.remove(),delete this._dBody,delete this._dChevron,delete this._dTooltip),super.destroy()}}t.A=c},68843:(e,t,i)=>{"use strict";var n=i(15215).Bx;const s=n(i(85690)),r=n(i(86605)),o=n(i(40975)),a=n(i(55986)),l=i(90577),d=n(i(50547)),u=i(9525),c=n(i(62466)),h=n(i(73453)),p=i(44513);class _ extends s.default{constructor(e,t,i,n){super(e,t,i,n),this._dirtyIndicators=Object.create(null),this._indicatorLabels=new a.default,this._marginBottom=0,this._requestedResizing=!1,this.positionLabels=u.schedule.throttledDeferred(this.positionLabels)}withIndicatorIds(e){return this._indicatorIds=e,this}withMarginBottom(e){return this._marginBottom=e,this}destroy(){this._indicatorLabels.forEach((0,u.invoker)("destroy"),this),this._indicatorLabels.clear(),this.positionLabels.cancel(),d.default.cancel(this),super.destroy();for(const e of["_dirtyIndicators","_indicatorIds","_indicatorLabels"])delete this[e]}positionLabels(){const e=this._subView.dimensions.width;let t=0,{xOffset:i,yOffset:n}=this._presentationModel.getOffsetsForComponent("indicatorslabels");n-=this._marginBottom,this._indicatorLabels.forEach((s=>{const r=s.getSize(),o=r.width+4;i>0&&i+o>e&&(i=0,n-=r.height+4,t++),s.positionLabel(i,n-r.height),i+=o})),this._presentationController.setIndicatorLabelsOffset(this._calculateLabelOffset(this._indicatorLabels,t))}_calculateLabelOffset(e,t){if(e.length()>0){return(t+1)*(e.get(0).getSize().height+4)}return 0}resizeLabels(){this._requestedResizing||(this._requestedResizing=!0,d.default.defer(this._resizeModifiedLabels,this))}updateCaptureZones(){d.default.defer(this._updateModifiedCaptureZones,this)}startRedrawingBasedOnChangesInVisibleWindow(){super.startRedrawingBasedOnChangesInVisibleWindow();const e=this._instrumentModel.chartModel.indicators.filter((e=>this._indicatorIds.includes(e.name)));e.length&&e.forEach((e=>this._handleIndicatorAdded(e))),this._instrumentModel.chartModel.on(o.default.INDICATOR_ADDED,this._handleIndicatorAdded,this),this._instrumentModel.chartModel.on(o.default.INDICATOR_REMOVED,this._handleIndicatorRemoved,this),this._instrumentModel.chartModel.on(o.default.INDICATOR_UPDATED,this._handleIndicatorUpdated,this),this._visibleWindow.on(h.default.MOVED,this._handleVisibleWindowMoved,this),this._presentationModel.on(l.COMMON_UI_CHANGED,this._handleCommonUIChange,this)}stopRedrawingBasedOnChangesInVisibleWindow(){this._instrumentModel.chartModel.un(null,this),this._presentationModel.un(null,this),this._visibleWindow.un(null,this),super.stopRedrawingBasedOnChangesInVisibleWindow()}_resizeModifiedLabels(){const e=this._dirtyIndicators;this._indicatorLabels.forEach((t=>{1&e[t.name]&&(t.resizeLabel(),e[t.name]&=-2)})),this._requestedResizing=!1}_updateModifiedCaptureZones(){(0,u.invokeCall)(this._indicatorLabels.getAll(),"updateCaptureZone")}_handleCommonUIChange(){this.positionLabels(),this.updateCaptureZones()}_handleIndicatorAdded(e){if(e.name!==p.PricesIndicatorName.PRICES&&this._indicatorIds.includes(e.name)){const t=c.default.create(e,this._eventBus,this._captureZoneManager).withContainer(this.dContainer).initDom();this._indicatorLabels.add(t),this._dirtyIndicators[e.name]|=1}this.resizeLabels(),this.positionLabels(),this.updateCaptureZones()}_handleIndicatorRemoved(e){const{name:t}=e,i=this._indicatorLabels.getBy("name",t);i&&(i.destroy(),this._indicatorLabels.remove(i),delete this._dirtyIndicators[t]),this.positionLabels(),this.updateCaptureZones()}_handleIndicatorUpdated(e){const t=e.name,i=this._indicatorLabels.getBy("name",t);i&&(i.withIndicator(e).updateSettings(),this._dirtyIndicators[t]|=1,this.resizeLabels(),this.positionLabels(),this.updateCaptureZones())}_handleVisibleWindowMoved(e,t){e&(r.default.RESIZED|r.default.INITIALISED)&&(this.positionLabels(),this.updateCaptureZones()),t&(r.default.RESIZED|r.default.INITIALISED)&&this.updateCaptureZones()}}t.A=_},81009:(e,t,i)=>{"use strict";var n=i(15215).Bx;Object.defineProperty(t,"__esModule",{value:!0});const s=n(i(289));class r extends s.default{constructor(e,t){super(),this._indicator=e,this._eventBus=t,this._needsUpdate=!1}withResolution(e){return this._resolution=e,this}initialise(){return this._needsUpdate=!0,this}initialiseIfNeeded(){this._needsUpdate||this.initialise()}updateAvailability(){this._needsUpdate&&this.fire(r.CHANGED,this._indicator)}isAvailable(){return!0}getUnavailabilityReason(){return null}destroy(){super.destroy(),this._indicator.un(null,this),this._eventBus.unsubscribeAll(this),this._needsUpdate=!1}}r.CHANGED="CHANGED",t.default=r},58344:(e,t,i)=>{"use strict";var n=i(15215).Bx;Object.defineProperty(t,"__esModule",{value:!0});const s=n(i(81009)),r=n(i(59465)),o=n(i(74893));class a extends s.default{isAvailable(){return!!this._resolution&&this._resolution.period<o.default.values.DAY.period}getUnavailabilityReason(){return this.isAvailable()?null:r.default.get("notAvailableIntraday")}}t.default=a},34887:(e,t,i)=>{"use strict";var n=i(15215).Bx;Object.defineProperty(t,"__esModule",{value:!0});const s=n(i(84228)),r=n(i(14399));function o(e,t,i){let{highPrice:n,lowPrice:s}=t;e&&(n=s=t.value);const r=n-s;if(!i)return r;let{closePrice:o}=i;return e&&(o=i.value),Math.max(r,Math.abs(t.highPrice-o),Math.abs(t.lowPrice-o))}t.default=class{calculatePoints(e,{period:t}){if(e.length<=t-1)return[];const i=[],n=e[0]instanceof r.default;let a,l=0;for(let s=0;s<t;s++)l+=o(n,e[s],e[s-1]);l/=t,i.push(new s.default(e[t-1].timestamp,l,null)),a=l;const d=1/t;for(let r=t;r<e.length;r++){const t=(o(n,e[r],e[r-1])-a)*d+a;i.push(new s.default(e[r].timestamp,t,null)),a=t}return i}}},81136:(e,t,i)=>{"use strict";var n=i(15215).Bx;Object.defineProperty(t,"__esModule",{value:!0});const s=n(i(39115)),r=n(i(61299)),o=n(i(84228)),a=n(i(59881));t.default=class{constructor(){this._lowerBandCalculator=s.default.create(),this._movingAverageCalculator=a.default.create(),this._upperBandCalculator=r.default.create()}calculatePoints(e=[],t){const i=[];if(!t.period||e.length<t.period)return i;const n=this._lowerBandCalculator.calculatePoints(e,t),s=this._movingAverageCalculator.calculatePoints(e,t),r=this._upperBandCalculator.calculatePoints(e,t),a=e.findIndex((e=>e.timestamp===n[0].timestamp));for(let l=0;l<n.length;l++){const t=e[a+l],d=(r[l].value-n[l].value)/s[l].value;i.push(new o.default(t.timestamp,d,null))}return i}}},2408:(e,t,i)=>{"use strict";var n=i(15215).Bx;Object.defineProperty(t,"__esModule",{value:!0});const s=n(i(39115)),r=n(i(61299)),o=n(i(84228));t.default=class{constructor(){this._lowerBandCalculator=s.default.create(),this._upperBandCalculator=r.default.create()}calculatePoints(e=[],t){const i=[];if(!t.period||e.length<t.period)return i;const n=this._lowerBandCalculator.calculatePoints(e,t),s=this._upperBandCalculator.calculatePoints(e,t),r=e.findIndex((e=>e.timestamp===n[0].timestamp));for(let a=0;a<n.length;a++){const t=e[r+a],l=s[a].value-n[a].value,d=l?(t.value-n[a].value)/l:0;i.push(new o.default(t.timestamp,d,null))}return i}}},19851:(e,t,i)=>{"use strict";var n=i(15215).Bx;Object.defineProperty(t,"__esModule",{value:!0});const s=i(43130),r=n(i(84228)),o=n(i(17070));function a(e){return e instanceof o.default?(e.highPrice+e.lowPrice+e.closePrice)/3:e.value}class l{static create(){return new l}calculatePoints(e=[],t){const i=[];let n,o;if(!t.period||e.length<t.period)return i;for(o=t.period-1;o<e.length;o++){let l,d=0,u=0;if((0,s.isNil)(n)){let i;for(n=0,i=0;i<t.period;i++)n+=a(e[i]);n/=t.period}else n-=a(e[o-t.period])/t.period,n+=a(e[o])/t.period;for(l=o-t.period+1;l<=o;l++)d+=Math.abs(n-a(e[l]));d/=t.period,0!==d&&(u=(a(e[o])-n)/(.015*d)),i.push(new r.default(e[o].timestamp,u,null))}return i}}t.default=l},14989:(e,t,i)=>{"use strict";var n=i(15215).Bx;Object.defineProperty(t,"__esModule",{value:!0}),t.getSMAPerPeriod=void 0;const s=n(i(84228));function r(e,t){return e.reduce(((e,{value:t})=>e+t),0)/t}function o(e,t){return e.reduce(((i,n,r)=>{if(0===r)return i;const o=function({volume:e,highPrice:t,lowPrice:i},n){return null===e?null:e/n/(t-i)}(n,t);if(null===o)return i;const a=(l=n,d=e[r-1],(l.highPrice+l.lowPrice-d.highPrice-d.lowPrice)/2/o);var l,d;return Number.isFinite(a)&&i.push(new s.default(e[r].timestamp,a,e[r].volume)),i}),[])}t.getSMAPerPeriod=r;t.default=class{calculatePoints(e,{period:t,divisor:i}){return e.length<t||isNaN(t)||!i||isNaN(i)?[]:t>1?e.slice(0,-t).reduce(((n,a,l)=>{const d=o(e.slice(l,l+t+1),i),u=r(d,d.length);if(isFinite(u)){const{timestamp:i,volume:r}=e[l+t];n.push(new s.default(i,u,r))}return n}),[]):o(e,i)}}},46431:(e,t,i)=>{"use strict";var n=i(15215).Bx;Object.defineProperty(t,"__esModule",{value:!0});const s=n(i(84228)),r=i(14989);class o{static create(){return new o}calculatePoints(e,{period:t}){if(!t||!e||t>e.length)return[];const i=[],n=Math.ceil((t-1)/2),o=2/(t+1);i.push(new s.default(e[n-1].timestamp,(0,r.getSMAPerPeriod)(e.slice(0,n),n),null));for(let s=i[0],r=1;r<e.length;r++)i.push(s=this._calculateEmaPoint(e[r],s,o));return i.slice(t-1)}_calculateEmaPoint({value:e,timestamp:t},{value:i},n){return new s.default(t,e*n+(1-n)*i,null)}}t.default=o},50584:(e,t,i)=>{"use strict";var n=i(15215).Bx;Object.defineProperty(t,"__esModule",{value:!0});const s=n(i(17070));t.default=class{calculatePoints(e,t){if(!e.length)return[];if(!t.heikinashiEnabled)return e;const i=[this._calculateSinglePoint(e[0],null)];for(let n=1;n<e.length;n++)i.push(this._calculateSinglePoint(e[n],i[n-1]));return i}_calculateSinglePoint(e,t){if(!t)return new s.default(e.timestamp,e.closePrice,e.volume,e.highPrice,e.lowPrice,e.openPrice,e.closePrice,e.lastRawPrice,e.artificial);const i=(e.openPrice+e.closePrice+e.highPrice+e.lowPrice)/4,n=(t.openPrice+t.closePrice)/2,r=Math.max(e.highPrice,n,i),o=Math.min(e.lowPrice,n,i);return new s.default(e.timestamp,i,e.volume,r,o,n,i,e.lastRawPrice,e.artificial)}}},91063:(e,t,i)=>{"use strict";var n=i(15215).Bx;Object.defineProperty(t,"__esModule",{value:!0});const s=n(i(17070)),r=i(93829);class o{static create(){return new o}static _findHighestValueIndex(e,t,i){const n={value:Number.MIN_VALUE,index:t};for(let s=t;s<=i;s++){const t=e[s].highPrice;t>n.value&&(n.index=s,n.value=t)}return n}static _findLowestValueIndex(e,t,i){const n={value:Number.MAX_VALUE,index:t};for(let s=t;s<=i;s++){const t=e[s].lowPrice;t<n.value&&(n.index=s,n.value=t)}return n}calculatePoints(e,{period:t}){if(e.length<t)return[];const i=[];let n={value:Number.MIN_VALUE,index:0},a={value:Number.MAX_VALUE,index:0};return e.forEach(((l,d)=>{const u=d-t+1,c=l instanceof s.default?l.closePrice:l.value,h=l instanceof s.default?l.highPrice:c,p=l instanceof s.default?l.lowPrice:c;if(n.index<u?n=o._findHighestValueIndex(e,u,d):h>n.value&&(n={value:h,index:d}),a.index<u?a=o._findLowestValueIndex(e,u,d):p<a.value&&(a={value:p,index:d}),u>=0){const e=(n.value+a.value)/2;i.push((0,r.createCalculatedDataPoint)(e,l))}})),i}}t.default=o},35498:(e,t,i)=>{"use strict";var n=i(15215).Bx;Object.defineProperty(t,"__esModule",{value:!0});const s=n(i(46431)),r=n(i(9784));class o{constructor(){this._emaCalculator=s.default.create(),this._spreadCalculator=r.default.create()}static create(){return new o}calculatePoints(e,t){const i=this._emaCalculator.calculatePoints(e,{period:t.slowEmaPeriod}),n=this._emaCalculator.calculatePoints(e,{period:t.fastEmaPeriod});return this._spreadCalculator.calculatePoints(i,n)}}t.default=o},12122:(e,t,i)=>{"use strict";var n=i(15215).Bx;Object.defineProperty(t,"__esModule",{value:!0});const s=n(i(35498)),r=n(i(13146)),o=n(i(9784)),a=n(i(14443));t.default=class{constructor(){this._spreadCalculator=o.default.create(),this._macdCalculator=s.default.create(),this._macdSignalCalculator=r.default.create()}calculatePoints(e,t){const i=this._macdCalculator.calculatePoints(e,t),n=this._macdSignalCalculator.calculatePoints(e,t);return this._spreadCalculator.calculatePoints(n,i).map(a.default.createFromDataPoint)}}},13146:(e,t,i)=>{"use strict";var n=i(15215).Bx;Object.defineProperty(t,"__esModule",{value:!0});const s=n(i(46431)),r=n(i(35498));class o{constructor(){this._emaCalculator=new s.default,this._macdCalculator=r.default.create()}static create(){return new o}calculatePoints(e,t){const i=this._macdCalculator.calculatePoints(e,t);return this._emaCalculator.calculatePoints(i,{period:t.signalEmaPeriod})}}t.default=o},86861:(e,t,i)=>{"use strict";var n=i(15215).Bx;Object.defineProperty(t,"__esModule",{value:!0});const s=n(i(14443));t.default=class{calculatePoints(e,{period:t}){const i=[];if(isNaN(t)||e.length<=t)return i;for(let n=t;n<e.length;n++){const r=e[n].value-e[n-t].value;i.push(new s.default(e[n].timestamp,r,null,r>0))}return i}}},15188:(e,t,i)=>{"use strict";var n=i(15215).Bx;Object.defineProperty(t,"__esModule",{value:!0});const s=n(i(17070)),r=n(i(14443));t.default=class{constructor(){this.accelerationLimit=.2,this.accelerationStep=.02,this.initialAcceleration=.02,this.period=3}calculatePoints(e){return e[0]instanceof s.default?this.calculatePointsForConsolidatedDataPoints(e):this.calculatePointsForTickDataPoints(e)}calculatePointsForTickDataPoints(e){const t=[];let i=e.length>1?e[1].value:NaN,n=!0,s=this.initialAcceleration,o=e.length>1?e[1].value:NaN;for(let a=2;a<e.length;a++){const l=e[a].value,d=e[a-1].value,u=e[a-2].value;let c=!1;i+=s*(o-i),c=!1,n&&l<i?(n=!1,c=!0):!n&&l>i&&(n=!0,c=!0),c?(i=o,o=l,s=this.initialAcceleration):n?(l>o&&(o=l,s+=this.accelerationStep,s>this.accelerationLimit&&(s=this.accelerationLimit)),d<i&&(i=d),u<i&&(i=u)):(l<o&&(o=l,s+=this.accelerationStep,s>this.accelerationLimit&&(s=this.accelerationLimit)),d>i&&(i=d),u>i&&(i=u)),t.push(new r.default(e[a].timestamp,i,null,n))}return t}calculatePointsForConsolidatedDataPoints(e){const t=[];let i=e.length>1?e[1].lowPrice:NaN,n=!0,s=this.initialAcceleration,o=e.length>1?e[0].highPrice:NaN,a=e.length>1?e[0].lowPrice:NaN;for(let l=2;l<e.length;l++){const d=e[l].lowPrice,u=e[l].highPrice,c=e[l-1].lowPrice,h=e[l-2].lowPrice,p=e[l-1].highPrice,_=e[l-2].highPrice;let g=!1;i+=n?s*(o-i):s*(a-i),n&&d<i?(n=!1,g=!0,i=o,a=d,s=this.initialAcceleration):!n&&u>i&&(n=!0,g=!0,i=a,o=u,s=this.initialAcceleration),g||(n?(u>o&&(o=u,s+=this.accelerationStep,s>this.accelerationLimit&&(s=this.accelerationLimit)),c<i&&(i=c),h<i&&(i=h)):(d<a&&(a=d,s+=this.accelerationStep,s>this.accelerationLimit&&(s=this.accelerationLimit)),p>i&&(i=p),_>i&&(i=_))),t.push(new r.default(e[l].timestamp,i,null,n))}return t}}},48365:(e,t,i)=>{"use strict";var n=i(15215).Bx;Object.defineProperty(t,"__esModule",{value:!0});const s=n(i(84228)),r=n(i(17070)),o=i(10094),a=n(i(75658));t.default=class{calculatePoints(e,t){let i=[];const{period:n,price:r}=t;return isNaN(n)||!a.default[r]||(i=e.slice(n-1).map(((t,i)=>{const a=e.slice(i,i+n),l=6*this._calculateD(a,r)/(n*(Math.pow(n,2)-1)),d=100*(0,o.roundFloatingPointError)(1-l);return new s.default(t.timestamp,d,t.volume)}))),i}_calculateD(e,t){return e.map(((i,n)=>({price:i instanceof r.default?i[`${a.default[t].toLowerCase()}Price`]:i.value,dateRank:e.length-n}))).sort((({price:e},{price:t})=>t-e)).reduce(((e,{dateRank:t},i)=>e+Math.pow(t-(i+1),2)),0)}}},81848:(e,t,i)=>{"use strict";var n=i(15215).Bx;Object.defineProperty(t,"__esModule",{value:!0});const s=n(i(84228));t.default=class{constructor(){this.INITIAL_PERIOD=14,this._weighting=1/this.INITIAL_PERIOD,this._rsiPeriod=this.INITIAL_PERIOD}set rsiPeriod(e){this._weighting=1/e,this._rsiPeriod=e}calculatePoints(e){const t=[];if(e.length<this._rsiPeriod+1)return t;let i,n,r,o,a,l=NaN,d=0,u=0;for(a=0;a<this._rsiPeriod;a++)i=e[a].value,isNaN(l)||(n=Math.max(0,l-i),d+=n,r=Math.max(0,i-l),u+=r),l=i;for(this.downChangeEma=d/(this._rsiPeriod-1),this.upChangeEma=u/(this._rsiPeriod-1);a<e.length;a++)i=e[a].value,n=Math.max(0,l-i),r=Math.max(0,i-l),this.downChangeEma=this.downChangeEma+this._weighting*(n-this.downChangeEma),this.upChangeEma=this.upChangeEma+this._weighting*(r-this.upChangeEma),o=0===this.upChangeEma?0:0===this.downChangeEma?100:100-100/(1+this.upChangeEma/this.downChangeEma),t.push(new s.default(e[a].timestamp,o,e[a].volume)),l=i;return t}}},9784:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=i(93829);class s{static create(){return new s}calculatePoints(e,t){const i=[];let s=0,r=0;for(;s<e.length;s++){const o=e[s],a=o.timestamp;let l=null;for(;r<t.length;r++){const e=t[r].timestamp;if(e===a&&(l=t[r]),e>=a)break}if(l){const e=l.value-o.value;i.push((0,n.createCalculatedDataPoint)(e,l))}}return i}}t.default=s},6520:(e,t,i)=>{"use strict";var n=i(15215).Bx;Object.defineProperty(t,"__esModule",{value:!0});const s=n(i(59881)),r=n(i(72933));class o{constructor(){this._stochasticKCalculator=r.default.create(),this._movingAverageCalculator=s.default.create()}static create(){return new o}set kPeriod(e){this._stochasticKCalculator.kPeriod=e}get kPeriod(){return this._stochasticKCalculator.kPeriod}set slowingPeriod(e){this._stochasticKCalculator.slowingPeriod=e}get slowingPeriod(){return this._stochasticKCalculator.slowingPeriod}calculatePoints(e){const t=this._stochasticKCalculator.calculatePoints(e);return this._movingAverageCalculator.calculatePoints(t,{period:this.dPeriod})}}t.default=o},69926:(e,t,i)=>{"use strict";var n=i(15215).Bx;Object.defineProperty(t,"__esModule",{value:!0});const s=i(18268),r=n(i(6520)),o=n(i(72933));t.default=class{constructor(){this._stochasticKCalculator=o.default.create(),this._stochasticDCalculator=r.default.create()}set kPeriod(e){this._stochasticKCalculator.kPeriod=e,this._stochasticDCalculator.kPeriod=e}get kPeriod(){return this._stochasticDCalculator.kPeriod}set slowingPeriod(e){this._stochasticKCalculator.slowingPeriod=e,this._stochasticDCalculator.slowingPeriod=e}get slowingPeriod(){return this._stochasticKCalculator.slowingPeriod}set dPeriod(e){this._stochasticDCalculator.dPeriod=e}get dPeriod(){return this._stochasticDCalculator.dPeriod}calculatePoints(e){const t=this._stochasticKCalculator.calculatePoints(e),i=this._stochasticDCalculator.calculatePoints(e);return(0,s.calculateJLinePoints)(t,i)}}},18268:(e,t,i)=>{"use strict";var n=i(15215).Bx;Object.defineProperty(t,"__esModule",{value:!0}),t.calculateJLinePoints=void 0;const s=n(i(84228));t.calculateJLinePoints=function(e,t){const i=[],n=Math.max(0,e.length-t.length),r=e.length;for(let o=n;o<r;o++){const r=e[o],a=3*t[o-n].value-2*r.value;i.push(new s.default(r.timestamp,a,null))}return i}},72933:(e,t,i)=>{"use strict";var n=i(15215).Bx;Object.defineProperty(t,"__esModule",{value:!0});const s=n(i(84228)),r=n(i(17070));function o(e,t,i){let n,s=Number.MIN_VALUE,o=Number.MAX_VALUE,a=e[t];for(n=t;n<i;n++)if(a=e[n],a)if(a instanceof r.default){const t=e[n];s=Math.max(s,t.highPrice),o=Math.min(o,t.lowPrice)}else s=Math.max(s,a.value),o=Math.min(o,a.value);return{maxValue:s,minValue:o,point:a}}function a(e,t,i){let n,o,a=0,l=0,d=e[t];for(o=t;o<i;o++)d=e[o],d.point instanceof r.default?(a+=d.point.closePrice-d.minValue,l+=d.maxValue-d.minValue):(a+=d.point.value-d.minValue,l+=d.maxValue-d.minValue);return n=0===l?100:100*a/l,new s.default(d.point.timestamp,n,null)}class l{static create(){return new l}calculatePoints(e){const t=[],i=[];let n,s;if(!this.kPeriod||!this.slowingPeriod)return t;for(n=0;n+this.kPeriod<=e.length;n++){if((l=e[n])instanceof r.default&&(isNaN(l.highPrice)||isNaN(l.lowPrice)))continue;const t=o(e,n,n+this.kPeriod);i.push(t)}var l;for(s=0;s+this.slowingPeriod<=i.length;s++){const e=a(i,s,s+this.slowingPeriod);t.push(e)}return t}}t.default=l},71365:(e,t,i)=>{"use strict";var n=i(15215).Bx;Object.defineProperty(t,"__esModule",{value:!0});const s=n(i(34887)),r=n(i(14443));t.default=class{constructor(){this._atrCalculator=new s.default}calculatePoints(e,{period:t,multiplier:i}){const n=[];let s=0,o=0,a=!0;if(e.length<t)return n;const l=this._atrCalculator.calculatePoints(e,{period:t});for(let d=0;d+t<=e.length;d++){const u=d+t-1,{timestamp:c,value:h}=l[d],{closePrice:p,lowPrice:_,highPrice:g}=e[u],{closePrice:f}=e[u-1],m=(g+_)/2;let v=m+i*h,A=m-i*h;v>=s&&f<=s&&(v=s),A<=o&&f>=o&&(A=o);const E=p>s||!(p<o)&&a,T=!0===E?A:v;n.push(new r.default(c,T,null,E)),o=A,s=v,a=E}return n}}},14380:(e,t,i)=>{"use strict";var n=i(15215).Bx;Object.defineProperty(t,"__esModule",{value:!0});const s=i(43130),r=n(i(84228));t.default=class{calculatePointsForSubset(e,t,i){const n=new Array(e.length);let o=0,a=0,l=0;for(let d=0;d<i;d++){const i=e[t+d].volume||0,{timestamp:u,closePrice:c,highPrice:h,lowPrice:p}=e[t+d],_=(h+p+c)/3;if(!(0,s.isFinite)(_))continue;o+=_*i,a+=i;const g=a>0?o/a:_;n[l++]=new r.default(u,g,null)}return n.length=l,n}calculatePoints(e,t,i,n,s){if(!(s&&s.length&&i&&i.length))return[];const r=[];let o=0,a=0;for(const l of s){for(a=o;e[o]&&e[o].timestamp<l;)++o;const t=this.calculatePointsForSubset(e,a,o-a);r.push(...t)}if(o<e.length){const t=this.calculatePointsForSubset(e,o,e.length-o);r.push(...t)}return r.filter((e=>e.timestamp>=i[0].start.getTime()))}}},35372:(e,t,i)=>{"use strict";var n=i(15215).Bx;Object.defineProperty(t,"__esModule",{value:!0});const s=n(i(84228)),r=n(i(17070));t.default=class{calculatePoints(e,t){const i=[];let n={value:Number.MIN_VALUE,index:0},o={value:Number.MAX_VALUE,index:0};if(e.length<t.period)return i;for(let a=0;a<e.length;a++){const l=a-t.period+1,d=e[a]instanceof r.default?e[a].closePrice:e[a].value,u=e[a]instanceof r.default?e[a].highPrice:d,c=e[a]instanceof r.default?e[a].lowPrice:d;if(n.index<l?n=this._findHighestValueIndexPair(e,l,a):u>n.value&&(n={value:u,index:a}),o.index<l?o=this._findLowestValueIndexPair(e,l,a):c<o.value&&(o={value:c,index:a}),l>=0){let t=-100*(n.value-d)/(n.value-o.value);n.value-o.value==0&&(t=0),i.push(new s.default(e[a].timestamp,t,e[a].volume))}}return i}_findHighestValueIndexPair(e,t,i){let n={value:Number.MIN_VALUE,index:t};for(let s=t;s<=i;s++){const t=e[s]instanceof r.default?e[s].highPrice:e[s].value;t>n.value&&(n={value:t,index:s})}return n}_findLowestValueIndexPair(e,t,i){let n={value:Number.MAX_VALUE,index:t};for(let s=t;s<=i;s++){const t=e[s]instanceof r.default?e[s].lowPrice:e[s].value;t<n.value&&(n={value:t,index:s})}return n}}},11173:(e,t,i)=>{"use strict";var n=i(15215).Bx,s=i(15215).Tt;Object.defineProperty(t,"__esModule",{value:!0}),t.IndicatorName=void 0;const r=i(43130),o=n(i(83614)),a=n(i(95055)),l=n(i(26538)),d=n(i(88237)),u=n(i(34887)),c=n(i(48614)),h=n(i(37006)),p=n(i(77163)),_=n(i(81136)),g=n(i(9933)),f=n(i(39115)),m=n(i(2408)),v=n(i(61299)),A=n(i(99528)),E=n(i(76407)),T=n(i(162)),I=n(i(19851)),C=n(i(41976)),O=n(i(86236)),M=n(i(19202)),y=n(i(88183)),b=n(i(81083)),S=n(i(75424)),D=n(i(14989)),w=i(9525),L=n(i(15669)),R=n(i(92826)),P=n(i(91063)),N=n(i(59465)),k=n(i(80478)),x=n(i(58344)),V=n(i(17223)),B=n(i(88862)),H=n(i(76304)),W=n(i(1544)),F=n(i(34274)),U=n(i(35498)),G=n(i(12122)),j=n(i(13146)),K=n(i(90586)),z=n(i(86861)),Z=n(i(77356)),Y=n(i(32233)),$=n(i(15188)),q=n(i(42890)),X=n(i(45610)),J=n(i(53923)),Q=n(i(5956)),ee=n(i(20475)),te=n(i(3054)),ie=n(i(29997)),ne=n(i(76776)),se=n(i(59701)),re=n(i(12162)),oe=n(i(12927)),ae=n(i(87536)),le=n(i(27520)),de=n(i(34296)),ue=n(i(48365)),ce=n(i(85219)),he=n(i(81848)),pe=n(i(69344)),_e=n(i(80449)),ge=n(i(59881)),fe=n(i(84958)),me=n(i(79991)),ve=n(i(11258)),Ae=n(i(72933)),Ee=n(i(6520)),Te=n(i(69926)),Ie=n(i(30070)),Ce=n(i(71365)),Oe=n(i(75466)),Me=n(i(13792)),ye=n(i(89646)),be=n(i(64470)),Se=n(i(64617)),De=n(i(14380)),we=n(i(11998)),Le=n(i(35372)),Re=n(i(46431)),Pe=n(i(94856)),Ne=n(i(57754)),ke=n(i(14898)),xe=n(i(75658)),Ve=i(54859),Be=i(33236),He="15 * settings.period";var We;!function(e){e.AROON="AROON",e.ATR="ATR",e.AWESOME="AWESOME",e.BBW="BBW",e.BOL="BOL",e.BOLPCTB="BOLPCTB",e.CCI="CCI",e.CHAIKIN="CHAIKIN",e.DERIVATIVE="DERIVATIVE",e.DMI="DMI",e.DONCHIAN="DONCHIAN",e.DPO="DPO",e.EMA="EMA",e.EOM="EOM",e.ICHIMOKU="ICHIMOKU",e.KDJ="KDJ",e.KELTNER="KELTNER",e.MACD="MACD",e.MFI="MFI",e.MOMENTUM="MOMENTUM",e.MVAVG="MVAVG",e.PIVOT="PIVOT",e.RCI="RCI",e.ROC="ROC",e.RSI="RSI",e.SAR="SAR",e.STDEV="STDEV",e.STOCH="STOCH",e.SUPERTREND="SUPERTREND",e.VOLUME="VOLUME",e.VWAP="VWAP",e.VWMA="VWMA",e.WMA="WMA",e.WILLR="WILLR"}(We=t.IndicatorName||(t.IndicatorName={}));const Fe=e=>e.preferredHeight?Math.max(e.preferredHeight,Ie.default.MIN_RESIZABLE_RELATIVE_HEIGHT):Ie.default.DEFAULT_RELATIVE_HEIGHT,Ue=(e,t,i,n,s)=>({type:"number",color:s,defaultValue:t,serverValue:function(t){return t[e]},range:i,decimalPoints:n}),Ge=(e,t,i)=>({style:e,setting:t,showTitle:i}),je=(e,t,i,n,o,a,l,d,u,c,h="prices")=>Object.assign(d.reduce(((e,t,d)=>{var{stylesMapping:c,settings:h,subIndicators:p}=e,_=s(e,["stylesMapping","settings","subIndicators"]),g=t.colour,f=t.defaultValue,m=(t.isVisible,s(t,["colour","defaultValue","isVisible"]));const v=d+1,A=`${i}${v}`,E=`${n}${v}`,T=`period${v}`,I=`settings.${T}`,C=Object.assign({key:A,longKey:E,periodKey:T,periodSettingsKey:I},m),O=u?JSON.parse(JSON.stringify(u,((e,t)=>"string"==typeof t&&t.indexOf("{")>-1?Object.keys(C).reduce(((e,t)=>e.replace(`{${t}}`,C[t])),t):t))):{};return Object.assign(Object.assign({},_),{stylesMapping:[...c,Ge(A,T,!1)],settings:Object.assign(Object.assign({},h),{[T]:Ue(T,f,{min:2,max:999},0,g)}),subIndicators:Object.assign(Object.assign({},p),{[`${o}${v}`]:(0,r.merge)({input:{type:a},calculator:{type:l,arguments:{period:I}},renderers:Object.assign({},{[E]:{type:q.default,pointType:E}},0===d&&(null==u?void 0:u.singleRenderers)&&Object.assign({},u.singleRenderers)),numberOfTrailingPoints:I,outputPointType:E},O.subIndicator)})})}),{stylesMapping:[],settings:(null==u?void 0:u.settings)||{},subIndicators:{},study:h}),{serverSettings:i=>Object.assign({},Object.assign({type:e,location:t},d.reduce(((e,{isVisible:t},n)=>{const s=n+1,r=`period${s}`;return Object.assign(e,{[r]:i[r]},t&&{[`isVisible${s}`]:!0})}),{})),(null==u?void 0:u.serverSettings)&&u.serverSettings(i))},c&&{availability:c}),Ke={[We.DERIVATIVE]:{excludeFromIndicatorsMenu:!0,availability:[Y.default],settings:{preferredHeight:{type:"number",defaultValue:Ie.default.DEFAULT_RELATIVE_HEIGHT,serverValue:Fe}},serverSettings:({preferredHeight:e})=>({type:"DERIVATIVE",location:"OSCILLATOR",preferredHeight:e}),study:"derivative",renderers:{derivative:{type:q.default,pointType:Be.PointType.PRICES_DERIVATIVE,properties:{fill:!0}}},input:{type:p.default},numberOfTrailingPoints:"0",outputPointType:"derivative",inputPointType:"prices-derivative",useUnderlyingInstrument:!1},[We.AROON]:{settings:{period:{type:"number",defaultValue:14,serverValue:(0,w.plucker)("period"),range:{min:1,max:999},decimalPoints:0},preferredHeight:{type:"number",defaultValue:Ie.default.DEFAULT_RELATIVE_HEIGHT,serverValue:Fe}},serverSettings:({period:e,preferredHeight:t})=>({type:"AROON",location:"OSCILLATOR",period:e,preferredHeight:t}),subIndicators:{AROON_UP:{input:{type:p.default},calculator:{type:l.default,arguments:{period:"settings.period + 1"}},renderers:{aroonUp:{type:q.default,pointType:"aroonUp"}},numberOfTrailingPoints:"settings.period + 1",outputPointType:"aroonUp"},AROON_DOWN:{input:{type:p.default},calculator:{type:a.default,arguments:{period:"settings.period + 1"}},renderers:{aroonDown:{type:q.default,pointType:"aroonDown"}},numberOfTrailingPoints:"settings.period + 1",outputPointType:"aroonDown"},AROON_CLOUD:{input:{type:p.default},calculator:{type:o.default,arguments:{period:"settings.period + 1"}},renderers:{aroonCloud:{type:T.default,pointType:"aroonCloud"}},showOnTooltip:!1,numberOfTrailingPoints:"settings.period + 1",outputPointType:"aroonCloud"}},study:"aroon"},[We.ATR]:{settings:{period:{type:"number",defaultValue:14,serverValue:(0,w.plucker)("period"),range:{min:1,max:999},decimalPoints:0},preferredHeight:{type:"number",defaultValue:Ie.default.DEFAULT_RELATIVE_HEIGHT,serverValue:Fe}},serverSettings:({period:e,preferredHeight:t})=>({type:"AVERAGE_TRUE_RANGE",location:"OSCILLATOR",period:e,preferredHeight:t}),input:{type:p.default},calculator:{type:u.default,arguments:{period:"settings.period"}},renderers:{averageTrueRange:{type:q.default,pointType:"averageTrueRange",properties:{fill:!0}}},numberOfTrailingPoints:He,outputPointType:"averageTrueRange",study:"atr"},[We.AWESOME]:{settings:{shortPeriod:{type:"number",defaultValue:5,serverValue:(0,w.plucker)("shortPeriod"),range:{min:1,max:999},decimalPoints:0},longPeriod:{type:"number",defaultValue:34,serverValue:(0,w.plucker)("longPeriod"),range:{min:1,max:999},decimalPoints:0},preferredHeight:{type:"number",defaultValue:Ie.default.DEFAULT_RELATIVE_HEIGHT,serverValue:Fe}},serverSettings:({shortPeriod:e,longPeriod:t,preferredHeight:i})=>({type:"AWESOME_OSCILLATOR",location:"OSCILLATOR",shortPeriod:e,longPeriod:t,preferredHeight:i}),input:{type:p.default},calculator:{type:c.default,arguments:{shortPeriod:"settings.shortPeriod",longPeriod:"settings.longPeriod"}},renderers:{awesome:{type:h.default,pointType:"awesome"}},numberOfTrailingPoints:"Math.max(settings.shortPeriod, settings.longPeriod)",outputPointType:"awesome",study:"awesome"},[We.BOL]:{settings:{period:{type:"number",color:"#D5680F",defaultValue:20,serverValue:(0,w.plucker)("deviationPeriod"),range:{min:2,max:999},decimalPoints:0},standardDeviation:{type:"number",color:"#D5680F",defaultValue:2,serverValue:(0,w.plucker)("standardDeviation"),range:{min:.01,max:999.99,step:.01},decimalPoints:2}},serverSettings:({standardDeviation:e,period:t})=>({type:"BOLLINGER_BAND",location:"STUDY",standardDeviation:e,deviationPeriod:t}),subIndicators:{BOLPOS:{input:{type:p.default},calculator:{type:v.default,arguments:{period:"settings.period",standardDeviation:"settings.standardDeviation"}},renderers:{bollingerPositiveBand:{type:q.default,pointType:"bollingerPositiveBand"}},numberOfTrailingPoints:"settings.period - 1",outputPointType:"bollingerPositiveBand"},BOLMA:{input:{type:p.default},calculator:{type:ge.default,arguments:{period:"settings.period"}},renderers:{bollingerMovingAverageBand:{type:q.default,pointType:"bollingerMovingAverageBand"}},numberOfTrailingPoints:"settings.period - 1",outputPointType:"bollingerMovingAverageBand"},BOLNEG:{input:{type:p.default},calculator:{type:f.default,arguments:{period:"settings.period",standardDeviation:"settings.standardDeviation"}},renderers:{bollingerNegativeBand:{type:q.default,pointType:"bollingerNegativeBand"}},numberOfTrailingPoints:"settings.period - 1",outputPointType:"bollingerNegativeBand"},BOLCHANNEL:{input:{type:p.default},calculator:{type:g.default,arguments:{period:"settings.period",standardDeviation:"settings.standardDeviation"}},renderers:{bollingerChannel:{type:T.default,pointType:"bollingerChannel",properties:{relativeWeighting:-2}}},showOnTooltip:!1,numberOfTrailingPoints:"settings.period - 1",outputPointType:"bollingerChannel"}},study:"prices"},[We.BBW]:{settings:{period:{type:"number",color:"#D5680F",defaultValue:20,serverValue:(0,w.plucker)("deviationPeriod"),range:{min:2,max:999},decimalPoints:0},standardDeviation:{type:"number",color:"#D5680F",defaultValue:2,serverValue:(0,w.plucker)("standardDeviation"),range:{min:.01,max:999.99,step:.01},decimalPoints:2},preferredHeight:{type:"number",defaultValue:Ie.default.DEFAULT_RELATIVE_HEIGHT,serverValue:Fe}},serverSettings:({standardDeviation:e,period:t,preferredHeight:i})=>({type:"BOLLINGER_BANDWIDTH",location:"OSCILLATOR",standardDeviation:e,deviationPeriod:t,preferredHeight:i}),input:{type:p.default},calculator:{type:_.default,arguments:{period:"settings.period",standardDeviation:"settings.standardDeviation"}},renderers:{bolBandwidth:{type:q.default,pointType:"bolBandwidth",properties:{fill:!0,fillIntersection:"lowestValue"}}},numberOfTrailingPoints:"settings.period - 1",outputPointType:"bolBandwidth",study:"bbw"},[We.BOLPCTB]:{settings:{period:{type:"number",color:"#D5680F",defaultValue:20,serverValue:(0,w.plucker)("deviationPeriod"),range:{min:2,max:999},decimalPoints:0},standardDeviation:{type:"number",color:"#D5680F",defaultValue:2,serverValue:(0,w.plucker)("standardDeviation"),range:{min:.01,max:999.99,step:.01},decimalPoints:2},preferredHeight:{type:"number",defaultValue:Ie.default.DEFAULT_RELATIVE_HEIGHT,serverValue:Fe}},serverSettings:({standardDeviation:e,period:t,preferredHeight:i})=>({type:"BOLLINGER_PERCENT_B",location:"OSCILLATOR",standardDeviation:e,deviationPeriod:t,preferredHeight:i}),input:{type:p.default},calculator:{type:m.default,arguments:{period:"settings.period",standardDeviation:"settings.standardDeviation"}},renderers:{bolPctB:{type:q.default,pointType:"bolPctB",properties:{strokeGradient:{topArea:[1,10],neutral:[0,1],bottomArea:[-10,0]},fillGradient:{topArea:[1,10],blank:[0,1],bottomArea:[-10,0]},fillIntersection:.5}},yAxis:{type:Ne.default,group:"yAxis",position:"yAxis",presentationController:"yAxisPresentationController",properties:{fixedTicks:[0,.2,.8,1]}},yTicks:{type:ke.default,group:"yTicks",position:"yTicks",properties:{fixedTicks:[0,.2,.8,1]}}},numberOfTrailingPoints:"settings.period - 1",outputPointType:"bolPctB",study:"bolpctb"},[We.CHAIKIN]:{availability:[Y.default],settings:{emaPeriod:{type:"number",defaultValue:10,serverValue:(0,w.plucker)("emaPeriod"),range:{min:1,max:999},decimalPoints:0},pastPeriod:{type:"number",defaultValue:10,serverValue:(0,w.plucker)("chaikinPeriod"),range:{min:1,max:999},decimalPoints:0},preferredHeight:{type:"number",defaultValue:Ie.default.DEFAULT_RELATIVE_HEIGHT,serverValue:Fe}},serverSettings:({pastPeriod:e,emaPeriod:t,preferredHeight:i})=>({type:"CHAIKIN_VOLATILITY",location:"OSCILLATOR",chaikinPeriod:e,emaPeriod:t,preferredHeight:i}),input:{type:p.default},calculator:{type:A.default,arguments:{emaPeriod:"settings.emaPeriod",pastPeriod:"settings.pastPeriod"}},renderers:{chaikinVolatility:{type:q.default,pointType:"chaikinVolatility",properties:{fill:!0,fillIntersection:"lowestValue"}}},numberOfTrailingPoints:"4 * (settings.emaPeriod + settings.pastPeriod)",outputPointType:"chaikinVolatility",study:"chaikin"},[We.CCI]:{settings:{period:{type:"number",defaultValue:20,serverValue:(0,w.plucker)("period"),range:{min:1,max:999},decimalPoints:0},preferredHeight:{type:"number",defaultValue:Ie.default.DEFAULT_RELATIVE_HEIGHT,serverValue:Fe}},serverSettings:({period:e,preferredHeight:t})=>({type:"CCI",location:"OSCILLATOR",period:e,preferredHeight:t}),input:{type:p.default},calculator:{type:I.default,arguments:{period:"settings.period"}},renderers:{cci:{type:q.default,pointType:"cci",properties:{strokeGradient:{topArea:[100,200],neutral:[-100,100],bottomArea:[-200,-100]},fillGradient:{topArea:[100,200],blank:[-100,100],bottomArea:[-200,-100]},fillIntersection:0}}},numberOfTrailingPoints:"settings.period",outputPointType:"cci",study:"cci"},[We.DPO]:{settings:{period:{type:"number",defaultValue:20,serverValue:(0,w.plucker)("period"),range:{min:1,max:999},decimalPoints:0},preferredHeight:{type:"number",defaultValue:Ie.default.DEFAULT_RELATIVE_HEIGHT,serverValue:Fe}},serverSettings:({period:e,preferredHeight:t})=>({type:"DETRENDED_PRICE_OSCILLATOR",location:"OSCILLATOR",period:e,preferredHeight:t}),input:{type:p.default},calculator:{type:C.default,arguments:{period:"settings.period"}},renderers:{dpo:{type:q.default,pointType:"dpo",properties:{strokeGradient:{topArea:[0,10],bottomArea:[-10,0]},fillGradient:{topArea:[0,10],bottomArea:[-10,0]}}}},numberOfTrailingPoints:"2 * settings.period",outputPointType:"dpo",study:"dpo"},[We.DMI]:{settings:{period:{type:"number",defaultValue:14,serverValue:(0,w.plucker)("period"),range:{min:2,max:200},decimalPoints:0},style:{type:"enum",options:[{localisationKey:"DMI-line",value:M.default.LINE},{localisationKey:"DMI-diHistogram",value:M.default.HISTOGRAM}],i18n:N.default,defaultValue:M.default.LINE,serverValue:e=>e.isShowingHistogram?M.default.HISTOGRAM:M.default.LINE},preferredHeight:{type:"number",defaultValue:Ie.default.DEFAULT_RELATIVE_HEIGHT,serverValue:Fe}},serverSettings:({style:e,period:t,preferredHeight:i})=>({type:"DMI",location:"OSCILLATOR",isShowingHistogram:e===M.default.HISTOGRAM,period:t,preferredHeight:i}),subIndicators:{DI_PLUS:{input:{type:p.default},calculator:{type:de.default,arguments:{period:"settings.period",style:"settings.style"}},renderers:{diPlus:{type:q.default,pointType:"diPlus"}},numberOfTrailingPoints:"Math.max(50, 4 * settings.period) + 1",outputPointType:"diPlus"},DI_MINUS:{input:{type:p.default},calculator:{type:K.default,arguments:{period:"settings.period",style:"settings.style"}},renderers:{diMinus:{type:q.default,pointType:"diMinus"}},numberOfTrailingPoints:"Math.max(50, 4 * settings.period) + 1",outputPointType:"diMinus"},DI_HISTOGRAM:{input:{type:p.default},calculator:{type:O.default,arguments:{period:"settings.period",style:"settings.style"}},renderers:{diHistogram:{type:h.default,pointType:"diHistogram"}},numberOfTrailingPoints:"Math.max(50, 4 * settings.period) + 1",outputPointType:"diHistogram"},ADX:{input:{type:p.default},calculator:{type:d.default,arguments:{period:"settings.period"}},renderers:{adx:{type:q.default,pointType:"adx"}},numberOfTrailingPoints:"2 * (Math.max(50, 4 * settings.period) + 1)",outputPointType:"adx"}},study:"dmi"},[We.DONCHIAN]:{settings:{period:{type:"number",color:"#56a0d3",defaultValue:20,serverValue:(0,w.plucker)("period"),range:{min:2,max:999},decimalPoints:0}},serverSettings:({period:e})=>({type:"DONCHIAN",location:"STUDY",period:e}),subIndicators:{DONCHIANUP:{input:{type:p.default},calculator:{type:R.default,arguments:{period:"settings.period"}},renderers:{donchianUp:{type:q.default,pointType:"donchianUp"}},numberOfTrailingPoints:"settings.period + 1",outputPointType:"donchianUp"},DONCHIANMIDDLE:{input:{type:p.default},calculator:{type:b.default,arguments:{period:"settings.period"}},renderers:{donchianMiddle:{type:q.default,pointType:"donchianMiddle"}},numberOfTrailingPoints:"settings.period + 1",outputPointType:"donchianMiddle"},DONCHIANDOWN:{input:{type:p.default},calculator:{type:F.default,arguments:{period:"settings.period"}},renderers:{donchianDown:{type:q.default,pointType:"donchianDown"}},numberOfTrailingPoints:"settings.period + 1",outputPointType:"donchianDown"},DONCHIANCHANNEL:{input:{type:p.default},calculator:{type:y.default,arguments:{period:"settings.period"}},renderers:{donchianChannel:{type:T.default,pointType:"donchianChannel",properties:{relativeWeighting:-3}}},showOnTooltip:!1,numberOfTrailingPoints:"settings.period + 1",outputPointType:"donchianChannel"}},study:"prices"},[We.EMA]:je("EMA","STUDY","ema","exponentialMovingAverage","EMA",p.default,Re.default,[{colour:"#634D81",defaultValue:20,minTrailingPoints:50,isVisible:!0},{colour:"#2E9BA3",defaultValue:50,minTrailingPoints:50,isVisible:!0},{colour:"#C78C20",defaultValue:100,minTrailingPoints:50,isVisible:!0},{colour:"#9090A0",defaultValue:NaN,minTrailingPoints:120},{colour:"#F45D24",defaultValue:NaN,minTrailingPoints:120},{colour:"#57B159",defaultValue:NaN,minTrailingPoints:120},{colour:"#5698D3",defaultValue:NaN,minTrailingPoints:120},{colour:"#B6AAC7",defaultValue:NaN,minTrailingPoints:120}],{subIndicator:{numberOfTrailingPoints:"10 * {periodSettingsKey}"}}),[We.EOM]:{availability:[Se.default,Y.default],settings:{period:{type:"number",defaultValue:14,serverValue:(0,w.plucker)("eomPeriod"),range:{min:1,max:999},decimalPoints:0},preferredHeight:{type:"number",defaultValue:Ie.default.DEFAULT_RELATIVE_HEIGHT,serverValue:Fe},divisor:Ue("divisor",1e4,{min:1,max:1e9,increment:1},0)},serverSettings:({period:e,preferredHeight:t,divisor:i})=>({type:"EOM",location:"OSCILLATOR",eomPeriod:e,preferredHeight:t,divisor:i}),input:{type:p.default},calculator:{type:D.default,arguments:{period:"settings.period",divisor:"settings.divisor"}},renderers:{easeOfMovement:{type:q.default,pointType:"easeofMovement",properties:{fill:!0}}},numberOfTrailingPoints:"settings.period + 1",outputPointType:"easeofMovement",study:"eom"},[We.ICHIMOKU]:{availability:[Y.default],settings:{shortPeriod:{type:"number",defaultValue:9,serverValue:(0,w.plucker)("shortPeriod"),range:{min:1,max:999},decimalPoints:0},longPeriod:{type:"number",defaultValue:26,serverValue:(0,w.plucker)("longPeriod"),range:{min:1,max:999},decimalPoints:0},signalPeriod:{type:"number",defaultValue:52,serverValue:(0,w.plucker)("signalPeriod"),range:{min:1,max:999},decimalPoints:0}},serverSettings:({longPeriod:e,shortPeriod:t,signalPeriod:i})=>({type:"ICHIMOKU",location:"STUDY",longPeriod:e,shortPeriod:t,signalPeriod:i}),subIndicators:{TENKAN:{input:{type:p.default},calculator:{type:P.default,arguments:{period:"settings.shortPeriod"}},renderers:{tenkan:{type:q.default,pointType:"tenkan"}},numberOfTrailingPoints:"settings.shortPeriod",outputPointType:"tenkan"},KIJUN:{input:{type:p.default},calculator:{type:P.default,arguments:{period:"settings.longPeriod"}},renderers:{kijun:{type:q.default,pointType:"kijun"}},numberOfTrailingPoints:"settings.longPeriod",outputPointType:"kijun"},SPANA:{input:{type:p.default},calculator:{type:pe.default,arguments:{shortPeriod:"settings.shortPeriod",longPeriod:"settings.longPeriod"}},renderers:{spana:{type:q.default,pointType:"spana"}},numberOfTrailingPoints:"Math.max(settings.shortPeriod, settings.longPeriod, settings.signalPeriod) + settings.longPeriod",outputPointType:"spana"},SPANB:{input:{type:p.default},calculator:{type:_e.default,arguments:{longPeriod:"settings.longPeriod",signalPeriod:"settings.signalPeriod"}},renderers:{spanb:{type:q.default,pointType:"spanb"}},numberOfTrailingPoints:"Math.max(settings.shortPeriod, settings.longPeriod, settings.signalPeriod) + settings.longPeriod",outputPointType:"spanb"},KUMO:{input:{type:p.default},calculator:{type:W.default,arguments:{shortPeriod:"settings.shortPeriod",longPeriod:"settings.longPeriod",signalPeriod:"settings.signalPeriod"}},renderers:{kumo:{type:T.default,pointType:"kumo"}},showOnTooltip:!1,numberOfTrailingPoints:"Math.max(settings.shortPeriod, settings.longPeriod, settings.signalPeriod) + settings.longPeriod",outputPointType:"kumo",study:"prices"},CHIKOU:{input:{type:L.default},calculator:{type:E.default,arguments:{longPeriod:"settings.longPeriod"}},renderers:{chikou:{type:q.default,pointType:"chikou"}},numberOfTrailingPoints:"settings.longPeriod",outputPointType:"chikou"}},study:"prices"},[We.KDJ]:{settings:{periodK:{type:"number",defaultValue:5,serverValue:(0,w.plucker)("kPeriod"),range:{min:2,max:200},decimalPoints:0},slowing:{type:"number",defaultValue:3,serverValue:(0,w.plucker)("slowingPeriod"),range:{min:1,max:200},decimalPoints:0},periodD:{type:"number",color:"#E62322",defaultValue:3,serverValue:(0,w.plucker)("dPeriod"),range:{min:2,max:200},decimalPoints:0},oversold:{type:"number",defaultValue:20,serverValue:(0,w.plucker)("oversold"),range:{min:0,max:50,increment:5},decimalPoints:0},overbought:{type:"number",defaultValue:80,serverValue:(0,w.plucker)("overbought"),range:{min:50,max:100,increment:5},decimalPoints:0},preferredHeight:{type:"number",defaultValue:Ie.default.DEFAULT_RELATIVE_HEIGHT,serverValue:Fe}},serverSettings:({periodD:e,periodK:t,slowing:i,preferredHeight:n,overbought:s,oversold:r})=>({type:"KDJ",location:"OSCILLATOR",dPeriod:e,kPeriod:t,slowingPeriod:i,preferredHeight:n,overbought:s,oversold:r}),subIndicators:{STOCHASTIC_K:{input:{type:p.default},calculator:{type:Ae.default,properties:{kPeriod:"settings.periodK",slowingPeriod:"settings.slowing"}},renderers:{stochasticK:{type:q.default,pointType:"KDJStochasticK"},yAxis:{type:Ne.default,group:"yAxis",position:"yAxis",presentationController:"yAxisPresentationController",properties:{fixedTicks:[0,50,"oversold","overbought",100]}},yTicks:{type:ke.default,group:"yTicks",position:"yTicks",properties:{fixedTicks:[0,50,"oversold","overbought",100]}}},numberOfTrailingPoints:"4 * Math.max(settings.periodK, settings.slowing)",outputPointType:"KDJStochasticK"},STOCHASTIC_D:{input:{type:p.default},calculator:{type:Ee.default,properties:{kPeriod:"settings.periodK",slowingPeriod:"settings.slowing",dPeriod:"settings.periodD"}},renderers:{stochasticD:{type:q.default,pointType:"KDJStochasticD"}},numberOfTrailingPoints:"8 * Math.max(settings.periodK, settings.slowing, settings.periodD)",outputPointType:"KDJStochasticD"},STOCHASTIC_J:{input:{type:p.default},calculator:{type:Te.default,properties:{kPeriod:"settings.periodK",slowingPeriod:"settings.slowing",dPeriod:"settings.periodD"}},renderers:{stochasticJ:{type:q.default,pointType:"KDJStochasticJ"}},numberOfTrailingPoints:"8 * Math.max(settings.periodK, settings.slowing, settings.periodD)",outputPointType:"KDJStochasticJ"}},study:"kdj"},[We.KELTNER]:{settings:{period:{type:"number",color:"#8000c0",defaultValue:20,serverValue:(0,w.plucker)("period"),range:{min:2,max:200},decimalPoints:0}},serverSettings:({period:e})=>({type:"KELTNER",location:"STUDY",period:e}),subIndicators:{KELTNERUP:{input:{type:p.default},calculator:{type:B.default,arguments:{period:"settings.period",multiplier:"1"}},renderers:{keltnerUp:{type:q.default,pointType:"keltnerUp"}},numberOfTrailingPoints:"Math.max(50, 4 * settings.period)",outputPointType:"keltnerUp"},KELTNERMIDDLE:{input:{type:p.default},calculator:{type:Me.default,arguments:{period:"settings.period"}},renderers:{keltnerMiddle:{type:q.default,pointType:"keltnerMiddle"}},numberOfTrailingPoints:"settings.period",outputPointType:"keltnerMiddle"},KELTNERDOWN:{input:{type:p.default},calculator:{type:B.default,arguments:{period:"settings.period",multiplier:"-1"}},renderers:{keltnerDown:{type:q.default,pointType:"keltnerDown"}},numberOfTrailingPoints:"Math.max(50, 4 * settings.period)",outputPointType:"keltnerDown"},KELTNERCHANNEL:{input:{type:p.default},calculator:{type:H.default,arguments:{period:"settings.period",multiplier:"1"}},renderers:{keltnerChannel:{type:T.default,pointType:"keltnerChannel",properties:{relativeWeighting:-4}}},showOnTooltip:!1,numberOfTrailingPoints:"settings.period",outputPointType:"keltnerChannel"}},study:"prices"},[We.MACD]:{settings:{fastEmaPeriod:{type:"number",defaultValue:12,serverValue:(0,w.plucker)("fastEmaPeriod"),range:{min:2,max:200},decimalPoints:0},slowEmaPeriod:{type:"number",defaultValue:26,serverValue:(0,w.plucker)("slowEmaPeriod"),range:{min:2,max:200},decimalPoints:0},signalEmaPeriod:{type:"number",defaultValue:9,serverValue:(0,w.plucker)("signalLinePeriod"),range:{min:2,max:200},decimalPoints:0},preferredHeight:{type:"number",defaultValue:Ie.default.DEFAULT_RELATIVE_HEIGHT,serverValue:Fe}},serverSettings:({signalEmaPeriod:e,slowEmaPeriod:t,fastEmaPeriod:i,preferredHeight:n})=>({type:"MACD",location:"OSCILLATOR",signalLinePeriod:e,slowEmaPeriod:t,fastEmaPeriod:i,preferredHeight:n}),subIndicators:{MACDHIST:{input:{type:p.default},calculator:{type:G.default,arguments:{slowEmaPeriod:"settings.slowEmaPeriod",fastEmaPeriod:"settings.fastEmaPeriod",signalEmaPeriod:"settings.signalEmaPeriod"}},renderers:{macdHistogram:{type:h.default,pointType:"macdHistogram"}},numberOfTrailingPoints:"Math.max(50, 4 * settings.signalEmaPeriod) + Math.max(50, 4 * Math.max(settings.slowEmaPeriod, settings.fastEmaPeriod))",outputPointType:"macdHistogram"},MACDLINE:{input:{type:p.default},calculator:{type:U.default,arguments:{slowEmaPeriod:"settings.slowEmaPeriod",fastEmaPeriod:"settings.fastEmaPeriod"}},renderers:{macdLine:{type:q.default,pointType:"macd"}},numberOfTrailingPoints:"Math.max(50, 4 * Math.max(settings.slowEmaPeriod, settings.fastEmaPeriod))",outputPointType:"macd"},MACDSIG:{input:{type:p.default},calculator:{type:j.default,arguments:{slowEmaPeriod:"settings.slowEmaPeriod",fastEmaPeriod:"settings.fastEmaPeriod",signalEmaPeriod:"settings.signalEmaPeriod"}},renderers:{macdSignal:{type:q.default,pointType:"macdSignal"}},numberOfTrailingPoints:"Math.max(50, 4 * settings.signalEmaPeriod) + Math.max(50, 4 * Math.max(settings.slowEmaPeriod, settings.fastEmaPeriod))",outputPointType:"macdSignal"}},study:"macd"},[We.MOMENTUM]:{settings:{period:{type:"number",defaultValue:12,serverValue:(0,w.plucker)("momentumPeriod"),range:{min:1,max:999},decimalPoints:0},preferredHeight:{type:"number",defaultValue:Ie.default.DEFAULT_RELATIVE_HEIGHT,serverValue:Fe}},serverSettings:({period:e,preferredHeight:t})=>({type:"MOMENTUM",location:"OSCILLATOR",momentumPeriod:e,preferredHeight:t}),input:{type:p.default},calculator:{type:z.default,arguments:{period:"settings.period"}},renderers:{momentum:{type:q.default,pointType:"momentum",properties:{strokeGradient:{topArea:[0,1],bottomArea:[-1,0]},fillGradient:{topArea:[0,1],bottomArea:[-1,0]}}}},numberOfTrailingPoints:"settings.period",outputPointType:"momentum",study:"momentum"},[We.MFI]:{availability:[Se.default],settings:{period:{type:"number",defaultValue:14,serverValue:(0,w.plucker)("period"),range:{min:1,max:999},decimalPoints:0},preferredHeight:{type:"number",defaultValue:Ie.default.DEFAULT_RELATIVE_HEIGHT,serverValue:Fe}},serverSettings:({period:e,preferredHeight:t})=>({type:"MONEY_FLOW_INDEX",location:"OSCILLATOR",period:e,preferredHeight:t}),input:{type:ye.default},calculator:{type:Z.default,arguments:{period:"settings.period + 1"}},renderers:{moneyFlowIndex:{type:q.default,pointType:"moneyFlowIndex",properties:{strokeGradient:{topArea:[80,100],neutral:[20,80],bottomArea:[0,20]},fillGradient:{topArea:[80,100],blank:[20,80],bottomArea:[0,20]},fillIntersection:50}}},numberOfTrailingPoints:"settings.period",outputPointType:"moneyFlowIndex",study:"mfi"},[We.MVAVG]:je("MOVING_AVERAGE","STUDY","movingAverage","movingAverage","MA",p.default,ge.default,[{colour:"#E01B1C",defaultValue:20,isVisible:!0},{colour:"#282830",defaultValue:50,isVisible:!0},{colour:"#3BA43B",defaultValue:100,isVisible:!0},{colour:"#F5AD1C",defaultValue:NaN},{colour:"#3987CC",defaultValue:NaN},{colour:"#686878",defaultValue:NaN},{colour:"#F34706",defaultValue:NaN},{colour:"#6D558E",defaultValue:NaN}],{subIndicator:{numberOfTrailingPoints:"{periodSettingsKey} - 1"}}),[We.SAR]:{settings:{initialAcceleration:{type:"number",defaultValue:.02,serverValue:(0,w.plucker)("initialAcceleration"),range:{min:0,max:999.995,step:.005},decimalPoints:3},accelerationStep:{type:"number",defaultValue:.02,serverValue:(0,w.plucker)("accelerationStep"),range:{min:0,max:999.995,step:.005},decimalPoints:3},accelerationLimit:{type:"number",defaultValue:.2,serverValue:(0,w.plucker)("accelerationLimit"),range:{min:0,max:999.9,step:.1},decimalPoints:1}},serverSettings:({accelerationLimit:e,accelerationStep:t,initialAcceleration:i})=>({type:"PARABOLIC_SAR",location:"STUDY",accelerationLimit:e,accelerationStep:t,initialAcceleration:i}),input:{type:p.default},calculator:{type:$.default,properties:{initialAcceleration:"settings.initialAcceleration",accelerationStep:"settings.accelerationStep",accelerationLimit:"settings.accelerationLimit"}},renderers:{parabolicSar:{type:S.default,pointType:"parabolicSar"}},numberOfTrailingPoints:"400",outputPointType:"parabolicSar",study:"prices"},[We.PIVOT]:{availability:[Y.default],resolutionChooser:ne.default,settings:{resolution:{type:"radio",options:[{localisationKey:"PIVOT-4-hours",value:se.default.FOUR_HOURS},{localisationKey:"PIVOT-daily",value:se.default.DAILY},{localisationKey:"PIVOT-weekly",value:se.default.WEEKLY},{localisationKey:"PIVOT-monthly",value:se.default.MONTHLY}],i18n:N.default,defaultValue:se.default.DAILY,serverValue:e=>{switch(e.pivotScale){case"FOUR_HOURS":return se.default.FOUR_HOURS;case"DAY":return se.default.DAILY;case"WEEK":return se.default.WEEKLY;case"MONTH":return se.default.MONTHLY}}},formula:{type:"radio",options:[{localisationKey:"PIVOT-HLC",value:J.default.HLC},{localisationKey:"PIVOT-HLO",value:J.default.HLO},{localisationKey:"PIVOT-HLOC",value:J.default.HLOC}],i18n:N.default,defaultValue:J.default.HLC,serverValue:function(e){switch(e.formula){case"HLC":return J.default.HLC;case"HLO":return J.default.HLO;case"HLOC":return J.default.HLOC}}},historical:{type:"bool",defaultValue:!1,serverValue:(0,r.partial)(r.get,r.partial.placeholder,"historical",!1)}},serverSettings:({resolution:e,formula:t,historical:i})=>({type:"PIVOT_POINT",location:"STUDY",pivotScale:(e=>{switch(e){case se.default.FOUR_HOURS:return"FOUR_HOURS";case se.default.DAILY:return"DAY";case se.default.WEEKLY:return"WEEK";case se.default.MONTHLY:return"MONTH"}})(e),formula:(e=>{switch(e){case J.default.HLC:return"HLC";case J.default.HLO:return"HLO";case J.default.HLOC:return"HLOC"}})(t),historical:!!i}),settingsContent:le.default,subIndicators:{PIV:{type:X.default,input:{type:p.default},calculator:{type:Q.default,arguments:{formula:"settings.formula"}},renderers:{pivot:{type:ve.default,pointType:"pivot"},pivotLabel:{type:me.default,pointType:"pivot",properties:{label:"PIVOT-pivotShort"}}},numberOfTrailingPoints:"1",outputPointType:"pivot"},R1:{type:X.default,input:{type:p.default},calculator:{type:ee.default,arguments:{formula:"settings.formula"}},renderers:{r1:{type:ve.default,pointType:"r1"},r1Label:{type:me.default,pointType:"r1",properties:{label:"PIVOT-r1"}}},numberOfTrailingPoints:"1",outputPointType:"r1"},R2:{type:X.default,input:{type:p.default},calculator:{type:te.default,arguments:{formula:"settings.formula"}},renderers:{r2:{type:ve.default,pointType:"r2"},r2Label:{type:me.default,pointType:"r2",properties:{label:"PIVOT-r2"}}},numberOfTrailingPoints:"1",outputPointType:"r2"},R3:{type:X.default,input:{type:p.default},calculator:{type:ie.default,arguments:{formula:"settings.formula"}},renderers:{r3:{type:ve.default,pointType:"r3"},r3Label:{type:me.default,pointType:"r3",properties:{label:"PIVOT-r3"}}},numberOfTrailingPoints:"1",outputPointType:"r3"},S1:{type:X.default,input:{type:p.default},calculator:{type:re.default,arguments:{formula:"settings.formula"}},renderers:{s1:{type:ve.default,pointType:"s1"},s1Label:{type:me.default,pointType:"s1",properties:{label:"PIVOT-s1"}}},numberOfTrailingPoints:"1",outputPointType:"s1"},S2:{type:X.default,input:{type:p.default},calculator:{type:oe.default,arguments:{formula:"settings.formula"}},renderers:{s2:{type:ve.default,pointType:"s2"},s2Label:{type:me.default,pointType:"s2",properties:{label:"PIVOT-s2"}}},numberOfTrailingPoints:"1",outputPointType:"s2"},S3:{type:X.default,input:{type:p.default},calculator:{type:ae.default,arguments:{formula:"settings.formula"}},renderers:{s3:{type:ve.default,pointType:"s3"},s3Label:{type:me.default,pointType:"s3",properties:{label:"PIVOT-s3"}}},numberOfTrailingPoints:"1",outputPointType:"s3"}},study:"prices"},[We.RCI]:je("RCI","OSCILLATOR","rankCorrelationIndex","rankCorrelationIndex","RCI",p.default,ue.default,[{defaultValue:9,colour:"#E01B1C"},{defaultValue:26,colour:"#F5AD1B"},{defaultValue:52,colour:"#3987CC"},{defaultValue:NaN,colour:"#3BA43B"},{defaultValue:NaN,colour:"#11203E"},{defaultValue:NaN,colour:"#9696A3"},{defaultValue:NaN,colour:"#FF514B"},{defaultValue:NaN,colour:"#7F6A9C"}],{subIndicator:{calculator:{arguments:{price:"settings.price"}},numberOfTrailingPoints:"{periodSettingsKey} - 1"},settings:{preferredHeight:{type:"number",defaultValue:Ie.default.DEFAULT_RELATIVE_HEIGHT,serverValue:Fe},overbought:Ue("overbought",80,{min:5,max:95,increment:5},0),oversold:Ue("oversold",-80,{min:-95,max:5,increment:5},0),price:{type:"radio",options:[{localisationKey:"RCI-close",value:xe.default.CLOSE},{localisationKey:"RCI-open",value:xe.default.OPEN},{localisationKey:"RCI-high",value:xe.default.HIGH},{localisationKey:"RCI-low",value:xe.default.LOW}],i18n:N.default,defaultValue:xe.default.CLOSE,serverValue:function(e){switch(e.price){case"CLOSE":return xe.default.CLOSE;case"OPEN":return xe.default.OPEN;case"HIGH":return xe.default.HIGH;case"LOW":return xe.default.LOW}}}},serverSettings:e=>({preferredHeight:e.preferredHeight,oversold:e.oversold,overbought:e.overbought,price:xe.default[e.price]}),singleRenderers:{yAxis:{type:Ne.default,group:"yAxis",position:"yAxis",presentationController:"yAxisPresentationController",properties:{fixedTicks:["oversold","overbought"]}},yTicks:{type:ke.default,group:"yTicks",position:"yTicks",properties:{fixedTicks:["oversold","overbought"]}}}},void 0,"rci"),[We.ROC]:{settings:{period:{type:"number",defaultValue:12,serverValue:(0,w.plucker)("rocPeriod"),range:{min:1,max:999},decimalPoints:0},preferredHeight:{type:"number",defaultValue:Ie.default.DEFAULT_RELATIVE_HEIGHT,serverValue:Fe}},serverSettings:({period:e,preferredHeight:t})=>({type:"ROC",location:"OSCILLATOR",rocPeriod:e,preferredHeight:t}),input:{type:p.default},calculator:{type:ce.default,arguments:{period:"settings.period"}},renderers:{roc:{type:q.default,pointType:"roc",properties:{strokeGradient:{topArea:[0,1],bottomArea:[-1,0]},fillGradient:{topArea:[0,1],bottomArea:[-1,0]}}}},numberOfTrailingPoints:"settings.period",outputPointType:"roc",study:"roc"},[We.RSI]:{stylesMapping:[Ge("up.lineColour","upper",!0),Ge("down.lineColour","lower",!0)],settings:{period:{type:"number",defaultValue:14,serverValue:(0,w.plucker)("rsiPeriod"),range:{min:2,max:999},decimalPoints:0},upper:{type:"number",defaultValue:70,serverValue:(0,w.plucker)("upper"),range:{min:50,max:100,increment:5},decimalPoints:0},lower:{type:"number",defaultValue:30,serverValue:(0,w.plucker)("lower"),range:{min:0,max:50,increment:5},decimalPoints:0},preferredHeight:{type:"number",defaultValue:Ie.default.DEFAULT_RELATIVE_HEIGHT,serverValue:Fe}},serverSettings:({period:e,upper:t,lower:i,preferredHeight:n})=>({type:"RSI",location:"OSCILLATOR",rsiPeriod:e,upper:t,lower:i,preferredHeight:n}),input:{type:p.default},calculator:{type:he.default,properties:{rsiPeriod:"settings.period"}},renderers:{relativeStrengthIndex:{type:q.default,pointType:"relativeStrengthIndex",properties:{indicatorId:"RSI",strokeGradient:{topArea:["upper",100],neutral:["lower","upper"],bottomArea:[0,"lower"]},fillGradient:{topArea:["upper",100],blank:["lower","upper"],bottomArea:[0,"lower"]},fillIntersection:50}},yAxis:{type:Ne.default,group:"yAxis",position:"yAxis",presentationController:"yAxisPresentationController",properties:{fixedTicks:[0,"lower","upper",100]}},yTicks:{type:ke.default,group:"yTicks",position:"yTicks",properties:{fixedTicks:[0,"lower","upper",100]}}},numberOfTrailingPoints:"4 * settings.period",outputPointType:"relativeStrengthIndex",study:"rsi"},[We.STDEV]:{settings:{period:{type:"number",defaultValue:20,serverValue:(0,w.plucker)("period"),range:{min:2,max:999},decimalPoints:0},preferredHeight:{type:"number",defaultValue:Ie.default.DEFAULT_RELATIVE_HEIGHT,serverValue:Fe}},serverSettings:({period:e,preferredHeight:t})=>({type:"STANDARD_DEVIATION",location:"OSCILLATOR",period:e,preferredHeight:t}),input:{type:p.default},calculator:{type:fe.default,arguments:{period:"settings.period"}},renderers:{standardDeviation:{type:q.default,pointType:"standardDeviation",properties:{fill:!0}}},numberOfTrailingPoints:"settings.period",outputPointType:"standardDeviation",study:"stdev"},[We.STOCH]:{settings:{periodK:{type:"number",defaultValue:5,serverValue:(0,w.plucker)("kPeriod"),range:{min:2,max:200},decimalPoints:0},slowing:{type:"number",defaultValue:3,serverValue:(0,w.plucker)("slowingPeriod"),range:{min:1,max:200},decimalPoints:0},periodD:{type:"number",color:"#E62322",defaultValue:3,serverValue:(0,w.plucker)("dPeriod"),range:{min:2,max:200},decimalPoints:0},oversold:{type:"number",defaultValue:20,serverValue:(0,w.plucker)("oversold"),range:{min:0,max:50,increment:5},decimalPoints:0},overbought:{type:"number",defaultValue:80,serverValue:(0,w.plucker)("overbought"),range:{min:50,max:100,increment:5},decimalPoints:0},preferredHeight:{type:"number",defaultValue:Ie.default.DEFAULT_RELATIVE_HEIGHT,serverValue:Fe}},serverSettings:({periodD:e,periodK:t,slowing:i,preferredHeight:n,overbought:s,oversold:r})=>({type:"STOCHASTIC",location:"OSCILLATOR",dPeriod:e,kPeriod:t,slowingPeriod:i,preferredHeight:n,overbought:s,oversold:r}),subIndicators:{STOCHASTIC_K:{input:{type:p.default},calculator:{type:Ae.default,properties:{kPeriod:"settings.periodK",slowingPeriod:"settings.slowing"}},renderers:{stochasticK:{type:q.default,pointType:"stochasticK"},yAxis:{type:Ne.default,group:"yAxis",position:"yAxis",presentationController:"yAxisPresentationController",properties:{fixedTicks:[0,50,"oversold","overbought",100]}},yTicks:{type:ke.default,group:"yTicks",position:"yTicks",properties:{fixedTicks:[0,50,"oversold","overbought",100]}}},numberOfTrailingPoints:"4 * Math.max(settings.periodK, settings.slowing)",outputPointType:"stochasticK"},STOCHASTIC_D:{input:{type:p.default},calculator:{type:Ee.default,properties:{kPeriod:"settings.periodK",slowingPeriod:"settings.slowing",dPeriod:"settings.periodD"}},renderers:{stochasticD:{type:q.default,pointType:"stochasticD"}},numberOfTrailingPoints:"8 * Math.max(settings.periodK, settings.slowing, settings.periodD)",outputPointType:"stochasticD"}},study:"stochastic"},[We.SUPERTREND]:{settings:{period:{type:"number",defaultValue:14,serverValue:function(e){return e.period},range:{min:2,max:200},decimalPoints:0},multiplier:{type:"number",defaultValue:3,serverValue:function(e){return e.multiplier},range:{min:.1,max:100,step:.1},decimalPoints:1},preferredHeight:{type:"number",defaultValue:Ie.default.DEFAULT_RELATIVE_HEIGHT,serverValue:Fe}},serverSettings:({multiplier:e,period:t,preferredHeight:i})=>({type:"SUPERTREND",location:"STUDY",multiplier:e,period:t,preferredHeight:i}),input:{type:p.default},calculator:{type:Ce.default,arguments:{period:"settings.period",multiplier:"settings.multiplier"}},renderers:{superTrend:{type:Oe.default,pointType:"superTrend"}},numberOfTrailingPoints:He,outputPointType:"superTrend",study:"prices"},[We.VOLUME]:{availability:[Se.default],settings:{preferredHeight:{type:"number",defaultValue:Ie.default.DEFAULT_RELATIVE_HEIGHT,serverValue:Fe}},serverSettings:({preferredHeight:e})=>({type:"LAST_TRADE_VOLUME",location:"OSCILLATOR",preferredHeight:e}),tooltipSettings:{decimalPlaces:0},input:{type:ye.default},calculator:{type:be.default,arguments:{}},renderers:{volume:{type:h.default,pointType:"volume"}},outputPointType:"volume",study:"volume",labelTypes:{[k.default.values.CURRENCIES]:"tick"}},[We.VWAP]:{availability:[Se.default,Y.default,x.default],settings:{},serverSettings:()=>({type:"VWAP",location:"STUDY"}),input:{type:V.default},calculator:{type:De.default,arguments:{}},renderers:{vwap:{type:q.default,pointType:"vwap"}},outputPointType:"vwap",study:"prices"},[We.VWMA]:je("VWMA","STUDY","vwma","volumeWeightedMovingAverage","VWMA",ye.default,we.default,[{colour:"#95CDD2",defaultValue:20},{colour:"#3987CC",defaultValue:50},{colour:"#1A6E74",defaultValue:100},{colour:"#C93400",defaultValue:NaN},{colour:"#2E6DA5",defaultValue:NaN},{colour:"#C78C20",defaultValue:NaN},{colour:"#9696A3",defaultValue:NaN},{colour:"#634D81",defaultValue:NaN}],void 0,[Se.default]),[We.WMA]:je("WMA","STUDY","wma","weightedMovingAverage","WMA",p.default,Pe.default,[{colour:"#9CC2E6",defaultValue:20,isVisible:!0},{colour:"#3987CC",defaultValue:50,isVisible:!0},{colour:"#1D466A",defaultValue:100,isVisible:!0},{colour:"#DE9D25",defaultValue:NaN},{colour:"#50505C",defaultValue:NaN},{colour:"#349535",defaultValue:NaN},{colour:"#48A9B1",defaultValue:NaN},{colour:"#CB181A",defaultValue:NaN}]),[We.WILLR]:{settings:{period:{type:"number",defaultValue:14,serverValue:(0,w.plucker)("period"),range:{min:1,max:999},decimalPoints:0},preferredHeight:{type:"number",defaultValue:Ie.default.DEFAULT_RELATIVE_HEIGHT,serverValue:Fe}},serverSettings:({period:e,preferredHeight:t})=>({type:"WILLIAMS_PERCENT_R",location:"OSCILLATOR",period:e,preferredHeight:t}),input:{type:p.default},calculator:{type:Le.default,arguments:{period:"settings.period"}},renderers:{williamsPercentR:{type:q.default,pointType:"williamsPercentR",properties:{strokeGradient:{topArea:[-20,0],neutral:[-80,-20],bottomArea:[-100,-80]},fillGradient:{topArea:[-20,0],blank:[-80,-20],bottomArea:[-100,-80]},fillIntersection:-50}}},numberOfTrailingPoints:"settings.period",outputPointType:"williamsPercentR",study:"willr"}};(0,Ve.recursiveFreeze)(Ke),t.default=Ke},44513:(e,t,i)=>{"use strict";var n=i(15215).Bx;Object.defineProperty(t,"__esModule",{value:!0}),t.PricesIndicatorName=void 0;const s=n(i(77163)),r=n(i(50584)),o=i(54859),a=n(i(74269)),l=n(i(74893));!function(e){e.PRICES="PRICES",e.PRICES_RAW="PRICES-RAW",e.PRICES_DERIVATIVE="PRICES-DERIVATIVE",e.PRICES_RAW_DERIVATIVE="PRICES-RAW-DERIVATIVE"}(t.PricesIndicatorName||(t.PricesIndicatorName={}));const d={PRICES_RAW:{renderers:{},input:{type:a.default},outputPointType:"prices-raw",showOnTooltip:!1,study:null},PRICES:{settings:{heikinashi:{type:"bool",defaultValue:!1,serverValue:function(e){return e.heikinashi}}},serverSettings:function(e){return{type:"PRICES",location:"STUDY",heikinashi:e.heikinashi}},inputPointType:"prices-raw",outputPointType:"prices",input:{type:s.default},calculator:{type:r.default,arguments:e=>({heikinashiEnabled:e.resolution!==l.default.values.TICK&&e.getSettings().heikinashi})},numberOfTrailingPoints:"settings.heikinashi ? 15 : 0",study:"prices",renderers:{}}};(0,o.recursiveFreeze)(d),t.default=d},19202:(e,t)=>{"use strict";var i;Object.defineProperty(t,"__esModule",{value:!0}),function(e){e[e.LINE=0]="LINE",e[e.HISTOGRAM=1]="HISTOGRAM"}(i||(i={})),t.default=i},53923:(e,t)=>{"use strict";var i;Object.defineProperty(t,"__esModule",{value:!0}),function(e){e[e.HLC=0]="HLC",e[e.HLO=1]="HLO",e[e.HLOC=2]="HLOC"}(i||(i={})),t.default=i},59701:(e,t)=>{"use strict";var i;Object.defineProperty(t,"__esModule",{value:!0}),function(e){e[e.DAILY=0]="DAILY",e[e.MONTHLY=1]="MONTHLY",e[e.WEEKLY=2]="WEEKLY",e[e.FOUR_HOURS=3]="FOUR_HOURS"}(i||(i={})),t.default=i},75658:(e,t)=>{"use strict";var i;Object.defineProperty(t,"__esModule",{value:!0}),function(e){e[e.CLOSE=0]="CLOSE",e[e.HIGH=1]="HIGH",e[e.LOW=2]="LOW",e[e.OPEN=3]="OPEN"}(i||(i={})),t.default=i},15095:(e,t)=>{"use strict";var i;Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.NUMBER="number",e.BOOL="bool",e.ENUM="enum",e.RADIO="radio"}(i||(i={})),t.default=i},77163:(e,t,i)=>{"use strict";var n=i(15215).Bx;Object.defineProperty(t,"__esModule",{value:!0});const s=i(41943),r=n(i(38712)),o=n(i(54809)),a=n(i(38153)),l=i(43130);class d extends o.default{startRequestingPointsVia(e){e.on(`${a.default.BLOCKS_POINTS_ADDED}-${this._inputPointType}`,this._handleBlocksPointsAdded,this),this._hcdClient=e.hcdClient}stopRequestingPointsVia(e){e.un(null,this)}collatePointsForBlocks(e){const t=e.filter(this._hasInput,this),i=e.filter(this._hasNoOutput,this);if(0===i.length)return;if(t.length<e.length)return void this._collatePartiallyLoadedBlocks(i);const n=this._getInputPointsForBlocks(i);null===n?this._collatePartiallyLoadedBlocks(i):this._fireInput(n,i)}_handleBlocksPointsAdded(e){const t=e.concat(this._getAffectedBlocks(e)),i=this._getInputPointsForBlocks(t);i?this._fireInput(i,t):this._fireBlocksWithEnoughTrailingPoints(t)}_getInputPointsForBlocks(e){if(0===e.length)return null;const t=(0,s.firstOf)(e),i=r.default.getTrailingPoints(t,this._inputPointType,this._numberOfTrailingPoints);return t&&this._hasInput(t)&&(!0===i.outOfBlocks||i.points.length>=this._numberOfTrailingPoints)?i.points.concat(this._inputPointsForBlocks(e)):null}_collatePartiallyLoadedBlocks(e){this._fireBlocksWithEnoughTrailingPoints(e),this._hcdClient.loadTrailingPoints(e[0],this._inputPointType,this._numberOfTrailingPoints),this._hcdClient.loadDataForBlocks(e)}_fireBlocksWithEnoughTrailingPoints(e){const t=e.filter(this._hasInput,this),i=[];let n,s=0;for(n=0;n<t.length;n++)s>=this._numberOfTrailingPoints&&i.push(t[n]),s+=r.default.countPoints([t[n]],this._inputPointType);this._fireInput(this._inputPointsForBlocks(t),i)}recalculateBlocksWithEnoughTrailingPoints(e){const t=[[]];let i=0;for(let n=0;n<e.length;n++){const o=e[n],a=(0,s.lastOf)(t);if(this._hasInput(o)){const e=i>=this._numberOfTrailingPoints,t=!o.previous,n=o.previous===(0,s.lastOf)(a);(e||t||n)&&a.push(o),i+=r.default.countPoints([o],this._inputPointType)}else i=0,t.push([])}t.filter((e=>!(0,l.isEmpty)(e))).forEach((e=>this._fireInput(this._getInputPointsForBlocks(e),e)))}_fireInput(e,t){e.length>0&&t.length>0&&this.fire(o.default.INDICATOR_INPUT,e,t)}_hasInput(e){return e.hasPointType(this._inputPointType)}_hasNoOutput(e){return!e.points[this._outputPointType]}_inputPointsForBlocks(e){return r.default.getPointsForBlocks(e,this._inputPointType)}_getAffectedBlocks(e){const t=[];let i=(0,s.lastOf)(e);for(;i&&i.next&&i.next.loading.loaded&&this._hasNoOutput(i.next);)i=i.next,t.push(i);return t}}t.default=d},17223:(e,t,i)=>{"use strict";var n=i(15215).Bx;Object.defineProperty(t,"__esModule",{value:!0});const s=i(43130),r=n(i(54809)),o=n(i(38153)),a=864e5;function l(e,t){const i=[];let n=e;do{i.push(n.start.getTime());const e=Math.floor(n.duration/a);for(let t=1;t<=e;t++)i.push(n.start.getTime()+a*t);if(n===t)break}while(n=n.next);return i}class d extends r.default{constructor(e,t){super(e,t,0)}startRequestingPointsVia(e){this._hcdClient=e.hcdClient;const t=e.getTimeline();t?this._timeline=t:e.on(o.default.INFO_LOADED,(()=>this._timeline=e.getTimeline()),this,{once:!0}),e.on(`${o.default.BLOCKS_POINTS_ADDED}-${this._inputPointType}`,this._handleBlocksPointsAdded,this)}stopRequestingPointsVia(e){e.un(null,this),delete this._hcdClient,delete this._timeline}collatePointsForBlocks(e){if(!this._timeline)return;let t=e.filter((e=>!e.points[this._outputPointType]));if(t.length<=0)return;const i=l(this._timeline.closestIntervalForDate((0,s.first)(t).start),this._timeline.closestIntervalForDate((0,s.last)(t).end));if(t=this._extendBlocksToNearestDailyBreak(t,i),t[0].start.getTime()<i[0])throw new Error("This shouldn't happen - the first block is somehow before all the daily breaks");const{toRequest:n,toCalculate:r}=this._getCalculationBatches(t,i);n.length&&this._hcdClient.loadDataForBlocks(n),r.forEach((e=>this._fireInput(e,i)))}_handleBlocksPointsAdded(e){if(!this._timeline||!e.length)return;1===e.length&&e[0].isLastOfInstrument()||(e=this._extendBlocksToFollowingAffected(e));const t=l(this._timeline.closestIntervalForDate((0,s.first)(e).start),this._timeline.closestIntervalForDate((0,s.last)(e).end));e=this._extendBlocksToNearestDailyBreak(e,t);const{toCalculate:i}=this._getCalculationBatches(e,t);i.forEach((e=>this._fireInput(e,t)))}_extendBlocksToNearestDailyBreak(e,t){const i=e[0].start.getTime();if(-1===t.indexOf(i)){e=e.slice();const n=(0,s.findLastIndex)(t,(e=>e<i));let r=e[0].previous;do{if(e.unshift(r),(0,s.findLastIndex)(t,(e=>r.containsDate(e)),n)>-1)break}while(r=r.previous)}return e}_extendBlocksToFollowingAffected(e){let t=(0,s.last)(e),i=!1;for(;(t=t.next)&&t.points[this._inputPointType]&&!t.points[this._outputPointType];)i||(e=e.slice(),i=!0),e.push(t);return e}_getCalculationBatches(e,t){const i=[{points:[],blocks:[]}],n=t.slice(),r=[];let o=i[0],a=!1;for(const l of e)if(l.points[this._inputPointType]){let e=a,t=a,i=-1;if(e||(i=(0,s.findIndex)(n,(e=>l.containsDate(e))),i>-1&&(e=!0,t=n[i]===l.start.getTime())),t)o.points.push(...l.points[this._inputPointType].points),o.blocks.push(l);else if(e)for(const s of l.points[this._inputPointType].points)s.timestamp>=n[i]&&o.points.push(s);a=e}else a=!1,r.push(l),o.blocks.length&&(o={points:[],blocks:[]},i.push(o));return{toRequest:r,toCalculate:i.filter((({blocks:e})=>e.length))}}_fireInput({points:e,blocks:t},i){this.fire(r.default.INDICATOR_INPUT,e,t,i)}recalculateBlocksWithEnoughTrailingPoints(){}}t.default=d},93792:(e,t,i)=>{"use strict";const n=(0,i(15215).Bx)(i(10695));class s extends n.default{fromJSON({hasDerivativeIndicatorBeenAdded:e}){this.hasDerivativeIndicatorBeenAdded=e}toJSON(){return this.hasDerivativeIndicatorBeenAdded?{hasDerivativeIndicatorBeenAdded:!0}:null}}t.A=s},44437:(e,t)=>{"use strict";class i{static create(){return new i}chooseResolution(e,t){return t}}t.A=i},93829:(e,t,i)=>{"use strict";var n=i(15215).Bx;Object.defineProperty(t,"__esModule",{value:!0}),t.createCalculatedDataPoint=void 0;const s=n(i(84228));t.createCalculatedDataPoint=function(e,t){return new s.default(t.timestamp,e,t.volume)}},11212:(e,t,i)=>{"use strict";var n=i(15215).Bx;Object.defineProperty(t,"__esModule",{value:!0});const s=n(i(23935)),r=n(i(69898)),o=n(i(51154)),a=n(i(4848));t.default={absoluteoverlay:{presentationControllers:{instrumentSwitcherController:{type:s.default,presentationModel:{type:r.default,properties:a.default}}},renderers:{switcher:{type:o.default,group:"body",position:"body",presentationController:"instrumentSwitcherController"}}}}},90171:(e,t,i)=>{"use strict";var n=i(15215).Bx;Object.defineProperty(t,"__esModule",{value:!0}),t.MARKETS_SUBMITTED=t.SwitcherSource=void 0;const s=n(i(289)),r=n(i(11212));!function(e){e[e.EXTERNAL_APPLICATION=0]="EXTERNAL_APPLICATION",e[e.INSTRUMENT_SWITCHER=1]="INSTRUMENT_SWITCHER"}(t.SwitcherSource||(t.SwitcherSource={})),t.MARKETS_SUBMITTED="MARKETS_SUBMITTED";class o extends s.default{constructor(e){super(),this._eventBus=e,this._eventBus.subscribe("api/in/switcher/update",this._handleAlternativeMarkets,this)}init(){this._eventBus.subscribe("chart/view/ready",this._handleViewReady,this),this._eventBus.subscribe("chart/view/destroyed",this._handleViewDestroyed,this),this._eventBus.publish("subViews/config",["instrument-switcher",r.default]),this._chartView&&this._chartView.addRenderersBySubviewConfig(r.default)}destroy(){this._chartView&&this._chartView.removeRenderersBySubviewConfig(r.default),this._eventBus.publish("subViews/removeConfig",["instrument-switcher"]),this._eventBus.unsubscribe("chart/view/ready",this._handleViewReady,this),this._eventBus.unsubscribe("chart/view/destroyed",this._handleViewDestroyed,this),delete this._chartView}_handleViewReady(e){this._chartView=e}_handleViewDestroyed(){delete this._chartView}_handleAlternativeMarkets(e){(null==e?void 0:e.length)?this.markets=e:delete this.markets,this.fire(t.MARKETS_SUBMITTED,this.markets)}}t.default=o},23935:(e,t,i)=>{"use strict";var n=i(15215).Bx;Object.defineProperty(t,"__esModule",{value:!0});const s=n(i(60102)),r=i(90577),o=n(i(38108)),a=n(i(73453)),l=i(90171);class d extends s.default{startListening(e){super.startListening(e);const t=this._moduleLoader.getModule("instrumentSwitcher");return t.on(l.MARKETS_SUBMITTED,this._handleInstrumentSwitched,this),this._presentationModel.on(r.COMMON_UI_CHANGED,this._handleUIChanged,this),this._presentationModel.pricesSubview=this._subView.getChartView().subViewManager.getSubView("prices"),this._presentationModel.pricesSubview.on(o.default.DIMENSIONS_CHANGED,this._handleUIChanged,this),this._eventBus.subscribe("menu/toggled",this._handleMobileMenuToggle,this),t.markets&&(this._visibleWindow.isReadyForRender()?this._handleInstrumentSwitched(t.markets):this._visibleWindow.on(a.default.READY_FOR_RENDER,(()=>this._handleInstrumentSwitched(t.markets)),this,{once:!0})),this}stopListening(){var e,t,i,n,s,d;null===(e=this._moduleLoader.getModule("instrumentSwitcher"))||void 0===e||e.un(l.MARKETS_SUBMITTED,this),null===(t=this._presentationModel)||void 0===t||t.un(r.COMMON_UI_CHANGED,this),null===(n=null===(i=this._presentationModel)||void 0===i?void 0:i.pricesSubview)||void 0===n||n.un(o.default.DIMENSIONS_CHANGED,this),null===(s=this._eventBus)||void 0===s||s.unsubscribe("menu/toggled",this._handleMobileMenuToggle,this),null===(d=this._visibleWindow)||void 0===d||d.un(a.default.READY_FOR_RENDER,this),super.stopListening()}_handleInstrumentSwitched(e){this._presentationModel.markets=e,this._presentationModel.calculateOffset()}_handleUIChanged(){this._presentationModel.calculateOffset()}_handleMobileMenuToggle(e){this._presentationModel.mobileMenuOpen=e,this._presentationModel.calculateOffset()}}t.default=d},69898:(e,t,i)=>{"use strict";var n=i(15215).Bx;Object.defineProperty(t,"__esModule",{value:!0});const s=n(i(90577)),r=i(51154);class o extends s.default{constructor(){super(...arguments),this.offset={x:16,y:0},this.mobileMenuOpen=!1}calculateOffset(){const e=this.subView.dimensions.height,t=this.pricesSubview.dimensions.height,i=this.getOffsetsForComponent("instrumentswitcher");this.offset.y=-(e-t-i.yOffset+(this.mobileMenuOpen?78:0)),this.fire(r.OFFSET_UPDATED)}}t.default=o},51154:(e,t,i)=>{"use strict";var n=i(15215).Bx;Object.defineProperty(t,"__esModule",{value:!0}),t.OFFSET_UPDATED=void 0;const s=n(i(10520)),r=i(90577),o=n(i(85690)),a=n(i(50951)),l=i(90171);t.OFFSET_UPDATED="OFFSET_UPDATED";class d extends o.default{startRedrawingBasedOnChangesInVisibleWindow(){super.startRedrawingBasedOnChangesInVisibleWindow(),this._presentationModel.on(t.OFFSET_UPDATED,this.renderOnFrameEnd,this),this._presentationModel.on(r.COMMON_UI_CHANGED,this.renderOnFrameEnd,this),this._presentationModel.markets&&this.renderOnFrameEnd()}stopRedrawingBasedOnChangesInVisibleWindow(){super.stopRedrawingBasedOnChangesInVisibleWindow(),this._presentationModel.un(null,this)}initDom(){return super.initDom(),this._dButtonContainer=this.dContainer.append("div").classed("switcherContainer hidden",!0),this._captureZone=this._captureZoneManager.create(a.default.BLOCK_ALL,s.default.COMMON_BUTTON),this._captureZone.withAssociatedElement(this._dButtonContainer),this}_switchInstrument(e){e!==this._presentationModel.selectedEpic&&this._instrumentModel.chartModel.chartControllerCore.setInstrument(e,{switchSource:l.SwitcherSource.INSTRUMENT_SWITCHER})}render(){var e;this._presentationModel.selectedEpic=(null===(e=this._instrumentModel.underlyingInstrumentModel)||void 0===e?void 0:e.epic)||null,this._dButtonContainer.style("transform",`translate(${this._presentationModel.offset.x}px, ${this._presentationModel.offset.y}px)`),this._dButtonContainer.html(""),this._presentationModel.markets?(this._dButtonContainer.classed("hidden",!1),this._presentationModel.markets.forEach((e=>{this._dButtonContainer.append("div").classed("switcherButton",!0).classed("selected",e.epic===this._presentationModel.selectedEpic).text(e.label).on("click",(()=>this._switchInstrument(e.epic)))}))):this._dButtonContainer.classed("hidden",!0),this._captureZone.setDimensionsBasedOnAssociatedElement()}}t.default=d},54544:(e,t,i)=>{"use strict";var n=i(15215).Bx;Object.defineProperty(t,"__esModule",{value:!0});const s=n(i(50870)),r=n(i(66250)),o=n(i(48202)),a=n(i(4395)),l=i(58703),d=i(96001);function u(e,t,i=!1,n){return{actionListener:t,data:{id:e},label:(0,d.merge)(o.default.get(e+(n?`_${n}`:"")),["<strong>","</strong>","<i>","</i>"]),classList:["priceTypeItem"],allowHTML:!0,isMixed:!0,hoverOnIcon:!0,items:[{data:{id:`${e}-info`},label:{onInit:t=>{const n=document.createElement("p");if(n.className="primaryContent",n.textContent=o.default.get(`${e}-content`),t.appendChild(n),i){const i=o.default.get(`${e}-content-more`);if(i){const e=document.createElement("p");e.className="secondaryContent",e.textContent=i,t.appendChild(e)}}},onDestroy:()=>{}},isPersistent:!0,classList:["priceTypeContent"]}],chevron:!0}}class c extends r.default{constructor(e,t,i,n,r,o,l,d){super(e,t,i,n),this.id="price-types",this._tapHandler=new s.default(this._setPriceType.bind(this)),this._isLtpAvailable=!1,this._menuContainerId=d,this._menuItems=[u(a.default.ASK,this._tapHandler,!0,"BUY"),u(a.default.MID,this._tapHandler),u(a.default.BID,this._tapHandler,!0,"SELL")],this._ltpMenuItem=u(a.default.LTP,this._tapHandler),this._model=this._menuItems.concat(),this.withModel(this._generateModel(this._settingsManager.getPriceTypeSettings()))}static create(e,t,i,n,s,r,o,a){return new c(e,t,i,n,s,r,o,a)}getMenuTitle(){const e=this._model.find((e=>e.isSelected));return e?(0,d.merge)(o.default.get(e.data.id===a.default.LTP?"LT":e.data.id),[]):""}_whenViewIsReady(){this._eventBus.subscribe("chart/pricetype/changed",this._handlePriceTypeChange,this),this._updateMenuLabel(this._settingsManager.getPriceTypeSettings(),this._isLtpAvailable)}_destroyDom(){super._destroyDom(),this._settingsManager.un(null,this)}_setPriceType(e,t,i,n){this._updateMenuLabel(e.id,this._isLtpAvailable),this._eventBus.publish("tracker/ga",[{interaction_type:l.GA_ACTION.PRICE_TYPE,interaction_value:(0,l.fromMenuSource)(n||this._menuContainerId),chart_price_type:e.id.toLowerCase()}]),this._settingsManager.putPriceTypeSettings(e.id,!0)}_handlePriceTypeChange(e,t){this._isLtpAvailable=t,this._updateMenuLabel(e,t)}_updateMenuLabel(e,t){this.withModel(this._generateModel(e,t),!1),this._eventBus.publish("menu/submenu/updatemodel",["price-types",{label:this.getMenuTitle()}])}_generateModel(e,t=!1){return[...this._menuItems,...t?[this._ltpMenuItem]:[]].map((i=>Object.assign(Object.assign({},i),{isSelected:i.data.id===e||e===a.default.LTP&&!t&&i.data.id===a.default.MID})))}}t.default=c},88051:(e,t,i)=>{"use strict";var n=i(15215).Bx;const s=n(i(50870)),r=n(i(66250)),o=n(i(48202)),a=n(i(97535)),l=n(i(14243)),d=i(73731),u=i(58703);class c extends r.default{static create(e,t,i,n,s,r,o,a){return new c(e,t,i,n,s,r,o,a)}constructor(e,t,i,n,r,o,a,l){super(e,t,i,n,a),this.id="scale",this._scaleChangeActionListener=s.default.create(this._setScale.bind(this)),this._model=this._generateModel(),this._menuContainerId=l}destroy(){this._settingsManager.un(null,this),super.destroy()}_generateModel(){const e=this._settingsManager.getScaleDisplayTypeSettings();return[{isSelected:e===a.default.ABSOLUTE,actionListener:this._scaleChangeActionListener,data:{id:a.default.ABSOLUTE},label:o.default.get(a.default.ABSOLUTE)},{isSelected:e===a.default.PERCENTAGE,actionListener:this._scaleChangeActionListener,data:{id:a.default.PERCENTAGE},label:o.default.get(a.default.PERCENTAGE)}]}_whenViewIsReady(){this._settingsManager.on((0,d.getLayoutSettingsEvent)(l.default.CORE),this._updateModel,this)}_setScale(e,t,i,n){this._eventBus.publish("tracker/ga",[{interaction_type:u.GA_ACTION.SCALE_TYPE,interaction_value:(0,u.fromMenuSource)(n||this._menuContainerId),chart_scale_type:e.id.toLowerCase()}]),this._settingsManager.putScaleDisplayTypeSettings(e.id,!0)}}t.A=c},29846:(e,t,i)=>{"use strict";var n=i(15215).Bx,s=i(15215).ut;Object.defineProperty(t,"__esModule",{value:!0}),t.TOAST_TIMEOUT=void 0;const r=n(i(50870)),o=s(i(61568)),a=n(i(48202)),l=i(73731),d=n(i(14243)),u=n(i(72910)),c=n(i(17660)),h=s(i(58167)),p=i(58703);t.TOAST_TIMEOUT=2500;class _ extends h.default{static create(e,t,i,n,s,r,o,a){return new _(e,t,i,n,s,r,o,a)}constructor(e,t,i,n,s,r,a,l){super(e,t,i,n,s,r,a,l),this._taskManager&&(this._taskManager.registerGlobalHotKey(o.default.O,this._toggleWorkingOrdersVisibility.bind(this)),this._taskManager.registerGlobalHotKey(o.default.P,this._toggleOpenPositionsVisibility.bind(this)),this._taskManager.registerGlobalHotKey(o.default.T,this._toggleOverviewVisibility.bind(this)),this._taskManager.registerGlobalHotKey(o.default.K,this._toggleStrikesVisibility.bind(this)))}_isMTF(){return c.default.getInstance().isMTF()&&!!this._settingsManager.getGlobalSettings(d.default.STRIKES)}_whenViewIsReady(){this._settingsManager.on((0,l.getLayoutSettingsEvent)(d.default.CORE),this._handleTooltipVisibilityChange,this),this._isMTF()&&this._settingsManager.on((0,l.getGlobalSettingsEvent)(d.default.STRIKES),this._handleStrikeVisibilityChange,this),super._whenViewIsReady()}_handleTooltipVisibilityChange(){this._updateVisibilityToggle(h.VisibilityMenuOption.TOOLTIP,this._settingsManager.getTooltipSettings())}_handleStrikeVisibilityChange(){var e;this._updateVisibilityToggle(h.VisibilityMenuOption.STRIKES,(null===(e=this._settingsManager.getGlobalSettings(d.default.STRIKES))||void 0===e?void 0:e.isVisible)||!1)}_generateModel(e,t){var i;const n=new r.default(this._toggleVisibility.bind(this)),s=super._generateModel(e,t);return s.unshift({actionListener:n,data:{id:h.VisibilityMenuOption.TOOLTIP},label:a.default.get("tooltip"),isSelected:this._settingsManager.getTooltipSettings(),isPersistent:!0}),this._isMTF()&&s.push({actionListener:n,data:{id:h.VisibilityMenuOption.STRIKES},label:u.default.get("visibilityMenuLabel"),shortcut:(0,o.keyName)(o.default.K),isSelected:null===(i=this._settingsManager.getGlobalSettings(d.default.STRIKES))||void 0===i?void 0:i.isVisible,isPersistent:!0}),s}_updateVisibilitySettings(e,t){switch(e){case h.VisibilityMenuOption.TOOLTIP:this._settingsManager.putTooltipSettings(t);break;case h.VisibilityMenuOption.STRIKES:this._settingsManager.changeAccountSettings(d.default.STRIKES,(e=>(e.isVisible=t,!0)),!0);break;default:super._updateVisibilitySettings(e,t)}}_toggleWorkingOrdersVisibility(){const e=this._settingsManager.getDealingWorkingOrdersVisibility(),i=e?a.default.get("wo_hidden"):a.default.get("wo_shown");this._eventBus.publish("toast/show",[`${i}<br>${a.default.get("o_show_hide")}`,t.TOAST_TIMEOUT]),this._toggleVisibility({id:h.VisibilityMenuOption.WORKING_ORDERS},!e,void 0,p.EventOrigin.KEYBOARD)}_toggleOpenPositionsVisibility(){const e=this._settingsManager.getDealingOpenPositionsVisibility(),i=e?a.default.get("positions_hidden"):a.default.get("positions_shown");this._eventBus.publish("toast/show",[`${i}<br>${a.default.get("p_show_hide")}`,t.TOAST_TIMEOUT]),this._toggleVisibility({id:h.VisibilityMenuOption.POSITIONS},!e,void 0,p.EventOrigin.KEYBOARD)}_toggleOverviewVisibility(){const e=this._settingsManager.getOverviewVisibilitySettings();this._toggleVisibility({id:h.VisibilityMenuOption.OVERVIEW},!e,void 0,p.EventOrigin.KEYBOARD)}_toggleStrikesVisibility(){var e;if(!this._isMTF())return;const i=null===(e=this._settingsManager.getGlobalSettings(d.default.STRIKES))||void 0===e?void 0:e.isVisible;this._eventBus.publish("toast/show",[`${i?a.default.get("strikes_hidden"):a.default.get("strikes_shown")}<br>${a.default.get("k_show_hide")}`,t.TOAST_TIMEOUT]),this._toggleVisibility({id:h.VisibilityMenuOption.STRIKES},!i,void 0,p.EventOrigin.KEYBOARD)}_handleVisibilityToggle(e,t){this._updateModelSelectedState(e,t)}}t.default=_},58167:(e,t,i)=>{"use strict";var n=i(15215).Bx,s=i(15215).ut;Object.defineProperty(t,"__esModule",{value:!0}),t.VisibilityMenuOption=void 0;const r=n(i(50870)),o=n(i(34438)),a=s(i(61568)),l=n(i(66250)),d=n(i(89914)),u=n(i(48202)),c=i(73731),h=n(i(14243)),p=n(i(17660)),_=i(58703),g=i(11173),f=n(i(59465));var m;!function(e){e.POSITIONS="POSITIONS_VISIBILITY",e.WORKING_ORDERS="WORKING_ORDERS_VISIBILITY",e.POSITION_PREVIEW="POSITION_PREVIEW_VISIBILITY",e.DRAWINGS="DRAWINGS_VISIBILITY",e.OVERVIEW="OVERVIEW_VISIBILITY",e.INDICATORS="INDICATORS_VISIBILITY",e.HIGHLOW_STATS="HIGHLOW_STATS_VISIBILITY",e.CURRENT_PRICE_LINE="CURRENT_PRICE_LINE_VISIBILITY",e.DERIVATIVE_PRICE="DERIVATIVE_PRICE_VISIBILITY",e.TOOLTIP="TOOLTIP_VISIBILITY",e.STRIKES="STRIKES_VISIBILITY"}(m=t.VisibilityMenuOption||(t.VisibilityMenuOption={}));class v extends l.default{static create(e,t,i,n,s,r,o,a){return new v(e,t,i,n,s,r,o,a)}constructor(e,t,i,n,s,r,o,a){super(e,t,i,n,o),this.id="visibility",this.withModel(this._generateModel()),this._menuContainerId=a}_whenViewIsReady(){this._eventBus.subscribe("chart/instrument/info",this._handleInstrumentInfo,this),this._eventBus.subscribe("chart/instrument/additional/changed",this._handleAdditionalInstrumentsChanged,this),this._eventBus.subscribe("chart/instrument/additional/info",this._handleAdditionalInstrumentsInfo,this),this._settingsManager.on((0,c.getLayoutSettingsEvent)(h.default.DRAWINGS_VISIBILITY),this._handleAnnotationsSettingsChanged,this),this._settingsManager.on((0,c.getLayoutSettingsEvent)(h.default.INDICATORS_VISIBILITY),this._handleIndicatorsVisibilitySettingsChanged,this),this._settingsManager.on((0,c.getLayoutSettingsEvent)(h.default.HIGH_LOW_STATS_VISIBILITY),this._handleHighLowStatsSettingsChanged,this),this._settingsManager.on((0,c.getLayoutSettingsEvent)(h.default.CURRENT_PRICE_LINE_VISIBILITY),this._handleCurrentPriceLineStatsSettingsChanged,this),this._settingsManager.on((0,c.getLayoutSettingsEvent)(h.default.OVERVIEW_VISIBILITY),this._handleOverviewSettingsChanged,this),this._settingsManager.on((0,c.getLayoutSettingsEvent)(h.default.INDICATORS),this._handleIndicatorsSettingsChanged,this),this._settingsManager.on((0,c.getGlobalSettingsEvent)(h.default.DEALING),this._handleDealingSettingsChanged,this),this._settingsManager.on((0,c.getGlobalSettingsEvent)(h.default.POSITION_PREVIEW_VISIBILITY),this._handlePositionPreviewSettingsChanged,this),this._handleSettingsLoaded(),this._handleDealingSettingsChanged(),this._handlePositionPreviewSettingsChanged()}_destroyDom(){super._destroyDom(),this._eventBus.unsubscribeAll(this),this._settingsManager.un(null,this)}_generateModel(e=!1,t=!1){let i;i=!(!e||!this._dealingSettingsAvailable())||this.getMenuOptions().some((e=>e.data.id===m.POSITIONS));const n=!p.default.getInstance().isMTF()&&this._settingsManager.getGlobalSettings(h.default.POSITION_PREVIEW_VISIBILITY)&&this._dealingSettingsAvailable(),s=new r.default(this._toggleVisibility.bind(this)),l=[];return t&&l.push({actionListener:s,data:{id:m.DERIVATIVE_PRICE},label:f.default.get(g.IndicatorName.DERIVATIVE),isSelected:this._isDerivativeIndicatorEnabled,isPersistent:!0}),l.push({actionListener:s,data:{id:m.DRAWINGS},label:u.default.get("drawings"),isSelected:this._settingsManager.getDrawingsVisibilitySettings(),isPersistent:!0},{actionListener:s,data:{id:m.INDICATORS},label:u.default.get("indicators"),isSelected:this._settingsManager.getIndicatorsVisibilitySettings(),isPersistent:!0}),i&&l.push({actionListener:s,data:{id:m.POSITIONS},isSelected:this._settingsManager.getDealingOpenPositionsVisibility(),label:u.default.get("menuPositions"),shortcut:(0,a.keyName)(a.default.P),isPersistent:!0,visibleByDefault:!1},{actionListener:s,data:{id:m.WORKING_ORDERS},isSelected:this._settingsManager.getDealingWorkingOrdersVisibility(),label:u.default.get("menuWorkingOrders"),shortcut:(0,a.keyName)(a.default.O),isPersistent:!0,visibleByDefault:!1}),n&&l.push({actionListener:s,data:{id:m.POSITION_PREVIEW},isSelected:this._settingsManager.getPositionPreviewVisibilitySettings(),label:o.default.get("menuOption"),isPersistent:!0,visibleByDefault:!1}),this._settingsManager.getTemplateSettings(h.default.OVERVIEW_VISIBILITY)&&l.push({actionListener:s,data:{id:m.OVERVIEW},label:u.default.get("overview"),shortcut:(0,a.keyName)(a.default.T),isSelected:this._settingsManager.getOverviewVisibilitySettings(),isPersistent:!0,visibleByDefault:!1}),l.push({actionListener:s,data:{id:m.HIGHLOW_STATS},label:u.default.get("highlowstats"),isSelected:this._settingsManager.getHighLowStatsVisibilitySettings(),isPersistent:!0}),l.push({actionListener:s,data:{id:m.CURRENT_PRICE_LINE},label:u.default.get("priceline"),isSelected:this._settingsManager.getCurrentPriceLineVisibilitySettings(),isPersistent:!0}),l}_updateVisibilitySettings(e,t){switch(e){case m.POSITIONS:this._settingsManager.putDealingOpenPositionsVisibility(t,!0);break;case m.WORKING_ORDERS:this._settingsManager.putDealingWorkingOrdersVisibility(t,!0);break;case m.DRAWINGS:this._settingsManager.putDrawingsVisibilitySettings(t,!0);break;case m.INDICATORS:this._settingsManager.putIndicatorsVisibilitySettings(t,!0);break;case m.OVERVIEW:this._settingsManager.putOverviewVisibilitySettings(t,!0);break;case m.HIGHLOW_STATS:this._settingsManager.putHighLowStatsVisibilitySettings(t,!0);break;case m.CURRENT_PRICE_LINE:this._settingsManager.putCurrentPriceLineVisibilitySettings(t,!0);break;case m.POSITION_PREVIEW:this._settingsManager.putPositionPreviewVisibilitySettings(t,!0);break;case m.DERIVATIVE_PRICE:t?this._eventBus.publish("chart/indicator/add",[g.IndicatorName.DERIVATIVE,{},!0]):this._eventBus.publish("chart/indicator/remove",[g.IndicatorName.DERIVATIVE,!0])}}_toggleVisibility({id:e},t,i,n){this._updateVisibilitySettings(e,t),this._updateModelSelectedState(e,t),this._eventBus.publish("tracker/ga",[{interaction_type:`${_.GA_ACTION.VISIBILITY} - ${t?"show":"hide"}`,interaction_value:n===_.EventOrigin.KEYBOARD?_.EventOrigin.KEYBOARD:(0,_.fromMenuSource)(n||this._menuContainerId),chart_visibility:e.substr(0,e.lastIndexOf("_")).toLowerCase()}])}_handleSettingsLoaded(){this._handleVisibilityToggle(m.DRAWINGS,this._settingsManager.getDrawingsVisibilitySettings()),this._handleVisibilityToggle(m.CURRENT_PRICE_LINE,this._settingsManager.getCurrentPriceLineVisibilitySettings()),this._handleVisibilityToggle(m.HIGHLOW_STATS,this._settingsManager.getHighLowStatsVisibilitySettings()),this._handleVisibilityToggle(m.INDICATORS,this._settingsManager.getIndicatorsVisibilitySettings()),this._handleVisibilityToggle(m.OVERVIEW,this._settingsManager.getOverviewVisibilitySettings()),this.fire(d.default.CHANGED)}_updateVisibilityToggle(e,t){this._handleVisibilityToggle(e,t),this.fire(d.default.CHANGED)}_handleVisibilityToggle(e,t){this._view&&(t?this._view.selectItem(e):this._view.deselectItem(e)),this._updateModelSelectedState(e,t)}get _isDerivativeIndicatorEnabled(){return!!this._settingsManager.getIndicatorsSettings().find((({id:e})=>e===g.IndicatorName.DERIVATIVE))}_handleInstrumentInfo(e){this.withModel(this._generateModel(!e.isDelayed))}_handleAdditionalInstrumentsChanged(){this.withModel(this._generateModel(void 0))}_handleAdditionalInstrumentsInfo(){this.withModel(this._generateModel(void 0,!0))}_dealingSettingsAvailable(){return!!this._settingsManager.getGlobalSettings(h.default.DEALING)}_handleDealingSettingsChanged(){this._dealingSettingsAvailable()&&(this._handleVisibilityToggle(m.POSITIONS,this._settingsManager.getDealingOpenPositionsVisibility()),this._handleVisibilityToggle(m.WORKING_ORDERS,this._settingsManager.getDealingWorkingOrdersVisibility())),this.fire(d.default.CHANGED)}_handlePositionPreviewSettingsChanged(){const e=this._settingsManager.getGlobalSettings(h.default.POSITION_PREVIEW_VISIBILITY);e&&this._handleVisibilityToggle(m.POSITION_PREVIEW,e.isVisible),this.fire(d.default.CHANGED)}_handleAnnotationsSettingsChanged(){this._updateVisibilityToggle(m.DRAWINGS,this._settingsManager.getDrawingsVisibilitySettings())}_handleIndicatorsVisibilitySettingsChanged(){this._updateVisibilityToggle(m.INDICATORS,this._settingsManager.getIndicatorsVisibilitySettings())}_handleHighLowStatsSettingsChanged(){this._updateVisibilityToggle(m.HIGHLOW_STATS,this._settingsManager.getHighLowStatsVisibilitySettings())}_handleCurrentPriceLineStatsSettingsChanged(){this._updateVisibilityToggle(m.CURRENT_PRICE_LINE,this._settingsManager.getCurrentPriceLineVisibilitySettings())}_handleOverviewSettingsChanged(){this._updateVisibilityToggle(m.OVERVIEW,this._settingsManager.getOverviewVisibilitySettings())}_handleIndicatorsSettingsChanged(){this._updateVisibilityToggle(m.DERIVATIVE_PRICE,this._isDerivativeIndicatorEnabled)}}t.default=v},79700:(e,t)=>{"use strict";var i;Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.DRAWINGS_TOOLBOX="DRAWINGS_TOOLBOX",e.MAIN="MAIN_MENU",e.TOP="TOP_MENU",e.TOP_STICKY="TOP_STICKY_MENU"}(i||(i={})),t.default=i},887:(e,t,i)=>{"use strict";var n=i(15215).Bx;Object.defineProperty(t,"__esModule",{value:!0});const s=i(43130),r=n(i(17660));class o{constructor(e,t){this._currentlyShown=!1,this._eventBus=e,this._settingsManager=t}static create(e,t){return new o(e,t)}setIgMenu(e){return this._igMenu=e,this}changeTheme(){this._igMenu&&this._igMenu.setTheme(this._settingsManager.getThemeForDependencies())}showMenuItems(e,t,i,n){this._igMenu&&this._igMenu.setLang(r.default.getInstance().getSanitisedLocale()).setItems(e).showAt((0,s.pick)(t,"x","y"),this._getMenuLifecycle(i,n))}refreshMenuItems(e){this._igMenu&&this._igMenu.setItems(e)}hideMenu(e=!1){this._igMenu&&(e||this._currentlyShown)&&this._igMenu.hide()}destroy(){this.hideMenu();for(const e of["_eventBus","_igMenu","_settingsManager"])delete this[e]}_getMenuLifecycle(e,t){return{onShow:()=>{this._currentlyShown=!0,t&&t.onShow(),e.classed("forceHover",!0),this._eventBus.publish("api/out/menu/opened")},onHide:()=>{this._currentlyShown=!1,t&&t.onHide(),e.classed("forceHover",!1),e.node().focus()}}}}t.default=o},40882:(e,t,i)=>{"use strict";var n=i(15215).Bx;Object.defineProperty(t,"__esModule",{value:!0});const s=i(43130),r=n(i(6748)),o=n(i(65854));t.default=class{constructor(e,t,i,n,s,r,o,a){this._menuContainers={},this._eventBus=e,this._options=t,this._settingsManager=s,this._containerProvider=r,this._taskManager=a}init(){this._eventBus.subscribe("chart/view/destroyed",this._handleChartViewDestroyed,this),this._eventBus.subscribe("chart/view/ready",this._handleChartViewReady,this)}destroy(){this._handleChartViewDestroyed(),this._eventBus.unsubscribeAll(this)}createMenuContainer(e,t,i){const n=r.default.create(this._eventBus,t,this._settingsManager,this._containerProvider,i,this._taskManager,e);return o.default.getInstance().getFlags().newMobileMenu&&"MAIN_MENU"===e||(this._menuContainers[e]=n,this._chartView&&n.init(this._chartView.animationPoller,this._zoneManager,this._dContainer)),n}destroyMenuContainer(e){this._menuContainers[e]&&(this._menuContainers[e].destroy(),delete this._menuContainers[e])}showMenu(e){this._chartView&&(0,s.each)(this._menuContainers,((t,i)=>t.updateMenuVisibility(i===e)))}hideMenu(e){this._chartView&&this._menuContainers&&this._menuContainers[e]&&this._menuContainers[e].updateMenuVisibility(!1)}_handleChartViewReady(e,t,i){const n=Object.assign({},this._menuContainers);this._chartView=e,this._dContainer=i,this._zoneManager=t,this._createMenuContainers(),(0,s.invokeMap)(n,"init",this._chartView.animationPoller,this._zoneManager,this._dContainer)}_handleChartViewDestroyed(){this._destroyMenuContainers();for(const e of["_chartView","_dContainer","_zoneManager"])delete this[e]}_destroyMenuContainers(){Object.keys(this._menuContainers).forEach(this.destroyMenuContainer,this)}}},49865:(e,t,i)=>{"use strict";var n=i(15215).Bx;Object.defineProperty(t,"__esModule",{value:!0});const s=n(i(48202)),r=n(i(54544));class o extends r.default{static create(e,t,i,n,s,r,a,l){return new o(e,t,i,n,s,r,a,l)}getMenuTitle(){return s.default.get("priceType")}}t.default=o},63472:(e,t,i)=>{"use strict";var n=i(15215).Bx;Object.defineProperty(t,"__esModule",{value:!0});const s=n(i(49865)),r=n(i(6500)),o=n(i(79700)),a=n(i(70138));class l extends s.default{static create(e,t,i,n,s,r,o,a){return new l(e,t,i,n,s,r,o,a)}_createMenuView(e,t){this._captureZoneManager=e;const i=new r.default(this._captureZoneManager,t,this._eventBus);return i.on(r.default.CLICK,this._handleClick,this),i}_handleClick(){this._eventBus.publish("contextmenu/pricetype/options",[a.default.adaptMenuOptions(this.getMenuOptions(),o.default.TOP_STICKY),this._view.menuCoordinates])}}t.default=l},79842:(e,t)=>{"use strict";var i;Object.defineProperty(t,"__esModule",{value:!0}),function(e){e[e.DATE_RANGE_TOOLTIP=1]="DATE_RANGE_TOOLTIP",e[e.SPLIT_CHARTS_TOOLTIP=2]="SPLIT_CHARTS_TOOLTIP",e[e.INDICATORS_TOOLTIP=3]="INDICATORS_TOOLTIP",e[e.ANNOTATIONS_TOOLTIP=4]="ANNOTATIONS_TOOLTIP",e[e.VISIBILITY_TOOLTIP=5]="VISIBILITY_TOOLTIP",e[e.MORE_MENU_TOOLTIP=6]="MORE_MENU_TOOLTIP",e[e.LATEST_CANDLE_TOOLTIP=7]="LATEST_CANDLE_TOOLTIP"}(i||(i={})),t.default=i},54326:(e,t,i)=>{"use strict";var n=i(15215).Bx;Object.defineProperty(t,"__esModule",{value:!0}),t.MENU_TYPE=void 0;const s=i(43130),r=n(i(18728)),o=n(i(887)),a=n(i(70138)),l=n(i(40882)),d=n(i(6748)),u=n(i(73731)),c=n(i(289)),h=n(i(17660)),p=n(i(79700));var _;function g(e){e.preventDefault(),e.stopPropagation()}!function(e){e[e.DATE_RANGE=1]="DATE_RANGE",e[e.PRICE_TYPE=2]="PRICE_TYPE",e[e.RESOLUTIONS=3]="RESOLUTIONS",e[e.INDICATORS=4]="INDICATORS",e[e.DRAWINGS=5]="DRAWINGS",e[e.VISIBILITY=6]="VISIBILITY",e[e.RIGHT_CLICK=7]="RIGHT_CLICK",e[e.MORE=8]="MORE",e[e.SPLIT=9]="SPLIT"}(_=t.MENU_TYPE||(t.MENU_TYPE={}));class f extends l.default{constructor(e,t,i,n,s,r,a,l){super(e,t,i,n,s,r,a,l),this._igMenuHelper=o.default.create(this._eventBus,this._settingsManager),this._topMenuCollapsed=!1,this._settingsManager.on(u.default.THEME_CHANGED,this._igMenuHelper.changeTheme,this._igMenuHelper)}init(){this._toggleStates=new c.default,this._eventBus.subscribe("menu/item/switch",this._handleStateToggle,this),this._eventBus.subscribe("contextmenu/resolutions/options",this._showOptions.bind(this,_.RESOLUTIONS),this),this._eventBus.subscribe("contextmenu/pricetype/options",this._showOptions.bind(this,_.PRICE_TYPE),this),this._eventBus.subscribe("contextmenu/daterange/options",this._showOptions.bind(this,_.DATE_RANGE),this),this._eventBus.subscribe("contextmenu/indicators/options",this._showOptions.bind(this,_.INDICATORS),this),this._eventBus.subscribe("contextmenu/drawings/options",this._showOptions.bind(this,_.DRAWINGS),this),this._eventBus.subscribe("contextmenu/visibility/options",this._showOptions.bind(this,_.VISIBILITY),this),this._eventBus.subscribe("contextmenu/splitchart/options",this._showOptions.bind(this,_.SPLIT),this),this._eventBus.subscribe("contextmenu/more/options",this._showMoreOptions,this),this._eventBus.subscribe("contextmenu/collapsed",this._handleCollapseChange,this),super.init(),h.default.getInstance().isMTF()&&this._handleStateToggle("price-types",!1)}destroy(){this._toggleStates&&(this._toggleStates.destroy(),delete this._toggleStates),super.destroy()}withMenuComponent(e){return this._igMenuHelper.setIgMenu(e),this}_handleChartViewReady(e,t){super._handleChartViewReady(e,t,this._containerProvider.getContainer("htmloverlay").select(".body")),this._containerProvider.getContainer("input-overlay").node().addEventListener("contextmenu",g,!1),this._contextMenuRecogniser=r.default.create().withHandler(this._showContextMenu,this),e.globalCaptureZone.addGestureRecogniser(this._contextMenuRecogniser),this.showMenu(p.default.TOP)}_handleChartViewDestroyed(){this._igMenuHelper.hideMenu(),this._containerProvider.getContainer("input-overlay").node().removeEventListener("contextmenu",g,!1),this._chartView&&this._contextMenuRecogniser&&(this._chartView.globalCaptureZone.removeGestureRecogniser(this._contextMenuRecogniser),this._contextMenuRecogniser.destroy(),delete this._contextMenuRecogniser),delete this._currentlyOpenedMenu,this._toggleStates&&this._toggleStates.destroy(),this._topMenuCollapsed=!1,super._handleChartViewDestroyed()}_handleCollapseChange(e){this._topMenuCollapsed=e}_createMenuContainers(){this._options.menu&&this.createMenuContainer(p.default.MAIN,this._options.menu,this._toggleStates),this._options.topMenu&&this.createMenuContainer(p.default.TOP,this._options.topMenu,this._toggleStates)}createMenuContainer(e,t,i){const n=super.createMenuContainer(e,t,i);return n.on(d.default.MENU_OPTIONS_CHANGED,this._refreshMenuOptions,this),n}_showContextMenu({x:e,y:t}){const{top:i,left:n}=this._zoneManager.getOffset();this._eventBus.publish("contextmenu/triggered"),this._showOptions(_.RIGHT_CLICK,a.default.adaptMenuOptions(this._getMenuOptions()),{x:n+e,y:i+t})}_getMenuOptions(e){let t=this._menuContainers[p.default.MAIN].getMenuOptions();if(e){const i=(0,s.find)(t,["data.id",e]);if(!i||!i.items)throw new Error(`Could not retrieve submenu items for menu ID ${e}`);t=i.items}return t}_getMoreMenuOptions(){const e=(this._options.excludeFromTopMenu||[]).concat(this._topMenuCollapsed?[]:["indicators","drawings","visibility"]);return this._getMenuOptions().filter((t=>!e.includes(t.data.id)))}_showOptions(e,t,i){this._taskManager.finishNonPersistentTasks(),this.showMenuItems(t,i,{onShow:()=>this._currentlyOpenedMenu=e,onHide:()=>delete this._currentlyOpenedMenu})}_showMoreOptions(e,t){this._showOptions(_.MORE,a.default.adaptMenuOptions(this._getMoreMenuOptions(),t),e)}showMenuItems(e,t,i){this._igMenuHelper.showMenuItems(e,t,this._containerProvider.getRootContainer(),i)}_refreshMenuOptions(){switch(this._currentlyOpenedMenu){case _.RIGHT_CLICK:this._igMenuHelper.refreshMenuItems(a.default.adaptMenuOptions(this._getMenuOptions(),p.default.MAIN));break;case _.MORE:this._igMenuHelper.refreshMenuItems(a.default.adaptMenuOptions(this._getMoreMenuOptions(),p.default.TOP))}}_handleStateToggle(e,t){const i=this._toggleStates;t!==i[e]&&(i[e]=t,i.fire("toggled",e,t))}forceHideMenu(){this._igMenuHelper.hideMenu()}}t.default=f},39111:(e,t,i)=>{"use strict";const n=i(96285);t.A=class{constructor(e,t,i){this._value=e,this._unit=t,this.id=`DATE_RANGE_${this._value}_${this._unit.toUpperCase()}`,this.trackingId=`${this._value}_${this._unit.toLowerCase()}`,this.duration=n.Duration.fromObject({[`${t.replace(/s$/,"")}s`]:e}),this.resolution=i}}},46982:(e,t,i)=>{"use strict";var n=i(15215).Bx;Object.defineProperty(t,"__esModule",{value:!0});const s=n(i(70138)),r=n(i(79700)),o=i(73848),a=n(i(21177)),l=n(i(79842)),d=n(i(29846));class u extends d.default{constructor(){super(...arguments),this.id="topMenuVisibility",this.menuDirection=o.TOOLTIP_APPEARANCE.BELOW}static create(e,t,i,n,s,r,o,a){return new u(e,t,i,n,s,r,o,a)}getMenuTitle(){return""}_createMenuView(e,t){const i=a.default.create(e,t,{className:this.id,tooltipTextKey:l.default.VISIBILITY_TOOLTIP,direction:this.menuDirection},this._eventBus);return this._captureZoneManager=e,i.on(a.default.CLICK,this._handleClick,this),i}_handleClick(){var e;this._eventBus.publish("contextmenu/visibility/options",[s.default.adaptMenuOptions(this.getMenuOptions(),r.default.TOP),null===(e=this._view)||void 0===e?void 0:e.getMenuCoordinates()])}}t.default=u},91239:(e,t,i)=>{"use strict";t.x8=t.Ip=void 0;const n=i(96285);t.Ip="yyyy-LL-dd",t.x8="yyyy-LL-dd'T'HH:mm";t.Ay=class{constructor(e,i=!1,n,s,r,o){this.onChange=n,this.min=s,this.max=r,this.timezone=o,this.inputElement=Object.assign(document.createElement("input"),Object.assign(Object.assign({className:"datepicker",type:i?"datetime-local":"date"},s?{min:s.toFormat(i?t.x8:t.Ip)}:{}),r?{max:r.toFormat(i?t.x8:t.Ip)}:{})),this.inputElement.addEventListener("change",this,!1),e.appendChild(this.inputElement)}handleEvent(e){var t;if("change"===e.type&&e.target.value&&e.target.reportValidity()){const i=this._clampToRange(n.DateTime.fromISO(e.target.value,{zone:null!==(t=this.timezone)&&void 0!==t?t:"default"}));this.onChange(i)}}_clampToRange(e){return this.min&&e<this.min?this.min:this.max&&e>this.max?this.max:e}destroy(){var e;this.inputElement&&(this.inputElement.removeEventListener("change",this,!1),null===(e=this.inputElement.parentNode)||void 0===e||e.removeChild(this.inputElement),delete this.inputElement)}}},6500:(e,t,i)=>{"use strict";var n=i(15215).Bx;Object.defineProperty(t,"__esModule",{value:!0});const s=n(i(61897)),r=n(i(6182)),o=n(i(10520)),a=n(i(79700)),l=n(i(48202)),d=i(96001),u="PRICE_TYPE_MENU_TOOLTIP";class c extends s.default{constructor(e,t,i){super(e,t),this._eventBus=i}initDom(e){return this._dControl=e.viewElement.append("div").classed("desktopPriceTypeTopMenu menuViewItem",!0),this._dLabel=this._dControl.append("span"),this._captureZone=this._captureZoneManager.createTapZone(this.fire.bind(this,c.CLICK),o.default.MENU).withAssociatedElement(this._dControl),this._captureZone.withCursorOnHover(r.default.POINTER).setHoverHandler({in:this._handleHoverIn,inContext:this,out:this._handleHoverOut,outContext:this}),this}show(){this._dControl.classed("hidden",!1),this.fire(s.default.VISIBILITY_CHANGED)}hide(){this._dControl.classed("hidden",!0),this.fire(s.default.VISIBILITY_CHANGED)}updateCaptureZoneSize(){super.updateCaptureZoneSize(),this._captureZone.setDimensionsBasedOnAssociatedElement()}withMenuItems(e,t){super.withMenuItems(e,t),this.render()}render(){if(super.render(),this._dLabel){const e=this._menuItems.find((e=>e.isSelected));e&&this._dLabel.text((0,d.merge)(l.default.get(e.data.id),[]))}this._captureZone&&this.updateCaptureZoneSize()}destroy(){super.destroy(),this._dControl&&(this._dControl.remove(),delete this._dControl),this._captureZone&&(this._captureZone.destroy(),delete this._captureZone)}get menuCoordinates(){const{left:e,bottom:t}=this._dControl.node().getBoundingClientRect();return{x:e,y:t}}_handleHoverIn(){this._dControl.classed("hover",!0),this._eventBus.publish("hint-tooltip/hover/enter",[{itemId:u,groupId:a.default.TOP,message:l.default.get("priceType"),rect:this._dControl.node().getBoundingClientRect()}])}_handleHoverOut(){this._dControl.classed("hover",!1),this._eventBus.publish("hint-tooltip/hover/exit",[u])}}c.CLICK="CLICK",t.default=c},21177:(e,t,i)=>{"use strict";var n=i(15215).Bx;Object.defineProperty(t,"__esModule",{value:!0}),t.RIGHT_OF_OFFSET=void 0;const s=i(9525),r=n(i(61897)),o=n(i(35457)),a=n(i(10520)),l=n(i(6182)),d=i(73848),u=n(i(79842)),c=n(i(79700));t.RIGHT_OF_OFFSET=8;class h extends r.default{constructor(e,t,i,n){super(e,t,i),this._direction=d.TOOLTIP_APPEARANCE.BELOW,this._isVisible=!0,this._handleClick=(0,s.bubbler)(h.CLICK),this._eventBus=n,this._className=i.className||"",this._tooltipTextKey=i.tooltipTextKey,i.direction&&(this._direction=i.direction)}static create(e,t,i,n){return new h(e,t,i,n)}initDom(e){return this._dControl=e.viewElement.append("div"),this._zone=this._captureZoneManager.createTapZone(this._handleClick.bind(this),a.default.MENU).withAssociatedElement(this._dControl).setDimensionsBasedOnAssociatedElement(),this._zone.withCursorOnHover(l.default.POINTER).setHoverHandler({in:this._hoverEnter,inContext:this,out:this._hoverExit,outContext:this}),this.render(),this}getMenuCoordinates(){const e=this._dControl.node().getBoundingClientRect();return this._direction===d.TOOLTIP_APPEARANCE.RIGHT_OF?{x:e.right+t.RIGHT_OF_OFFSET,y:e.top}:{x:e.left,y:e.bottom}}_hoverEnter(){this._dControl.classed("hover",!0),this._tooltipTextKey&&this._eventBus.publish("hint-tooltip/hover/enter",[{itemId:u.default[this._tooltipTextKey],groupId:c.default.TOP,message:o.default.get(u.default[this._tooltipTextKey]),rect:this._dControl.node().getBoundingClientRect(),direction:this._direction}])}_hoverExit(){this._dControl.classed("hover",!1),this._tooltipTextKey&&this._eventBus.publish("hint-tooltip/hover/exit",[u.default[this._tooltipTextKey]])}show(){this._isVisible=!0,this._zone.show(),this.render()}hide(){this._isVisible=!1,this._zone.hide(),this.render()}render(){this._dControl.attr("class",this._getCssClasses()),this._zone.setDimensionsBasedOnAssociatedElement()}_getCssClasses(){return`${this._className} menuViewItem ${this._isVisible?"":"hidden "}`}updateCaptureZoneSize(){this._zone.setDimensionsBasedOnAssociatedElement()}destroy(){this._dControl&&(this._dControl.remove(),delete this._dControl),this._zone&&(this._zone.destroy(),delete this._zone),super.destroy()}}h.CLICK="CLICK",t.default=h},11114:(e,t,i)=>{"use strict";var n=i(15215).ut,s=i(15215).Bx;Object.defineProperty(t,"__esModule",{value:!0});const r=n(i(84888)),o=i(73848),a=s(i(16282));class l extends a.default{constructor(){super(...arguments),this.id="japaneseMenu"}static create(...e){return new l(...e)}_createSubMenu(e,t,i,n,s){const r=super._createSubMenu(e,t,i,n,s);return r.menuDirection=o.TOOLTIP_APPEARANCE.RIGHT_OF,r}_createMenuView(e,t){return r.default.create(e,t)}_whenViewIsReady(){this._view.on(r.MENU_SCROLLED,this.updateCaptureZoneSize,this)}}t.default=l},2370:(e,t,i)=>{"use strict";var n=i(15215).Bx;Object.defineProperty(t,"__esModule",{value:!0});const s=n(i(11114)),r=n(i(40882)),o=n(i(54326)),a=n(i(79700)),l=n(i(289));class d extends r.default{constructor(e,t,i,n,s,r,o,a){super(e,t,i,n,s,r,o,a),this._moduleLoader=i}init(){const e=this._moduleLoader.getModule("menuApi");if(!(e&&e instanceof o.default))throw new Error("MenuJapanese depends on MenuDesktop for operation, but the latter is not available");this._toggleStates=new l.default,this._eventBus.subscribe("menu/item/switch",this._handleStateToggle,this),super.init()}destroy(){this._toggleStates&&(this._toggleStates.destroy(),delete this._toggleStates),super.destroy()}_handleChartViewReady(e,t){super._handleChartViewReady(e,t,this._containerProvider.getContainer("absoluteoverlay").select(".body")),this._chartView.withDimensionOffsets({left:37}),this.showMenu(a.default.TOP)}_handleChartViewDestroyed(){this._chartView&&this._chartView.withDimensionOffsets({left:0}),super._handleChartViewDestroyed()}_createMenuContainers(){this.createMenuContainer(a.default.TOP,{type:s.default,subMenus:this._options.menus},this._toggleStates)}_handleStateToggle(e,t){const i=this._toggleStates;t!==i[e]&&(i[e]=t,i.fire("toggled",e,t))}}t.default=d},84888:(e,t,i)=>{"use strict";var n=i(15215).Bx,s=i(15215).ut;Object.defineProperty(t,"__esModule",{value:!0}),t.MENU_SCROLLED=void 0;const r=i(43130),o=n(i(1074)),a=n(i(12361)),l=n(i(6182)),d=n(i(50951)),u=n(i(61897)),c=s(i(42946)),h=n(i(25322)),p=n(i(98760)),_=n(i(10520));t.MENU_SCROLLED="MENU_SCROLLED";const g=Object.freeze(["top","bottom"]),f=!!o.default.passiveeventlisteners&&{passive:!0,capture:!1};class m extends u.default{constructor(e,t){super(e,t);for(const i of["_scrollHandler","_resizeHandler"])this[i]=(0,r.debounce)(this[i].bind(this),100);this._observer=new ResizeObserver(this._resizeHandler)}static create(e,t){return new m(e,t)}_scrollHandler(){this._updateChevrons(),this.fire(t.MENU_SCROLLED)}_resizeHandler(){this._scrollCaptureZone.setDimensionsBasedOnAssociatedElement(),this._updateChevrons(!0)}initDom(e){this._dContainer=e.containerElement,this._dContainer.classed("japaneseMenu",!0);const t=this._dContainer.node();return t.addEventListener("scroll",this._scrollHandler,f),this._observer.observe(t),this._dChevrons=g.map((e=>{const t=this._dContainer.parent().append("div").classed(`chevron ${e} hidden`,!0);return t.svgFromString(a.default).select(`:not(.${e})`).remove(),t})),this._chevronCaptureZones=g.map(((e,t)=>{const i=this._captureZoneManager.createZone(h.default,d.default.PROPAGATE_UNHANDLED,_.default.MENU_SCROLL_CHEVRONS).withAssociatedElement(this._dChevrons[t]).withCursorOnHover(l.default.POINTER).hide();return i.addGesture(p.default,{count:1,fastTap:!0,onGesture(){const t=this._dContainer.node();t.scrollTo({top:"top"===e?0:t.clientHeight,left:0,behavior:"smooth"})},context:this}),i})),this._scrollCaptureZone=this._captureZoneManager.createZone(h.default,d.default.PROPAGATE_UNHANDLED,_.default.MENU_SCROLL).withAssociatedElement(this._dContainer).propagateHover(),this._scrollCaptureZone.addGesture(c.default,{onGesture:()=>c.RETAIN_DEFAULT}),this.withMenuItems(this._menuItems,!1),this}withMenuItems(e,t){const i=!!this._menuItems&&this._menuItems.length!==e.length;super.withMenuItems(e,t),this._dContainer&&i&&this._scrollHandler()}show(){}hide(){}_updateChevrons(e){const t=this._dContainer.node(),i=[!1,!1];t.scrollHeight>t.clientHeight+6&&(t.scrollTop>6&&(i[0]=!0),t.scrollTop+t.clientHeight<t.scrollHeight-6&&(i[1]=!0)),i.forEach(((t,i)=>{const n=this._chevronCaptureZones[i];t&&!n.visible?(this._dChevrons[i].classed("hidden",!1),n.show().setDimensionsBasedOnAssociatedElement()):t&&n.visible&&e?n.setDimensionsBasedOnAssociatedElement():!t&&n.visible&&(this._dChevrons[i].classed("hidden",!0),n.hide())}))}destroy(){var e,t,i,n,s,r,o,a;this._dContainer&&(this._dContainer.classed("japaneseMenu",!1),this._dContainer.node().removeEventListener("scroll",this._scrollHandler,f)),null===(e=this._observer)||void 0===e||e.disconnect(),null===(t=this._dChevrons)||void 0===t||t[0].remove(),null===(i=this._dChevrons)||void 0===i||i[1].remove(),null===(n=this._chevronCaptureZones)||void 0===n||n[0].destroy(),null===(s=this._chevronCaptureZones)||void 0===s||s[1].destroy(),null===(r=this._scrollCaptureZone)||void 0===r||r.destroy();for(const l of["_scrollHandler","_resizeHandler"])null===(a=(o=this[l]).cancel)||void 0===a||a.call(o),delete this[l];for(const l of["_dChevrons","_dContainer","_chevronCaptureZones","_observer","_scrollCaptureZone"])delete this[l];super.destroy()}}t.default=m},93367:(e,t)=>{"use strict";class i{constructor(e){this._dContainer=e}static create(e){return new i(e)}initDom(){this._dMenuContainer=this._dContainer.append("div").classed("menuContainer",!0),this._dMenu=this._dMenuContainer.append("div").classed("menu hidden",!0)}get containerElement(){return this._dMenuContainer}get viewElement(){return this._dMenu}toggle(e){this._dMenu.classed("hidden",!e)}destroy(){this._dMenuContainer&&(this._dMenuContainer.remove(),delete this._dMenuContainer,delete this._dMenu)}}t.A=i},96962:(e,t)=>{"use strict";var i;Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.DATA_POINTS="DATA_POINTS",e.AVAILABLE_DATE_RANGE="AVAILABLE_DATE_RANGE",e.VISIBLE_DATE_RANGE="VISIBLE_DATE_RANGE",e.SCREEN_DIMENSIONS="SCREEN_DIMENSIONS"}(i||(i={})),t.default=i},35517:(e,t)=>{"use strict";var i;Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.NO_RESOLUTION="NO_RESOLUTION",e.TICK_RESOLUTION="TICK_RESOLUTION",e.NO_DATA="NO_DATA"}(i||(i={})),t.default=i},48163:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=i(43130),s=i(64089),r=i(9525),o=[0,1];t.default=class{constructor(e,t,i){this.dataPoints=e,this.startDate=t,this.endDate=i,this._scale=(0,s.scaleLinear)().domain(e.map((e=>e.date.valueOf()))).range(e.map((0,r.plucker)("accTime")))}getValues(){return this.dataPoints.map((0,r.plucker)("value"))}getMinValue(){return Math.min(...this.getValues())}getMaxValue(){return Math.max(...this.getValues())}getFirstAccTime(){const e=(0,n.head)(this.dataPoints);return e?e.accTime:o[0]}getLastAccTime(){const e=(0,n.last)(this.dataPoints);return e?e.accTime:o[1]}toAccTime(e){return this._scale(e.valueOf())}toDate(e){return new Date(this._scale.invert(e))}destroy(){delete this._scale,delete this.dataPoints,delete this.startDate,delete this.endDate}}},73658:(e,t,i)=>{"use strict";var n=i(15215).Bx;const s=i(73731),r=n(i(17565)),o=n(i(99503)),a=n(i(35517)),l=n(i(11569)),d=n(i(74893)),u=n(i(14243)),c=n(i(289)),h=n(i(93001)),p=i(58167);class _ extends c.default{constructor(e,t,i,n,s){super(),this._unavailabilityReason=a.default.NO_RESOLUTION,this._visibility=!1,this._eventBus=e,this._options=t,this._settingsManager=s}init(){this._dataPoller=r.default.create(this._eventBus);const e=(0,h.default)(this._options);e.overview.properties.height=this._options.height||40,e.overview.presentationControllers.overviewPresentationController.presentationModel.properties={marginLeft:this._options.marginLeft||0,marginRight:this._options.marginRight||0,showCloseIcon:!!this._options.showCloseIcon},this._eventBus.subscribe("chart/view/ready",this._handleChartViewReady,this),this._eventBus.subscribe("chart/view/destroyed",this._handleChartViewDestroyed,this),this._eventBus.subscribe("chart/resolution/changed",this._handleResolutionChanged,this),this._eventBus.subscribe("chart/cleared",this._handleChartCleared,this),this._eventBus.publish("subViews/config",["overview",e]),this._chartView&&this._chartView.addRenderersBySubviewConfig(e);const t=()=>this._setVisibility(this._settingsManager.getOverviewVisibilitySettings());this._settingsManager.on((0,s.getLayoutSettingsEvent)(u.default.OVERVIEW_VISIBILITY),t,this),this._settingsManager.hasSettings()&&t()}destroy(){this._setVisibility(!1),this._handleChartCleared(),this._eventBus.publish("subViews/removeConfig",["overview"]),this._chartView&&(this._chartView.removeRenderersBySubviewConfig((0,h.default)(this._options)),this._handleChartViewDestroyed()),this._dataPoller&&(this._dataPoller.destroy(),delete this._dataPoller),this._settingsManager.un((0,s.getLayoutSettingsEvent)(u.default.OVERVIEW_VISIBILITY),this),this._eventBus.unsubscribeAll(this)}_handleResolutionChanged(e){this._instRes=e,this._dataPoller.withInstrumentResolution(e),e.resolution===d.default.values.TICK?this._setReason(a.default.TICK_RESOLUTION):(this._setReason(null),this._updateDataPolling())}_handleChartCleared(){this._dataPoller&&this._dataPoller.withInstrumentResolution(void 0),this._unavailabilityReason=a.default.NO_RESOLUTION,delete this._instRes}_handleChartViewReady(e){this._chartView=e,this._updateDataPolling(),this._eventBus.publish("menu/item/switch",[p.VisibilityMenuOption.OVERVIEW,!0]),this._visibility&&this._eventBus.publish("chart/subview/toggle",["overview",!0])}_handleChartViewDestroyed(){delete this._chartView,this._updateDataPolling(),this._eventBus.publish("menu/item/switch",[p.VisibilityMenuOption.OVERVIEW,!1])}_updateDataPolling(){this._chartView&&this._instRes&&this._visibility&&!this._unavailabilityReason?this._dataPoller.startPollingForOverviewData(this._handlePollDone.bind(this),this._handlePollDone.bind(this,void 0)):this._dataPoller.stopPollingForOverviewData()}_handlePollDone(e){e&&e.getValues().length?(this._setReason(null),this.fire(o.default.DATA_LOADED,e)):this._setReason(a.default.NO_DATA)}getUnavailabilityReason(){return this._unavailabilityReason}_setReason(e){e!==this._unavailabilityReason&&(this._unavailabilityReason=e,this.fire(o.default.AVAILABILITY_CHANGED))}getOverviewVisibility(){return this._visibility}_setVisibility(e){e!==this._visibility&&(this._visibility=e,this.fire(o.default.VISIBILITY_CHANGED,e),this._updateDataPolling(),this._eventBus.publish("chart/subview/toggle",["overview",e]))}}_.settingsParsers=Object.freeze({template:Object.freeze({moduleName:u.default.OVERVIEW_VISIBILITY,parserClass:l.default})}),t.A=_},99503:(e,t)=>{"use strict";var i;Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.VISIBILITY_CHANGED="VISIBILITY_CHANGED",e.DATA_LOADED="OVERVIEW_DATA_LOADED",e.AVAILABILITY_CHANGED="AVAILABILITY_CHANGED"}(i||(i={})),t.default=i},29420:(e,t,i)=>{"use strict";var n=i(15215).Bx;Object.defineProperty(t,"__esModule",{value:!0});const s=i(43130),r=n(i(72957)),o=n(i(84228)),a=n(i(6927)),l=n(i(38153)),d=i(10094),u=n(i(60934)),c=n(i(48163)),h=n(i(94025)),p=i(38523);class _{constructor(e){this._eventBus=e,this._priceCalculator=new u.default}static create(e){return new _(e)}get instrumentModel(){return this._instrumentResolution.instrumentModel||null}withInstrumentResolution(e){return this._clearInstrument(),this._instrumentResolution=e,this._batchDataClient=r.default.create(this.instrumentModel.epic,this.getOverviewResolution(),this._eventBus,e.instrumentResolutionGuid),this}getOverviewResolution(){return h.default.toOverviewResolution(this._instrumentResolution.resolution)}loadOverviewData(e,t){const i=this._instrumentResolution;i.info?this._makeDataRequest(e,t):(i.un(null,this),i.on(l.default.INFO_LOADED,this._makeDataRequest.bind(this,e,t),this,{once:!0}))}destroy(){this._eventBus.unsubscribeAll(this),delete this._eventBus,delete this._priceCalculator,this._clearInstrument()}_makeDataRequest(e,t){var i,n,s,r;if(null===(i=this.instrumentModel)||void 0===i?void 0:i.timeline){const i=null===(n=this.instrumentModel)||void 0===n?void 0:n.timeline.startDate(),o=null===(s=this.instrumentModel)||void 0===s?void 0:s.timeline.endDate();this._batchDataClient.withVersion(null===(r=this.instrumentModel)||void 0===r?void 0:r.instrumentVersion).getDataFromDateRange(i,o,this._handleOverviewDataLoaded.bind(this,i,o,e,t),this._handleOverviewDataFailed.bind(this,t))}}_parseOverviewData(e){if(!e)return null;const t=(0,p.flattenHcdJson)(e);return(0,s.compact)(t.map(((e,t)=>{const i=a.default.createFromHcdPoint(e),n=this._priceCalculator.calculate(i.close);if((0,d.isNumber)(n)){const i=new o.default(e.timestamp,n,e.lastTradedVolume);return i.accTime=t,i}return null})))}_clearInstrument(){this._instrumentResolution&&(this._instrumentResolution.un(null,this),delete this._instrumentResolution),this._batchDataClient&&(this._batchDataClient.destroy(),delete this._batchDataClient)}_handleOverviewDataLoaded(e,t,i,n,s,r,o){try{const n=this._parseOverviewData(r);n&&i(new c.default(n,e,t))}catch(a){this._handleOverviewDataFailed(n,s,a,o)}}_handleOverviewDataFailed(e,t,i,n){e(t,i,n)}}t.default=_},17565:(e,t,i)=>{"use strict";var n=i(15215).Bx;Object.defineProperty(t,"__esModule",{value:!0});const s=n(i(88045)),r=n(i(29420)),o=n(i(74893)),a=o.default.values.WEEK.period;class l{constructor(e){this._isPolling=!1,this._eventBus=e}static create(e){return new l(e)}_onDataLoaded(e,t,i){this._isPolling&&(t(e),this._pollForOverviewData(t,i))}_onDataNotLoaded(e,t,i,n,s){this._isPolling&&(s(e,t,i),this._pollForOverviewData(n,s))}destroy(){delete this._eventBus,this._destroyOverviewDataClientAndStopPolling()}startPollingForOverviewData(e,t){this._overviewDataClient?(this._isPolling=!0,this._loadOverviewData(e,t)):s.default.warn("Retrieving overview data without base instrument resolution")}stopPollingForOverviewData(){this._isPolling=!1,this._timeoutId&&(clearTimeout(this._timeoutId),delete this._timeoutId)}withInstrumentResolution(e){this._destroyOverviewDataClientAndStopPolling(),e&&(this._overviewDataClient=r.default.create(this._eventBus).withInstrumentResolution(e))}_destroyOverviewDataClientAndStopPolling(){this.stopPollingForOverviewData(),this._overviewDataClient&&(this._overviewDataClient.destroy(),delete this._overviewDataClient)}_loadOverviewData(e,t){this._timeoutId&&(clearTimeout(this._timeoutId),delete this._timeoutId),this._overviewDataClient.loadOverviewData((i=>this._onDataLoaded(i,e,t)),((i,n,s)=>this._onDataNotLoaded(i,n,s,e,t)))}_pollForOverviewData(e,t){const i=Math.min(a,Math.max(this._overviewDataClient.getOverviewResolution().period,o.default.values.FIVE_MINUTES.period));isFinite(i)?this._timeoutId=window.setTimeout(this._loadOverviewData.bind(this,e,t),i):s.default.warn("Overview polling must be a finite amount of ms")}}t.default=l},52742:(e,t,i)=>{"use strict";var n=i(15215).Bx,s=i(15215).ut;Object.defineProperty(t,"__esModule",{value:!0});const r=n(i(6182)),o=s(i(14978)),a=n(i(50951)),l=n(i(76178)),d=n(i(25322)),u=n(i(289)),c=n(i(10520));class h extends u.default{get isLeft(){return this._isLeft}get width(){return this._handleDimensions[0]}constructor(e,t,i){super(),this._dContainer=e,this._zoneManager=t,this._isLeft=i,this._dHandle=this._dContainer.svgFromString(l.default).classed("overviewHandle",!0).classed(this._isLeft?"left":"right",!0),this._handleDimensions=["width","height"].map((e=>parseFloat(this._dHandle.attr(e)))),this._captureZone=t.createZone(d.default,a.default.BLOCK_ALL,c.default.OVERVIEW_HANDLE).withAssociatedElement(this._dHandle).withCursorOnHover(r.default.EW_RESIZE).hide(),this._captureZone.addGesture(o.default,{handleHold:!0,plane:o.PLANES.HORIZONTAL,onGesture(e){this._dHandle.classed("selected",!0),this.fire(h.MOVEMENT,this,e)},onStart(e){this.fire(h.MOVEMENT_STARTED,this,e)},onEnd(e){this.fire(h.MOVEMENT_ENDED,this,e),this._dHandle.classed("selected",!1)},context:this,startContext:this,endContext:this}),this._captureZone.propagateHover().setHoverHandler({in(){this.classed("selected",!0)},out(){this.classed("selected",!1)},inContext:this._dHandle,outContext:this._dHandle})}static create(e,t,i){return new h(e,t,i)}setPosition(e,t,i){return this._constraints=i,this._dHandle.attrs({x:(this._isLeft?-this._handleDimensions[0]:0)+e,y:t-this._handleDimensions[1]/2}),this._captureZone.setDimensionsBasedOnAssociatedElement(i),this}setVisibility(e){return this._dHandle.classed("hidden",!e),e?this._captureZone.show().setDimensionsBasedOnAssociatedElement(this._constraints):this._captureZone.hide(),this}flip(){const e=parseFloat(this._dHandle.attr("x"));return this._isLeft=!this._isLeft,this._dHandle.classed("left",this._isLeft).classed("right",!this._isLeft).attr("x",e+this.width*(this._isLeft?-1:1)),this._dHandle.classed("hidden")||this._captureZone.setDimensionsBasedOnAssociatedElement(this._constraints),this}destroy(){var e,t;null===(e=this._captureZone)||void 0===e||e.destroy(),null===(t=this._dHandle)||void 0===t||t.remove();for(const i of["_captureZone","_dHandle","_handleDimensions"])delete this[i]}}h.MOVEMENT_STARTED="MOVEMENT_STARTED",h.MOVEMENT_ENDED="MOVEMENT_ENDED",h.MOVEMENT="MOVEMENT",t.default=h},21313:(e,t,i)=>{"use strict";var n=i(15215).Bx;Object.defineProperty(t,"__esModule",{value:!0});const s=i(43130),r=n(i(50951)),o=n(i(33456)),a=n(i(52742)),l=n(i(49972)),d=n(i(33768)),u=Object.assign((function(e){return e}),{invert:e=>e,domain(){},range(){}});class c extends d.default{constructor(e,t,i,n){super(Object.assign(Object.assign({hoverMode:!1},e),{inverted:!1,vertical:!1}),t,i),this._zoneManager=t,this._presentationModel=n,this._valueToPosition=u,Object.defineProperty(this,"_width",{configurable:!1,enumerable:!0,get(){var e;return null===(e=this._dimensions)||void 0===e?void 0:e.width},set(){}}),Object.defineProperty(this,"_height",{configurable:!1,enumerable:!0,get(){var e;return null===(e=this._dimensions)||void 0===e?void 0:e.height},set(){}})}static create(e,t,i,n){return new c(e,t,i,n)}setWidth(e){return this}setHeight(e){return this}setDimensions(e){return this._dimensions=e,this.renderOnFrameEnd(),this}_createElements(e){super._createElements(e);for(const t of["Left","Right"])this[`_dShade${t}`]=this._dContainer.append("rect").classed("scrollRect",!0).classed(t.toLowerCase(),!0);this._axisHelper=l.default.create(e,this._animationPoller,this._presentationModel),this._handles=[!0,!1].map((t=>{const i=a.default.create(e,this._zoneManager,t);return i.setVisibility(!this._options.hoverMode),i.on(a.default.MOVEMENT_STARTED,(()=>{var e,t;return null===(t=(e=this._options).callbackStart)||void 0===t?void 0:t.call(e)}),this),i.on(a.default.MOVEMENT_ENDED,(()=>{var e,t;return null===(t=(e=this._options).callbackEnd)||void 0===t?void 0:t.call(e)}),this),i.on(a.default.MOVEMENT,this._handleHandleHandled,this),i}))}_renderElements(){super._renderElements();const e=Math.max(this._start+1,0),t=Math.max(this._width+1-this._end,0);this._dThumb.attrs({x:this._start,width:this._end-this._start,height:this._height}),this._dShadeLeft.attrs({x:-1,width:e,height:this._height}),this._dShadeRight.attrs({x:this._end,width:t,height:this._height}),this._handles[0].setPosition(this._start,this._height/2,this._dimensions),this._handles[1].setPosition(this._end,this._height/2,this._dimensions),this._axisHelper.render()}_createCaptureZones(){super._createCaptureZones(r.default.PROPAGATE_UNHANDLED),this._captureZone.addGesture(o.default),this._options.hoverMode&&this._captureZone.setHoverHandler({in:()=>(0,s.invokeMap)(this._handles,"setVisibility",!0),out:()=>(0,s.invokeMap)(this._handles,"setVisibility",!1)})}_flipHandles(){for(const e of this._handles.reverse())e.flip()}updateCaptureZones(){this._visibility&&(this._captureZone.setDimensionsBasedOnElement(this._dContainer,this._dimensions),this._captureZoneThumb.setDimensionsBasedOnElement(this._dThumb,this._dimensions))}_handleTap(e){var t,i,n,s;null===(i=(t=this._options).callbackStart)||void 0===i||i.call(t),super._handleTap(e),null===(s=(n=this._options).callbackEnd)||void 0===s||s.call(n)}_handleHandleHandled(e,t){let i,n;e.isLeft?(i=t.x+e.width/2-this._dimensions.x,n=this._end+e.width,i>n?(this._flipHandles(),this._start=this._end,this._handleHandleHandled(e,t)):(i=Math.min(i,this._end),this.setRange(i,this._end))):(n=this._start-e.width,i=t.x-e.width/2-this._dimensions.x,i<n?(this._flipHandles(),this._end=this._start,this._handleHandleHandled(e,t)):(i=Math.max(i,this._start),this.setRange(this._start,i)))}setVisibility(e){if(!this._options.hoverMode||!e)for(const t of this._handles)t.setVisibility(e);return super.setVisibility(e)}destroy(){var e;this._handles&&((0,s.invokeMap)(this._handles,"destroy"),delete this._handles),null===(e=this._axisHelper)||void 0===e||e.destroy(),delete this._axisHelper,super.destroy()}}t.default=c},69790:(e,t,i)=>{"use strict";var n=i(15215).Bx;const s=n(i(3565)),r=n(i(86605)),o=i(9525),a=i(58703),l=n(i(99503)),d=n(i(73453));class u extends s.default{startListening(e){super.startListening(e);const t=this._getOverviewModule();return this._presentationModel.setYScale(e.y).setUnavailabilityReason(t.getUnavailabilityReason()),t.on(l.default.DATA_LOADED,this._handleDataLoaded,this),t.on(l.default.AVAILABILITY_CHANGED,this._handleAvailabilityChanged,this),this._presentationModel.setVisibility(t.getOverviewVisibility()),t.on(l.default.VISIBILITY_CHANGED,(0,o.delegate)("_presentationModel","setVisibility"),this),this._eventBus.subscribe("chart/resolution/changed",(0,o.delegate)("_presentationModel","clearOverview"),this),e.isReadyForRender()?this._handleReadyForRender():e.on(d.default.READY_FOR_RENDER,this._handleReadyForRender,this),this}stopListening(){this._getOverviewModule().un(null,this),this._presentationModel.clearModel(),super.stopListening()}_getOverviewModule(){return this._moduleLoader.getModule("overview")}_handleDataLoaded(e){this._visibleWindow.y.domain([e.getMaxValue(),e.getMinValue()]),e.dataPoints.length&&this._presentationModel.setModel(e)}_handleAvailabilityChanged(){this._presentationModel.setUnavailabilityReason(this._getOverviewModule().getUnavailabilityReason())}_handleReadyForRender(){this._handleVisibleWindowMoved(r.default.INITIALISED,r.default.INITIALISED),this._visibleWindow.on(d.default.MOVED,this._handleVisibleWindowMoved,this)}_handleVisibleWindowMoved(e,t){if(e&(r.default.MOVED|r.default.ZOOMED|r.default.INITIALISED)&&this._updateOverviewToCurrentDateRange(),e&(r.default.RESIZED|r.default.INITIALISED)){this._presentationModel.updateWidth(this._visibleWindow.width());const e=this._visibleWindow.visibleDateRange;this._presentationModel.updateMaxRange(e.maxAccDuration()-e.marginAccDuration())}t&(r.default.RESIZED|r.default.INITIALISED)&&this._presentationModel.updateHeight()}updateVDR(e,t){const i=this._presentationModel.convertAcc(t);if(i){const t=i+this._visibleWindow.visibleDateRange.marginAccDuration()+this._visibleWindow.visibleDateRange.pointAccDuration(),n=this._visibleWindow.visibleDateRange.instrumentModelCollection.timeline,s=this._presentationModel.convertAcc(e)-this._visibleWindow.visibleDateRange.pointAccDuration(),r=n?Math.max(s,n.startAccTime()):s;t&&(this._subView.getChartView().moveTo(t,t-r,!0),this._eventBus.publish("tracker/ga",[{interaction_type:a.GA_ACTION.TIMELINE_INTERACTION}]))}}hideOverview(){this._settingsManager.putOverviewVisibilitySettings(!1,!0)}_updateOverviewToCurrentDateRange(){const e=this._visibleWindow.visibleDateRange.instrumentModelCollection.timeline;if(!e)return;const t=this._visibleWindow.visibleDateRange.accStart()+this._visibleWindow.visibleDateRange.pointAccDuration(),i=this._visibleWindow.visibleDateRange.accEnd()-this._visibleWindow.visibleDateRange.marginAccDuration()-this._visibleWindow.visibleDateRange.pointAccDuration(),n=e.asDate(t),s=e.asDate(i);n&&s&&this._presentationModel.setDateRange([n,s])}}t.A=u},49817:(e,t,i)=>{"use strict";var n=i(15215).Bx;Object.defineProperty(t,"__esModule",{value:!0});const s=i(64089),r=n(i(48990)),o=i(9525),a=i(54859),l=n(i(94316)),d=n(i(96962)),u=n(i(83266)),c=i(73036);class h extends r.default{constructor(){super(...arguments),this.marginLeft=0,this.marginRight=0,this.showCloseIcon=!1,this._maxRange=null,this._overviewVisible=!1,this._unavailabilityReason=null,this._xScale=(0,s.scaleLinear)()}getXScale(){return this._xScale}getYScale(){return this._yScale}isVisible(){return this._overviewVisible}isAvailable(){return!this._unavailabilityReason}setUnavailabilityReason(e){return e!==this._unavailabilityReason&&(this._unavailabilityReason=e,this.fire(h.UPDATED)),this}getUnavailabilityLabel(){return this._unavailabilityReason?l.default.get(this._unavailabilityReason):null}isReady(){return this._overviewVisible&&this._dataModel&&!!this._baseInstrumentResolution&&this.width>0}isInitialDataLoaded(){return!!this._dataModel}get width(){const e=this._xScale.range();return e[1]-e[0]}get height(){const e=this._yScale&&this._yScale.range();return e?e[1]-e[0]:null}get visibleRange(){return this._dateRange&&this._dataModel?this._dateRange.map((e=>Math.round(this._xScale(this._dataModel.toAccTime(e))))):null}get maxRange(){return this._maxRange}setYScale(e){return this._yScale=e,this}updateWidth(e){return this._xScale.range([this.marginLeft,e-this.marginRight]),this._notifyOfUpdate(d.default.SCREEN_DIMENSIONS),this}updateHeight(){return this._notifyOfUpdate(d.default.SCREEN_DIMENSIONS),this}updateMaxRange(e){var t;const i=this._maxRange;if(this._baseInstrumentResolution&&this._dataModel)switch(null===(t=this._baseInstrumentResolution.instrumentModel.chartModel)||void 0===t?void 0:t.restrictDuration){case c.RESTRICT_DURATION.SCREEN:{const t=e/this._baseInstrumentResolution.getLastPoint("prices").accTime,i=this._dataModel.getLastAccTime()*t;this._maxRange=Math.round(this._xScale(i)-this._xScale(0));break}case c.RESTRICT_DURATION.DATA:this._maxRange=Math.round(this.width);break;default:this._maxRange=null}this._maxRange!==i&&this._notifyOfUpdate(d.default.AVAILABLE_DATE_RANGE)}setDateRange(e){return this._dateRange=e,this._notifyOfUpdate(d.default.VISIBLE_DATE_RANGE),this}setModel(e){return this._dataModel=e,this._xScale.domain([e.getFirstAccTime(),e.getLastAccTime()]),this._notifyOfUpdate(d.default.DATA_POINTS),this._notifyOfUpdate(d.default.AVAILABLE_DATE_RANGE),this}getLinePoints(){if(!this._dataModel)return[];const e=this._yScale.range()[1],t=this._dataModel,i=t.dataPoints.map((e=>({x:this._xScale(e.accTime),y:this._yScale(e.value)})));return i.push({x:this._xScale(t.getLastAccTime()),y:e}),i.push({x:this._xScale(t.getFirstAccTime()),y:e}),i}setVisibility(e){const t=this._overviewVisible;this._overviewVisible=e,!t&&e?this.fire(h.OVERVIEW_CREATE):t&&!e&&this.fire(h.OVERVIEW_REMOVE)}clearOverview(e){delete this._baseInstrumentResolution,delete this._dataModel,delete this._dateRange,e&&(this._baseInstrumentResolution=e),this.fire(h.UPDATED,d.default.DATA_POINTS)}getXTicks(){const e=this._getXTicks(u.default.RANGE_TICK_TYPE);let t=this._getXTicks(u.default.INDIVIDUAL_TICK_TYPE);if(t.length&&e.length&&t[0].unit!==e[0].unit){const i=e.map((function(e){return{tickMajor:e,laterTicksMinor:t.filter((function(t){return t.date>=e.date}))}})).filter((0,o.plucker)("laterTicksMinor.length"));i.length>.5*t.length?t=e:i.forEach((function(e){const t=e.laterTicksMinor[0].accTime;(0,a.merge)(e.laterTicksMinor[0],e.tickMajor,!0),e.laterTicksMinor[0].accTime=t}))}return t}getUserTimeZone(){return this._baseInstrumentResolution&&this._baseInstrumentResolution.info?this._baseInstrumentResolution.info.getUserTimeZone():null}_doesTickFitAtRightEdge(e){return e.accTime+50<this.width}_getXTicks(e){if(!this._dataModel||!this._baseInstrumentResolution)return[];const t=this._getIterator(e),i=u.default.extendDateRangeForOffscreenTicks(this._getDateRange(),t),n=u.default.getInstanceTicks(i,t,function(e,t){return{asAccTime:function(e){return Math.max(this._xScale(this._dataModel.toAccTime(e)),0)}.bind(e),closestIntervalForDate:function(){return{start:t[0],end:t[1]}}}}(this,i),!1,75,e===u.default.RANGE_TICK_TYPE?"major":"minor");return n.filter(this._doesTickFitAtRightEdge,this)}_getDateRange(){return[this._dataModel.startDate,this._dataModel.endDate]}_getIterator(e){const t=this._getDateRange(),i=(t[1].valueOf()-t[0].valueOf())/this.width;return u.default.getTickIterator(e,i,30,this._baseInstrumentResolution.period,this.getUserTimeZone())}_notifyOfUpdate(e){this._dataModel&&this.fire(h.UPDATED,e)}convertAcc(e){var t;return null===(t=this._baseInstrumentResolution.instrumentModel.timeline)||void 0===t?void 0:t.asAccTime(this._dataModel.toDate(e))}clearModel(){this._dataModel&&(this._dataModel.destroy(),delete this._dataModel)}destroy(){this.clearModel(),super.destroy()}}h.OVERVIEW_CREATE="OVERVIEW_CREATE",h.OVERVIEW_REMOVE="OVERVIEW_REMOVE",h.HANDLE_POSITION_CHANGED="HANDLE_POSITION_CHANGED",h.UPDATED="UPDATED",t.default=h},73685:(e,t,i)=>{"use strict";const n=(0,i(15215).ut)(i(38108));class s extends n.default{constructor(){super(...arguments),this._visible=!1,this.positions=[{name:"main",clipPathNeeded:!0}]}getPositionType(){return n.POSITION_TYPE.FIXED}getFixedHeight(){return this._visible&&this._properties?this._properties.height:0}toggle(e){this._visible=e}updateDimensions(e,t,i,n){super.updateDimensions(e,t,i,i),this._getClipRectsForPosition("main").attrs({x:0,y:0,width:e.width,height:e.height})}}t.A=s},25163:(e,t,i)=>{"use strict";var n=i(15215).Bx;const s=i(43130),r=i(96176),o=n(i(87529)),a=n(i(21121)),l=n(i(49817)),d=n(i(96962)),u=n(i(21313)),c=i(10094),h=n(i(38108)),p=(0,r.line)();p.x((function(e){return(0,c.roundToDecimalPlaces)(e.x,3)})),p.y((function(e){return(0,c.roundToDecimalPlaces)(e.y,3)})),p.curve(r.curveLinear);class _ extends a.default{constructor(){super(...arguments),this._feedbackInverted=!1,this._hoverMode=!1}withHoverMode(e){return this._hoverMode=e,this}startRedrawingBasedOnChangesInVisibleWindow(){super.startRedrawingBasedOnChangesInVisibleWindow(),this._presentationModel.on(l.default.UPDATED,this.markForUpdate,this),this._presentationModel.on(l.default.OVERVIEW_CREATE,this._createDom,this),this._presentationModel.on(l.default.OVERVIEW_REMOVE,this._clearDom,this),this._subView.on(h.default.DIMENSIONS_CHANGED,this._updateDimensions,this)}stopRedrawingBasedOnChangesInVisibleWindow(){this._presentationModel.un(null,this),this._subView.un(null,this),super.stopRedrawingBasedOnChangesInVisibleWindow()}initDom(){return this._dBackground=this.dContainer.append("rect").classed("overviewBackground",!0),this._overviewFill=this.dContainer.append("path").classed("overviewFill",!0),this._overviewLine=this.dContainer.append("path").classed("overviewPath",!0),this._presentationModel.isVisible()&&this._createDom(),this}_createDom(){if(this._spinner)throw new Error("Lifecycle issue, spinner already exists");if(this._spinner=o.default.create(),this._spinner.initDom(this.dContainer),this._updateSpinnerVisibility(),this._scroll)throw new Error("Lifecycle issue, scroll already exists");this._scroll=u.default.create({hoverMode:this._hoverMode,callback:this._handleVDRUpdate.bind(this),callbackStart:()=>this._feedbackInverted=!0,callbackEnd:()=>this._feedbackInverted=!1},this._captureZoneManager,this._animationPoller,this._presentationModel).initDom(this.dContainer).setVisibility(!1),this.markAllForUpdate()}render(){this._presentationModel.isVisible()&&(this.renderMarkedForUpdate(d.default.SCREEN_DIMENSIONS,this._updateContentsDimensions),this.renderMarkedForUpdate(d.default.DATA_POINTS,this._updatePriceLine),this.renderMarkedForUpdate(d.default.AVAILABLE_DATE_RANGE,this._applyRangeLimits),this.renderMarkedForUpdate(d.default.VISIBLE_DATE_RANGE,this._updateVisibleSection)),this._updateSpinnerVisibility()}_updatePriceLine(){const e=this._presentationModel.getLinePoints();if(e.length<=0)return!1;const t=p(e);return this._overviewFill.attr("d",t),this._overviewLine.attr("d",t.replace(/L[\d.]+,[\d.]+L[\d.]+,[\d.]+$/,"")),this._scroll.setVisibility(!0),!0}_updateVisibleSection(){if(this._feedbackInverted)return!1;if(this._scroll){const e=this._presentationModel.visibleRange;if(e)return this._scroll.setRange(...e),!0}return!1}_updateContentsDimensions(){return this.forceRender(d.default.DATA_POINTS,this._updatePriceLine),!0}_applyRangeLimits(){return!!this._scroll&&(this._scroll.setMinMax(this._presentationModel.marginLeft,null).withMaxRange(this._presentationModel.maxRange),!0)}_updateDimensions(e){if(e){const t=(0,s.pick)(e,"width","height");this._dBackground.attrs(t),this._scroll&&this._scroll.setDimensions(e),this._spinner&&this._spinner.attrs(t)}}_handleVDRUpdate(e,t){if(!this._feedbackInverted)return;const i=this._presentationModel.getXScale();this._presentationController.updateVDR(i.invert(e),i.invert(t))}_updateSpinnerVisibility(){this._spinner&&(this._presentationModel.isAvailable()&&!this._presentationModel.isInitialDataLoaded()?this._spinner.show():this._spinner.hide())}_clearDom(){var e,t;null===(e=this._overviewFill)||void 0===e||e.attr("d",null),null===(t=this._overviewLine)||void 0===t||t.attr("d",null),this._spinner&&(this._spinner.destroy(),delete this._spinner),this._scroll&&(this._scroll.destroy(),delete this._scroll)}destroy(){var e;this._clearDom();for(const t of["_dBackground","_overviewFill","_overviewLine"])null===(e=this[t])||void 0===e||e.remove(),delete this[t];super.destroy()}}t.A=_},22177:(e,t,i)=>{"use strict";var n=i(15215).Bx;const s=i(5338),r=i(96540),o=n(i(31557)),a=n(i(66660)),l=n(i(10644)),d=i(20825),u=[l.default.IG_DARK,l.default.NWTP_DARK],c=[l.default.IG_NAVY,l.default.NWTP_NAVY];t.A=class{newComponent(e,t,i,n){if(!this._captureZoneManager)throw new Error(`No capture zone manager set when trying to create new component: ${e.name}`);return new a.default(e,t,i,this._captureZoneManager,this,n||void 0)}render(e){return this._render(e)}destroyComponent(e){this._destroyComponent(e),this._render()}set theme(e){u.includes(e)?this._theme=d.darkTheme:c.includes(e)?this._theme=d.navyTheme:this._theme=d.lightTheme,this._render()}constructor(e,t,i,n,s,r,o,a){this._eventBus=e,this._options=t,this._containerProvider=r,this._taskManager=a,this._portals={},this._theme=d.lightTheme,e.subscribe("chart/view/ready",this._handleChartViewReady,this)}_handleChartViewReady(e,t){this._captureZoneManager=t}init(){const e=this._containerProvider.getContainer("react-root");this._reactRoot=(0,s.createRoot)(e.node(),{identifierPrefix:"char"}),this._render()}destroy(){var e;null===(e=this._reactRoot)||void 0===e||e.unmount(),this._eventBus.unsubscribe("chart/view/ready",this._handleChartViewReady,this),delete this._reactRoot}_render(e){var t;e&&(this._portals[e.key]=e),null===(t=this._reactRoot)||void 0===t||t.render((0,r.createElement)(o.default,{theme:this._theme,preferMobileControls:!!this._options.preferMobileFriendlyComponents},Object.values(this._portals)))}_destroyComponent(e){delete this._portals[e]}}},31557:(e,t,i)=>{"use strict";var n=i(15215).Bx;Object.defineProperty(t,"__esModule",{value:!0});const s=i(74848),r=i(92568),o=n(i(23117));t.default=({children:e,theme:t,preferMobileControls:i})=>(0,s.jsx)(r.ThemeProvider,Object.assign({theme:t},{children:(0,s.jsx)(o.default.Provider,Object.assign({value:i},{children:e}))}))},55137:(e,t,i)=>{"use strict";var n=i(15215).Bx,s=i(15215).ut;Object.defineProperty(t,"__esModule",{value:!0});const r=i(74848),o=i(96540),a=n(i(23117)),l=s(i(92568)),d=i(37417),u=l.default.div((({$size:e,theme:{size:t}})=>l.css`
   cursor: pointer;
   margin-right: ${t.spacers[1].value};
   padding-left: 2px;
   position: relative;
   width: ${e};
   height: ${e};
`)),c=(0,l.default)(d.ReactComponent)`
   fill: ${({$fill:e})=>e||"#1D5890"};
   width: ${({$size:e})=>e};
   height: ${({$size:e})=>e};
`,h=l.default.div((({$isVisible:e,theme:{size:t}})=>l.css`
   visibility: ${e?"visible":"hidden"};
   position: absolute;
   top: -100%;

   // using a tooltip wrapper with padding, rather than 'right' attr on the tooltip itself so that hover event
   // triggers when in the gap to the left between icon and tooltip.  Otherwise, user would not be able to move
   // cursor over to the tooltip without it hiding.
   right: 0;
   padding-right: calc(100% + ${t.spacers[2].value});
`)),p=l.default.div((({theme:{color:e,size:t}})=>{const i="8px";return l.css`
      width: 240px;
      border: 1px solid ${e.hoverableInfoIcon.border.value};
      background: ${e.hoverableInfoIcon.background.value};
      border-radius: 4px;
      padding: ${t.spacers[4].value};
      box-shadow: 0 4px 8px 0 #26262929;

      &:before, &:after {
         content: " ";
         position: absolute;
         top: 24px;
         margin-top: -${i};
         border-width: ${i};
         border-style: solid;
         border-color: transparent;
      }

      &:before {
         right: calc(${i} + 2px);
         border-left-color: ${e.hoverableInfoIcon.border.value};
      }

      &:after {
         right: calc(${i} + 3px);
         border-left-color: ${e.hoverableInfoIcon.background.value};
      }
   `}));t.default=({iconFill:e,size:t="small",handleShowMobileDialog:i,children:n})=>{const s=(0,o.useId)(),[l,d]=(0,o.useState)(!1),_={small:"16px",large:"24px"};if((0,o.useContext)(a.default))return(0,r.jsx)(u,Object.assign({onClick:i,$size:_[t]},{children:(0,r.jsx)(c,{"aria-describedby":s,tabIndex:0,$fill:e,$size:_[t]})}));const g=()=>d(!0),f=()=>d(!1);return(0,r.jsxs)(u,Object.assign({onMouseEnter:g,onMouseLeave:f,onFocus:g,onBlur:f,$size:_[t]},{children:[(0,r.jsx)(c,{"aria-describedby":s,tabIndex:0,$fill:e,$size:_[t]}),(0,r.jsx)(h,Object.assign({role:"tooltip",id:s,$isVisible:l},{children:(0,r.jsx)(p,{children:n})}))]}))}},38035:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=i(74848);t.default=({children:e,onPortalRender:t})=>(0,n.jsx)("div",Object.assign({ref:t},{children:e}))},21371:(e,t,i)=>{"use strict";var n=i(15215).Bx,s=i(15215).ut;Object.defineProperty(t,"__esModule",{value:!0});const r=i(74848),o=i(96540),a=n(i(23117)),l=s(i(92568)),d=i(32458),u=n(i(10520)),c=l.default.div((({$preferMobileControls:e})=>l.css`
   position: absolute;
   width: 100%;
   height: 100%;
   z-index: ${u.default.DIALOG};
   display: flex;
   justify-content: center;
   align-items: center;

   ${e&&l.css`
      background-color: rgba(0,0,0,0.7);
   `}
`)),h=l.default.div((({$preferMobileControls:e,theme:{color:t}})=>l.css`
   vertical-align: middle;
   position: absolute;
   background-color: ${e?t.dialog.mobile.background.value:t.dialog.desktop.background.value};
   display: flex;
   flex-direction: column;
   box-shadow: 0 4px 8px #26262929;
   border: 1px solid ${t.dialog.border.value};
   max-height: 90%;
`)),p=(0,l.default)(d.ReactComponent)`
   width: 14px;
   height: 14px;
   cursor: pointer;
`,_=l.default.div((({$preferMobileControls:e,theme:{size:t,color:i}})=>l.css`
   display: flex;
   flex-direction: row;
   font-size: ${e?t.dialog.mobile.text.value:t.dialog.desktop.text.value};
   justify-content: space-between;
   padding: ${e?t.spacers[3].value:t.spacers[2].value};
   border-bottom: 1px solid ${i.dialog.border.value};
   font-weight: bold;
   line-height: 22px; // matches the 14px size of the close button plus the 4px padding either side to centre the text
   vertical-align: middle;
`)),g=l.default.div((({$preferMobileControls:e,theme:{size:t}})=>l.css`
   display: flex;
   flex-direction: column;
   font-size: ${e?t.dialog.mobile.text.value:t.dialog.desktop.text.value};
   justify-content: space-between;
   padding: ${e?t.spacers[3].value:t.spacers[2].value};
   overflow-y: hidden;
`));t.default=({handleClose:e,title:t,className:i,children:n})=>{const s=(0,o.useId)(),l=(0,o.useId)(),d=(0,o.useContext)(a.default);return(0,r.jsx)(c,Object.assign({$preferMobileControls:d},{children:(0,r.jsxs)(h,Object.assign({$preferMobileControls:d,role:"dialog","aria-labelledby":s,"aria-describedby":l,className:`dialog ${i||""}`,title:t},{children:[(0,r.jsxs)(_,Object.assign({$preferMobileControls:d},{children:[(0,r.jsx)("span",Object.assign({className:"dialogTitle",id:s},{children:t})),(0,r.jsx)(p,{role:"button",onClick:e,className:"closeIcon"})]})),(0,r.jsx)(g,Object.assign({$preferMobileControls:d,className:"body",id:l},{children:n}))]}))}))}},48185:(e,t,i)=>{"use strict";var n=i(15215).ut;Object.defineProperty(t,"__esModule",{value:!0});const s=i(74848),r=n(i(92568)),o=i(42754),a=r.default.div((({theme:{color:e}})=>r.css`
   display: flex;
   flex-direction: row;
   justify-content: flex-end;
   gap: 16px;
   margin-top: 8px;

   // this selector checks for any invalid form that is a sibling of this container, then styles the done button
   // appropriately. This avoids us having to lift validity state up to the dialog class and it can just be handled here
   form:invalid ~ & .doneButton {
      cursor: default;
      background-color: ${e.button.disabled.background.value};
      color: ${e.button.disabled.text.value};
      border: 1px solid ${e.button.secondary.border.value};
   }
`)),l=r.default.button((({theme:{color:e},disabled:t,$isCommit:i})=>r.css`
   box-sizing: border-box;
   border-radius: 4px;
   font-weight: 500;
   line-height: 20px;
   min-width: 32px;
   height: 32px;
   font-size: 15px;
   padding: 6px 24px;

   cursor: pointer;
   box-shadow: ${i?e.button.commit.shadow.value:e.button.primary.shadow.value};
   background-color: ${i?e.button.commit.background.value:e.button.primary.background.value};
   color: ${i?e.button.commit.text.value:e.button.primary.text.value};
   border: 1px solid ${i?e.button.commit.border.value:e.button.primary.border.value};

   &:hover {
      background-color: ${i?e.button.commit.hover.background.value:e.button.primary.hover.background.value};
   }
`)),d=r.default.button((({theme:{color:e}})=>r.css`
   box-sizing: border-box;
   border-radius: 4px;
   font-weight: 500;
   line-height: 20px;
   min-width: 32px;
   height: 32px;
   font-size: 15px;
   padding: 6px 24px;
   background-color: ${e.button.disabled.background.value};
   color: ${e.button.disabled.text.value};
   border: 1px solid ${e.button.secondary.border.value};
`)),u=(0,r.default)(o.ReactComponent)`
   width: 18px;
   height: 18px;
`,c=r.default.button((({theme:{color:e}})=>r.css`
   cursor: pointer;
   box-sizing: border-box;
   box-shadow: ${e.button.secondary.shadow.value};
   border-radius: 4px;
   font-weight: 500;
   line-height: 20px;
   min-width: 32px;
   height: 32px;
   font-size: 15px;
   padding: 6px 24px;
   background-color: ${e.button.secondary.background.value};
   color: ${e.button.secondary.text.value};
   border: 1px solid ${e.button.secondary.border.value};

   &:hover {
      background-color: ${e.button.secondary.hover.background.value};
   }
`));t.default=({submitButtonDetails:e,cancelButtonDetails:t,isCommit:i=!1,formFor:n})=>{var r,o;return(0,s.jsxs)(a,{children:[t?(0,s.jsx)(c,Object.assign({onClick:null!==(r=null==t?void 0:t.onClick)&&void 0!==r?r:void 0,className:"cancelButton",type:"button"},{children:t.label})):null,e.loading?(0,s.jsx)(d,Object.assign({className:"doneButton loadingSpinner"},{children:(0,s.jsx)(u,{})})):(0,s.jsx)(l,Object.assign({type:e.onClick?"button":"submit",onClick:null!==(o=e.onClick)&&void 0!==o?o:void 0,className:"doneButton",$isCommit:i,form:n},{children:e.label}))]})}},23117:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=(0,i(96540).createContext)(!1);t.default=n},66660:(e,t,i)=>{"use strict";var n=i(15215).Bx;Object.defineProperty(t,"__esModule",{value:!0});const s=i(96540),r=i(40961),o=n(i(38035)),a=n(i(10520)),l=i(84039),d=n(i(50951)),u=n(i(25322));let c=0;t.default=class{constructor(e,t,i,n,s,r){this.recentProps=t,this._container=i,this._reactUI=s,this._onRenderPromiseResolvers=[],this._id="portal-"+c++,this._component=e,r&&(this._blockingCaptureZone=n.createZone(r,d.default.BLOCK_ALL,a.default.MAX),this._blockingCaptureZone instanceof u.default&&this._blockingCaptureZone.withAssociatedElement((0,l.select)(i)))}render(e){return this.recentProps=Object.assign(Object.assign({},this.recentProps),e),new Promise((e=>{this._onRenderPromiseResolvers.push(e),this._reactUI.render((0,r.createPortal)((0,s.createElement)(o.default,{onPortalRender:()=>{for(this._blockingCaptureZone instanceof u.default&&this._blockingCaptureZone.setDimensionsBasedOnAssociatedElement();this._onRenderPromiseResolvers.length>0;)this._onRenderPromiseResolvers.shift()()}},(0,s.createElement)(this._component,this.recentProps)),this._container,this._id))}))}unmount(){var e;null===(e=this._blockingCaptureZone)||void 0===e||e.destroy(),this._reactUI.destroyComponent(this._id)}}},18346:(e,t,i)=>{"use strict";var n=i(15215).Bx;Object.defineProperty(t,"__esModule",{value:!0});const s=n(i(3565)),r=i(16941),o=n(i(61568)),a=n(i(47392));class l extends s.default{get containerProvider(){return this._containerProvider}openDialog(e){this._taskManager.startTask(Object.assign(Object.assign({},a.default.NON_CONCURRENT_DIALOG),{ID:`${e.name}_TASK`}),{onActivated:()=>{this._presentationModel.setStateFor(e,r.DialogState.OPEN)},onDestroyed:()=>{this._presentationModel.setStateFor(e,r.DialogState.CLOSED)},hotkeyMap:{[o.default.ESCAPE]:()=>{this.closeDialog(e)}}})}closeDialog(e){this._taskManager.finishTask(`${e.name}_TASK`)}closeAllDialogs(){for(const[e,t]of this._presentationModel.dialogState.entries())t!==r.DialogState.CLOSED&&this.closeDialog(e)}}t.default=l},16941:(e,t,i)=>{"use strict";var n=i(15215).Bx;Object.defineProperty(t,"__esModule",{value:!0}),t.DialogState=t.DIALOG_UPDATED=void 0;const s=n(i(48990));var r;t.DIALOG_UPDATED="DIALOG_UPDATED",function(e){e[e.CLOSED=0]="CLOSED",e[e.OPEN=1]="OPEN",e[e.PENDING=2]="PENDING",e[e.FAILED=3]="FAILED"}(r=t.DialogState||(t.DialogState={}));class o extends s.default{constructor(){super(...arguments),this.dialogState=new Map}stateFor(e){return this.dialogState.get(e)||r.CLOSED}setStateFor(e,i){i!==this.stateFor(e)&&(this.dialogState.set(e,i),this.fire(t.DIALOG_UPDATED))}}t.default=o},78415:(e,t,i)=>{"use strict";var n=i(15215).Bx;Object.defineProperty(t,"__esModule",{value:!0});const s=n(i(85690)),r=n(i(13365)),o=i(16941);class a extends s.default{constructor(e,t,i,n,s){super(e,t,i,n,s)}withDialogClass(e){return this._dialogClass=e,this}startRedrawingBasedOnChangesInVisibleWindow(){this._presentationModel.on(o.DIALOG_UPDATED,this._handleDialogUpdate,this)}stopRedrawingBasedOnChangesInVisibleWindow(){this._presentationModel.un(null,this)}_shouldDialogBeDrawn(){return this._presentationModel.stateFor(this._dialogClass)!==o.DialogState.CLOSED}_handleDialogUpdate(){!this._dialog&&this._shouldDialogBeDrawn()?(this._dialog=this._reactUI.newComponent(this._dialogClass,{model:this._presentationModel,controller:this._presentationController},this._presentationController.containerProvider.getContainer("react-root").node(),r.default),this._dialog.render()):this._dialog&&!this._shouldDialogBeDrawn()?(this._dialog.unmount(),delete this._dialog):this._dialog&&this._dialog.render()}destroy(){var e;null===(e=this._dialog)||void 0===e||e.unmount(),delete this._dialog,super.destroy()}}t.default=a},20825:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.navyTheme=t.darkTheme=t.lightTheme=void 0;const i={size:{spacers:{0:{value:"0px"},1:{value:"4px"},2:{value:"8px"},3:{value:"16px"},4:{value:"24px"},5:{value:"32px"},6:{value:"40px"},7:{value:"48px"},8:{value:"56px"},9:{value:"64px"},10:{value:"72px"},11:{value:"80px"},12:{value:"160px"}},checkbox:{medium:{height:{value:"16px"},width:{value:"16px"}}},input:{text:{value:"12px"},label:{text:{value:"12px"}}},numberInput:{borderRadius:{value:"2px"},border:{value:"1px"},minHeight:{value:"24px"},paddingLeft:{value:"4px"},paddingRight:{value:"4px"}},priceLadder:{borderRadius:{value:"4px"}},button:{borderRadius:{value:"4px"},small:{text:{value:"13px"},lineHeight:{value:"20px"},height:{value:"24px"},paddingTop:{value:"2px"},paddingBottom:{value:"2px"},paddingLeft:{value:"8px"},paddingRight:{value:"8px"}}},dealingTicket:{text:{value:"13px"},info:{text:{value:"12px"}}},dialog:{desktop:{text:{value:"13px"}},mobile:{text:{value:"16px"}},padding:{value:"16px"}}},color:{text:{tertiary:{value:"#6A7787"},secondary:{value:"#5A5E5F"},primary:{value:"#11203E"},inverted:{value:"#FFFFFF"}},button:{commit:{shadow:{value:"#26262929"},text:{value:"#FFFFFF"},border:{value:"#257425"},active:{background:{value:"#257425"}},hover:{background:{value:"#318731"}},background:{value:"#277A27"}},primary:{shadow:{value:"#26262929"},text:{value:"#FFFFFF"},border:{value:"#2B70AE"},active:{background:{value:"#215D93"}},hover:{background:{value:"#2F7ABD"}},background:{value:"#2B70AE"}},secondary:{shadow:{value:"#26262929"},text:{value:"#11203E"},border:{value:"#CBD4D5"},active:{background:{value:"#EAF1F2"}},hover:{background:{value:"#F0F6F6"}},background:{value:"#F8FAFA"}},disabled:{text:{value:"#9A9AA2"},background:{value:"#E1E1E3"}}},checkbox:{active:{background:{value:"#002954"},border:{value:"#002954"}},border:{value:"#B5BDBE"}},numberInput:{text:{value:"#11203E"},border:{value:"#B5BDBE"},background:{value:"#FFFFFF"},spinner:{icon:{value:"#3987CC"},disabled:{icon:{value:"#D8D8DC"}}}},input:{text:{value:"#11203E"},active:{border:{value:"#206EB4"}},border:{value:"#B5BDBE"},background:{value:"#FFFFFF"}},priceLadder:{background:{value:"#FFFFFF"},chevron:{value:"#5A5E5F"},recentTrades:{text:{value:"#6A7787"},timer:{value:"#206EB4"},size:{text:{value:"#2B70AE"}}}},table:{border:{value:"#E2ECED"},headerCell:{value:"#F8FAFA"},highlightedCell:{value:"#E8EDF1"}},hoverableInfoIcon:{background:{value:"#FFFFFF"},border:{value:"#D8D8DC"}},dealingTicket:{info:{background:{value:"#ebebed"}},placeDealButton:{text:{value:"#fdfdfd"},background:{value:"#5f9c42"},border:{value:"#5f9c42"},disabled:{text:{value:"#fdfdfd"},background:{value:"#b1b3b1"},border:{value:"#b1b3b1"}}}},indicativeCosts:{link:{text:{value:"#206EB4"},disabled:{text:{value:"#9696a3"}}}},dialog:{desktop:{background:{value:"#f0f5f6"}},mobile:{background:{value:"#FFFFFF"}},border:{value:"#e2eced"},closePosition:{positiveMarginColour:{value:"#337ab9"},negativeMarginColour:{value:"#cb181a"},iccDisplayBackground:{value:"#f8fafa"},iccDisplayLink:{value:"#206eb4"},iccDisplayLinkDisabled:{value:"#738192"}}},mobileMenu:{background:{value:"#EAF1F2"},submenuBackground:{value:"#F8FAFA"},selectedOption:{value:"#CDDDDE"}}}};t.lightTheme=i;const n=Object.assign(Object.assign({},i),{color:Object.assign(Object.assign({},i.color),{text:Object.assign(Object.assign({},i.color.text),{tertiary:{value:"#8292A6"},secondary:{value:"#8292A6"},primary:{value:"#F0F5F6"}}),button:{disabled:{text:{value:"#5D6772"},background:{value:"#303C4A"}},secondary:{text:{value:"#FFFFFF"},border:{value:"#6A7787"},active:{background:{value:"#212B36"}},hover:{background:{value:"#3A4654"}},background:{value:"#303C4A"},shadow:{value:"#26262929"}},commit:{text:{value:"#FFFFFF"},border:{value:"#257425"},active:{background:{value:"#246C24"}},hover:{background:{value:"#318731"}},background:{value:"#277A27"},shadow:{value:"#26262929"}},primary:{shadow:{value:"#26262929"},text:{value:"#FFFFFF"},border:{value:"#58B0FE"},active:{background:{value:"#215D93"}},hover:{background:{value:"#2F7ABD"}},background:{value:"#2B70AE"}}},checkbox:{active:{background:{value:"#0689FE"},border:{value:"#0689FE"}},border:{value:"#3D4A5B"}},numberInput:Object.assign(Object.assign({},i.color.numberInput),{text:{value:"#F0F5F6"},border:{value:"#3D4A5B"},background:{value:"#11171C"},spinner:Object.assign(Object.assign({},i.color.numberInput.spinner),{icon:{value:"#37A1FF"}})}),input:Object.assign(Object.assign({},i.color.input),{text:{value:"#F0F5F6"},active:{border:{value:"#0689FE"}},border:{value:"#3D4A5B"},background:{value:"#11171C"}}),priceLadder:Object.assign(Object.assign({},i.color.priceLadder),{background:{value:"#192129"},recentTrades:{text:{value:"#8292A6"},timer:{value:"#4DABFE"},size:{text:{value:"#2794F5"}}}}),table:{border:{value:"#303C4A"},headerCell:{value:"#212B36"},highlightedCell:{value:"#233545"}},hoverableInfoIcon:{background:{value:"#37373f"},border:{value:"#3D4A5B"}},dealingTicket:{info:{background:{value:"#3d3d45"}},placeDealButton:{text:{value:"#e2e2e2"},background:{value:"#54ac55"},border:{value:"#2e852f"},disabled:{text:{value:"#5f6066"},background:{value:"#3d3d45"},border:{value:"#5f6066"}}}},dialog:Object.assign(Object.assign({},i.color.dialog),{mobile:{background:{value:"#303C4A"}},desktop:{background:{value:"#37373f"}},border:{value:"#5f6066"},closePosition:Object.assign(Object.assign({},i.color.dialog.closePosition),{iccDisplayBackground:{value:"#212b36"},iccDisplayLink:{value:"#206eb4"},iccDisplayLinkDisabled:{value:"#738192"}})})})});t.darkTheme=n;const s=Object.assign(Object.assign({},n),{color:Object.assign(Object.assign({},n.color),{button:{disabled:{text:{value:"#525B7D"},background:{value:"#1B2A53"}},secondary:{shadow:{value:"#26262929"},text:{value:"#EFF0F2"},border:{value:"#596183"},active:{background:{value:"#596183"}},hover:{background:{value:"#3A4654"}},background:{value:"#70799E"}},commit:{shadow:{value:"#26262929"},text:{value:"#EFF0F2"},border:{value:"#9CD29D"},active:{background:{value:"#257425"}},hover:{background:{value:"#318731"}},background:{value:"#3BA43B"}},primary:{shadow:{value:"#26262929"},text:{value:"#0B1E44"},border:{value:"#243769"},active:{background:{value:"#99A2C2"}},hover:{background:{value:"#2F7ABD"}},background:{value:"#C3C9DF"}}},checkbox:Object.assign(Object.assign({},n.color.checkbox),{active:{background:{value:"#C3C9DF"},border:{value:"#C3C9DF"}},border:{value:"#99A2C2"}}),numberInput:Object.assign(Object.assign({},n.color.numberInput),{spinner:Object.assign(Object.assign({},n.color.numberInput.spinner),{icon:{value:"#C3C9DF"}})}),input:Object.assign(Object.assign({},n.color.input),{text:{value:"#EFF0F2"},border:{value:"#99A2C2"},background:{value:"#0D1530"}}),priceLadder:{background:{value:"#0D1530"},chevron:{value:"#C3C9DF"},recentTrades:{text:{value:"#70799E"},timer:{value:"#37A1FF"},size:{text:{value:"#FF433D"}}}},table:Object.assign(Object.assign({},n.color.table),{border:{value:"#243769"},headerCell:{value:"#0B1E44"},highlightedCell:{value:"#233545"}}),hoverableInfoIcon:{background:{value:"#0B1E44"},border:{value:"#99A2C2"}},dealingTicket:{info:{background:{value:"#1b2a53"}},placeDealButton:{text:{value:"#eff0f2"},background:{value:"#257425"},border:{value:"#9CD29D"},disabled:{text:{value:"#70799e"},background:{value:"#0B1E44"},border:{value:"#70799e"}}}},dialog:Object.assign(Object.assign({},n.color.dialog),{mobile:{background:{value:"#0B1E44"}},desktop:{background:{value:"#0d1d3e"}},border:{value:"#70799e"}})})});t.navyTheme=s},5037:(e,t,i)=>{"use strict";var n=i(15215).Bx;Object.defineProperty(t,"__esModule",{value:!0});const s=n(i(70187)),r=n(i(35457)),o=i(43130),a=n(i(37243)),l=n(i(31362));class d extends s.default{constructor(e,t,i,n,s){super(e,i,n,s),this._availableResolutions=t}static create(e,t,i,n,s){return new d(e,t,i,n,s)}initDom(e){return this._resolutionInput=l.default.create(),this._resolutionInput.initDom(e),this._resolutionInput.addFilter(this._sanitizeInterval()),this._resolutionInput.focus(),this._resolutionInput.on(l.default.PASTE,this._handlePaste,this),this._resolutionInput.on(l.default.INPUT,this._handleInput,this),this._resolutionMessage=e.append("span").classed("resolutionDialogMessage",!0),this}withResolutionValue(e){return this._resolutionInput.setValue(e),this._handleInput(),this}getResolutionValue(){return this._getMatchingResolution()}_handlePaste(e){e.preventDefault()}_getMatchingResolution(){const e=this._resolutionInput.getValue(),t=(0,o.keys)(this._availableResolutions);return(0,o.find)(t,(t=>function(e,t){return""!==e&&e.toLowerCase()===a.default[t]}(e,t)))||(0,o.find)(t,(t=>function(e,t){return""!==e&&a.default[t].startsWith(e)}(e,t)))||""}_handleInput(){this._getMatchingResolution()?this._resolutionMessage.text(r.default.get(this._getMatchingResolution())):this._resolutionMessage.text("")}_sanitizeInterval(){return{onKeyPressed:e=>{const t=((this._resolutionInput.getValue()||"")+e.key).toLowerCase();return(0,o.keys)(this._availableResolutions).some((e=>a.default[e].startsWith(t)))},onKeyUp:()=>!0}}destroy(){super.destroy(),this._resolutionInput&&(this._resolutionInput.destroy(),delete this._resolutionInput)}}t.default=d},98648:(e,t,i)=>{"use strict";var n=i(15215).Bx;const s=n(i(47292)),r=n(i(48202)),o=n(i(47392)),a=n(i(5037)),l=n(i(37243));class d extends s.default{constructor(e,t,i,n,s){super(e,t,i),this._settingsManager=n,this._availableResolutions=function(e){const t={};for(const i in l.default)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}(s)}static create(e,t,i,n,s){return new d(e,t,i,n,s)}withSetValue(e){const t=e||"";return this.content.withResolutionValue(t),this}done(){this.fire(s.default.DONE,this.content.getResolutionValue())}_getDialogClasses(){return"resolutionDialog"}_createContent(e){return a.default.create(this,this._availableResolutions,this._eventBus,this._captureZoneManager,this._taskManager).initDom(e)}_createHeader(e){super._createHeader(e,!1)}_getDialogTitle(){return r.default.get("resolutions")}_getTaskConfig(){return o.default.NON_CONCURRENT_DIALOG}}t.A=d},37243:(e,t)=>{"use strict";var i;Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.TICK="1t",e.SECOND="1s",e.TEN_SECONDS="10s",e.MINUTE="1",e.TWO_MINUTES="2",e.THREE_MINUTES="3",e.FIVE_MINUTES="5",e.TEN_MINUTES="10",e.FIFTEEN_MINUTES="15",e.THIRTY_MINUTES="30",e.HOUR="1h",e.TWO_HOURS="2h",e.THREE_HOURS="3h",e.FOUR_HOURS="4h",e.DAY="1d",e.WEEK="1w",e.MONTH="1m"}(i||(i={})),t.default=i},60130:(e,t)=>{"use strict";var i;Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.SINGLE="single",e.OVER_AND_UNDER="over-and-under",e.SIDE_BY_SIDE="side-by-side",e.SPLIT_BOTTOM="split-bottom",e.SPLIT_TOP="split-top",e.GRID="grid"}(i||(i={})),t.default=i},24556:(e,t,i)=>{"use strict";var n=i(15215).Bx;Object.defineProperty(t,"__esModule",{value:!0});const s=n(i(95151));t.default=new s.default({de:{single:"1 Chart","side-by-side":"2 Charts","over-and-under":"2 Charts","split-bottom":"3 Charts","split-top":"3 Charts",grid:"4 Charts"},en:{single:"1 Chart","side-by-side":"2 Charts","over-and-under":"2 Charts","split-bottom":"3 Charts","split-top":"3 Charts",grid:"4 Charts"},es:{single:"1 gráfico","side-by-side":"2 gráficos","over-and-under":"2 gráficos","split-bottom":"3 gráficos","split-top":"3 gráficos",grid:"4 gráficos"},fr:{single:"1 Graphique","side-by-side":"2 Graphiques","over-and-under":"2 Graphiques","split-bottom":"3 Graphiques","split-top":"3 Graphiques",grid:"4 Graphiques"},it:{single:"1 grafico","side-by-side":"2 grafici","over-and-under":"2 grafici","split-bottom":"3 grafici","split-top":"3 grafici",grid:"4 grafici"},ja:{single:"1チャート","side-by-side":"2チャート","over-and-under":"2チャート","split-bottom":"3チャート","split-top":"3チャート",grid:"4チャート"},nl:{single:"1 grafiek","side-by-side":"2 grafieken","over-and-under":"2 grafieken","split-bottom":"3 grafieken","split-top":"3 grafieken",grid:"4 grafieken"},nb:{single:"1 diagram","side-by-side":"2 diagrammer","over-and-under":"2 diagrammer","split-bottom":"3 diagrammer","split-top":"3 diagrammer",grid:"4 diagrammer"},pt:{single:"1 gráfico","side-by-side":"2 gráficos","over-and-under":"2 gráficos","split-bottom":"3 gráficos","split-top":"3 gráficos",grid:"4 gráficos"},sv:{single:"1 diagram","side-by-side":"2 diagram","over-and-under":"2 diagram","split-bottom":"3 diagram","split-top":"3 diagram",grid:"4 diagram"},zh:{single:"1 张图表","side-by-side":"2 张图表","over-and-under":"2 张图表","split-bottom":"3 张图表","split-top":"3 张图表",grid:"4 张图表"},zh_TW:{single:"1 张图表","side-by-side":"2 张图表","over-and-under":"2 张图表","split-bottom":"3 张图表","split-top":"3 张图表",grid:"4 张图表"}})},44553:(e,t,i)=>{"use strict";var n=i(15215).Bx;Object.defineProperty(t,"__esModule",{value:!0});const s=n(i(24556)),r=n(i(66250)),o=n(i(82498)),a=n(i(21177)),l=n(i(60130)),d=i(73848),u=n(i(79842)),c=i(58703);class h extends r.default{static create(e,t,i,n){return new h(e,t,i,n)}constructor(e,t,i,n){super(e,t,i,n),this.id="splitcharts",this.menuDirection=d.TOOLTIP_APPEARANCE.BELOW,this.withModel(this._generateModel())}_createMenuView(e,t){const i=o.default.create(e,t,{className:"splitChart",tooltipTextKey:u.default.SPLIT_CHARTS_TOOLTIP,direction:this.menuDirection},this._eventBus);return i.on(a.default.CLICK,this._handleSplitChartControlClicked,this),i}getMenuTitle(){return""}_setSplitChartIcon(e){this._viewLayout=e,this._view.setSplitChartIcon(e),this._model.forEach((e=>{e.selected=e.data.id===this._viewLayout}))}_whenViewIsReady(){this._eventBus.subscribe("api/in/splitchart/state",this._setSplitChartIcon,this)}_generateModel(){return[l.default.SINGLE,l.default.SIDE_BY_SIDE,l.default.OVER_AND_UNDER,l.default.SPLIT_BOTTOM,l.default.SPLIT_TOP,l.default.GRID].map((e=>({id:e,data:{id:e},label:"",icon:e,content:s.default.get(e),callback:this._setViewLayout.bind(this,e),selected:this._viewLayout===e})))}_setViewLayout(e){e!==this._viewLayout&&this._eventBus.publish("tracker/ga",[{interaction_type:c.GA_ACTION.SPLIT_CHARTS,chart_split_type:e}]),this._eventBus.publish("api/out/contextmenu/splitchart/set",[e])}_handleSplitChartControlClicked(){this._eventBus.publish("contextmenu/splitchart/options",[this.getMenuOptions(),this._view.getMenuCoordinates()])}}t.default=h},62282:(e,t)=>{"use strict";t.A=class{constructor(e,t,i,n,s,r,o,a){this._eventBus=e,this._taskManager=a}init(){this._eventBus.publish("menu/item/switch",["splitcharts",!0])}destroy(){this._eventBus.publish("menu/item/switch",["splitcharts",!1])}}},82498:(e,t,i)=>{"use strict";var n=i(15215).Bx;Object.defineProperty(t,"__esModule",{value:!0});const s=n(i(21177));class r extends s.default{static create(e,t,i,n){return new r(e,t,i,n)}constructor(e,t,i,n){super(e,t,i,n)}setSplitChartIcon(e){this._viewLayout=e,this.render()}_getCssClasses(){return this._viewLayout?super._getCssClasses.call(this)+this._viewLayout:super._getCssClasses.call(this)}}t.default=r},35864:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.STRIKE_MODEL_ORDERS_CHANGED=t.STRIKE_MODEL_UPDATED=t.STRIKE_MODEL_STATE_CHANGED=t.STRIKE_TOOLTIP_CHANGED=t.SELECTED_STRIKE_EXPANDED=t.STRIKE_SELECTED=t.STRIKE_HOVERED=t.STRIKE_UPDATED=void 0,t.STRIKE_UPDATED="_UPDATED",t.STRIKE_HOVERED="_HOVERED",t.STRIKE_SELECTED="_SELECTED",t.SELECTED_STRIKE_EXPANDED="_SELECTED_EXPANDED",t.STRIKE_TOOLTIP_CHANGED="_TOOLTIP_CHANGED",t.STRIKE_MODEL_STATE_CHANGED="_STATE_CHANGED",t.STRIKE_MODEL_UPDATED="_VIEW_UPDATED",t.STRIKE_MODEL_ORDERS_CHANGED="_ORDERS_CHANGED"},16658:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.OptionType=void 0,function(e){e.CALL="CALL",e.PUT="PUT"}(t.OptionType||(t.OptionType={}))},19487:(e,t,i)=>{"use strict";var n=i(15215).Bx;Object.defineProperty(t,"__esModule",{value:!0});const s=n(i(3565)),r=i(97481),o=i(80272),a=n(i(47392)),l=i(43130),d=n(i(2274)),u=n(i(73453)),c=n(i(30992)),h=i(35864),p=i(73731),_=n(i(14243)),g=i(94351);class f extends s.default{constructor(){super(...arguments),this._bidir=new r.Blocker}startListening(e,t){return super.startListening(e,t),this._visibleWindow.on(u.default.MOVED,this._dismissOnVerticalMovement,this),this._instrumentModel=t,this._instrumentModel.on(c.default.INFO_LOADED,this._createViewModels,this),this._presentationModel.setCollections(this._moduleLoader.getModule("dealingCommon").getOpenPositions(),this._moduleLoader.getModule("dealingCommon").getWorkingOrders()),this._eventBus.subscribe(`api/in/${this._moduleName}/hovered`,(e=>{this._eventBus.flush(`api/in/${this._moduleName}/hovered`),this._bidir.block((()=>this.hoverModel(e)))}),this),this._presentationModel.on(this._presentationModel.EVENT_PREFIX+h.STRIKE_HOVERED,(e=>{this._bidir.run((()=>this._eventBus.publish(`api/out/${this._moduleName}/hovered`,[(null==e?void 0:e.epic)||null])))}),this),this._settingsManager.on((0,p.getGlobalSettingsEvent)(_.default.DEALING),this._toggleTradesVisibility,this),this._toggleTradesVisibility(),this._settingsManager.on((0,p.getGlobalSettingsEvent)(_.default.STRIKES),this._toggleStrikesVisibility,this),this._toggleStrikesVisibility(),this._createViewModels(),this}stopListening(){super.stopListening(),this._settingsManager.un(null,this),this._presentationModel.un(null,this),this._presentationModel.viewModels=[],this._module.un(null,this),this._instrumentModel.un(null,this)}selectModel(e){var t;const i=(0,o.isEpic)(e)?null===(t=this._presentationModel.viewModels)||void 0===t?void 0:t.find((({epic:t})=>t===e)):e,n=this._taskManager.taskExists(a.default.MTF_SELECTION.ID);i&&!n?this._taskManager.startTask(a.default.MTF_SELECTION,{onActivated:()=>{this.expandSelected(!1),this._presentationModel.selectedModel=i},onDeactivated:()=>{this._eventBus&&(this.expandSelected(!1),this._eventBus.publish("hint-tooltip/hover/exit",[g.BACK_BUTTON_TOOLTIP_ID]),this._presentationModel.selectedModel=null)}}):i&&n&&this._presentationModel.selectedModel!==i?(this.expandSelected(!1),this._presentationModel.selectedModel=i):!i&&n&&this._taskManager.finishTask(a.default.MTF_SELECTION.ID)}hoverModel(e){var t;this._presentationModel.hoveredModel=(0,o.isEpic)(e)?(null===(t=this._presentationModel.viewModels)||void 0===t?void 0:t.find((({epic:t})=>t===e)))||null:e}closePosition(e){if(!e.position)throw new Error("Attempted to close position on strike with no open position");const t=(0,l.sum)(e.orders.map((e=>e.getDirection()===d.default.Sign.SELL?e.getDealSize():0))),i=e.position.getDealSize(),n=t>=i?i:i-t;this._eventBus.publish(`api/out/${this._moduleName}/close`,[e.epic,n])}deleteOrder(e,t){this._module.deleteOrder(e,t)}expandSelected(e){this._presentationModel.isSelectedExpanded=e,e&&this.showTooltip(null)}showTooltip(e){const t=this._taskManager.taskExists(a.default.MTF_INFO_TOOLTIP.ID);e&&!t?this._taskManager.startTask(a.default.MTF_INFO_TOOLTIP,{onActivated:()=>{this._presentationModel.tooltipModel=e},onDeactivated:()=>{this._eventBus&&(this._presentationModel.tooltipModel=null)}}):e&&t?this._presentationModel.tooltipModel=e:!e&&t&&this._taskManager.finishTask(a.default.MTF_INFO_TOOLTIP.ID)}_toggleStrikesVisibility(){this._settingsManager.hasAccountSettings()&&(this._presentationModel.visibilityStrikes=this._settingsManager.getGlobalSettings(_.default.STRIKES).isVisible)}_toggleTradesVisibility(){this._settingsManager.hasAccountSettings()&&(this._presentationModel.visibilityPositions=this._settingsManager.getDealingOpenPositionsVisibility(),this._presentationModel.visibilityOrders=this._settingsManager.getDealingWorkingOrdersVisibility())}_dismissOnVerticalMovement(e,t){t&&this.showTooltip(null)}destroy(){super.destroy(),this._taskManager.finishTask(a.default.MTF_INFO_TOOLTIP.ID),this._taskManager.finishTask(a.default.MTF_SELECTION.ID)}}t.default=f},57034:(e,t,i)=>{"use strict";var n=i(15215).Bx;Object.defineProperty(t,"__esModule",{value:!0}),t.getTrades=void 0;const s=n(i(48990)),r=i(35864),o=n(i(55986)),a=i(43130),l=i(94944),d=n(i(17690));function u(e,t){return e.filter((e=>e.getEpic()===t))}t.getTrades=u;class c extends s.default{constructor(){super(...arguments),this._viewModels=null,this._hoveredModel=null,this._selectedModel=null,this._tooltipModel=null,this._visibilityStrikes=!0,this._visibilityPositions=!0,this._visibilityOrders=!0}get viewModels(){return this._viewModels}set viewModels(e){var t,i;e!==this._viewModels&&(null===(t=this._viewModels)||void 0===t||t.forEach((e=>e.destroy())),this._viewModels=e,null===(i=this._viewModels)||void 0===i||i.forEach((e=>e.updateStrikeState())),this.fire(this.EVENT_PREFIX+r.STRIKE_UPDATED))}get hoveredModel(){return this._hoveredModel}set hoveredModel(e){var t;this._selectedModel||e!==this._hoveredModel&&(this._hoveredModel=e,null===(t=this._viewModels)||void 0===t||t.forEach((e=>e.updateStrikeState())),this.fire(this.EVENT_PREFIX+r.STRIKE_HOVERED,this._hoveredModel))}get selectedModel(){return this._selectedModel}set selectedModel(e){var t;this._viewModels&&e!==this._selectedModel&&(e&&(this.hoveredModel=null),this.tooltipModel=null,this._selectedModel=e,null===(t=this._viewModels)||void 0===t||t.forEach((e=>e.updateStrikeState())),this.fire(this.EVENT_PREFIX+r.STRIKE_SELECTED,this._selectedModel))}set isSelectedExpanded(e){this._selectedModel&&this._selectedModel.isExpanded!==e&&(this._selectedModel.isExpanded=e,this.fire(this.EVENT_PREFIX+r.SELECTED_STRIKE_EXPANDED,e))}get isSelectedExpanded(){var e;return(null===(e=this._selectedModel)||void 0===e?void 0:e.isExpanded)||!1}get tooltipModel(){return this._tooltipModel}set tooltipModel(e){e!==this._tooltipModel&&(this._tooltipModel=e,this.fire(this.EVENT_PREFIX+r.STRIKE_TOOLTIP_CHANGED,e))}get visibilityStrikes(){return this._visibilityStrikes}set visibilityStrikes(e){var t;e!==this._visibilityStrikes&&(this._visibilityStrikes=e,null===(t=this._viewModels)||void 0===t||t.forEach((e=>e.updateStrikeState())))}get visibilityPositions(){return this._visibilityPositions}set visibilityPositions(e){if(e!==this._visibilityPositions&&(this._visibilityPositions=e,this._viewModels)){const e=this._viewModels.filter((e=>!!e.position));e.forEach((e=>e.updateStrikeState())),e.forEach((e=>e.fireUpdated()))}}get visibilityOrders(){return this._visibilityOrders}set visibilityOrders(e){if(e!==this._visibilityOrders){if(this._visibilityOrders=e,this._viewModels){const e=this._viewModels.filter((e=>!!e.orders.length));e.forEach((e=>e.updateStrikeState())),e.forEach((e=>e.fireUpdated()))}!e&&this.tooltipModel&&(this.tooltipModel=null)}}calculateBadgeYLevels(e){if(this._viewModels){let t=this._viewModels.reduce(((t,i)=>(i.hasPositionOrOrders&&t.push(e.y(i.unscaledStrikeLevel)),t)),[]);t=(0,l.spacePointsUpAndDown)(t.reverse(),d.default.BOX_HEIGHT+5).reverse();let i=0;this._viewModels.forEach((n=>{n.badgeYPosition=n.hasPositionOrOrders?t[i++]:e.y(n.unscaledStrikeLevel)}))}}setCollections(e,t){this._openPositionsCollection=e,this._openPositionsCollection.on(o.default.ADD,this._setOpenPosition,this),this._openPositionsCollection.on(o.default.REMOVE,this._deleteOpenPosition,this),this._openPositionsCollection.forEach(this._setOpenPosition,this),this._workingOrdersCollection=t,this._workingOrdersCollection.on(o.default.ADD,this._addWorkingOrder,this),this._workingOrdersCollection.on(o.default.REMOVE,this._deleteWorkingOrder,this),this._workingOrdersCollection.forEach(this._addWorkingOrder,this)}destroy(){var e,t,i;super.destroy(),null===(e=this._viewModels)||void 0===e||e.forEach((e=>e.destroy())),null===(t=this._openPositionsCollection)||void 0===t||t.un(null,this),null===(i=this._workingOrdersCollection)||void 0===i||i.un(null,this)}getOpenPosition(e){const t=u(this._openPositionsCollection,e);return t.length?t[0]:null}getWorkingOrders(e){return u(this._workingOrdersCollection,e)}_getViewModel(e){return(0,a.find)(this._viewModels,{epic:e})}_setOpenPosition(e){const t=this._getViewModel(e.getEpic());t&&(t.position=e)}_deleteOpenPosition(e){const t=this._getViewModel(e.getEpic());t&&(t.position=null)}_addWorkingOrder(e){var t;null===(t=this._getViewModel(e.getEpic()))||void 0===t||t.addOrder(e)}_deleteWorkingOrder(e){var t;null===(t=this._getViewModel(e.getEpic()))||void 0===t||t.deleteOrder(e)}}t.default=c},13001:(e,t,i)=>{"use strict";var n=i(15215).Bx;Object.defineProperty(t,"__esModule",{value:!0}),t.from=t.to=t.StrikeState=void 0;const s=n(i(289)),r=n(i(71037)),o=i(41943),a=i(16658),l=i(35864),d=n(i(37282)),u=n(i(12137)),c=i(10094),h=i(24995),p=i(96001),_=n(i(72910));var g;!function(e){e[e.HIDDEN=0]="HIDDEN",e[e.VISIBLE=1]="VISIBLE",e[e.VISIBLE_WITH_TRADES=2]="VISIBLE_WITH_TRADES",e[e.HOVERED=3]="HOVERED",e[e.SELECTED=4]="SELECTED",e[e.VISIBLE_UNSELECTED=5]="VISIBLE_UNSELECTED"}(g=t.StrikeState||(t.StrikeState={})),t.to=function(e,t,i){return t!==e&&i===e},t.from=function(e,t,i){return t===e&&i!==e};class f extends s.default{get isExpanded(){return this._isExpanded}set isExpanded(e){this._isExpanded=e,this.fireUpdated()}constructor(e,t,i,n,s,r){super(),this._strike=e,this._presentationModel=t,this.scalingFactor=i,this.decimalPlaces=n,this.container=s,this._optionType=r,this._strikeState=g.VISIBLE,this._position=null,this._orders=[],this._isExpanded=!1,this.priceBoxWidth=0,this.positionBoxWidth=0,this._levelBadgeRightOffset=0}get strikeState(){return this._strikeState}updateStrikeState(){const e=this._strikeState,t=this._getStrikeState();e!==t&&(this._strikeState=t,this.fire(this._presentationModel.EVENT_PREFIX+l.STRIKE_MODEL_STATE_CHANGED,this,e,t))}set levelBadgeXPos(e){this._levelBadgeRightOffset=Math.abs(e)}get levelBadgeRightOffset(){return this._levelBadgeRightOffset}_getStrikeState(){return this._presentationModel.selectedModel?this._presentationModel.selectedModel===this?g.SELECTED:this.hasPositionOrOrders?g.VISIBLE_UNSELECTED:g.HIDDEN:this._presentationModel.hoveredModel===this?g.HOVERED:this._presentationModel.visibilityStrikes?g.VISIBLE:this.hasPositionOrOrders?g.VISIBLE_WITH_TRADES:g.HIDDEN}fireUpdated(){this.fire(this._presentationModel.EVENT_PREFIX+l.STRIKE_MODEL_UPDATED)}get eventPrefix(){return this._presentationModel.EVENT_PREFIX}get epic(){return this._strike.epic}get strikeLevel(){return this._strike.strikeLevel}get strikeOptionType(){return this._strike.optionType}get formattedStrikeLevel(){return this.strikeLevel.toFixed(this.decimalPlaces)}get className(){var e;return(null===(e=this._optionType)||void 0===e?void 0:e.toLowerCase())||"neutral"}get icon(){return this._strike.optionType===a.OptionType.CALL?u.default:d.default}get unscaledStrikeLevel(){return this.strikeLevel*this.scalingFactor}get position(){return this._position}set position(e){var t;e!==this._position&&(null===(t=this._position)||void 0===t||t.un(null,this),this._position=e,e&&e.on(r.default.CHANGE,(()=>{this.updateStrikeState(),this.fireUpdated()}),this),this.updateStrikeState(),this.fireUpdated())}get orders(){return this._orders}set orders(e){const t=(0,o.subtraction)(this._orders,e),i=(0,o.subtraction)(e,this._orders);(t.length||i.length)&&(t.forEach((e=>e.un(null,this))),i.forEach((e=>e.on(r.default.CHANGE,(()=>{this.updateStrikeState(),this.fireUpdated()}),this))),this._orders=e,this.updateStrikeState(),this.fireUpdated(),this.fire(this._presentationModel.EVENT_PREFIX+l.STRIKE_MODEL_ORDERS_CHANGED))}addOrder(e){this._orders.includes(e)||(e.on(r.default.CHANGE,(()=>{this.updateStrikeState(),this.fire(this._presentationModel.EVENT_PREFIX+l.STRIKE_MODEL_UPDATED)}),this),this._orders.push(e),this.updateStrikeState(),this.fire(this._presentationModel.EVENT_PREFIX+l.STRIKE_MODEL_UPDATED),this.fire(this._presentationModel.EVENT_PREFIX+l.STRIKE_MODEL_ORDERS_CHANGED))}deleteOrder(e){this._orders.includes(e)&&(e.un(null,this),this._orders.splice(this._orders.indexOf(e),1),this.updateStrikeState(),this.fire(this._presentationModel.EVENT_PREFIX+l.STRIKE_MODEL_UPDATED),this.fire(this._presentationModel.EVENT_PREFIX+l.STRIKE_MODEL_ORDERS_CHANGED))}get profitAndLossValue(){var e;return(null===(e=this._position)||void 0===e?void 0:e.getProfitAndLoss())||NaN}get profitAndLoss(){if(!this._position)return"";const e=this.profitAndLossValue;return(0,c.isNumber)(e)?(e>0?"+":"")+(0,h.formatCurrency)(e,this._position.getCurrencyCodeISO(),!0):"-"}get totalSize(){return this._position&&this._presentationModel.visibilityPositions?this._position.getDealSize():0}get positionLabelText(){return this.totalSize?this.totalSize>1?(0,p.merge)(_.default.get("turbos"),{number:this.totalSize}):_.default.get("turbo"):""}get nofOrders(){return this._ordersLength?this._ordersLength>1?(0,p.merge)(_.default.get("orders"),{number:this._ordersLength}):_.default.get("order"):""}get displayOrdersSummary(){return!!this.nofOrders&&!this.isExpanded}get hasPositionOrOrders(){return this.totalSize>0||this._ordersLength>0}get _ordersLength(){return this._orders&&this._presentationModel.visibilityOrders?this._orders.length:0}get _isShort(){var e;return(null===(e=this._position)||void 0===e?void 0:e.trade.isShort())||!1}destroy(){var e;this._orders.forEach((e=>e.un(null,this))),null===(e=this._position)||void 0===e||e.un(null,this),super.destroy()}}t.default=f},94351:(e,t,i)=>{"use strict";var n=i(15215).Bx;Object.defineProperty(t,"__esModule",{value:!0}),t.BACK_BUTTON_TOOLTIP_ID=void 0;const s=n(i(85690)),r=n(i(73453)),o=n(i(86605)),a=i(13001),l=i(35864);t.BACK_BUTTON_TOOLTIP_ID="back-button-tooltip";class d extends s.default{constructor(){super(...arguments),this._helpers={}}startRedrawingBasedOnChangesInVisibleWindow(){this._visibleWindow.on(r.default.MOVED,this._handleVisibleWindowMoved,this),this._presentationModel.on(this._presentationModel.EVENT_PREFIX+l.STRIKE_UPDATED,this._strikeReadyForRender,this),this._visibleWindow.isReadyForRender()?this._strikeReadyForRender():this._visibleWindow.on(r.default.READY_FOR_RENDER,this._strikeReadyForRender,this,{once:!0})}stopRedrawingBasedOnChangesInVisibleWindow(){var e;for(const t in this._helpers)this._destroyHelper(this._helpers[t]);this._helpers={},null===(e=this._presentationModel.viewModels)||void 0===e||e.forEach((e=>e.un(null,this))),this._presentationModel.un(null,this),this._visibleWindow.un(null,this)}_strikeReadyForRender(){var e;if(this._visibleWindow.isReadyForRender()){for(const e in this._helpers)this._destroyHelper(this._helpers[e]);this._helpers={},this._presentationModel.calculateBadgeYLevels(this._visibleWindow),null===(e=this._presentationModel.viewModels)||void 0===e||e.forEach((e=>{e.on(e.eventPrefix+l.STRIKE_MODEL_UPDATED,(()=>{this._presentationModel.calculateBadgeYLevels(this._visibleWindow),Object.values(this._helpers).forEach((e=>this._updatePosition(e)))}),this),e.on(e.eventPrefix+l.STRIKE_MODEL_STATE_CHANGED,this._toggleHelperVisibility,this),this._shouldStrikeShow(a.StrikeState.HIDDEN,e.strikeState)&&(this._helpers[e.epic]=this._createHelper(e),this._updatePosition(this._helpers[e.epic]))}))}}_toggleHelperVisibility(e,t,i){this._shouldStrikeHide(t,i)?(this._destroyHelper(this._helpers[e.epic]),delete this._helpers[e.epic]):this._shouldStrikeShow(t,i)&&(this._helpers[e.epic]=this._createHelper(e),this._updatePosition(this._helpers[e.epic]))}_shouldStrikeHide(e,t){return e!==a.StrikeState.HIDDEN&&t===a.StrikeState.HIDDEN}_shouldStrikeShow(e,t){return e===a.StrikeState.HIDDEN&&t!==a.StrikeState.HIDDEN}_handleVisibleWindowMoved(e,t){if(e&(o.default.RESIZED|o.default.INITIALISED)||t){this._presentationModel.calculateBadgeYLevels(this._visibleWindow);for(const e in this._helpers)this._updatePosition(this._helpers[e])}}}t.default=d},81758:(e,t,i)=>{"use strict";var n=i(15215).Bx;Object.defineProperty(t,"__esModule",{value:!0});const s=n(i(93691)),r=n(i(22438)),o=n(i(6182));class a extends s.default{constructor(e,t){super(e,t),this.withCursorOnHover(o.default.POINTER)}_initDom(){this._dComponent=this._dContainer.svgFromString(r.default).attrs({width:"13",height:"12"}).classed("info",!0)}}t.default=a},6122:(e,t,i)=>{"use strict";var n=i(15215).Bx;Object.defineProperty(t,"__esModule",{value:!0});const s=n(i(93691)),r=n(i(72873)),o=i(35864),a=n(i(62513));class l extends s.default{constructor(e,t,i,n,s,r){super(e,r),this._viewModel=t,this._textMeasurer=i,this._presentationController=n,this._closeButtonGradientId=s,this._orders=[],t.on(t.eventPrefix+o.STRIKE_MODEL_ORDERS_CHANGED,this._recreateOrders,this),this._recreateOrders()}setYPosition(e){this._dComponent.attr("transform",r.default.svgTranslateAttrY(e)),this._orders.forEach((e=>e.updateCaptureZone()))}_initDom(){this._dComponent=this._dContainer.append("g").classed("ordersList",!0)}_recreateOrders(){this._orders.forEach((e=>e.destroy())),this._orders=this._viewModel.orders.map(this._addOrder,this)}_addOrder(e,t){return new a.default(this._dComponent,e,this._textMeasurer,this._presentationController,this._closeButtonGradientId,this._captureZoneManager).setOffset({x:5,y:25*t+15})}destroy(){super.destroy(),this._orders.forEach((e=>e.destroy())),this._viewModel.un(null,this)}}t.default=l},57091:(e,t,i)=>{"use strict";var n=i(15215).ut,s=i(15215).Bx;Object.defineProperty(t,"__esModule",{value:!0});const r=n(i(77957)),o=s(i(50951)),a=s(i(17690)),l=s(i(10520)),d=s(i(72873)),u=i(13001),c=i(35864);class h extends r.default{constructor(e,t,i,n,s,r){super(t,i,n),this._viewModel=e,this._captureZoneManager=s,this._presentationController=r,e.on(e.eventPrefix+c.STRIKE_MODEL_STATE_CHANGED,this._updateState,this)}initDom(){super.initDom(),this._captureZone=this._captureZoneManager.create(o.default.BLOCK_ALL,l.default.ANNOTATION_SELECTION),this._viewModel.icon&&(this._dIcon=this._dBadgeContainer.svgFromString(this._viewModel.icon),this._dIcon.attrs({x:-23,y:-7})),this._updateState(this._viewModel)}render(){var e;super.render();const t=this._getPriceLevelPosition(),i=this._getPriceBoxDimensions().height,n=t<i/2||t+i/2>this._visibleWindow.height(),s=this._viewModel.strikeState===u.StrikeState.VISIBLE_UNSELECTED&&this._visibleWindow.y(null===(e=this._presentationController.getPresentationModel().selectedModel)||void 0===e?void 0:e.strikeLevel)===this._getPriceLevelPosition()||n;this._dBadgeContainer.classed("hidden",s),this._captureZone.setDimensionsBasedOnElement(this._dBadgeContainer)}destroy(){this._captureZone&&(this._captureZone.destroy(),delete this._captureZone),this._viewModel.un(null,this),super.destroy()}_getType(){return`${this._viewModel.className} strike`}_getPriceBoxDimensions(){var e;let t=0,i=0;const n=null===(e=this._dLabel)||void 0===e?void 0:e.node();if(n){const e=d.default.getBBox(n).width;t=e+this._rightPadding,this._viewModel.priceBoxWidth=t,i=-e-this._rightPadding-4}return this._viewModel.levelBadgeXPos=i,{x:i,y:-a.default.BOX_HEIGHT/2,width:t,height:a.default.BOX_HEIGHT}}_getFormattedPriceLevel(){return this._viewModel.formattedStrikeLevel}_getPriceLevelPosition(){return this._visibleWindow.y(this._viewModel.unscaledStrikeLevel)}get _rightPadding(){return r.DEFAULT_RIGHT_PADDING+(this._dIcon?15:0)+4}}t.default=h},56943:(e,t,i)=>{"use strict";var n=i(15215).Bx;Object.defineProperty(t,"__esModule",{value:!0});const s=n(i(93691)),r=n(i(44258)),o=n(i(77786)),a=i(35864),l=i(13001),d=n(i(10520)),u=n(i(6182)),c=n(i(44203)),h=n(i(49483)),p=n(i(72873));class _ extends s.default{constructor(e,t,i,n,s){super(e,t),this._viewModel=i,this._subView=n,this._presentationController=s,this.withPadding(5),i.on(i.eventPrefix+a.STRIKE_MODEL_STATE_CHANGED,this._updateState,this),this._updateState(i)}_initDom(){this._dComponent=this._dContainer.append("g").classed("strike",!0),this._dLines=Array.from({length:3},(()=>new r.default(this._dComponent)))}updatePosition(){var e,t,i;const n=this._subView.visibleWindow.y(this._viewModel.unscaledStrikeLevel),s=this._subView.dimensions.width-(this._viewModel.strikeState===l.StrikeState.VISIBLE_WITH_TRADES?0:this._viewModel.levelBadgeRightOffset),r=function(e,t,i,n){return[{x:t,y:e},{x:n+.25*t,y:e},{x:n+18,y:i},{x:n,y:i}]}(n,s,this._viewModel.badgeYPosition,this._viewModel.positionBoxWidth);let o=0;const a=null===(e=this._presentationController.getPresentationModel().selectedModel)||void 0===e?void 0:e.strikeLevel;for(this._viewModel.strikeState===l.StrikeState.VISIBLE_UNSELECTED&&this._subView.visibleWindow.y(a)===n&&(this._dLines[o].setLineCoordinates({x1:0,y1:0,x2:0,y2:0}).classed(this._viewModel.className,!0),o++);o<r.length-1;o++)this._dLines[o].setLineCoordinates({x1:r[o].x,y1:r[o].y,x2:r[o+1].x,y2:r[o+1].y}).classed(this._viewModel.className,!0);const d=(s+24)/2+5;this._koBubble?(this._koBubble.setPosition(s/2,n),null===(t=this._dBackButton)||void 0===t||t.attr("transform",p.default.svgTranslateAttrXY(d+this._koBubble.getWidth()/2,n))):null===(i=this._dBackButton)||void 0===i||i.attr("transform",p.default.svgTranslateAttrXY(d,n)),this.updateCaptureZone()}_updateCaptureZone(){var e;return super._updateCaptureZone(),null===(e=this._backButton)||void 0===e||e.updateCaptureZone(),this}onBackButtonClicked(e,t){var i;this._backButtonClickCallback={count:1,fastTap:!0,onGesture:e,context:t},null===(i=this._backButton)||void 0===i||i.on("tap",this._backButtonClickCallback).updateCaptureZoneIndex(d.default.STRIKE_TRADES_BACK_BUTTON)}onBackButtonHovered(e,t,i){var n;this._backButtonHoverCallback=[function(){e.call(i),this._dBackButton.classed("hover",!0)},function(){this._dBackButton.classed("hover",!1),t.call(i)},this],null===(n=this._backButton)||void 0===n||n.onHover(...this._backButtonHoverCallback).updateCaptureZoneIndex(d.default.STRIKE_TRADES_BACK_BUTTON).withCursorOnHover(u.default.POINTER)}_createBackButton(e){this._dBackButton=e.append("g").classed("backButton",!0),this._backButton=new o.default(this._dBackButton,this._captureZoneManager).attr("rx",2).attr("ry",2).setRectCoordinates({x:-12,y:-9,width:24,height:18}),this._backButtonClickCallback&&this._backButton.on("tap",this._backButtonClickCallback),this._backButtonHoverCallback&&this._backButton.onHover(...this._backButtonHoverCallback).withCursorOnHover(u.default.POINTER),(this._backButtonClickCallback||this._backButtonHoverCallback)&&this._backButton.updateCaptureZoneIndex(d.default.STRIKE_TRADES_BACK_BUTTON),this._dBackButton.appendElement(h.default.elementFromText(c.default,".backIcon"))}_destroyBackButton(){this._backButton&&(this._dBackButton.remove(),delete this._dBackButton,this._backButton.destroy(),delete this._backButton)}destroy(){this._destroyBackButton(),this._koBubble&&(this._koBubble.destroy(),delete this._koBubble),this._dLines.forEach((e=>{e.destroy()})),this._dLines=[],this._viewModel.un(null,this),super.destroy()}}t.default=_},62513:(e,t,i)=>{"use strict";var n=i(15215).Bx;Object.defineProperty(t,"__esModule",{value:!0}),t.TEXT_OFFSET=void 0;const s=n(i(93691)),r=n(i(71037)),o=n(i(12636)),a=n(i(12488)),l=n(i(6182)),d=n(i(10520)),u=i(44897);t.TEXT_OFFSET=13.5;class c extends s.default{constructor(e,t,i,n,s,o){super(e,o),this._order=t,this._textMeasurer=i,this._strikePresentationController=n,t.on(r.default.CHANGE,this.render,this),this.on("tap",{onGesture:()=>{},fastTap:!0}),this._createDeleteButton(s),this.render()}_initDom(){this._dComponent=this._dContainer.append("g").classed("strikeOrder",!0),this._dBackground=this._dComponent.append("rect").attrs({height:19,rx:2,ry:2}).classed("border",!0),this._dOrderType=this._dComponent.append("text").classed("orderType",!0).attrs({dy:t.TEXT_OFFSET,dx:5}),this._dSeparator=this._dComponent.append("line").classed("orderSeparator",!0).attrs({y1:3,y2:17}),this._dOrderSize=this._dComponent.append("text").classed("orderSize",!0).attrs({dy:t.TEXT_OFFSET})}_createDeleteButton(e){this._deleteButton=new o.default(this._dComponent,this._textMeasurer,this._captureZoneManager),this._deleteButton.classed("deleteButton",!0),this._deleteButton.background.attr("fill",`url(#${e})`),this._deleteButton.text=a.default.get("deleteButton"),this._deleteButton.setHeight(19),this._deleteButton.setPadding(5),this._deleteButton.on("tap",{onGesture:()=>{this._deleteButton.showLoadingSpinner(!0),this._deleteButton.withCursorOnHover(l.default.DEFAULT),this._strikePresentationController.deleteOrder(this._order,(()=>{var e,t;null===(e=this._deleteButton)||void 0===e||e.withCursorOnHover(l.default.POINTER),null===(t=this._deleteButton)||void 0===t||t.showLoadingSpinner(!1)}))},context:this,fastTap:!0}),this._deleteButton.withCursorOnHover(l.default.POINTER),this._deleteButton.onHover((function(){this.classed("hover",!0)}),(function(){this.classed("hover",!1)}),this._deleteButton),this._deleteButton.updateCaptureZoneIndex(d.default.STRIKE_TRADES_CLOSE_BUTTON)}_updateCaptureZone(){return super._updateCaptureZone(),this._deleteButton.updateCaptureZone(),this}render(){super.render();let e=0;this._dOrderType.text((0,u.getOrderTypeLabel)(this._order)),e+=this._textMeasurer.calculateTextWidth(this._dOrderType.text())+10,this._dSeparator.attrs({x1:e,x2:e}),e+=5,this._dOrderSize.text((this._order.isBuy()?"+":"-")+(0,u.getOrderSizeLabel)(this._order)).attr("dx",e),e+=this._textMeasurer.calculateTextWidth(this._dOrderSize.text())+5,this._dBackground.attr("width",e),this._deleteButton.setOffset({x:e+5,y:0}),super.render()}destroy(){var e,t;null===(e=this._deleteButton)||void 0===e||e.destroy(),delete this._deleteButton,null===(t=this._order)||void 0===t||t.un(null,this),delete this._order,super.destroy()}}t.default=c},83542:(e,t,i)=>{"use strict";var n=i(15215).Bx;Object.defineProperty(t,"__esModule",{value:!0}),t.PADDING=void 0;const s=n(i(93691)),r=n(i(12636)),o=n(i(81758)),a=n(i(6122)),l=n(i(93666)),d=i(35864),u=n(i(10520)),c=n(i(6182)),h=n(i(12488)),p=n(i(72873)),_=i(13001);t.PADDING=5;class g extends s.default{constructor(e,t,i,n,s){super(e,t),this._captureZoneManager=t,this.viewModel=i,this._strikePresentationController=n,this._closeButtonGradientId=s,this._textMeasurer=new l.default(i.container),i.on(i.eventPrefix+d.STRIKE_MODEL_UPDATED,this.render,this),i.on(i.eventPrefix+d.STRIKE_MODEL_STATE_CHANGED,this.render,this),this._closeButton=this._createCloseButton()}_initDom(){super._initDom(),this._dComponent=this._dContainer.append("g").classed("strikeTrades",!0),this._dBackground=this._dComponent.append("rect").attrs({width:200,height:19,x:t.PADDING,y:-10,rx:2,ry:2}).classed("border",!0),this._dProfitAndLoss=this._dComponent.append("text").classed("profitLoss",!0).attr("dy",4),this._dPositionsSeparator=this._dComponent.append("line").classed("positionSeparator",!0).attrs({y1:-4.5,y2:4.5}),this._dPositionSize=this._dComponent.append("text").classed("strikes",!0).attr("dy",4),this._dPositionLabel=this._dComponent.append("text").classed("positionLabel",!0).attr("dy",4),this._dOrderSeparator=this._dComponent.append("line").classed("orderSeparator",!0).attrs({y1:-4.5,y2:4.5}),this._dOrdersSummary=this._dComponent.append("text").classed("orders",!0).attr("dy",4),this._infoIcon=new o.default(this._dComponent,this._captureZoneManager).attr("y",-6.5),this.hideCaptureZone()}render(){super.render(),this._xTextPosition=t.PADDING+t.PADDING,this._dComponent.attr("transform",p.default.svgTranslateAttrY(this._yPosition)),this._dComponent.classed("opaque",!1),this.viewModel.hasPositionOrOrders?(this._dComponent.classed("hidden",!1),this.viewModel.totalSize?this._displayPositions():this._hidePositions(),this.viewModel.displayOrdersSummary?this._displayOrdersSummary():(this._infoIcon.setVisible(!1),this._dOrderSeparator.classed("hidden",!0),this._dOrdersSummary.classed("hidden",!0)),this._dBackground.attr("width",this._xTextPosition-t.PADDING),this.viewModel.positionBoxWidth=this._xTextPosition-t.PADDING,this._closeButton.isVisible()&&this._closeButton.setOffset({x:this._xTextPosition+t.PADDING,y:-10}),this.withCursorOnHover(c.default.POINTER),this.viewModel.strikeState===_.StrikeState.VISIBLE_UNSELECTED&&this._dComponent.classed("opaque",!0)):(this._dComponent.classed("hidden",!0),this._closeButton.setVisible(!1),this.viewModel.positionBoxWidth=0),this._displayOrdersList()}_hidePositions(){this._closeButton.setVisible(!1),this._dProfitAndLoss.classed("hidden",!0),this._dPositionSize.classed("hidden",!0),this._dPositionsSeparator.classed("hidden",!0),this._dPositionLabel.classed("hidden",!0)}_displayPositions(){this._dProfitAndLoss.text(this.viewModel.profitAndLoss).classed("positive",this.viewModel.profitAndLossValue>=0).classed("negative",this.viewModel.profitAndLossValue<0).classed("hidden",!1).attr("x",this._xTextPosition),this._xTextPosition+=this._textMeasurer.calculateTextWidth(this._dProfitAndLoss.text())+t.PADDING,this._dPositionsSeparator.classed("hidden",!1).attrs({x1:this._xTextPosition,x2:this._xTextPosition}),this._xTextPosition+=t.PADDING,this._dPositionSize.text(this.viewModel.totalSize).classed("hidden",!1).attr("x",this._xTextPosition),this._xTextPosition+=this._textMeasurer.calculateTextWidth(this._dPositionSize.text())+t.PADDING,this._dPositionLabel.text(this.viewModel.positionLabelText).classed("hidden",!1).classed(this.viewModel.strikeOptionType.toLowerCase(),!0).attr("x",this._xTextPosition),this._xTextPosition+=this._textMeasurer.calculateTextWidth(this._dPositionLabel.text())+t.PADDING,this.viewModel.isExpanded&&!this._closeButton.isVisible()?this._closeButton.setVisible(!0):!this.viewModel.isExpanded&&this._closeButton.isVisible()&&this._closeButton.setVisible(!1)}_displayOrdersSummary(){this.viewModel.totalSize&&(this._dOrderSeparator.attrs({x1:this._xTextPosition,x2:this._xTextPosition}),this._xTextPosition+=t.PADDING),this._dOrderSeparator.classed("hidden",!(this.viewModel.nofOrders&&this.viewModel.totalSize)),this._dOrdersSummary.text(this.viewModel.nofOrders).classed("hidden",!1).attr("x",this._xTextPosition),this._xTextPosition+=this._textMeasurer.calculateTextWidth(this._dOrdersSummary.text())+t.PADDING,this._infoIcon.attr("x",this._xTextPosition).setVisible(!0),this._xTextPosition+=12+t.PADDING}_displayOrdersList(){const e=this.viewModel.isExpanded&&!!this.viewModel.nofOrders,t=!this.viewModel.position||!this.viewModel.totalSize;if(e&&!this._ordersList?this._ordersList=new a.default(this._dContainer,this.viewModel,this._textMeasurer,this._strikePresentationController,this._closeButtonGradientId,this._captureZoneManager):!e&&this._ordersList&&(this._ordersList.destroy(),delete this._ordersList),this._ordersList){let e=this._yPosition;t&&!this.viewModel.displayOrdersSummary&&(e-=25),this._ordersList.setYPosition(e)}}setYPosition(e){this._yPosition=e,this.render()}onInfoIconClicked(e,t){this._infoIcon.on("tap",{count:1,fastTap:!0,onGesture:e,context:t}),this._infoIcon.updateCaptureZoneIndex(u.default.STRIKE_TRADES_BADGE_INFO_ICON)}onCloseButtonClicked(e,t){this._closeButton.on("tap",{count:1,fastTap:!0,onGesture:e,context:t}),this._closeButton.updateCaptureZoneIndex(u.default.STRIKE_TRADES_CLOSE_BUTTON)}_createCloseButton(){const e=new r.default(this._dComponent,this._textMeasurer,this._captureZoneManager).classed("closeButton",!0).setHeight(19).setPadding(t.PADDING).setVisible(!1);return e.withCursorOnHover(c.default.POINTER).onHover((function(){this.classed("hover",!0)}),(function(){this.classed("hover",!1)}),e),e.background.attr("fill",`url(#${this._closeButtonGradientId})`),e.text=h.default.get("closeButton"),e}_updateCaptureZone(){for(const e of[this._infoIcon,this._closeButton])e&&e.isVisible()&&e.updateCaptureZone();return super._updateCaptureZone()}destroy(){var e,t;null===(e=this.viewModel)||void 0===e||e.un(null,this),delete this.viewModel;for(const i of["_closeButton","_infoIcon","_ordersList"])null===(t=this[i])||void 0===t||t.destroy(),delete this[i];super.destroy()}}t.default=g},38465:(e,t,i)=>{"use strict";var n=i(15215).Bx;Object.defineProperty(t,"__esModule",{value:!0});const s=i(97481),r=n(i(13365)),o=i(13001),a=i(35864),l=n(i(98760)),d=n(i(50951)),u=n(i(10520)),c=i(73848),h=n(i(94351)),p="mtf-order-info";class _ extends h.default{constructor(){super(...arguments),this._blocker=new s.Blocker}startRedrawingBasedOnChangesInVisibleWindow(){super.startRedrawingBasedOnChangesInVisibleWindow(),this._presentationModel.on(this._presentationModel.EVENT_PREFIX+a.STRIKE_TOOLTIP_CHANGED,this._handleStrikeTooltipChange,this),this._presentationModel.on(this._presentationModel.EVENT_PREFIX+a.SELECTED_STRIKE_EXPANDED,this._handleSelectedStrikeExpandedChange,this)}initDom(){return this._strikeExpandedStateDismissalZone=this._captureZoneManager.createZone(r.default,d.default.PROPAGATE_UNHANDLED,u.default.STRIKE_EXPANDED_STATE_DISMISSAL_ZONE),this._strikeExpandedStateDismissalZone.addGesture(l.default,{count:1,fastTap:!0,onGesture(){this.expandSelected(!1)},context:this._presentationController}),this._strikeExpandedStateDismissalZone.hide(),this}_updatePosition(e){e.setYPosition(e.viewModel.badgeYPosition)}_destroyHelper(e){e.destroy()}_handleStrikeTooltipChange(e){if(this._tooltipModel&&(this._tooltipModel.un(this._presentationModel.EVENT_PREFIX+a.STRIKE_MODEL_UPDATED,this),delete this._tooltipModel),e){const t=this._helpers[e.epic].getElement().select(".border").node();this._tooltipElement=this._generateTooltipContent(e),e.on(this._presentationModel.EVENT_PREFIX+a.STRIKE_MODEL_UPDATED,this._handleViewModelUpdates,this),this._tooltipModel=e,this._dismissalZone||(this._dismissalZone=this._captureZoneManager.createZone(r.default,d.default.PROPAGATE_UNHANDLED,u.default.SHARED_DISMISSAL_CAPTURE_ZONE),this._dismissalZone.addGesture(l.default,{count:1,fastTap:!0,onGesture(){this.showTooltip(null)},context:this._presentationController})),this._eventBus.publish("hint-tooltip/hover/enter",[{itemId:p,groupId:p,style:p,direction:c.TOOLTIP_APPEARANCE.RIGHT_OF,timeout:0,message:this._tooltipElement,rect:t.getBoundingClientRect(),lifecycle:{show(){},hide:this._blocker.block.bind(this._blocker,((e,t,i)=>{i!==t&&this._presentationController.showTooltip(null)}))}}])}else delete this._tooltipElement,this._dismissalZone&&(this._dismissalZone.destroy(),delete this._dismissalZone),this._blocker.run((()=>this._eventBus.publish("hint-tooltip/hover/exit",[p])))}_handleSelectedStrikeExpandedChange(e){e?this._strikeExpandedStateDismissalZone.show():this._strikeExpandedStateDismissalZone.hide()}_handleViewModelUpdates(){this._tooltipModel&&this._tooltipModel.strikeState!==o.StrikeState.HIDDEN&&this._tooltipModel.orders.length?this._generateTooltipContent(this._tooltipModel,this._tooltipElement):this._presentationController.showTooltip(null)}_toggleHelperVisibility(e,t,i){super._toggleHelperVisibility(e,t,i),e===this._tooltipModel&&t!==o.StrikeState.HIDDEN&&i===o.StrikeState.HIDDEN&&this._presentationController.showTooltip(null)}}t.default=_},66920:(e,t,i)=>{"use strict";var n=i(15215).Bx;Object.defineProperty(t,"__esModule",{value:!0});const s=n(i(80738)),r=n(i(18709)),o=i(54859),a=n(i(78415)),l=n(i(60599)),d=n(i(2542)),u=n(i(99741)),c=(0,o.recursiveFreeze)({absoluteoverlay:{presentationControllers:{templatesDialogPresentationController:{type:s.default,presentationModel:{type:r.default}}},renderers:{saveDeleteDialogRenderer:{type:a.default,group:"dialog",presentationController:"templatesDialogPresentationController",properties:{dialogClass:l.default}},applyTemplateDialogRenderer:{type:a.default,group:"dialog",presentationController:"templatesDialogPresentationController",properties:{dialogClass:d.default}},deleteTemplateDialogRenderer:{type:a.default,group:"dialog",presentationController:"templatesDialogPresentationController",properties:{dialogClass:u.default}}}}});t.default=c},58522:(e,t,i)=>{"use strict";const n=(0,i(15215).Bx)(i(66920));t.A=class{constructor(e){this._eventBus=e}init(){this._eventBus.subscribe("chart/view/ready",this._handleChartViewReady,this),this._eventBus.subscribe("chart/view/destroyed",this._handleChartViewDestroyed,this),this._eventBus.publish("subViews/config",["templates-dialogs",n.default]),this._chartView&&this._chartView.addRenderersBySubviewConfig(n.default)}destroy(){this._eventBus.publish("subViews/removeConfig",["templates-dialogs"]),this._chartView&&(this._chartView.removeRenderersBySubviewConfig(n.default),this._handleChartViewDestroyed()),this._eventBus.unsubscribeAll(this)}_handleChartViewReady(e){this._chartView=e}_handleChartViewDestroyed(){delete this._chartView}}},40404:(e,t,i)=>{"use strict";var n=i(15215).ut,s=i(15215).Bx;Object.defineProperty(t,"__esModule",{value:!0});const r=i(74848),o=n(i(92568)),a=s(i(2542)),l=i(16941),d=o.default.form`
   overflow-y: auto;
`,u=o.default.div((({theme:{size:e}})=>o.css`
   display: flex;
   margin-bottom: 4px;

   input[type=radio] {
      width: ${e.checkbox.medium.width.value};
      height: ${e.checkbox.medium.height.value};
      margin: 0 4px;
      display: inline; // overriding god-forsaken platform global styles
      cursor: pointer;
   }

   label {
      cursor: pointer;
      line-height: 1; // overriding god-forsaken platform global styles
   }
`)),c=({id:e,label:t})=>(0,r.jsxs)(u,{children:[(0,r.jsx)("input",{type:"radio",name:"template",value:e,id:e,required:!0,defaultChecked:!1}),(0,r.jsx)("label",Object.assign({htmlFor:e},{children:t}))]});t.default=({controller:e,model:t})=>(0,r.jsx)(d,Object.assign({onSubmit:i=>{if(i.preventDefault(),i.target.checkValidity()){const n=new FormData(i.target).get("template");n&&(e.applyTemplate(n),t.setStateFor(a.default,l.DialogState.PENDING))}},id:"applyTemplateForm","data-testid":"applyTemplateForm"},{children:t.templates.map((({id:e,label:t})=>(0,r.jsx)(c,{label:t,id:e.toString()},e)))}))},49867:(e,t,i)=>{"use strict";var n=i(15215).ut,s=i(15215).Bx;Object.defineProperty(t,"__esModule",{value:!0});const r=i(74848),o=i(96540),a=n(i(92568)),l=i(16941),d=s(i(99741)),u=a.default.form`
   display: flex;
   flex-direction: column;
   gap: 4px;
   overflow-y: auto;

   input[type="checkbox"] {
      display: inline;
   }
`,c=a.default.input((({theme:{color:e}})=>a.css`
   border: 1px solid ${e.checkbox.border.value};
   accent-color: ${e.checkbox.active.background.value};
   margin: 4px;

   &:checked {
      border: 1px solid ${e.checkbox.active.border.value};
   }
`)),h=({label:e,id:t})=>(0,r.jsxs)("label",{children:[(0,r.jsx)(c,{type:"checkbox",name:"template",value:t}),e]});t.default=({controller:e,model:t})=>{const i=(0,o.useRef)(null),n=(0,o.useRef)(null),s=()=>{var e,t,s;const r=null===(e=i.current)||void 0===e?void 0:e.querySelectorAll("input");r&&(Array.from(r).some((e=>e.checked))?null===(s=n.current)||void 0===s||s.setCustomValidity(""):null===(t=n.current)||void 0===t||t.setCustomValidity("nothing checked"))};return(0,o.useEffect)((()=>{s()}),[]),(0,r.jsxs)(u,Object.assign({onSubmit:i=>{if(i.preventDefault(),i.target.checkValidity()){const n=new FormData(i.target).getAll("template");n.length>0&&(e.deleteTemplates(n),t.setStateFor(d.default,l.DialogState.PENDING))}},id:"deleteTemplateForm","data-testid":"deleteTemplateForm",onChange:s,ref:i},{children:[t.templates.map((({id:e,label:t,type:i},n)=>"SYSTEM"!==i?(0,r.jsx)(h,{label:t,id:e.toString()},n):null)),(0,r.jsx)("input",{type:"text",ref:n,style:{display:"none"}})]}))}},16657:(e,t,i)=>{"use strict";var n=i(15215).ut,s=i(15215).Bx;Object.defineProperty(t,"__esModule",{value:!0});const r=i(74848),o=n(i(92568)),a=s(i(48202)),l=s(i(60599)),d=i(16941),u=o.default.input((({theme:{color:e}})=>o.css`
   background-color: ${e.input.background.value};
   float: right;
   padding-left: 5px;
   height: 25px;
   width: 146px;
   border: 1px solid ${e.input.border.value};
   color: ${e.input.text.value};
   margin: 0 0 4px 4px;

   &:active {
     border: 1px solid ${e.input.active.border.value};
   }
`)),c=o.default.label`
   line-height: 25px;
   vertical-align: middle;
   margin: 0;
   font-weight: 400;
`;t.default=({model:e,controller:t})=>(0,r.jsx)("form",Object.assign({onSubmit:i=>{var n;if(i.preventDefault(),i.target.checkValidity()){const s=null===(n=new FormData(i.target).get("template"))||void 0===n?void 0:n.trim();s&&(t.saveTemplate(s),e.setStateFor(l.default,d.DialogState.PENDING))}},id:"saveTemplateForm","data-testid":"saveTemplateForm"},{children:(0,r.jsxs)(c,{children:[a.default.get("template_name"),(0,r.jsx)(u,{name:"template",pattern:".*\\S.*",required:!0})]})}))},2542:(e,t,i)=>{"use strict";var n=i(15215).Bx;Object.defineProperty(t,"__esModule",{value:!0});const s=i(74848),r=n(i(21371)),o=n(i(48202)),a=n(i(48185)),l=n(i(40404)),d=i(16941),u=({model:e,controller:t})=>{const i=()=>t.closeDialog(u),n=e.stateFor(u)===d.DialogState.PENDING;return(0,s.jsxs)(r.default,Object.assign({handleClose:i,title:o.default.get("apply_template")},{children:[(0,s.jsx)(l.default,{model:e,controller:t}),(0,s.jsx)(a.default,{submitButtonDetails:{label:o.default.get("apply"),loading:n},cancelButtonDetails:{label:o.default.get("cancel"),onClick:i},formFor:"applyTemplateForm"})]}))};t.default=u},99741:(e,t,i)=>{"use strict";var n=i(15215).Bx;Object.defineProperty(t,"__esModule",{value:!0});const s=i(74848),r=n(i(21371)),o=n(i(49867)),a=i(16941),l=n(i(48185)),d=n(i(48202)),u=({model:e,controller:t})=>{const i=()=>t.closeDialog(u),n=e.stateFor(u)===a.DialogState.PENDING;return(0,s.jsxs)(r.default,Object.assign({handleClose:i,title:d.default.get("delete_template")},{children:[(0,s.jsx)(o.default,{controller:t,model:e}),(0,s.jsx)(l.default,{submitButtonDetails:{label:d.default.get("delete"),loading:n},cancelButtonDetails:{label:d.default.get("cancel"),onClick:i},formFor:"deleteTemplateForm"})]}))};t.default=u},60599:(e,t,i)=>{"use strict";var n=i(15215).Bx;Object.defineProperty(t,"__esModule",{value:!0});const s=i(74848),r=n(i(21371)),o=n(i(16657)),a=i(16941),l=n(i(48185)),d=n(i(48202)),u=({model:e,controller:t})=>{const i=()=>t.closeDialog(u),n=e.stateFor(u)===a.DialogState.PENDING;return(0,s.jsxs)(r.default,Object.assign({handleClose:i,title:d.default.get("save_template")},{children:[(0,s.jsx)(o.default,{controller:t,model:e}),(0,s.jsx)(l.default,{submitButtonDetails:{label:d.default.get("apply"),loading:n},cancelButtonDetails:{label:d.default.get("cancel"),onClick:i},formFor:"saveTemplateForm"})]}))};t.default=u},80738:(e,t,i)=>{"use strict";var n=i(15215).Bx;Object.defineProperty(t,"__esModule",{value:!0});const s=n(i(18346)),r=n(i(60599)),o=i(58703),a=n(i(99741)),l=n(i(2542));class d extends s.default{startListening(e,t){return super.startListening(e,t),this._eventBus.subscribe("templates/apply-dialog/open",(()=>this._handleTemplateDialogOpen(l.default)),this),this._eventBus.subscribe("templates/save-dialog/open",(()=>this._handleTemplateDialogOpen(r.default)),this),this._eventBus.subscribe("templates/delete-dialog/open",(()=>this._handleTemplateDialogOpen(a.default)),this),this}saveTemplate(e){e&&(this._eventBus.publish("tracker/ga",[{interaction_type:`${o.GA_ACTION.LAYOUTS} - save`}]),this._settingsManager.exportToTemplate(e,(()=>this._saveCallback(!0)),(()=>this._saveCallback(!1))))}_saveCallback(e){e&&this.closeDialog(r.default)}deleteTemplates(e){e.length>0&&(this._eventBus.publish("tracker/ga",[{interaction_type:`${o.GA_ACTION.LAYOUTS} - delete`}]),this._settingsManager.getTemplateList((t=>{for(const i of t)e.includes(i.id.toString())&&this._settingsManager.deleteTemplate(i.id);this.closeDialog(a.default)})))}applyTemplate(e){const t=this._presentationModel.templates.find((t=>t.id.toString()===e));t&&(this._eventBus.publish("tracker/ga",[{interaction_type:`${o.GA_ACTION.LAYOUTS} - load`,interaction_value:("SYSTEM"===t.type?"is":"not")+" system template"}]),this._settingsManager.importFromTemplate(t.id,t.type||"USER",(()=>this.closeDialog(l.default)),(()=>{})))}_handleTemplateDialogOpen(e){this._settingsManager.getTemplateList((t=>{this._presentationModel.templates=t,this.openDialog(e)}))}}t.default=d},18709:(e,t,i)=>{"use strict";var n=i(15215).Bx;Object.defineProperty(t,"__esModule",{value:!0});const s=n(i(16941));class r extends s.default{constructor(){super(...arguments),this.templates=[]}}t.default=r},99061:(e,t,i)=>{"use strict";var n=i(15215).Bx;const s=n(i(50870)),r=n(i(66250)),o=n(i(48202)),a=n(i(17660));class l extends r.default{constructor(e,t,i,n,s,r,o){super(e,t,i,n,o),this.id="templates",a.default.getInstance().on(a.default.CHANGED,this._handleUserInfoChange,this),this._createModel()}static create(e,t,i,n,s,r,o){return new l(e,t,i,n,s,r,o)}destroy(){super.destroy(),this._view&&this._settingsManager.un(null,this._view),a.default.getInstance().un(null,this)}_openTemplateDialog(e){this._eventBus.publish(`templates/${e}-dialog/open`)}_createModel(){const e=[];a.default.getInstance().isAnonymous()||e.push({label:o.default.get("save_as"),actionListener:new s.default((()=>this._openTemplateDialog("save"))),data:{id:"save_template_as"}}),e.push({label:o.default.get("apply"),actionListener:new s.default((()=>this._openTemplateDialog("apply"))),data:{id:"apply_template"}}),a.default.getInstance().isAnonymous()||e.push({label:o.default.get("delete"),actionListener:new s.default((()=>this._openTemplateDialog("delete"))),data:{id:"delete_template"}}),this.withModel(e)}_handleUserInfoChange(e){"accountId"===e&&this._createModel()}}t.A=l},6141:(e,t)=>{"use strict";var i;Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.MOVED="MOVED",e.ENABLED="ENABLED",e.DISABLED="DISABLED",e.UPDATE_POSITION="UPDATE_POSITION",e.READY_TO_RENDER="READY_TO_RENDER",e.VISIBILITY_CHANGED="VISIBILITY_CHANGED",e.REQUEST_ENABLE="REQUEST_ENABLE",e.REQUEST_DISABLE="REQUEST_DISABLE",e.SCHOOLED="SCHOOLED"}(i||(i={})),t.default=i},72661:(e,t,i)=>{"use strict";var n=i(15215).Bx;Object.defineProperty(t,"__esModule",{value:!0});const s=n(i(95151));t.default=new s.default({de:{open:"Eröffnung",high:"Hoch",low:"Tief",close:"Schluss",closeTooltip:"Schließen",prices:"Preis",TICK:"Tick",change:"Änderung"},en:{open:"Open",high:"Highest",low:"Lowest",close:"Close",closeTooltip:"Close",prices:"Price",TICK:"Tick",change:"Change"},es:{open:"Apertura",high:"Máximo",low:"Mínimo",close:"Cierre",closeTooltip:"Cerrar",prices:"Precio",TICK:"Tick",change:"Cambio"},fr:{open:"Ouverture",high:"Plus Haut",low:"Plus Bas",close:"Clôture",closeTooltip:"Fermer",prices:"Cours",TICK:"Tick",change:"Variation"},it:{open:"Apertura",high:"Massimo",low:"Minimo",close:"Chiusura",closeTooltip:"Chiudi",prices:"Prezzo",TICK:"Tick",change:"Variazione"},ja:{open:"始値",high:"高値",low:"安値",close:"終値",closeTooltip:"閉じる",prices:"現在値",TICK:"ティック",change:"変動幅"},nl:{open:"Openingsprijs",high:"Hoogste",low:"Laagste",close:"Sluiting",closeTooltip:"Sluit",prices:"Prijs",TICK:"Tick",change:"Verandering"},nb:{open:"Åpning",high:"Høyest",low:"Lavest",close:"Stengning",closeTooltip:"Lukke",prices:"Kurs",TICK:"Tick",change:"Endring"},pt:{open:"Abertura",high:"Máximo",low:"Mínimo",close:"Fecho",closeTooltip:"Fechar",prices:"Preço",TICK:"Tick",change:"Variação"},sv:{open:"Öppning",high:"Högsta",low:"Lägsta",close:"Stängning",closeTooltip:"Stäng",prices:"Pris",TICK:"Tick",change:"Förändring"},zh:{open:"开市价",high:"最高价",low:"最低价",close:"收市价",closeTooltip:"关闭",prices:"价格",TICK:"Tick",change:"变化"},zh_TW:{open:"開市價",high:"最高價",low:"最低價",close:"收市價",closeTooltip:"關閉",prices:"價格",TICK:"Tick",change:"變化"}})},36523:(e,t,i)=>{"use strict";var n=i(15215).Bx;Object.defineProperty(t,"__esModule",{value:!0});const s=i(10094),r=n(i(6141)),o=n(i(289));class a extends o.default{constructor(){super(...arguments),this.oldSchool=!1,this._enabled=!1}static create(){return new a}isEnabled(){return this._enabled}enable(e){this.fire(r.default.REQUEST_ENABLE,e)}disable(){this.fire(r.default.REQUEST_DISABLE)}onEnabled(e){this._enabled=!0,this.fire(r.default.ENABLED,e)}onDisabled(){this._accTime=void 0,this._enabled=!1,this.fire(r.default.DISABLED)}get accTime(){return void 0===this._accTime?null:this._accTime}get level(){return this._level}setProperties(e,t){let i=!1;e||t?((0,s.isNumber)(e)&&e!==this._accTime&&(this._accTime=e,i=!0),(0,s.isNumber)(t)&&t!==this._level&&(this._level=t,i=!0)):(this._accTime=void 0,this._level=void 0,i=!0),i&&this.fire(r.default.MOVED)}setOldSchool(e){return e!==this.oldSchool&&(this.oldSchool=e,this.fire(r.default.SCHOOLED)),this}set visible(e){this.fire(r.default.VISIBILITY_CHANGED,e)}}t.default=a},63154:(e,t,i)=>{"use strict";var n=i(15215).Bx;const s=n(i(6141)),r=n(i(36523));t.A=class{constructor(e,t,i,n,s,r,o,a){this._eventBus=e,this._options=t,this._taskManager=a}init(){this._tooltipModel=r.default.create(),this._eventBus.subscribe("chart/view/ready",(e=>{var t;null===(t=this._tooltipModel)||void 0===t||t.setProperties(),this._chartView=e}),this),this._eventBus.subscribe("chart/view/destroyed",(()=>delete this._chartView),this),this._addSubViewConfig(),this._tooltipModel.on(s.default.REQUEST_ENABLE,this._enableTooltip,this),this._tooltipModel.on(s.default.REQUEST_DISABLE,this._disableTooltip,this),this._startListening()}destroy(){this._removeSubViewConfig(),this._eventBus.unsubscribeAll(this),this._tooltipModel&&(this._tooltipModel.destroy(),delete this._tooltipModel),delete this._chartView}_startListening(){this._eventBus.subscribe("tooltip/enable",this._enableTooltip,this),this._eventBus.subscribe("tooltip/disable",this._disableTooltip,this)}_startTooltipTask(e){this._taskManager.startTask(this._getTaskConfig(),{onActivated:()=>this._onTaskActivated(e),onDeactivated:()=>this._onTaskDeactivated()})}_enableTooltip(e){var t;!1===(null===(t=this._tooltipModel)||void 0===t?void 0:t.isEnabled())&&this._startTooltipTask(e)}_disableTooltip(){var e;(null===(e=this._tooltipModel)||void 0===e?void 0:e.isEnabled())&&this._taskManager.finishTask(this._getTaskConfig().ID)}_addSubViewConfig(){this._eventBus.publish("subViews/config",["tooltip",this._subViewsConfig]),this._chartView&&this._chartView.addRenderersBySubviewConfig(this._subViewsConfig)}_removeSubViewConfig(){this._eventBus.publish("subViews/removeConfig",["tooltip"]),this._chartView&&this._chartView.removeRenderersBySubviewConfig(this._subViewsConfig)}_onTaskActivated(e){this._tooltipModel&&(this._tooltipModel.onEnabled(e),this._eventBus.publish("tooltip/visibilityChanged",[!0]))}_onTaskDeactivated(){this._tooltipModel&&(this._tooltipModel.onDisabled(),this._eventBus.publish("tooltip/visibilityChanged",[!1]))}get tooltipModel(){return this._tooltipModel||null}get yAxisWidth(){return this._options.yAxisWidth}}},91150:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=class{constructor(e,t,i){this._name=e,this._rowCollection=t,this._studyViewName=i}get name(){return this._name}get rowCollection(){return this._rowCollection}get studyViewName(){return this._studyViewName}}},51317:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.updateHeader=t.renderHeader=void 0,t.renderHeader=function(e){e.append("th").attr("colspan",2)},t.updateHeader=function(e,t){e.select("th").html(t.value)}},5607:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.updateLabelValuePair=t.renderLabelValuePair=void 0,t.renderLabelValuePair=function(e){e.append("td").classed("tooltipHeader",!0),e.append("td").classed("tooltipValue",!0)},t.updateLabelValuePair=function(e,t){e.classed("up","up"===t.direction).classed("down","down"===t.direction),e.select(".tooltipHeader").html((function(e){return e.label})),e.select(".tooltipValue").html((function(e){return e.value}))}},85223:(e,t,i)=>{"use strict";var n=i(15215).Bx;const s=i(84039),r=i(51317),o=i(5607),a=n(i(8590));class l{static renderRow(e){e.join((e=>e.append("tr").classed("tooltipRow",!0).each(((e,t,i)=>{const n=(0,s.select)(i[t]).classed(e.formatClasses,!0);l._getRenderer(e.type).render(n)}))),(e=>e),(e=>e.remove())).each(((e,t,i)=>{l._getRenderer(e.type).update((0,s.select)(i[t]),e)}))}static _getRenderer(e){switch(e){case a.default.HEADER:return{render:r.renderHeader,update:r.updateHeader};case a.default.LABEL_VALUE_PAIR:return{render:o.renderLabelValuePair,update:o.updateLabelValuePair};default:throw new Error("No type was provided for tooltip row.")}}}t.A=l},72046:(e,t,i)=>{"use strict";var n=i(15215).Bx;Object.defineProperty(t,"__esModule",{value:!0});const s=n(i(3565)),r=n(i(86605)),o=n(i(73453));class a extends s.default{static create(e){return new a(e)}startListening(e,t){super.startListening(e);const i=this._moduleLoader.getModule("tooltip"),n=t.activeInstrumentResolution;return i.tooltipModel&&(this._tooltipModel=i.tooltipModel),this._presentationModel.yAxisWidth=i.yAxisWidth,this._eventBus.subscribe("module/toggle/*",this._updateFeatureToggles,this),this._eventBus.subscribe("chart/instrument/info",this._handleInstrumentInfo,this),this._visibleWindow.on(o.default.MOVED,this._handleVisibleWindowMoved,this),this._updateFeatureToggles(),(null==n?void 0:n.info)?this._handleInstrumentResolutionInfoLoaded(n.info):this._eventBus.subscribe("chart/resolution/info",this._handleInstrumentResolutionInfoLoaded,this),this}stopListening(){var e;null===(e=this._presentationModel)||void 0===e||e.stopListening(),delete this._tooltipModel,super.stopListening()}moveTo(e){if(this._tooltipModel){const t=this._visibleWindow.snapCoordinateToClosestPointWithFallback(e.x);"number"==typeof t&&this._tooltipModel.setProperties(t,e.y)}}showTooltip(){this._tooltipModel&&(this._tooltipModel.visible=!0)}hideTooltip(){this._tooltipModel&&(this._tooltipModel.visible=!1)}_handleInstrumentInfo(e){this._presentationModel.delayedMarket=e.isDelayed}_handleVisibleWindowMoved(e){e&r.default.INITIALISED&&this._presentationModel.notifyReadyToRender(),e&(r.default.RESIZED|r.default.INITIALISED)&&this._presentationModel.updatePosition()}_handleInstrumentResolutionInfoLoaded(e){this._presentationModel.userTimeZone=e.getUserTimeZone()}_updateFeatureToggles(){this._presentationModel.dealingFromChartEnabled=this._moduleLoader.getInitialisedModules().includes("dealingBuySellButtons")}}t.default=a},71606:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=class{constructor(e,t,i,n,s){this._label=e,this._value=t,this._type=i,this._formatClasses=n,this._direction=s}get label(){return this._label}get type(){return this._type}get value(){return this._value}get formatClasses(){return this._formatClasses.join(" ")}get direction(){return this._direction}}},25485:(e,t,i)=>{"use strict";var n=i(15215).Bx;Object.defineProperty(t,"__esModule",{value:!0}),t.getRowsForIndicator=void 0;const s=i(43130),r=n(i(26363)),o=n(i(17070)),a=n(i(14399)),l=n(i(8590)),d=n(i(14443)),u=i(10094);function c(e,t){const i=e.closePrice-e.openPrice,n=`(${(0,u.roundFloatingPointError)(i/e.openPrice*100).toFixed(2)}%)`;return[{name:"high",type:l.default.LABEL_VALUE_PAIR,indicator:t,value:e.highPrice},{name:"low",type:l.default.LABEL_VALUE_PAIR,indicator:t,value:e.lowPrice},{name:"open",type:l.default.LABEL_VALUE_PAIR,indicator:t,value:e.openPrice},{name:"close",type:l.default.LABEL_VALUE_PAIR,indicator:t,value:e.closePrice,direction:e.direction},{name:"change",type:l.default.LABEL_VALUE_PAIR,indicator:t,value:[{value:i},{value:n}],direction:e.direction}]}function h(e,t,i){return[{name:i,type:l.default.LABEL_VALUE_PAIR,indicator:t,value:e.value}]}function p(e,t){return h(e,t,"TICK")}function _(e,t,i){let n;return(0,s.isBoolean)(e.upTrend)&&(n=e.upTrend?r.default.UP:r.default.DOWN),[{name:i,type:l.default.LABEL_VALUE_PAIR,indicator:t,value:e.value,direction:n}]}t.getRowsForIndicator=function(e,t,i,n){let s,r=n.getHeader(t,i);for(const l of t.outputPointTypes)s=null==e?void 0:e[l],t.isOutputShownOnTooltip(l)&&(s instanceof o.default?r=r.concat(c(s,t)):s instanceof d.default?r=r.concat(_(s,t,l)):s instanceof a.default?r=r.concat(p(s,t)):s&&(r=r.concat(h(s,t,l))));return r}},8590:(e,t)=>{"use strict";var i;Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.HEADER="HEADER",e.LABEL_VALUE_PAIR="LABEL_VALUE_PAIR"}(i||(i={})),t.default=i},15109:(e,t,i)=>{"use strict";var n=i(15215).Bx;Object.defineProperty(t,"__esModule",{value:!0});const s=i(43130),r=i(96001),o=n(i(938)),a=n(i(59465)),l=n(i(48202)),d=n(i(79198)),u=n(i(72661)),c=n(i(8590)),h=n(i(16377)),p=i(44513);class _{constructor(){this._valueFormatter=(new h.default).withDecimalPlaces(5)}static create(){return new _}setInstrumentModelCollection(e){return this._instrumentModelCollection=e,this}setUserTimeZone(e){return this._userTimeZone=e,this}formatAccTime(e){var t;const i=null===(t=this._instrumentModelCollection.timeline)||void 0===t?void 0:t.asDate(e);if(i){const e=this._instrumentModelCollection.activeResolution;return o.default.format(i,this._userTimeZone,e)}return""}formatAccTimeWithResolution(e){var t;return`${this.formatAccTime(e)} (${d.default.get(null===(t=this._instrumentModelCollection.activeResolution)||void 0===t?void 0:t.id)})`}formatTooltipLabel({type:e,indicator:t,name:i}){if(e===c.default.HEADER)return"";let n;return n="PRICES"===t.name?u.default.get(i):a.default.get(`${t.name}-${t.nameLabelType||i}`),n.match(/\{[^}]+\}/)?(0,r.merge)(n,t.getSettings()):n}formatTooltipValue(e,t){return(0,s.isString)(e.value)?(0,r.merge)(e.value,[]):(0,s.isNumber)(e.value)||(0,s.isNil)(e.value)?this._formatNumericalData(e,t):this._formatComplexData(e)}formatIndicatorTitle(e){var t;return e.name===p.PricesIndicatorName.PRICES?l.default.get(null===(t=this._instrumentModelCollection.priceCalculator)||void 0===t?void 0:t.type):a.default.get(e.shortLabelType?`${e.name}-${e.shortLabelType}`:e.name)}_formatComplexData({indicator:e,value:t}){var i;const n=e.epic?null===(i=this._instrumentModelCollection.getInstrumentModelForEpic(e.epic))||void 0===i?void 0:i.info:void 0;return t.map((({value:e})=>"string"==typeof e?e:this._valueFormatter.scaleAndRoundPrice(e,null==n?void 0:n.scalingFactor,null==n?void 0:n.decimalPlaces))).join(" ")}_formatNumericalData(e,t){var i;const n=e.indicator.getTooltipSettings()?e.indicator.getTooltipSettings().decimalPlaces:5;let s="";if(t&&e.indicator.epic){const t=null===(i=this._instrumentModelCollection.getInstrumentModelForEpic(e.indicator.epic))||void 0===i?void 0:i.info;s=this._valueFormatter.scaleAndRoundPrice(e.value,null==t?void 0:t.scalingFactor,e.indicator.name!==p.PricesIndicatorName.PRICES&&e.indicator.useUnderlyingInstrument?n:null==t?void 0:t.decimalPlaces)}else s=this._valueFormatter.scaleAndRoundPrice(e.value,1,n);return s}}t.default=_},4656:(e,t,i)=>{"use strict";var n=i(15215).Bx;const s=n(i(48990)),r=n(i(15109)),o=n(i(6141)),a=n(i(91150)),l=i(25485),d=n(i(38712)),u=i(10094),c=n(i(71606));class h extends s.default{constructor(){super(...arguments),this._tooltipTextFormatter=r.default.create(),this._isDealingFromChartEnabled=!1,this._isDelayedMarket=!1,this._yAxisWidth=0}notifyReadyToRender(){this.fire(o.default.READY_TO_RENDER)}startListening(e,t,i){this._visibleDateRange=t,this._tooltipModel=e,this._instrumentModel=i,this._tooltipTextFormatter.setInstrumentModelCollection(i),this._tooltipModel.on(o.default.MOVED,(()=>this.fire(o.default.MOVED)),this),this._tooltipModel.on(o.default.ENABLED,(e=>this.fire(o.default.ENABLED,e)),this),this._tooltipModel.on(o.default.DISABLED,(()=>this.fire(o.default.DISABLED)),this)}stopListening(){var e;null===(e=this._tooltipModel)||void 0===e||e.un(null,this),delete this._tooltipModel,delete this._instrumentModel,delete this._visibleDateRange}destroy(){this.stopListening(),super.destroy()}formatData(e){if(!this._instrumentModel)return[];const t=this.getAccTime();if("number"!=typeof t)return[];const i=this._instrumentModel.getDataPointsAtAccTime(t);return this.indicators.map((t=>new a.default(t.name,this._getFormattedRows((0,l.getRowsForIndicator)(i,t,this._tooltipTextFormatter.formatIndicatorTitle(t),this._indicatorHeaderStrategy),e),t.studyName)))}updatePosition(){this.fire(o.default.UPDATE_POSITION)}disable(){var e;null===(e=this._tooltipModel)||void 0===e||e.disable()}set userTimeZone(e){this._tooltipTextFormatter.setUserTimeZone(e)}set dealingFromChartEnabled(e){this._isDealingFromChartEnabled=e,this.fire(o.default.UPDATE_POSITION)}set delayedMarket(e){this._isDelayedMarket=e,this.fire(o.default.UPDATE_POSITION)}set yAxisWidth(e){this._yAxisWidth=e}get yAxisWidth(){return this._yAxisWidth}get indicators(){var e;if(!(null===(e=this._instrumentModel)||void 0===e?void 0:e.chartModel))return[];const t=this.getAccTime();if("number"!=typeof t)return[];const i=this._instrumentModel.getDataPointsAtAccTime(t);if(!i)return[];const n=Object.keys(i);return this._instrumentModel.chartModel.indicatorsInOrder.filter((e=>function(e,t){return t.outputPointTypes.some((t=>e.includes(t)))}(n,e)))}getAccTime(){const e=this._tooltipModel&&this._tooltipModel.accTime;return"number"==typeof e?e:null}isVisible(){return this.isEnabled()&&"number"==typeof this.getAccTime()}isEnabled(){return!!this._tooltipModel&&this._tooltipModel.isEnabled()}get _lastPointAccTime(){const e=this._lastPoint;if(!e)return null;const t=Object.keys(e);return t.length?e[t[0]].accTime:null}get _lastPoint(){if(!this._visibleDateRange)return null;const e=[this._visibleDateRange.accStart(),this._visibleDateRange.accEnd()-this._visibleDateRange.marginAccDuration()];return d.default.findLastPointsInAccRange(this._visibleDateRange.getVisibleBlocks(),e)}getYLevelInStudyView(e){if(!this._tooltipModel||!this._isLevelInStudyView(e))return null;const t=this._tooltipModel.level;return"number"!=typeof t?null:t-e.y}_isLevelInStudyView(e){if(!this._tooltipModel)return!1;const t=this._tooltipModel.level;return"number"==typeof t&&(0,u.between)(t,e.y,e.y+e.height)}getBadgePositionInStudyView(e){let t=this.getYLevelInStudyView(e);return"number"!=typeof t?null:(t=Math.max(9.5,t),t=Math.min(e.height-9.5,t),t)}get levelBadgeDimensions(){return{x:-this._yAxisWidth,y:-9.5,width:this._yAxisWidth,height:19}}_getFormattedRows(e,t){return e.map((e=>{const i=[e.name,e.indicator.name];return new c.default(this._tooltipTextFormatter.formatTooltipLabel(e),this._tooltipTextFormatter.formatTooltipValue(e,t[e.indicator.studyName]),e.type,i,e.direction)}))}}t.A=h},46087:(e,t,i)=>{"use strict";const n=(0,i(15215).Bx)(i(72046));class s extends n.default{constructor(){super(...arguments),this.onHoverIn=this.showTooltip,this.onHoverOut=this.hideTooltip}static create(e){return new s(e)}startListening(e,t){return super.startListening(e,t),this._presentationModel.startListening(this._tooltipModel,e.visibleDateRange,t,this._containerProvider),this}}t.A=s},58703:(e,t,i)=>{"use strict";var n=i(15215).Bx;Object.defineProperty(t,"__esModule",{value:!0}),t.fromMenuSource=t.EventOrigin=t.SINGULAR_EVENTS=t.GA_DEAL_ACTION=t.GA_ACTION=void 0;const s=n(i(79700));var r,o;!function(e){e.SCROLLING="Chart Scrolling",e.ZOOMING="Chart Zooming",e.LATEST_CANDLES="Chart Latest Candles",e.TIMELINE_INTERACTION="Chart Timeline",e.DATERANGE_CHANGE="Chart Daterange",e.RESOLUTION="Chart Interval",e.INDICATORS="Chart Indicators",e.DRAWINGS="Chart Drawings",e.VISIBILITY="Chart Visibility",e.EVENTS="Chart Events",e.PRICE_STYLE="Chart Price Style",e.PRICE_TYPE="Chart Price Type",e.SCALE_TYPE="Chart Scale Type",e.LAYOUTS="Chart Templates",e.SPLIT_CHARTS="Chart Split Chart",e.SCREENSHOT="Chart Screenshot",e.IMPRESSION="Chart Impression",e.TROUBLESHOOTER="Chart Troubleshooter",e.THEMING="Chart Theming"}(r=t.GA_ACTION||(t.GA_ACTION={})),function(e){e.SUBMIT="submit",e.UPDATE="update",e.DELETE="delete",e.CONFIRMED="confirmed",e.PARTIALLY_FILLED="partially_filled",e.REJECTED="rejected",e.ACKNOWLEDGED="acknowledged"}(t.GA_DEAL_ACTION||(t.GA_DEAL_ACTION={})),t.SINGULAR_EVENTS=Object.freeze([r.SCROLLING,r.ZOOMING,r.TIMELINE_INTERACTION,r.IMPRESSION]),function(e){e.MENU_MAIN="menu_main",e.MENU_SECONDARY="menu_secondary",e.MENU_SECONDARY_STICKY="menu_secondary_sticky",e.DIALOG="dialog",e.KEYBOARD="keyboard",e.SUBJECT="subject"}(o=t.EventOrigin||(t.EventOrigin={})),t.fromMenuSource=function(e){return e===s.default.TOP?o.MENU_SECONDARY:e===s.default.TOP_STICKY?o.MENU_SECONDARY_STICKY:o.MENU_MAIN}},43453:(e,t,i)=>{"use strict";var n=i(15215).Bx;Object.defineProperty(t,"__esModule",{value:!0});const s=i(43130),r=i(58703),o=n(i(17660)),a=i(35683),l=n(i(85673)),d=n(i(8330));class u{constructor(e,t){if(this._context={},this._singularEventReports=(0,s.fromPairs)(r.SINGULAR_EVENTS.map((e=>[e,!1]))),this._eventBus=e,e.subscribe("chart/instrument/info",this._handleInfoLoaded,this),e.subscribe("chart/instrument/destroy",this._handleInfoDestroyed,this),t){const e=o.default.getInstance();this._contextInit={account_id:e.getAccountId(),tracking_id:e.getTrackingId()}}e.subscribe("tracker/ga",this.report,this)}static create(e,t){return new u(e,t)}report(e){if(!this._context.chart_version){const e=o.default.getInstance().getEnabledTests().map((e=>e.toLowerCase())).join("-");this._context.chart_version=e?`${d.default.version}-${e}`:`${d.default.version}`}let t;if(void 0!==e.interaction_type){if(this._singularEventReports[e.interaction_type])return;t=Object.assign(Object.assign(Object.assign({event:"chart_interaction",event_category:"Chart Interaction",event_action:e.interaction_type,event_label:"interaction_value"in e?e.interaction_value:void 0,event_value:void 0,interaction_value:void 0},e),this._context),this._contextInit),delete this._contextInit,!1===this._singularEventReports[e.interaction_type]&&(this._singularEventReports[e.interaction_type]=!0)}else if((e=>void 0!==e.submitted_deal_size)(e))t=Object.assign(Object.assign({event:"dealing_interaction",event_category:"Dealing interaction",event_label:void 0,event_value:0,ui_ticket_location:"charts",platform:l.default.trackingPlatform},e),this._context);else{if(!(e=>void 0!==e.deal_result)(e))throw new Error("Invalid GA tracking payload.");t=Object.assign(Object.assign({event:"deal_result",event_category:"Deal result",event_label:(0,a.dealResultLabelFromAction)(e.event_action),event_value:0,platform:l.default.trackingPlatform},e),this._context)}window.dataLayer=window.dataLayer||[],window.dataLayer.push(t)}_handleInfoLoaded(e){this._context.instrument_epic_id=e.epic,this._context.instrument_name=e.name,this.report({interaction_type:r.GA_ACTION.IMPRESSION})}_handleInfoDestroyed(){delete this._context.instrument_epic_id,delete this._context.instrument_name}destroy(){this._eventBus.unsubscribeAll(this)}}t.default=u},99770:(e,t,i)=>{"use strict";var n=i(15215).Bx;t.GQ=void 0;const s=i(43130),r=n(i(43453));t.GQ=Object.freeze({ga:r.default});t.Ay=class{constructor(e,i={}){this._eventBus=e,this._isStandalone=!!i.standalone,this._enabledTrackers=i.enabledTrackers||Object.keys(t.GQ)}init(){this._trackers=(0,s.mapValues)((0,s.pick)(t.GQ,this._enabledTrackers),(e=>e.create(this._eventBus,this._isStandalone)))}destroy(){this._trackers&&((0,s.each)(this._trackers,(e=>e.destroy())),delete this._trackers)}}},67585:(e,t,i)=>{"use strict";var n=i(15215).Bx;Object.defineProperty(t,"__esModule",{value:!0});const s=n(i(44853)),r=n(i(38330)),o=n(i(97287)),a=n(i(58150)),l=n(i(65169)),d=n(i(2250)),u=n(i(91814)),c=n(i(3263)),h=n(i(94919)),p=n(i(95764)),_=n(i(14957)),g=n(i(88936)),f={flavour:{type:o.default},package:{type:d.default},mfe:{type:g.default},deviceInfo:{type:u.default},browser:{type:a.default},userInfo:{type:c.default},instrumentInfo:{type:s.default},environmentInfo:{type:h.default},visibilitySettings:{type:l.default},positions:{type:r.default},featureFlags:{type:_.default},uncaughtErrors:{type:p.default}};t.default=f},39867:(e,t,i)=>{"use strict";var n=i(15215).Bx;Object.defineProperty(t,"__esModule",{value:!0});const s=n(i(95151));t.default=new s.default({de:{chartSystemInfo:"Informationen zum Chart System",infoTitle:"Diese Informationen enthalten Details zu unserem Chart System",infoContent:"Die Weitergabe dieser Daten hilft uns Leistungsprobleme zu diagnostizieren und unseren Service zu optimieren.",gatheringData:"Daten werden erfasst",copyText:"Kopie"},en:{chartSystemInfo:"Chart System Information",infoTitle:"This information contains detail of our charts system.",infoContent:"Sharing it with us can help to diagnose performance issues and improve our services.",gatheringData:"Gathering data",copyText:"Copy"},es:{chartSystemInfo:"Información sobre el sistema de gráficos",infoTitle:"Esta información contiene detalles sobre nuestro sistema de gráficos",infoContent:"Si la compartes con nosotros, nos ayudarás a detectar problemas de rendimiento y a mejorar nuestros servicios.",gatheringData:"Recopilando datos",copyText:"Copiar"},fr:{chartSystemInfo:"Information du système de graphiques",infoTitle:"Cette information contient les détails de nos outils graphiques.",infoContent:"Merci de nous la transmettre afin de nous permettre de diagnostiquer des problèmes de performance et d'améliorer nos services.",gatheringData:"Récupération des données en cours",copyText:"Copier"},it:{chartSystemInfo:"Informazioni sul pacchetto grafici",infoTitle:"Queste informazioni contengono dettagli sul nostro pacchetto grafici",infoContent:"Condividerle con noi può aiutarci a rilevare problemi di funzionamento e migliorare i nostri servizi.",gatheringData:"Raccolta dei dati",copyText:"Copia"},ja:{chartSystemInfo:"チャートに関する情報",infoTitle:"この画面には表示されているチャートの詳細情報が表示されます。",infoContent:"動作の不具合など各種問題が発生した場合、表示された情報を弊社にお送りいただくことで事象の検証、修正の手助けとなります。",gatheringData:"データ収集中...",copyText:"コピー"},nl:{chartSystemInfo:"Informatie over het grafieksysteem",infoTitle:"Deze informatie bevat details over ons grafieksysteem.",infoContent:"Als u dit met ons deelt, kan dat helpen bij het oplossen van problemen en het verbeteren van onze dienstverlening.",gatheringData:"Gegevens verzamelen",copyText:"Kopiëren"},nb:{chartSystemInfo:"Diagramsystem Informasjon",infoTitle:"Denne informasjonen inneholder detaljer om diagramsystemet vårt",infoContent:"Deling av dette kan hjelpe oss med diagnosering av problemer og forbedring av tjenestene våre.",gatheringData:"Henter data",copyText:"Kopier"},pt:{chartSystemInfo:"Informação do sistema de gráficos",infoTitle:"Esta informação contém detalhes do nosso sistema de gráficos",infoContent:"Compartilhá-lo conosco pode ajudar a diagnosticar problemas de desempenho e melhorar nossos serviços.",gatheringData:"Recolhendo dados",copyText:"Copiar"},sv:{chartSystemInfo:"Diagraminformation",infoTitle:"Denna information innehåller detaljer om vårt diagramsystem",infoContent:"Att dela det med oss kan hjälpa till att diagnostisera prestandaproblem och förbättra våra tjänster.",gatheringData:"Hämtar data",copyText:"Kopiera"},zh:{chartSystemInfo:"图表系统信息",infoTitle:"此信息包含关于我们图表系统 的详细情况",infoContent:"与我们分享它，有助于诊断 性能问题并改进我们的服务",gatheringData:"收集数据",copyText:"拷贝"},zh_TW:{chartSystemInfo:"圖表系統信息",infoTitle:"此信息包含關於我們圖表系統 的詳細情況",infoContent:"與我們分享它，有助於診斷 性能問題並改進我們的服務",gatheringData:"收集數據",copyText:"拷貝"}})},61858:(e,t,i)=>{"use strict";var n=i(15215).Bx,s=i(15215).ut;Object.defineProperty(t,"__esModule",{value:!0}),t.GATHERER_DATA_CHANGED=t.GATHER_DATA_TIMEOUT_MS=void 0;const r=n(i(289)),o=s(i(31423));t.GATHER_DATA_TIMEOUT_MS=5e3,t.GATHERER_DATA_CHANGED="GathererDataChanged";class a{constructor(){this._promise=new Promise((e=>{this._resolve=e}))}get promise(){return this._promise}resolve(e){this._resolve(e),this._promise=Promise.resolve(e)}destroy(){this._resolve(null),delete this._promise}}class l extends r.default{constructor(e,t,i,n){super(),this._options=e,this._eventBus=t,this._settingsManager=i,this._moduleLoader=n,this._isRetrospective=!1,this._dataHistory=[],this._dataPromise=new a}init(){this._isRetrospective&&this._dataPromise.resolve([]);try{this._init()}catch(e){this._setError(o.GatherDataErrorEnum.INIT_FAILED,e)}return this}getData(){return window.clearTimeout(this._getDataTimeout),this._getDataTimeout=window.setTimeout((()=>{this._setError(o.GatherDataErrorEnum.TIMEOUT)}),t.GATHER_DATA_TIMEOUT_MS),this._safelyGatherData(),this._dataPromise.promise.then((e=>(window.clearTimeout(this._getDataTimeout),e)))}destroy(){super.destroy(),this._dataPromise.destroy()}_init(){}_gatherData(){}set _data(e){this._setData(e,!0)}_safelyGatherData(){let e;try{e=this._gatherData()}catch(t){this._setError(o.GatherDataErrorEnum.GATHER_FAILED,t)}e&&this._setData(e,!1)}_setData(e,t){try{JSON.stringify(e)}catch(i){return void this._setError(o.GatherDataErrorEnum.JSON_STRINGIFY_FAILED,i)}this._resolve(e,t)}_setError(e,t,i=!1){this._resolve((0,o.default)(e,t),i)}_resolve(e,i=!0){this._isRetrospective?(this._dataHistory.push(e),this._dataPromise.resolve(this._dataHistory)):this._dataPromise.resolve(e),i&&this.fire(t.GATHERER_DATA_CHANGED)}}t.default=l},58150:(e,t,i)=>{"use strict";var n=i(15215).Bx;Object.defineProperty(t,"__esModule",{value:!0});const s=n(i(61858));class r extends s.default{_gatherData(){const e=window.performance&&PerformanceNavigationTiming?0===performance.getEntriesByType("navigation")[0].toJSON().transferSize:null;return{url:document.URL,isCached:e}}}t.default=r},91814:(e,t,i)=>{"use strict";var n=i(15215).Bx;Object.defineProperty(t,"__esModule",{value:!0});const s=n(i(61858)),r=n(i(85673));class o extends s.default{_gatherData(){const e=r.default.getInstance().asJSON();return{osType:e.osType,osVersion:e.osVersion,applicationType:e.applicationType,clientPlatform:e.clientPlatform,clientVersion:e.clientVersion,clientBuildVersion:e.clientBuildVersion,clientType:e.clientType,deviceType:e.deviceType,deviceVersion:e.deviceVersion,touch:e.touch,buildLabel:e.buildLabel,userAgent:e.userAgent}}}t.default=o},94919:(e,t,i)=>{"use strict";var n=i(15215).Bx;Object.defineProperty(t,"__esModule",{value:!0});const s=n(i(61858)),r=n(i(39842));class o extends s.default{_gatherData(){return{environment:r.default.getInstance().getEnvironment()}}}t.default=o},14957:(e,t,i)=>{"use strict";var n=i(15215).Bx;Object.defineProperty(t,"__esModule",{value:!0});const s=n(i(61858)),r=n(i(65854));class o extends s.default{_gatherData(){return r.default.getInstance().getFlags()}}t.default=o},97287:(e,t,i)=>{"use strict";var n=i(15215).Bx;Object.defineProperty(t,"__esModule",{value:!0});const s=n(i(61858));class r extends s.default{_gatherData(){return{flavour:this._options.flavour}}}t.default=r},44853:(e,t,i)=>{"use strict";var n=i(15215).Bx;Object.defineProperty(t,"__esModule",{value:!0});const s=n(i(61858));class r extends s.default{destroy(){super.destroy(),this._eventBus.unsubscribe("chart/instrument/info",this._handleInstrumentInfoLoaded,this)}_init(){super._init(),this._eventBus.subscribe("chart/instrument/info",this._handleInstrumentInfoLoaded,this,{once:!0})}_handleInstrumentInfoLoaded(e){this._data={epic:e.epic,remappedEpic:e.remappedEpic,instrumentName:e.name,delay:e.delay}}}t.default=r},88936:(e,t,i)=>{"use strict";var n=i(15215).Bx;Object.defineProperty(t,"__esModule",{value:!0});const s=n(i(61858));class r extends s.default{_gatherData(){var e,t;return{jsSource:null===(e=document.querySelector('link[href*="charts.js"]'))||void 0===e?void 0:e.href,cssSource:null===(t=document.querySelector('link[href*="charts.css"]'))||void 0===t?void 0:t.href}}}t.default=r},2250:(e,t,i)=>{"use strict";var n=i(15215).Bx;Object.defineProperty(t,"__esModule",{value:!0});const s=n(i(61858)),r=n(i(8330));class o extends s.default{_gatherData(){return{version:r.default.version}}}t.default=o},38330:(e,t,i)=>{"use strict";var n=i(15215).Bx;Object.defineProperty(t,"__esModule",{value:!0});const s=n(i(61858));function r(e){return{dealId:e.getDealId(),openLevel:e.getOpenLevel()}}class o extends s.default{_gatherData(){const e=this._moduleLoader.getModule("dealingCommon");return{openPositions:e.getOpenPositions().map(r),workingOrders:e.getWorkingOrders().map(r)}}}t.default=o},95764:(e,t,i)=>{"use strict";var n=i(15215).Bx;Object.defineProperty(t,"__esModule",{value:!0});const s=n(i(61858));class r extends s.default{constructor(){super(...arguments),this._isRetrospective=!0}_init(){super._init(),this._boundHandleUncaughtError=this._handleUncaughtError.bind(this),window.addEventListener("error",this._boundHandleUncaughtError)}destroy(){super.destroy(),window.removeEventListener("error",this._boundHandleUncaughtError)}_handleUncaughtError(e){this._data={message:e.message,fileName:e.filename,lineNum:e.lineno,stack:e.error?e.error.stack:"stack trace unavailable"}}}t.default=r},3263:(e,t,i)=>{"use strict";var n=i(15215).Bx;Object.defineProperty(t,"__esModule",{value:!0});const s=n(i(61858)),r=n(i(17660));class o extends s.default{_gatherData(){const e=r.default.getInstance();return{locale:e.getLocale(),productCode:e.getProductCode(),assetClass:e.getAssetClass(),webSiteId:e.getWebSiteId(),siteType:e.getSiteType()}}}t.default=o},65169:(e,t,i)=>{"use strict";var n=i(15215).Bx;Object.defineProperty(t,"__esModule",{value:!0});const s=n(i(61858));class r extends s.default{_gatherData(){return{openPositions:this._settingsManager.getDealingOpenPositionsVisibility(),workingOrders:this._settingsManager.getDealingWorkingOrdersVisibility()}}}t.default=r},70522:(e,t,i)=>{"use strict";var n=i(15215).Bx,s=i(15215).ut;const r=n(i(23929)),o=n(i(47292)),a=n(i(67585)),l=i(61858),d=s(i(31423)),u=n(i(13365)),c=n(i(50951)),h=n(i(10520)),p=n(i(98760)),_=i(58703);class g{constructor(e,t,i,n,s,r,o,a){this._eventBus=e,this._options=t,this._moduleLoader=i,this._settingsManager=s,this._containerProvider=r,this._taskManager=a,this._currentUpdateId=0,g._instance&&g._instance.destroy(),g._instance=this}static get instance(){if(!g._instance)throw new Error("Troubleshooter module not active.");return g._instance}init(){this._eventBus.subscribe("chart/view/ready",this._handleChartViewReady,this),this._dataGatherers=new Map(Object.entries(a.default).map((([e,t])=>{const i=new t.type(this._options,this._eventBus,this._settingsManager,this._moduleLoader).init();return i.on(l.GATHERER_DATA_CHANGED,this._handleGathererDataChanged,this),[e,i]})))}destroy(){var e;if(null===(e=this._dialog)||void 0===e||e.destroy(),delete this._dialog,this._dataGatherers){for(const[,e]of this._dataGatherers)e.destroy();this._dataGatherers.clear(),delete this._dataGatherers}delete g._instance}_showDialog(){this._captureZoneManager&&!this._dialog&&(this._dialog=new r.default(this._eventBus,this._captureZoneManager,this._taskManager).initDom(this._containerProvider.getContainer("top-html")),this._dialog.on(o.default.CLOSE,this._onDialogClose,this),this._dialog.on(o.default.DONE,this._onDialogClose,this),this._eventBus.publish("tracker/ga",[{interaction_type:_.GA_ACTION.TROUBLESHOOTER}]),this._updateDialogContent())}_handleGathererDataChanged(){this._dialog&&this._updateDialogContent()}_updateDialogContent(){if(!this._dialog)return;const e=++this._currentUpdateId,t=Array.from(this._dataGatherers,(([e,t])=>t.getData().then((t=>[e,t]),(t=>[e,t]))));return Promise.all(t).then((t=>{if(e!==this._currentUpdateId)return;const i=t.reduce(((e,[t,i])=>Object.assign(e,{[t]:i})),{});return JSON.stringify(i,((e,t)=>t instanceof Error?t.message:void 0===t?"<undefined>":t),2)})).catch((e=>JSON.stringify((0,d.default)(d.GatherDataErrorEnum.JSON_STRINGIFY_FAILED,e)))).then((e=>{e&&this._dialog&&(this._dialog.content.data=e)}))}_onDialogClose(){this._dialog&&(this._dialog.destroy(),this._dialog.un(null,this),delete this._dialog)}_handleChartViewReady(e,t){this._captureZoneManager=t,this._triggerCaptureZone=this._captureZoneManager.createZone(u.default,c.default.PROPAGATE_UNHANDLED,h.default.TROUBLESHOOTER_TRIGGER),this._triggerCaptureZone.addGesture(p.default,{count:7,fastTap:!0,onGesture:this._showDialog,context:this})}}t.A=g},31423:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GatherDataErrorEnum=void 0,function(e){e.TIMEOUT="timeout",e.INIT_FAILED="failed to initialise",e.GATHER_FAILED="failed to gather data",e.JSON_STRINGIFY_FAILED="failed to JSON stringify data"}(t.GatherDataErrorEnum||(t.GatherDataErrorEnum={})),t.default=function(e,t){return{error:Object.assign({title:e},t instanceof Error&&{message:t.message})}}},23929:(e,t,i)=>{"use strict";var n=i(15215).Bx;Object.defineProperty(t,"__esModule",{value:!0});const s=n(i(47292)),r=n(i(65492)),o=n(i(39867));class a extends s.default{_getDialogTitle(){return o.default.get("chartSystemInfo")}_getDialogClasses(){return`${super._getDialogClasses()} chartSystemInfoDialog`}_createContent(e){return new r.default(this,this._eventBus,this._captureZoneManager,this._taskManager).initDom(e)}}t.default=a},65492:(e,t,i)=>{"use strict";var n=i(15215).Bx;Object.defineProperty(t,"__esModule",{value:!0}),t.GATHERING_ANIMATION_INTERVAL=void 0;const s=n(i(88933)),r=n(i(16687)),o=n(i(39867));t.GATHERING_ANIMATION_INTERVAL=500;class a extends r.default{constructor(){super(...arguments),this._gatheringIntervalCount=0,this._gatheringInterval=window.setInterval((()=>this._handleGatheringInterval()),t.GATHERING_ANIMATION_INTERVAL)}set data(e){window.clearInterval(this._gatheringInterval),this._textArea.value=e,this._textArea.select()}destroy(){super.destroy(),window.clearInterval(this._gatheringInterval)}_createContent(){const e=this.dContainer.append("div").classed("flexiBlock flexiBlock--info",!0);e.append("p").classed("flexiBlock__title",!0).text(o.default.get("infoTitle")),e.append("p").classed("flexiBlock__text",!0).text(o.default.get("infoContent")),this._textArea=new s.default(0,0,o.default.get("gatheringData"),!0,!0).initDom(this.dContainer),this._createCancelButton(),this._createDoneButton(this._handleClickDoneButton,o.default.get("copyText"))}_handleGatheringInterval(){this._textArea.value=o.default.get("gatheringData")+" .".repeat(++this._gatheringIntervalCount%3+1)}_handleClickDoneButton(){return navigator.clipboard.writeText(this._textArea.value)}}t.default=a},97414:(e,t,i)=>{"use strict";var n=i(15215).Bx;Object.defineProperty(t,"__esModule",{value:!0});const s=i(54859),r=n(i(43301)),o=n(i(36080)),a=n(i(23443)),l=n(i(46802)),d=n(i(82596)),u={prices:{presentationControllers:{turbosPresentationController:{type:l.default,presentationModel:{type:r.default}}},renderers:{turbosTrades:{type:o.default,group:"studyOverlay",presentationController:"turbosPresentationController",properties:{relativeWeighting:901}},turbosLevels:{type:d.default,group:"yAxis",position:"yAxis",presentationController:"turbosPresentationController",properties:{relativeWeighting:2}},turbos:{type:a.default,group:"studyOverlay",presentationController:"turbosPresentationController",properties:{relativeWeighting:900}}}}};t.default=(0,s.recursiveFreeze)(u)},25440:(e,t)=>{"use strict";var i;Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.TURBOS_UPDATED="TURBOS_UPDATED",e.TURBO_SELECTED="TURBO_SELECTED"}(i||(i={})),t.default=i},96054:(e,t,i)=>{"use strict";var n=i(15215).Bx;const s=i(61346),r=i(97481),o=n(i(52893)),a=n(i(14243)),l=n(i(289)),d=n(i(25440)),u=n(i(97414)),c=i(90171);class h extends l.default{constructor(e,t,i){super(),this._bidir=new r.Blocker,this._selectedTurbo=null,this._turbos=null,this._eventBus=e,this._moduleLoader=i}get turbos(){return this._turbos}set turbos(e){e&&e.sort(((e,t)=>e.strikeLevel-t.strikeLevel)),this._turbos=e,this.fire(d.default.TURBOS_UPDATED)}get selectedTurbo(){return this._selectedTurbo}set selectedTurbo(e){e!==this._selectedTurbo&&(this._selectedTurbo=e,this.fire(d.default.TURBO_SELECTED,e))}init(){this._eventBus.publish("subViews/config",["turbos",u.default]),this._eventBus.subscribe("api/in/turbos/set",(function(e){this._eventBus.flush("api/in/turbos/set"),this.turbos=e}),this),this._eventBus.subscribe("api/in/turbos/selected",(function(e){this._eventBus.flush("api/in/turbos/selected"),this._bidir.block((()=>this.selectedTurbo=e))}),this),this._eventBus.subscribe("chart/epic/changed",(e=>{(null==e?void 0:e.switchSource)!==c.SwitcherSource.INSTRUMENT_SWITCHER&&this._clearTurbos()}),this),this.on(d.default.TURBO_SELECTED,(function(e){this._bidir.run((()=>this._eventBus.publish("api/out/turbos/selected",[e])))}),this)}deleteOrder(e,t){const i=this._moduleLoader.getModule("dealingCommon"),{dependenciesPromise:n,dealReferenceGenerator:r,confirmationClient:o,session:a}=i.getTicketDependencies();n.then((([n,l])=>{const d=new s.DeleteMTFOrderTicket(new s.MTFService(a,o,r),e.trade,n,l,r,a);i.submitTicket(d,t,t)}))}_clearTurbos(){this.selectedTurbo=null,this.turbos=null}destroy(){this._eventBus.publish("subViews/removeConfig",["turbos"]),this._eventBus.unsubscribeAll(this),this.un(null,this)}}h.settingsParsers={global:{moduleName:a.default.STRIKES,parserClass:o.default}},t.A=h},44897:(e,t,i)=>{"use strict";var n=i(15215).Bx;Object.defineProperty(t,"__esModule",{value:!0}),t.getOrderSizeLabel=t.getOrderTypeLabel=void 0;const s=n(i(72910));t.getOrderTypeLabel=function(e){return s.default.get("tooltipLimit"+("GTC"===e.getGoodTill()?"Gtc":"Day"))},t.getOrderSizeLabel=function(e){return`${e.getDealSize()} @${e.getOpenLevel().toFixed(e.getMarketDecimalPlacesFactor())}`}},46802:(e,t,i)=>{"use strict";var n=i(15215).Bx;Object.defineProperty(t,"__esModule",{value:!0});const s=n(i(25440)),r=n(i(19487)),o=i(35864),a=n(i(13001));class l extends r.default{constructor(){super(...arguments),this._moduleName="turbos"}startListening(e,t){return this._module=this._moduleLoader.getModule(this._moduleName),super.startListening(e,t),this._module.on(s.default.TURBOS_UPDATED,this._createViewModels,this),this._module.on(s.default.TURBO_SELECTED,this.selectModel,this),this._presentationModel.on(this._presentationModel.EVENT_PREFIX+o.STRIKE_SELECTED,(e=>{this._module.selectedTurbo=e?e.epic:null,(null==e?void 0:e.position)&&this._moduleLoader.getModule("dealingCommon").loadDealingRules(e.position.getInstrument())}),this),this._createViewModels(),this}_createViewModels(){var e,t;const i=null===(t=null===(e=this._instrumentModelCollection)||void 0===e?void 0:e.underlyingInstrumentModel)||void 0===t?void 0:t.info;i&&(this._presentationModel.viewModels=this._module.turbos?this._module.turbos.map((e=>{const t=new a.default(e,this._presentationModel,i.scalingFactor,i.decimalPlaces,this._containerProvider,e.optionType);return t.position=this._presentationModel.getOpenPosition(e.epic),t.orders=this._presentationModel.getWorkingOrders(e.epic),t})):null,this._module.selectedTurbo&&this.selectModel(this._module.selectedTurbo))}}t.default=l},43301:(e,t,i)=>{"use strict";var n=i(15215).Bx;Object.defineProperty(t,"__esModule",{value:!0});const s=n(i(57034));class r extends s.default{constructor(){super(...arguments),this.EVENT_PREFIX="TURBOS"}}t.default=r},80251:(e,t,i)=>{"use strict";var n=i(15215).Bx;Object.defineProperty(t,"__esModule",{value:!0});const s=n(i(57091)),r=i(13001),o=n(i(6182)),a=n(i(98760));class l extends s.default{_updateState(e,t,i){t||(t=this._viewModel.strikeState===r.StrikeState.SELECTED?r.StrikeState.VISIBLE:r.StrikeState.SELECTED),i||(i=this._viewModel.strikeState),(0,r.to)(r.StrikeState.SELECTED,t,i)?(this._dBadgeContainer.classed("selected",!0),this._captureZone.removeGesture(this._recogniser),delete this._recogniser,this._captureZone.withoutCursorOnHover(),this._captureZone.setHoverHandler({out(){this._captureZone.removeHoverHandler()},outContext:this})):(0,r.from)(r.StrikeState.SELECTED,t,i)&&(this._dBadgeContainer.classed("selected",!1),this._recogniser=this._captureZone.addGesture(a.default,{onGesture(){this.selectModel(e)},context:this._presentationController,fastTap:!0}),this._captureZone.withCursorOnHover(o.default.POINTER),this._captureZone.setHoverHandler({in(){this.hoverModel(e)},inContext:this._presentationController,out(){this.hoverModel(null)},outContext:this._presentationController})),(0,r.to)(r.StrikeState.HOVERED,t,i)?this._dBadgeContainer.classed("hover",!0):(0,r.from)(r.StrikeState.HOVERED,t,i)&&this._dBadgeContainer.classed("hover",!1),this.render()}}t.default=l},46855:(e,t,i)=>{"use strict";var n=i(15215).Bx;Object.defineProperty(t,"__esModule",{value:!0});const s=n(i(6182)),r=n(i(87861)),o=n(i(10520)),a=i(13001),l=n(i(56943));class d extends l.default{_updateState(e,t,i){t||(t=this._viewModel.strikeState===a.StrikeState.SELECTED?a.StrikeState.VISIBLE:a.StrikeState.SELECTED),i||(i=this._viewModel.strikeState),(0,a.to)(a.StrikeState.SELECTED,t,i)?(this._koBubble=r.default.create(this._dComponent),this._koBubble.setText("KO"),this._createBackButton(this._dComponent),this.updatePosition(),this._dComponent.classed("selected",!0),this.off("tap"),this.withoutCursorOnHover(),this._getCaptureZone().setHoverHandler({out(){this._getCaptureZone().removeHoverHandler()},outContext:this})):(0,a.from)(a.StrikeState.SELECTED,t,i)&&(this._koBubble&&(this._koBubble.destroy(),delete this._koBubble),this._destroyBackButton(),this._dComponent.classed("selected",!1),this.on("tap",{onGesture(){this.selectModel(e)},context:this._presentationController,fastTap:!0}),this.updateCaptureZoneIndex(o.default.STRIKE_TRADES_LINE),this.withCursorOnHover(s.default.POINTER),this._getCaptureZone().setHoverHandler({in(){this.hoverModel(e)},inContext:this._presentationController,out(){this.hoverModel(null)},outContext:this._presentationController})),(0,a.to)(a.StrikeState.HOVERED,t,i)?this._dComponent.classed("hover",!0):(0,a.from)(a.StrikeState.HOVERED,t,i)&&this._dComponent.classed("hover",!1),this.updatePosition()}}t.default=d},82596:(e,t,i)=>{"use strict";var n=i(15215).Bx;Object.defineProperty(t,"__esModule",{value:!0});const s=i(13001),r=n(i(94351)),o=n(i(80251));class a extends r.default{_createHelper(e){const t=new o.default(e,this.dContainer,this._animationPoller,this._visibleWindow,this._captureZoneManager,this._presentationController);return t.initDom(),t}_updatePosition(e){e.render()}_destroyHelper(e){e.destroy()}_shouldStrikeHide(e,t){return e!==s.StrikeState.VISIBLE_WITH_TRADES&&e!==s.StrikeState.HIDDEN&&(t===s.StrikeState.VISIBLE_WITH_TRADES||t===s.StrikeState.HIDDEN)}_shouldStrikeShow(e,t){return(e===s.StrikeState.VISIBLE_WITH_TRADES||e===s.StrikeState.HIDDEN)&&t!==s.StrikeState.VISIBLE_WITH_TRADES&&t!==s.StrikeState.HIDDEN}}t.default=a},23443:(e,t,i)=>{"use strict";var n=i(15215).Bx,s=i(15215).ut;Object.defineProperty(t,"__esModule",{value:!0});const r=i(73848),o=n(i(46855)),a=n(i(72910)),l=s(i(94351));class d extends l.default{_createHelper(e){const t=new o.default(this.dContainer,this._captureZoneManager,e,this._subView,this._presentationController);return t.onBackButtonClicked((function(){this.selectModel(null)}),this._presentationController),t.onBackButtonHovered((function(){const e=t.getElement().select(".backButton").node().getBoundingClientRect();this.publish("hint-tooltip/hover/enter",[{itemId:l.BACK_BUTTON_TOOLTIP_ID,groupId:l.BACK_BUTTON_TOOLTIP_ID,direction:r.TOOLTIP_APPEARANCE.ABOVE,message:a.default.get("tooltipTurbosBack"),rect:e}])}),(function(){this.publish("hint-tooltip/hover/exit",[l.BACK_BUTTON_TOOLTIP_ID])}),this._eventBus),t}_updatePosition(e){e.updatePosition()}_destroyHelper(e){e.destroy()}}t.default=d},36080:(e,t,i)=>{"use strict";var n=i(15215).Bx,s=i(15215).ut;Object.defineProperty(t,"__esModule",{value:!0});const r=i(43130),o=i(84039);i(14089);const a=n(i(6182)),l=s(i(2274)),d=n(i(84811)),u=n(i(72910)),c=n(i(10520)),h=n(i(38465)),p=n(i(83542)),_=i(44897);class g extends h.default{_createHelper(e){const t=new p.default(this.dContainer,this._captureZoneManager,e,this._presentationController,this._subView.getChartView().getUniqueElementId("gradient-button-white"));return t.withCursorOnHover(a.default.POINTER),t.on("tap",{count:1,fastTap:!0,onGesture(){this.selectModel(e),this.expandSelected(!0)},context:this._presentationController}),t.onInfoIconClicked((function(){this._presentationController.showTooltip(e)}),this),t.onCloseButtonClicked((function(){this._presentationController.closePosition(e)}),this),t.updateCaptureZoneIndex(c.default.STRIKE_TRADES_BADGE),t}_generateTooltipContent(e,t){const i=(0,o.select)(t?Object.assign(t,{innerHTML:""}):document.createElement("div")),n=i.append("h1");if(n.appendElement(document.createTextNode(`${e.formattedStrikeLevel} `)),n.append("span").classed("direction",!0).classed(e.className,!0).text(u.default.get((0,r.camelCase)(`tooltip ${e.strikeOptionType} turbo`))),n.svgFromString(e.icon).attrs({width:"11",height:"11",viewBox:"2 2 9 9"}),e.position&&(i.append("h2").text(u.default.get("tooltipTitlePosition")),i.append("ul").append("li").text(`${e.totalSize} ${e.totalSize>1?u.default.get("turbos"):u.default.get("turbo")} @${e.position.getOpenLevel().toFixed(e.position.getMarketDecimalPlacesFactor())}`)),e.orders.length){i.append("h2").text(u.default.get("tooltipTitleOrders"));const t=i.append("ul");e.orders.forEach((e=>{const i=t.append("li");i.appendElement(document.createTextNode(`${(0,_.getOrderTypeLabel)(e)} `)),i.append("span").classed((0,l.toMTF)(e.getDirection()),!0).text(d.default.get(e.getDirection()===l.default.Sign.BUY?"labelBuy":"labelSell")),i.appendElement(document.createTextNode(` ${(0,_.getOrderSizeLabel)(e)}`))}))}return i.node()}}t.default=g},54795:(e,t,i)=>{"use strict";var n=i(15215).Bx;Object.defineProperty(t,"__esModule",{value:!0});const s=i(54859),r=n(i(30471)),o=n(i(20800)),a=n(i(8219)),l=n(i(15488)),d=n(i(57875));t.default=(0,s.recursiveFreeze)({prices:{presentationControllers:{warrantsPresentationController:{type:o.default,presentationModel:{type:a.default}}},renderers:{warrantsTrades:{type:d.default,group:"studyOverlay",presentationController:"warrantsPresentationController",properties:{relativeWeighting:901}},warrantsLevels:{type:l.default,group:"yAxis",position:"yAxis",presentationController:"warrantsPresentationController",properties:{relativeWeighting:2}},warrants:{type:r.default,group:"studyOverlay",presentationController:"warrantsPresentationController",properties:{relativeWeighting:900}}}}})},20800:(e,t,i)=>{"use strict";var n=i(15215).Bx;Object.defineProperty(t,"__esModule",{value:!0});const s=n(i(19487)),r=i(50282),o=i(35864),a=n(i(13920));class l extends s.default{constructor(){super(...arguments),this._moduleName="warrants"}startListening(e,t){return this._module=this._moduleLoader.getModule(this._moduleName),super.startListening(e,t),this._module.on(r.WARRANTS_UPDATED,this._createViewModels,this),this._module.on(r.WARRANT_SELECTED,this.selectModel,this),this._presentationModel.on(this._presentationModel.EVENT_PREFIX+o.STRIKE_SELECTED,(e=>{this._module.selectedWarrant=e?e.epic:null,(null==e?void 0:e.position)&&this._moduleLoader.getModule("dealingCommon").loadDealingRules(e.position.getInstrument())}),this),this._createViewModels(),this}_createViewModels(){var e;const t=null===(e=this._instrumentModel.underlyingInstrumentModel)||void 0===e?void 0:e.info;t&&(this._presentationModel.viewModels=this._module.warrants?this._module.warrants.map((e=>{const i=new a.default(e,this._presentationModel,t.scalingFactor,t.decimalPlaces,this._containerProvider,this._module.optionType);return i.position=this._presentationModel.getOpenPosition(e.epic),i.orders=this._presentationModel.getWorkingOrders(e.epic),i})):null,this._module.selectedWarrant&&this.selectModel(this._module.selectedWarrant))}}t.default=l},8219:(e,t,i)=>{"use strict";var n=i(15215).Bx;Object.defineProperty(t,"__esModule",{value:!0});const s=n(i(57034));class r extends s.default{constructor(){super(...arguments),this.EVENT_PREFIX="WARRANTS"}}t.default=r},13920:(e,t,i)=>{"use strict";var n=i(15215).Bx;Object.defineProperty(t,"__esModule",{value:!0});const s=n(i(13001));class r extends s.default{constructor(e,t,i,n,s,r){super(e,t,i,n,s,r),this._strike=e,this._presentationModel=t,this.scalingFactor=i,this.decimalPlaces=n,this.container=s,this._optionType=r}get expiryDate(){return this._strike.expiry}get positionLabelText(){return this._strike.optionType.toUpperCase()}}t.default=r},95612:(e,t,i)=>{"use strict";var n=i(15215).Bx;Object.defineProperty(t,"__esModule",{value:!0});const s=n(i(57091)),r=i(13001);class o extends s.default{_updateState(e,t,i){t||(t=this._viewModel.strikeState===r.StrikeState.SELECTED?r.StrikeState.VISIBLE:r.StrikeState.SELECTED),i||(i=this._viewModel.strikeState),(0,r.to)(r.StrikeState.SELECTED,t,i)?this._dBadgeContainer.classed("selected",!0):(0,r.from)(r.StrikeState.SELECTED,t,i)&&this._dBadgeContainer.classed("selected",!1),(0,r.to)(r.StrikeState.HOVERED,t,i)?this._dBadgeContainer.classed("hover",!0):(0,r.from)(r.StrikeState.HOVERED,t,i)&&this._dBadgeContainer.classed("hover",!1),this.render()}}t.default=o},15488:(e,t,i)=>{"use strict";var n=i(15215).Bx;Object.defineProperty(t,"__esModule",{value:!0});const s=i(13001),r=n(i(94351)),o=n(i(95612));class a extends r.default{_createHelper(e){const t=new o.default(e,this.dContainer,this._animationPoller,this._visibleWindow,this._captureZoneManager,this._presentationController);return t.initDom(),t}_updatePosition(e){e.render()}_destroyHelper(e){e.destroy()}_shouldStrikeHide(e,t){return e!==s.StrikeState.VISIBLE_WITH_TRADES&&e!==s.StrikeState.HIDDEN&&(t===s.StrikeState.VISIBLE_WITH_TRADES||t===s.StrikeState.HIDDEN)}_shouldStrikeShow(e,t){return(e===s.StrikeState.VISIBLE_WITH_TRADES||e===s.StrikeState.HIDDEN)&&t!==s.StrikeState.VISIBLE_WITH_TRADES&&t!==s.StrikeState.HIDDEN}}t.default=a},99370:(e,t,i)=>{"use strict";var n=i(15215).Bx;Object.defineProperty(t,"__esModule",{value:!0});const s=i(13001),r=n(i(10520)),o=n(i(56943)),a=n(i(87861));class l extends o.default{_updateState(e,t,i){t||(t=this._viewModel.strikeState===s.StrikeState.SELECTED?s.StrikeState.VISIBLE:s.StrikeState.SELECTED),i||(i=this._viewModel.strikeState),(0,s.to)(s.StrikeState.SELECTED,t,i)?(this._koBubble=a.default.create(this._dComponent),this._koBubble.setText(`Expiring ${e.expiryDate}`),this._createBackButton(this._dComponent),this.updatePosition(),this._dComponent.classed("selected",!0)):(0,s.from)(s.StrikeState.SELECTED,t,i)&&(this._koBubble&&(this._koBubble.destroy(),delete this._koBubble),this._destroyBackButton(),this._dComponent.classed("selected",!1),this.updateCaptureZoneIndex(r.default.STRIKE_TRADES_LINE)),(0,s.to)(s.StrikeState.HOVERED,t,i)?this._dComponent.classed("hover",!0):(0,s.from)(s.StrikeState.HOVERED,t,i)&&this._dComponent.classed("hover",!1),this.updatePosition()}}t.default=l},30471:(e,t,i)=>{"use strict";var n=i(15215).Bx,s=i(15215).ut;Object.defineProperty(t,"__esModule",{value:!0});const r=n(i(99370)),o=i(73848),a=n(i(72910)),l=s(i(94351));class d extends l.default{_createHelper(e){const t=new r.default(this.dContainer,this._captureZoneManager,e,this._subView,this._presentationController);return t.onBackButtonClicked((function(){this.selectModel(null)}),this._presentationController),t.onBackButtonHovered((function(){const e=t.getElement().select(".backButton").node().getBoundingClientRect();this.publish("hint-tooltip/hover/enter",[{itemId:l.BACK_BUTTON_TOOLTIP_ID,groupId:l.BACK_BUTTON_TOOLTIP_ID,direction:o.TOOLTIP_APPEARANCE.ABOVE,message:a.default.get("tooltipWarrantsBack"),rect:e}])}),(function(){this.publish("hint-tooltip/hover/exit",[l.BACK_BUTTON_TOOLTIP_ID])}),this._eventBus),t}_destroyHelper(e){e.destroy()}_updatePosition(e){e.updatePosition()}}t.default=d},240:(e,t,i)=>{"use strict";var n=i(15215).ut,s=i(15215).Bx;Object.defineProperty(t,"__esModule",{value:!0});const r=n(i(83542)),o=s(i(37282)),a=s(i(12137));class l extends r.default{_initDom(){super._initDom(),this._dExpiry=this._dComponent.append("text").classed("orderExpiry",!0).attr("dy",4)}_displayPositions(){var e,t;super._displayPositions(),this._dDirectionArrow?this._dDirectionArrow.attr("x",this._xTextPosition):this._dDirectionArrow=this._dComponent.svgFromString((null===(e=this.viewModel.position)||void 0===e?void 0:e.isBuy())?a.default:o.default).attrs({width:"11",height:"11",viewBox:"2 2 9 9",x:this._xTextPosition,y:-r.PADDING}),this._xTextPosition+=r.PADDING+(null===(t=this._dDirectionArrow.node())||void 0===t?void 0:t.getBoundingClientRect().width),this._dExpiry.text(this.viewModel.expiryDate).attr("x",this._xTextPosition),this._xTextPosition+=this._textMeasurer.calculateTextWidth(this._dExpiry.text())+r.PADDING}_hidePositions(){var e;super._hidePositions(),null===(e=this._dDirectionArrow)||void 0===e||e.classed("hidden",!0),this._dExpiry.classed("hidden",!0)}}t.default=l},57875:(e,t,i)=>{"use strict";var n=i(15215).Bx;Object.defineProperty(t,"__esModule",{value:!0});const s=n(i(240)),r=n(i(6182)),o=n(i(10520)),a=n(i(38465)),l=i(84039),d=i(43130),u=i(44897),c=i(2274),h=n(i(72910));class p extends a.default{_createHelper(e){const t=new s.default(this.dContainer,this._captureZoneManager,e,this._presentationController,this._subView.getChartView().getUniqueElementId("gradient-button-white"));return t.withCursorOnHover(r.default.POINTER),t.on("tap",{count:1,fastTap:!0,onGesture(){this.selectModel(e),this.expandSelected(!0)},context:this._presentationController}),t.onInfoIconClicked((function(){this._presentationController.showTooltip(e)}),this),t.onCloseButtonClicked((function(){this._presentationController.closePosition(e)}),this),t.updateCaptureZoneIndex(o.default.STRIKE_TRADES_BADGE),t}_generateTooltipContent(e,t){const i=(0,l.select)(t?Object.assign(t,{innerHTML:""}):document.createElement("div")),n=i.append("h1");if(n.appendElement(document.createTextNode(`${e.formattedStrikeLevel} `)),n.append("span").classed("direction",!0).classed(e.strikeOptionType.toLowerCase(),!0).text(h.default.get((0,d.camelCase)(`tooltip ${e.strikeOptionType} warrant`))),n.svgFromString(e.icon).attrs({width:"11",height:"11",viewBox:"2 2 9 9"}),e.position&&(i.append("h2").text(h.default.get("tooltipTitlePosition")),i.append("ul").append("li").text(`${e.totalSize} ${e.totalSize>1?h.default.get("warrants"):h.default.get("warrant")} @${e.position.getOpenLevel().toFixed(e.position.getMarketDecimalPlacesFactor())}`)),e.orders.length){i.append("h2").text(h.default.get("tooltipTitleOrders"));const t=i.append("ul");e.orders.forEach((e=>{const i=t.append("li");i.appendElement(document.createTextNode(`${(0,u.getOrderTypeLabel)(e)} `)),i.append("span").classed((0,c.toMTF)(e.getDirection()),!0).text(`${e.getDirection()}${e.getDealSize()} `),i.appendElement(document.createTextNode(`@${e.getOpenLevel().toFixed(e.getMarketDecimalPlacesFactor())}`))}))}return i.node()}}t.default=p},50282:(e,t,i)=>{"use strict";var n=i(15215).Bx;Object.defineProperty(t,"__esModule",{value:!0}),t.WARRANT_SELECTED=t.WARRANTS_UPDATED=void 0;const s=n(i(289)),r=n(i(54795)),o=i(97481),a=i(61346);t.WARRANTS_UPDATED="warrantsUpdated",t.WARRANT_SELECTED="warrantSelected";class l extends s.default{constructor(e,t,i){super(),this._eventBus=e,this._moduleLoader=i,this._bidir=new o.Blocker}get warrants(){return this._warrants}setWarrants(e,i){e&&e.sort(((e,t)=>e.strikeLevel-t.strikeLevel)),this._warrants=e,this._optionType=i,this.fire(t.WARRANTS_UPDATED)}get optionType(){return this._optionType}get selectedWarrant(){return this._selectedWarrant}set selectedWarrant(e){e!==this._selectedWarrant&&(this._selectedWarrant=e,this.fire(t.WARRANT_SELECTED,e))}init(){this._eventBus.publish("subViews/config",["warrants",r.default]),this._eventBus.subscribe("api/in/warrants/set",(function(e,t){this._eventBus.flush("api/in/warrants/set"),this.setWarrants(e,t)}),this),this._eventBus.subscribe("api/in/warrants/selected",(function(e){this._eventBus.flush("api/in/warrants/selected"),this._bidir.block((()=>this.selectedWarrant=e))}),this),this._eventBus.subscribe("chart/epic/changed",this._clearWarrants,this),this.on(t.WARRANT_SELECTED,(function(e){this._bidir.run((()=>this._eventBus.publish("api/out/warrants/selected",[e])))}),this)}deleteOrder(e,t){const i=this._moduleLoader.getModule("dealingCommon"),{dependenciesPromise:n,dealReferenceGenerator:s,confirmationClient:r,session:o}=i.getTicketDependencies();n.then((([n,l])=>{const d=new a.DeleteMTFOrderTicket(new a.MTFService(o,r,s),e.trade,n,l,s,o);i.submitTicket(d,t,t)}))}_clearWarrants(){this.selectedWarrant=null,this.setWarrants(null)}destroy(){this._eventBus.publish("subViews/removeConfig",["warrants"]),this._eventBus.unsubscribeAll(this),this.un(null,this)}}t.default=l},14314:(e,t,i)=>{"use strict";var n=i(15215).Bx;t.ZH=void 0;const s=n(i(85690)),r=n(i(86605)),o=i(9525),a=n(i(30992)),l=n(i(72873)),d=n(i(73453));t.ZH=20;class u extends s.default{constructor(e,i,n,s,r){super(e,i,n,s,r),this._chartCode="",this._scaleAndPositionText=o.schedule.debounce(this._scaleAndPositionText,t.ZH)}initDom(){return this._dText=this.dContainer.append("text"),this}startRedrawingBasedOnChangesInVisibleWindow(){var e;const t=null===(e=this._instrumentModel.underlyingInstrumentModel)||void 0===e?void 0:e.info;t?this._handleInstrumentInfo(t):this._instrumentModel.on(a.default.INFO_LOADED,this._handleInstrumentInfo,this)}stopRedrawingBasedOnChangesInVisibleWindow(){this._visibleWindow.un(null,this),this._instrumentModel.un(null,this)}destroy(){super.destroy(),this._scaleAndPositionText.cancel()}_handleInstrumentInfo(e){this._chartCode=e.name||"",this._dText.text(this._chartCode),this._scaleAndPositionText(),this._visibleWindow.on(d.default.MOVED,this._handleVisibleWindowMoved,this)}_handleVisibleWindowMoved(e,t){(e&r.default.RESIZED||t&r.default.RESIZED)&&this._scaleAndPositionText()}_scaleAndPositionText(){const e=this._visibleWindow.dimensions(),t=this._chartCode.length;this._dText.attr("transform",l.default.svgTranslateAttrXY(e.width/2,e.height/2));const i=.8*e.width/t,n=.8*e.height;this._dText.style("font-size",`${Math.floor(Math.min(i,n,144))}px`)}}t.Ay=u},71504:(e,t,i)=>{"use strict";var n=i(15215).Bx;const s=n(i(52893)),r=n(i(36586)),o=i(73731),a=n(i(14243));class l{constructor(e,t,i,n,s){this._eventBus=e,this._settingsManager=s}init(){this._eventBus.subscribe("chart/view/ready",(e=>this._chartView=e),this),this._watermarkVisible=this._settingsManager.getWatermarkVisibilitySettings(),this._settingsManager.on((0,o.getGlobalSettingsEvent)(a.default.WATERMARK_VISIBILITY),this._handleWatermarkVisibilityChanged,this),this._watermarkVisible&&this._showWatermark()}destroy(){this._eventBus.unsubscribeAll(this),this._settingsManager.un(null,this),this._watermarkVisible&&this._hideWatermark(),delete this._chartView,delete this._watermarkVisible}_handleWatermarkVisibilityChanged(){const e=this._settingsManager.getWatermarkVisibilitySettings();e!==this._watermarkVisible&&(this._watermarkVisible=e,this._watermarkVisible?this._showWatermark():this._hideWatermark())}_showWatermark(){this._eventBus.publish("subViews/config",["watermark",r.default]),this._chartView&&this._chartView.addRenderersBySubviewConfig(r.default)}_hideWatermark(){this._eventBus.publish("subViews/removeConfig",["watermark"]),this._chartView&&this._chartView.removeRenderersBySubviewConfig(r.default)}}l.settingsParsers={global:{moduleName:a.default.WATERMARK_VISIBILITY,parserClass:s.default}},t.A=l},11797:(e,t,i)=>{"use strict";var n=i(15215).Bx;Object.defineProperty(t,"__esModule",{value:!0}),t.ZOOM_OUT_BY=t.ZOOM_IN_BY=void 0;const s=n(i(66250)),r=i(73848),o=n(i(878));t.ZOOM_IN_BY=.7,t.ZOOM_OUT_BY=1/t.ZOOM_IN_BY;class a extends s.default{constructor(){super(...arguments),this.id="zoombuttons",this.menuDirection=r.TOOLTIP_APPEARANCE.BELOW}static create(e,t,i,n){return new a(e,t,i,n)}getMenuTitle(){return""}_createMenuView(e,t){const i=o.default.create(e,t,{direction:this.menuDirection},this._eventBus);return i.on(o.default.ZOOM_IN,this._zoomIn,this),i.on(o.default.ZOOM_OUT,this._zoomOut,this),i}_zoomIn(){this._eventBus.publish("chart/zoom/wheel/horizontal",[t.ZOOM_IN_BY])}_zoomOut(){this._eventBus.publish("chart/zoom/wheel/horizontal",[t.ZOOM_OUT_BY])}}t.default=a},878:(e,t,i)=>{"use strict";var n=i(15215).Bx;Object.defineProperty(t,"__esModule",{value:!0});const s=n(i(56463)),r=n(i(6182)),o=i(9525),a=n(i(35457)),l=n(i(61897)),d=i(73848),u=n(i(10520));class c extends l.default{constructor(e,t,i,n){super(e,t,{}),this._direction=d.TOOLTIP_APPEARANCE.BELOW,this._eventBus=n,i.direction&&(this._direction=i.direction)}static create(e,t,i,n){return new c(e,t,i,n)}initDom(e){return this._zoomOutButton=this._createButton(e.viewElement,"zoomOutButton menuViewItem",(0,o.bubbler)(c.ZOOM_OUT).bind(this),"ZOOM_OUT_TOOLTIP"),this._zoomInButton=this._createButton(e.viewElement,"zoomInButton menuViewItem",(0,o.bubbler)(c.ZOOM_IN).bind(this),"ZOOM_IN_TOOLTIP"),this}show(){this._zoomOutButton.setHidden(!1),this._zoomInButton.setHidden(!1)}hide(){this._zoomOutButton.setHidden(!0),this._zoomInButton.setHidden(!0)}destroy(){super.destroy(),this._zoomOutButton&&this._zoomOutButton.destroy(),this._zoomInButton&&this._zoomInButton.destroy()}updateCaptureZoneSize(){this._zoomOutButton.updateCaptureZone(),this._zoomInButton.updateCaptureZone()}_createButton(e,t,i,n){const o=s.default.create().initDom(e,t).startListening(this._captureZoneManager,i,u.default.MENU).withCursorOnHover(r.default.POINTER);return o.onHover({in:this._hoverEnter.bind(this,o,n),out:this._hoverExit.bind(this,o,n)}),o}_hoverEnter(e,t){e.classed("hover",!0),this._eventBus.publish("hint-tooltip/hover/enter",[{itemId:t,groupId:"TOP_MENU",message:a.default.get(t),rect:e.getRect(),direction:this._direction}])}_hoverExit(e,t){e.classed("hover",!1),this._eventBus.publish("hint-tooltip/hover/exit",[t])}}c.ZOOM_IN="ZOOM_IN",c.ZOOM_OUT="ZOOM_OUT",t.default=c},52578:(e,t)=>{"use strict";t.A=class{constructor(e){this._eventBus=e}init(){this._eventBus.publish("menu/item/switch",["zoombuttons",!0])}destroy(){this._eventBus.publish("menu/item/switch",["zoombuttons",!1])}}},69600:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TransactionStatus=t.TransactionReportType=t.TransactionState=t.IccInfoKeysEnum=t.ErrorReason=t.ICC_API_STATES=t.CommissionType=t.KnockoutType=t.StopType=t.LevelType=t.ShareDealingOrderTypes=t.OrderType=void 0,function(e){e.US="US",e.UL="UL"}(t.OrderType||(t.OrderType={})),function(e){e.MARKET="Market",e.LIMIT="MarketLimit",e.STOP="MarketStop"}(t.ShareDealingOrderTypes||(t.ShareDealingOrderTypes={})),function(e){e.RELATIVE="RELATIVE",e.ABSOLUTE="ABSOLUTE"}(t.LevelType||(t.LevelType={})),function(e){e.NON_GUARANTEED="NON_GUARANTEED",e.GUARANTEED="GUARANTEED",e.TRAILING="TRAILING"}(t.StopType||(t.StopType={})),function(e){e.BULL="BULL",e.BEAR="BEAR"}(t.KnockoutType||(t.KnockoutType={})),function(e){e.PERCENT="PERCENT",e.RATE="RATE"}(t.CommissionType||(t.CommissionType={})),function(e){e.NOT_FETCHED="NOT_FETCHED",e.FETCHING="FETCHING",e.FETCHED="FETCHED",e.ERROR="ERROR"}(t.ICC_API_STATES||(t.ICC_API_STATES={})),function(e){e.INVALID_LEVEL="INVALID_LEVEL",e.LIMIT_WRONG_SIDE="LIMIT_WRONG_SIDE",e.STOP_TOO_CLOSE="STOP_TOO_CLOSE",e.STOP_TOO_FAR="STOP_TOO_FAR",e.STOP_WRONG_SIDE="STOP_WRONG_SIDE"}(t.ErrorReason||(t.ErrorReason={})),function(e){e.TOTAL_OPENING="totalOpening",e.TOTAL_CLOSING="totalClosing",e.CLOSE="close",e.STOP="stop",e.LIMIT="limit"}(t.IccInfoKeysEnum||(t.IccInfoKeysEnum={})),function(e){e.NOT_STARTED="NOT_STARTED",e.STARTED="STARTED",e.PENDING="PENDING",e.CANCELLED="CANCELED",e.CONFIRMED="CONFIRMED",e.REJECTED="REJECTED",e.UNVERIFIED="UNVERIFIED",e.FAILED="FAILED",e.ABORTED="ABORTED"}(t.TransactionState||(t.TransactionState={})),function(e){e.FULL_FILL="FULL_FILL",e.PARTIAL_FILL="PARTIAL_FILL",e.CANCELED="CANCELED",e.EDIT="EDIT",e.REJECTION="REJECTION"}(t.TransactionReportType||(t.TransactionReportType={})),function(e){e.OPEN="OPEN",e.CLOSE="CLOSE",e.PARTIAL_CLOSE="PARTIAL_CLOSE",e.EDIT="EDIT",e.CANCEL="CANCEL"}(t.TransactionStatus||(t.TransactionStatus={}))},15215:(e,t,i)=>{"use strict";i.d(t,{Bx:()=>d,Cg:()=>s,Tt:()=>n,ut:()=>l});function n(e,t){var i={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(i[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(i[n[s]]=e[n[s]])}return i}function s(e,t,i,n){var s,r=arguments.length,o=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(o=(r<3?s(o):r>3?s(t,i,o):s(t,i))||o);return r>3&&o&&Object.defineProperty(t,i,o),o}var r=Object.create?function(e,t,i,n){void 0===n&&(n=i);var s=Object.getOwnPropertyDescriptor(t,i);s&&!("get"in s?!t.__esModule:s.writable||s.configurable)||(s={enumerable:!0,get:function(){return t[i]}}),Object.defineProperty(e,n,s)}:function(e,t,i,n){void 0===n&&(n=i),e[n]=t[i]};var o=Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t},a=function(e){return a=Object.getOwnPropertyNames||function(e){var t=[];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[t.length]=i);return t},a(e)};function l(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i=a(e),n=0;n<i.length;n++)"default"!==i[n]&&r(t,e,i[n]);return o(t,e),t}function d(e){return e&&e.__esModule?e:{default:e}}"function"==typeof SuppressedError&&SuppressedError},96794:(module,exports,__webpack_require__)=>{var __WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_RESULT__=function(require){var langRootNamespace={IG:{}},IG=langRootNamespace.IG,IG=langRootNamespace.IG||{};!function(){for(var e=["business","format","streaming","ticket","ui","util","validation","widget","rtcharts"],t=0,i=e.length;t<i;t++)IG[e[t]]=IG[e[t]]||{}}();var IG=langRootNamespace.IG||{},toString;return function(){var e=navigator.userAgent.match(/(iPhone|iPad)/i),t=function(e){if(window.console&&IG._isDebugEnabled)switch(e){case"error":if(console.error)return"error";case"warn":if(console.warn)return"warn";case"debug":if(console.debug)return"debug";case"info":if(console.info)return"info";default:if(console.log)return"log"}return"none"};function i(i){return e?function(){var e=t(i);"none"!=e&&console[e](function(e){for(var t=[],i=0;i<e.length;i++){var n=e[i];if(n&&n.constructor==Object)try{t.push(JSON.stringify(n))}catch(s){t.push(n)}else null===n?t.push("(null)"):void 0===n?t.push("(undefined)"):n&&n.toString?t.push(n.toString()):t.push(n)}return t.join(" ")}(Array.prototype.slice.call(arguments)))}:function(){var e=Array.prototype.slice.call(arguments),n=t(i);if("none"!=n){IG[i]=console[n];try{IG[i].apply?IG[i].apply(this,e):IG[i](e)}catch(s){IG[i]=function(){console[n].apply(console,Array.prototype.slice.call(arguments))},IG[i].apply(this,e)}}}}IG.error=i("error"),IG.warn=i("warn"),IG.debug=i("debug"),IG.info=i("info")}(),Array.isArray||(Array.isArray=(toString=Object.prototype.toString,function(e){return"[object Array]"==toString.call(e)})),Array.prototype.indexOf||(Array.prototype.indexOf=function(e){var t=this.length>>>0,i=Number(arguments[1])||0;for((i=i<0?Math.ceil(i):Math.floor(i))<0&&(i+=t);i<t;i++)if(i in this&&this[i]===e)return i;return-1}),Array.prototype.lastIndexOf||(Array.prototype.lastIndexOf=function(e){var t=this.length,i=Number(arguments[1]);for(isNaN(i)?i=t-1:(i=i<0?Math.ceil(i):Math.floor(i))<0?i+=t:i>=t&&(i=t-1);i>-1;i--)if(i in this&&this[i]===e)return i;return-1}),Array.prototype.some||(Array.prototype.some=function(e){var t=0,i=this.length>>>0;if("function"!=typeof e)throw new TypeError;for(var n=arguments[1];t<i;t++)if(t in this&&e.call(n,this[t],t,this))return!0;return!1}),Array.prototype.map||(Array.prototype.map=function(e){var t=this.length>>>0;if("function"!=typeof e)throw new TypeError;for(var i=new Array(t),n=arguments[1],s=0;s<t;s++)s in this&&(i[s]=e.call(n,this[s],s,this));return i}),Array.prototype.every||(Array.prototype.every=function(e){var t=this.length>>>0;if("function"!=typeof e)throw new TypeError;for(var i=arguments[1],n=0;n<t;n++)if(n in this&&!e.call(i,this[n],n,this))return!1;return!0}),Array.prototype.filter||(Array.prototype.filter=function(e){var t=this.length>>>0;if("function"!=typeof e)throw new TypeError;for(var i=new Array,n=arguments[1],s=0;s<t;s++)if(s in this){var r=this[s];e.call(n,r,s,this)&&i.push(r)}return i}),Array.prototype.forEach||(Array.prototype.forEach=function(e){var t=this.length>>>0;if("function"!=typeof e)throw new TypeError;for(var i=arguments[1],n=0;n<t;n++)n in this&&e.call(i,this[n],n,this)}),Array.prototype.reduce||(Array.prototype.reduce=function(e){var t=this.length>>>0;if("function"!=typeof e)throw new TypeError;if(0==t&&1==arguments.length)throw new TypeError;var i=0;if(arguments.length>=2)var n=arguments[1];else for(;;){if(i in this){n=this[i++];break}if(++i>=t)throw new TypeError}for(;i<t;i++)i in this&&(n=e.call(null,n,this[i],i,this));return n}),Array.prototype.reduceRight||(Array.prototype.reduceRight=function(e){var t=this.length>>>0;if("function"!=typeof e)throw new TypeError;if(0==t&&1==arguments.length)throw new TypeError;var i=t-1;if(arguments.length>=2)var n=arguments[1];else for(;;){if(i in this){n=this[i--];break}if(--i<0)throw new TypeError}for(;i>=0;i--)i in this&&(n=e.call(null,n,this[i],i,this));return n}),Date.now||(Date.now=function(){return(new Date).getTime()}),Function.prototype.bind||(Function.prototype.bind=function(e){return arguments.length>1?function(e,t,i){return function(){var n=i.concat(Array.prototype.slice.call(arguments,0));return e.apply(t,n)}}(this,e,Array.prototype.slice.call(arguments,1)):function(e,t){return function(){return e.apply(t,arguments)}}(this,e)}),window.JSON||function(){function f(e){return e<10?"0"+e:e}window.JSON={},"function"!=typeof Date.prototype.toJSON&&(Date.prototype.toJSON=function(e){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(e){return this.valueOf()});var cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,gap,indent,meta={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},rep;function quote(e){return escapable.lastIndex=0,escapable.test(e)?'"'+e.replace(escapable,(function(e){var t=meta[e];return"string"==typeof t?t:"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)}))+'"':'"'+e+'"'}function str(e,t){var i,n,s,r,o,a=gap,l=t[e];switch(l&&"object"==typeof l&&"function"==typeof l.toJSON&&(l=l.toJSON(e)),"function"==typeof rep&&(l=rep.call(t,e,l)),typeof l){case"string":return quote(l);case"number":return isFinite(l)?String(l):"null";case"boolean":case"null":return String(l);case"object":if(!l)return"null";if(gap+=indent,o=[],"[object Array]"===Object.prototype.toString.apply(l)){for(r=l.length,i=0;i<r;i+=1)o[i]=str(i,l)||"null";return s=0===o.length?"[]":gap?"[\n"+gap+o.join(",\n"+gap)+"\n"+a+"]":"["+o.join(",")+"]",gap=a,s}if(rep&&"object"==typeof rep)for(r=rep.length,i=0;i<r;i+=1)"string"==typeof rep[i]&&(s=str(n=rep[i],l))&&o.push(quote(n)+(gap?": ":":")+s);else for(n in l)Object.prototype.hasOwnProperty.call(l,n)&&(s=str(n,l))&&o.push(quote(n)+(gap?": ":":")+s);return s=0===o.length?"{}":gap?"{\n"+gap+o.join(",\n"+gap)+"\n"+a+"}":"{"+o.join(",")+"}",gap=a,s}}"function"!=typeof JSON.stringify&&(JSON.stringify=function(e,t,i){var n;if(gap="",indent="","number"==typeof i)for(n=0;n<i;n+=1)indent+=" ";else"string"==typeof i&&(indent=i);if(rep=t,t&&"function"!=typeof t&&("object"!=typeof t||"number"!=typeof t.length))throw new Error("JSON.stringify");return str("",{"":e})}),"function"!=typeof JSON.parse&&(JSON.parse=function(text,reviver){var j;function walk(e,t){var i,n,s=e[t];if(s&&"object"==typeof s)for(i in s)Object.prototype.hasOwnProperty.call(s,i)&&(void 0!==(n=walk(s,i))?s[i]=n:delete s[i]);return reviver.call(e,t,s)}if(text=String(text),cx.lastIndex=0,cx.test(text)&&(text=text.replace(cx,(function(e){return"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)}))),/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return j=eval("("+text+")"),"function"==typeof reviver?walk({"":j},""):j;throw new SyntaxError("JSON.parse")})}(),Object.keys||(Object.keys=function(e){var t=[];for(var i in e)t[t.length]=i;return t}),String.prototype.trim||(String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")}),function(e){"use strict";function t(e){!0===e&&(e=t.EVENT_STORE_TYPE.SINGLE),t.prepareInstance(this,e)}t.prepareInstance=function(e,i){e.__events={},e.__handlers=[],i===t.EVENT_STORE_TYPE.GROUP?(e.on=e.subscribe=t.groupEventSubscribe,e.un=e.unsubscribe=t.groupEventUnsubscribe,e.fire=t.groupEventFire,e.hasListener=t.multiEventHasListener):i===t.EVENT_STORE_TYPE.SINGLE?(e.on=e.subscribe=t.singleEventSubscribe,e.un=e.unsubscribe=t.singleEventUnsubscribe,e.fire=t.singleEventFire,e.hasListener=t.singleEventHasListener):(e.onHasListenerChanged?(e.on=e.subscribe=t.advisoryMultiEventSubscribe,e.un=e.unsubscribe=t.advisoryMultiEventUnsubscribe):(e.on=e.subscribe=t.multiEventSubscribe,e.un=e.unsubscribe=t.multiEventUnsubscribe),e.fire=t.multiEventFire,e.hasListener=t.multiEventHasListener),e.unsubscribeEach||(e.unsubscribeEach=t.prototype.unsubscribeEach)},t.getSelectorType=function(e){var i=typeof e;return"number"==i?t.SINGLE_EVENT:"function"==i?t.EVENT_HANDLER_FUNCTION:"string"==i?t.NAMED_EVENT:t.ALL_EVENTS},t.getUnsubscribeMethod=function(e){var i=t.getSelectorType(e);return i==t.SINGLE_EVENT?t.unsubscribeSingleEvent:i==t.NAMED_EVENT?t.unsubscribeNamedEvent:i==t.EVENT_HANDLER_FUNCTION?t.unsubscribeFunctionHandlers:t.unsubscribeAllEvents},t.multiEventSubscribe=function(e,i,n,s){return e=(""+e).toLowerCase(),this.__handlers.push([i,n,e,s]),t.bindEventHandler(this,e,this.__handlers.length-1)},t.singleEventSubscribe=function(e,i,n){return this.__handlers.push([e,i,"default",n]),t.bindEventHandler(this,"default",this.__handlers.length-1)},t.groupEventSubscribe=function(e,i,n,s){var r,o=(e=[].concat(e)).length,a=this.__handlers.length;for(this.__handlers.push([i,n,(""+e[0]).toLowerCase(),s]),r=0;r<o;r++)t.bindEventHandler(this,e[r].toLowerCase(),a);return a},t.advisoryMultiEventSubscribe=function(e,i,n,s){var r,o=this.hasListener(e=(""+e).toLowerCase());return this.__handlers.push([i,n,e,s]),r=t.bindEventHandler(this,e,this.__handlers.length-1),o||this.onHasListenerChanged(e,!0),r},t.bindEventHandler=function(e,t,i){return e.__events[t]||(e.__events[t]=[]),e.__events[t].push(i),i},t.groupEventFire=function(e){for(var i,n,s,r,o={},a=[],l=[],d=l.concat(e);d.length;)for(i=0,n=(s=this.__events[(""+d.shift()).toLowerCase()]||l).length;i<n;i++)o[r=s[i]]||(o[r]=!0,a.push(r));return t.processHandlers(this,a,Array.prototype.slice.call(arguments,1))},t.multiEventFire=function(e){return t.processHandlers(this,this.__events[(""+e).toLowerCase()],Array.prototype.slice.call(arguments,1))},t.singleEventFire=function(){return t.processHandlers(this,this.__events.default,arguments)},t.processHandlers=function(e,t,i){var n,s,r,o=t&&t.length?t.length:0;for(n=0;n<o;n++)if((r=e.__handlers[t[n]])&&(s=r[0].apply(r[1]||window,i),r[3]&&r[3].once&&e.un(t[n]),!1===s))return!1;return!0},t.unsubscribeSingleEvent=function(e,t,i){var n=e.__handlers[i];!n||!!t&&n[1]!==t||(n[0]=null,n[1]=null,e.__handlers[i]=null)},t.unsubscribeNamedEvent=function(e,i,n){var s,r,o=(""+n).toLowerCase(),a=e.__events[o],l=!!i;if(a){for(s=0,r=a.length;s<r;s++)t.unsubscribeSingleEvent(e,i,a[s]);l?t._cleanSubscriptions(e):e.__events[o]=[]}},t.unsubscribeAllEvents=function(e,i){var n,s=e.__handlers,r=!!i;if(s&&s.length){for(n=s.length;n>0;n--)t.unsubscribeSingleEvent(e,i,n-1);r?t._cleanSubscriptions(e):(e.__handlers=[],e.__events={})}},t.unsubscribeFunctionHandlers=function(e,i,n){var s,r,o=e.__handlers,a=!!i;if(o&&o.length){for(s=o.length;s>0;)(r=o[--s])&&r[0]===n&&t.unsubscribeSingleEvent(e,i,s);a&&t._cleanSubscriptions(e)}},t.multiEventUnsubscribe=t.singleEventUnsubscribe=function(e,i){return t.getUnsubscribeMethod(e)(this,i,e),this},t.groupEventUnsubscribe=function(e,i){return t.getUnsubscribeMethod(e)(this,i,e),t._cleanSubscriptions(this),this},t.advisoryMultiEventUnsubscribe=function(e,i){var n,s,r,o=null,a=t.getSelectorType(e);if(a==t.ALL_EVENTS)for(n in o=[],this.__events)this.hasListener(n)&&o.push(n);else a==t.SINGLE_EVENT&&this.__handlers[e]?n=this.__handlers[e][2]:a==t.NAMED_EVENT&&(n=(""+e).toLowerCase()),n&&this.hasListener(n)&&(o=[n]);if(t.getUnsubscribeMethod(e)(this,i,e),o)for(s=0,r=o.length;s<r;s++)this.hasListener(o[s])||this.onHasListenerChanged(o[s],!1);return this},t.isPreparedInstance=function(e){return!!e.__events&&!!e.__handlers},t.prototype.__events=null,t.prototype.__handlers=null,t.prototype.on=function(){return t.prepareInstance(this),this.on.apply(this,arguments)},t.prototype.subscribe=t.prototype.on,t.prototype.fire=function(){return!0},t.prototype.un=function(e,t){return this},t.prototype.unsubscribe=t.prototype.un,t.prototype.unsubscribeEach=function(e){var i,n;if(t.isPreparedInstance(this)&&e instanceof Array)for(i=0,n=e.length;i<n;i++)this.un(e[i])},t.prototype.hasListener=function(){return!1},t.multiEventHasListener=function(e){var t,i,n=this.__events[(""+e).toLowerCase()];if(n&&(i=n.length))for(t=0;t<i;t++)if(this.__handlers[n[t]])return!0;return!1},t.singleEventHasListener=function(){var e,t,i=this.__handlers;if(i&&(t=i.length))for(e=0;e<t;e++)if(i[e])return!0;return!1},t._cleanSubscriptions=function(e){if(e.__events&&e.__handlers){var t,i,n,s,r,o;for(t in e.__events){for(n=!1,i=null,r=0,o=(s=e.__events[t]).length;r<o;r++)e.__handlers[s[r]]?n&&i.push(s[r]):n||(i=r?s.slice(0,r):[],n=!0);n&&(e.__events[t]=i)}for(r=o=e.__handlers.length;--r>0&&!e.__handlers[r];);e.__handlers.splice(r+1,o)}},t.ALL_EVENTS="all",t.NAMED_EVENT="event",t.SINGLE_EVENT="single",t.EVENT_HANDLER_FUNCTION="handler",t.EVENT_STORE_TYPE={SINGLE:0,MULTIPLE:1,GROUP:2},e.util.Subscribable=t}(IG),function(e,t){function i(e){this._rootNamespace=e}i.prototype._rootNamespace=null,i.prototype.extend=function(e,t){function i(){}return i.prototype=t.prototype,e.prototype=new i,e.prototype.constructor=e,e.superclass=t.prototype,e},i.prototype.createMixIn=function(e,t){var i=t.prototype,n=function(){n.superclass.constructor.apply(this,arguments),i.constructor.apply(this,arguments)};for(var s in this.extend(n,e),i)"function"==typeof i[s]&&n.prototype[s]?n.prototype[s]=function(e,t){return function(){var i=e.apply(this,arguments);return t.apply(this,arguments),i}}(n.prototype[s],i[s]):n.prototype[s]=i[s];return n},i.prototype.namespace=function(){for(var e,t,i,n,s=this._rootNamespace,r=0,o=arguments.length;r<o;r++)for(n={},e=0,t=(i=arguments[r].split(".")).length;e<t;e++)n=e?n[i[e]]||(n[i[e]]={}):s[i[e]]?s[i[e]]:s[i[e]]={}},i.prototype.applyTo=function(e,t,i){for(var n in t)"|prototype|superclass|".indexOf("|"+n+"|")<0&&(!i||void 0===e[n])&&(e[n]=t[n]);return e},i.createGetter=function(e){return function(){return this[e]}},i.createSetter=function(e,t,i){var n="beforeSet"+i,s="afterSet"+i,r=[];return(e[n]||e[s])&&r.push("var oldValue = this."+t+";"),e[n]&&r.push("itemValue = this."+n+"(itemValue);"),r.push("this."+t+" = itemValue;"),e[s]&&r.push("this."+s+"(itemValue, oldValue);"),r.push("return this;"),new Function("itemValue",r.join(""))},i.prototype.applyGetterSetters=function(e){if("function"!=typeof e)throw new TypeError("Lang.applyGetterSetters called on a non-function object.");var t=e.prototype;for(var n in t)if(n&&"|object|function|".indexOf(typeof t[n])>0){var s=n.charAt(0).toUpperCase()+n.substring(1),r="get"+s,o="set"+s;t[r]||(t[r]=i.createGetter(n)),t[o]||(t[o]=i.createSetter(t,n,s))}return e},e.util.Lang=new i("object"==typeof langRootNamespace?langRootNamespace:window)}(IG),function(e){"use strict";function t(){}function i(e){this._stack=[],this._beforeSend=[],e&&this._beforeSend.push(this.abort)}e.util.Lang.extend(i,e.util.Subscribable),i.prototype._url="",i.prototype._async=!0,i.prototype._postDataContentType=i.JSON_CONTENT_TYPE,i.prototype._handlesProgressEvents=!1,i.prototype._stack=null,i.prototype._beforeSend=null,i.prototype._headers=null,i._defaultSettings={url:"",async:!0,contentType:i.JSON_CONTENT_TYPE,beforeSend:t,complete:t,error:t,success:t,statusCode:{},type:"GET",data:""},"_url,_async,_handlesProgressEvents,_postDataContentType,_headers".split(",").forEach((function(e){var t=e.substring(1,2).toUpperCase()+e.substring(2);i.prototype["get"+t]=function(){return this[e]},i.prototype["set"+t]=function(t){return this[e]=t,this}})),i.send=function(e,t){return arguments.length>=2?(t=arguments[1]||{}).url=arguments[0]:t="object"==typeof arguments[0]?arguments[0]:{url:arguments[0]},i._send(t)},i._send=function(e){if(!(e=i._mergeDefaultSettingsWith(e)).url)throw new Error("Ajax.send contains no url");var t=(new i).setUrl(e.url).setAsync(e.async).setPostDataContentType(e.contentType).setHeaders(e.headers);for(var n in t._beforeSend.push(e.beforeSend),t.on("complete",e.complete),t.on("error",e.error),t.on("success",e.success),e.statusCode)t.on(n,e.statusCode[n]);return t._sendRequest(e.type,t.getUrl(),e.headers,t.getAsync(),e.data,t.getPostDataContentType()),t},i._mergeDefaultSettingsWith=function(e){if("object"==typeof e){var t,n={};for(t in i._defaultSettings)n[t]=i._defaultSettings[t];for(t in e)void 0!==e[t]&&(n[t]=e[t]);return n}return i._defaultSettings},i.prototype.setUrl=function(e){return this._url=e,this.getUrl="function"==typeof e?i._getFunctionUrl:i._getStringUrl,this},i._getStringUrl=function(){return this._url},i._getFunctionUrl=function(){return this._url.apply(this,arguments)},i.prototype.post=function(e){var t=this._getRequestContentType(e);this._sendRequest("POST",this.getUrl.apply(this,arguments),this._headers,this._async,this._prepareContent(e,t),t)},i.prototype._getRequestContentType=function(e){return!e||window.FormData&&e instanceof window.FormData?null:this._postDataContentType},i.prototype._prepareContent=function(e,t){var n=i.dataProcessors[t];return e&&n?n.request(e):e},i.prototype.get=function(){this._sendRequest("GET",this.getUrl.apply(this,arguments),this._headers,this._async)},i.prototype._sendRequest=function(e,t,i,n,s,r){var o=new XMLHttpRequest;if(this._callBeforeSendMethods(o),o.open(e,t,n),this._handlesProgressEvents&&(o.onprogress=this._onProgress.bind(this,o)),o.onreadystatechange=this._onReadyStateChange.bind(this,o),i)for(var a,l=Object.keys(i),d=0,u=l.length;d<u;d++)a=l[d],o.setRequestHeader(a,i[a]);r&&o.setRequestHeader("Content-Type",r),o.send(s),this._stack.push(o)},i.prototype._callBeforeSendMethods=function(e){for(var t=0,i=this._beforeSend.length;t<i;t++)this._beforeSend[t].call(this,e)},i.prototype._onProgress=function(e,t){this.fire("progress",t,e)},i.prototype._onReadyStateChange=function(e,t){if(e.readyState==i.DONE){var n=e.status,s=this._getResponseContentType(e),r=i._processResponse(s,e.responseText,e.responseXML);this.fire(n,r,e),n>=200&&n<300||304===n?this.fire("success",r,n,e):this.fire("error",r,n,e),this.fire("complete",r,n,e),this._removeFromStack(e),i._destroyXhr(e)}},i.prototype._getResponseContentType=function(e){var t=e.getResponseHeader("Content-Type");return t?t.replace(/(\s|;).*$/,"").toLowerCase():null},i.prototype._getResponseContentType=function(e){return(""+e.getResponseHeader("Content-Type")).replace(/(\s|;).*$/,"").toLowerCase()},i._processResponse=function(e,t,n){var s=i.dataProcessors[e];return s?s.response(t):n||t},i.prototype._removeFromStack=function(e){var t=this._stack.indexOf(e);t>=0&&this._stack.splice(t,1)},i.prototype.abort=function(){for(;this._stack.length;)i._destroyXhr(this._stack.pop())},i._destroyXhr=function(e){e.onreadystatechange=e.onprogress=t,e.onreadystatechange=e.onprogress=null,e.readyState!==i.DONE&&e.abort()},i.DONE=4,i.LOADING=3,i.HEADERS_RECEIVED=2,i.OPENED=1,i.UNSENT=0,i.ABORT_ON_SEND=!0,i.FORM_CONTENT_TYPE="application/x-www-form-urlencoded",i.JSON_CONTENT_TYPE="application/json",e.Ajax=i}(IG),function(e){"use strict";e.util.Lang.namespace("IG.Ajax.dataProcessors");var t={response:function(e){return JSON.parse(e)},request:function(e){return JSON.stringify(e)}};e.Ajax.dataProcessors["application/json"]=e.Ajax.dataProcessors.JsonProcessor=t}(IG),function(e){"use strict";var t={response:function(e){var t,i,n=decodeURIComponent(e).split("&"),s={};for(t in n)n.hasOwnProperty(t)&&(s[(i=n[t].split("="))[0]]=i[1]);return s},request:function(e){var t,i=[];for(t in e)e.hasOwnProperty(t)&&i.push(encodeURIComponent(t)+"="+encodeURIComponent(e[t]));return i.join("&")}};e.Ajax.dataProcessors["application/x-www-form-urlencoded"]=e.Ajax.dataProcessors.FormProcessor=t}(IG),IG.Ajax}.call(exports,__webpack_require__,exports,module),void 0===__WEBPACK_AMD_DEFINE_RESULT__||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)},94776:(module,exports,__webpack_require__)=>{var __WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_RESULT__=function(require){var langRootNamespace={IG:{}},IG=langRootNamespace.IG,IG=langRootNamespace.IG||{};!function(){for(var e=["business","format","streaming","ticket","ui","util","validation","widget","rtcharts"],t=0,i=e.length;t<i;t++)IG[e[t]]=IG[e[t]]||{}}();var IG=langRootNamespace.IG||{};return function(){function e(e){return function(){var t=function(e){if(window.console&&IG._isDebugEnabled)switch(e){case"error":if(console.error)return"error";case"warn":if(console.warn)return"warn";case"debug":if(console.debug)return"debug";case"info":if(console.info)return"info";default:if(console.log)return"log"}return"none"}(e),i=Array.prototype.slice.call(arguments);if("none"!=t){IG[e]=console[t];try{IG[e].apply?IG[e].apply(this,i):IG[e](i)}catch(n){IG[e]=function(){console[t].apply(console,Array.prototype.slice.call(arguments))},IG[e].apply(this,i)}}}}IG.error=e("error"),IG.warn=e("warn"),IG.debug=e("debug"),IG.info=e("info")}(),Array.prototype.indexOf||(Array.prototype.indexOf=function(e){var t=this.length>>>0,i=Number(arguments[1])||0;for((i=i<0?Math.ceil(i):Math.floor(i))<0&&(i+=t);i<t;i++)if(i in this&&this[i]===e)return i;return-1}),Array.prototype.lastIndexOf||(Array.prototype.lastIndexOf=function(e){var t=this.length,i=Number(arguments[1]);for(isNaN(i)?i=t-1:(i=i<0?Math.ceil(i):Math.floor(i))<0?i+=t:i>=t&&(i=t-1);i>-1;i--)if(i in this&&this[i]===e)return i;return-1}),Array.prototype.some||(Array.prototype.some=function(e){var t=0,i=this.length>>>0;if("function"!=typeof e)throw new TypeError;for(var n=arguments[1];t<i;t++)if(t in this&&e.call(n,this[t],t,this))return!0;return!1}),Array.prototype.map||(Array.prototype.map=function(e){var t=this.length>>>0;if("function"!=typeof e)throw new TypeError;for(var i=new Array(t),n=arguments[1],s=0;s<t;s++)s in this&&(i[s]=e.call(n,this[s],s,this));return i}),Array.prototype.every||(Array.prototype.every=function(e){var t=this.length>>>0;if("function"!=typeof e)throw new TypeError;for(var i=arguments[1],n=0;n<t;n++)if(n in this&&!e.call(i,this[n],n,this))return!1;return!0}),Array.prototype.filter||(Array.prototype.filter=function(e){var t=this.length>>>0;if("function"!=typeof e)throw new TypeError;for(var i=new Array,n=arguments[1],s=0;s<t;s++)if(s in this){var r=this[s];e.call(n,r,s,this)&&i.push(r)}return i}),Array.prototype.forEach||(Array.prototype.forEach=function(e){var t=this.length>>>0;if("function"!=typeof e)throw new TypeError;for(var i=arguments[1],n=0;n<t;n++)n in this&&e.call(i,this[n],n,this)}),Array.prototype.reduce||(Array.prototype.reduce=function(e){var t=this.length>>>0;if("function"!=typeof e)throw new TypeError;if(0==t&&1==arguments.length)throw new TypeError;var i=0;if(arguments.length>=2)var n=arguments[1];else for(;;){if(i in this){n=this[i++];break}if(++i>=t)throw new TypeError}for(;i<t;i++)i in this&&(n=e.call(null,n,this[i],i,this));return n}),Array.prototype.reduceRight||(Array.prototype.reduceRight=function(e){var t=this.length>>>0;if("function"!=typeof e)throw new TypeError;if(0==t&&1==arguments.length)throw new TypeError;var i=t-1;if(arguments.length>=2)var n=arguments[1];else for(;;){if(i in this){n=this[i--];break}if(--i<0)throw new TypeError}for(;i>=0;i--)i in this&&(n=e.call(null,n,this[i],i,this));return n}),Date.now||(Date.now=function(){return(new Date).getTime()}),Function.prototype.bind||(Function.prototype.bind=function(e){return arguments.length>1?function(e,t,i){return function(){var n=i.concat(Array.prototype.slice.call(arguments,0));return e.apply(t,n)}}(this,e,Array.prototype.slice.call(arguments,1)):function(e,t){return function(){return e.apply(t,arguments)}}(this,e)}),window.JSON||function(){function f(e){return e<10?"0"+e:e}window.JSON={},"function"!=typeof Date.prototype.toJSON&&(Date.prototype.toJSON=function(e){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(e){return this.valueOf()});var cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,gap,indent,meta={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},rep;function quote(e){return escapable.lastIndex=0,escapable.test(e)?'"'+e.replace(escapable,(function(e){var t=meta[e];return"string"==typeof t?t:"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)}))+'"':'"'+e+'"'}function str(e,t){var i,n,s,r,o,a=gap,l=t[e];switch(l&&"object"==typeof l&&"function"==typeof l.toJSON&&(l=l.toJSON(e)),"function"==typeof rep&&(l=rep.call(t,e,l)),typeof l){case"string":return quote(l);case"number":return isFinite(l)?String(l):"null";case"boolean":case"null":return String(l);case"object":if(!l)return"null";if(gap+=indent,o=[],"[object Array]"===Object.prototype.toString.apply(l)){for(r=l.length,i=0;i<r;i+=1)o[i]=str(i,l)||"null";return s=0===o.length?"[]":gap?"[\n"+gap+o.join(",\n"+gap)+"\n"+a+"]":"["+o.join(",")+"]",gap=a,s}if(rep&&"object"==typeof rep)for(r=rep.length,i=0;i<r;i+=1)"string"==typeof rep[i]&&(s=str(n=rep[i],l))&&o.push(quote(n)+(gap?": ":":")+s);else for(n in l)Object.prototype.hasOwnProperty.call(l,n)&&(s=str(n,l))&&o.push(quote(n)+(gap?": ":":")+s);return s=0===o.length?"{}":gap?"{\n"+gap+o.join(",\n"+gap)+"\n"+a+"}":"{"+o.join(",")+"}",gap=a,s}}"function"!=typeof JSON.stringify&&(JSON.stringify=function(e,t,i){var n;if(gap="",indent="","number"==typeof i)for(n=0;n<i;n+=1)indent+=" ";else"string"==typeof i&&(indent=i);if(rep=t,t&&"function"!=typeof t&&("object"!=typeof t||"number"!=typeof t.length))throw new Error("JSON.stringify");return str("",{"":e})}),"function"!=typeof JSON.parse&&(JSON.parse=function(text,reviver){var j;function walk(e,t){var i,n,s=e[t];if(s&&"object"==typeof s)for(i in s)Object.prototype.hasOwnProperty.call(s,i)&&(void 0!==(n=walk(s,i))?s[i]=n:delete s[i]);return reviver.call(e,t,s)}if(text=String(text),cx.lastIndex=0,cx.test(text)&&(text=text.replace(cx,(function(e){return"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)}))),/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return j=eval("("+text+")"),"function"==typeof reviver?walk({"":j},""):j;throw new SyntaxError("JSON.parse")})}(),Object.keys||(Object.keys=function(e){var t=[];for(var i in e)t[t.length]=i;return t}),String.prototype.trim||(String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")}),function(e,t){function i(e){this._rootNamespace=e}i.prototype._rootNamespace=null,i.prototype.extend=function(e,t){function i(){}return i.prototype=t.prototype,e.prototype=new i,e.prototype.constructor=e,e.superclass=t.prototype,e},i.prototype.createMixIn=function(e,t){var i=t.prototype,n=function(){n.superclass.constructor.apply(this,arguments),i.constructor.apply(this,arguments)};for(var s in this.extend(n,e),i)"function"==typeof i[s]&&n.prototype[s]?n.prototype[s]=function(e,t){return function(){var i=e.apply(this,arguments);return t.apply(this,arguments),i}}(n.prototype[s],i[s]):n.prototype[s]=i[s];return n},i.prototype.namespace=function(){for(var e,t,i,n,s=this._rootNamespace,r=0,o=arguments.length;r<o;r++)for(n={},e=0,t=(i=arguments[r].split(".")).length;e<t;e++)n=e?n[i[e]]||(n[i[e]]={}):s[i[e]]?s[i[e]]:s[i[e]]={}},i.prototype.applyTo=function(e,t,i){for(var n in t)"|prototype|superclass|".indexOf("|"+n+"|")<0&&(!i||void 0===e[n])&&(e[n]=t[n]);return e},i.createGetter=function(e){return function(){return this[e]}},i.createSetter=function(e,t,i){var n="beforeSet"+i,s="afterSet"+i,r=[];return(e[n]||e[s])&&r.push("var oldValue = this."+t+";"),e[n]&&r.push("itemValue = this."+n+"(itemValue);"),r.push("this."+t+" = itemValue;"),e[s]&&r.push("this."+s+"(itemValue, oldValue);"),r.push("return this;"),new Function("itemValue",r.join(""))},i.prototype.applyGetterSetters=function(e){if("function"!=typeof e)throw new TypeError("Lang.applyGetterSetters called on a non-function object.");var t=e.prototype;for(var n in t)if(n&&"|object|function|".indexOf(typeof t[n])>0){var s=n.charAt(0).toUpperCase()+n.substring(1),r="get"+s,o="set"+s;t[r]||(t[r]=i.createGetter(n)),t[o]||(t[o]=i.createSetter(t,n,s))}return e},e.util.Lang=new i("object"==typeof langRootNamespace?langRootNamespace:window)}(IG),function(e){"use strict";function t(e){!0===e&&(e=t.EVENT_STORE_TYPE.SINGLE),t.prepareInstance(this,e)}t.prepareInstance=function(e,i){e.__events={},e.__handlers=[],i===t.EVENT_STORE_TYPE.GROUP?(e.on=e.subscribe=t.groupEventSubscribe,e.un=e.unsubscribe=t.groupEventUnsubscribe,e.fire=t.groupEventFire,e.hasListener=t.multiEventHasListener):i===t.EVENT_STORE_TYPE.SINGLE?(e.on=e.subscribe=t.singleEventSubscribe,e.un=e.unsubscribe=t.singleEventUnsubscribe,e.fire=t.singleEventFire,e.hasListener=t.singleEventHasListener):(e.onHasListenerChanged?(e.on=e.subscribe=t.advisoryMultiEventSubscribe,e.un=e.unsubscribe=t.advisoryMultiEventUnsubscribe):(e.on=e.subscribe=t.multiEventSubscribe,e.un=e.unsubscribe=t.multiEventUnsubscribe),e.fire=t.multiEventFire,e.hasListener=t.multiEventHasListener),e.unsubscribeEach||(e.unsubscribeEach=t.prototype.unsubscribeEach)},t.getSelectorType=function(e){var i=typeof e;return"number"==i?t.SINGLE_EVENT:"function"==i?t.EVENT_HANDLER_FUNCTION:"string"==i?t.NAMED_EVENT:t.ALL_EVENTS},t.getUnsubscribeMethod=function(e){var i=t.getSelectorType(e);return i==t.SINGLE_EVENT?t.unsubscribeSingleEvent:i==t.NAMED_EVENT?t.unsubscribeNamedEvent:i==t.EVENT_HANDLER_FUNCTION?t.unsubscribeFunctionHandlers:t.unsubscribeAllEvents},t.multiEventSubscribe=function(e,i,n,s){return e=(""+e).toLowerCase(),this.__handlers.push([i,n,e,s]),t.bindEventHandler(this,e,this.__handlers.length-1)},t.singleEventSubscribe=function(e,i,n){return this.__handlers.push([e,i,"default",n]),t.bindEventHandler(this,"default",this.__handlers.length-1)},t.groupEventSubscribe=function(e,i,n,s){var r,o=(e=[].concat(e)).length,a=this.__handlers.length;for(this.__handlers.push([i,n,(""+e[0]).toLowerCase(),s]),r=0;r<o;r++)t.bindEventHandler(this,e[r].toLowerCase(),a);return a},t.advisoryMultiEventSubscribe=function(e,i,n,s){var r,o=this.hasListener(e=(""+e).toLowerCase());return this.__handlers.push([i,n,e,s]),r=t.bindEventHandler(this,e,this.__handlers.length-1),o||this.onHasListenerChanged(e,!0),r},t.bindEventHandler=function(e,t,i){return e.__events[t]||(e.__events[t]=[]),e.__events[t].push(i),i},t.groupEventFire=function(e){for(var i,n,s,r,o={},a=[],l=[],d=l.concat(e);d.length;)for(i=0,n=(s=this.__events[(""+d.shift()).toLowerCase()]||l).length;i<n;i++)o[r=s[i]]||(o[r]=!0,a.push(r));return t.processHandlers(this,a,Array.prototype.slice.call(arguments,1))},t.multiEventFire=function(e){return t.processHandlers(this,this.__events[(""+e).toLowerCase()],Array.prototype.slice.call(arguments,1))},t.singleEventFire=function(){return t.processHandlers(this,this.__events.default,arguments)},t.processHandlers=function(e,t,i){var n,s,r,o=t&&t.length?t.length:0;for(n=0;n<o;n++)if((r=e.__handlers[t[n]])&&(s=r[0].apply(r[1]||window,i),r[3]&&r[3].once&&e.un(t[n]),!1===s))return!1;return!0},t.unsubscribeSingleEvent=function(e,t,i){var n=e.__handlers[i];!n||!!t&&n[1]!==t||(n[0]=null,n[1]=null,e.__handlers[i]=null)},t.unsubscribeNamedEvent=function(e,i,n){var s,r,o=(""+n).toLowerCase(),a=e.__events[o],l=!!i;if(a){for(s=0,r=a.length;s<r;s++)t.unsubscribeSingleEvent(e,i,a[s]);l?t._cleanSubscriptions(e):e.__events[o]=[]}},t.unsubscribeAllEvents=function(e,i){var n,s=e.__handlers,r=!!i;if(s&&s.length){for(n=s.length;n>0;n--)t.unsubscribeSingleEvent(e,i,n-1);r?t._cleanSubscriptions(e):(e.__handlers=[],e.__events={})}},t.unsubscribeFunctionHandlers=function(e,i,n){var s,r,o=e.__handlers,a=!!i;if(o&&o.length){for(s=o.length;s>0;)(r=o[--s])&&r[0]===n&&t.unsubscribeSingleEvent(e,i,s);a&&t._cleanSubscriptions(e)}},t.multiEventUnsubscribe=t.singleEventUnsubscribe=function(e,i){return t.getUnsubscribeMethod(e)(this,i,e),this},t.groupEventUnsubscribe=function(e,i){return t.getUnsubscribeMethod(e)(this,i,e),t._cleanSubscriptions(this),this},t.advisoryMultiEventUnsubscribe=function(e,i){var n,s,r,o=null,a=t.getSelectorType(e);if(a==t.ALL_EVENTS)for(n in o=[],this.__events)this.hasListener(n)&&o.push(n);else a==t.SINGLE_EVENT&&this.__handlers[e]?n=this.__handlers[e][2]:a==t.NAMED_EVENT&&(n=(""+e).toLowerCase()),n&&this.hasListener(n)&&(o=[n]);if(t.getUnsubscribeMethod(e)(this,i,e),o)for(s=0,r=o.length;s<r;s++)this.hasListener(o[s])||this.onHasListenerChanged(o[s],!1);return this},t.isPreparedInstance=function(e){return!!e.__events&&!!e.__handlers},t.prototype.__events=null,t.prototype.__handlers=null,t.prototype.on=function(){return t.prepareInstance(this),this.on.apply(this,arguments)},t.prototype.subscribe=t.prototype.on,t.prototype.fire=function(){return!0},t.prototype.un=function(e,t){return this},t.prototype.unsubscribe=t.prototype.un,t.prototype.unsubscribeEach=function(e){var i,n;if(t.isPreparedInstance(this)&&e instanceof Array)for(i=0,n=e.length;i<n;i++)this.un(e[i])},t.prototype.hasListener=function(){return!1},t.multiEventHasListener=function(e){var t,i,n=this.__events[(""+e).toLowerCase()];if(n&&(i=n.length))for(t=0;t<i;t++)if(this.__handlers[n[t]])return!0;return!1},t.singleEventHasListener=function(){var e,t,i=this.__handlers;if(i&&(t=i.length))for(e=0;e<t;e++)if(i[e])return!0;return!1},t._cleanSubscriptions=function(e){if(e.__events&&e.__handlers){var t,i,n,s,r,o;for(t in e.__events){for(n=!1,i=null,r=0,o=(s=e.__events[t]).length;r<o;r++)e.__handlers[s[r]]?n&&i.push(s[r]):n||(i=r?s.slice(0,r):[],n=!0);n&&(e.__events[t]=i)}for(r=o=e.__handlers.length;--r>0&&!e.__handlers[r];);e.__handlers.splice(r+1,o)}},t.ALL_EVENTS="all",t.NAMED_EVENT="event",t.SINGLE_EVENT="single",t.EVENT_HANDLER_FUNCTION="handler",t.EVENT_STORE_TYPE={SINGLE:0,MULTIPLE:1,GROUP:2},e.util.Subscribable=t}(IG),function(e){function t(e){this._environmentString=t.resolveFromUrl(e)}t.prototype._environmentString="",t.prototype.toString=function(){return this._environmentString},t._getEnvironmentConstant=function(e){var t=(e=(""+e).replace(/^[a-z]+:\/\//,"")).replace(/^\/+/,"").replace(/\/.*$/,"").split(".").shift();return 0===t.indexOf("igpc")||0===t.indexOf("vmprd")||0===t.indexOf("igvmpc")||0===t.indexOf("localhost")||0===t.indexOf("igmac")?0:0===t.indexOf("net")?1:0===t.indexOf("web")?2:0===t.indexOf("demo")||0===t.indexOf("alt")?3:4},t.resolveFromUrl=function(e){return t.constants[t._getEnvironmentConstant(e)]},t.getEnvironmentPrefix=function(e){return t.streamingConstants[t._getEnvironmentConstant(e)]},t.getStreamingPrefix=t.getEnvironmentPrefix,t.DEV="dev",t.TEST="test",t.UAT="uat",t.DEMO="demo",t.PROD="prod",t.constants=["dev","test","uat","demo","prod"],t.streamingConstants=["net","net","web","demo",null],e.util.Environment=t}(IG),function(e){"use strict";e.util.Lang.namespace("IG.service")}(IG),function(e){function t(e,t){this.subscriptionStringPrefix=e,this.fieldIds=t,this._subscriptions={},this._pendingIds={}}t.prototype.subscriptionStringPrefix=null,t.prototype.fieldIds=null,t.prototype._pendingIds=null,t.prototype._isSubscribed=!1,t.prototype._subscriptions=null,t.prototype._callback=null,t.prototype._callbackScope=null,t.prototype._maxFrequency=null,t.prototype._subscribeMode="MERGE",t.prototype.withRawSubscriptions=function(){return this._subscribeMode="RAW",this},t.prototype.withMaxFrequency=function(e){return this._maxFrequency=e,this},t.prototype.addIds=function(e){for(var t=0,i=e.length;t<i;t++)this.addId(e[t]);return this},t.prototype.addId=function(t){return t?this._isSubscribed?this._subscribeTo(t):this._addPending(t):e.warn("GroupSubscription.addId: cannot add an empty id"),this},t.prototype.removeId=function(e){var t=this._isSubscribed,i=t?this._subscriptions:this._pendingIds;t&&i[e]&&i[e].unsubscribe(),delete i[e]},t.prototype.removeAll=function(){var e=this._isSubscribed,t=e?this._subscriptions:this._pendingIds;for(var i in t)e&&t[i].unsubscribe(),delete t[i];return this},t.prototype.subscribe=function(e,t){var i;if(!this._isSubscribed){for(i in this._callback=e,this._callbackScope=t,this._pendingIds)this._subscribeTo(i);this._pendingIds={},this._isSubscribed=!0}},t.prototype.unsubscribe=function(){for(var e in this._subscriptions)this._subscriptions[e].unsubscribe();this._pendingIds={},this._subscriptions={},this._isSubscribed=!1,this._callback=null,this._callbackScope=null},t.prototype._subscribeTo=function(t){if(!this._subscriptions[t]){var i=this._callback.bind(this._callbackScope||window,t);this._subscriptions[t]=e.service.LightstreamerService.subscribe(this.subscriptionStringPrefix+"|"+t,this.fieldIds,this._subscribeMode,i,this._maxFrequency)}},t.prototype._addPending=function(e){this._pendingIds[e]=!0},e.service.GroupSubscription=t}(IG),function(e){"use strict";function t(e,i,n,s){this._subscriptionFieldsString=e,this._schema=i,this._channel=n,this._version=s||t.CURRENT_SUBSCRIPTION_VERSION}t.prototype._subscriptionFieldsString=null,t.prototype._schema=null,t.prototype._channel=null,t.prototype._version=null,t.prototype.build=function(e){var t,i;return t=this._version+"-"+this._channel+"-"+this._subscriptionFieldsString,this._getModifiers(e)&&(i=this._getModifiers(e).join(","))&&(t+=":"+i),this._getSubscriptionItemId(e)&&(t+="|"+this._getSubscriptionItemId(e)),t},t.prototype._getModifiers=function(e){return e.getDisplayModifiers()},t.prototype._getSubscriptionItemId=function(e){return e.getDisplaySubscriptionId()},t.prototype.getSchema=function(){return this._schema},t.CURRENT_SUBSCRIPTION_VERSION="V2",e.util.SubscriptionStringBuilder=t}(IG),function(e){function t(){}e.util.Lang.extend(t,e.util.Subscribable),t.prototype._heartbeat=null,t.prototype.lightstreamerSubscription=null,t.FREQUENCY=1,t.prototype.getHeartbeat=function(){return this._heartbeat},t.prototype._handleUpdate=function(e,i){this._heartbeat=+i.getValue(1),this.fire(t.HEARTBEAT_EVENT,this._heartbeat,this)},t.prototype.subscribe=function(){return this.lightstreamerSubscription||(this.lightstreamerSubscription=e.service.LightstreamerService.subscribe("V2-M-HEARTBEAT|HB.U.HEARTBEAT.IP",["heartbeat"],"MERGE",this._handleUpdate.bind(this),t.FREQUENCY)),this},t.prototype.unsubscribe=function(){return this.lightstreamerSubscription&&(this.lightstreamerSubscription.unsubscribe(),this.lightstreamerSubscription=null),this},t.HEARTBEAT_EVENT="heartbeat",e.service.HeartbeatSubscription=t}(IG),function(e){"use strict";function t(e){t.superclass.constructor.apply(this,arguments),this._subscriptionStringBuilder=e,this._resetInstruments()}e.util.Lang.extend(t,e.service.GroupSubscription),t.prototype._pendingInstruments=null,t.prototype.addInstruments=function(e){return e.forEach(this.addInstrument,this),this},t.prototype.addInstrument=function(e){var t=e.getKey();return t?(this._pendingInstruments[t]=e,this.addId(t),this):this},t.prototype._subscribeTo=function(t){if(!this._subscriptions[t]){var i=this._callback.bind(this._callbackScope||window,t),n=this._pendingInstruments[t];this._subscriptions[t]=e.service.LightstreamerService.subscribe(this._subscriptionStringBuilder.build(n.getFeedInfo()),this._subscriptionStringBuilder.getSchema(),this._subscribeMode,i,this._maxFrequency)}},t.prototype.removeInstrument=function(e){return this.removeId(e.getKey()),this},t.prototype.removeId=function(e){t.superclass.removeId.call(this,e),delete this._pendingInstruments[e]},t.prototype.removeAll=function(){t.superclass.removeAll.apply(this,arguments),this._resetInstruments()},t.prototype.subscribe=function(e,i){t.superclass.subscribe.apply(this,arguments),this._resetInstruments()},t.prototype.unsubscribe=function(){t.superclass.unsubscribe.apply(this,arguments),this._resetInstruments()},t.prototype.getSchema=function(){return this._subscriptionStringBuilder.getSchema()},t.prototype._resetInstruments=function(){this._pendingInstruments={}},e.service.InstrumentSubscription=t}(IG),function(e){"use strict";function t(e,i,n,s){t.superclass.constructor.apply(this,arguments)}e.util.Lang.extend(t,e.util.SubscriptionStringBuilder),t.prototype._getModifiers=function(e){return e.getDealingModifiers()},t.prototype._getSubscriptionItemId=function(e){return e.getDealingSubscriptionId()},e.util.DealingSubscriptionStringBuilder=t}(IG),function(e){"use strict";function t(e){this._display=e.display,this._dealing=e.dealing,this._hasAnySubscriptionData=!!this._display||!!this._dealing}t.prototype._dealing=null,t.prototype._display=null,t.prototype._hasAnySubscriptionData=null,t.prototype.getDelayTime=function(){return this._display&&this._display.delayTime?this._display.delayTime:0},t.prototype.getDealingModifiers=function(){return this._dealing?this._dealing.modifiers:null},t.prototype.getDealingSubscriptionId=function(){return this._dealing?this._dealing.subscriptionId:null},t.prototype.getDisplayModifiers=function(){return this._display?this._display.modifiers:this._dealing?this._dealing.modifiers:null},t.prototype.getDisplaySubscriptionId=function(){return this._display?this._display.subscriptionId:this._dealing?this._dealing.subscriptionId:null},t.prototype.getKey=function(){return this._obtainEpicFromSubscriptionId(this.getDisplaySubscriptionId())},t.prototype._obtainEpicFromSubscriptionId=function(e){return e?e.replace(".FREE",""):""},t.prototype.hasAnySubscriptionData=function(){return this._hasAnySubscriptionData},e.util.FeedInfo=t}(IG),function(){IG.util.Lang.namespace("IG.service");var e,t,i=arguments.length,n=IG.service;for(e=0;e<i;e++)if((t=arguments[e])&&t.Subscription){n.Subscription=t.Subscription,n.LightstreamerClient=t.LightstreamerClient;break}n.LightstreamerClient||IG.warn("Lightstreamer service could not be initialised, ensure LS libraries are included")}(window.Lightstreamer,window),function(e){e.util.Lang.namespace("IG.service");var t=0;function i(i,n,s,r,o,a,l,d){var u=new e.service.Subscription(s,i,n);u.addListener({onItemUpdate:r,onSubscription:d}),u.setRequestedMaxFrequency(a),l&&u.setDataAdapter(l),"MERGE"==s&&u.setRequestedSnapshot("yes"),this._client=o,this._client.subscribe(u),this._subscriptionName=""+t++,this._subscription=u,e.info("Subscribing to ",s,"data with:",i,"group using table(",this._subscriptionName,")")}i.prototype.unsubscribe=function(){this._client.unsubscribe(this._subscription);e.info("Unsubscribed table (",this._subscriptionName,") from lightstreamer")},e.service.LightstreamerSubscription=i}(IG),function(e){function t(){this._eventEmitter=new e.util.Subscribable}t.CLIENT_READY_EVENT=t.prototype.CLIENT_READY_EVENT="clientReadyEvent",t.STATUS_CHANGE_EVENT=t.prototype.STATUS_CHANGE_EVENT="statusChange",t.AUTHENTICATION_FAILED_EVENT=t.prototype.AUTHENTICATION_FAILED_EVENT="authenticationFailedEvent",t.prototype._client=null,t.prototype._eventEmitter=null,t.prototype.libraryPath=null,t.prototype.clientName=null,t.prototype._enableStreaming=!0,t.prototype._accountId=null,t.prototype._password=null,t.prototype._lsDomain=null,t.prototype._adaptorName=null,t.prototype._retryingAuthentication=0,t.prototype.on=function(){this._eventEmitter.on.apply(this._eventEmitter,arguments)},t.prototype.un=function(){this._eventEmitter.un.apply(this._eventEmitter,arguments)},t.prototype.configure=function(e,t,i,n,s,r,o){if(!t)throw new Error("Configuring IG.service.LightstreamerService failed",t);this.libraryPath=e,this.clientName=t,this._accountId=i,this._enableStreaming=!n,this._lsDomain=(s||"mdp")+".",this._adaptorName=r||"InVisionProvider",this._password=o,this._retryingAuthentication=0},t.prototype._handleStatusChange=function(i){e.info("Lightstreamer connection status has changed to ",i),"CONNECTING"==i&&this._triggerConnectionEventOnce(),"DISCONNECTED:WILL-RETRY"==i&&this._increaseConnectTimeoutOnce(),this._eventEmitter.fire(t.STATUS_CHANGE_EVENT,i,this._retryingAuthentication>0)},t.prototype._triggerConnectionEventOnce=function(){this._eventEmitter.fire(t.CLIENT_READY_EVENT),this._triggerConnectionEventOnce=function(){}},t.prototype._increaseConnectTimeoutOnce=function(){this._client.connectionOptions.setConnectTimeout(1e4),this._increaseConnectTimeoutOnce=function(){}},t.prototype._getLsPort=function(){return window.location.protocol.indexOf("https")>-1?443:80},t.prototype._getLsDomainFor=function(t){var i=this._lsDomain,n=t.split(".").slice(1),s=e.util.Environment.getStreamingPrefix(t);if(null!=s&&(i=s+"-"+i),i)return document.location.protocol+"//"+i+n.join(".");throw new Error("Unable to compute the domain to use for LightStreamer")},t.prototype._createClient=function(){if(!this.clientName)throw new Error("IG.service.LightstreamerService cannot create a client as it has not been configured");this._client=new e.service.LightstreamerClient(this._getLsDomainFor(document.location.host),this._adaptorName),this._client.addListener({onStatusChange:this._handleStatusChange.bind(this)}),this._client.connectionSharing.enableSharing(this.clientName,"ATTACH","CREATE");var t=this._client.connectionDetails;this._accountId&&t.setUser(this._accountId),this._password&&t.setPassword(this._password),this._client.onServerError=this._onServerError.bind(this),this._client.connect()},t.prototype._onServerError=function(i,n){if(1===i){if(this._retryingAuthentication)throw this._eventEmitter.fire(t.AUTHENTICATION_FAILED_EVENT,i,n),new Error("IG.service.LightstreamerService could not connect due to authentication failure");e.info("Lightstreamer authentication failed. Attempting to connect as anonymous user"),this._retryingAuthentication++,this._client.connectionDetails.setPassword(),this._client.connect()}},t.prototype.subscribe=function(t,i,n,s,r,o,a){return this._enableStreaming?(this._client||this._createClient(),null==r&&(r=1),new e.service.LightstreamerSubscription(t,i,n,s,this._client,r,o,a)):new e.service.NonStreamingSubscription},t.prototype.getStatus=function(){return(this._client?this._client.getStatus():null)||"DISCONNECTED"},t.prototype.changeStatus=function(e){return this._client||this._createClient(),"DISCONNECTED"==e?this.disconnect():("DISCONNECTED"==this._client.getStatus()&&this.connect(),this._client.connectionOptions.setForcedTransport(e)),this},t.prototype.connect=function(){return this._client||this._createClient(),this._client.connect(),this},t.prototype.disconnect=function(){return this._client||this._createClient(),this._client.disconnect(),this},t.prototype.getClient=function(){return this._client||this._createClient(),this._client},e.service.LightstreamerService=new t,e.service.LightstreamerService.subscriptionStrings={MESSAGE_HANDLER:"V2-M-MESSAGE_EVENT_HANDLER|",ACCOUNT_MESSAGING:"M___.MGE|{0} M___.MG|{0}-LGT "}}(IG),function(e){"use strict";var t,i,n=window.IG;for(i in t=n&&n.service&&n.service.LightstreamerService?n.service.LightstreamerService:e.service.LightstreamerService,e.service.LightstreamerAmdService={},t)"function"==typeof t[i]?e.service.LightstreamerAmdService[i]=function(e){return t[e].apply(t,Array.prototype.slice.call(arguments,1))}.bind(null,i):e.service.LightstreamerAmdService[i]=t[i];e.service.LightstreamerAmdService.useInstance=function(e){t=e},e.service.LightstreamerAmdService._getInstance=function(){return t}}(IG),function(){function e(){}e.prototype.unsubscribe=function(){},IG.service.NonStreamingSubscription=e}(),function(e){function t(){}e.util.Lang.extend(t,e.util.Subscribable),t.prototype.serverName="",t.prototype.lightstreamerSubscription=null,t.prototype.getServerName=function(){return this.serverName},t.prototype.on=function(){this.hasListener(this.NAME_SERVER_CHANGED_EVENT)||this._subscribe(),t.superclass.on.apply(this,arguments)},t.prototype.un=function(){t.superclass.un.apply(this,arguments),this.hasListener(this.NAME_SERVER_CHANGED_EVENT)||this._unsubscribe()},t.prototype._handleUpdate=function(e,t){var i=this.serverName;this.serverName=t.getValue(1),i!=this.serverName&&this.fire(this.NAME_SERVER_CHANGED_EVENT,this.serverName,i)},t.prototype._subscribe=function(){this.lightstreamerSubscription||(this.lightstreamerSubscription=e.service.LightstreamerService.subscribe("C|SERVER_NAME",["serverName"],"MERGE",this._handleUpdate.bind(this)))},t.prototype._unsubscribe=function(){this.lightstreamerSubscription&&(this.lightstreamerSubscription.unsubscribe(),this.lightstreamerSubscription=null)},t.prototype.NAME_SERVER_CHANGED_EVENT="nameServerChanged",e.service.ServerNameSubscription=new t}(IG),IG.service.LightstreamerAmdService}.call(exports,__webpack_require__,exports,module),void 0===__WEBPACK_AMD_DEFINE_RESULT__||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)},85994:(e,t,i)=>{var n,s;!function(){function r(){return{ig:{dev:{rest:"https://net-api.ig.com",chartsMiddleware:"https://lccgiyzl0j.execute-api.eu-west-1.amazonaws.com/dev",lightstreamer:"https://net-wtp.ig.com",dataAdaptor:"CHARTS"},test:{rest:"https://net-api.ig.com",chartsMiddleware:"https://k7z7x1auxc.execute-api.eu-west-1.amazonaws.com/test",lightstreamer:"https://net-wtp.ig.com",dataAdaptor:"CHARTS"},uat:{rest:"https://web-api.ig.com",chartsMiddleware:"https://eb93b4liw0.execute-api.eu-west-1.amazonaws.com/uat",lightstreamer:"https://web-wtp.ig.com",dataAdaptor:"CHARTS"},demo:{rest:"https://demo-api.ig.com",chartsMiddleware:"https://dkd5z0vrd7.execute-api.eu-west-1.amazonaws.com/demo",lightstreamer:"https://demo-wtp.ig.com",dataAdaptor:"CHARTS"},live:{rest:"https://api.ig.com",chartsMiddleware:"https://3o0jd1jr40.execute-api.eu-west-1.amazonaws.com/live",lightstreamer:"https://wtp.ig.com",dataAdaptor:"CHARTS"}},ig_wtp:{test:{rest:"https://net-deal.ig.com"},uat:{rest:"https://web-deal.ig.com"},demo:{rest:"https://demo-deal.ig.com"},live:{rest:"https://deal.ig.com"}}}}e.exports?e.exports={ig:{dev:{rest:"https://net-api.ig.com",chartsMiddleware:"https://lccgiyzl0j.execute-api.eu-west-1.amazonaws.com/dev",lightstreamer:"https://net-wtp.ig.com",dataAdaptor:"CHARTS"},test:{rest:"https://net-api.ig.com",chartsMiddleware:"https://k7z7x1auxc.execute-api.eu-west-1.amazonaws.com/test",lightstreamer:"https://net-wtp.ig.com",dataAdaptor:"CHARTS"},uat:{rest:"https://web-api.ig.com",chartsMiddleware:"https://eb93b4liw0.execute-api.eu-west-1.amazonaws.com/uat",lightstreamer:"https://web-wtp.ig.com",dataAdaptor:"CHARTS"},demo:{rest:"https://demo-api.ig.com",chartsMiddleware:"https://dkd5z0vrd7.execute-api.eu-west-1.amazonaws.com/demo",lightstreamer:"https://demo-wtp.ig.com",dataAdaptor:"CHARTS"},live:{rest:"https://api.ig.com",chartsMiddleware:"https://3o0jd1jr40.execute-api.eu-west-1.amazonaws.com/live",lightstreamer:"https://wtp.ig.com",dataAdaptor:"CHARTS"}},ig_wtp:{test:{rest:"https://net-deal.ig.com"},uat:{rest:"https://web-deal.ig.com"},demo:{rest:"https://demo-deal.ig.com"},live:{rest:"https://deal.ig.com"}}}:void 0===(s="function"==typeof(n=r)?n.call(t,i,t,e):n)||(e.exports=s)}()},17444:e=>{"use strict";e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 10 10">\n    <path fill-rule="evenodd" clip-rule="evenodd" fill="#6C6C79"\n          d="M6.7 5L10 1.7 8.3 0 5 3.3 1.7 0 0 1.7 3.3 5 0 8.3 1.7 10 5 6.7 8.3 10 10 8.3z"/>\n</svg>'},62983:e=>{"use strict";e.exports='<svg width=\'30\' height=\'30\' xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100" preserveAspectRatio="xMidYMid" class="loadingSpinner">\n\t<g>\n\t\t<path opacity="0.4" fill="#38383D" d="M50.6,28.5h-1.3c-1.9,0-3.4-1.5-3.4-3.4V7.9c0-1.9,1.5-3.4,3.4-3.4h1.3\n\t\tc1.9,0,3.4,1.5,3.4,3.4v17.3C54,27,52.5,28.5,50.6,28.5z"/>\n\t\t<path opacity="0.48" fill="#38383D" d="M39.8,31.1l-1.1,0.6c-1.6,0.9-3.7,0.4-4.6-1.2l-8.6-14.9c-0.9-1.6-0.4-3.7,1.2-4.6l1.1-0.6\n\t\tc1.6-0.9,3.7-0.4,4.6,1.2L41,26.5C42,28.1,41.4,30.2,39.8,31.1z"/>\n\t\t<path opacity="0.56" fill="#38383D" d="M31.7,38.7l-0.6,1.1c-0.9,1.6-3,2.2-4.6,1.2l-14.9-8.6c-1.6-0.9-2.2-3-1.2-4.6l0.6-1.1\n\t\tc0.9-1.6,3-2.2,4.6-1.2l14.9,8.6C32.1,35,32.7,37.1,31.7,38.7z"/>\n\t\t<path opacity="0.64" fill="#38383D" d="M28.5,49.4v1.3c0,1.9-1.5,3.4-3.4,3.4H7.9c-1.9,0-3.4-1.5-3.4-3.4v-1.3\n\t\tc0-1.9,1.5-3.4,3.4-3.4h17.3C27,46,28.5,47.5,28.5,49.4z"/>\n\t\t<path opacity="0.72" fill="#38383D" d="M31.1,60.2l0.6,1.1c0.9,1.6,0.4,3.7-1.2,4.6l-14.9,8.6c-1.6,0.9-3.7,0.4-4.6-1.2l-0.6-1.1\n\t\tc-0.9-1.6-0.4-3.7,1.2-4.6L26.5,59C28.1,58,30.2,58.6,31.1,60.2z"/>\n\t\t<path opacity="0.8" fill="#38383D" d="M38.7,68.3l1.1,0.6c1.6,0.9,2.2,3,1.2,4.6l-8.6,14.9c-0.9,1.6-3,2.2-4.6,1.2l-1.1-0.6\n\t\tc-1.6-0.9-2.2-3-1.2-4.6l8.6-14.9C35,67.9,37.1,67.3,38.7,68.3z"/>\n\t\t<path opacity="0.88" fill="#38383D" d="M49.4,71.5h1.3c1.9,0,3.4,1.5,3.4,3.4v17.3c0,1.9-1.5,3.4-3.4,3.4h-1.3\n\t\tc-1.9,0-3.4-1.5-3.4-3.4V74.8C46,73,47.5,71.5,49.4,71.5z"/>\n\t\t<path opacity="0.92" fill="#38383D" d="M60.2,68.9l1.1-0.6c1.6-0.9,3.7-0.4,4.6,1.2l8.6,14.9c0.9,1.6,0.4,3.7-1.2,4.6l-1.1,0.6\n\t\tc-1.6,0.9-3.7,0.4-4.6-1.2L59,73.5C58,71.9,58.6,69.8,60.2,68.9z"/>\n\t\t<path opacity="8.000000e-02" fill="#38383D" d="M68.3,61.3l0.6-1.1c0.9-1.6,3-2.2,4.6-1.2l14.9,8.6c1.6,0.9,2.2,3,1.2,4.6l-0.6,1.1\n\t\tc-0.9,1.6-3,2.2-4.6,1.2l-14.9-8.6C67.9,65,67.3,62.9,68.3,61.3z"/>\n\t\t<path opacity="0.16" fill="#38383D" d="M71.5,50.6v-1.3c0-1.9,1.5-3.4,3.4-3.4h17.3c1.9,0,3.4,1.5,3.4,3.4v1.3\n\t\tc0,1.9-1.5,3.4-3.4,3.4H74.8C73,54,71.5,52.5,71.5,50.6z"/>\n\t\t<path opacity="0.24" fill="#38383D" d="M68.9,39.8l-0.6-1.1c-0.9-1.6-0.4-3.7,1.2-4.6l14.9-8.6c1.6-0.9,3.7-0.4,4.6,1.2l0.6,1.1\n\t\tc0.9,1.6,0.4,3.7-1.2,4.6L73.5,41C71.9,42,69.8,41.4,68.9,39.8z"/>\n\t\t<path opacity="0.32" fill="#38383D" d="M61.3,31.7l-1.1-0.6c-1.6-0.9-2.2-3-1.2-4.6l8.6-14.9c0.9-1.6,3-2.2,4.6-1.2l1.1,0.6\n\t\tc1.6,0.9,2.2,3,1.2,4.6l-8.6,14.9C65,32.1,62.9,32.7,61.3,31.7z"/>\n\t</g>\n</svg>'},31940:e=>{"use strict";e.exports='<div class="icc-display">\n   <div class="icc-title-value-container">\n      <span class="js-icc-title"></span>\n      <span class="icc-value js-icc-value"></span>\n   </div>\n\n   <div>\n      <a class="icc-link js-icc-link"></a>\n   </div>\n</div>\n'},12361:e=>{"use strict";e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 14 7" width="14" height="7">\n   <polyline class="top" fill="none" points="0.5,6.5 7,0.5 13.5,6.5" />\n   <polyline class="bottom" fill="none" points="0.5,0.5 7,6.5 13.5,0.5" />\n</svg>'},76178:e=>{"use strict";e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 16" width="15" height="20">\n    <g class="left">\n        <path class="background" d="M11.5 15.5h-9q-2 0-2-2v-11q0-2 2-2h9"/>\n        <path class="arrow" d="m4 8 4-4v8Z"/>\n    </g>\n    <g class="right">\n        <path class="background" d="M.5 15.5h9q2 0 2-2v-11q0-2-2-2h-9"/>\n        <path class="arrow" d="m7.5 8-4-4v8"/>\n    </g>\n</svg>'},44203:e=>{"use strict";e.exports='<svg width="9" height="9" viewBox="-4.5 -4.5 9 9" xmlns="http://www.w3.org/2000/svg"><path class="backIcon" fill="#6C6C7A" d="M2.652-4.065l1.414 1.414-6.717 6.718-1.414-1.414zm-5.303 0l6.716 6.717-1.414 1.414-6.716-6.716z"/></svg>'},37282:e=>{"use strict";e.exports='<svg width="15" height="14" viewBox="0 0 15 14" fill="none" class="arrow put" xmlns="http://www.w3.org/2000/svg">\n   <path d="M3.93794 3.07506L10.1506 9.28775L10.1481 5.19677C10.1473 5.01751 10.2425 4.85151 10.3976 4.7617C10.5528 4.6719 10.7441 4.67201 10.8992 4.76202C11.0542 4.85202 11.1492 5.01813 11.1481 5.19739L11.1513 10.5013C11.1515 10.6339 11.0989 10.7611 11.0051 10.8549C10.9114 10.9486 10.7842 11.0012 10.6516 11.0011L5.34765 10.9979C5.16845 10.9988 5.00245 10.9038 4.91252 10.7488C4.82259 10.5938 4.82248 10.4025 4.91224 10.2474C5.00199 10.0923 5.16789 9.99707 5.34709 9.99781L9.45006 10.0003L3.23138 3.78162C3.10517 3.65541 3.05587 3.47144 3.10207 3.29903C3.14827 3.12662 3.28294 2.99195 3.45535 2.94575C3.62776 2.89955 3.81173 2.94885 3.93794 3.07506Z"/>\n</svg>'},22438:e=>{"use strict";e.exports='<svg viewBox="0 0 12 13" xmlns="http://www.w3.org/2000/svg">\n   <title>Info icon</title>\n   <path fill-rule="evenodd" clip-rule="evenodd" d="M5.86478 12.2296C2.62575 12.2296 0 9.60381 0 6.36478C0 3.12575 2.62575 0.5 5.86478 0.5C9.10381 0.5 11.7296 3.12575 11.7296 6.36478C11.7296 7.92022 11.1117 9.41195 10.0118 10.5118C8.91195 11.6117 7.42022 12.2296 5.86478 12.2296ZM5.86478 1.47746C3.16559 1.47746 0.977464 3.66559 0.977464 6.36478C0.977464 9.06398 3.16559 11.2521 5.86478 11.2521C8.56398 11.2521 10.7521 9.06398 10.7521 6.36478C10.7521 5.06859 10.2372 3.82548 9.32064 2.90893C8.40409 1.99238 7.16098 1.47746 5.86478 1.47746ZM6.23133 4.40986C5.79359 4.44092 5.4123 4.1141 5.37605 3.67676C5.4123 3.23942 5.79359 2.9126 6.23133 2.94366C6.66908 2.91257 7.05039 3.2394 7.08661 3.67676C7.05038 4.1141 6.66908 4.44093 6.23133 4.40986ZM6.57344 6.48672L6.14116 8.64797C6.12178 8.74507 6.16288 8.84428 6.24526 8.89923L6.70051 9.20265C6.81728 9.28046 6.86934 9.42553 6.82868 9.55982C6.78802 9.69412 6.66422 9.78595 6.52391 9.78591H5.76902C5.43244 9.78591 5.1136 9.635 4.90021 9.37471C4.68683 9.11442 4.60138 8.77218 4.66739 8.44214L5.09967 6.28087C5.11909 6.18377 5.07799 6.08456 4.9956 6.02964L4.54032 5.72621C4.42358 5.64838 4.37155 5.50332 4.41222 5.36904C4.45288 5.23477 4.57665 5.14294 4.71695 5.14295H5.47189C5.80846 5.14297 6.12729 5.29388 6.34066 5.55417C6.55403 5.81446 6.63946 6.15669 6.57344 6.48672Z" />\n</svg>'},12137:e=>{"use strict";e.exports='<svg width="15" height="14" viewBox="0 0 15 14" fill="none" class="arrow call" xmlns="http://www.w3.org/2000/svg">\n   <path d="M3.22557 10.1453L9.43826 3.93262L5.34728 3.93513C5.16802 3.93596 5.00203 3.84077 4.91222 3.68562C4.82241 3.53047 4.82253 3.33912 4.91253 3.18409C5.00253 3.02905 5.16864 2.93406 5.3479 2.93512L10.6519 2.93192C10.7844 2.93177 10.9116 2.98437 11.0054 3.07812C11.0991 3.17187 11.1517 3.29905 11.1516 3.43163L11.1484 8.7356C11.1493 8.9148 11.0543 9.0808 10.8993 9.17073C10.7443 9.26066 10.553 9.26077 10.3979 9.17101C10.2428 9.08126 10.1476 8.91537 10.1483 8.73617L10.1508 4.63319L3.93213 10.8519C3.80592 10.9781 3.62196 11.0274 3.44954 10.9812C3.27713 10.935 3.14246 10.8003 3.09626 10.6279C3.05007 10.4555 3.09936 10.2715 3.22557 10.1453Z"/>\n</svg>'},61346:e=>{"use strict";e.exports=__WEBPACK_EXTERNAL_MODULE__61346__},43130:e=>{"use strict";e.exports=__WEBPACK_EXTERNAL_MODULE__43130__},96285:(e,t,i)=>{"use strict";i.r(t),i.d(t,{DateTime:()=>gn,Duration:()=>Ii,FixedOffsetZone:()=>ne,IANAZone:()=>U,Info:()=>Mi,Interval:()=>Oi,InvalidZone:()=>se,Settings:()=>Ae,SystemZone:()=>B,VERSION:()=>mn,Zone:()=>x});class n extends Error{}class s extends n{constructor(e){super(`Invalid DateTime: ${e.toMessage()}`)}}class r extends n{constructor(e){super(`Invalid Interval: ${e.toMessage()}`)}}class o extends n{constructor(e){super(`Invalid Duration: ${e.toMessage()}`)}}class a extends n{}class l extends n{constructor(e){super(`Invalid unit ${e}`)}}class d extends n{}class u extends n{constructor(){super("Zone is an abstract class")}}const c="numeric",h="short",p="long",_={year:c,month:c,day:c},g={year:c,month:h,day:c},f={year:c,month:h,day:c,weekday:h},m={year:c,month:p,day:c},v={year:c,month:p,day:c,weekday:p},A={hour:c,minute:c},E={hour:c,minute:c,second:c},T={hour:c,minute:c,second:c,timeZoneName:h},I={hour:c,minute:c,second:c,timeZoneName:p},C={hour:c,minute:c,hourCycle:"h23"},O={hour:c,minute:c,second:c,hourCycle:"h23"},M={hour:c,minute:c,second:c,hourCycle:"h23",timeZoneName:h},y={hour:c,minute:c,second:c,hourCycle:"h23",timeZoneName:p},b={year:c,month:c,day:c,hour:c,minute:c},S={year:c,month:c,day:c,hour:c,minute:c,second:c},D={year:c,month:h,day:c,hour:c,minute:c},w={year:c,month:h,day:c,hour:c,minute:c,second:c},L={year:c,month:h,day:c,weekday:h,hour:c,minute:c},R={year:c,month:p,day:c,hour:c,minute:c,timeZoneName:h},P={year:c,month:p,day:c,hour:c,minute:c,second:c,timeZoneName:h},N={year:c,month:p,day:c,weekday:p,hour:c,minute:c,timeZoneName:p},k={year:c,month:p,day:c,weekday:p,hour:c,minute:c,second:c,timeZoneName:p};class x{get type(){throw new u}get name(){throw new u}get ianaName(){return this.name}get isUniversal(){throw new u}offsetName(e,t){throw new u}formatOffset(e,t){throw new u}offset(e){throw new u}equals(e){throw new u}get isValid(){throw new u}}let V=null;class B extends x{static get instance(){return null===V&&(V=new B),V}get type(){return"system"}get name(){return(new Intl.DateTimeFormat).resolvedOptions().timeZone}get isUniversal(){return!1}offsetName(e,{format:t,locale:i}){return it(e,t,i)}formatOffset(e,t){return ot(this.offset(e),t)}offset(e){return-new Date(e).getTimezoneOffset()}equals(e){return"system"===e.type}get isValid(){return!0}}let H={};const W={year:0,month:1,day:2,era:3,hour:4,minute:5,second:6};let F={};class U extends x{static create(e){return F[e]||(F[e]=new U(e)),F[e]}static resetCache(){F={},H={}}static isValidSpecifier(e){return this.isValidZone(e)}static isValidZone(e){if(!e)return!1;try{return new Intl.DateTimeFormat("en-US",{timeZone:e}).format(),!0}catch(t){return!1}}constructor(e){super(),this.zoneName=e,this.valid=U.isValidZone(e)}get type(){return"iana"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(e,{format:t,locale:i}){return it(e,t,i,this.name)}formatOffset(e,t){return ot(this.offset(e),t)}offset(e){const t=new Date(e);if(isNaN(t))return NaN;const i=(n=this.name,H[n]||(H[n]=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:n,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",era:"short"})),H[n]);var n;let[s,r,o,a,l,d,u]=i.formatToParts?function(e,t){const i=e.formatToParts(t),n=[];for(let s=0;s<i.length;s++){const{type:e,value:t}=i[s],r=W[e];"era"===e?n[r]=t:ke(r)||(n[r]=parseInt(t,10))}return n}(i,t):function(e,t){const i=e.format(t).replace(/\u200E/g,""),n=/(\d+)\/(\d+)\/(\d+) (AD|BC),? (\d+):(\d+):(\d+)/.exec(i),[,s,r,o,a,l,d,u]=n;return[o,s,r,a,l,d,u]}(i,t);"BC"===a&&(s=1-Math.abs(s));let c=+t;const h=c%1e3;return c-=h>=0?h:1e3+h,(Je({year:s,month:r,day:o,hour:24===l?0:l,minute:d,second:u,millisecond:0})-c)/6e4}equals(e){return"iana"===e.type&&e.name===this.name}get isValid(){return this.valid}}let G={};let j={};function K(e,t={}){const i=JSON.stringify([e,t]);let n=j[i];return n||(n=new Intl.DateTimeFormat(e,t),j[i]=n),n}let z={};let Z={};let Y=null;let $={};function q(e,t,i,n){const s=e.listingMode();return"error"===s?null:"en"===s?i(t):n(t)}class X{constructor(e,t,i){this.padTo=i.padTo||0,this.floor=i.floor||!1;const{padTo:n,floor:s,...r}=i;if(!t||Object.keys(r).length>0){const t={useGrouping:!1,...i};i.padTo>0&&(t.minimumIntegerDigits=i.padTo),this.inf=function(e,t={}){const i=JSON.stringify([e,t]);let n=z[i];return n||(n=new Intl.NumberFormat(e,t),z[i]=n),n}(e,t)}}format(e){if(this.inf){const t=this.floor?Math.floor(e):e;return this.inf.format(t)}return je(this.floor?Math.floor(e):Ye(e,3),this.padTo)}}class J{constructor(e,t,i){let n;if(this.opts=i,this.originalZone=void 0,this.opts.timeZone)this.dt=e;else if("fixed"===e.zone.type){const t=e.offset/60*-1,i=t>=0?`Etc/GMT+${t}`:`Etc/GMT${t}`;0!==e.offset&&U.create(i).valid?(n=i,this.dt=e):(n="UTC",this.dt=0===e.offset?e:e.setZone("UTC").plus({minutes:e.offset}),this.originalZone=e.zone)}else"system"===e.zone.type?this.dt=e:"iana"===e.zone.type?(this.dt=e,n=e.zone.name):(n="UTC",this.dt=e.setZone("UTC").plus({minutes:e.offset}),this.originalZone=e.zone);const s={...this.opts};s.timeZone=s.timeZone||n,this.dtf=K(t,s)}format(){return this.originalZone?this.formatToParts().map((({value:e})=>e)).join(""):this.dtf.format(this.dt.toJSDate())}formatToParts(){const e=this.dtf.formatToParts(this.dt.toJSDate());return this.originalZone?e.map((e=>{if("timeZoneName"===e.type){const t=this.originalZone.offsetName(this.dt.ts,{locale:this.dt.locale,format:this.opts.timeZoneName});return{...e,value:t}}return e})):e}resolvedOptions(){return this.dtf.resolvedOptions()}}class Q{constructor(e,t,i){this.opts={style:"long",...i},!t&&Be()&&(this.rtf=function(e,t={}){const{base:i,...n}=t,s=JSON.stringify([e,n]);let r=Z[s];return r||(r=new Intl.RelativeTimeFormat(e,t),Z[s]=r),r}(e,i))}format(e,t){return this.rtf?this.rtf.format(e,t):function(e,t,i="always",n=!1){const s={years:["year","yr."],quarters:["quarter","qtr."],months:["month","mo."],weeks:["week","wk."],days:["day","day","days"],hours:["hour","hr."],minutes:["minute","min."],seconds:["second","sec."]},r=-1===["hours","minutes","seconds"].indexOf(e);if("auto"===i&&r){const i="days"===e;switch(t){case 1:return i?"tomorrow":`next ${s[e][0]}`;case-1:return i?"yesterday":`last ${s[e][0]}`;case 0:return i?"today":`this ${s[e][0]}`}}const o=Object.is(t,-0)||t<0,a=Math.abs(t),l=1===a,d=s[e],u=n?l?d[1]:d[2]||d[1]:l?s[e][0]:e;return o?`${a} ${u} ago`:`in ${a} ${u}`}(t,e,this.opts.numeric,"long"!==this.opts.style)}formatToParts(e,t){return this.rtf?this.rtf.formatToParts(e,t):[]}}const ee={firstDay:1,minimalDays:4,weekend:[6,7]};class te{static fromOpts(e){return te.create(e.locale,e.numberingSystem,e.outputCalendar,e.weekSettings,e.defaultToEN)}static create(e,t,i,n,s=!1){const r=e||Ae.defaultLocale,o=r||(s?"en-US":Y||(Y=(new Intl.DateTimeFormat).resolvedOptions().locale,Y)),a=t||Ae.defaultNumberingSystem,l=i||Ae.defaultOutputCalendar,d=Ue(n)||Ae.defaultWeekSettings;return new te(o,a,l,d,r)}static resetCache(){Y=null,j={},z={},Z={}}static fromObject({locale:e,numberingSystem:t,outputCalendar:i,weekSettings:n}={}){return te.create(e,t,i,n)}constructor(e,t,i,n,s){const[r,o,a]=function(e){const t=e.indexOf("-x-");-1!==t&&(e=e.substring(0,t));const i=e.indexOf("-u-");if(-1===i)return[e];{let t,s;try{t=K(e).resolvedOptions(),s=e}catch(n){const r=e.substring(0,i);t=K(r).resolvedOptions(),s=r}const{numberingSystem:r,calendar:o}=t;return[s,r,o]}}(e);this.locale=r,this.numberingSystem=t||o||null,this.outputCalendar=i||a||null,this.weekSettings=n,this.intl=function(e,t,i){return i||t?(e.includes("-u-")||(e+="-u"),i&&(e+=`-ca-${i}`),t&&(e+=`-nu-${t}`),e):e}(this.locale,this.numberingSystem,this.outputCalendar),this.weekdaysCache={format:{},standalone:{}},this.monthsCache={format:{},standalone:{}},this.meridiemCache=null,this.eraCache={},this.specifiedLocale=s,this.fastNumbersCached=null}get fastNumbers(){var e;return null==this.fastNumbersCached&&(this.fastNumbersCached=(!(e=this).numberingSystem||"latn"===e.numberingSystem)&&("latn"===e.numberingSystem||!e.locale||e.locale.startsWith("en")||"latn"===new Intl.DateTimeFormat(e.intl).resolvedOptions().numberingSystem)),this.fastNumbersCached}listingMode(){const e=this.isEnglish(),t=!(null!==this.numberingSystem&&"latn"!==this.numberingSystem||null!==this.outputCalendar&&"gregory"!==this.outputCalendar);return e&&t?"en":"intl"}clone(e){return e&&0!==Object.getOwnPropertyNames(e).length?te.create(e.locale||this.specifiedLocale,e.numberingSystem||this.numberingSystem,e.outputCalendar||this.outputCalendar,Ue(e.weekSettings)||this.weekSettings,e.defaultToEN||!1):this}redefaultToEN(e={}){return this.clone({...e,defaultToEN:!0})}redefaultToSystem(e={}){return this.clone({...e,defaultToEN:!1})}months(e,t=!1){return q(this,e,ct,(()=>{const i=t?{month:e,day:"numeric"}:{month:e},n=t?"format":"standalone";return this.monthsCache[n][e]||(this.monthsCache[n][e]=function(e){const t=[];for(let i=1;i<=12;i++){const n=gn.utc(2009,i,1);t.push(e(n))}return t}((e=>this.extract(e,i,"month")))),this.monthsCache[n][e]}))}weekdays(e,t=!1){return q(this,e,gt,(()=>{const i=t?{weekday:e,year:"numeric",month:"long",day:"numeric"}:{weekday:e},n=t?"format":"standalone";return this.weekdaysCache[n][e]||(this.weekdaysCache[n][e]=function(e){const t=[];for(let i=1;i<=7;i++){const n=gn.utc(2016,11,13+i);t.push(e(n))}return t}((e=>this.extract(e,i,"weekday")))),this.weekdaysCache[n][e]}))}meridiems(){return q(this,void 0,(()=>ft),(()=>{if(!this.meridiemCache){const e={hour:"numeric",hourCycle:"h12"};this.meridiemCache=[gn.utc(2016,11,13,9),gn.utc(2016,11,13,19)].map((t=>this.extract(t,e,"dayperiod")))}return this.meridiemCache}))}eras(e){return q(this,e,Et,(()=>{const t={era:e};return this.eraCache[e]||(this.eraCache[e]=[gn.utc(-40,1,1),gn.utc(2017,1,1)].map((e=>this.extract(e,t,"era")))),this.eraCache[e]}))}extract(e,t,i){const n=this.dtFormatter(e,t).formatToParts().find((e=>e.type.toLowerCase()===i));return n?n.value:null}numberFormatter(e={}){return new X(this.intl,e.forceSimple||this.fastNumbers,e)}dtFormatter(e,t={}){return new J(e,this.intl,t)}relFormatter(e={}){return new Q(this.intl,this.isEnglish(),e)}listFormatter(e={}){return function(e,t={}){const i=JSON.stringify([e,t]);let n=G[i];return n||(n=new Intl.ListFormat(e,t),G[i]=n),n}(this.intl,e)}isEnglish(){return"en"===this.locale||"en-us"===this.locale.toLowerCase()||new Intl.DateTimeFormat(this.intl).resolvedOptions().locale.startsWith("en-us")}getWeekSettings(){return this.weekSettings?this.weekSettings:He()?function(e){let t=$[e];if(!t){const i=new Intl.Locale(e);t="getWeekInfo"in i?i.getWeekInfo():i.weekInfo,$[e]=t}return t}(this.locale):ee}getStartOfWeek(){return this.getWeekSettings().firstDay}getMinDaysInFirstWeek(){return this.getWeekSettings().minimalDays}getWeekendDays(){return this.getWeekSettings().weekend}equals(e){return this.locale===e.locale&&this.numberingSystem===e.numberingSystem&&this.outputCalendar===e.outputCalendar}toString(){return`Locale(${this.locale}, ${this.numberingSystem}, ${this.outputCalendar})`}}let ie=null;class ne extends x{static get utcInstance(){return null===ie&&(ie=new ne(0)),ie}static instance(e){return 0===e?ne.utcInstance:new ne(e)}static parseSpecifier(e){if(e){const t=e.match(/^utc(?:([+-]\d{1,2})(?::(\d{2}))?)?$/i);if(t)return new ne(nt(t[1],t[2]))}return null}constructor(e){super(),this.fixed=e}get type(){return"fixed"}get name(){return 0===this.fixed?"UTC":`UTC${ot(this.fixed,"narrow")}`}get ianaName(){return 0===this.fixed?"Etc/UTC":`Etc/GMT${ot(-this.fixed,"narrow")}`}offsetName(){return this.name}formatOffset(e,t){return ot(this.fixed,t)}get isUniversal(){return!0}offset(){return this.fixed}equals(e){return"fixed"===e.type&&e.fixed===this.fixed}get isValid(){return!0}}class se extends x{constructor(e){super(),this.zoneName=e}get type(){return"invalid"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(){return null}formatOffset(){return""}offset(){return NaN}equals(){return!1}get isValid(){return!1}}function re(e,t){if(ke(e)||null===e)return t;if(e instanceof x)return e;if("string"==typeof e){const i=e.toLowerCase();return"default"===i?t:"local"===i||"system"===i?B.instance:"utc"===i||"gmt"===i?ne.utcInstance:ne.parseSpecifier(i)||U.create(e)}return xe(e)?ne.instance(e):"object"==typeof e&&"offset"in e&&"function"==typeof e.offset?e:new se(e)}const oe={arab:"[٠-٩]",arabext:"[۰-۹]",bali:"[᭐-᭙]",beng:"[০-৯]",deva:"[०-९]",fullwide:"[０-９]",gujr:"[૦-૯]",hanidec:"[〇|一|二|三|四|五|六|七|八|九]",khmr:"[០-៩]",knda:"[೦-೯]",laoo:"[໐-໙]",limb:"[᥆-᥏]",mlym:"[൦-൯]",mong:"[᠐-᠙]",mymr:"[၀-၉]",orya:"[୦-୯]",tamldec:"[௦-௯]",telu:"[౦-౯]",thai:"[๐-๙]",tibt:"[༠-༩]",latn:"\\d"},ae={arab:[1632,1641],arabext:[1776,1785],bali:[6992,7001],beng:[2534,2543],deva:[2406,2415],fullwide:[65296,65303],gujr:[2790,2799],khmr:[6112,6121],knda:[3302,3311],laoo:[3792,3801],limb:[6470,6479],mlym:[3430,3439],mong:[6160,6169],mymr:[4160,4169],orya:[2918,2927],tamldec:[3046,3055],telu:[3174,3183],thai:[3664,3673],tibt:[3872,3881]},le=oe.hanidec.replace(/[\[|\]]/g,"").split("");let de={};function ue({numberingSystem:e},t=""){const i=e||"latn";return de[i]||(de[i]={}),de[i][t]||(de[i][t]=new RegExp(`${oe[i]}${t}`)),de[i][t]}let ce,he=()=>Date.now(),pe="system",_e=null,ge=null,fe=null,me=60,ve=null;class Ae{static get now(){return he}static set now(e){he=e}static set defaultZone(e){pe=e}static get defaultZone(){return re(pe,B.instance)}static get defaultLocale(){return _e}static set defaultLocale(e){_e=e}static get defaultNumberingSystem(){return ge}static set defaultNumberingSystem(e){ge=e}static get defaultOutputCalendar(){return fe}static set defaultOutputCalendar(e){fe=e}static get defaultWeekSettings(){return ve}static set defaultWeekSettings(e){ve=Ue(e)}static get twoDigitCutoffYear(){return me}static set twoDigitCutoffYear(e){me=e%100}static get throwOnInvalid(){return ce}static set throwOnInvalid(e){ce=e}static resetCaches(){te.resetCache(),U.resetCache(),gn.resetCache(),de={}}}class Ee{constructor(e,t){this.reason=e,this.explanation=t}toMessage(){return this.explanation?`${this.reason}: ${this.explanation}`:this.reason}}const Te=[0,31,59,90,120,151,181,212,243,273,304,334],Ie=[0,31,60,91,121,152,182,213,244,274,305,335];function Ce(e,t){return new Ee("unit out of range",`you specified ${t} (of type ${typeof t}) as a ${e}, which is invalid`)}function Oe(e,t,i){const n=new Date(Date.UTC(e,t-1,i));e<100&&e>=0&&n.setUTCFullYear(n.getUTCFullYear()-1900);const s=n.getUTCDay();return 0===s?7:s}function Me(e,t,i){return i+($e(e)?Ie:Te)[t-1]}function ye(e,t){const i=$e(e)?Ie:Te,n=i.findIndex((e=>e<t));return{month:n+1,day:t-i[n]}}function be(e,t){return(e-t+7)%7+1}function Se(e,t=4,i=1){const{year:n,month:s,day:r}=e,o=Me(n,s,r),a=be(Oe(n,s,r),i);let l,d=Math.floor((o-a+14-t)/7);return d<1?(l=n-1,d=et(l,t,i)):d>et(n,t,i)?(l=n+1,d=1):l=n,{weekYear:l,weekNumber:d,weekday:a,...at(e)}}function De(e,t=4,i=1){const{weekYear:n,weekNumber:s,weekday:r}=e,o=be(Oe(n,1,t),i),a=qe(n);let l,d=7*s+r-o-7+t;d<1?(l=n-1,d+=qe(l)):d>a?(l=n+1,d-=qe(n)):l=n;const{month:u,day:c}=ye(l,d);return{year:l,month:u,day:c,...at(e)}}function we(e){const{year:t,month:i,day:n}=e;return{year:t,ordinal:Me(t,i,n),...at(e)}}function Le(e){const{year:t,ordinal:i}=e,{month:n,day:s}=ye(t,i);return{year:t,month:n,day:s,...at(e)}}function Re(e,t){if(!ke(e.localWeekday)||!ke(e.localWeekNumber)||!ke(e.localWeekYear)){if(!ke(e.weekday)||!ke(e.weekNumber)||!ke(e.weekYear))throw new a("Cannot mix locale-based week fields with ISO-based week fields");return ke(e.localWeekday)||(e.weekday=e.localWeekday),ke(e.localWeekNumber)||(e.weekNumber=e.localWeekNumber),ke(e.localWeekYear)||(e.weekYear=e.localWeekYear),delete e.localWeekday,delete e.localWeekNumber,delete e.localWeekYear,{minDaysInFirstWeek:t.getMinDaysInFirstWeek(),startOfWeek:t.getStartOfWeek()}}return{minDaysInFirstWeek:4,startOfWeek:1}}function Pe(e){const t=Ve(e.year),i=Ge(e.month,1,12),n=Ge(e.day,1,Xe(e.year,e.month));return t?i?!n&&Ce("day",e.day):Ce("month",e.month):Ce("year",e.year)}function Ne(e){const{hour:t,minute:i,second:n,millisecond:s}=e,r=Ge(t,0,23)||24===t&&0===i&&0===n&&0===s,o=Ge(i,0,59),a=Ge(n,0,59),l=Ge(s,0,999);return r?o?a?!l&&Ce("millisecond",s):Ce("second",n):Ce("minute",i):Ce("hour",t)}function ke(e){return void 0===e}function xe(e){return"number"==typeof e}function Ve(e){return"number"==typeof e&&e%1==0}function Be(){try{return"undefined"!=typeof Intl&&!!Intl.RelativeTimeFormat}catch(e){return!1}}function He(){try{return"undefined"!=typeof Intl&&!!Intl.Locale&&("weekInfo"in Intl.Locale.prototype||"getWeekInfo"in Intl.Locale.prototype)}catch(e){return!1}}function We(e,t,i){if(0!==e.length)return e.reduce(((e,n)=>{const s=[t(n),n];return e&&i(e[0],s[0])===e[0]?e:s}),null)[1]}function Fe(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function Ue(e){if(null==e)return null;if("object"!=typeof e)throw new d("Week settings must be an object");if(!Ge(e.firstDay,1,7)||!Ge(e.minimalDays,1,7)||!Array.isArray(e.weekend)||e.weekend.some((e=>!Ge(e,1,7))))throw new d("Invalid week settings");return{firstDay:e.firstDay,minimalDays:e.minimalDays,weekend:Array.from(e.weekend)}}function Ge(e,t,i){return Ve(e)&&e>=t&&e<=i}function je(e,t=2){let i;return i=e<0?"-"+(""+-e).padStart(t,"0"):(""+e).padStart(t,"0"),i}function Ke(e){return ke(e)||null===e||""===e?void 0:parseInt(e,10)}function ze(e){return ke(e)||null===e||""===e?void 0:parseFloat(e)}function Ze(e){if(!ke(e)&&null!==e&&""!==e){const t=1e3*parseFloat("0."+e);return Math.floor(t)}}function Ye(e,t,i=!1){const n=10**t;return(i?Math.trunc:Math.round)(e*n)/n}function $e(e){return e%4==0&&(e%100!=0||e%400==0)}function qe(e){return $e(e)?366:365}function Xe(e,t){const i=function(e,t){return e-t*Math.floor(e/t)}(t-1,12)+1;return 2===i?$e(e+(t-i)/12)?29:28:[31,null,31,30,31,30,31,31,30,31,30,31][i-1]}function Je(e){let t=Date.UTC(e.year,e.month-1,e.day,e.hour,e.minute,e.second,e.millisecond);return e.year<100&&e.year>=0&&(t=new Date(t),t.setUTCFullYear(e.year,e.month-1,e.day)),+t}function Qe(e,t,i){return-be(Oe(e,1,t),i)+t-1}function et(e,t=4,i=1){const n=Qe(e,t,i),s=Qe(e+1,t,i);return(qe(e)-n+s)/7}function tt(e){return e>99?e:e>Ae.twoDigitCutoffYear?1900+e:2e3+e}function it(e,t,i,n=null){const s=new Date(e),r={hourCycle:"h23",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"};n&&(r.timeZone=n);const o={timeZoneName:t,...r},a=new Intl.DateTimeFormat(i,o).formatToParts(s).find((e=>"timezonename"===e.type.toLowerCase()));return a?a.value:null}function nt(e,t){let i=parseInt(e,10);Number.isNaN(i)&&(i=0);const n=parseInt(t,10)||0;return 60*i+(i<0||Object.is(i,-0)?-n:n)}function st(e){const t=Number(e);if("boolean"==typeof e||""===e||Number.isNaN(t))throw new d(`Invalid unit value ${e}`);return t}function rt(e,t){const i={};for(const n in e)if(Fe(e,n)){const s=e[n];if(null==s)continue;i[t(n)]=st(s)}return i}function ot(e,t){const i=Math.trunc(Math.abs(e/60)),n=Math.trunc(Math.abs(e%60)),s=e>=0?"+":"-";switch(t){case"short":return`${s}${je(i,2)}:${je(n,2)}`;case"narrow":return`${s}${i}${n>0?`:${n}`:""}`;case"techie":return`${s}${je(i,2)}${je(n,2)}`;default:throw new RangeError(`Value format ${t} is out of range for property format`)}}function at(e){return function(e,t){return t.reduce(((t,i)=>(t[i]=e[i],t)),{})}(e,["hour","minute","second","millisecond"])}const lt=["January","February","March","April","May","June","July","August","September","October","November","December"],dt=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],ut=["J","F","M","A","M","J","J","A","S","O","N","D"];function ct(e){switch(e){case"narrow":return[...ut];case"short":return[...dt];case"long":return[...lt];case"numeric":return["1","2","3","4","5","6","7","8","9","10","11","12"];case"2-digit":return["01","02","03","04","05","06","07","08","09","10","11","12"];default:return null}}const ht=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],pt=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],_t=["M","T","W","T","F","S","S"];function gt(e){switch(e){case"narrow":return[..._t];case"short":return[...pt];case"long":return[...ht];case"numeric":return["1","2","3","4","5","6","7"];default:return null}}const ft=["AM","PM"],mt=["Before Christ","Anno Domini"],vt=["BC","AD"],At=["B","A"];function Et(e){switch(e){case"narrow":return[...At];case"short":return[...vt];case"long":return[...mt];default:return null}}function Tt(e,t){let i="";for(const n of e)n.literal?i+=n.val:i+=t(n.val);return i}const It={D:_,DD:g,DDD:m,DDDD:v,t:A,tt:E,ttt:T,tttt:I,T:C,TT:O,TTT:M,TTTT:y,f:b,ff:D,fff:R,ffff:N,F:S,FF:w,FFF:P,FFFF:k};class Ct{static create(e,t={}){return new Ct(e,t)}static parseFormat(e){let t=null,i="",n=!1;const s=[];for(let r=0;r<e.length;r++){const o=e.charAt(r);"'"===o?(i.length>0&&s.push({literal:n||/^\s+$/.test(i),val:i}),t=null,i="",n=!n):n||o===t?i+=o:(i.length>0&&s.push({literal:/^\s+$/.test(i),val:i}),i=o,t=o)}return i.length>0&&s.push({literal:n||/^\s+$/.test(i),val:i}),s}static macroTokenToFormatOpts(e){return It[e]}constructor(e,t){this.opts=t,this.loc=e,this.systemLoc=null}formatWithSystemDefault(e,t){null===this.systemLoc&&(this.systemLoc=this.loc.redefaultToSystem());return this.systemLoc.dtFormatter(e,{...this.opts,...t}).format()}dtFormatter(e,t={}){return this.loc.dtFormatter(e,{...this.opts,...t})}formatDateTime(e,t){return this.dtFormatter(e,t).format()}formatDateTimeParts(e,t){return this.dtFormatter(e,t).formatToParts()}formatInterval(e,t){return this.dtFormatter(e.start,t).dtf.formatRange(e.start.toJSDate(),e.end.toJSDate())}resolvedOptions(e,t){return this.dtFormatter(e,t).resolvedOptions()}num(e,t=0){if(this.opts.forceSimple)return je(e,t);const i={...this.opts};return t>0&&(i.padTo=t),this.loc.numberFormatter(i).format(e)}formatDateTimeFromString(e,t){const i="en"===this.loc.listingMode(),n=this.loc.outputCalendar&&"gregory"!==this.loc.outputCalendar,s=(t,i)=>this.loc.extract(e,t,i),r=t=>e.isOffsetFixed&&0===e.offset&&t.allowZ?"Z":e.isValid?e.zone.formatOffset(e.ts,t.format):"",o=()=>i?function(e){return ft[e.hour<12?0:1]}(e):s({hour:"numeric",hourCycle:"h12"},"dayperiod"),a=(t,n)=>i?function(e,t){return ct(t)[e.month-1]}(e,t):s(n?{month:t}:{month:t,day:"numeric"},"month"),l=(t,n)=>i?function(e,t){return gt(t)[e.weekday-1]}(e,t):s(n?{weekday:t}:{weekday:t,month:"long",day:"numeric"},"weekday"),d=t=>{const i=Ct.macroTokenToFormatOpts(t);return i?this.formatWithSystemDefault(e,i):t},u=t=>i?function(e,t){return Et(t)[e.year<0?0:1]}(e,t):s({era:t},"era");return Tt(Ct.parseFormat(t),(t=>{switch(t){case"S":return this.num(e.millisecond);case"u":case"SSS":return this.num(e.millisecond,3);case"s":return this.num(e.second);case"ss":return this.num(e.second,2);case"uu":return this.num(Math.floor(e.millisecond/10),2);case"uuu":return this.num(Math.floor(e.millisecond/100));case"m":return this.num(e.minute);case"mm":return this.num(e.minute,2);case"h":return this.num(e.hour%12==0?12:e.hour%12);case"hh":return this.num(e.hour%12==0?12:e.hour%12,2);case"H":return this.num(e.hour);case"HH":return this.num(e.hour,2);case"Z":return r({format:"narrow",allowZ:this.opts.allowZ});case"ZZ":return r({format:"short",allowZ:this.opts.allowZ});case"ZZZ":return r({format:"techie",allowZ:this.opts.allowZ});case"ZZZZ":return e.zone.offsetName(e.ts,{format:"short",locale:this.loc.locale});case"ZZZZZ":return e.zone.offsetName(e.ts,{format:"long",locale:this.loc.locale});case"z":return e.zoneName;case"a":return o();case"d":return n?s({day:"numeric"},"day"):this.num(e.day);case"dd":return n?s({day:"2-digit"},"day"):this.num(e.day,2);case"c":case"E":return this.num(e.weekday);case"ccc":return l("short",!0);case"cccc":return l("long",!0);case"ccccc":return l("narrow",!0);case"EEE":return l("short",!1);case"EEEE":return l("long",!1);case"EEEEE":return l("narrow",!1);case"L":return n?s({month:"numeric",day:"numeric"},"month"):this.num(e.month);case"LL":return n?s({month:"2-digit",day:"numeric"},"month"):this.num(e.month,2);case"LLL":return a("short",!0);case"LLLL":return a("long",!0);case"LLLLL":return a("narrow",!0);case"M":return n?s({month:"numeric"},"month"):this.num(e.month);case"MM":return n?s({month:"2-digit"},"month"):this.num(e.month,2);case"MMM":return a("short",!1);case"MMMM":return a("long",!1);case"MMMMM":return a("narrow",!1);case"y":return n?s({year:"numeric"},"year"):this.num(e.year);case"yy":return n?s({year:"2-digit"},"year"):this.num(e.year.toString().slice(-2),2);case"yyyy":return n?s({year:"numeric"},"year"):this.num(e.year,4);case"yyyyyy":return n?s({year:"numeric"},"year"):this.num(e.year,6);case"G":return u("short");case"GG":return u("long");case"GGGGG":return u("narrow");case"kk":return this.num(e.weekYear.toString().slice(-2),2);case"kkkk":return this.num(e.weekYear,4);case"W":return this.num(e.weekNumber);case"WW":return this.num(e.weekNumber,2);case"n":return this.num(e.localWeekNumber);case"nn":return this.num(e.localWeekNumber,2);case"ii":return this.num(e.localWeekYear.toString().slice(-2),2);case"iiii":return this.num(e.localWeekYear,4);case"o":return this.num(e.ordinal);case"ooo":return this.num(e.ordinal,3);case"q":return this.num(e.quarter);case"qq":return this.num(e.quarter,2);case"X":return this.num(Math.floor(e.ts/1e3));case"x":return this.num(e.ts);default:return d(t)}}))}formatDurationFromString(e,t){const i=e=>{switch(e[0]){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":return"hour";case"d":return"day";case"w":return"week";case"M":return"month";case"y":return"year";default:return null}},n=Ct.parseFormat(t),s=n.reduce(((e,{literal:t,val:i})=>t?e:e.concat(i)),[]);return Tt(n,(e=>t=>{const n=i(t);return n?this.num(e.get(n),t.length):t})(e.shiftTo(...s.map(i).filter((e=>e)))))}}const Ot=/[A-Za-z_+-]{1,256}(?::?\/[A-Za-z0-9_+-]{1,256}(?:\/[A-Za-z0-9_+-]{1,256})?)?/;function Mt(...e){const t=e.reduce(((e,t)=>e+t.source),"");return RegExp(`^${t}$`)}function yt(...e){return t=>e.reduce((([e,i,n],s)=>{const[r,o,a]=s(t,n);return[{...e,...r},o||i,a]}),[{},null,1]).slice(0,2)}function bt(e,...t){if(null==e)return[null,null];for(const[i,n]of t){const t=i.exec(e);if(t)return n(t)}return[null,null]}function St(...e){return(t,i)=>{const n={};let s;for(s=0;s<e.length;s++)n[e[s]]=Ke(t[i+s]);return[n,null,i+s]}}const Dt=/(?:(Z)|([+-]\d\d)(?::?(\d\d))?)/,wt=/(\d\d)(?::?(\d\d)(?::?(\d\d)(?:[.,](\d{1,30}))?)?)?/,Lt=RegExp(`${wt.source}${`(?:${Dt.source}?(?:\\[(${Ot.source})\\])?)?`}`),Rt=RegExp(`(?:T${Lt.source})?`),Pt=St("weekYear","weekNumber","weekDay"),Nt=St("year","ordinal"),kt=RegExp(`${wt.source} ?(?:${Dt.source}|(${Ot.source}))?`),xt=RegExp(`(?: ${kt.source})?`);function Vt(e,t,i){const n=e[t];return ke(n)?i:Ke(n)}function Bt(e,t){return[{hours:Vt(e,t,0),minutes:Vt(e,t+1,0),seconds:Vt(e,t+2,0),milliseconds:Ze(e[t+3])},null,t+4]}function Ht(e,t){const i=!e[t]&&!e[t+1],n=nt(e[t+1],e[t+2]);return[{},i?null:ne.instance(n),t+3]}function Wt(e,t){return[{},e[t]?U.create(e[t]):null,t+1]}const Ft=RegExp(`^T?${wt.source}$`),Ut=/^-?P(?:(?:(-?\d{1,20}(?:\.\d{1,20})?)Y)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20}(?:\.\d{1,20})?)W)?(?:(-?\d{1,20}(?:\.\d{1,20})?)D)?(?:T(?:(-?\d{1,20}(?:\.\d{1,20})?)H)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20})(?:[.,](-?\d{1,20}))?S)?)?)$/;function Gt(e){const[t,i,n,s,r,o,a,l,d]=e,u="-"===t[0],c=l&&"-"===l[0],h=(e,t=!1)=>void 0!==e&&(t||e&&u)?-e:e;return[{years:h(ze(i)),months:h(ze(n)),weeks:h(ze(s)),days:h(ze(r)),hours:h(ze(o)),minutes:h(ze(a)),seconds:h(ze(l),"-0"===l),milliseconds:h(Ze(d),c)}]}const jt={GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function Kt(e,t,i,n,s,r,o){const a={year:2===t.length?tt(Ke(t)):Ke(t),month:dt.indexOf(i)+1,day:Ke(n),hour:Ke(s),minute:Ke(r)};return o&&(a.second=Ke(o)),e&&(a.weekday=e.length>3?ht.indexOf(e)+1:pt.indexOf(e)+1),a}const zt=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|(?:([+-]\d\d)(\d\d)))$/;function Zt(e){const[,t,i,n,s,r,o,a,l,d,u,c]=e,h=Kt(t,s,n,i,r,o,a);let p;return p=l?jt[l]:d?0:nt(u,c),[h,new ne(p)]}const Yt=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d\d) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d\d):(\d\d):(\d\d) GMT$/,$t=/^(Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|Sunday), (\d\d)-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d\d) (\d\d):(\d\d):(\d\d) GMT$/,qt=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( \d|\d\d) (\d\d):(\d\d):(\d\d) (\d{4})$/;function Xt(e){const[,t,i,n,s,r,o,a]=e;return[Kt(t,s,n,i,r,o,a),ne.utcInstance]}function Jt(e){const[,t,i,n,s,r,o,a]=e;return[Kt(t,a,i,n,s,r,o),ne.utcInstance]}const Qt=Mt(/([+-]\d{6}|\d{4})(?:-?(\d\d)(?:-?(\d\d))?)?/,Rt),ei=Mt(/(\d{4})-?W(\d\d)(?:-?(\d))?/,Rt),ti=Mt(/(\d{4})-?(\d{3})/,Rt),ii=Mt(Lt),ni=yt((function(e,t){return[{year:Vt(e,t),month:Vt(e,t+1,1),day:Vt(e,t+2,1)},null,t+3]}),Bt,Ht,Wt),si=yt(Pt,Bt,Ht,Wt),ri=yt(Nt,Bt,Ht,Wt),oi=yt(Bt,Ht,Wt);const ai=yt(Bt);const li=Mt(/(\d{4})-(\d\d)-(\d\d)/,xt),di=Mt(kt),ui=yt(Bt,Ht,Wt);const ci="Invalid Duration",hi={weeks:{days:7,hours:168,minutes:10080,seconds:604800,milliseconds:6048e5},days:{hours:24,minutes:1440,seconds:86400,milliseconds:864e5},hours:{minutes:60,seconds:3600,milliseconds:36e5},minutes:{seconds:60,milliseconds:6e4},seconds:{milliseconds:1e3}},pi={years:{quarters:4,months:12,weeks:52,days:365,hours:8760,minutes:525600,seconds:31536e3,milliseconds:31536e6},quarters:{months:3,weeks:13,days:91,hours:2184,minutes:131040,seconds:7862400,milliseconds:78624e5},months:{weeks:4,days:30,hours:720,minutes:43200,seconds:2592e3,milliseconds:2592e6},...hi},_i=365.2425,gi=30.436875,fi={years:{quarters:4,months:12,weeks:52.1775,days:_i,hours:8765.82,minutes:525949.2,seconds:525949.2*60,milliseconds:525949.2*60*1e3},quarters:{months:3,weeks:13.044375,days:91.310625,hours:2191.455,minutes:131487.3,seconds:525949.2*60/4,milliseconds:7889237999.999999},months:{weeks:4.3481250000000005,days:gi,hours:730.485,minutes:43829.1,seconds:2629746,milliseconds:2629746e3},...hi},mi=["years","quarters","months","weeks","days","hours","minutes","seconds","milliseconds"],vi=mi.slice(0).reverse();function Ai(e,t,i=!1){const n={values:i?t.values:{...e.values,...t.values||{}},loc:e.loc.clone(t.loc),conversionAccuracy:t.conversionAccuracy||e.conversionAccuracy,matrix:t.matrix||e.matrix};return new Ii(n)}function Ei(e,t){let i=t.milliseconds??0;for(const n of vi.slice(1))t[n]&&(i+=t[n]*e[n].milliseconds);return i}function Ti(e,t){const i=Ei(e,t)<0?-1:1;mi.reduceRight(((n,s)=>{if(ke(t[s]))return n;if(n){const r=t[n]*i,o=e[s][n],a=Math.floor(r/o);t[s]+=a*i,t[n]-=a*o*i}return s}),null),mi.reduce(((i,n)=>{if(ke(t[n]))return i;if(i){const s=t[i]%1;t[i]-=s,t[n]+=s*e[i][n]}return n}),null)}class Ii{constructor(e){const t="longterm"===e.conversionAccuracy||!1;let i=t?fi:pi;e.matrix&&(i=e.matrix),this.values=e.values,this.loc=e.loc||te.create(),this.conversionAccuracy=t?"longterm":"casual",this.invalid=e.invalid||null,this.matrix=i,this.isLuxonDuration=!0}static fromMillis(e,t){return Ii.fromObject({milliseconds:e},t)}static fromObject(e,t={}){if(null==e||"object"!=typeof e)throw new d("Duration.fromObject: argument expected to be an object, got "+(null===e?"null":typeof e));return new Ii({values:rt(e,Ii.normalizeUnit),loc:te.fromObject(t),conversionAccuracy:t.conversionAccuracy,matrix:t.matrix})}static fromDurationLike(e){if(xe(e))return Ii.fromMillis(e);if(Ii.isDuration(e))return e;if("object"==typeof e)return Ii.fromObject(e);throw new d(`Unknown duration argument ${e} of type ${typeof e}`)}static fromISO(e,t){const[i]=function(e){return bt(e,[Ut,Gt])}(e);return i?Ii.fromObject(i,t):Ii.invalid("unparsable",`the input "${e}" can't be parsed as ISO 8601`)}static fromISOTime(e,t){const[i]=function(e){return bt(e,[Ft,ai])}(e);return i?Ii.fromObject(i,t):Ii.invalid("unparsable",`the input "${e}" can't be parsed as ISO 8601`)}static invalid(e,t=null){if(!e)throw new d("need to specify a reason the Duration is invalid");const i=e instanceof Ee?e:new Ee(e,t);if(Ae.throwOnInvalid)throw new o(i);return new Ii({invalid:i})}static normalizeUnit(e){const t={year:"years",years:"years",quarter:"quarters",quarters:"quarters",month:"months",months:"months",week:"weeks",weeks:"weeks",day:"days",days:"days",hour:"hours",hours:"hours",minute:"minutes",minutes:"minutes",second:"seconds",seconds:"seconds",millisecond:"milliseconds",milliseconds:"milliseconds"}[e?e.toLowerCase():e];if(!t)throw new l(e);return t}static isDuration(e){return e&&e.isLuxonDuration||!1}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}toFormat(e,t={}){const i={...t,floor:!1!==t.round&&!1!==t.floor};return this.isValid?Ct.create(this.loc,i).formatDurationFromString(this,e):ci}toHuman(e={}){if(!this.isValid)return ci;const t=mi.map((t=>{const i=this.values[t];return ke(i)?null:this.loc.numberFormatter({style:"unit",unitDisplay:"long",...e,unit:t.slice(0,-1)}).format(i)})).filter((e=>e));return this.loc.listFormatter({type:"conjunction",style:e.listStyle||"narrow",...e}).format(t)}toObject(){return this.isValid?{...this.values}:{}}toISO(){if(!this.isValid)return null;let e="P";return 0!==this.years&&(e+=this.years+"Y"),0===this.months&&0===this.quarters||(e+=this.months+3*this.quarters+"M"),0!==this.weeks&&(e+=this.weeks+"W"),0!==this.days&&(e+=this.days+"D"),0===this.hours&&0===this.minutes&&0===this.seconds&&0===this.milliseconds||(e+="T"),0!==this.hours&&(e+=this.hours+"H"),0!==this.minutes&&(e+=this.minutes+"M"),0===this.seconds&&0===this.milliseconds||(e+=Ye(this.seconds+this.milliseconds/1e3,3)+"S"),"P"===e&&(e+="T0S"),e}toISOTime(e={}){if(!this.isValid)return null;const t=this.toMillis();if(t<0||t>=864e5)return null;e={suppressMilliseconds:!1,suppressSeconds:!1,includePrefix:!1,format:"extended",...e,includeOffset:!1};return gn.fromMillis(t,{zone:"UTC"}).toISOTime(e)}toJSON(){return this.toISO()}toString(){return this.toISO()}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`Duration { values: ${JSON.stringify(this.values)} }`:`Duration { Invalid, reason: ${this.invalidReason} }`}toMillis(){return this.isValid?Ei(this.matrix,this.values):NaN}valueOf(){return this.toMillis()}plus(e){if(!this.isValid)return this;const t=Ii.fromDurationLike(e),i={};for(const n of mi)(Fe(t.values,n)||Fe(this.values,n))&&(i[n]=t.get(n)+this.get(n));return Ai(this,{values:i},!0)}minus(e){if(!this.isValid)return this;const t=Ii.fromDurationLike(e);return this.plus(t.negate())}mapUnits(e){if(!this.isValid)return this;const t={};for(const i of Object.keys(this.values))t[i]=st(e(this.values[i],i));return Ai(this,{values:t},!0)}get(e){return this[Ii.normalizeUnit(e)]}set(e){if(!this.isValid)return this;return Ai(this,{values:{...this.values,...rt(e,Ii.normalizeUnit)}})}reconfigure({locale:e,numberingSystem:t,conversionAccuracy:i,matrix:n}={}){return Ai(this,{loc:this.loc.clone({locale:e,numberingSystem:t}),matrix:n,conversionAccuracy:i})}as(e){return this.isValid?this.shiftTo(e).get(e):NaN}normalize(){if(!this.isValid)return this;const e=this.toObject();return Ti(this.matrix,e),Ai(this,{values:e},!0)}rescale(){if(!this.isValid)return this;return Ai(this,{values:function(e){const t={};for(const[i,n]of Object.entries(e))0!==n&&(t[i]=n);return t}(this.normalize().shiftToAll().toObject())},!0)}shiftTo(...e){if(!this.isValid)return this;if(0===e.length)return this;e=e.map((e=>Ii.normalizeUnit(e)));const t={},i={},n=this.toObject();let s;for(const r of mi)if(e.indexOf(r)>=0){s=r;let e=0;for(const t in i)e+=this.matrix[t][r]*i[t],i[t]=0;xe(n[r])&&(e+=n[r]);const o=Math.trunc(e);t[r]=o,i[r]=(1e3*e-1e3*o)/1e3}else xe(n[r])&&(i[r]=n[r]);for(const r in i)0!==i[r]&&(t[s]+=r===s?i[r]:i[r]/this.matrix[s][r]);return Ti(this.matrix,t),Ai(this,{values:t},!0)}shiftToAll(){return this.isValid?this.shiftTo("years","months","weeks","days","hours","minutes","seconds","milliseconds"):this}negate(){if(!this.isValid)return this;const e={};for(const t of Object.keys(this.values))e[t]=0===this.values[t]?0:-this.values[t];return Ai(this,{values:e},!0)}get years(){return this.isValid?this.values.years||0:NaN}get quarters(){return this.isValid?this.values.quarters||0:NaN}get months(){return this.isValid?this.values.months||0:NaN}get weeks(){return this.isValid?this.values.weeks||0:NaN}get days(){return this.isValid?this.values.days||0:NaN}get hours(){return this.isValid?this.values.hours||0:NaN}get minutes(){return this.isValid?this.values.minutes||0:NaN}get seconds(){return this.isValid?this.values.seconds||0:NaN}get milliseconds(){return this.isValid?this.values.milliseconds||0:NaN}get isValid(){return null===this.invalid}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}equals(e){if(!this.isValid||!e.isValid)return!1;if(!this.loc.equals(e.loc))return!1;for(const n of mi)if(t=this.values[n],i=e.values[n],!(void 0===t||0===t?void 0===i||0===i:t===i))return!1;var t,i;return!0}}const Ci="Invalid Interval";class Oi{constructor(e){this.s=e.start,this.e=e.end,this.invalid=e.invalid||null,this.isLuxonInterval=!0}static invalid(e,t=null){if(!e)throw new d("need to specify a reason the Interval is invalid");const i=e instanceof Ee?e:new Ee(e,t);if(Ae.throwOnInvalid)throw new r(i);return new Oi({invalid:i})}static fromDateTimes(e,t){const i=fn(e),n=fn(t),s=function(e,t){return e&&e.isValid?t&&t.isValid?t<e?Oi.invalid("end before start",`The end of an interval must be after its start, but you had start=${e.toISO()} and end=${t.toISO()}`):null:Oi.invalid("missing or invalid end"):Oi.invalid("missing or invalid start")}(i,n);return null==s?new Oi({start:i,end:n}):s}static after(e,t){const i=Ii.fromDurationLike(t),n=fn(e);return Oi.fromDateTimes(n,n.plus(i))}static before(e,t){const i=Ii.fromDurationLike(t),n=fn(e);return Oi.fromDateTimes(n.minus(i),n)}static fromISO(e,t){const[i,n]=(e||"").split("/",2);if(i&&n){let e,s,r,o;try{e=gn.fromISO(i,t),s=e.isValid}catch(n){s=!1}try{r=gn.fromISO(n,t),o=r.isValid}catch(n){o=!1}if(s&&o)return Oi.fromDateTimes(e,r);if(s){const i=Ii.fromISO(n,t);if(i.isValid)return Oi.after(e,i)}else if(o){const e=Ii.fromISO(i,t);if(e.isValid)return Oi.before(r,e)}}return Oi.invalid("unparsable",`the input "${e}" can't be parsed as ISO 8601`)}static isInterval(e){return e&&e.isLuxonInterval||!1}get start(){return this.isValid?this.s:null}get end(){return this.isValid?this.e:null}get isValid(){return null===this.invalidReason}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}length(e="milliseconds"){return this.isValid?this.toDuration(e).get(e):NaN}count(e="milliseconds",t){if(!this.isValid)return NaN;const i=this.start.startOf(e,t);let n;return n=t?.useLocaleWeeks?this.end.reconfigure({locale:i.locale}):this.end,n=n.startOf(e,t),Math.floor(n.diff(i,e).get(e))+(n.valueOf()!==this.end.valueOf())}hasSame(e){return!!this.isValid&&(this.isEmpty()||this.e.minus(1).hasSame(this.s,e))}isEmpty(){return this.s.valueOf()===this.e.valueOf()}isAfter(e){return!!this.isValid&&this.s>e}isBefore(e){return!!this.isValid&&this.e<=e}contains(e){return!!this.isValid&&(this.s<=e&&this.e>e)}set({start:e,end:t}={}){return this.isValid?Oi.fromDateTimes(e||this.s,t||this.e):this}splitAt(...e){if(!this.isValid)return[];const t=e.map(fn).filter((e=>this.contains(e))).sort(((e,t)=>e.toMillis()-t.toMillis())),i=[];let{s:n}=this,s=0;for(;n<this.e;){const e=t[s]||this.e,r=+e>+this.e?this.e:e;i.push(Oi.fromDateTimes(n,r)),n=r,s+=1}return i}splitBy(e){const t=Ii.fromDurationLike(e);if(!this.isValid||!t.isValid||0===t.as("milliseconds"))return[];let i,{s:n}=this,s=1;const r=[];for(;n<this.e;){const e=this.start.plus(t.mapUnits((e=>e*s)));i=+e>+this.e?this.e:e,r.push(Oi.fromDateTimes(n,i)),n=i,s+=1}return r}divideEqually(e){return this.isValid?this.splitBy(this.length()/e).slice(0,e):[]}overlaps(e){return this.e>e.s&&this.s<e.e}abutsStart(e){return!!this.isValid&&+this.e==+e.s}abutsEnd(e){return!!this.isValid&&+e.e==+this.s}engulfs(e){return!!this.isValid&&(this.s<=e.s&&this.e>=e.e)}equals(e){return!(!this.isValid||!e.isValid)&&(this.s.equals(e.s)&&this.e.equals(e.e))}intersection(e){if(!this.isValid)return this;const t=this.s>e.s?this.s:e.s,i=this.e<e.e?this.e:e.e;return t>=i?null:Oi.fromDateTimes(t,i)}union(e){if(!this.isValid)return this;const t=this.s<e.s?this.s:e.s,i=this.e>e.e?this.e:e.e;return Oi.fromDateTimes(t,i)}static merge(e){const[t,i]=e.sort(((e,t)=>e.s-t.s)).reduce((([e,t],i)=>t?t.overlaps(i)||t.abutsStart(i)?[e,t.union(i)]:[e.concat([t]),i]:[e,i]),[[],null]);return i&&t.push(i),t}static xor(e){let t=null,i=0;const n=[],s=e.map((e=>[{time:e.s,type:"s"},{time:e.e,type:"e"}])),r=Array.prototype.concat(...s).sort(((e,t)=>e.time-t.time));for(const o of r)i+="s"===o.type?1:-1,1===i?t=o.time:(t&&+t!=+o.time&&n.push(Oi.fromDateTimes(t,o.time)),t=null);return Oi.merge(n)}difference(...e){return Oi.xor([this].concat(e)).map((e=>this.intersection(e))).filter((e=>e&&!e.isEmpty()))}toString(){return this.isValid?`[${this.s.toISO()} – ${this.e.toISO()})`:Ci}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`Interval { start: ${this.s.toISO()}, end: ${this.e.toISO()} }`:`Interval { Invalid, reason: ${this.invalidReason} }`}toLocaleString(e=_,t={}){return this.isValid?Ct.create(this.s.loc.clone(t),e).formatInterval(this):Ci}toISO(e){return this.isValid?`${this.s.toISO(e)}/${this.e.toISO(e)}`:Ci}toISODate(){return this.isValid?`${this.s.toISODate()}/${this.e.toISODate()}`:Ci}toISOTime(e){return this.isValid?`${this.s.toISOTime(e)}/${this.e.toISOTime(e)}`:Ci}toFormat(e,{separator:t=" – "}={}){return this.isValid?`${this.s.toFormat(e)}${t}${this.e.toFormat(e)}`:Ci}toDuration(e,t){return this.isValid?this.e.diff(this.s,e,t):Ii.invalid(this.invalidReason)}mapEndpoints(e){return Oi.fromDateTimes(e(this.s),e(this.e))}}class Mi{static hasDST(e=Ae.defaultZone){const t=gn.now().setZone(e).set({month:12});return!e.isUniversal&&t.offset!==t.set({month:6}).offset}static isValidIANAZone(e){return U.isValidZone(e)}static normalizeZone(e){return re(e,Ae.defaultZone)}static getStartOfWeek({locale:e=null,locObj:t=null}={}){return(t||te.create(e)).getStartOfWeek()}static getMinimumDaysInFirstWeek({locale:e=null,locObj:t=null}={}){return(t||te.create(e)).getMinDaysInFirstWeek()}static getWeekendWeekdays({locale:e=null,locObj:t=null}={}){return(t||te.create(e)).getWeekendDays().slice()}static months(e="long",{locale:t=null,numberingSystem:i=null,locObj:n=null,outputCalendar:s="gregory"}={}){return(n||te.create(t,i,s)).months(e)}static monthsFormat(e="long",{locale:t=null,numberingSystem:i=null,locObj:n=null,outputCalendar:s="gregory"}={}){return(n||te.create(t,i,s)).months(e,!0)}static weekdays(e="long",{locale:t=null,numberingSystem:i=null,locObj:n=null}={}){return(n||te.create(t,i,null)).weekdays(e)}static weekdaysFormat(e="long",{locale:t=null,numberingSystem:i=null,locObj:n=null}={}){return(n||te.create(t,i,null)).weekdays(e,!0)}static meridiems({locale:e=null}={}){return te.create(e).meridiems()}static eras(e="short",{locale:t=null}={}){return te.create(t,null,"gregory").eras(e)}static features(){return{relative:Be(),localeWeek:He()}}}function yi(e,t){const i=e=>e.toUTC(0,{keepLocalTime:!0}).startOf("day").valueOf(),n=i(t)-i(e);return Math.floor(Ii.fromMillis(n).as("days"))}function bi(e,t,i,n){let[s,r,o,a]=function(e,t,i){const n=[["years",(e,t)=>t.year-e.year],["quarters",(e,t)=>t.quarter-e.quarter+4*(t.year-e.year)],["months",(e,t)=>t.month-e.month+12*(t.year-e.year)],["weeks",(e,t)=>{const i=yi(e,t);return(i-i%7)/7}],["days",yi]],s={},r=e;let o,a;for(const[l,d]of n)i.indexOf(l)>=0&&(o=l,s[l]=d(e,t),a=r.plus(s),a>t?(s[l]--,(e=r.plus(s))>t&&(a=e,s[l]--,e=r.plus(s))):e=a);return[e,s,a,o]}(e,t,i);const l=t-s,d=i.filter((e=>["hours","minutes","seconds","milliseconds"].indexOf(e)>=0));0===d.length&&(o<t&&(o=s.plus({[a]:1})),o!==s&&(r[a]=(r[a]||0)+l/(o-s)));const u=Ii.fromObject(r,n);return d.length>0?Ii.fromMillis(l,n).shiftTo(...d).plus(u):u}function Si(e,t=e=>e){return{regex:e,deser:([e])=>t(function(e){let t=parseInt(e,10);if(isNaN(t)){t="";for(let i=0;i<e.length;i++){const n=e.charCodeAt(i);if(-1!==e[i].search(oe.hanidec))t+=le.indexOf(e[i]);else for(const e in ae){const[i,s]=ae[e];n>=i&&n<=s&&(t+=n-i)}}return parseInt(t,10)}return t}(e))}}const Di=`[ ${String.fromCharCode(160)}]`,wi=new RegExp(Di,"g");function Li(e){return e.replace(/\./g,"\\.?").replace(wi,Di)}function Ri(e){return e.replace(/\./g,"").replace(wi," ").toLowerCase()}function Pi(e,t){return null===e?null:{regex:RegExp(e.map(Li).join("|")),deser:([i])=>e.findIndex((e=>Ri(i)===Ri(e)))+t}}function Ni(e,t){return{regex:e,deser:([,e,t])=>nt(e,t),groups:t}}function ki(e){return{regex:e,deser:([e])=>e}}const xi={year:{"2-digit":"yy",numeric:"yyyyy"},month:{numeric:"M","2-digit":"MM",short:"MMM",long:"MMMM"},day:{numeric:"d","2-digit":"dd"},weekday:{short:"EEE",long:"EEEE"},dayperiod:"a",dayPeriod:"a",hour12:{numeric:"h","2-digit":"hh"},hour24:{numeric:"H","2-digit":"HH"},minute:{numeric:"m","2-digit":"mm"},second:{numeric:"s","2-digit":"ss"},timeZoneName:{long:"ZZZZZ",short:"ZZZ"}};let Vi=null;function Bi(e,t){return Array.prototype.concat(...e.map((e=>function(e,t){if(e.literal)return e;const i=Fi(Ct.macroTokenToFormatOpts(e.val),t);return null==i||i.includes(void 0)?e:i}(e,t))))}class Hi{constructor(e,t){if(this.locale=e,this.format=t,this.tokens=Bi(Ct.parseFormat(t),e),this.units=this.tokens.map((t=>function(e,t){const i=ue(t),n=ue(t,"{2}"),s=ue(t,"{3}"),r=ue(t,"{4}"),o=ue(t,"{6}"),a=ue(t,"{1,2}"),l=ue(t,"{1,3}"),d=ue(t,"{1,6}"),u=ue(t,"{1,9}"),c=ue(t,"{2,4}"),h=ue(t,"{4,6}"),p=e=>{return{regex:RegExp((t=e.val,t.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&"))),deser:([e])=>e,literal:!0};var t},_=(_=>{if(e.literal)return p(_);switch(_.val){case"G":return Pi(t.eras("short"),0);case"GG":return Pi(t.eras("long"),0);case"y":return Si(d);case"yy":case"kk":return Si(c,tt);case"yyyy":case"kkkk":return Si(r);case"yyyyy":return Si(h);case"yyyyyy":return Si(o);case"M":case"L":case"d":case"H":case"h":case"m":case"q":case"s":case"W":return Si(a);case"MM":case"LL":case"dd":case"HH":case"hh":case"mm":case"qq":case"ss":case"WW":return Si(n);case"MMM":return Pi(t.months("short",!0),1);case"MMMM":return Pi(t.months("long",!0),1);case"LLL":return Pi(t.months("short",!1),1);case"LLLL":return Pi(t.months("long",!1),1);case"o":case"S":return Si(l);case"ooo":case"SSS":return Si(s);case"u":return ki(u);case"uu":return ki(a);case"uuu":case"E":case"c":return Si(i);case"a":return Pi(t.meridiems(),0);case"EEE":return Pi(t.weekdays("short",!1),1);case"EEEE":return Pi(t.weekdays("long",!1),1);case"ccc":return Pi(t.weekdays("short",!0),1);case"cccc":return Pi(t.weekdays("long",!0),1);case"Z":case"ZZ":return Ni(new RegExp(`([+-]${a.source})(?::(${n.source}))?`),2);case"ZZZ":return Ni(new RegExp(`([+-]${a.source})(${n.source})?`),2);case"z":return ki(/[a-z_+-/]{1,256}?/i);case" ":return ki(/[^\S\n\r]/);default:return p(_)}})(e)||{invalidReason:"missing Intl.DateTimeFormat.formatToParts support"};return _.token=e,_}(t,e))),this.disqualifyingUnit=this.units.find((e=>e.invalidReason)),!this.disqualifyingUnit){const[e,t]=[`^${(i=this.units).map((e=>e.regex)).reduce(((e,t)=>`${e}(${t.source})`),"")}$`,i];this.regex=RegExp(e,"i"),this.handlers=t}var i}explainFromTokens(e){if(this.isValid){const[t,i]=function(e,t,i){const n=e.match(t);if(n){const e={};let t=1;for(const s in i)if(Fe(i,s)){const r=i[s],o=r.groups?r.groups+1:1;!r.literal&&r.token&&(e[r.token.val[0]]=r.deser(n.slice(t,t+o))),t+=o}return[n,e]}return[n,{}]}(e,this.regex,this.handlers),[n,s,r]=i?function(e){let t,i=null;return ke(e.z)||(i=U.create(e.z)),ke(e.Z)||(i||(i=new ne(e.Z)),t=e.Z),ke(e.q)||(e.M=3*(e.q-1)+1),ke(e.h)||(e.h<12&&1===e.a?e.h+=12:12===e.h&&0===e.a&&(e.h=0)),0===e.G&&e.y&&(e.y=-e.y),ke(e.u)||(e.S=Ze(e.u)),[Object.keys(e).reduce(((t,i)=>{const n=(e=>{switch(e){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":case"H":return"hour";case"d":return"day";case"o":return"ordinal";case"L":case"M":return"month";case"y":return"year";case"E":case"c":return"weekday";case"W":return"weekNumber";case"k":return"weekYear";case"q":return"quarter";default:return null}})(i);return n&&(t[n]=e[i]),t}),{}),i,t]}(i):[null,null,void 0];if(Fe(i,"a")&&Fe(i,"H"))throw new a("Can't include meridiem when specifying 24-hour format");return{input:e,tokens:this.tokens,regex:this.regex,rawMatches:t,matches:i,result:n,zone:s,specificOffset:r}}return{input:e,tokens:this.tokens,invalidReason:this.invalidReason}}get isValid(){return!this.disqualifyingUnit}get invalidReason(){return this.disqualifyingUnit?this.disqualifyingUnit.invalidReason:null}}function Wi(e,t,i){return new Hi(e,i).explainFromTokens(t)}function Fi(e,t){if(!e)return null;const i=Ct.create(t,e).dtFormatter((Vi||(Vi=gn.fromMillis(1555555555555)),Vi)),n=i.formatToParts(),s=i.resolvedOptions();return n.map((t=>function(e,t,i){const{type:n,value:s}=e;if("literal"===n){const e=/^\s+$/.test(s);return{literal:!e,val:e?" ":s}}const r=t[n];let o=n;"hour"===n&&(o=null!=t.hour12?t.hour12?"hour12":"hour24":null!=t.hourCycle?"h11"===t.hourCycle||"h12"===t.hourCycle?"hour12":"hour24":i.hour12?"hour12":"hour24");let a=xi[o];if("object"==typeof a&&(a=a[r]),a)return{literal:!1,val:a}}(t,e,s)))}const Ui="Invalid DateTime",Gi=864e13;function ji(e){return new Ee("unsupported zone",`the zone "${e.name}" is not supported`)}function Ki(e){return null===e.weekData&&(e.weekData=Se(e.c)),e.weekData}function zi(e){return null===e.localWeekData&&(e.localWeekData=Se(e.c,e.loc.getMinDaysInFirstWeek(),e.loc.getStartOfWeek())),e.localWeekData}function Zi(e,t){const i={ts:e.ts,zone:e.zone,c:e.c,o:e.o,loc:e.loc,invalid:e.invalid};return new gn({...i,...t,old:i})}function Yi(e,t,i){let n=e-60*t*1e3;const s=i.offset(n);if(t===s)return[n,t];n-=60*(s-t)*1e3;const r=i.offset(n);return s===r?[n,s]:[e-60*Math.min(s,r)*1e3,Math.max(s,r)]}function $i(e,t){const i=new Date(e+=60*t*1e3);return{year:i.getUTCFullYear(),month:i.getUTCMonth()+1,day:i.getUTCDate(),hour:i.getUTCHours(),minute:i.getUTCMinutes(),second:i.getUTCSeconds(),millisecond:i.getUTCMilliseconds()}}function qi(e,t,i){return Yi(Je(e),t,i)}function Xi(e,t){const i=e.o,n=e.c.year+Math.trunc(t.years),s=e.c.month+Math.trunc(t.months)+3*Math.trunc(t.quarters),r={...e.c,year:n,month:s,day:Math.min(e.c.day,Xe(n,s))+Math.trunc(t.days)+7*Math.trunc(t.weeks)},o=Ii.fromObject({years:t.years-Math.trunc(t.years),quarters:t.quarters-Math.trunc(t.quarters),months:t.months-Math.trunc(t.months),weeks:t.weeks-Math.trunc(t.weeks),days:t.days-Math.trunc(t.days),hours:t.hours,minutes:t.minutes,seconds:t.seconds,milliseconds:t.milliseconds}).as("milliseconds"),a=Je(r);let[l,d]=Yi(a,i,e.zone);return 0!==o&&(l+=o,d=e.zone.offset(l)),{ts:l,o:d}}function Ji(e,t,i,n,s,r){const{setZone:o,zone:a}=i;if(e&&0!==Object.keys(e).length||t){const n=t||a,s=gn.fromObject(e,{...i,zone:n,specificOffset:r});return o?s:s.setZone(a)}return gn.invalid(new Ee("unparsable",`the input "${s}" can't be parsed as ${n}`))}function Qi(e,t,i=!0){return e.isValid?Ct.create(te.create("en-US"),{allowZ:i,forceSimple:!0}).formatDateTimeFromString(e,t):null}function en(e,t){const i=e.c.year>9999||e.c.year<0;let n="";return i&&e.c.year>=0&&(n+="+"),n+=je(e.c.year,i?6:4),t?(n+="-",n+=je(e.c.month),n+="-",n+=je(e.c.day)):(n+=je(e.c.month),n+=je(e.c.day)),n}function tn(e,t,i,n,s,r){let o=je(e.c.hour);return t?(o+=":",o+=je(e.c.minute),0===e.c.millisecond&&0===e.c.second&&i||(o+=":")):o+=je(e.c.minute),0===e.c.millisecond&&0===e.c.second&&i||(o+=je(e.c.second),0===e.c.millisecond&&n||(o+=".",o+=je(e.c.millisecond,3))),s&&(e.isOffsetFixed&&0===e.offset&&!r?o+="Z":e.o<0?(o+="-",o+=je(Math.trunc(-e.o/60)),o+=":",o+=je(Math.trunc(-e.o%60))):(o+="+",o+=je(Math.trunc(e.o/60)),o+=":",o+=je(Math.trunc(e.o%60)))),r&&(o+="["+e.zone.ianaName+"]"),o}const nn={month:1,day:1,hour:0,minute:0,second:0,millisecond:0},sn={weekNumber:1,weekday:1,hour:0,minute:0,second:0,millisecond:0},rn={ordinal:1,hour:0,minute:0,second:0,millisecond:0},on=["year","month","day","hour","minute","second","millisecond"],an=["weekYear","weekNumber","weekday","hour","minute","second","millisecond"],ln=["year","ordinal","hour","minute","second","millisecond"];function dn(e){switch(e.toLowerCase()){case"localweekday":case"localweekdays":return"localWeekday";case"localweeknumber":case"localweeknumbers":return"localWeekNumber";case"localweekyear":case"localweekyears":return"localWeekYear";default:return function(e){const t={year:"year",years:"year",month:"month",months:"month",day:"day",days:"day",hour:"hour",hours:"hour",minute:"minute",minutes:"minute",quarter:"quarter",quarters:"quarter",second:"second",seconds:"second",millisecond:"millisecond",milliseconds:"millisecond",weekday:"weekday",weekdays:"weekday",weeknumber:"weekNumber",weeksnumber:"weekNumber",weeknumbers:"weekNumber",weekyear:"weekYear",weekyears:"weekYear",ordinal:"ordinal"}[e.toLowerCase()];if(!t)throw new l(e);return t}(e)}}function un(e,t){const i=re(t.zone,Ae.defaultZone);if(!i.isValid)return gn.invalid(ji(i));const n=te.fromObject(t);let s,r;if(ke(e.year))s=Ae.now();else{for(const i of on)ke(e[i])&&(e[i]=nn[i]);const t=Pe(e)||Ne(e);if(t)return gn.invalid(t);const n=function(e){return _n[e]||(void 0===pn&&(pn=Ae.now()),_n[e]=e.offset(pn)),_n[e]}(i);[s,r]=qi(e,n,i)}return new gn({ts:s,zone:i,loc:n,o:r})}function cn(e,t,i){const n=!!ke(i.round)||i.round,s=(e,s)=>{e=Ye(e,n||i.calendary?0:2,!0);return t.loc.clone(i).relFormatter(i).format(e,s)},r=n=>i.calendary?t.hasSame(e,n)?0:t.startOf(n).diff(e.startOf(n),n).get(n):t.diff(e,n).get(n);if(i.unit)return s(r(i.unit),i.unit);for(const o of i.units){const e=r(o);if(Math.abs(e)>=1)return s(e,o)}return s(e>t?-0:0,i.units[i.units.length-1])}function hn(e){let t,i={};return e.length>0&&"object"==typeof e[e.length-1]?(i=e[e.length-1],t=Array.from(e).slice(0,e.length-1)):t=Array.from(e),[i,t]}let pn,_n={};class gn{constructor(e){const t=e.zone||Ae.defaultZone;let i=e.invalid||(Number.isNaN(e.ts)?new Ee("invalid input"):null)||(t.isValid?null:ji(t));this.ts=ke(e.ts)?Ae.now():e.ts;let n=null,s=null;if(!i){if(e.old&&e.old.ts===this.ts&&e.old.zone.equals(t))[n,s]=[e.old.c,e.old.o];else{const r=xe(e.o)&&!e.old?e.o:t.offset(this.ts);n=$i(this.ts,r),i=Number.isNaN(n.year)?new Ee("invalid input"):null,n=i?null:n,s=i?null:r}}this._zone=t,this.loc=e.loc||te.create(),this.invalid=i,this.weekData=null,this.localWeekData=null,this.c=n,this.o=s,this.isLuxonDateTime=!0}static now(){return new gn({})}static local(){const[e,t]=hn(arguments),[i,n,s,r,o,a,l]=t;return un({year:i,month:n,day:s,hour:r,minute:o,second:a,millisecond:l},e)}static utc(){const[e,t]=hn(arguments),[i,n,s,r,o,a,l]=t;return e.zone=ne.utcInstance,un({year:i,month:n,day:s,hour:r,minute:o,second:a,millisecond:l},e)}static fromJSDate(e,t={}){const i=(n=e,"[object Date]"===Object.prototype.toString.call(n)?e.valueOf():NaN);var n;if(Number.isNaN(i))return gn.invalid("invalid input");const s=re(t.zone,Ae.defaultZone);return s.isValid?new gn({ts:i,zone:s,loc:te.fromObject(t)}):gn.invalid(ji(s))}static fromMillis(e,t={}){if(xe(e))return e<-Gi||e>Gi?gn.invalid("Timestamp out of range"):new gn({ts:e,zone:re(t.zone,Ae.defaultZone),loc:te.fromObject(t)});throw new d(`fromMillis requires a numerical input, but received a ${typeof e} with value ${e}`)}static fromSeconds(e,t={}){if(xe(e))return new gn({ts:1e3*e,zone:re(t.zone,Ae.defaultZone),loc:te.fromObject(t)});throw new d("fromSeconds requires a numerical input")}static fromObject(e,t={}){e=e||{};const i=re(t.zone,Ae.defaultZone);if(!i.isValid)return gn.invalid(ji(i));const n=te.fromObject(t),s=rt(e,dn),{minDaysInFirstWeek:r,startOfWeek:o}=Re(s,n),l=Ae.now(),d=ke(t.specificOffset)?i.offset(l):t.specificOffset,u=!ke(s.ordinal),c=!ke(s.year),h=!ke(s.month)||!ke(s.day),p=c||h,_=s.weekYear||s.weekNumber;if((p||u)&&_)throw new a("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(h&&u)throw new a("Can't mix ordinal dates with month/day");const g=_||s.weekday&&!p;let f,m,v=$i(l,d);g?(f=an,m=sn,v=Se(v,r,o)):u?(f=ln,m=rn,v=we(v)):(f=on,m=nn);let A=!1;for(const a of f){ke(s[a])?s[a]=A?m[a]:v[a]:A=!0}const E=g?function(e,t=4,i=1){const n=Ve(e.weekYear),s=Ge(e.weekNumber,1,et(e.weekYear,t,i)),r=Ge(e.weekday,1,7);return n?s?!r&&Ce("weekday",e.weekday):Ce("week",e.weekNumber):Ce("weekYear",e.weekYear)}(s,r,o):u?function(e){const t=Ve(e.year),i=Ge(e.ordinal,1,qe(e.year));return t?!i&&Ce("ordinal",e.ordinal):Ce("year",e.year)}(s):Pe(s),T=E||Ne(s);if(T)return gn.invalid(T);const I=g?De(s,r,o):u?Le(s):s,[C,O]=qi(I,d,i),M=new gn({ts:C,zone:i,o:O,loc:n});return s.weekday&&p&&e.weekday!==M.weekday?gn.invalid("mismatched weekday",`you can't specify both a weekday of ${s.weekday} and a date of ${M.toISO()}`):M.isValid?M:gn.invalid(M.invalid)}static fromISO(e,t={}){const[i,n]=function(e){return bt(e,[Qt,ni],[ei,si],[ti,ri],[ii,oi])}(e);return Ji(i,n,t,"ISO 8601",e)}static fromRFC2822(e,t={}){const[i,n]=function(e){return bt(function(e){return e.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").trim()}(e),[zt,Zt])}(e);return Ji(i,n,t,"RFC 2822",e)}static fromHTTP(e,t={}){const[i,n]=function(e){return bt(e,[Yt,Xt],[$t,Xt],[qt,Jt])}(e);return Ji(i,n,t,"HTTP",t)}static fromFormat(e,t,i={}){if(ke(e)||ke(t))throw new d("fromFormat requires an input string and a format");const{locale:n=null,numberingSystem:s=null}=i,r=te.fromOpts({locale:n,numberingSystem:s,defaultToEN:!0}),[o,a,l,u]=function(e,t,i){const{result:n,zone:s,specificOffset:r,invalidReason:o}=Wi(e,t,i);return[n,s,r,o]}(r,e,t);return u?gn.invalid(u):Ji(o,a,i,`format ${t}`,e,l)}static fromString(e,t,i={}){return gn.fromFormat(e,t,i)}static fromSQL(e,t={}){const[i,n]=function(e){return bt(e,[li,ni],[di,ui])}(e);return Ji(i,n,t,"SQL",e)}static invalid(e,t=null){if(!e)throw new d("need to specify a reason the DateTime is invalid");const i=e instanceof Ee?e:new Ee(e,t);if(Ae.throwOnInvalid)throw new s(i);return new gn({invalid:i})}static isDateTime(e){return e&&e.isLuxonDateTime||!1}static parseFormatForOpts(e,t={}){const i=Fi(e,te.fromObject(t));return i?i.map((e=>e?e.val:null)).join(""):null}static expandFormat(e,t={}){return Bi(Ct.parseFormat(e),te.fromObject(t)).map((e=>e.val)).join("")}static resetCache(){pn=void 0,_n={}}get(e){return this[e]}get isValid(){return null===this.invalid}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}get outputCalendar(){return this.isValid?this.loc.outputCalendar:null}get zone(){return this._zone}get zoneName(){return this.isValid?this.zone.name:null}get year(){return this.isValid?this.c.year:NaN}get quarter(){return this.isValid?Math.ceil(this.c.month/3):NaN}get month(){return this.isValid?this.c.month:NaN}get day(){return this.isValid?this.c.day:NaN}get hour(){return this.isValid?this.c.hour:NaN}get minute(){return this.isValid?this.c.minute:NaN}get second(){return this.isValid?this.c.second:NaN}get millisecond(){return this.isValid?this.c.millisecond:NaN}get weekYear(){return this.isValid?Ki(this).weekYear:NaN}get weekNumber(){return this.isValid?Ki(this).weekNumber:NaN}get weekday(){return this.isValid?Ki(this).weekday:NaN}get isWeekend(){return this.isValid&&this.loc.getWeekendDays().includes(this.weekday)}get localWeekday(){return this.isValid?zi(this).weekday:NaN}get localWeekNumber(){return this.isValid?zi(this).weekNumber:NaN}get localWeekYear(){return this.isValid?zi(this).weekYear:NaN}get ordinal(){return this.isValid?we(this.c).ordinal:NaN}get monthShort(){return this.isValid?Mi.months("short",{locObj:this.loc})[this.month-1]:null}get monthLong(){return this.isValid?Mi.months("long",{locObj:this.loc})[this.month-1]:null}get weekdayShort(){return this.isValid?Mi.weekdays("short",{locObj:this.loc})[this.weekday-1]:null}get weekdayLong(){return this.isValid?Mi.weekdays("long",{locObj:this.loc})[this.weekday-1]:null}get offset(){return this.isValid?+this.o:NaN}get offsetNameShort(){return this.isValid?this.zone.offsetName(this.ts,{format:"short",locale:this.locale}):null}get offsetNameLong(){return this.isValid?this.zone.offsetName(this.ts,{format:"long",locale:this.locale}):null}get isOffsetFixed(){return this.isValid?this.zone.isUniversal:null}get isInDST(){return!this.isOffsetFixed&&(this.offset>this.set({month:1,day:1}).offset||this.offset>this.set({month:5}).offset)}getPossibleOffsets(){if(!this.isValid||this.isOffsetFixed)return[this];const e=864e5,t=6e4,i=Je(this.c),n=this.zone.offset(i-e),s=this.zone.offset(i+e),r=this.zone.offset(i-n*t),o=this.zone.offset(i-s*t);if(r===o)return[this];const a=i-r*t,l=i-o*t,d=$i(a,r),u=$i(l,o);return d.hour===u.hour&&d.minute===u.minute&&d.second===u.second&&d.millisecond===u.millisecond?[Zi(this,{ts:a}),Zi(this,{ts:l})]:[this]}get isInLeapYear(){return $e(this.year)}get daysInMonth(){return Xe(this.year,this.month)}get daysInYear(){return this.isValid?qe(this.year):NaN}get weeksInWeekYear(){return this.isValid?et(this.weekYear):NaN}get weeksInLocalWeekYear(){return this.isValid?et(this.localWeekYear,this.loc.getMinDaysInFirstWeek(),this.loc.getStartOfWeek()):NaN}resolvedLocaleOptions(e={}){const{locale:t,numberingSystem:i,calendar:n}=Ct.create(this.loc.clone(e),e).resolvedOptions(this);return{locale:t,numberingSystem:i,outputCalendar:n}}toUTC(e=0,t={}){return this.setZone(ne.instance(e),t)}toLocal(){return this.setZone(Ae.defaultZone)}setZone(e,{keepLocalTime:t=!1,keepCalendarTime:i=!1}={}){if((e=re(e,Ae.defaultZone)).equals(this.zone))return this;if(e.isValid){let n=this.ts;if(t||i){const t=e.offset(this.ts),i=this.toObject();[n]=qi(i,t,e)}return Zi(this,{ts:n,zone:e})}return gn.invalid(ji(e))}reconfigure({locale:e,numberingSystem:t,outputCalendar:i}={}){return Zi(this,{loc:this.loc.clone({locale:e,numberingSystem:t,outputCalendar:i})})}setLocale(e){return this.reconfigure({locale:e})}set(e){if(!this.isValid)return this;const t=rt(e,dn),{minDaysInFirstWeek:i,startOfWeek:n}=Re(t,this.loc),s=!ke(t.weekYear)||!ke(t.weekNumber)||!ke(t.weekday),r=!ke(t.ordinal),o=!ke(t.year),l=!ke(t.month)||!ke(t.day),d=o||l,u=t.weekYear||t.weekNumber;if((d||r)&&u)throw new a("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(l&&r)throw new a("Can't mix ordinal dates with month/day");let c;s?c=De({...Se(this.c,i,n),...t},i,n):ke(t.ordinal)?(c={...this.toObject(),...t},ke(t.day)&&(c.day=Math.min(Xe(c.year,c.month),c.day))):c=Le({...we(this.c),...t});const[h,p]=qi(c,this.o,this.zone);return Zi(this,{ts:h,o:p})}plus(e){if(!this.isValid)return this;return Zi(this,Xi(this,Ii.fromDurationLike(e)))}minus(e){if(!this.isValid)return this;return Zi(this,Xi(this,Ii.fromDurationLike(e).negate()))}startOf(e,{useLocaleWeeks:t=!1}={}){if(!this.isValid)return this;const i={},n=Ii.normalizeUnit(e);switch(n){case"years":i.month=1;case"quarters":case"months":i.day=1;case"weeks":case"days":i.hour=0;case"hours":i.minute=0;case"minutes":i.second=0;case"seconds":i.millisecond=0}if("weeks"===n)if(t){const e=this.loc.getStartOfWeek(),{weekday:t}=this;t<e&&(i.weekNumber=this.weekNumber-1),i.weekday=e}else i.weekday=1;if("quarters"===n){const e=Math.ceil(this.month/3);i.month=3*(e-1)+1}return this.set(i)}endOf(e,t){return this.isValid?this.plus({[e]:1}).startOf(e,t).minus(1):this}toFormat(e,t={}){return this.isValid?Ct.create(this.loc.redefaultToEN(t)).formatDateTimeFromString(this,e):Ui}toLocaleString(e=_,t={}){return this.isValid?Ct.create(this.loc.clone(t),e).formatDateTime(this):Ui}toLocaleParts(e={}){return this.isValid?Ct.create(this.loc.clone(e),e).formatDateTimeParts(this):[]}toISO({format:e="extended",suppressSeconds:t=!1,suppressMilliseconds:i=!1,includeOffset:n=!0,extendedZone:s=!1}={}){if(!this.isValid)return null;const r="extended"===e;let o=en(this,r);return o+="T",o+=tn(this,r,t,i,n,s),o}toISODate({format:e="extended"}={}){return this.isValid?en(this,"extended"===e):null}toISOWeekDate(){return Qi(this,"kkkk-'W'WW-c")}toISOTime({suppressMilliseconds:e=!1,suppressSeconds:t=!1,includeOffset:i=!0,includePrefix:n=!1,extendedZone:s=!1,format:r="extended"}={}){if(!this.isValid)return null;return(n?"T":"")+tn(this,"extended"===r,t,e,i,s)}toRFC2822(){return Qi(this,"EEE, dd LLL yyyy HH:mm:ss ZZZ",!1)}toHTTP(){return Qi(this.toUTC(),"EEE, dd LLL yyyy HH:mm:ss 'GMT'")}toSQLDate(){return this.isValid?en(this,!0):null}toSQLTime({includeOffset:e=!0,includeZone:t=!1,includeOffsetSpace:i=!0}={}){let n="HH:mm:ss.SSS";return(t||e)&&(i&&(n+=" "),t?n+="z":e&&(n+="ZZ")),Qi(this,n,!0)}toSQL(e={}){return this.isValid?`${this.toSQLDate()} ${this.toSQLTime(e)}`:null}toString(){return this.isValid?this.toISO():Ui}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`DateTime { ts: ${this.toISO()}, zone: ${this.zone.name}, locale: ${this.locale} }`:`DateTime { Invalid, reason: ${this.invalidReason} }`}valueOf(){return this.toMillis()}toMillis(){return this.isValid?this.ts:NaN}toSeconds(){return this.isValid?this.ts/1e3:NaN}toUnixInteger(){return this.isValid?Math.floor(this.ts/1e3):NaN}toJSON(){return this.toISO()}toBSON(){return this.toJSDate()}toObject(e={}){if(!this.isValid)return{};const t={...this.c};return e.includeConfig&&(t.outputCalendar=this.outputCalendar,t.numberingSystem=this.loc.numberingSystem,t.locale=this.loc.locale),t}toJSDate(){return new Date(this.isValid?this.ts:NaN)}diff(e,t="milliseconds",i={}){if(!this.isValid||!e.isValid)return Ii.invalid("created by diffing an invalid DateTime");const n={locale:this.locale,numberingSystem:this.numberingSystem,...i},s=(a=t,Array.isArray(a)?a:[a]).map(Ii.normalizeUnit),r=e.valueOf()>this.valueOf(),o=bi(r?this:e,r?e:this,s,n);var a;return r?o.negate():o}diffNow(e="milliseconds",t={}){return this.diff(gn.now(),e,t)}until(e){return this.isValid?Oi.fromDateTimes(this,e):this}hasSame(e,t,i){if(!this.isValid)return!1;const n=e.valueOf(),s=this.setZone(e.zone,{keepLocalTime:!0});return s.startOf(t,i)<=n&&n<=s.endOf(t,i)}equals(e){return this.isValid&&e.isValid&&this.valueOf()===e.valueOf()&&this.zone.equals(e.zone)&&this.loc.equals(e.loc)}toRelative(e={}){if(!this.isValid)return null;const t=e.base||gn.fromObject({},{zone:this.zone}),i=e.padding?this<t?-e.padding:e.padding:0;let n=["years","months","days","hours","minutes","seconds"],s=e.unit;return Array.isArray(e.unit)&&(n=e.unit,s=void 0),cn(t,this.plus(i),{...e,numeric:"always",units:n,unit:s})}toRelativeCalendar(e={}){return this.isValid?cn(e.base||gn.fromObject({},{zone:this.zone}),this,{...e,numeric:"auto",units:["years","months","days"],calendary:!0}):null}static min(...e){if(!e.every(gn.isDateTime))throw new d("min requires all arguments be DateTimes");return We(e,(e=>e.valueOf()),Math.min)}static max(...e){if(!e.every(gn.isDateTime))throw new d("max requires all arguments be DateTimes");return We(e,(e=>e.valueOf()),Math.max)}static fromFormatExplain(e,t,i={}){const{locale:n=null,numberingSystem:s=null}=i;return Wi(te.fromOpts({locale:n,numberingSystem:s,defaultToEN:!0}),e,t)}static fromStringExplain(e,t,i={}){return gn.fromFormatExplain(e,t,i)}static buildFormatParser(e,t={}){const{locale:i=null,numberingSystem:n=null}=t,s=te.fromOpts({locale:i,numberingSystem:n,defaultToEN:!0});return new Hi(s,e)}static fromFormatParser(e,t,i={}){if(ke(e)||ke(t))throw new d("fromFormatParser requires an input string and a format parser");const{locale:n=null,numberingSystem:s=null}=i,r=te.fromOpts({locale:n,numberingSystem:s,defaultToEN:!0});if(!r.equals(t.locale))throw new d(`fromFormatParser called with a locale of ${r}, but the format parser was created for ${t.locale}`);const{result:o,zone:a,specificOffset:l,invalidReason:u}=t.explainFromTokens(e);return u?gn.invalid(u):Ji(o,a,i,`format ${t.format}`,e,l)}static get DATE_SHORT(){return _}static get DATE_MED(){return g}static get DATE_MED_WITH_WEEKDAY(){return f}static get DATE_FULL(){return m}static get DATE_HUGE(){return v}static get TIME_SIMPLE(){return A}static get TIME_WITH_SECONDS(){return E}static get TIME_WITH_SHORT_OFFSET(){return T}static get TIME_WITH_LONG_OFFSET(){return I}static get TIME_24_SIMPLE(){return C}static get TIME_24_WITH_SECONDS(){return O}static get TIME_24_WITH_SHORT_OFFSET(){return M}static get TIME_24_WITH_LONG_OFFSET(){return y}static get DATETIME_SHORT(){return b}static get DATETIME_SHORT_WITH_SECONDS(){return S}static get DATETIME_MED(){return D}static get DATETIME_MED_WITH_SECONDS(){return w}static get DATETIME_MED_WITH_WEEKDAY(){return L}static get DATETIME_FULL(){return R}static get DATETIME_FULL_WITH_SECONDS(){return P}static get DATETIME_HUGE(){return N}static get DATETIME_HUGE_WITH_SECONDS(){return k}}function fn(e){if(gn.isDateTime(e))return e;if(e&&e.valueOf&&xe(e.valueOf()))return gn.fromJSDate(e);if(e&&"object"==typeof e)return gn.fromObject(e);throw new d(`Unknown datetime argument: ${e}, of type ${typeof e}`)}const mn="3.5.0"},8330:e=>{"use strict";e.exports=JSON.parse('{"name":"ig-charts","version":"1.3129.0","description":"Charts","main":"main.js","devDependencies":{"@aws-sdk/client-cloudfront":"^3.425.0","@aws-sdk/client-s3":"^3.425.0","@aws-sdk/client-sts":"^3.624.0","@aws-sdk/node-http-handler":"^3.374.0","@babel/preset-env":"^7.23.2","@ig-phoenix/media-queries":"^1.2.0","@ig/browserslist-config":"latest","@reedsy/istanbul-instrumenter-loader":"github:reedsy/istanbul-instrumenter-loader#3.0.5","@svgr/webpack":"^8.0.0","@testing-library/jest-dom":"5.16.5","@testing-library/react":"13.4.0","@testing-library/user-event":"14.4.3","@types/chai":"4.3.4","@types/chai-as-promised":"^7.1.5","@types/cucumber":"^6.0.1","@types/d3-ease":"1.0.8","@types/d3-scale":"2.1.1","@types/d3-selection":"1.4.1","@types/d3-selection-multi":"1.0.7","@types/d3-shape":"1.3.1","@types/dom-inputevent":"1.0.5","@types/jest":"29.5.10","@types/jquery":"^3.3.38","@types/less":"^3.0.3","@types/lodash":"4.14.138","@types/luxon":"latest","@types/md5":"^2.3.2","@types/mocha":"5.2.7","@types/node":"10.14.0","@types/react":"18.2.0","@types/react-dom":"18.2.0","@types/sinon":"^17.0.0","@types/styled-components":"5.1.26","@types/web":"^0.0.88","@typescript-eslint/eslint-plugin":"5.59.1","@typescript-eslint/parser":"5.59.1","async":"2.6.1","babel-jest":"^29.7.0","babel-plugin-transform-decorators-legacy":"^1.3.5","bowser":"2.4.0","chai":"4.2.0","chai-as-promised":"^7.1.1","code-stats":"^0.3.1","core-js":"^3.0.0","cors":"^2.8.5","css-loader":"^7.0.0","css-reset":"0.0.1","cssnano":"^7.0.0","d3-ease":"1.0.5","d3-interpolate":"1.3.2","d3-scale":"2.2.2","d3-selection":"1.4.0","d3-selection-multi":"1.0.1","d3-shape":"1.3.5","d3-transition":"1.2.0","eslint":"7.32.0","eslint-plugin-es5":"1.4.1","eslint-plugin-jest":"27.9.0","eslint-plugin-jest-dom":"5.1.0","eslint-plugin-mocha":"6.2.2","eslint-plugin-no-async":"^1.0.0","eslint-plugin-react":"7.32.2","eslint-plugin-react-hooks":"4.6.0","eventemitter3":"2.0.3","fork-ts-checker-webpack-plugin":"^9.0.0","grunt":"1.0.4","grunt-cli":"1.3.2","grunt-contrib-clean":"2.0.0","grunt-eslint":"22.0.0","hpagent":"^1.0.0","html-webpack-plugin":"^5.0.0","http-proxy-middleware":"^3.0.0","ig-fonts":"1.2.0","ig-import-map":"^4.3.0","ig-menu":"1.57.0","ig-trading":"^80.6.0","ig-webpack-cucumber-runner":"^3.0.0","jest":"29.7.0","jest-environment-jsdom":"29.7.0","jest-html-loader":"^1.0.0","jest-mock-extended":"3.0.5","jquery":"2.1.4","karma":"^6.0.0","karma-chrome-launcher":"^3.0.0","karma-coverage-istanbul-reporter":"3.0.3","karma-junit-reporter":"2.0.1","karma-mocha":"^2.0.0","karma-mocha-reporter":"^2.0.0","karma-sourcemap-loader":"0.4.0","karma-webpack":"^5.0.0","less":"^4.0.0","less-loader":"^12.0.0","lighthouse":"^9.6.8","lodash":"4.17.21","luxon":"^3.0.0","md5":"2.3.0","mini-css-extract-plugin":"^2.0.0","mocha":"^8.4.0","modernizr":"^3.0.0","postcss":"^8.0.0","postcss-combine-duplicated-selectors":"^10.0.0","postcss-less":"^6.0.0","postcss-loader":"^8.0.0","postcss-merge-selectors":"^0.0.6","postcss-preset-env":"^10.0.0","react":"18.2.0","react-dom":"18.2.0","rsvp":"4.8.4","s3-sync-client":"^4.3.1","semver":"^7.3.7","sinon":"^18.0.0","style-loader":"^4.0.0","styled-components":"5.3.9","styled-system":"5.1.5","stylelint":"^14.15.0","stylelint-config-recommended-less":"^1.0.4","ts-jest":"29.1.1","ts-loader":"^9.0.0","ts-node":"^10.9.1","tslib":"^2.0.0","typescript":"5.0.4","val-loader":"^6.0.0","webdriverio":"7.25.0","webpack":"^5.0.0","webpack-cli":"^5.0.0","webpack-dev-middleware":"^7.0.0","webpack-merge":"^6.0.0","webpack-plugin-corejs":"^0.2.1","webpack-subresource-integrity":"^5.0.0","wt-dealing-rest-jsclient":"3.27.0","wt-fe-ajax":"1.7.0","wt-fe-clientstreaming-nativestreaming":"1.20.0-snapshot.1500468474486","wt-fe-clientstreaming-streaming":"1.20.0-snapshot.1500468471748","wt-fe-nativeinterop":"1.17.0-snapshot.1560179738176"},"engines":{"node":">=16.13.1"},"browserslist":["extends @ig/browserslist-config/browsers/desktop","extends @ig/browserslist-config/browsers/mobile","extends @ig/browserslist-config/webviews/android","extends @ig/browserslist-config/webviews/ios"],"scripts":{"setup":"npm ci","postinstall":"node check-node-version.js","prepublish":"grunt bootstrap","build":"node build/build.js","start":"build/cert/add-local-dev-cert.sh && node build/viewer.js","start:wtp":"build/cert/add-local-dev-cert.sh && node build/viewer/wtp.js","test":"grunt test","utest":"grunt utest","ctest":"jest","itest":"grunt itest","atest":"grunt atest","atest:desktop":"grunt atest:desktop","atest:mobile":"grunt atest:mobile","atest:igDesktopPublic":"ig-webpack-cucumber-runner flavour/ig/desktop/public/test/acceptance/webpack.acceptance.js","atest:igDesktopAnalysis":"ig-webpack-cucumber-runner flavour/ig/desktop/analysis/test/acceptance/webpack.acceptance.js","atest:igMobileAnalysis":"ig-webpack-cucumber-runner flavour/ig/mobile/analysis/test/acceptance/webpack.acceptance.js","atest:igScreener":"ig-webpack-cucumber-runner flavour/ig/screener/test/acceptance/webpack.acceptance.js","mtest":"grunt mtest","perf":"node test/perf-main.js","utest:coverage":"grunt utest:coverage","itest:coverage":"grunt itest:coverage","atest:desktopCoverage":"grunt atest:desktopCoverage","atest:mobileCoverage":"grunt atest:mobileCoverage","generate-coverage-report":"ig-webpack-cucumber-runner generate-report .nyc_output target/reports/coverage/acceptance && rm -rf .nyc_output","lint:less":"npx stylelint \\"**/*.less\\"","lint:js":"grunt eslint","lint:fix":"grunt eslint --fix","lint":"npm run lint:js && npm run lint:less","lighthouse":"node build/tests/lighthouse.js --destination=./lighthouse-report.json","tsStats":"code-stats --types-only \'js ts\' --exclude \'test/*\' module flavour container","tsStats:withTests":"code-stats --types-only \'js ts\' module flavour container"},"repository":{"type":"git","url":"https://git.iggroup.local/scm/hc/html-charts.git","ssh":"ssh://git.iggroup.local:7999/hc/html-charts.git"},"files":["/main.js","/check-node-version.js","/target/build/distribution/chartsIgDesktopPublic","/target/build/distribution/chartsIgMobilePwa"]}')}},__webpack_module_cache__={};function __webpack_require__(e){var t=__webpack_module_cache__[e];if(void 0!==t)return t.exports;var i=__webpack_module_cache__[e]={exports:{}};return __webpack_modules__[e](i,i.exports,__webpack_require__),i.exports}__webpack_require__.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return __webpack_require__.d(t,{a:t}),t},__webpack_require__.d=(e,t)=>{for(var i in t)__webpack_require__.o(t,i)&&!__webpack_require__.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})},__webpack_require__.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),__webpack_require__.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},__webpack_require__.nc=void 0;var __webpack_exports__={};return(()=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{CHART_CONFIGURATION:()=>t.default,IgDesktopAnalysisApi:()=>i.A,info:()=>n});var e={};(window.HTMLElement||window.Element)&&function(){if(!window.PointerEvent){Array.prototype.indexOf||(Array.prototype.indexOf=function(e){var t=Object(this),i=t.length>>>0;if(0===i)return-1;var n=0;if(arguments.length>0&&((n=Number(arguments[1]))!=n?n=0:0!=n&&n!=1/0&&n!=-1/0&&(n=(n>0||-1)*Math.floor(Math.abs(n)))),n>=i)return-1;for(var s=n>=0?n:Math.max(i-Math.abs(n),0);s<i;s++)if(s in t&&t[s]===e)return s;return-1}),Array.prototype.forEach||(Array.prototype.forEach=function(e,t){if(!(this&&e instanceof Function))throw new TypeError;for(var i=0;i<this.length;i++)e.call(t,this[i],i,this)}),String.prototype.trim||(String.prototype.trim=function(){return this.replace(/^\s+|\s+$/,"")});var t=["pointerdown","pointerup","pointermove","pointerover","pointerout","pointercancel","pointerenter","pointerleave"],i=["PointerDown","PointerUp","PointerMove","PointerOver","PointerOut","PointerCancel","PointerEnter","PointerLeave"],n="touch",s="mouse",r={},o=function(e){for(;e&&!e.handjs_forcePreventDefault;)e=e.parentNode;return!!e||window.handjs_forcePreventDefault},a=function(e,t,i,r,o){var a;if(document.createEvent?(a=document.createEvent("MouseEvents")).initMouseEvent(t,i,!0,window,1,e.screenX,e.screenY,e.clientX,e.clientY,e.ctrlKey,e.altKey,e.shiftKey,e.metaKey,e.button,o||e.relatedTarget):((a=document.createEventObject()).screenX=e.screenX,a.screenY=e.screenY,a.clientX=e.clientX,a.clientY=e.clientY,a.ctrlKey=e.ctrlKey,a.altKey=e.altKey,a.shiftKey=e.shiftKey,a.metaKey=e.metaKey,a.button=e.button,a.relatedTarget=o||e.relatedTarget),void 0===a.offsetX&&(void 0!==e.offsetX?(Object&&void 0!==Object.defineProperty&&(Object.defineProperty(a,"offsetX",{writable:!0}),Object.defineProperty(a,"offsetY",{writable:!0})),a.offsetX=e.offsetX,a.offsetY=e.offsetY):Object&&void 0!==Object.defineProperty?(Object.defineProperty(a,"offsetX",{get:function(){return this.currentTarget&&this.currentTarget.offsetLeft?e.clientX-this.currentTarget.offsetLeft:e.clientX}}),Object.defineProperty(a,"offsetY",{get:function(){return this.currentTarget&&this.currentTarget.offsetTop?e.clientY-this.currentTarget.offsetTop:e.clientY}})):void 0!==e.layerX&&(a.offsetX=e.layerX-e.currentTarget.offsetLeft,a.offsetY=e.layerY-e.currentTarget.offsetTop)),void 0!==e.isPrimary?a.isPrimary=e.isPrimary:a.isPrimary=!0,e.pressure)a.pressure=e.pressure;else{var l=0;void 0!==e.which?l=e.which:void 0!==e.button&&(l=e.button),a.pressure=0==l?0:.5}if(e.rotation?a.rotation=e.rotation:a.rotation=0,e.hwTimestamp?a.hwTimestamp=e.hwTimestamp:a.hwTimestamp=0,e.tiltX?a.tiltX=e.tiltX:a.tiltX=0,e.tiltY?a.tiltY=e.tiltY:a.tiltY=0,e.height?a.height=e.height:a.height=0,e.width?a.width=e.width:a.width=0,a.preventDefault=function(){void 0!==e.preventDefault&&e.preventDefault()},void 0!==a.stopPropagation){var d=a.stopPropagation;a.stopPropagation=function(){void 0!==e.stopPropagation&&e.stopPropagation(),d.call(this)}}switch(a.pointerId=e.pointerId,a.pointerType=e.pointerType,a.pointerType){case 2:a.pointerType=n;break;case 3:a.pointerType="pen";break;case 4:a.pointerType=s}r?r.dispatchEvent(a):e.target?e.target.dispatchEvent(a):e.srcElement.fireEvent("on"+p(t),a)},l=function(e,t,i,n,r){e.pointerId=1,e.pointerType=s,a(e,t,i,n,r)},d=function(e,t,i,s,r,o){var l=t.identifier+2;t.pointerId=l,t.pointerType=n,t.currentTarget=i,void 0!==s.preventDefault&&(t.preventDefault=function(){s.preventDefault()}),a(t,e,r,i,o)},u=function(e,t){return e.__handjsGlobalRegisteredEvents&&e.__handjsGlobalRegisteredEvents[t]},c=function(e,t){for(;e&&!u(e,t);)e=e.parentNode;return e||(u(window,t)?window:void 0)},h=function(e,t,i,n,s,r){c(i,e)&&d(e,t,i,n,s,r)},p=function(e){return e.toLowerCase().replace("pointer","mouse")},_=function(e,n){var s=t.indexOf(n);return e+i[s]},g=function(e,t,i){if(e.__handjsGlobalRegisteredEvents||(e.__handjsGlobalRegisteredEvents=[]),i){if(void 0!==e.__handjsGlobalRegisteredEvents[t])return void e.__handjsGlobalRegisteredEvents[t]++;e.__handjsGlobalRegisteredEvents[t]=1}else void 0!==e.__handjsGlobalRegisteredEvents[t]&&(e.__handjsGlobalRegisteredEvents[t]--,e.__handjsGlobalRegisteredEvents[t]<0&&(e.__handjsGlobalRegisteredEvents[t]=0));var n,s;switch(window.MSPointerEvent?(n=function(e){return _("MS",e)},s=a):(n=p,s=l),t){case"pointerenter":case"pointerleave":var r=n(t);void 0!==e["on"+r.toLowerCase()]&&function(e,t,i,n){if(void 0===e.__handjsRegisteredEvents&&(e.__handjsRegisteredEvents=[]),n){if(void 0!==e.__handjsRegisteredEvents[t])return void e.__handjsRegisteredEvents[t]++;e.__handjsRegisteredEvents[t]=1,e.addEventListener(t,i,!1)}else{if(-1!==e.__handjsRegisteredEvents.indexOf(t)&&(e.__handjsRegisteredEvents[t]--,0!=e.__handjsRegisteredEvents[t]))return;e.removeEventListener(t,i),e.__handjsRegisteredEvents[t]=0}}(e,r,(function(e){s(e,t)}),i)}},f=function(e){var i=e.prototype?e.prototype.addEventListener:e.addEventListener,n=function(e,n,s){-1!=t.indexOf(e)&&g(this,e,!0),void 0===i?this.attachEvent("on"+p(e),n):i.call(this,e,n,s)};e.prototype?e.prototype.addEventListener=n:e.addEventListener=n},m=function(e){var i=e.prototype?e.prototype.removeEventListener:e.removeEventListener,n=function(e,n,s){-1!=t.indexOf(e)&&g(this,e,!1),void 0===i?this.detachEvent(p(e),n):i.call(this,e,n,s)};e.prototype?e.prototype.removeEventListener=n:e.removeEventListener=n};f(window),f(window.HTMLElement||window.Element),f(document),f(HTMLBodyElement),f(HTMLDivElement),f(HTMLImageElement),f(HTMLUListElement),f(HTMLAnchorElement),f(HTMLLIElement),f(HTMLTableElement),window.HTMLSpanElement&&f(HTMLSpanElement),window.HTMLCanvasElement&&f(HTMLCanvasElement),window.SVGElement&&f(SVGElement),m(window),m(window.HTMLElement||window.Element),m(document),m(HTMLBodyElement),m(HTMLDivElement),m(HTMLImageElement),m(HTMLUListElement),m(HTMLAnchorElement),m(HTMLLIElement),m(HTMLTableElement),window.HTMLSpanElement&&m(HTMLSpanElement),window.HTMLCanvasElement&&m(HTMLCanvasElement),window.SVGElement&&m(SVGElement);var v=!1,A=-1;window.MSPointerEvent?M((function(e){return _("MS",e)}),a):(M(p,l),void 0!==window.ontouchstart&&(window.addEventListener("touchstart",(function(e){for(var t=0;t<e.changedTouches.length;++t){var i=e.changedTouches[t];r[i.identifier]=i.target,h("pointerover",i,i.target,e,!0),C(i.target,null,(function(t){d("pointerenter",i,t,e,!1)})),h("pointerdown",i,i.target,e,!0)}E()})),window.addEventListener("touchend",(function(e){for(var t=0;t<e.changedTouches.length;++t){var i=e.changedTouches[t],n=r[i.identifier];h("pointerup",i,n,e,!0),h("pointerout",i,n,e,!0),O(n,null,(function(t){d("pointerleave",i,t,e,!1)}))}E()})),window.addEventListener("touchmove",(function(e){for(var t=0;t<e.changedTouches.length;++t){var i=e.changedTouches[t],n=document.elementFromPoint(i.clientX,i.clientY),s=r[i.identifier];s&&!0===o(s)&&e.preventDefault(),h("pointermove",i,s,e,!0),s!==n&&(s&&(h("pointerout",i,s,e,!0,n),s.contains(n)||O(s,n,(function(t){d("pointerleave",i,t,e,!1,n)}))),n&&(h("pointerover",i,n,e,!0,s),n.contains(s)||C(n,s,(function(t){d("pointerenter",i,t,e,!1,s)}))),r[i.identifier]=n)}E()})),window.addEventListener("touchcancel",(function(e){for(var t=0;t<e.changedTouches.length;++t){var i=e.changedTouches[t];h("pointercancel",i,r[i.identifier],e,!0)}})))),void 0===navigator.pointerEnabled&&(navigator.pointerEnabled=!0,navigator.msPointerEnabled&&(navigator.maxTouchPoints=navigator.msMaxTouchPoints)),document.styleSheets&&document.addEventListener&&document.addEventListener("DOMContentLoaded",(function(){if(!e.doNotProcessCSS&&void 0===document.body.style.touchAction){var t=new RegExp(".+?{.*?}","m"),i=new RegExp(".+?{","m"),n=function(e){var n=t.exec(e);if(n){var s=n[0];e=e.replace(s,"").trim();var r=i.exec(s)[0].replace("{","").trim();if(-1!=s.replace(/\s/g,"").indexOf("touch-action:none"))for(var o=document.querySelectorAll(r),a=0;a<o.length;a++){var l=o[a];void 0!==l.style.msTouchAction?l.style.msTouchAction="none":l.handjs_forcePreventDefault=!0}return e}},s=function(e){if(window.setImmediate)e&&window.setImmediate(s,n(e));else for(;e;)e=n(e)};try{for(var r=0;r<document.styleSheets.length;r++){var o=document.styleSheets[r];if(null!=o.href){var a=new XMLHttpRequest;a.open("get",o.href),a.send();var l=a.responseText.replace(/(\n|\r)/g,"");s(l)}}}catch(c){}var d=document.getElementsByTagName("style");for(r=0;r<d.length;r++){var u=d[r].innerHTML.replace(/(\n|\r)/g,"").trim();s(u)}}}),!1)}function E(){v=!0,clearTimeout(A),A=setTimeout((function(){v=!1}),700)}function T(e){var t=[];if(e)for(t.unshift(e);e.parentNode;)t.unshift(e.parentNode),e=e.parentNode;return t}function I(e,t){for(var i=T(e),n=T(t),s=null;i.length>0&&i[0]==n.shift();)s=i.shift();return s}function C(e,t,i){for(var n=I(e,t),s=e,r=[];s&&s!=n;)u(s,"pointerenter")&&r.push(s),s=s.parentNode;for(;r.length>0;)i(r.pop())}function O(e,t,i){for(var n=I(e,t),s=e;s&&s!=n;)u(s,"pointerleave")&&i(s),s=s.parentNode}function M(e,t){["pointerdown","pointermove","pointerup","pointerover","pointerout"].forEach((function(i){var n=e(i);window.addEventListener(n,(function(e){!v&&c(e.target,i)&&e.type===n&&t(e,i,!0)}))})),void 0===window["on"+e("pointerenter").toLowerCase()]&&window.addEventListener(e("pointerover"),(function(e){if(!v){var i=c(e.target,"pointerenter");i&&i!==window&&(i.contains(e.relatedTarget)||C(i,e.relatedTarget,(function(i){t(e,"pointerenter",!1,i,e.relatedTarget)})))}})),void 0===window["on"+e("pointerleave").toLowerCase()]&&window.addEventListener(e("pointerout"),(function(e){if(!v){var i=c(e.target,"pointerleave");i&&i!==window&&(i.contains(e.relatedTarget)||O(i,e.relatedTarget,(function(i){t(e,"pointerleave",!1,i,e.relatedTarget)})))}}))}}();__webpack_require__(5738),__webpack_require__(14089);var t=__webpack_require__(56750),i=__webpack_require__(24660),n={version:__webpack_require__(8330).version}})(),__webpack_exports__})())}}}));